BUG REPORT COMMENTS:
Against I20050623-2000.

Create a new plug-in project.  Do _not_ allow Eclipse to generate a Plugin
class, and do not use a template.

Add the single dependency org.eclipse.ui.workbench to the new plug-in, and
create this class:

package foo;

import org.eclipse.ui.PlatformUI;

public class Foo {
	private void bar() {
		PlatformUI.getWorkbench().
	}
}

Invoke code assist after the dot.  Nothing at all is reported.  However,
completing the expression with "close();" does compile.

The problem appears to be that by not depending on org.eclipse.core.runtime, the
new plug-in can't see the superinterface IAdaptable of IWorkbench.  But this
doesn't appear to be a problem for the compiler.

Created an attachment (id=102371)
Proposed fix

Some super classes of the completed receiver are not on the classpath so when completion proposals inference try to resolve super classes then a problem is detected. In proposals inference this.lookupEnvironment.unitBeingCompleted is null so an AbortCompilation is thrown when proble

