BUG REPORT COMMENTS:
Build 3.2.1

Errors presented for this testcase (all in one file) are totally confusing.
In particular, all correct types are underlined in red, though they are ok, and only missing token is last class name.

interface Irrelevant {}
interface I {
Object foo(Number n);
}
interface J extends I {
String foo(Number n);
}
interface K {
Object foo(Number n);
}
public class {
void foo() {

}
}
Created an attachment (id=52649)
Proposed fix


Released for 3.3 M3.

Tests added
  DietRecoveryTest#test118() -> test119()

The class without name is ignored by th recovery and the method inside is added to the last type of the compilation unit K. the } of K is considered as an initiliazer.
There is two problems:
- the position of this initializer isn't correct
- the initializer must not be added inside an interface
Verified for 3.3 M3 using warm-up build I20061030-0800

