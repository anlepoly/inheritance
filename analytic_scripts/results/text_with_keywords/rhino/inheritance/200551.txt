BUG REPORT COMMENTS:
User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.2) Gecko/20021126
Build Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.2) Gecko/20021126

In my app I execute some javascript files, they use the constructor JavaAdapter
to load and extend java clases, some of them abstract clases extended in
javascript code. If I run my app this way:

java -cp js.jar;myapp.jar myapp.Main

everythigs work ok, but when I put js.jar on the jre/lib/ext directory, and execute

java -jar myapp.jar

when my code is trying to execute the javascript file I get an error on the line:
new JavaAdapter(...);

The error is:

TypeError: expected java class object
(jar:file:/C:/Work/Eclipse/docgen.jar!/com/prospectiva/templates/poder_general.js;
line 547)
        at org.mozilla.javascript.NativeGlobal.constructError(NativeGlobal.java:597)
        at org.mozilla.javascript.NativeGlobal.constructError(NativeGlobal.java:557)
        at org.mozilla.javascript.JavaAdapter.jsConstructor(JavaAdapter.java:100)
 

