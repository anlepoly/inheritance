BUG REPORT COMMENTS:
User-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_7; en-gb) AppleWebKit/530.18 (KHTML, like Gecko) Version/4.0.1 Safari/530.18
Build Identifier: Rhino 1.7 release 2 2009 03 22

As per 15.5.4.20 of the spec

Reproducible: Always

Update to String.trim, making it remove <NBSP>, <BOM>, <LS> and <PS> as well as conventional whitespace chars
>diff --git a/src/org/mozilla/javascript/NativeString.java b/src/org/mozilla/javascript/NativeString.java
>index 7997275..be9aab3 100644
>--- a/src/org/mozilla/javascript/NativeString.java
>+++ b/src/org/mozilla/javascript/NativeString.java
>@@ -152,7 +152,7 @@ final class NativeString extends IdScriptableObject
>         addIdFunctionProperty(ctor, STRING_TAG,
>                 ConstructorId_toLocaleLowerCase, "toLocaleLowerCase", 1);
>         addIdFunctionProperty(ctor, STRING_TAG,
>-                ConstructorId_fromCharCode, "fromCharCode", 1);
>+                ConstructorId_trim, "trim", 0);

Good you spotted that fromCharCode was in here twice. 

I don't

