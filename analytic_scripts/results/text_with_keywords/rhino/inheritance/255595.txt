BUG REPORT COMMENTS:
Problem: 

To setup instruction counting or to override Context.FEATURE_* Rhino embedding
should subclass Context and then pass it explicitly to Context.enter to
associate it with the current thread. Unfortunately it does not work with
JavaAdapter which calls Context.enter() in response to Java calls. If there is
no Context instance associated with current thread, that would trigger use of
default Context ignoring application wish for customization.

Solution: 

A factory class that can be provided to Rhino runtime which will be used for
Context creation.
The initial implementation of factory API in the form of
http://lxr.mozilla.org/mozilla/source/js/rhino/src/org/mozilla/javascript/ContextFactory.java
was committed during spring 2004. The implementation not only allows for full
customization of Context instances but also provide a way to run several
independent Rhino run times in one JVM. 

The current implementation of ContextFactory introduced a couple of
compatibility problems:

1. It started to require 

