<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>385727</bug_id>
          
          <creation_ts>2012-07-23 09:21:00 -0400</creation_ts>
          <short_desc>./org.eclipse.mylyn.docs/org.eclipse.mylyn.docs.epub.tests should not override target platform</short_desc>
          <delta_ts>2012-08-03 03:12:47 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Docs</product>
          <component>EPUB</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>1.8.0</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Torkild Resheim">torkildr</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2140129</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-07-23 09:21:10 -0400</bug_when>
    <thetext>I noticed that org.eclipse.mylyn.docs/org.eclipse.mylyn.docs.epub.tests/pom.xml hard codes the target platform to Indigo. What is the reason for that?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2140171</commentid>
    <comment_count>1</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-07-23 09:59:39 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; I noticed that org.eclipse.mylyn.docs/org.eclipse.mylyn.docs.epub.tests/pom.xml
&gt; hard codes the target platform to Indigo. What is the reason for that?
Probably my ignorance when copying a pom.xml from somewhere else. I&apos;ll have a look.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2140417</commentid>
    <comment_count>2</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-07-23 16:03:28 -0400</bug_when>
    <thetext>Fixed in Change-Id: I0434b82efdfa6f4851473e7a23b8696f7e5bfba1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2140481</commentid>
    <comment_count>3</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-07-23 17:13:58 -0400</bug_when>
    <thetext>Build was broken.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2140506</commentid>
    <comment_count>4</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-07-23 18:30:41 -0400</bug_when>
    <thetext>Fixed in Change-Id: Ibfaa34ac61b9aaac2c1a9b93db2ba4900a4ea8f4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2142869</commentid>
    <comment_count>5</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-07-28 04:22:35 -0400</bug_when>
    <thetext>It looks the build is now failing on Galileo and Helios:

http://ci.mylyn.org/job/mylyn-3.9.x/4/TARGET=helios/console

/home/hudson/.hudson/jobs/mylyn-3.9.x/workspace/TARGET/helios/org.eclipse.mylyn.docs/org.eclipse.mylyn.docs.epub.tests/pom.xml
[INFO] Cannot complete the request.  Generating details.
[INFO] Cannot complete the request.  Generating details.
[INFO] {osgi.ws=cocoa, osgi.os=macosx, osgi.arch=x86, org.eclipse.update.install.features=true}
[ERROR] Cannot resolve project dependencies:
[ERROR]   Software being installed: org.eclipse.mylyn.docs.epub.tests 1.1.0.qualifier
[ERROR]   Missing requirement: org.eclipse.mylyn.docs.epub.tests 1.1.0.qualifier requires &apos;bundle org.apache.ant.source 1.8.0&apos; but it could not be found
[ERROR] 
[INFO] o.h.m.e.h.MavenExecutionResultHandler - Build failed with exception(s)
[INFO] o.h.m.e.h.MavenExecutionResultHandler - [1] org.apache.maven.InternalErrorException: Internal error: java.lang.RuntimeException: &quot;No solution found because the problem is unsatisfiable.&quot;: [&quot;Unable to satisfy dependency from org.eclipse.mylyn.docs.epub.tests 1.1.0.qualifier to bundle org.apache.ant.source 1.8.0.&quot;, &quot;No solution found because the problem is unsatisfiable.&quot;]

Does org.eclipse.mylyn.docs.epub.tests indeed require ant  source 1.8.0 as specified in the MANIFEST? We don&apos;t include source bundles in the targets by default we could add that if needed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2142871</commentid>
    <comment_count>6</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-07-28 04:47:25 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; It looks the build is now failing on Galileo and Helios:
&gt; 
&gt; http://ci.mylyn.org/job/mylyn-3.9.x/4/TARGET=helios/console
&gt; 
&gt; /home/hudson/.hudson/jobs/mylyn-3.9.x/workspace/TARGET/helios/org.eclipse.
&gt; mylyn.docs/org.eclipse.mylyn.docs.epub.tests/pom.xml
&gt; [INFO] Cannot complete the request.  Generating details.
&gt; [INFO] Cannot complete the request.  Generating details.
&gt; [INFO] {osgi.ws=cocoa, osgi.os=macosx, osgi.arch=x86,
&gt; org.eclipse.update.install.features=true}
&gt; [ERROR] Cannot resolve project dependencies:
&gt; [ERROR]   Software being installed: org.eclipse.mylyn.docs.epub.tests
&gt; 1.1.0.qualifier
&gt; [ERROR]   Missing requirement: org.eclipse.mylyn.docs.epub.tests
&gt; 1.1.0.qualifier requires &apos;bundle org.apache.ant.source 1.8.0&apos; but it could
&gt; not be found
&gt; [ERROR] 
&gt; [INFO] o.h.m.e.h.MavenExecutionResultHandler - Build failed with exception(s)
&gt; [INFO] o.h.m.e.h.MavenExecutionResultHandler - [1]
&gt; org.apache.maven.InternalErrorException: Internal error:
&gt; java.lang.RuntimeException: &quot;No solution found because the problem is
&gt; unsatisfiable.&quot;: [&quot;Unable to satisfy dependency from
&gt; org.eclipse.mylyn.docs.epub.tests 1.1.0.qualifier to bundle
&gt; org.apache.ant.source 1.8.0.&quot;, &quot;No solution found because the problem is
&gt; unsatisfiable.&quot;]
&gt; 
&gt; Does org.eclipse.mylyn.docs.epub.tests indeed require ant  source 1.8.0 as
&gt; specified in the MANIFEST? We don&apos;t include source bundles in the targets by
&gt; default we could add that if needed.
Thanks for noticing Steffen. Yes, the bundle is required for the Ant task tests. It contains org.apache.tools.ant.BuildFileTest which extends org.junit.TestCase.

The tests are currently disabled as I could not get them to run on properly on Hudson. However I&apos;ve not removed the test source code as I would very much like those tests to execute some time in the future.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2143821</commentid>
    <comment_count>7</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-08-01 04:37:09 -0400</bug_when>
    <thetext>I guess we can get around this; at least temporary by making the dependency optional.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2143832</commentid>
    <comment_count>8</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-08-01 05:02:59 -0400</bug_when>
    <thetext>I can also try adding the source bundle to the targets. I just wanted to check if sources were actually needed. I&apos;ll try it and let you know how it goes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2144545</commentid>
    <comment_count>9</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-08-02 17:19:10 -0400</bug_when>
    <thetext>Looks like that worked.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2144602</commentid>
    <comment_count>10</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-08-03 03:12:47 -0400</bug_when>
    <thetext>Thanks Steffen, now I can have a look at fixing those Ant task tests (bug 386538).</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>