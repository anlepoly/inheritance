<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>388901</bug_id>
          
          <creation_ts>2012-09-05 23:24:00 -0400</creation_ts>
          <short_desc>[e3.5] org.eclipse.mylyn.docs.epub.core does not compile on Eclipse 3.5</short_desc>
          <delta_ts>2012-09-16 03:22:06 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Docs</product>
          <component>EPUB</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>1.8.0</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>torkildr</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2156631</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-09-05 23:24:52 -0400</bug_when>
    <thetext>It looks like the generated code is using a method that is not available in the EMF version that ships with Galileo.

http://ci.mylyn.org/job/mylyn-3.9.x/TARGET=galileo/9/console

[INFO] o.h.m.e.h.MavenExecutionResultHandler - Build failed with exception(s)
[INFO] o.h.m.e.h.MavenExecutionResultHandler - [1] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.eclipse.tycho:tycho-compiler-plugin:0.15.0:compile (default-compile) on project org.eclipse.mylyn.docs.epub.core: Compilation failure
[DEBUG] Closing connection to remote
[ERROR] Failed to execute goal org.eclipse.tycho:tycho-compiler-plugin:0.15.0:compile (default-compile) on project org.eclipse.mylyn.docs.epub.core: Compilation failure: Compilation failure:
[ERROR] /home/hudson/.hudson/jobs/mylyn-3.9.x/workspace/TARGET/galileo/org.eclipse.mylyn.docs/org.eclipse.mylyn.docs.epub.core/src-gen/org/eclipse/mylyn/docs/epub/opf/util/OPFValidator.java:[195,0]
[ERROR] result &amp;= validate_EveryBidirectionalReferenceIsPaired(reference, diagnostics, context);
[ERROR] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[ERROR] The method validate_EveryBidirectionalReferenceIsPaired(Reference, DiagnosticChain, Map&lt;Object,Object&gt;) is undefined for the type OPFValidator
[ERROR] 1 problem (1 error)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2156749</commentid>
    <comment_count>1</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-09-06 06:30:25 -0400</bug_when>
    <thetext>I guess we could generate code using the appropriate EMF version while building. That should take care of this issue. However it may cause other issues where the generated code is used in the EPUB API.

I was under the impression that current Mylyn support was limited to 3.6, 3.7 and 3.8. What is the reason for building for Galileo?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2157129</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-09-06 17:02:59 -0400</bug_when>
    <thetext>We still maintain backwards compatibility with 3.5 and use that as our build target but we don&apos;t advertise it since we don&apos;t prioritize bug fixes for 3.5 or 3.6. If it&apos;s too much of a burden we can use a different build target for the EPUB components.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2157820</commentid>
    <comment_count>3</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-09-10 02:46:39 -0400</bug_when>
    <thetext>Well... I guess I could generate new source using EMF from 3.5. That would not be a big deal if it were not for the fact that there will be quite a few model changes when I get to implementing EPUB 3.0 support. I&apos;d rather be using a more up to date EMF for this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2158096</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-09-10 13:45:23 -0400</bug_when>
    <thetext>Alright. I&apos;ll make the necessary releng changes. Which target would you prefer to use for the EPUB component?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2158146</commentid>
    <comment_count>5</comment_count>
    <who name="Torkild Resheim">torkildr</who>
    <bug_when>2012-09-10 15:47:33 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; Alright. I&apos;ll make the necessary releng changes. Which target would you
&gt; prefer to use for the EPUB component?
Thanks Steffen. I honestly don&apos;t know. I did have some issues with the previous EMF version (3.7) as a bug would stop me from generating code repeatedly (https://bugs.eclipse.org/bugs/show_bug.cgi?id=348304). This was fixed so I&apos;m happy with the latest. I cannot remember whether the bug was present in 3.6, but it appears that way. Feel free to suggest a version that would make your job easier.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2158157</commentid>
    <comment_count>6</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-09-10 16:08:10 -0400</bug_when>
    <thetext>We maintain target environment for Eclipse 3.5 - 4.2 anyways to it doesn&apos;t matter to me. I&apos;ll go for 3.7 for now and we should be able to change that very easily later on.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2160453</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-09-16 03:22:06 -0400</bug_when>
    <thetext>The EPUB core bundle now uses 3.7 as a compile target.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>