<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>406724</bug_id>
          
          <creation_ts>2013-04-27 07:11:00 -0400</creation_ts>
          <short_desc>widget is disposed error on shutdown</short_desc>
          <delta_ts>2013-04-27 19:31:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Tasks</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>3.9</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2249358</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-27 07:11:33 -0400</bug_when>
    <thetext>Occurred at the end of integration tests.

!ENTRY org.eclipse.osgi 4 0 2013-04-26 19:54:10.465
!MESSAGE Application error
!STACK 1
org.eclipse.swt.SWTException: Failed to execute runnable (org.eclipse.swt.SWTException: Widget is disposed)
	at org.eclipse.swt.SWT.error(SWT.java:4397)
	at org.eclipse.swt.SWT.error(SWT.java:4312)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3717)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3366)
	at org.eclipse.swt.widgets.Display.release(Display.java:3417)
	at org.eclipse.swt.graphics.Device.dispose(Device.java:248)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:140)
	at org.eclipse.tycho.surefire.osgibooter.UITestApplication.runApplication(UITestApplication.java:31)
	at org.eclipse.tycho.surefire.osgibooter.AbstractUITestApplication.run(AbstractUITestApplication.java:114)
	at org.eclipse.tycho.surefire.osgibooter.UITestApplication.start(UITestApplication.java:37)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)
	at java.lang.reflect.Method.invoke(Method.java:613)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1450)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1426)
Caused by: org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:4397)
	at org.eclipse.swt.SWT.error(SWT.java:4312)
	at org.eclipse.swt.SWT.error(SWT.java:4283)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:481)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:418)
	at org.eclipse.swt.widgets.Tree.getSelection(Tree.java:1700)
	at org.eclipse.jface.viewers.TreeViewer.getSelection(TreeViewer.java:256)
	at org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:344)
	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2544)
	at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2967)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1450)
	at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:403)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1404)
	at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1506)
	at org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:537)
	at org.eclipse.ui.dialogs.FilteredTree$NotifyingTreeViewer.refresh(FilteredTree.java:1253)
	at org.eclipse.mylyn.internal.tasks.ui.views.TaskListView$13$2.run(TaskListView.java:944)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	... 21 more</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2249398</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-27 11:42:08 -0400</bug_when>
    <thetext>It&apos;s not clear to me why a refresh on expand or collapse is necessary. I&apos;m proposing to remove that: https://git.eclipse.org/r/#/c/12282/ .

The refresh appears to have been added in relation to bug 175853 but it&apos;s not clear to me if it&apos;s still required on recent Eclipse releases or what it achieves since proper images should have been loaded by the label provider when first displayed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2249399</commentid>
    <comment_count>2</comment_count>
      <attachid>230212</attachid>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-27 11:42:38 -0400</bug_when>
    <thetext>Created attachment 230212
mylyn/context/zip</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2249457</commentid>
    <comment_count>3</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-27 19:31:10 -0400</bug_when>
    <thetext>The change was merged.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>230212</attachid>
            <date>2013-04-27 11:42:00 -0400</date>
            <delta_ts>2013-04-27 11:42:38 -0400</delta_ts>
            <desc>mylyn/context/zip</desc>
            <filename>mylyn-context.zip</filename>
            <type>application/octet-stream</type>
            <size>1771</size>
            <attacher name="Steffen Pingel">steffen.pingel</attacher>
            
              <data encoding="base64">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
AAAAAA==
</data>

          </attachment>
      

    </bug>

</bugzilla>