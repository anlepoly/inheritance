<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>391558</bug_id>
          
          <creation_ts>2012-10-10 10:24:00 -0400</creation_ts>
          <short_desc>[e4] switching between Mylyn Tasks very slow due to opening and closing editors</short_desc>
          <delta_ts>2012-12-02 17:11:51 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Context</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>3.8.3</target_milestone>
          <dependson>389478</dependson>
          <blocked>321278</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Lars Vogel">lars.vogel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>david.green</cc>
    
    <cc>emoffatt</cc>
    
    <cc>john_arthorne</cc>
    
    <cc>lars.vogel</cc>
    
    <cc>mauromol</cc>
    
    <cc>sam.davis</cc>
    
    <cc>shawn.minto</cc>
    
    <cc>steffen.pingel</cc>
    
    <cc>xander.uiterlinden</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2170039</commentid>
    <comment_count>0</comment_count>
    <who name="Lars Vogel">lars.vogel</who>
    <bug_when>2012-10-10 10:24:02 -0400</bug_when>
    <thetext>If I switch between Mylyn tasks the restoring of the editors takes very, very long.

How to test:

Create two Mylyn tasks with at least 10 source files in each task and switch between tasks.

I don&apos;t think it is Mylyns fault, restoring editors should be faster IMHO.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2172223</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-10-16 04:11:38 -0400</bug_when>
    <thetext>Thanks for raising this Lars. I&apos;ll move the bug over to Mylyn since it&apos;s related to editor restore on e4 realizing all editors. That makes it much slower than on e3 where only the top editor was fully realized.

Some more background is on bug 373098 which tracked the initial editor restore implementation for e4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2182190</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-11-10 16:56:30 -0500</bug_when>
    <thetext>I pushed a change here that leverages the new IWorkbench API for much faster editor persistence and restore: https://git.eclipse.org/r/8629 . To test that you&apos;ll either need a target with the latest M-build or checkout eclipse.platform.ui from master if you are on e4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2182541</commentid>
    <comment_count>3</comment_count>
    <who name="Lars Vogel">lars.vogel</who>
    <bug_when>2012-11-12 13:25:59 -0500</bug_when>
    <thetext>@Steffen: I can test this. I guess I also need the Mylyn sources? Which Mylyn repo should I clone to apply the patch? 

Is git://git.eclipse.org/gitroot/mylyn/org.eclipse.mylyn.context.git the right one?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2182583</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-11-12 14:20:27 -0500</bug_when>
    <thetext>(In reply to comment #3)
&gt; @Steffen: I can test this. I guess I also need the Mylyn sources? Which Mylyn
&gt; repo should I clone to apply the patch?
&gt; 
&gt; Is git://git.eclipse.org/gitroot/mylyn/org.eclipse.mylyn.context.git the right
&gt; one?

Yes. You would need to fetch the patch set from the review to get the editor restore changes. 

I hope that we&apos;ll have a weekly build with the changes by tomorrow and can contribute the change for Kepler M3 as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2183458</commentid>
    <comment_count>5</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-11-14 09:34:07 -0500</bug_when>
    <thetext>The build is now available from the weekly snapshot site: http://eclipse.org/mylyn/downloads/#weekly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2183472</commentid>
    <comment_count>6</comment_count>
    <who name="Lars Vogel">lars.vogel</who>
    <bug_when>2012-11-14 09:46:35 -0500</bug_when>
    <thetext>Silly question, how do I download your weekly build, it has no &quot;Save&quot; button.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2183916</commentid>
    <comment_count>7</comment_count>
    <who name="Lars Vogel">lars.vogel</who>
    <bug_when>2012-11-15 05:53:33 -0500</bug_when>
    <thetext>Ups, it is a p2 update site. I can test now. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2183925</commentid>
    <comment_count>8</comment_count>
    <who name="Lars Vogel">lars.vogel</who>
    <bug_when>2012-11-15 06:23:09 -0500</bug_when>
    <thetext>Mylyn is lightening fast with Eclipse 4.3M4. Congrats. I hope you roll this change out with Eclipse 4.2.2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2184169</commentid>
    <comment_count>9</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-11-15 13:42:31 -0500</bug_when>
    <thetext>Steffen, will this also result in a performance improvement on 3.8.x?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2184272</commentid>
    <comment_count>10</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-11-15 17:10:30 -0500</bug_when>
    <thetext>Just to clarify: The fix for the editor restore was committed on November 5 so you would need to use an SDK integration build released after that date. I tried the Kepler M3 Java package that is going to be released this Friday and did not yet have the upstream fix and improved performance.

I believe the platform API will also available in 3.8.2 but it won&apos;t affect Mylyn&apos;s editor restore performance since the same functionality is available through internals in the 3.x stream. The fix will be in the 4.2.2 stream though if I&apos;m not mistaken so Juno SR2 will have the much improved performance.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2189785</commentid>
    <comment_count>11</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-12-02 17:11:51 -0500</bug_when>
    <thetext>The fix has been backported to the 3.8.x branch.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>