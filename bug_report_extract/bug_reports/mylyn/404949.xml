<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>404949</bug_id>
          
          <creation_ts>2013-04-04 16:28:00 -0400</creation_ts>
          <short_desc>remove bundles that are not required when running on 1.6 or later</short_desc>
          <delta_ts>2013-05-03 05:18:50 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn</product>
          <component>Releng</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>3.9</target_milestone>
          <dependson>383907</dependson>
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>krzysztof.daniel</cc>
    
    <cc>shawn.minto</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2239794</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-04 16:28:07 -0400</bug_when>
    <thetext>Since Mylyn now requires Java 1.6 or later (see bug 383907) some bundles from Orbit can be dropped from the distribution since packages can be consumed from the JVM.

bug 398092: javax.xml.soap
bug 398088: javax.xml.bind
bug 398093: javax.xml.stream</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2239795</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-04 16:28:45 -0400</bug_when>
    <thetext>Krzysztof, anything other bundles that we should consider?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2242401</commentid>
    <comment_count>2</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-04-11 06:31:02 -0400</bug_when>
    <thetext>javax.activation</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2242405</commentid>
    <comment_count>3</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-04-11 06:43:40 -0400</bug_when>
    <thetext>Affected files:

./org.eclipse.mylyn.commons/org.eclipse.mylyn.commons.soap/META-INF/MANIFEST.MF
./org.eclipse.mylyn.builds/org.eclipse.mylyn.hudson.core/META-INF/MANIFEST.MF

./org.eclipse.mylyn.commons/org.eclipse.mylyn.commons.sdk-feature/feature.xml
./org.eclipse.mylyn.builds/org.eclipse.mylyn.hudson-feature/feature.xml
./org.eclipse.mylyn.builds/org.eclipse.mylyn.builds.sdk-feature/feature.xml
./org.eclipse.mylyn.tasks/org.eclipse.mylyn.bugzilla-feature/feature.xml

Preparing a patch now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2242433</commentid>
    <comment_count>4</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-04-11 07:42:38 -0400</bug_when>
    <thetext>https://git.eclipse.org/r/#/c/11808/
https://git.eclipse.org/r/#/c/11809/
https://git.eclipse.org/r/#/c/11811/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2242452</commentid>
    <comment_count>5</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-04-11 08:18:42 -0400</bug_when>
    <thetext>Those three patches remove aforementioned bundles from the mylyn, but not from it&apos;s deps:
* javax.activation is required by: com.sun.xml.bind, javax.mail, javax.xml.soap, org.apache.axis
* javax.xml.soap is required by org.apache.axis, javax.xml.rpc
* javax.xml.stream is required by com.sun.xml.bind</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2242642</commentid>
    <comment_count>6</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-11 12:14:20 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; Those three patches remove aforementioned bundles from the mylyn, but not from
&gt; it&apos;s deps:
&gt; * javax.activation is required by: com.sun.xml.bind, 

We should be able to drop com.sun.xml.bind since it was only needed for 1.5.

&gt; javax.mail, javax.xml.soap, org.apache.axis

These are only required for SOAP which none of the built in Mylyn connectors require. Would it make a difference to split all SOAP dependencies into a separate feature? We would end up with:

pre. 
org.eclipse.mylyn.commons.soap_feature:
 javax.activation
 javax.xml.soap
 javax.wsdl
 org.apache.axis
 
We would drop these bundles (still needs verification):

pre. 
 com.sun.xml.bind
 javax.xml  (only present in the build target)
 javax.xml.bind
 javax.xml.stream</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2243643</commentid>
    <comment_count>7</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-04-15 08:27:29 -0400</bug_when>
    <thetext>Sounds good!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2247055</commentid>
    <comment_count>8</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-22 20:08:35 -0400</bug_when>
    <thetext>Here are the reviews:

Mylyn Commons: https://git.eclipse.org/r/#/c/12115/
Mylyn Tasks: https://git.eclipse.org/r/#/c/12113/
Mylyn Builds: https://git.eclipse.org/r/#/c/12114/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2247060</commentid>
    <comment_count>9</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-22 20:29:01 -0400</bug_when>
    <thetext>Target platform update: https://git.eclipse.org/r/#/c/12117/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2248114</commentid>
    <comment_count>10</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-24 15:41:29 -0400</bug_when>
    <thetext>I verified manually that installing still worked without having the bundles included in the SOAP feature on the update site. I pushed another review to add the SOAP feature to the site for integrators to consume (but none of the Mylyn features depend on it): https://git.eclipse.org/r/#/c/12167/.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2248379</commentid>
    <comment_count>11</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-04-25 08:12:03 -0400</bug_when>
    <thetext>The latest weekly build now has the Axis dependencies split out into a separate feature. Krzysztof, please let me know if there is anything we missed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2251873</commentid>
    <comment_count>12</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-05-03 03:34:03 -0400</bug_when>
    <thetext>While building recent version of mylyn for Fedora I&apos;ve found 
javax.xml in http://git.eclipse.org/c/mylyn/org.eclipse.mylyn.tasks.git/tree/org.eclipse.mylyn.sdk-feature/feature.xml</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2251908</commentid>
    <comment_count>13</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-05-03 05:18:50 -0400</bug_when>
    <thetext>Yes, sorry, we had to put that back, since we recently added Apache Xerces 2.9 as a dependency. The Xerces bundle requires javax.xml 1.3.4 to be present.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>