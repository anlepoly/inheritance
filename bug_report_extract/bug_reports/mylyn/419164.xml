<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>419164</bug_id>
          
          <creation_ts>2013-10-10 12:25:00 -0400</creation_ts>
          <short_desc>fix failures in integration build for e_4_3_m_3_9_x</short_desc>
          <delta_ts>2013-10-25 11:25:49 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn</product>
          <component>Releng</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.9.2</target_milestone>
          
          <blocked>419162</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Tomasz Zarna">tomasz.zarna</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>eclipse</cc>
    
    <cc>steffen.pingel</cc>
    
    <cc>tomasz.zarna</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2316856</commentid>
    <comment_count>0</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-10-10 12:25:17 -0400</bug_when>
    <thetext>http://ci.mylyn.org/job/mylyn-3.9.x/76
    org.eclipse.mylyn.bugzilla.tests.core.BugzillaClientTest.testValidateUser@4.2
    org.eclipse.mylyn.java.tests.JavaEditorManagerTest.testAutoCloseWithDecay
    org.eclipse.mylyn.bugzilla.tests.core.BugzillaCustomFieldsTest.testCustomAttributesNewTask@4.2
    org.eclipse.mylyn.bugzilla.tests.core.BugzillaClientTest.testQueryRealName_Bug335278@4.2
    org.eclipse.mylyn.bugzilla.tests.core.BugzillaCustomFieldsTest.testCustomAttributes@4.2
    org.eclipse.mylyn.commons.activity.tests.MonitorUserActivityJobTest.testResumeFromSleepTimeoutEvent
    org.eclipse.mylyn.bugzilla.tests.core.BugzillaClientTest.testQueryRealName_Bug335278@4.2
    org.eclipse.mylyn.java.tests.JavaEditorManagerTest.testAutoCloseWithDecay
    org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.4.4
    org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.5.6
    org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.6.1
    org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.5.6
    org.eclipse.mylyn.bugzilla.tests.BugzillaRepositoryConnectorTest.testStdWorkflow@4.4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2316879</commentid>
    <comment_count>1</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-10-10 13:02:47 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.4.4
&gt; org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.5.6
&gt; org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.6.1
&gt; org.eclipse.mylyn.internal.gerrit.core.remote.GerritReviewRemoteFactoryTest.testDependencies@2.5.6

Those should be fixed with efe9537e30d7b52279d2aaf7575ff2b79a1d39a6</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2316892</commentid>
    <comment_count>2</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-10-10 13:26:01 -0400</bug_when>
    <thetext>Most (if not all) failing Bugzilla tests were interrupted (running too long?), so my guess is that bug 410279 can improve the situation here.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2316996</commentid>
    <comment_count>3</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-10 18:12:41 -0400</bug_when>
    <thetext>*** Bug 410714 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2316999</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-10 18:13:14 -0400</bug_when>
    <thetext>(In reply to comment #2)
&gt; Most (if not all) failing Bugzilla tests were interrupted (running too long?),
&gt; so my guess is that bug 410279 can improve the situation here.

That sounds right to me. We should merge the fix that is up in Gerrit and check if that makes a difference.

(In reply to comment #1)
&gt; Those should be fixed with efe9537e30d7b52279d2aaf7575ff2b79a1d39a6

Great! Then let&apos;s cherry pick that onto the 3.9.x branch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2318078</commentid>
    <comment_count>5</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-15 00:47:45 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; (In reply to comment #2)
&gt; &gt; Most (if not all) failing Bugzilla tests were interrupted (running too long?),
&gt; &gt; so my guess is that bug 410279 can improve the situation here.
&gt; 
&gt; That sounds right to me. We should merge the fix that is up in Gerrit and check
&gt; if that makes a difference.

I cherry-picked the change onto the 3.9.x branch along with the change for bug 409634.
 
&gt; (In reply to comment #1)
&gt; &gt; Those should be fixed with efe9537e30d7b52279d2aaf7575ff2b79a1d39a6
&gt; 
&gt; Great! Then let&apos;s cherry pick that onto the 3.9.x branch.

I cherry-picked the change onto the 3.9.x branch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2318688</commentid>
    <comment_count>6</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-16 03:39:45 -0400</bug_when>
    <thetext>Frank, do you have any thoughts on this failure? It&apos;s not quite clear to me how the test is supposed to work?

http://ci.mylyn.org/job/mylyn-3.9.x/TARGET=galileo/lastCompletedBuild/testReport/org.eclipse.mylyn.bugzilla.tests.core/BugzillaClientTest/testQueryRealName_Bug335278_4_4/

junit.framework.AssertionFailedError: null
	at junit.framework.Assert.fail(Assert.java:47)
	at junit.framework.Assert.assertTrue(Assert.java:20)
	at junit.framework.Assert.assertTrue(Assert.java:27)
	at org.eclipse.mylyn.bugzilla.tests.core.BugzillaClientTest.testQueryRealName_Bug335278(BugzillaClientTest.java:254)
	
I might have missed something while backporting changes.

Tomek, I backported the commit for Gerrit 2.7 support to fix this failure: testRefreshConfigCommentLinks@2.7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2318751</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-16 05:45:07 -0400</bug_when>
    <thetext>I have submitted this fix for the failing Bugzilla test: https://git.eclipse.org/r/17406. Frank, does that make sense?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2318762</commentid>
    <comment_count>8</comment_count>
    <who name="Frank Becker">eclipse</who>
    <bug_when>2013-10-16 06:02:27 -0400</bug_when>
    <thetext>(In reply to Steffen Pingel from comment #7)
&gt; I have submitted this fix for the failing Bugzilla test:
&gt; https://git.eclipse.org/r/17406. Frank, does that make sense?

Yes! This was my fault. Sorry.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2322576</commentid>
    <comment_count>9</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-24 08:34:47 -0400</bug_when>
    <thetext>The last build only had this failure:

org.eclipse.mylyn.trac.tests.core.TracTaskDataHandlerXmlRpcTest.testPostTaskDataMidAirCollision@0.11.7/XML-RPC 

I merged the fix which was tracked on bug 420165. I&apos;ll kick off a build against the latest in a bit to see if we have any new failures.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2323342</commentid>
    <comment_count>10</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-25 11:25:49 -0400</bug_when>
    <thetext>It looks like there weren&apos;t any failures that are not already tracked on bug 420371 and bug 420326. I&apos;ll consider this resolved. We can reopen if new test failures come up.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>