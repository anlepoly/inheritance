<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>403393</bug_id>
          
          <creation_ts>2013-03-14 16:38:00 -0400</creation_ts>
          <short_desc>Change Mylyn Reviews IFileRevision element name to IFileVersion</short_desc>
          <delta_ts>2013-04-18 08:29:24 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Reviews</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>2.0</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Sebastien Dubois">sebastien.dubois</reporter>
          <assigned_to name="Miles Parker">milesparker</assigned_to>
          <cc>milesparker</cc>
    
    <cc>steffen.pingel</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2231601</commentid>
    <comment_count>0</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2013-03-14 16:38:35 -0400</bug_when>
    <thetext>With the introduction of the solution for bug 400266, the team API IFileRevision is now being used.  Since Mylyn Reviews also uses an element named IFileRevision, this can get very confusing.  I suggest we change the Mylyn Review element name to IFileVersion, in line with what is done in R4E, to avoid this confusion.  THis requires a model change, but should not break compatibility, as the file revision is transient and is never persisted.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2231630</commentid>
    <comment_count>1</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-03-14 17:35:36 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; With the introduction of the solution for bug 400266, the team API
&gt; IFileRevision is now being used.  Since Mylyn Reviews also uses an element
&gt; named IFileRevision, this can get very confusing.  I suggest we change the
&gt; Mylyn Review element name to IFileVersion, in line with what is done in R4E,
&gt; to avoid this confusion.  THis requires a model change, but should not break
&gt; compatibility, as the file revision is transient and is never persisted.

+1

BTW, we will need to figure out how to persist whatever we need to rematerialize the file version when it is requested by API.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2232281</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-03-15 17:45:25 -0400</bug_when>
    <thetext>+1 makes sense. The classname clash is confusing particularly if both types are used in the same class.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2243245</commentid>
    <comment_count>3</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-04-12 15:15:34 -0400</bug_when>
    <thetext>Note that this will require creating a dependency from reviews.core to team.core. Does anyone have a problem with that?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2243253</commentid>
    <comment_count>4</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2013-04-12 15:32:34 -0400</bug_when>
    <thetext>Yes that dependency also 4exists right now in R4E, Since Team is pretty close to the eclipse core, I&apos;m OK with it personally.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2243272</commentid>
    <comment_count>5</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-04-12 16:16:30 -0400</bug_when>
    <thetext>Please review: https://git.eclipse.org/r/11871

Change Name of FileRevision to FileVersion
Add FileVersion#fileRevision reference and team.IFileRevision datatype
Add Repository#taskRepository reference and mylyn.TaskRepository type
Make FileItem#base and #target containment references

This trivially provides the model changes, but it doesn&apos;t actually implement anything except for the name refactoring. Would you like to tackle that Sebastien, or should I? It looks like we can get rid of a dood deal of code. :D</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2243964</commentid>
    <comment_count>6</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2013-04-15 12:20:55 -0400</bug_when>
    <thetext>Well it doesn&apos;t hurt to put the model changes right away.  The functionality will still work fine.  

We can adapt the code later on to take advantage of the model changes and get rid of passing the git repository reference through the GerritReviewBehavior.  There are also additional functionality that could be brought in from R4E with these model changes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2245372</commentid>
    <comment_count>7</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2013-04-18 08:29:24 -0400</bug_when>
    <thetext>The code for this is now merged in. I created bug 405978 to adapt the changes in bug 400266 to use the new model elements.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>