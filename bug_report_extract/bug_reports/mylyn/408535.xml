<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>408535</bug_id>
          
          <creation_ts>2013-05-21 03:17:00 -0400</creation_ts>
          <short_desc>remove dependency on SDK from Tycho tests</short_desc>
          <delta_ts>2013-08-21 13:21:01 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn</product>
          <component>Releng</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>NEW</bug_status>
          <resolution></resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>trivial</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Project Inbox">mylyn-triaged</assigned_to>
          <cc>sam.davis</cc>
    
    <cc>tomasz.zarna</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2259920</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-05-21 03:17:56 -0400</bug_when>
    <thetext>The parent pom specifies a dependency on &quot;org.eclipse.sdk.ide&quot; for all Tycho test targets. It is desirable to be able to run (headless) tests without pulling in the entire SDK. This also speeds up tests by reducing the time required to resolve the target.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2259923</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-05-21 03:20:54 -0400</bug_when>
    <thetext>I submitted this change: https://git.eclipse.org/r/#/c/13001/.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2260350</commentid>
    <comment_count>2</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-05-21 13:04:47 -0400</bug_when>
    <thetext>Nice!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2260499</commentid>
    <comment_count>3</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-05-21 16:36:10 -0400</bug_when>
    <thetext>So this may be breaking Mylyn Reviews testing.

...gerrit.tests does use org.eclipse.mylyn.commons.sdk.util; don&apos;t know if that needs ..ide or not, but I&apos;d assume not or there wouldn&apos;t be anyway to use fixtures in any of the other tests either.

import org.eclipse.mylyn.commons.sdk.util.FixtureConfiguration;
import org.eclipse.mylyn.commons.sdk.util.TestConfiguration;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2260660</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-05-22 02:59:56 -0400</bug_when>
    <thetext>It appears that tests are no longer picking up proxy settings on Eclipse.org with this change. The test suites prints out the expected information but network connections appear to fail anyways. The failures do not appear when tests are run on non-proxied hosts such as mylyn.org. I suspect this is related to the o.e.core.net.* bundles not being part of the platform but this would need further investigation to confirm.

There are other failures related to bundles not resolving properly such as o.e.m.gerrit.ui.tests. It&apos;s not clear to me why that fails.

Both problems can be resolved by adding an explicit dependency on o.e.platform or o.e.sdk.ide. I have decided to revert the changes for now since we don&apos;t have capacity to review the failures in more detail and determine the root cause. It would still be valuable to make this change to speed up tests but we should consider waiting until after the 3.9 release to make this change.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2297460</commentid>
    <comment_count>5</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-08-21 13:21:01 -0400</bug_when>
    <thetext>I don&apos;t think we&apos;ll be able to resolve this for 3.10.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>