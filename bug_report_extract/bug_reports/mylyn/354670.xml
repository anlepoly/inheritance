<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>354670</bug_id>
          
          <creation_ts>2011-08-12 15:50:00 -0400</creation_ts>
          <short_desc>[api] getChangeSets Iterator</short_desc>
          <delta_ts>2011-08-25 09:45:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Versions</product>
          <component>Framework</component>
          <version>0.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>0.9</target_milestone>
          
          <blocked>330616</blocked>
    
    <blocked>355096</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Alvaro Sanchez-Leon">alvsan09</reporter>
          <assigned_to name="Alvaro Sanchez-Leon">alvsan09</assigned_to>
          <cc>lmcbout</cc>
    
    <cc>marco.masse</cc>
    
    <cc>sebastien.dubois</cc>
    
    <cc>steffen.pingel</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1978295</commentid>
    <comment_count>0</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-12 15:50:34 -0400</bug_when>
    <thetext>The current api to obtain the changesets associated to a repository returns a complete list.


	public abstract List&lt;ChangeSet&gt; getChangeSets(ScmRepository repository, IProgressMonitor monitor)
			throws CoreException;


Obtaining the full list may take several minutes as these are often in the order of tens of thousands.

a new api returning an Iterator&lt;ChangeSet&gt; shall provide the possibility to implement cache mechanisms or query by smaller chunks as the user move along the list.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1980924</commentid>
    <comment_count>1</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-18 09:38:41 -0400</bug_when>
    <thetext>Update:
Implementation started and is based on:

1) core api updates to return a ChangeSet Iterator
2) internal  Blocking queue (core) to limit the number of parsed changesets e.g. max 40
3) implement thread to fill in queue as room becomes available e.g. looping to retrieve and resolve base and target versions in chunks of 20 changesets
4) modify UI to use the new interface and consume the elements in the queue via the iterator</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1981010</commentid>
    <comment_count>2</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-18 11:23:44 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; Update:
&gt; Implementation started and is based on:
&gt; 
&gt; 1) core api updates to return a ChangeSet Iterator
&gt; 2) internal  Blocking queue (core) to limit the number of parsed changesets e.g.
&gt; max 40
&gt; 3) implement thread to fill in queue as room becomes available e.g. looping to
&gt; retrieve and resolve base and target versions in chunks of 20 changesets
&gt; 4) modify UI to use the new interface and consume the elements in the queue via
&gt; the iterator

The implementation above is specific to subclipse and therefore the implementation is now tracked on bug 355096 and Bug 355098</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1984425</commentid>
    <comment_count>3</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-25 09:45:17 -0400</bug_when>
    <thetext>Implemented and committed</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>