<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>422283</bug_id>
          
          <creation_ts>2013-11-21 13:55:00 -0500</creation_ts>
          <short_desc>missing Guava dependency in wikitext standalone distribution</short_desc>
          <delta_ts>2013-12-16 10:14:04 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Docs</product>
          <component>Wikitext</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>2.0</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="John Arthorne">john_arthorne</reporter>
          <assigned_to name="David Green">david.green</assigned_to>
          <cc>david.green</cc>
    
    <cc>steffen.pingel</cc>
    
    <cc>webmaster</cc>
          <qa_contact name="David Green">david.green</qa_contact>
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2333125</commentid>
    <comment_count>0</comment_count>
    <who name="John Arthorne">john_arthorne</who>
    <bug_when>2013-11-21 13:55:40 -0500</bug_when>
    <thetext>I am using the wikitext standalone download for converting wiki to doc. After getting a recent build I am now seeing errors like this when running mediawiki-to-eclipse-help task:

java.lang.NoClassDefFoundError: com/google/common/base/Preconditions

Either there is an unintentional new dependency here, or the standalone wikitext is no longer &quot;standalone&quot; and requires obtaining additional jars to put on the ant classpath?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333193</commentid>
    <comment_count>1</comment_count>
    <who name="John Arthorne">john_arthorne</who>
    <bug_when>2013-11-21 16:53:02 -0500</bug_when>
    <thetext>It looks like it was caused by an error in one of my pages.. I had a wiki page with multiple top level titles and this seems to have triggered the error. When I converted the wiki page to only have one top level title (h1) I no longer see this error.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333482</commentid>
    <comment_count>2</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2013-11-22 11:17:42 -0500</bug_when>
    <thetext>Thanks for the bug John.  You&apos;re right in that Guava is now needed to run Mylyn WikiText, and it&apos;s not included in the standalone zip.  I realize that this is a big problem so we&apos;ll look into it right away.  In the meantime you should be able to work around the problem by copying the Guava jar into the standalone folder.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333544</commentid>
    <comment_count>3</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2013-11-22 12:31:32 -0500</bug_when>
    <thetext>I&apos;ve confirmed on CQ 7664 that we have the rights to redistribute Guava as part of the standalone zip.  The fix for this would be to include Guava in the standalone zip.  

Steffen, what do you think - and do you have any advice on how to do this given your knowledge of our build?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333601</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-11-22 15:13:02 -0500</bug_when>
    <thetext>Good question what the easiest approach would be. You could probably grab Guava from the Maven Cache or use the Maven Dependency plug-in to retrieve it. An alternative would be to define a p2 repository with the relevant bundles and zipping that up.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2334087</commentid>
    <comment_count>5</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2013-11-25 11:34:53 -0500</bug_when>
    <thetext>Thanks Steffen it looks like the Maven dependency plug-in will do the trick.	


  https://git.eclipse.org/r/18836</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2334128</commentid>
    <comment_count>6</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2013-11-25 12:53:06 -0500</bug_when>
    <thetext>I&apos;ve merged the review and confirmed that Guava is now included in the standalone jar.

Note changes to the user guide with respect to defining the taskdef classpath; the pattern has changed for including jars.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2339278</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-12-09 06:10:11 -0500</bug_when>
    <thetext>I pushed https://git.eclipse.org/r/#/c/19493/ to use the Orbit Guava bundle in the standalone zip.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2342328</commentid>
    <comment_count>8</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2013-12-16 10:14:04 -0500</bug_when>
    <thetext>Thanks Steffen, was great to get your help on this.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>