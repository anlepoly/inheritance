<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>420326</bug_id>
          
          <creation_ts>2013-10-24 15:48:00 -0400</creation_ts>
          <short_desc>fix TaskActivityTimingTest.testCollapsedTiming()</short_desc>
          <delta_ts>2013-11-07 16:35:14 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Context</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>contributed</keywords>
          <priority>P3</priority>
          <bug_severity>trivial</bug_severity>
          <target_milestone>3.9.2</target_milestone>
          
          <blocked>419162</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Frank Becker">eclipse</assigned_to>
          <cc>eclipse</cc>
    
    <cc>leo.dos.santos</cc>
    
    <cc>sam.davis</cc>
    
    <cc>tomasz.zarna</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2322887</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-24 15:48:04 -0400</bug_when>
    <thetext>The test fails sporadically:

http://ci.mylyn.org/job/mylyn-3.9.x/81/TARGET=helios/testReport/junit/org.eclipse.mylyn.context.tasks.tests/TaskActivityTimingTest/testCollapsedTiming/

junit.framework.AssertionFailedError: expected:&lt;1&gt; but was:&lt;2&gt;
	at junit.framework.Assert.fail(Assert.java:47)
	at junit.framework.Assert.failNotEquals(Assert.java:283)
	at junit.framework.Assert.assertEquals(Assert.java:64)
	at junit.framework.Assert.assertEquals(Assert.java:195)
	at junit.framework.Assert.assertEquals(Assert.java:201)
	at org.eclipse.mylyn.context.tasks.tests.TaskActivityTimingTest.testCollapsedTiming(TaskActivityTimingTest.java:625)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326078</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-11-04 03:34:28 -0500</bug_when>
    <thetext>A few more related failures are here:

http://ci.mylyn.org/job/mylyn-3.9.x/83/testReport/

junit.framework.AssertionFailedError: expected less than 10 &lt; activeTime &lt; 20, got 0 (slept 20 ms)
	at junit.framework.Assert.fail(Assert.java:57)
	at junit.framework.Assert.assertTrue(Assert.java:22)
	at junit.framework.TestCase.assertTrue(TestCase.java:192)
	at org.eclipse.mylyn.commons.activity.tests.MonitorUserActivityJobTest.testResumeFromSleepTimeoutEvent(MonitorUserActivityJobTest.java:119)

junit.framework.AssertionFailedError: expected:&lt;2&gt; but was:&lt;1&gt;
	at junit.framework.Assert.fail(Assert.java:50)
	at junit.framework.Assert.failNotEquals(Assert.java:287)
	at junit.framework.Assert.assertEquals(Assert.java:67)
	at junit.framework.Assert.assertEquals(Assert.java:199)
	at junit.framework.Assert.assertEquals(Assert.java:205)
	at org.eclipse.mylyn.context.tasks.tests.TaskActivityTimingTest.testCollapeedByTheHour(TaskActivityTimingTest.java:813)

	junit.framework.AssertionFailedError: expected:&lt;120000&gt; but was:&lt;600000&gt;
	at junit.framework.Assert.fail(Assert.java:50)
	at junit.framework.Assert.failNotEquals(Assert.java:287)
	at junit.framework.Assert.assertEquals(Assert.java:67)
	at junit.framework.Assert.assertEquals(Assert.java:134)
	at junit.framework.Assert.assertEquals(Assert.java:140)
	at org.eclipse.mylyn.context.tasks.tests.TaskActivityTimingTest.testElapsedSameAfterRead(TaskActivityTimingTest.java:916)

junit.framework.AssertionFailedError
	at junit.framework.Assert.fail(Assert.java:48)
	at junit.framework.Assert.assertTrue(Assert.java:20)
	at junit.framework.Assert.assertTrue(Assert.java:27)
	at org.eclipse.mylyn.monitor.tests.CheckActivityJobTest.testResumeFromSleepTimeoutEventDiscarded(CheckActivityJobTest.java:146)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326079</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-11-04 03:36:06 -0500</bug_when>
    <thetext>Looking at the last few builds the errors above are now 90% of the test failures (the rest being network timeouts). It would be awesome if we made these tests more robust to finally get back to reliable integration tests.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326397</commentid>
    <comment_count>3</comment_count>
    <who name="Frank Becker">eclipse</who>
    <bug_when>2013-11-04 14:40:46 -0500</bug_when>
    <thetext>create review https://git.eclipse.org/r/#/c/18046/ for the failing two org.eclipse.mylyn.context.tasks.tests.TaskActivityTimingTest</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326398</commentid>
    <comment_count>4</comment_count>
      <attachid>237179</attachid>
    <who name="Frank Becker">eclipse</who>
    <bug_when>2013-11-04 14:40:48 -0500</bug_when>
    <thetext>Created attachment 237179
mylyn/context/zip</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2327821</commentid>
    <comment_count>5</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-11-07 16:35:14 -0500</bug_when>
    <thetext>It looks like the fix worked! Let&apos;s see if the other problems come up again and we can open new bugs. I applied the change to the 3.8.x, 3.9.x and 3.10.x branches. Thanks Frank!</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>237179</attachid>
            <date>2013-11-04 14:40:00 -0500</date>
            <delta_ts>2013-11-04 14:40:48 -0500</delta_ts>
            <desc>mylyn/context/zip</desc>
            <filename>mylyn-context.zip</filename>
            <type>application/octet-stream</type>
            <size>4993</size>
            <attacher name="Frank Becker">eclipse</attacher>
            
              <data encoding="base64">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
</data>

          </attachment>
      

    </bug>

</bugzilla>