<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>412953</bug_id>
          
          <creation_ts>2013-07-15 07:29:00 -0400</creation_ts>
          <short_desc>remove jdom and rome dependencies from Mylyn Commons</short_desc>
          <delta_ts>2013-10-17 03:30:36 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Commons</product>
          <component>Notifications</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>contributed, plan</keywords>
          <priority>P2</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>3.10</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Krzysztof Daniel">krzysztof.daniel</reporter>
          <assigned_to name="Krzysztof Daniel">krzysztof.daniel</assigned_to>
          <cc>krzysztof.daniel</cc>
    
    <cc>sam.davis</cc>
    
    <cc>steffen.pingel</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2284401</commentid>
    <comment_count>0</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-07-15 07:29:50 -0400</bug_when>
    <thetext>Following the (short) discussion on http://dev.eclipse.org/mhonarc/lists/mylyn-dev/msg01847.html:
Let&apos;s remove unmaintained rome (together with jdom) from Mylyn.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2290199</commentid>
    <comment_count>1</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-07-31 10:07:15 -0400</bug_when>
    <thetext>I did some initial investigation: 
org.eclipse.mylyn.web.tasks looks quite easy - there is only one method in WebRepositoryConnector and does not leak any rome/jdom API.

Things are a bit more complicated if it comes to the org.eclipse.mylyn.commons.notifications.feed, because it leeks SyndEntry via getSource.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2290305</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-07-31 12:45:39 -0400</bug_when>
    <thetext>+1 for removing dependencies on JDOM and ROME.

I wouldn&apos;t worry about o.e.m.web.tasks initially since it&apos;s in the Incubator. Are you building/shipping that Krysztof?

For o.e.m.commons.notifications.feed we would have to rewrite the parser. The format of http://www.eclipse.org/mylyn/updates.xml is reasonably straight forward and we can also change it if that makes parsing easier.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2290366</commentid>
    <comment_count>3</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-07-31 15:01:02 -0400</bug_when>
    <thetext>I&apos;m not sure if referencing one format is really desired. AFAIK there is RSS 1.0, RSS 2.0 and Atom. I have not studied the differences yet, but found somewhere that 2.0 and Atom are just extensions of 1.0. Do you happen to know if really only one parser will be needed?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2290556</commentid>
    <comment_count>4</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-08-01 08:22:03 -0400</bug_when>
    <thetext>https://git.eclipse.org/r/#/c/15041/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2290883</commentid>
    <comment_count>5</comment_count>
    <who name="Krzysztof Daniel">krzysztof.daniel</who>
    <bug_when>2013-08-02 03:48:01 -0400</bug_when>
    <thetext>Hey Steffen,
those tests pass for me locally - could you run them, too? I really have no idea why do they fail.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2293823</commentid>
    <comment_count>6</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-08-12 13:01:53 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; I&apos;m not sure if referencing one format is really desired. AFAIK there is RSS
&gt; 1.0, RSS 2.0 and Atom. I have not studied the differences yet, but found
&gt; somewhere that 2.0 and Atom are just extensions of 1.0. Do you happen to know if
&gt; really only one parser will be needed?

I&apos;m okay with limiting notifications parsing to a specific format. We only use it for Task List update notifications so we basically control the format.

(For the Generic Web Connector it&apos;s a bit different but as said in comment 2 I wouldn&apos;t worry about it.)

Thanks for the patch. I&apos;ll tentatively put this on for 3.10 so we can hopefully resolve this for the next release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2314717</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-05 21:07:29 -0400</bug_when>
    <thetext>Tomek, Sam, it would be great to get this in for the release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2317152</commentid>
    <comment_count>8</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-11 06:50:28 -0400</bug_when>
    <thetext>Tomek, Sam, could you take a look at the latest on https://git.eclipse.org/r/#/c/15041/? It would be great to get this in for 3.10.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2318076</commentid>
    <comment_count>9</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-15 00:36:34 -0400</bug_when>
    <thetext>The changes were merged. Thanks very much for driving this, Krzysztof!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2319187</commentid>
    <comment_count>10</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-10-16 17:11:52 -0400</bug_when>
    <thetext>Steffen, we still have the following line in /org.eclipse.mylyn.commons.notifications.feed/plugin.properties

bq. jars.extra.classpath = platform:/plugin/com.sun.syndication

Should this be removed? I don&apos;t believe it would ever have had any effect anyway since it is supposed to go in build.properties.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2319305</commentid>
    <comment_count>11</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-10-17 03:30:36 -0400</bug_when>
    <thetext>That looks like a mistake indeed. Yep, let&apos;s remove that bogus entry.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>