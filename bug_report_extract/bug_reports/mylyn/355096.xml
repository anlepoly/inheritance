<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>355096</bug_id>
          
          <creation_ts>2011-08-18 11:08:00 -0400</creation_ts>
          <short_desc>[Subclipse] Implement the getChangeSets Iterator api</short_desc>
          <delta_ts>2011-09-13 08:11:59 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Versions</product>
          <component>Framework</component>
          <version>0.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>core</keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>0.9</target_milestone>
          <dependson>354670</dependson>
          <blocked>355098</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Alvaro Sanchez-Leon">alvsan09</reporter>
          <assigned_to name="Alvaro Sanchez-Leon">alvsan09</assigned_to>
          <cc>lmcbout</cc>
    
    <cc>marco.masse</cc>
    
    <cc>sebastien.dubois</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1981002</commentid>
    <comment_count>0</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-18 11:08:05 -0400</bug_when>
    <thetext>This is the specific implementation of the getChangeSets: Iterator interface.

this is in order to reduce the waiting time to resolve the change list and the corresponding changes with base and targets.

e.g. via a blocking queue with a producer thread filling the changeset information e.g. in chunks
and removing elements consumed by the iterator.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1981030</commentid>
    <comment_count>1</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-18 11:46:33 -0400</bug_when>
    <thetext>The initial implementation will assume that only one Iterator&lt;ChangeSet&gt; is needed at any given time, 
so each time a new iterator is requested for an associated eclipse project (e.g. new UI dialogue)  the previous worker changeSet producer thread will be shutdown and a new iterator will be provided which shall start with an empty queue.

The above can be later enhanced to re-use the same thread (one per project) and use a cached list of parsed ChangeSets, so the queue is filled up from the cache. This enhancement has to also consider that new commits may be available so the top of the list may need to be refreshed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1983266</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2011-08-23 15:07:47 -0400</bug_when>
    <thetext>I get a compile error on Java 1.5 in /org.eclipse.mylyn.subclipse.core/src/org/eclipse/mylyn/internal/subclipse/core	/SubclipseConnector.java:590: MINUTES cannot be resolved or is not a field	.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1983280</commentid>
    <comment_count>3</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-23 15:29:12 -0400</bug_when>
    <thetext>I see..    I have just pushed the fix,
Thanks for pointing this out.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1983362</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2011-08-23 17:37:58 -0400</bug_when>
    <thetext>You can detect this if you configure a 1.5 JRE in your workspace.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1983385</commentid>
    <comment_count>5</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-23 18:22:05 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; You can detect this if you configure a 1.5 JRE in your workspace.

Yes, I normally do, but missed it for this time.
Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1984426</commentid>
    <comment_count>6</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2011-08-25 09:48:06 -0400</bug_when>
    <thetext>Implemented:
    bug 355096: Stop on copied elements to avoid path resolution problems
    in addition:
    - Introduce maximum number of recovery attempts to obtain next vesions
    after an exception
    - Detect done e.g. log message list received &lt; than CHUNK_SIZE
    - Reduce poll timeout to 60 seconds
    - Always use a valid version as the start of a chunk e.g. using the last
    entry on the previous chunk to start the next one. but prevent adding
    the last entry of every chuck to the list (to avoid duplicates)</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>