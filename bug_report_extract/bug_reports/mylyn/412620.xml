<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>412620</bug_id>
          
          <creation_ts>2013-07-09 15:19:00 -0400</creation_ts>
          <short_desc>re-enable GerritUrlHandlerTest.testOpenUrl() test</short_desc>
          <delta_ts>2013-07-17 07:17:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Reviews</product>
          <component>Gerrit Connector</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>2.0.1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Tomasz Zarna">tomasz.zarna</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>milesparker</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2282486</commentid>
    <comment_count>0</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-07-09 15:19:05 -0400</bug_when>
    <thetext>The test was failing, because it was blocked while calling RemoteUiService.modelExec(Runnable, boolean). If the call was non-blocking you got an error msg saying &quot;Problem while retrieving Gerrit review.: Not Found null,&quot; which means that the connector was unable open a review from Gerrit 2.6 (see bug 395059). The test uses a hard-coded [1] fixture pointing to git.eclipse.org [2].

&quot;I&apos;d be helpful to provision a Gerrit instance on the test server that didn&apos;t rely on HTTP authentication but also allowed anonymous access so we don&apos;t have to rely on Eclipse.org for testing.&quot; [3]. Until that happens we should disable the test as Hudson saying -1 for each review isn&apos;t very helpful and it makes spotting a real test regression damn hard.

[1] https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.reviews.git/tree/org.eclipse.mylyn.gerrit.tests/src/org/eclipse/mylyn/gerrit/tests/ui/GerritUrlHandlerTest.java#n52
[2] https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.reviews.git/tree/org.eclipse.mylyn.gerrit.tests/src/org/eclipse/mylyn/gerrit/tests/support/GerritFixture.java#n24
[3] bug 411052 comment 29</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2282488</commentid>
    <comment_count>1</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-07-09 15:22:36 -0400</bug_when>
    <thetext>Review for disabling the test for the time being: https://git.eclipse.org/r/#/c/14414/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2284139</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-07-13 10:48:59 -0400</bug_when>
    <thetext>Pushed two reviews to add a test fixture that supports anonymous access and a change for the test to use that:

14504: update Gerrit repositories to 2.4.4, 2.5.6, 2.6.1, 2.7-rc2, https://git.eclipse.org/r/#/c/14504/
14531: re-enable GerritUrlHandlerTest.testOpenUrl() test, https://git.eclipse.org/r/#/c/14531/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2285419</commentid>
    <comment_count>3</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-07-17 07:17:17 -0400</bug_when>
    <thetext>The change was merged.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>