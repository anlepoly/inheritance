<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>374673</bug_id>
          
          <creation_ts>2012-03-19 12:45:00 -0400</creation_ts>
          <short_desc>use &lt;visibleWhen/&gt; for contained components</short_desc>
          <delta_ts>2012-06-10 17:34:43 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Tasks</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>3.8</target_milestone>
          <dependson>374326</dependson>
          <blocked>321278</blocked>
    
    <blocked>376368</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2082686</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-03-19 12:45:21 -0400</bug_when>
    <thetext>Hiding of the active task trim does not work properly on e4 (bug 355059). To properly hide hide trims all contributions to the trim need to be hidden since &lt;visibleWhen/&gt; on the trim toolbar itself has no effect (see bug 201589). Instead of using internals to manipulate control visibility the plugin.xml should specify &lt;visibleWhen/&gt; extensions for all contributions.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2082687</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-03-19 12:46:47 -0400</bug_when>
    <thetext>Proposed change: http://review.mylyn.org/375

Paul Webster writes on bug 355059 comment 29:

&gt; You can ask the property tester to re-evaluate at any time using
&gt; org.eclipse.ui.services.IEvaluationService.requestEvaluation(String)
&gt; 
&gt; The only other thing to be careful about is the property tester has been added
&gt; in your UI plugin.  forcePluginActivation will allow the UI framework to load
&gt; any UI delegates it thinks it needs.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096873</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-04-23 01:50:23 -0400</bug_when>
    <thetext>I have committed the change. I tried using the evaluation service to trigger toggling of visibility on preference change but that didn&apos;t work. The workbench updates visibility on shell activation though which seems good enough.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096874</commentid>
    <comment_count>3</comment_count>
      <attachid>214364</attachid>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-04-23 01:50:26 -0400</bug_when>
    <thetext>Created attachment 214364
mylyn/context/zip</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2121381</commentid>
    <comment_count>4</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-06-07 18:25:12 -0400</bug_when>
    <thetext>Steffen, I installed 20120531-0157 and am not able to hide the trim. Changing the preference has no effect.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2121382</commentid>
    <comment_count>5</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-06-07 18:27:45 -0400</bug_when>
    <thetext>Also, bootstrapping on master, changing the preference hides the trim but leaves behind an empty toolbar.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2121390</commentid>
    <comment_count>6</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-06-07 19:19:14 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; Steffen, I installed 20120531-0157 and am not able to hide the trim. Changing
&gt; the preference has no effect.

I guess you can ignore this comment - I somehow have Mylyn 3.7.1 installed. Comment 5 still stands though.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2122187</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-10 13:24:23 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; Also, bootstrapping on master, changing the preference hides the trim but leaves
&gt; behind an empty toolbar.

I have seen this, too, but couldn&apos;t come up with reliable steps to reproduce. Please file a platform bug if you are still experiencing this with RC4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2122229</commentid>
    <comment_count>8</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-06-10 17:34:43 -0400</bug_when>
    <thetext>This is reliably reproducable on 3.7. I have not seen it on 4.x. I posted a comment on bug 201589.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>214364</attachid>
            <date>2012-04-23 01:50:00 -0400</date>
            <delta_ts>2012-04-23 01:50:26 -0400</delta_ts>
            <desc>mylyn/context/zip</desc>
            <filename>mylyn-context.zip</filename>
            <type>application/octet-stream</type>
            <size>3543</size>
            <attacher name="Steffen Pingel">steffen.pingel</attacher>
            
              <data encoding="base64">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
AAAAYw0AAAAA
</data>

          </attachment>
      

    </bug>

</bugzilla>