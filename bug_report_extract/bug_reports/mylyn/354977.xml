<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>354977</bug_id>
          
          <creation_ts>2011-08-17 12:02:00 -0400</creation_ts>
          <short_desc>BadLocationException when DeleteLine command is invoked (CTRL+D)</short_desc>
          <delta_ts>2011-08-22 20:41:34 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Commons</product>
          <component>UI</component>
          <version>3.6</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="David Green">david.green</reporter>
          <assigned_to name="David Green">david.green</assigned_to>
          <cc>steffen.pingel</cc>
          <qa_contact name="David Green">david.green</qa_contact>
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1980055</commentid>
    <comment_count>0</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2011-08-17 12:02:25 -0400</bug_when>
    <thetext>Seen when bootstrapping on the latest Mylyn WikiText:

stack trace below:

org.eclipse.jface.text.BadLocationException
	at org.eclipse.jface.text.TreeLineTracker.fail(TreeLineTracker.java:1055)
	at org.eclipse.jface.text.TreeLineTracker.offsetByLine(TreeLineTracker.java:334)
	at org.eclipse.jface.text.TreeLineTracker.getLineOffset(TreeLineTracker.java:1122)
	at org.eclipse.jface.text.AbstractLineTracker.getLineOffset(AbstractLineTracker.java:169)
	at org.eclipse.jface.text.AbstractDocument.getLineOffset(AbstractDocument.java:922)
	at org.eclipse.ui.texteditor.TextViewerDeleteLineTarget.getDeleteRegion(TextViewerDeleteLineTarget.java:279)
	at org.eclipse.ui.texteditor.TextViewerDeleteLineTarget.deleteLine(TextViewerDeleteLineTarget.java:355)
	at org.eclipse.ui.texteditor.TextViewerDeleteLineTarget.deleteLine(TextViewerDeleteLineTarget.java:340)
	at org.eclipse.mylyn.internal.provisional.commons.ui.commands.AbstractDeleteLineHandler.execute(AbstractDeleteLineHandler.java:45)
	at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:293)
	at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476)
	at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508)
	at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:468)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:786)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:885)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:567)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:508)
	at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:123)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1100)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1509)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4640)
	at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:345)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4528)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4972)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2530)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1981051</commentid>
    <comment_count>1</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2011-08-18 12:07:03 -0400</bug_when>
    <thetext>pushed 546e316b81fabd2933cf4f8e38b0c5dfaf956ea7 to @org.eclipse.mylyn.internal.provisional.commons.ui.commands.AbstractDeleteLineHandler@, which now uses Eclipse 3.5 APIs (the 3.4 API was broken)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1981334</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2011-08-18 17:47:28 -0400</bug_when>
    <thetext>Thanks David. Please always rebase before pushing. You can also change the default policy on a per-branch basis to automate that.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1982718</commentid>
    <comment_count>3</comment_count>
    <who name="David Green">david.green</who>
    <bug_when>2011-08-22 20:41:34 -0400</bug_when>
    <thetext>(In reply to comment #2)
&gt; Thanks David. Please always rebase before pushing. You can also change the
&gt; default policy on a per-branch basis to automate that.

I thought I had setup the branch to do that but realized my mistake after pushing.  Sorry for the erroneous merge-commit.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>