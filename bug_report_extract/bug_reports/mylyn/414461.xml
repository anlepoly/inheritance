<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>414461</bug_id>
          
          <creation_ts>2013-08-06 03:28:00 -0400</creation_ts>
          <short_desc>RichTextAttributeEditor warning when refreshing/opening gerrit task</short_desc>
          <delta_ts>2014-03-13 10:28:22 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Reviews</product>
          <component>Gerrit Connector</component>
          <version>2.0</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>NEW</bug_status>
          <resolution></resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Thomas Ehrnhoefer">thomas.ehrnhoefer</reporter>
          <assigned_to name="Mylyn Inbox">mylyn-inbox</assigned_to>
          <cc>milesparker</cc>
    
    <cc>sam.davis</cc>
    
    <cc>tomasz.zarna</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2291689</commentid>
    <comment_count>0</comment_count>
    <who name="Thomas Ehrnhoefer">thomas.ehrnhoefer</who>
    <bug_when>2013-08-06 03:28:25 -0400</bug_when>
    <thetext>Got this in the error log when I opened a review task and synchronized it:
@Expected an instance of RichTextAttributeEditor, got &quot;&lt;null&gt;&quot;@ 

Since I have no clue what it means, I assume this message should be either not shown or with more information (as other users will probably have the same trouble figuring out what&apos;s going on).

Coult be related to bug 414460</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2294140</commentid>
    <comment_count>1</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-08-13 07:30:12 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; Coult be related to bug 414460

I&apos;ve just seen it without any accompanying NPE, so I don&apos;t think they are related. I got this after opening a review, no syncing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2294409</commentid>
    <comment_count>2</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-08-13 14:30:09 -0400</bug_when>
    <thetext>Have *no* idea what&apos;s happening here. I think the only rich attribute editor we have is for comment (NEW_COMMENT).. But what might have changed to affect that?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2295731</commentid>
    <comment_count>3</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-08-16 12:20:07 -0400</bug_when>
    <thetext>Should be easy to debug if reproducible: set a breakpoint at TaskEditorRichTextPart:108.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2295821</commentid>
    <comment_count>4</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-08-16 15:51:48 -0400</bug_when>
    <thetext>On https://git.eclipse.org/r/#/c/15004/8, Tomek reported:

(In reply to comment #21)
&gt; Patch Set 7:
&gt; * Now I can reproduce https://bugs.eclipse.org/bugs/show_bug.cgi?id=414461 quite
&gt; reliably, got 5 warnings in a row

I still can&apos;t get that working. Perhaps it is platform specific. I&apos;ll fire up my Windows virtual box, but perhaps you could also check whether https://git.eclipse.org/r/#/c/15004/8 ahs any impact.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2295822</commentid>
    <comment_count>5</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-08-16 15:52:41 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; I still can&apos;t get that working. Perhaps it is platform specific. I&apos;ll fire up my
&gt; Windows virtual box, but perhaps you could also check whether
&gt; https://git.eclipse.org/r/#/c/15004/8 ahs any impact.

I guess I should say &quot;I still can&apos;t get that *not* working&quot;. :D</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2295829</commentid>
    <comment_count>6</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-08-16 16:14:13 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; On https://git.eclipse.org/r/#/c/15004/8, Tomek reported:

Correection: That was on https://git.eclipse.org/r/#/c/15004/7 -- it&apos;s just possible that the latest patch 8 actually fixs this issue but I&apos;m not sure.

I&apos;m unable to reproduce this on Windows either. So I&apos;m a bit flummoxed. Could someone (Tomek?) set a stack trace and do a little more investigation when this occurs?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2295837</commentid>
    <comment_count>7</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-08-16 17:33:04 -0400</bug_when>
    <thetext>(In reply to comment #6)
&gt; Could someone (Tomek?) set a stack trace and do a little more investigation
&gt; when this occurs?

Sure, I&apos;ll take a look on Monday.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2296152</commentid>
    <comment_count>8</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2013-08-19 06:58:32 -0400</bug_when>
    <thetext>The warning is logged in @org.eclipse.mylyn.internal.tasks.ui.editors.TaskEditorRichTextPart.createControl(Composite, FormToolkit)@ [1]. In this particular case, apparently, @org.eclipse.mylyn.tasks.ui.editors.AbstractTaskEditorPart.createAttributeEditor(TaskAttribute)@ [2] returned @null@ for the given non-null (already checked in @TaskEditorRichTextPart.createControl@) attribute, so @attribute.getMetaData().getType()@ must have been @null@.

In https://git.eclipse.org/r/15597 I modified the warning logged so next time it happens we should get a stack trace.

[1] https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.tasks.git/tree/org.eclipse.mylyn.tasks.ui/src/org/eclipse/mylyn/internal/tasks/ui/editors/TaskEditorRichTextPart.java#n94
[2] https://git.eclipse.org/c/mylyn/org.eclipse.mylyn.tasks.git/tree/org.eclipse.mylyn.tasks.ui/src/org/eclipse/mylyn/tasks/ui/editors/AbstractTaskEditorPart.java#n61</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375333</commentid>
    <comment_count>9</comment_count>
    <who name="Tomasz Zarna">tomasz.zarna</who>
    <bug_when>2014-03-13 05:32:44 -0400</bug_when>
    <thetext>Thomas, has it happen again to you (any chance for the stack trace from comment 8)? I haven&apos;t seen it for a while.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375528</commentid>
    <comment_count>10</comment_count>
    <who name="Thomas Ehrnhoefer">thomas.ehrnhoefer</who>
    <bug_when>2014-03-13 10:28:22 -0400</bug_when>
    <thetext>nope, haven&apos;t seen it anymore. thanks for asking Tomek!</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>