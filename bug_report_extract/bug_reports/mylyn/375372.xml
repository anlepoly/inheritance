<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>375372</bug_id>
          
          <creation_ts>2012-03-26 21:08:00 -0400</creation_ts>
          <short_desc>[Subclipse] Include connector in next mylyn release</short_desc>
          <delta_ts>2012-06-05 03:56:07 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Versions</product>
          <component>Framework</component>
          <version>0.9</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows Vista</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>plan</keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>1.0</target_milestone>
          <dependson>359469</dependson>
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Alvaro Sanchez-Leon">alvsan09</reporter>
          <assigned_to name="Sebastien Dubois">sebastien.dubois</assigned_to>
          <cc>alvsan09</cc>
    
    <cc>markphip</cc>
    
    <cc>steffen.pingel</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2086018</commentid>
    <comment_count>0</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2012-03-26 21:08:55 -0400</bug_when>
    <thetext>This is to follow up the implementation of missing functionality to include the Subclipse connector in the next mylyn release.

Steffen, could you please start the discussion on this one and indicate what is missing on the subclipse connector ?  
I actually use it only in the context of Mylyn Reviews and it&apos;s pretty stable in this context.

Could you please provide some steps the reproduce the problems seen while using it in the context of Mylyn builds</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2086295</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-03-27 12:07:31 -0400</bug_when>
    <thetext>I didn&apos;t say that there were any missing features. All I said is that I haven&apos;t tested it and hence can&apos;t make a call whether it&apos;s suitable to be included in a release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2086452</commentid>
    <comment_count>2</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2012-03-27 18:30:28 -0400</bug_when>
    <thetext>ok, let&apos;s keep the issue opened so we can follow any questions around it</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2107955</commentid>
    <comment_count>3</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2012-05-14 23:50:12 -0400</bug_when>
    <thetext>There were a few compatibility issues because the Subclipse connector was not implementing the ScmArtifact#getContributors interface method, but I fixed it.  I will pass it to Alvaro for committing since I do not have committer rights for Mylyn versions.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2109711</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-05-17 16:35:53 -0400</bug_when>
    <thetext>If you wrote the code please submit the change as a contribution through Gerrit. Alvaro can not commit code on your behalf unless you are also a committer on the project. In order to merge the contribution please confirm the following on the review (http://wiki.eclipse.org/Development_Resources/Handling_Git_Contributions):

Contributor asserts on the corresponding bug or in a comment on the Gerrit push record that they:
1. authored 100% the content they are contributing
2. have the rights to donate the content to EPL
3. contribute the content under the EPL

Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2110258</commentid>
    <comment_count>5</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2012-05-18 14:38:29 -0400</bug_when>
    <thetext>Final solution implemented and reviewed

As I am only a contributor on the Mylyn versions project, I certify that I authored 100% the content they are contributing, I have the rights to donate the content to EPL and also that I contribute the content under the EPL.

Sebastien Dubois
Ericsson Canada</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2110269</commentid>
    <comment_count>6</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2012-05-18 14:53:03 -0400</bug_when>
    <thetext>Steffen, everything should be ok now.  Do you want to have a final look and approve it, or should alvaro approve it here?

Let us know,
/Sebastien</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2110601</commentid>
    <comment_count>7</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-05-20 07:05:47 -0400</bug_when>
    <thetext>Looks good to me. Please feel free to submit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2111170</commentid>
    <comment_count>8</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2012-05-21 13:19:01 -0400</bug_when>
    <thetext>Steffen, please let us know if there is anything missing before including the subclipse connector on the next Mylyn release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2111173</commentid>
    <comment_count>9</comment_count>
    <who name="Alvaro Sanchez-Leon">alvsan09</who>
    <bug_when>2012-05-21 13:28:24 -0400</bug_when>
    <thetext>The fix is now published in the eclipse repository</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2113654</commentid>
    <comment_count>10</comment_count>
    <who name="Mark Phippard">markphip</who>
    <bug_when>2012-05-24 11:44:55 -0400</bug_when>
    <thetext>Is there documentation somewhere as to what the Mylyn Versions framework does and what this plugin specifically provides for Subclipse users?  We could promote this plugin better from Subclipse if we understood it.  Of course we could also help to maintain it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2114202</commentid>
    <comment_count>11</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-05-25 09:10:57 -0400</bug_when>
    <thetext>We don&apos;t have good documentation at this point other than the code. Thanks for your offer to help maintaining. It could be beneficial to move it to Subclipse and we should evaluate if we could unify the team provider APIs in Mylyn so we could consolidate the existing Subclipse integrations. Unfortunately I won&apos;t get around to that before Juno but we can look into this after the release.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118664</commentid>
    <comment_count>12</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-04 10:41:52 -0400</bug_when>
    <thetext>I have added these features to the default build targets:

&lt;location includeAllPlatforms=&quot;false&quot; includeMode=&quot;planner&quot; includeSource=&quot;true&quot; type=&quot;InstallableUnit&quot;&gt;
&lt;unit id=&quot;org.tigris.subversion.subclipse.feature.group&quot; version=&quot;0.0.0&quot;/&gt;
&lt;unit id=&quot;org.tigris.subversion.clientadapter.feature.feature.group&quot; version=&quot;0.0.0&quot;/&gt;
&lt;repository location=&quot;http://subclipse.tigris.org/update_1.8.x&quot;/&gt;

I&apos;m not happy about the 0.0.0 version specification. In order to be able to reproduce builds we need to specify an exact version but in the past older versions disappeared from the Subclipse site as new versions were released. 

Is there a stable update site for Subclipse similar to the Mylyn archive (http://eclipse.org/mylyn/downloads/archive.php) where older release repositories are kept?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118670</commentid>
    <comment_count>13</comment_count>
    <who name="Mark Phippard">markphip</who>
    <bug_when>2012-06-04 10:46:23 -0400</bug_when>
    <thetext>Zipped versions of the site are maintained here:

http://subclipse.tigris.org/servlets/ProjectDocumentList?folderID=5146

But this folder only contains previous versions.  The current version is always here:

http://subclipse.tigris.org/servlets/ProjectDocumentList?folderID=2240</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118681</commentid>
    <comment_count>14</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-04 10:54:24 -0400</bug_when>
    <thetext>Thanks. Unfortunately the target resolver can only handle directly accessible p2 repositories but not archived repositories. Sebastien, I&apos;m afraid this could be show stopper as we need to ensure that release builds are reproducible (by anyone) and we can&apos;t host the Subclipse artifacts on Eclipse.org.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118695</commentid>
    <comment_count>15</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-04 11:07:10 -0400</bug_when>
    <thetext>Staged changes that would be required to resolve this bug:

 https://git.eclipse.org/r/6238
 https://git.eclipse.org/r/6239</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118723</commentid>
    <comment_count>16</comment_count>
    <who name="Mark Phippard">markphip</who>
    <bug_when>2012-06-04 11:33:57 -0400</bug_when>
    <thetext>OK, when I looked at your link I saw the download of the zips and did not realize those were also online p2 sites.

I have created an equivalent for Subclipse.  When I post a new release I will also post it to the archive location.  Here are the current URL&apos;s:

http://subclipse.tigris.org/archive/subclipse_1.8.10
http://subclipse.tigris.org/archive/subclipse_1.8.9
http://subclipse.tigris.org/archive/subclipse_1.8.8
http://subclipse.tigris.org/archive/subclipse_1.8.7
http://subclipse.tigris.org/archive/subclipse_1.8.6

I would recommend you use the current release (1.8.10)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118726</commentid>
    <comment_count>17</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2012-06-04 11:36:08 -0400</bug_when>
    <thetext>
(In reply to comment #14)
&gt; Thanks. Unfortunately the target resolver can only handle directly accessible p2
&gt; repositories but not archived repositories. Sebastien, I&apos;m afraid this could be
&gt; show stopper as we need to ensure that release builds are reproducible (by
&gt; anyone) and we can&apos;t host the Subclipse artifacts on Eclipse.org.

OK,  can we then summarize the conditions that need to be met on the repositories in order to comply all requirements for reproduceable builds?   For example, should the subclipse site accumulate all releases related to a particilar Subclipse version? For how long should this be maintained?  Anything else?

As for acting on this, once this is clarified, I am afraid that only the Subclipse team can act on this.  So we will have to see where that stand.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118746</commentid>
    <comment_count>18</comment_count>
    <who name="Mark Phippard">markphip</who>
    <bug_when>2012-06-04 11:50:42 -0400</bug_when>
    <thetext>Also added a summary page:

http://subclipse.tigris.org/archive/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118812</commentid>
    <comment_count>19</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-04 13:08:05 -0400</bug_when>
    <thetext>(In reply to comment #16)
&gt; I have created an equivalent for Subclipse.  When I post a new release I will
&gt; also post it to the archive location.  Here are the current URL&apos;s:
&gt;
&gt; http://subclipse.tigris.org/archive/subclipse_1.8.10
... 
&gt; I would recommend you use the current release (1.8.10)

Thanks very much for the super fast fix! I have added the 1.8.10 site to the targets.

A build is now underway: https://hudson.eclipse.org/hudson/job/mylyn-3.8.x-release/15/console

(In reply to comment #17)
&gt; OK,  can we then summarize the conditions that need to be met on the
&gt; repositories in order to comply all requirements for reproduceable builds?

Generally speaking, we only allow dependencies from Eclipse release train repositories. That guarantees that artifacts will be available &quot;forever&quot;, compatibility with other release train projects, license compatibility and simplified consumption for releng purposes and consumers.

We are making an exception for the Subclipse connector since we are not quite ready to move it outside of Eclipse.org and want to provide a reasonably simple way for consumers to obtain it. In my opinion this is only a temporary measure and it would be better to merge the connector into the existing Subclipse Mylyn extension and distribute it on the Subclipse update site. To make that happen we need solidify the new versions APIs further and unify them with the existing team API in Mylyn Context to alleviate the need for two separate Subclipse connectors.

&gt; For example, should the subclipse site accumulate all releases related to a
&gt; particilar Subclipse version? 

It could but there is no need for that.

&gt; For how long should this be maintained?  

Forever.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2118849</commentid>
    <comment_count>20</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-04 13:55:26 -0400</bug_when>
    <thetext>Sebastien, please verify that the Subclipse connector feature that is available from the Mylyn weekly site now works as expected.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2119085</commentid>
    <comment_count>21</comment_count>
    <who name="Sebastien Dubois">sebastien.dubois</who>
    <bug_when>2012-06-04 21:53:58 -0400</bug_when>
    <thetext>I verified the new Subclipse connector build by testing it against R4E and Mylyn builds and everything works fine.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2119164</commentid>
    <comment_count>22</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-06-05 03:55:48 -0400</bug_when>
    <thetext>Thanks. Then let&apos;s consider this done.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>