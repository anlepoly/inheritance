<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>357299</bug_id>
          
          <creation_ts>2011-09-09 21:43:00 -0400</creation_ts>
          <short_desc>NPE when removing an item from quick context page in task editor.</short_desc>
          <delta_ts>2012-03-21 10:55:54 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Context</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>contributed</keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Miles Parker">milesparker</reporter>
          <assigned_to name="Miles Parker">milesparker</assigned_to>
          <cc>shawn.minto</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1991611</commentid>
    <comment_count>0</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2011-09-09 21:43:22 -0400</bug_when>
    <thetext>When I try to remove an object from within the elements area of the task editor context page, I get the exception below. The attached patch fixes it. We need to pass an empty selection for any selection events, not null.

Daemon Thread [Thread-1] (Suspended (exception AssertionFailedException))	
	Assert.isNotNull(Object, String) line: 85	
	Assert.isNotNull(Object) line: 73	
	SelectionChangedEvent.&lt;init&gt;(ISelectionProvider, ISelection) line: 46	
	SelectionProviderAdapter.setSelection(ISelection) line: 75	
	InterestDecrementAction(AbstractInterestManipulationAction).run(IAction) line: 100	
	ObjectPluginAction(PluginAction).runWithEvent(Event) line: 251	
	PluginActionContributionItem(ActionContributionItem).handleWidgetSelection(Event, boolean) line: 584	
	ActionContributionItem.access$2(ActionContributionItem, Event, boolean) line: 501	
	ActionContributionItem$5.handleEvent(Event) line: 411	
	EventTable.sendEvent(Event) line: 84	
	Display.sendEvent(EventTable, Event) line: 4125	
	MenuItem(Widget).sendEvent(Event) line: 1457	
	MenuItem(Widget).sendEvent(int, Event, boolean) line: 1480	
	MenuItem(Widget).sendEvent(int, Event) line: 1465	
	MenuItem(Widget).notifyListeners(int, Event) line: 1270	
	Display.runDeferredEvents() line: 3971	
	Display.readAndDispatch() line: 3610	
	Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 2696	
	Workbench.runUI() line: 2660	
	Workbench.access$4(Workbench) line: 2494	
	Workbench$7.run() line: 674	
	Realm.runWithDefault(Realm, Runnable) line: 332	
	Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 667	
	PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 149	
	IDEApplication.start(IApplicationContext) line: 123	
	EclipseAppHandle.run(Object) line: 196	
	EclipseAppLauncher.runApplication(Object) line: 110	
	EclipseAppLauncher.start(Object) line: 79	
	EclipseStarter.run(Object) line: 344	
	EclipseStarter.run(String[], Runnable) line: 179	
	NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]	
	NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39	
	DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25	
	Method.invoke(Object, Object...) line: 597	
	Main.invokeFramework(String[], URL[]) line: 622	
	Main.basicRun(String[]) line: 577	
	Main.run(String[]) line: 1410	
	Main.main(String[]) line: 1386</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1991612</commentid>
    <comment_count>1</comment_count>
      <attachid>203101</attachid>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2011-09-09 21:44:30 -0400</bug_when>
    <thetext>Created attachment 203101
Fix for NPE

This patch fixes the issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1992163</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2011-09-12 12:54:03 -0400</bug_when>
    <thetext>The patch looks good. Would you be able to add a test case along with the change? It&apos;s also greatly appreciated if you attach contexts along with patches. It helps to identify the relevant code parts more quickly. Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1992175</commentid>
    <comment_count>3</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2011-09-12 13:21:21 -0400</bug_when>
    <thetext>I was afraid you were going to ask me that. :) It showed up as a result of a sort of random case, I&apos;m not even sure that it happens consistently. It would take quite a bit of time to try to set up a test UI case with the quick content manager and so on. Perhaps we could just treat it as fixing a common APIusage issue? (I don&apos;t have a separate context as I just made a quick change to this one file.)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1998023</commentid>
    <comment_count>4</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2011-09-22 07:12:10 -0400</bug_when>
    <thetext>Shawn, I&apos;ll leave it up to you to merge the patch with or without a test case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2067359</commentid>
    <comment_count>5</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-02-17 05:50:54 -0500</bug_when>
    <thetext>I have applied the patch. Thanks Miles!</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>203101</attachid>
            <date>2011-09-09 21:44:00 -0400</date>
            <delta_ts>2011-09-09 21:44:30 -0400</delta_ts>
            <desc>Fix for NPE</desc>
            <filename>FixforNPE.patch</filename>
            <type>text/plain</type>
            <size>642</size>
            <attacher name="Miles Parker">milesparker</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBzcmMvb3JnL2VjbGlwc2UvbXlseW4vaW50ZXJuYWwvY29udGV4dC91aS9hY3Rp
b25zL0Fic3RyYWN0SW50ZXJlc3RNYW5pcHVsYXRpb25BY3Rpb24uamF2YSBzcmMvb3JnL2VjbGlw
c2UvbXlseW4vaW50ZXJuYWwvY29udGV4dC91aS9hY3Rpb25zL0Fic3RyYWN0SW50ZXJlc3RNYW5p
cHVsYXRpb25BY3Rpb24uamF2YQppbmRleCAwNzFkZmMzLi4yMzMxMGY1IDEwMDY0NAotLS0gc3Jj
L29yZy9lY2xpcHNlL215bHluL2ludGVybmFsL2NvbnRleHQvdWkvYWN0aW9ucy9BYnN0cmFjdElu
dGVyZXN0TWFuaXB1bGF0aW9uQWN0aW9uLmphdmEKKysrIHNyYy9vcmcvZWNsaXBzZS9teWx5bi9p
bnRlcm5hbC9jb250ZXh0L3VpL2FjdGlvbnMvQWJzdHJhY3RJbnRlcmVzdE1hbmlwdWxhdGlvbkFj
dGlvbi5qYXZhCkBAIC05Nyw3ICs5Nyw3IEBACiAJCQkJCQkJCS5nZXRBY3RpdmVQYXJ0KCkKIAkJ
CQkJCQkJLmdldFNpdGUoKQogCQkJCQkJCQkuZ2V0U2VsZWN0aW9uUHJvdmlkZXIoKQotCQkJCQkJ
CQkuc2V0U2VsZWN0aW9uKG51bGwpOworCQkJCQkJCQkuc2V0U2VsZWN0aW9uKFN0cnVjdHVyZWRT
ZWxlY3Rpb24uRU1QVFkpOwogCQkJCQl9IGNhdGNoIChFeGNlcHRpb24gZSkgewogCQkJCQkJLy8g
aWdub3JlCiAJCQkJCX0K
</data>

          </attachment>
      

    </bug>

</bugzilla>