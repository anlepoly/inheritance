<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>371984</bug_id>
          
          <creation_ts>2012-02-18 17:12:00 -0500</creation_ts>
          <short_desc>provide a generic storage API</short_desc>
          <delta_ts>2012-04-03 13:44:10 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Commons</product>
          <component>UI</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>plan</keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>3.7</target_milestone>
          
          <blocked>358554</blocked>
    
    <blocked>226618</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Steffen Pingel">steffen.pingel</reporter>
          <assigned_to name="Steffen Pingel">steffen.pingel</assigned_to>
          <cc>manuel.doninger</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2067951</commentid>
    <comment_count>0</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-02-18 17:12:15 -0500</bug_when>
    <thetext>A common requirement is to persist state for a particular ALM artifact such as a task, build or repository. The commons should provide a simple persistence API that is not coupled to the file system, supports basic locking and deferring of I/O operations. It should be generic to be reusalbe.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2067952</commentid>
    <comment_count>1</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-02-18 17:16:12 -0500</bug_when>
    <thetext>I have pushed a first pass at this here: http://review.mylyn.org/306. The key interface is ICommonStorable. It is conceptually very similar to a directory and allows storing of items identified by string identifiers through the use of input streams:

public interface ICommonStorable {

	public void delete(String item) throws CoreException;

	public InputStream read(String item, IProgressMonitor monitor) throws IOException, CoreException;

	public OutputStream write(String item, IProgressMonitor monitor) throws IOException, CoreException;

}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2070494</commentid>
    <comment_count>2</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-02-23 20:12:14 -0500</bug_when>
    <thetext>The new API is now available in org.eclipse.mylyn.commons.core.storage. It is still provisional and marked as x-internal and the API is still likely to change in the future. Feedback is appreciated but use with care.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2070495</commentid>
    <comment_count>3</comment_count>
      <attachid>211547</attachid>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2012-02-23 20:12:18 -0500</bug_when>
    <thetext>Created attachment 211547
mylyn/context/zip</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2089033</commentid>
    <comment_count>4</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2012-04-03 13:44:10 -0400</bug_when>
    <thetext>It would be convenient to have a simple api for storing key/value pairs on a task.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>211547</attachid>
            <date>2012-02-23 20:12:00 -0500</date>
            <delta_ts>2012-02-23 20:12:18 -0500</delta_ts>
            <desc>mylyn/context/zip</desc>
            <filename>mylyn-context.zip</filename>
            <type>application/octet-stream</type>
            <size>4395</size>
            <attacher name="Steffen Pingel">steffen.pingel</attacher>
            
              <data encoding="base64">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
txAAAAAA
</data>

          </attachment>
      

    </bug>

</bugzilla>