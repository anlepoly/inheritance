<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>410397</bug_id>
          
          <creation_ts>2013-06-10 19:37:00 -0400</creation_ts>
          <short_desc>users with existing tasks will not see update notifications</short_desc>
          <delta_ts>2013-06-12 17:15:28 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>14</classification_id>
          <classification>Mylyn</classification>
          <product>Mylyn Reviews</product>
          <component>Framework</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P2</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>2.0</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Miles Parker">milesparker</reporter>
          <assigned_to name="Miles Parker">milesparker</assigned_to>
          <cc>lily2guo</cc>
    
    <cc>sam.davis</cc>
    
    <cc>steffen.pingel</cc>
    
    <cc>tomasz.zarna</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2270846</commentid>
    <comment_count>0</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-10 19:37:09 -0400</bug_when>
    <thetext>This is a relatively minor temporary migration issue, but one we should fix to avoid a lot of questions from users:

When a user opens a model with an existing task, they won&apos;t see any patch sets, and they won&apos;t receive any notification that they need to update becaus as far as Mylyn Task data is concerned, the model *is* up to date. So we need to check for presence of the actual file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2270850</commentid>
    <comment_count>1</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-10 20:01:24 -0400</bug_when>
    <thetext>https://git.eclipse.org/r/#/c/13720/  &lt;-- For comments only

Actually, I&apos;m not sure how we can easily discover this, short of adding in a model exists task data or something, and that seems to be adding a lot of complexity for little gain. So in retrospect, marking as a won&apos;t fix unless anyone has a better idea how to handle this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271427</commentid>
    <comment_count>2</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 14:26:11 -0400</bug_when>
    <thetext>I&apos;m going to reopen this one. We probably won&apos;t be able to fix today,but I&apos;m concerned about impact on people onboarding.

What about something like just creating a Task Attribute for &quot;Version2.0&quot; or something and returning true for hasTaskChanged when that is false and immediatly setting it to true? And setting it to true for all new tasks? Does that make any sense?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271446</commentid>
    <comment_count>3</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-06-11 15:02:06 -0400</bug_when>
    <thetext>Lily is also seeing this on master when using a clean workspace.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271462</commentid>
    <comment_count>4</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 15:24:05 -0400</bug_when>
    <thetext>Discussing further w/ Sam, had the thought that we might simply store a &quot;Model Updated&quot; Date in Task Data. That would allow us to track whether a model actually existed at all previously and if so what it&apos;s new date is. I&apos;m not sure if it&apos;s realistic to get this in for 2.0, but I&apos;m going to try.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271564</commentid>
    <comment_count>5</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 17:39:53 -0400</bug_when>
    <thetext>https://git.eclipse.org/r/#/c/13761/ 

For possible inclusion in 2.0 -- though it could be somewhat risky, the changes seem pretty innocuous and it would help a great deal with user ramp-up. Note that the issue is actually more serious than initially thought because Lily reports that she sees this in a new workspace as well, which would mean that the first time reviews are synced we aren&apos;t actually getting the hasTask changed set either.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271576</commentid>
    <comment_count>6</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-06-11 18:30:56 -0400</bug_when>
    <thetext>The approach looks good to me but the patch is incomplete. I get incomings everytime I refresh the query so we&apos;ll have to refine further and take partial task data into account (and add tests). We won&apos;t be able to address this for 2.0 given the timing but we can fix it for 2.0.1.

For now we&apos;ll have to suggest to users to refresh manually once. I would suggest that we add a note in the New &amp; Noteworthy to communicate that.

Miles, would it be simple to add a refresh link to the editor if it is open and we detect that the model is not cached similar to how we show that when a task has an incoming?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271582</commentid>
    <comment_count>7</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-06-11 18:54:56 -0400</bug_when>
    <thetext>Should the N&amp;N encourage users to right click the repository and select Synchronize All Tasks?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271584</commentid>
    <comment_count>8</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 18:58:13 -0400</bug_when>
    <thetext>Actually, everything is working perfectly for me now that I need it to not work. ;) The thing is, the connector afaict does actually sync up all of the new reviews and creates models for them. It just takes a while to accomplish that. Once they have been upated, I *htink* everything works as expected. But I could be wrong -- still investigating.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271587</commentid>
    <comment_count>9</comment_count>
    <who name="Steffen Pingel">steffen.pingel</who>
    <bug_when>2013-06-11 19:08:03 -0400</bug_when>
    <thetext>I have updated the patch to take partial task data into account but I would still like to see a simple change for the editor that checks if the model is there and if not prompts the user to refresh. That logic won&apos;t hurt regardless of how we address the migration concern.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271591</commentid>
    <comment_count>10</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 19:27:17 -0400</bug_when>
    <thetext>https://git.eclipse.org/r/#/c/13764/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271592</commentid>
    <comment_count>11</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 19:32:46 -0400</bug_when>
    <thetext>I don&apos;t think we really need the Task Data at all, as this should be a migration solution only. This is actually a more general solution, because it works if for example the model directory got wiped out or moved or whatever. https://git.eclipse.org/r/#/c/13764/ wouldn&apos;t work in that case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2271607</commentid>
    <comment_count>12</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-11 22:28:44 -0400</bug_when>
    <thetext>Steffen Merged: https://git.eclipse.org/r/#/c/13764/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2272038</commentid>
    <comment_count>13</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-06-12 13:42:34 -0400</bug_when>
    <thetext>I&apos;ve updated to the latest master and I am not seeing a link in the task editor to refresh my reviews. The patch sets don&apos;t show up until I manually refresh or reopen the editor.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2272055</commentid>
    <comment_count>14</comment_count>
    <who name="Miles Parker">milesparker</who>
    <bug_when>2013-06-12 13:59:38 -0400</bug_when>
    <thetext>(In reply to comment #13)
&gt; I&apos;ve updated to the latest master and I am not seeing a link in the task editor
&gt; to refresh my reviews. The patch sets don&apos;t show up until I manually refresh or
&gt; reopen the editor.

Hmm.. works for me. Could it be because you already have an empty record there? Does this happen for totally &quot;fresh&quot; Reviews, that is that you have never opened before?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2272166</commentid>
    <comment_count>15</comment_count>
    <who name="Sam Davis">sam.davis</who>
    <bug_when>2013-06-12 17:15:28 -0400</bug_when>
    <thetext>Not so far.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>