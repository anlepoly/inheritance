<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>429940</bug_id>
          
          <creation_ts>2014-03-08 13:33:00 -0500</creation_ts>
          <short_desc>[1.8] use method Expression.isAssignmentCompatible</short_desc>
          <delta_ts>2014-12-09 05:02:24 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>WONTFIX</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>4.5 M4</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephan Herrmann">stephan.herrmann</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2373397</commentid>
    <comment_count>0</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-03-08 13:33:32 -0500</bug_when>
    <thetext>S.o. recently added the nice function Expression.isAssignmentCompatible, yet no-one is using it currently. See bug 429759 for a candidate that probably should.

Might be worth looking for more examples in order to unify our code.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475280</commentid>
    <comment_count>1</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-11-02 08:49:00 -0500</bug_when>
    <thetext>The method Expression.isAssignmentCompatible() was introduced on behalf of bug 401610. OTOH, meanwhile Expressions answers isCompatibleWith and isBoxingCompatibleWith to cope with poly situations.

Maybe the fix for this bug is just to remove the still unused method? :)
Perhaps after a quick check what the call to isConstantValueOfTypeAssignableToType() is about, but since it requires a resolved type, it probably doesn&apos;t live up to the requirements of poly expressions ...

Finally, CExprF.reduce (see bug 429759) still uses a cascade of checks that may not yet be prepared for poly expressions, see after this comment:
   // &quot;not compatible in an assignment context with R&quot;?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475303</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 11:06:31 -0500</bug_when>
    <thetext>I am leaving the method as is for now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475306</commentid>
    <comment_count>3</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-11-02 11:22:17 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #2)
&gt; I am leaving the method as is for now.

Nobody calls it, so do you have any suggestions what we should use it for, now or in the future? :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475309</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 11:34:06 -0500</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #3)
&gt; (In reply to Srikanth Sankaran from comment #2)
&gt; &gt; I am leaving the method as is for now.
&gt; 
&gt; Nobody calls it, so do you have any suggestions what we should use it for,
&gt; now or in the future? :)

To see if an expression is assignment compatible ?? :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475312</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 11:43:02 -0500</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #3)
&gt; (In reply to Srikanth Sankaran from comment #2)
&gt; &gt; I am leaving the method as is for now.
&gt; 
&gt; Nobody calls it, so do you have any suggestions what we should use it for,
&gt; now or in the future? :)

Deleted here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=c2e73e92d84b995d792bc11e9e3cc44e31128806</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2494378</commentid>
    <comment_count>6</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-12-09 05:02:24 -0500</bug_when>
    <thetext>Verified for 4.5M4 by inspection</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>