<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>412453</bug_id>
          
          <creation_ts>2013-07-06 16:52:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] Stackoverflow when compiling LazySeq</short_desc>
          <delta_ts>2013-07-18 00:20:46 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Robin Rosenberg">robin.rosenberg</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="58834"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2281359</commentid>
    <comment_count>0</comment_count>
    <who name="Robin Rosenberg">robin.rosenberg</who>
    <bug_when>2013-07-06 16:52:46 -0400</bug_when>
    <thetext>Get git://git.eclipse.org/gitroot/jdt/eclipse.jdt.core.git BETA_JAVA8 and
git://git.eclipse.org/gitroot/jdt/eclipse.jdt.ui.git master into Eclipse

Open new workspace
Clone https://github.com/nurkiewicz/LazySeq. I used the CLI as I did not
have then maven plugin at this time.

run mvn eclipse:eclipse compile (with the Java 8 EA)
Create the library M2_REPO, point to ~/.m2/repository

Here is the tail of the stack trace

	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:140)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:85)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:75)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:100)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:140)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:85)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:75)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:100)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:140)
	at org.eclipse.jdt.internal.compiler.lookup.TypeBindingVisitor.visit(TypeBindingVisitor.java:85)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2281476</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-07-08 01:27:21 -0400</bug_when>
    <thetext>Manoj, please extract a small test case please. TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2282189</commentid>
    <comment_count>2</comment_count>
      <attachid>233265</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-09 05:36:43 -0400</bug_when>
    <thetext>Created attachment 233265
Small Test case reproducing the problem</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2282214</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-07-09 06:55:18 -0400</bug_when>
    <thetext>See Stephan&apos;s comment in https://bugs.eclipse.org/bugs/show_bug.cgi?id=378674#c19</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2282651</commentid>
    <comment_count>4</comment_count>
      <attachid>233308</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-10 04:50:08 -0400</bug_when>
    <thetext>Created attachment 233308
Proposed Patch

This solves the stack overflow issue mentioned in the bug; however, there is another build issue that comes while compiling the project which is tracked as bug  412650</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2284839</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-07-16 04:35:39 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; Created attachment 233308 [details]
&gt; Proposed Patch
&gt; 
&gt; This solves the stack overflow issue mentioned in the bug; however, there is
&gt; another build issue that comes while compiling the project which is tracked
&gt; as bug  412650

Patch looks good. I would make one change though. Instead of adding the boolean
visited as a field of TypeBinding, we could associate with the TypeBindingVisitor some data structure that tracks visited objects. That would (a) minimize the 
memory pressure (b) eliminate the need to clear the visited flag as done in
the present patch. Please make this change and release. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2285107</commentid>
    <comment_count>6</comment_count>
      <attachid>233529</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-16 12:45:48 -0400</bug_when>
    <thetext>Created attachment 233529
Proposed Patch

Modified as per the review comment.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2285113</commentid>
    <comment_count>7</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-16 12:51:56 -0400</bug_when>
    <thetext>Released via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=807a76e3a3770379eee00c55de0aa0f44ab7094a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2285702</commentid>
    <comment_count>8</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-07-17 15:35:20 -0400</bug_when>
    <thetext>It&apos;s a pity my work in branch sherrmann/NewTypeInference is getting stale.
As mentioned in the linked bug 378674 comment 19 I got away with a flag in only
TypeVariableBinding and WildcardBinding. Even folding this into tagBits should
be possible. Just mentioning that I still believe the SimpleSet is avoidable here.
May not be a big issue, though :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2285817</commentid>
    <comment_count>9</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-18 00:20:46 -0400</bug_when>
    <thetext>(In reply to comment #8)
&gt;Even folding this into tagBits should
&gt; be possible. Just mentioning that I still believe the SimpleSet is avoidable
&gt; here.
&gt; May not be a big issue, though :)

Srikanth did discuss this as an alternative and we had noted that we would have to clear the flag (as was done in the earlier patch) while a set based structure would be tied to TypeBindingVisitor rather than the type and gets initialized for every TypeBindingVisitor. If it helps in anyway, we can move to the tagbits solution as well.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>233265</attachid>
            <date>2013-07-09 05:36:00 -0400</date>
            <delta_ts>2013-07-09 05:36:43 -0400</delta_ts>
            <desc>Small Test case reproducing the problem</desc>
            <filename>file_412453.txt</filename>
            <type>text/plain</type>
            <size>428</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">aW1wb3J0IGphdmEudXRpbC5BYnN0cmFjdExpc3Q7DQppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0
b3I7DQppbXBvcnQgamF2YS51dGlsLk9wdGlvbmFsOw0KDQppbXBvcnQgamF2YS51dGlsLmZ1bmN0
aW9uLio7DQoNCmFic3RyYWN0IGNsYXNzIFk8RT4gZXh0ZW5kcyBBYnN0cmFjdExpc3Q8RT4gew0K
ICBwdWJsaWMgPEMgZXh0ZW5kcyBDb21wYXJhYmxlPD8gc3VwZXIgQz4+IE9wdGlvbmFsPEU+IG1p
bkJ5KEZ1bmN0aW9uPEUsIEM+IHByb3BlcnR5RnVuKSB7IHJldHVybiBudWxsO30gDQp9DQoNCnB1
YmxpYyBjbGFzcyBYIHsNCiAgcHVibGljIHZvaWQgZm9vKFk8SW50ZWdlcj4gZW1wdHkpIHRocm93
cyBFeGNlcHRpb24gew0KICAgIGZpbmFsIE9wdGlvbmFsPEludGVnZXI+IG1pbiA9IGVtcHR5Lm1p
bkJ5KChhLCBiKSAtPiBhIC0gYik7DQogIH0NCn0=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>233308</attachid>
            <date>2013-07-10 04:50:00 -0400</date>
            <delta_ts>2013-07-16 12:45:48 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Bug-412453-18compiler-Stackoverflow-when-compiling-L.patch</filename>
            <type>text/plain</type>
            <size>3380</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRh
RXhwcmVzc2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxl
ci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdh
dGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IDBiMDBmNjIuLjE2NWRjMDUgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRhRXhw
cmVzc2lvbnNUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGls
ZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVn
YXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuamF2YQpAQCAtNjY2Miw2ICs2NjYyLDQwIEBACiAJ
CWNvbXBpbGVyT3B0aW9ucyAvKiBjdXN0b20gb3B0aW9ucyAqLwogCSk7CiB9CisvL2h0dHBzOi8v
YnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD00MTI0NTMsCisvL1sxLjhdW2Nv
bXBpbGVyXSBTdGFja292ZXJmbG93IHdoZW4gY29tcGlsaW5nIExhenlTZXEKK3B1YmxpYyB2b2lk
IHRlc3Q0MTI0NTMoKSB7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJpbmdbXSB7
CisJCQkJIlguamF2YSIsCisJCQkJImltcG9ydCBqYXZhLnV0aWwuQWJzdHJhY3RMaXN0O1xuIiAr
CisJCQkJImltcG9ydCBqYXZhLnV0aWwuQ29tcGFyYXRvcjtcbiIgKworCQkJCSJpbXBvcnQgamF2
YS51dGlsLk9wdGlvbmFsO1xuIiArCisJCQkJIlxuIiArCisJCQkJImltcG9ydCBqYXZhLnV0aWwu
ZnVuY3Rpb24uKjtcbiIgKworCQkJCSJcbiIgKworCQkJCSJhYnN0cmFjdCBjbGFzcyBZPEU+IGV4
dGVuZHMgQWJzdHJhY3RMaXN0PEU+IHtcbiIgKworCQkJCSIJcHVibGljIDxDIGV4dGVuZHMgQ29t
cGFyYWJsZTw/IHN1cGVyIEM+PiBPcHRpb25hbDxFPiBtaW5CeShGdW5jdGlvbjxFLCBDPiBwcm9w
ZXJ0eUZ1bikgeyByZXR1cm4gbnVsbDt9IFxuIiArCisJCQkJIn1cbiIgKworCQkJCSJcbiIgKwor
CQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCQkiCXB1YmxpYyB2b2lkIGZvbyhZPEludGVn
ZXI+IGVtcHR5KSB0aHJvd3MgRXhjZXB0aW9uIHtcbiIgKworCQkJCSIJCWZpbmFsIE9wdGlvbmFs
PEludGVnZXI+IG1pbiA9IGVtcHR5Lm1pbkJ5KChhLCBiKSAtPiBhIC0gYik7XG4iICsKKwkJCQki
CX1cbiIgKworCQkJCSJ9XG4iICsKKwkJCQkiXG4iCisJCX0sCisJCSItLS0tLS0tLS0tXG4iICsg
CisJCSIxLiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgMTMpXG4iICsgCisJCSIJZmluYWwgT3B0
aW9uYWw8SW50ZWdlcj4gbWluID0gZW1wdHkubWluQnkoKGEsIGIpIC0+IGEgLSBiKTtcbiIgKyAK
KwkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeXl5eXl5eXl5e
Xl5eXl5cbiIgKyAKKwkJIkxhbWJkYSBleHByZXNzaW9uXCdzIHNpZ25hdHVyZSBkb2VzIG5vdCBt
YXRjaCB0aGUgc2lnbmF0dXJlIG9mIHRoZSBmdW5jdGlvbmFsIGludGVyZmFjZSBtZXRob2RcbiIg
KyAKKwkJIi0tLS0tLS0tLS1cbiIsCisJCW51bGwgLyogbm8gZXh0cmEgY2xhc3MgbGlicmFyaWVz
ICovLAorCQl0cnVlIC8qIGZsdXNoIG91dHB1dCBkaXJlY3RvcnkgKi8sCisJCW51bGwgLyogY3Vz
dG9tIG9wdGlvbnMgKi8KKwkpOworfQogcHVibGljIHN0YXRpYyBDbGFzcyB0ZXN0Q2xhc3MoKSB7
CiAJcmV0dXJuIE5lZ2F0aXZlTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmNsYXNzOwogfQpkaWZmIC0t
Z2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBlQmluZGluZy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBl
QmluZGluZy5qYXZhCmluZGV4IDBjYzBjODEuLjliMzM2OGYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9s
b29rdXAvVHlwZUJpbmRpbmcuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVCaW5kaW5nLmph
dmEKQEAgLTM5LDYgKzM5LDcgQEAKIAogCXB1YmxpYyBpbnQgaWQgPSBUeXBlSWRzLk5vSWQ7CiAJ
cHVibGljIGxvbmcgdGFnQml0cyA9IDA7IC8vIFNlZSB2YWx1ZXMgaW4gdGhlIGludGVyZmFjZSBU
YWdCaXRzIGJlbG93CisJcHVibGljIGJvb2xlYW4gdmlzaXRlZCA9IGZhbHNlOwogCiAKIAkvKiog
QmFzZSB0eXBlIGRlZmluaXRpb25zICovCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVC
aW5kaW5nVmlzaXRvci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBlQmluZGluZ1Zpc2l0b3IuamF2
YQppbmRleCBhZTM4NDZkLi4wY2MyYzg5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVC
aW5kaW5nVmlzaXRvci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvVHlwZUJpbmRpbmdWaXNpdG9y
LmphdmEKQEAgLTY3LDYgKzY3LDEwIEBACiAJCWlmICh0eXBlID09IG51bGwpIAogCQkJcmV0dXJu
OwogCQkKKwkJaWYgKHR5cGUudmlzaXRlZCkKKwkJCXJldHVybjsKKwkJCisJCXR5cGUudmlzaXRl
ZCA9IHRydWU7CiAJCXN3aXRjaCAodHlwZS5raW5kKCkpIHsKIAkJCQogCQkJY2FzZSBCaW5kaW5n
LlRZUEVfUEFSQU1FVEVSOgpAQCAtMTMzLDYgKzEzNyw3IEBACiAJCQlkZWZhdWx0OgogCQkJCXRo
cm93IG5ldyBJbnRlcm5hbEVycm9yKCJVbmV4cGVjdGVkIGJpbmRpbmcgdHlwZSIpOyAvLyROT04t
TkxTLTEkCiAJCX0KKwkJdHlwZS52aXNpdGVkID0gZmFsc2U7Ly9yZWluc3RhdGUKIAl9CiAKIAlw
dWJsaWMgc3RhdGljIHZvaWQgdmlzaXQoVHlwZUJpbmRpbmdWaXNpdG9yIHZpc2l0b3IsIFR5cGVC
aW5kaW5nW10gdHlwZXMpIHs=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>233529</attachid>
            <date>2013-07-16 12:45:00 -0400</date>
            <delta_ts>2013-07-16 12:45:48 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-412453-18compiler-Stackoverflow-when-com.patch</filename>
            <type>text/plain</type>
            <size>3324</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRh
RXhwcmVzc2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxl
ci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdh
dGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IGFmN2RjYjIuLmM3NjgzYjIgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRhRXhw
cmVzc2lvbnNUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGls
ZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVn
YXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuamF2YQpAQCAtNjY5OCw2ICs2Njk4LDQwIEBACiAJ
CQkJCQkiVHlwZSBzYWZldHk6IFRoZSBjb25zdHJ1Y3RvciBZLlooWSkgYmVsb25ncyB0byB0aGUg
cmF3IHR5cGUgWS5aLiBSZWZlcmVuY2VzIHRvIGdlbmVyaWMgdHlwZSBZPFQ+Llo8Sz4gc2hvdWxk
IGJlIHBhcmFtZXRlcml6ZWRcbiIgKyAKIAkJCQkJCSItLS0tLS0tLS0tXG4iKTsKIH0KKy8vaHR0
cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQxMjQ1MywKKy8vWzEu
OF1bY29tcGlsZXJdIFN0YWNrb3ZlcmZsb3cgd2hlbiBjb21waWxpbmcgTGF6eVNlcQorcHVibGlj
IHZvaWQgdGVzdDQxMjQ1MygpIHsKKwl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgKKwkJbmV3IFN0cmlu
Z1tdIHsKKwkJCQkiWC5qYXZhIiwKKwkJCQkiaW1wb3J0IGphdmEudXRpbC5BYnN0cmFjdExpc3Q7
XG4iICsKKwkJCQkiaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yO1xuIiArCisJCQkJImltcG9y
dCBqYXZhLnV0aWwuT3B0aW9uYWw7XG4iICsKKwkJCQkiXG4iICsKKwkJCQkiaW1wb3J0IGphdmEu
dXRpbC5mdW5jdGlvbi4qO1xuIiArCisJCQkJIlxuIiArCisJCQkJImFic3RyYWN0IGNsYXNzIFk8
RT4gZXh0ZW5kcyBBYnN0cmFjdExpc3Q8RT4ge1xuIiArCisJCQkJIglwdWJsaWMgPEMgZXh0ZW5k
cyBDb21wYXJhYmxlPD8gc3VwZXIgQz4+IE9wdGlvbmFsPEU+IG1pbkJ5KEZ1bmN0aW9uPEUsIEM+
IHByb3BlcnR5RnVuKSB7IHJldHVybiBudWxsO30gXG4iICsKKwkJCQkifVxuIiArCisJCQkJIlxu
IiArCisJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIgKworCQkJCSIJcHVibGljIHZvaWQgZm9vKFk8
SW50ZWdlcj4gZW1wdHkpIHRocm93cyBFeGNlcHRpb24ge1xuIiArCisJCQkJIgkJZmluYWwgT3B0
aW9uYWw8SW50ZWdlcj4gbWluID0gZW1wdHkubWluQnkoKGEsIGIpIC0+IGEgLSBiKTtcbiIgKwor
CQkJCSIJfVxuIiArCisJCQkJIn1cbiIgKworCQkJCSJcbiIKKwkJfSwKKwkJIi0tLS0tLS0tLS1c
biIgKyAKKwkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAxMylcbiIgKyAKKwkJIglmaW5h
bCBPcHRpb25hbDxJbnRlZ2VyPiBtaW4gPSBlbXB0eS5taW5CeSgoYSwgYikgLT4gYSAtIGIpO1xu
IiArIAorCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5e
Xl5eXl5eXl5eXlxuIiArIAorCQkiTGFtYmRhIGV4cHJlc3Npb25cJ3Mgc2lnbmF0dXJlIGRvZXMg
bm90IG1hdGNoIHRoZSBzaWduYXR1cmUgb2YgdGhlIGZ1bmN0aW9uYWwgaW50ZXJmYWNlIG1ldGhv
ZFxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiwKKwkJbnVsbCAvKiBubyBleHRyYSBjbGFzcyBsaWJy
YXJpZXMgKi8sCisJCXRydWUgLyogZmx1c2ggb3V0cHV0IGRpcmVjdG9yeSAqLywKKwkJbnVsbCAv
KiBjdXN0b20gb3B0aW9ucyAqLworCSk7Cit9CiBwdWJsaWMgc3RhdGljIENsYXNzIHRlc3RDbGFz
cygpIHsKIAlyZXR1cm4gTmVnYXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuY2xhc3M7CiB9CmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVCaW5kaW5nVmlzaXRvci5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2xvb2t1cC9UeXBlQmluZGluZ1Zpc2l0b3IuamF2YQppbmRleCBhZTM4NDZkLi4yZjU0YWNiIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVCaW5kaW5nVmlzaXRvci5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9sb29rdXAvVHlwZUJpbmRpbmdWaXNpdG9yLmphdmEKQEAgLTE2LDkgKzE2LDEyIEBACiAK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYXN0LldpbGRjYXJkOwog
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3QuQW5ub3RhdGlvbi5U
eXBlVXNlQmluZGluZzsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIu
dXRpbC5TaW1wbGVMb29rdXBUYWJsZTsKIAogCiBwdWJsaWMgY2xhc3MgVHlwZUJpbmRpbmdWaXNp
dG9yIHsKKworCXByaXZhdGUgU2ltcGxlTG9va3VwVGFibGUgdmlzaXRlZENhY2hlOwogCiAJcHVi
bGljIGJvb2xlYW4gdmlzaXQoQmFzZVR5cGVCaW5kaW5nIGJhc2VUeXBlQmluZGluZykgIHsKIAkJ
cmV0dXJuIHRydWU7ICAvLyBjb250aW51ZSB0cmF2ZXJzYWwuCkBAIC02Nyw2ICs3MCwxNiBAQAog
CQlpZiAodHlwZSA9PSBudWxsKSAKIAkJCXJldHVybjsKIAkJCisJCVNpbXBsZUxvb2t1cFRhYmxl
IHZpc2l0ZWRDYWNoZSA9IHZpc2l0b3IudmlzaXRlZENhY2hlOworCQlpZiAodmlzaXRlZENhY2hl
ID09IG51bGwpIHsKKwkJCXZpc2l0b3IudmlzaXRlZENhY2hlID0gbmV3IFNpbXBsZUxvb2t1cFRh
YmxlKDMpOworCQkJdmlzaXRlZENhY2hlID0gdmlzaXRvci52aXNpdGVkQ2FjaGU7CisJCX0KKwor
CQlPYmplY3QgcmVzdWx0ID0gdmlzaXRlZENhY2hlLmdldCh0eXBlKTsKKwkJaWYgKHJlc3VsdCA9
PSBCb29sZWFuLlRSVUUpCisJCQlyZXR1cm47CisJCXZpc2l0ZWRDYWNoZS5wdXQodHlwZSwgQm9v
bGVhbi5UUlVFKTsKIAkJc3dpdGNoICh0eXBlLmtpbmQoKSkgewogCQkJCiAJCQljYXNlIEJpbmRp
bmcuVFlQRV9QQVJBTUVURVI6
</data>

          </attachment>
      

    </bug>

</bugzilla>