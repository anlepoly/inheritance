<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>435480</bug_id>
          
          <creation_ts>2014-05-22 04:49:00 -0400</creation_ts>
          <short_desc>[1.8][search] search in method reference expressions finds annotation element name</short_desc>
          <delta_ts>2014-08-06 00:12:50 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Noopur Gupta">noopur_gupta</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>markus_keller</cc>
    
    <cc>shankhba</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="62954"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2405413</commentid>
    <comment_count>0</comment_count>
    <who name="Noopur Gupta">noopur_gupta</who>
    <bug_when>2014-05-22 04:49:26 -0400</bug_when>
    <thetext>package bug;

import java.lang.annotation.Documented;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Documented
@Retention(RetentionPolicy.RUNTIME)
@Target(value={})
public @interface Ann1 {
}
----------------------------------------------
- Place the above code in a 1.8 java project.
- Select the file and press Ctrl+H to bring up the Search dialog.
- In Java Search, give Search string as &apos;*&apos;, Search For as &apos;Method&apos;, Limit To as &apos;Match Locations&apos; with &apos;&apos;::&apos; method references&apos; selected and Scope as &apos;Selected resources&apos;. Click Search.
- The result shows &apos;value&apos; in the result from the given example.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2405424</commentid>
    <comment_count>1</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-05-22 05:03:27 -0400</bug_when>
    <thetext>will take a look</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2405521</commentid>
    <comment_count>2</comment_count>
    <who name="Noopur Gupta">noopur_gupta</who>
    <bug_when>2014-05-22 07:27:31 -0400</bug_when>
    <thetext>A similar search with scope as Workspace shows all annotation attribute names in the result.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2422037</commentid>
    <comment_count>3</comment_count>
      <attachid>244659</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-06-30 04:03:22 -0400</bug_when>
    <thetext>Created attachment 244659
Proposed Patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2428595</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-07-17 01:15:34 -0400</bug_when>
    <thetext>I wonder if the fix belong better in org.eclipse.jdt.internal.core.search.matching.MatchLocatorParser.consumeMemberValuePair().

At the moment, it may not make a difference, but as/if the code evolves it could.
See methods above and below that do relevant filtering.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2429607</commentid>
    <comment_count>5</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-07-21 02:35:25 -0400</bug_when>
    <thetext>Thanks for the comments, Srikanth. Fixed via commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=84f1aab618cdc74f8c6aecebdc0fb845b80d6368</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2436007</commentid>
    <comment_count>6</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-08-05 20:21:21 -0400</bug_when>
    <thetext>Verified for 4.5 M1 using I20140804-2000 build.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>244659</attachid>
            <date>2014-06-30 04:03:00 -0400</date>
            <delta_ts>2014-06-30 04:03:22 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-435480-18search-search-in-method-referen.patch</filename>
            <type>text/plain</type>
            <size>3816</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnczhUZXN0cy5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKaW5kZXggY2U2OTIwMi4uMWQ0YzJj
YiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKQEAgLTI2LDYgKzI2LDcg
QEAKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JVHlwZTsKIGltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5KYXZhTW9kZWxFeGNlcHRpb247CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUuV29ya2luZ0NvcHlPd25lcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5zZWFyY2gu
SUphdmFTZWFyY2hDb25zdGFudHM7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuc2VhcmNo
LklKYXZhU2VhcmNoU2NvcGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuc2VhcmNoLlJl
ZmVyZW5jZU1hdGNoOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnNlYXJjaC5TZWFyY2hF
bmdpbmU7CkBAIC00MzQyLDYgKzQzNDMsNTUgQEAKIAkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLAog
CQkJbnVsbCk7CiB9CisvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNn
aT9pZD00MzU0ODAKKy8vWzEuOF1bc2VhcmNoXSBzZWFyY2ggaW4gbWV0aG9kIHJlZmVyZW5jZSBl
eHByZXNzaW9ucyBmaW5kcyBhbm5vdGF0aW9uIGVsZW1lbnQgbmFtZQorcHVibGljIHZvaWQgdGVz
dEJ1ZzQzNTQ4MF8wMDAxKCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCXRoaXMud29ya2luZ0Nv
cGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCXRoaXMud29ya2luZ0NvcGllc1swXSA9
IGdldFdvcmtpbmdDb3B5KCIvSmF2YVNlYXJjaEJ1Z3Mvc3JjL1guamF2YSIsCisJCQkiaW1wb3J0
IGphdmEubGFuZy5hbm5vdGF0aW9uLio7XG4iICsKKwkJCQkJIkBEb2N1bWVudGVkXG4iICsKKwkJ
CQkJIkBSZXRlbnRpb24oUmV0ZW50aW9uUG9saWN5LlJVTlRJTUUpXG4iICsKKwkJCQkJIkBUYXJn
ZXQodmFsdWU9e30pXG4iICsKKwkJCQkJInB1YmxpYyBAaW50ZXJmYWNlIEFubjEge1xuIiArCisJ
CQkJCSJ9IgorCSk7CisKKwlNZXRob2RQYXR0ZXJuIHBhdHRlcm4gPSAoTWV0aG9kUGF0dGVybikg
U2VhcmNoUGF0dGVybi5jcmVhdGVQYXR0ZXJuKCIqIiwgSU1QTEVNRU5UT1JTLCBJSmF2YVNlYXJj
aENvbnN0YW50cy5NRVRIT0RfUkVGRVJFTkNFX0VYUFJFU1NJT04sIEVYQUNUX1JVTEUgKTsKKwor
CW5ldyBTZWFyY2hFbmdpbmUodGhpcy53b3JraW5nQ29waWVzKS5zZWFyY2gocGF0dGVybiwKKwkJ
CW5ldyBTZWFyY2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hFbmdpbmUuZ2V0RGVmYXVsdFNlYXJjaFBh
cnRpY2lwYW50KCl9LAorCQkJZ2V0SmF2YVNlYXJjaFdvcmtpbmdDb3BpZXNTY29wZSgpLAorCQkJ
dGhpcy5yZXN1bHRDb2xsZWN0b3IsCisJCQludWxsKTsKKwlhc3NlcnRTZWFyY2hSZXN1bHRzKCIi
KTsKK30KKy8vaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQz
NTQ4MAorLy9bMS44XVtzZWFyY2hdIHNlYXJjaCBpbiBtZXRob2QgcmVmZXJlbmNlIGV4cHJlc3Np
b25zIGZpbmRzIGFubm90YXRpb24gZWxlbWVudCBuYW1lCitwdWJsaWMgdm9pZCB0ZXN0QnVnNDM1
NDgwXzAwMDIoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdHJ5CisJeworCQlJSmF2YVByb2pl
Y3QgcHJvamVjdCA9IGNyZWF0ZUphdmFQcm9qZWN0KCJQIiwgbmV3IFN0cmluZ1tdIHsgIiIsICJz
cmMifSwgbmV3IFN0cmluZ1tdIHsiSkNMMThfTElCIn0sIG51bGwsIG51bGwsICJiaW4iLCBudWxs
LCBudWxsLCBuZXcgU3RyaW5nW11bXSB7bmV3IFN0cmluZ1tdIHsic3JjLyJ9LCBuZXcgU3RyaW5n
WzBdfSwgIjEuOCIpOworCQljcmVhdGVGaWxlKCIvUC9zcmMvWC5qYXZhIiwgCisJCQkJImltcG9y
dCBqYXZhLmxhbmcuYW5ub3RhdGlvbi4qO1xuIiArCisJCQkJIkBEb2N1bWVudGVkXG4iICsKKwkJ
CQkiQFJldGVudGlvbihSZXRlbnRpb25Qb2xpY3kuUlVOVElNRSlcbiIgKworCQkJCSJAVGFyZ2V0
KHZhbHVlPXt9KVxuIiArCisJCQkJInB1YmxpYyBAaW50ZXJmYWNlIEFubjEge1xuIiArCisJCQkJ
In1cbiIpOworCQlNZXRob2RQYXR0ZXJuIHBhdHRlcm4gPSAoTWV0aG9kUGF0dGVybikgU2VhcmNo
UGF0dGVybi5jcmVhdGVQYXR0ZXJuKCIqIiwgSU1QTEVNRU5UT1JTLCBJSmF2YVNlYXJjaENvbnN0
YW50cy5NRVRIT0RfUkVGRVJFTkNFX0VYUFJFU1NJT04sIEVYQUNUX1JVTEUgKTsKKworCQlpbnQg
bWFzayA9IElKYXZhU2VhcmNoU2NvcGUuU09VUkNFUyA7CisJCUlKYXZhU2VhcmNoU2NvcGUgc2Nv
cGUgPSBTZWFyY2hFbmdpbmUuY3JlYXRlSmF2YVNlYXJjaFNjb3BlKG5ldyBJSmF2YUVsZW1lbnRb
XSB7IHByb2plY3QgfSwgbWFzayk7CisJCW5ldyBTZWFyY2hFbmdpbmUodGhpcy53b3JraW5nQ29w
aWVzKS5zZWFyY2gocGF0dGVybiwKKwkJCQluZXcgU2VhcmNoUGFydGljaXBhbnRbXSB7U2VhcmNo
RW5naW5lLmdldERlZmF1bHRTZWFyY2hQYXJ0aWNpcGFudCgpfSwKKwkJCQlzY29wZSwKKwkJCQl0
aGlzLnJlc3VsdENvbGxlY3RvciwKKwkJCQludWxsKTsKKwkJYXNzZXJ0U2VhcmNoUmVzdWx0cygi
Iik7CisJfSBmaW5hbGx5IHsKKwkJZGVsZXRlUHJvamVjdCgiUCIpOworCX0KK30KIC8vIEFkZCBu
ZXcgdGVzdHMgaW4gSmF2YVNlYXJjaEJ1Z3M4VGVzdHMKIH0KIApkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJj
aC9tYXRjaGluZy9NZXRob2RMb2NhdG9yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFy
Y2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01ldGhvZExv
Y2F0b3IuamF2YQppbmRleCA2MWJjODljLi4yZmQxNzUzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21h
dGNoaW5nL01ldGhvZExvY2F0b3IuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFy
Y2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01ldGhvZExv
Y2F0b3IuamF2YQpAQCAtMjIxLDYgKzIyMSw5IEBACiB9CiBwdWJsaWMgaW50IG1hdGNoKE1lbWJl
clZhbHVlUGFpciBub2RlLCBNYXRjaGluZ05vZGVTZXQgbm9kZVNldCkgewogCWlmICghdGhpcy5w
YXR0ZXJuLmZpbmRSZWZlcmVuY2VzKSByZXR1cm4gSU1QT1NTSUJMRV9NQVRDSDsKKwkKKwlpZiAo
dGhpcy5wYXR0ZXJuLmZpbmVHcmFpbiAhPSAwICYmICh0aGlzLnBhdHRlcm4uZmluZUdyYWluICYg
fklKYXZhU2VhcmNoQ29uc3RhbnRzLk1FVEhPRF9SRUZFUkVOQ0VfRVhQUkVTU0lPTikgPT0gMCkg
CisJCXJldHVybiBJTVBPU1NJQkxFX01BVENIOwogCiAJaWYgKCFtYXRjaGVzTmFtZSh0aGlzLnBh
dHRlcm4uc2VsZWN0b3IsIG5vZGUubmFtZSkpIHJldHVybiBJTVBPU1NJQkxFX01BVENIOwog
</data>

          </attachment>
      

    </bug>

</bugzilla>