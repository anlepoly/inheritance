<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>398490</bug_id>
          
          <creation_ts>2013-01-18 08:50:00 -0500</creation_ts>
          <short_desc>Don&apos;t show source for .class file outside build path</short_desc>
          <delta_ts>2013-02-26 08:26:48 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.8.2+</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dani Megert">daniel_megert</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>jarthana</cc>
    
    <cc>szymon.ptaszkiewicz</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2204744</commentid>
    <comment_count>0</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-18 08:50:20 -0500</bug_when>
    <thetext>3.8.

In the special case where source folder == output folder == project, we show the source when opening the class file from the output folder. This is not good.

Yes, I know this code was added on request, but it is wrong.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2204746</commentid>
    <comment_count>1</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-18 08:50:47 -0500</bug_when>
    <thetext>Patch: https://bugs.eclipse.org/bugs/attachment.cgi?id=225767</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2205317</commentid>
    <comment_count>2</comment_count>
      <attachid>225873</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-01-21 02:02:39 -0500</bug_when>
    <thetext>Created attachment 225873
Test fix

The test that was previously added as part of fix for bug 41444 needs to be either removed or altered.

The question I have is, what is the problem with the way things currently are? I agree we are doing something that we probably don&apos;t have to do. But is that, by itself, a problem in any way?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2205327</commentid>
    <comment_count>3</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-21 02:43:20 -0500</bug_when>
    <thetext>(In reply to comment #2)
&gt; The question I have is, what is the problem with the way things currently
&gt; are? I agree we are doing something that we probably don&apos;t have to do. But
&gt; is that, by itself, a problem in any way?

1. I can&apos;t open the byte code (class file editor)
2. All other cases are not handled (e.g. in our default setup with src/bin)
3. The source is cached (which is good) but then obviously fails if the source
   is changed.

Sorry, that I didn&apos;t run the tests.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2205373</commentid>
    <comment_count>4</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-01-21 04:46:13 -0500</bug_when>
    <thetext>(In reply to comment #3)
&gt; 1. I can&apos;t open the byte code (class file editor)
&gt; 2. All other cases are not handled (e.g. in our default setup with src/bin)
&gt; 3. The source is cached (which is good) but then obviously fails if the
&gt; source
&gt;    is changed.

Thanks for explaining!
All other tests pass and I have released the fix along with the test in master.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2205445</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-01-21 08:59:35 -0500</bug_when>
    <thetext>Forgot to change the status.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2207568</commentid>
    <comment_count>6</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-25 05:40:57 -0500</bug_when>
    <thetext>Verified in I20130122-0800.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2220773</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-22 08:38:18 -0500</bug_when>
    <thetext>The commits to be cherry-picked to R3_8_maintenance are here:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=0da2276f865b2792fbd7468c41cdae2a3541678d

And the test:
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e3c419b429a164aacebb8e9dbce645da06e9c816</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2220793</commentid>
    <comment_count>8</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-02-22 09:13:53 -0500</bug_when>
    <thetext>(In reply to comment #7)
&gt; The commits to be cherry-picked to R3_8_maintenance are here:
&gt; 
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=0da2276f865b2792fbd7468c41cdae2a3541678d
&gt; 
&gt; And the test:
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=e3c419b429a164aacebb8e9dbce645da06e9c816

We also have to update the bundle versions.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2220837</commentid>
    <comment_count>9</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-02-22 10:20:27 -0500</bug_when>
    <thetext>...and we need to manually tag and update the map file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2221334</commentid>
    <comment_count>10</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-25 01:08:10 -0500</bug_when>
    <thetext>Back ported the changes to R3_8_maintenance and incremented the MANIFEST version too. Map files are still pending as there is one more possible candidate for 3.8.2+.

Dani, do you think it&apos;s better to just tag instead of waiting to include bug 395897?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2221395</commentid>
    <comment_count>11</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-02-25 04:10:24 -0500</bug_when>
    <thetext>(In reply to comment #10)
&gt; Back ported the changes to R3_8_maintenance and incremented the MANIFEST
&gt; version too. Map files are still pending as there is one more possible
&gt; candidate for 3.8.2+.
&gt; 
&gt; Dani, do you think it&apos;s better to just tag instead of waiting to include bug
&gt; 395897?

Just tag now, so that this bug can be closed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2221412</commentid>
    <comment_count>12</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-25 04:51:05 -0500</bug_when>
    <thetext>(In reply to comment #11)
&gt; Just tag now, so that this bug can be closed.

Tagged as: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/tag/?h=R3_8_maintenance&amp;id=v20130225-1000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2221970</commentid>
    <comment_count>13</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-02-26 06:33:50 -0500</bug_when>
    <thetext>(In reply to comment #12)
&gt; (In reply to comment #11)
&gt; &gt; Just tag now, so that this bug can be closed.
&gt; 
&gt; Tagged as:
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/tag/
&gt; ?h=R3_8_maintenance&amp;id=v20130225-1000

You forgot to update the map file. Fixed now with http://git.eclipse.org/c/platform/eclipse.platform.releng.maps.git/commit/?id=a0ff47508cb8a161f2c94a6859b5ebbb7023b7af</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2222010</commentid>
    <comment_count>14</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-26 08:26:48 -0500</bug_when>
    <thetext>(In reply to comment #13)
&gt; You forgot to update the map file. Fixed now with
&gt; http://git.eclipse.org/c/platform/eclipse.platform.releng.maps.git/commit/
&gt; ?id=a0ff47508cb8a161f2c94a6859b5ebbb7023b7af

Actually, I was waiting for a decision on the other bug too.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>225873</attachid>
            <date>2013-01-21 02:02:00 -0500</date>
            <delta_ts>2013-01-21 02:02:39 -0500</delta_ts>
            <desc>Test fix</desc>
            <filename>Fix-for-bug-398490--Disabling-test.patch</filename>
            <type>text/plain</type>
            <size>1068</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9BdHRhY2hTb3VyY2VUZXN0cy5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L21vZGVsL0F0dGFjaFNvdXJjZVRlc3RzLmphdmEKaW5kZXggZWU3MzUzYy4uMDAwNWQ3ZSAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNl
L2pkdC9jb3JlL3Rlc3RzL21vZGVsL0F0dGFjaFNvdXJjZVRlc3RzLmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L21vZGVsL0F0dGFjaFNvdXJjZVRlc3RzLmphdmEKQEAgLTM1MiwxMyArMzUyLDEyIEBACiAgKiBF
bnN1cmVzIHRoYXQgdGhlIHNvdXJjZSBvZiBhIC5jbGFzcyBmaWxlIGlzIGltcGxpY2V0ZWx5IGF0
dGFjaGVkIHdoZW4gcHJqPXNyYz1iaW4KICAqIChyZWdyZXNzaW9uIHRlc3QgZm9yIGJ1ZyA0MTQ0
NCBbbmF2aWdhdGlvbl0gZXJyb3IgZGlhbG9nIG9uIG9wZW5pbmcgY2xhc3MgZmlsZSkKKyAqIAor
ICogTm90ZTogVGhlIHRlc3QgY2FzZSBpcyBiZWluZyBtb2RpZmllZCBhcyBwYXJ0IG9mIGZpeCBm
b3IgYnVnCisgKiBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9
Mzk4NDkwCiAgKi8KIHB1YmxpYyB2b2lkIHRlc3RDbGFzc0ZpbGVJbk91dHB1dCgpIHRocm93cyBD
b3JlRXhjZXB0aW9uIHsKIAlJQ2xhc3NGaWxlIGNsYXNzRmlsZSA9IGdldENsYXNzRmlsZSgiQXR0
YWNoU291cmNlVGVzdHMvc3JjL0EuY2xhc3MiKTsKIAlTdHJpbmcgc291cmNlID0gY2xhc3NGaWxl
LmdldFNvdXJjZSgpOwotCWFzc2VydFNvdXJjZUVxdWFscygKLQkJIlVuZXhwZWN0ZWQgc291cmNl
IiwKLQkJInB1YmxpYyBjbGFzcyBBIHtcbiIgKwotCQkifSIsCi0JCXNvdXJjZSk7CisJYXNzZXJ0
TnVsbCgiVW5leHBlY3RlZCBzb3VyY2UiLCBzb3VyY2UpOwogfQogLyoq
</data>

          </attachment>
      

    </bug>

</bugzilla>