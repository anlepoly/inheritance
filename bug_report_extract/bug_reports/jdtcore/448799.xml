<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>448799</bug_id>
          
          <creation_ts>2014-10-25 00:03:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] Eliminate code duplication/inefficiency around AllocationExpression.inferElidedTypes.</short_desc>
          <delta_ts>2014-12-09 03:50:02 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M4</target_milestone>
          
          <blocked>448791</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2471600</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-25 00:03:26 -0400</bug_when>
    <thetext>This is to cover two items: 

    - There are blocks of code that are duplicated around the several calls
to inferElidedTypes. We need to see if we can factor out this better.

    - AE should not recompute the binding via findConstructorBinding()
in &lt;&gt; situation. It should use inferConstructorOfElidedParameterizedType()
and be done with it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2471767</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-25 10:25:46 -0400</bug_when>
    <thetext>https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444#c169 also 
needs follow up under this ticket.

This follow up investigation needs to happen for M3 istelf while
the original items under this ticket can come in for M4.

One possible resolution is to opt for constructor look up after inferring
elided types rather than materializing it from the factory so a generic
constructor would have an inference context.

If we ever for opt for post applicability compatibility checks, this could
cause some amount of pain - the original misspelt consultShadowOriginal()
hack would have ot be reintroduced from one of obsolete patches at 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2471770</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-25 10:36:22 -0400</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #1)
&gt; https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444#c169 also 
&gt; needs follow up under this ticket.


See also https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444#c170 for
a more detailed potential resolution suggestion.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475300</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 11:01:15 -0500</bug_when>
    <thetext>Cumulative fix and tests for bug 449619 + bug 448799 + bug 401850
are here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=2a90eeb9372f2a1a1f5e7c24d7c19363b361caf2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2494314</commentid>
    <comment_count>4</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-12-09 03:50:02 -0500</bug_when>
    <thetext>Verified for 4.5M4 using build I20141208-2000</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>