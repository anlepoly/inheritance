<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>430195</bug_id>
          
          <creation_ts>2014-03-12 10:46:00 -0400</creation_ts>
          <short_desc>[1.8][model][api] Lambda IType API problems (isLambda(); getElementName() returns &quot;&quot;)</short_desc>
          <delta_ts>2014-04-28 11:41:28 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M7</target_milestone>
          
          <blocked>430286</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>manju656</cc>
    
    <cc>manpalat</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="pmc_approved"
          id="62064"
          type_id="2"
          status="+"
          setter="daniel_megert"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2374935</commentid>
    <comment_count>0</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-03-12 10:46:16 -0400</bug_when>
    <thetext>API problems in the IType for a lambda:

- getElementName() should return an empty name, like for anonymous types (this is currently specified in the Javadoc of IType, but that should be copied or moved to getElementName()). The current &quot;Lambda(FunctionalInterfaceName)&quot; violates the &quot;simple name&quot; statement in IType#getElementName(). And it make sense not to perform some ad-hoc rendering in jdt.core.

Caveat: Implementation of SourceType#isAnonymous() is:
    return this.name.length() == 0

- specify getTypeQualified*(..) APIs for lambda types

- add API isLambda()

- add note in IType Javadoc that ITypes for lambda expressions are pseudo-elements like ILocalVariable that are not returned by getChildren() on their parent</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375136</commentid>
    <comment_count>1</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-03-12 15:37:21 -0400</bug_when>
    <thetext>SourceType#toStringInfo(int, StringBuffer, Object, boolean) also needs to be adapted.

And that&apos;s probably not the last place where getElementName().lenght() == 0 or != 0 is used, so you have to make a pass over all callers to getElementName() and to constructors of implementations of IType to account for this coding pattern.

One reason for that pattern is probably that IType#isAnonymous() throws a JME. That would probably not have been necessary, but we can&apos;t change that now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375261</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-03-13 00:18:53 -0400</bug_when>
    <thetext>I am thinking we will keep the LambdaExpression&apos;s type name as empty and override isAnonymous() to simply return false. But we will override/modifiy the toStringInfo()/toStringName() to keep the Lambda(I) format for debugging purposes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375291</commentid>
    <comment_count>3</comment_count>
      <attachid>240840</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-03-13 03:47:30 -0400</bug_when>
    <thetext>Created attachment 240840
Proposed fix

Patch still under test. Will update once tests complete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375301</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-03-13 04:18:37 -0400</bug_when>
    <thetext>Markus, this is flagged for 4.4 but a patch has been posted - I don&apos;t have
time for review as I need to work on ECNA preparations. If you have time to
work with Jay on this for reviews, dotting all i&apos;s and crossing all t&apos;s etc, 
you are welcome to pull this up for GA. I would do it only if it helps UI in
some serious way for GA and only if you wouldn&apos;t have to de-prioritize other
things in flight from your end. With that recommendation, I&apos;ll leave it to your
call whether this be pulled up for GA or should wait for 4.4 - Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2375581</commentid>
    <comment_count>5</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-03-13 11:50:51 -0400</bug_when>
    <thetext>Let&apos;s wait until after GA.

I just released the first part of bug 430286, and without that, I think we would have looked pretty bad. But we very likely have more occurrences of the &quot;elementName.length() == 0&quot; test elsewhere, so changing this now is too risky.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2384235</commentid>
    <comment_count>6</comment_count>
      <attachid>241561</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-03 10:52:22 -0400</bug_when>
    <thetext>Created attachment 241561
Updated patch

Patch updated with the doc changes suggested in comment #0. Also there were couple of other places where we were doing getElementName().legnth == 0 kind of checks both directly and indirectly (via HierarchyType). These have now been changed to use isAnonymous().</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2385926</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-08 02:29:52 -0400</bug_when>
    <thetext>Markus, is the UI side of code ready for this change? Just to be sure, I ran the UI tests (AllAllRefactoringTests and AutomatedSuite) and all seems fine.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2389197</commentid>
    <comment_count>8</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-04-15 08:34:24 -0400</bug_when>
    <thetext>Manju, can you please look for problems in JDT UI where we do something like &quot;iType.getElementName().length() == 0&quot; (or != &lt; &gt; ), but we actually mean IType#isAnonymous()?

- run JdtTextTestSuite
- search for reguar expression &quot;(?s)getElementName\(\).{0,1000}?\.length\(\)&quot; in eclipse.jdt.ui projects
- think about other ways to find problematic calls to getElementName() out of the flood of unproblematic calls

Dani, this patch contains a new API IType#isLambda(). Do you approve for 4.4?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2389212</commentid>
    <comment_count>9</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2014-04-15 09:06:20 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #8)
&gt; Manju, can you please look for problems in JDT UI where we do something like
&gt; &quot;iType.getElementName().length() == 0&quot; (or != &lt; &gt; ), but we actually mean
&gt; IType#isAnonymous()?
&gt; 
&gt; - run JdtTextTestSuite
&gt; - search for reguar expression
&gt; &quot;(?s)getElementName\(\).{0,1000}?\.length\(\)&quot; in eclipse.jdt.ui projects
&gt; - think about other ways to find problematic calls to getElementName() out
&gt; of the flood of unproblematic calls
&gt; 
&gt; Dani, this patch contains a new API IType#isLambda(). Do you approve for 4.4?

Yes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2389524</commentid>
    <comment_count>10</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-16 01:53:09 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #8)
&gt; Manju, can you please look for problems in JDT UI where we do something like
&gt; &quot;iType.getElementName().length() == 0&quot; (or != &lt; &gt; ), but we actually mean
&gt; IType#isAnonymous()?

Manju, please let me know when you are ready.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2389581</commentid>
    <comment_count>11</comment_count>
      <attachid>242036</attachid>
    <who name="Manju Mathew">manju656</who>
    <bug_when>2014-04-16 05:14:28 -0400</bug_when>
    <thetext>Created attachment 242036
Changes in JDT UI

(In reply to Markus Keller from comment #8)
&gt; Manju, can you please look for problems in JDT UI where we do something like
&gt; &quot;iType.getElementName().length() == 0&quot; (or != &lt; &gt; ), but we actually mean
&gt; IType#isAnonymous()?
Markus, #isAnonymous() throws JavaModelException. In some places where we catch this exception what is the right thing to do, fall back to IType.getElementName().length() == 0 or ignore?

Attaching the patch. Below are the locations identified where i need clarification:

- JavaElementLabelComposer#appendTypeLabel LN: 1003 =&gt; in-case of exception, we fall back to name.length() == 0 to determine anonymous, but here it looks fine as we check for #isLambda before this case.

- RenameTypeProcessor#getCurrentElementName =&gt; checked the callers and it looked harmless

- JavaElementLinkedLabelComposer#getElementName LN: 131 =&gt; The Java element can be Lambda or anonymous, should this be modified?

&gt; - run JdtTextTestSuite
All the tests in this suite are green after applying the patch.

&gt; - search for reguar expression
&gt; &quot;(?s)getElementName\(\).{0,1000}?\.length\(\)&quot; in eclipse.jdt.ui projects
&gt; - think about other ways to find problematic calls to getElementName() out
&gt; of the flood of unproblematic calls
Searched for the callers of IType.getElementname and analyzed what is done with the element name to locate the problem areas.

Markus, let me know if i have missed any cases.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391557</commentid>
    <comment_count>12</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-04-22 14:54:10 -0400</bug_when>
    <thetext>(In reply to Manju Mathew from comment #11)
Let&apos;s take this over to the the JDT UI bug 430286

(In reply to Jayaprakash Arthanareeswaran from comment #6)
&gt; Created attachment 241561 [details] [diff]
&gt; Updated patch

Pushed with http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=415b98b155644be36e3e8596750b7ffdbf4a3542</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2394060</commentid>
    <comment_count>13</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-04-28 11:41:28 -0400</bug_when>
    <thetext>Verified for Eclipse Luna 4.4 M7 Build id: I20140427-2030</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>240840</attachid>
            <date>2014-03-13 03:47:00 -0400</date>
            <delta_ts>2014-04-03 10:52:22 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>Fix-for-Bug-430195--18model-Lambda-IType-API-problem.patch</filename>
            <type>text/plain</type>
            <size>14370</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbApkaWZmIC0tZ2l0IHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2Rl
bC9BYnN0cmFjdEphdmFTZWFyY2hUZXN0cy5qYXZhIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9tb2RlbC9BYnN0cmFjdEphdmFTZWFyY2hUZXN0cy5qYXZhCmluZGV4IDI0ZTJjODQuLjlm
MjFmZGEgMTAwNjQ0Ci0tLSBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvQWJz
dHJhY3RKYXZhU2VhcmNoVGVzdHMuamF2YQorKysgc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0Fic3RyYWN0SmF2YVNlYXJjaFRlc3RzLmphdmEKQEAgLTIwLDkgKzIwLDQxIEBA
CiBpbXBvcnQgamF2YS51dGlsLlZlY3RvcjsKIAotaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVz
b3VyY2VzLio7Ci1pbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLio7Ci1pbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmNvcmUuKjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5J
RmlsZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JUHJvamVjdDsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JUmVzb3VyY2U7CitpbXBvcnQgb3JnLmVjbGlw
c2UuY29yZS5ydW50aW1lLkNvcmVFeGNlcHRpb247CitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5y
dW50aW1lLklQYXRoOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLkZsYWdzOworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklBbm5vdGF0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLklDb21waWxhdGlvblVuaXQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSUZp
ZWxkOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklJbXBvcnREZWNsYXJhdGlvbjsKK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JSW5pdGlhbGl6ZXI7CitpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUuSUphdmFFbGVtZW50OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklK
YXZhUHJvamVjdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JTG9jYWxWYXJpYWJsZTsK
K2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JTWVtYmVyVmFsdWVQYWlyOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLklNZXRob2Q7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
SVBhY2thZ2VEZWNsYXJhdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JUGFja2Fn
ZUZyYWdtZW50OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklQYWNrYWdlRnJhZ21lbnRS
b290OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklUeXBlOworaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5jb3JlLklUeXBlUGFyYW1ldGVyOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LkphdmFNb2RlbEV4Y2VwdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5TaWduYXR1
cmU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuY29tcGlsZXIuQ2hhck9wZXJhdGlvbjsK
LWltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5zZWFyY2guKjsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5zZWFyY2guRmllbGRSZWZlcmVuY2VNYXRjaDsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5zZWFyY2guSUphdmFTZWFyY2hDb25zdGFudHM7CitpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUuc2VhcmNoLklKYXZhU2VhcmNoU2NvcGU7CitpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LmNvcmUuc2VhcmNoLkxvY2FsVmFyaWFibGVSZWZlcmVuY2VNYXRjaDsKK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5zZWFyY2guTWV0aG9kUmVmZXJlbmNlTWF0Y2g7CitpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmNvcmUuc2VhcmNoLlNlYXJjaEVuZ2luZTsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5zZWFyY2guU2VhcmNoTWF0Y2g7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUuc2VhcmNoLlNlYXJjaFBhcnRpY2lwYW50OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LnNlYXJjaC5TZWFyY2hQYXR0ZXJuOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnNlYXJj
aC5TZWFyY2hSZXF1ZXN0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuc2VhcmNoLlR5
cGVOYW1lTWF0Y2g7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuc2VhcmNoLlR5cGVOYW1l
TWF0Y2hSZXF1ZXN0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuc2VhcmNoLlR5cGVO
YW1lUmVxdWVzdG9yOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5F
eHRyYUZsYWdzOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5lbnYu
QWNjZXNzUmVzdHJpY3Rpb247CkBAIC01MjYsNiArNTU4LDggQEAKIAkJCX0KIAkJCVN0cmluZyB0
eXBlTmFtZSA9IHR5cGUuZ2V0RWxlbWVudE5hbWUoKTsKLQkJCWlmICh0eXBlTmFtZS5sZW5ndGgo
KSA9PSAwKSB7CisJCQlpZiAodHlwZS5pc0Fub255bW91cygpKSB7CiAJCQkJdGhpcy5saW5lLmFw
cGVuZCgiPGFub255bW91cz4iKTsKKwkJCX0gZWxzZSBpZiAodHlwZS5pc0xhbWJkYSgpKSB7CisJ
CQkJKChMYW1iZGFFeHByZXNzaW9uKSB0eXBlKS50b1N0cmluZ05hbWUodGhpcy5saW5lKTsKIAkJ
CX0gZWxzZSB7CiAJCQkJdGhpcy5saW5lLmFwcGVuZCh0eXBlTmFtZSk7CmRpZmYgLS1naXQgc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFFbGVtZW50OFRlc3RzLmphdmEg
c3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFFbGVtZW50OFRlc3RzLmph
dmEKaW5kZXggMTg0MTQyZi4uOWQyYjIwNyAxMDA2NDQKLS0tIHNyYy9vcmcvZWNsaXBzZS9qZHQv
Y29yZS90ZXN0cy9tb2RlbC9KYXZhRWxlbWVudDhUZXN0cy5qYXZhCisrKyBzcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvSmF2YUVsZW1lbnQ4VGVzdHMuamF2YQpAQCAtNDk4LDQg
KzQ5OCwzMSBAQAogCQkJZGVsZXRlUHJvamVjdCgiQnVnNDMwMTQxIik7CiAJCX0KLQl9CQorCX0K
KwkvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDMwMTk1
CisJcHVibGljIHZvaWQgdGVzdDQzMDE5NSgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKKwkJU3Ry
aW5nIHByb2plY3ROYW1lID0gIkJ1ZzQzMDE5NSI7CisJCXRyeSB7CisJCQlJSmF2YVByb2plY3Qg
cHJvamVjdCA9IGNyZWF0ZUphdmFQcm9qZWN0KHByb2plY3ROYW1lLCBuZXcgU3RyaW5nW10geyJz
cmMifSwgbmV3IFN0cmluZ1tdIHsiSkNMMThfTElCIn0sICJiaW4iLCAiMS44Iik7CisJCQlwcm9q
ZWN0Lm9wZW4obnVsbCk7CisJCQlTdHJpbmcgZmlsZUNvbnRlbnQgPSAKKwkJCQkJImludGVyZmFj
ZSBNeUZ1bmN0aW9uPFQsIFI+IHtcbiIgKworCQkJCQkiICAgIFIgYXBwbHkoVCB0KTtcbiIgKwor
CQkJCQkiICAgIGRlZmF1bHQgPFY+IE15RnVuY3Rpb248ViwgUj4gY29tcG9zZShNeUZ1bmN0aW9u
PD8gc3VwZXIgViwgPyBleHRlbmRzIFQ+IGJlZm9yZSkge1xuIiArCisJCQkJCSIgICAgICAgIHJl
dHVybiB2IC0+IGFwcGx5KGJlZm9yZS5hcHBseSh2KSk7XG4iICsKKwkJCQkJIiAgICB9XG4iICsK
KwkJCQkJIn1cbiI7CisJCQlTdHJpbmcgZmlsZU5hbWUgPSAiLyIgKyBwcm9qZWN0TmFtZSArICIv
c3JjL1guamF2YSI7CisJCQljcmVhdGVGaWxlKGZpbGVOYW1lLCBmaWxlQ29udGVudCk7CisJCQkK
KwkJCUlDb21waWxhdGlvblVuaXQgdW5pdCA9IGdldENvbXBpbGF0aW9uVW5pdChmaWxlTmFtZSk7
CisJCQlpbnQgc3RhcnQgPSBmaWxlQ29udGVudC5pbmRleE9mKCJ2Iik7CisJCQlJSmF2YUVsZW1l
bnRbXSBlbGVtZW50cyA9IHVuaXQuY29kZVNlbGVjdChzdGFydCwgMSk7CisJCQlhc3NlcnRFcXVh
bHMoIkluY29ycmVjdCBqYXZhIGVsZW1lbnQiLCBJSmF2YUVsZW1lbnQuTE9DQUxfVkFSSUFCTEUs
IGVsZW1lbnRzWzBdLmdldEVsZW1lbnRUeXBlKCkpOworCQkJSVR5cGUgbGFtYmRhID0gKElUeXBl
KSBlbGVtZW50c1swXS5nZXRQYXJlbnQoKS5nZXRQYXJlbnQoKTsKKwkJCWFzc2VydEVxdWFscygi
SW5jb3JyZWN0IHF1YWxpZmllZCB0eXBlIG5hbWUiLCAiTXlGdW5jdGlvbiQxIiwgbGFtYmRhLmdl
dFR5cGVRdWFsaWZpZWROYW1lKCkpOworCQl9CisJCWZpbmFsbHkgeworCQkJZGVsZXRlUHJvamVj
dChwcm9qZWN0TmFtZSk7CisJCX0KKwl9CiB9CmRpZmYgLS1naXQgc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL21vZGVsL1Jlc29sdmVUZXN0czE4LmphdmEgc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL21vZGVsL1Jlc29sdmVUZXN0czE4LmphdmEKaW5kZXggNjRkODU0OS4uMzQ2
OTYxMyAxMDA2NDQKLS0tIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9SZXNv
bHZlVGVzdHMxOC5qYXZhCisrKyBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwv
UmVzb2x2ZVRlc3RzMTguamF2YQpAQCAtMjQyNSw1ICsyNDI1LDUgQEAKIAlTdHJpbmcgbWVtZW50
byA9IGxhbWJkYS5nZXRIYW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1YWxzKCJJbmNvcnJl
Y3QgbWVtZW50byBzdHJpbmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2YVtYfmZvb35RTGlz
dFxcPFFVOz47KUxhbWJkYVxcKEdldHRlclxcKVwiTEdldHRlclxcPFRVOz47ITE0NCExNjEhMTUy
JmdldCEyXCJMamF2YS51dGlsLkxpc3RcXDxUVTs+O1wieFwiSVwiaVwiVFU7XCJMWFxcfkdldHRl
clxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7PjtJXFwpVFU7QHgh
MTQ1ITE0NSExNDUhMTQ1IUxqYXZhXFwvdXRpbFxcL0xpc3Q7ITAhdHJ1ZUBpITE0OCExNDghMTQ4
ITE0OCFJITAhdHJ1ZSIsIAorCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8
UVU7PjspR2V0dGVyXCJMR2V0dGVyXFw8VFU7PjshMTQ0ITE2MSExNTImZ2V0ITJcIkxqYXZhLnV0
aWwuTGlzdFxcPFRVOz47XCJ4XCJJXCJpXCJUVTtcIkxYXFx+R2V0dGVyXFw8TFg7OlRVOz47Lmdl
dFxcKExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+O0lcXClUVTtAeCExNDUhMTQ1ITE0NSExNDUh
TGphdmFcXC91dGlsXFwvTGlzdDshMCF0cnVlQGkhMTQ4ITE0OCExNDghMTQ4IUkhMCF0cnVlIiwg
CiAJCQltZW1lbnRvKTsKIAlJSmF2YUVsZW1lbnQgcmVzdWx0ID0gSmF2YUNvcmUuY3JlYXRlKG1l
bWVudG8pOwpAQCAtMjQzMiw1ICsyNDMyLDUgQEAKIAltZW1lbnRvID0gZXhwcmVzc2lvbi5nZXRI
YW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1YWxzKCJJbmNvcnJlY3QgbWVtZW50byBzdHJp
bmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2YVtYfmZvb35RTGlzdFxcPFFVOz47KUxhbWJk
YVxcKEdldHRlclxcKVwiTEdldHRlclxcPFRVOz47ITE0NCExNjEhMTUyIiwgCisJCQkiPVJlc29s
dmUvc3JjPHtYLmphdmFbWH5mb29+UUxpc3RcXDxRVTs+OylHZXR0ZXJcIkxHZXR0ZXJcXDxUVTs+
OyExNDQhMTYxITE1MiIsIAogCQkJbWVtZW50byk7CiAJcmVzdWx0ID0gSmF2YUNvcmUuY3JlYXRl
KG1lbWVudG8pOwpAQCAtMjQ0Myw1ICsyNDQzLDUgQEAKIAlTeXN0ZW0ub3V0LnByaW50bG4obWVt
ZW50byk7CiAJYXNzZXJ0RXF1YWxzKCJJbmNvcnJlY3QgbWVtZW50byBzdHJpbmciLCAKLQkJCSI9
UmVzb2x2ZS9zcmM8e1guamF2YVtYfmZvb35RTGlzdFxcPFFVOz47KUxhbWJkYVxcKEdldHRlclxc
KVwiTEdldHRlclxcPFRVOz47ITE4MCExOTchMTg4JmdldCEyXCJMamF2YS51dGlsLkxpc3RcXDxU
VTs+O1wieFwiSVwiaVwiVFU7XCJMWFxcfkdldHRlclxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxc
L3V0aWxcXC9MaXN0XFw8VFU7PjtJXFwpVFU7QHghMTgxITE4MSExODEhMTgxIUxqYXZhXFwvdXRp
bFxcL0xpc3Q7ITAhdHJ1ZUBpITE4NCExODQhMTg0ITE4NCFJITAhdHJ1ZSIsIAorCQkJIj1SZXNv
bHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8UVU7PjspXCJMR2V0dGVyXFw8VFU7PjshMTgw
ITE5NyExODgmZ2V0ITJcIkxqYXZhLnV0aWwuTGlzdFxcPFRVOz47XCJ4XCJJXCJpXCJUVTtcIkxY
XFx+R2V0dGVyXFw8TFg7OlRVOz47LmdldFxcKExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+O0lc
XClUVTtAeCExODEhMTgxITE4MSExODEhTGphdmFcXC91dGlsXFwvTGlzdDshMCF0cnVlQGkhMTg0
ITE4NCExODQhMTg0IUkhMCF0cnVlIiwgCiAJCQltZW1lbnRvKTsKIAlyZXN1bHQgPSBKYXZhQ29y
ZS5jcmVhdGUobWVtZW50byk7CkBAIC0yNDUxLDUgKzI0NTEsNSBAQAogCVN5c3RlbS5vdXQucHJp
bnRsbihtZW1lbnRvKTsKIAlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBtZW1lbnRvIHN0cmluZyIs
IAotCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8UVU7PjspTGFtYmRhXFwo
R2V0dGVyXFwpXCJMR2V0dGVyXFw8VFU7PjshMTgwITE5NyExODgiLCAKKwkJCSI9UmVzb2x2ZS9z
cmM8e1guamF2YVtYfmZvb35RTGlzdFxcPFFVOz47KVwiTEdldHRlclxcPFRVOz47ITE4MCExOTch
MTg4IiwgCiAJCQltZW1lbnRvKTsKIAlyZXN1bHQgPSBKYXZhQ29yZS5jcmVhdGUobWVtZW50byk7
CiNQIG9yZy5lY2xpcHNlLmpkdC5jb3JlCmRpZmYgLS1naXQgbW9kZWwvb3JnL2VjbGlwc2UvamR0
L2NvcmUvSVR5cGUuamF2YSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS9JVHlwZS5qYXZhCmlu
ZGV4IDdmMTI0MzUuLmQ3OGI4NWEgMTAwNjQ0Ci0tLSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29y
ZS9JVHlwZS5qYXZhCisrKyBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS9JVHlwZS5qYXZhCkBA
IC0xOCw5ICsxOCwxMCBAQAogLyoqCiAgKiBSZXByZXNlbnRzIGVpdGhlciBhIHNvdXJjZSB0eXBl
IGluIGEgY29tcGlsYXRpb24gdW5pdCAoZWl0aGVyIGEgdG9wLWxldmVsCi0gKiB0eXBlLCBhIG1l
bWJlciB0eXBlLCBhIGxvY2FsIHR5cGUgb3IgYW4gYW5vbnltb3VzIHR5cGUpCisgKiB0eXBlLCBh
IG1lbWJlciB0eXBlLCBhIGxvY2FsIHR5cGUsIGFuIGFub255bW91cyB0eXBlIG9yIGEgbGFtYmRh
IGV4cHJlc3Npb24pCiAgKiBvciBhIGJpbmFyeSB0eXBlIGluIGEgY2xhc3MgZmlsZS4gRW51bWVy
YXRpb24gY2xhc3NlcyBhbmQgYW5ub3RhdGlvbgogICogdHlwZXMgYXJlIHN1YmtpbmRzIG9mIGNs
YXNzZXMgYW5kIGludGVyZmFjZXMsIHJlc3BlY3RpdmVseS4KICAqIDxwPgotICogTm90ZSB0aGF0
IHRoZSBlbGVtZW50IG5hbWUgb2YgYW4gYW5vbnltb3VzIHNvdXJjZSB0eXBlIGlzIGFsd2F5cyBl
bXB0eS4KKyAqIE5vdGUgdGhhdCB0aGUgZWxlbWVudCBuYW1lIG9mIGFuIGFub255bW91cyBzb3Vy
Y2UgdHlwZSBhbmQgbGFtYmRhIGV4cHJlc3Npb25zCisgKiBpcyBhbHdheXMgZW1wdHkuCiAgKiA8
L3A+PHA+CiAgKiBJZiBhIGJpbmFyeSB0eXBlIGNhbm5vdCBiZSBwYXJzZWQsIGl0cyBzdHJ1Y3R1
cmUgcmVtYWlucyB1bmtub3duLgpAQCAtNDg3LDQgKzQ4OCw3IEBACiAJICogUmV0dXJucyB0aGUg
c2ltcGxlIG5hbWUgb2YgdGhpcyB0eXBlLCB1bnF1YWxpZmllZCBieSBwYWNrYWdlIG9yIGVuY2xv
c2luZyB0eXBlLgogCSAqIFRoaXMgaXMgYSBoYW5kbGUtb25seSBtZXRob2QuCisJICogCisJICog
Tm90ZSB0aGF0IHRoZSBlbGVtZW50IG5hbWUgb2YgYW4gYW5vbnltb3VzIHNvdXJjZSB0eXBlIGFu
ZCBsYW1iZGEgZXhwcmVzc2lvbnMKKwkgKiBpcyBhbHdheXMgZW1wdHkuCiAJICoKIAkgKiBAcmV0
dXJuIHRoZSBzaW1wbGUgbmFtZSBvZiB0aGlzIHR5cGUKQEAgLTEyMDYsMyArMTIxMCwxMSBAQAog
CSAqLwogCVN0cmluZ1tdW10gcmVzb2x2ZVR5cGUoU3RyaW5nIHR5cGVOYW1lLCBXb3JraW5nQ29w
eU93bmVyIG93bmVyKSB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uOworCQorCS8qKgorCSAqIFJl
dHVybnMgd2hldGhlciB0aGlzIHR5cGUgcmVwcmVzZW50cyBhIGxhbWJkYSBleHByZXNzaW9uLgor
CSAqCisJICogQHJldHVybiB0cnVlIGlmIHRoaXMgdHlwZSByZXByZXNlbnRzIGEgbGFtYmRhIGV4
cHJlc3Npb24sIGZhbHNlIG90aGVyd2lzZQorCSAqIEBzaW5jZSAzLjEwCisJICovCisJcHVibGlj
IGJvb2xlYW4gaXNMYW1iZGEoKTsKIH0KZGlmZiAtLWdpdCBtb2RlbC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS9CaW5hcnlUeXBlLmphdmEgbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvQmluYXJ5VHlwZS5qYXZhCmluZGV4IGUyNmMwYjguLmYwNTU1YzkgMTAwNjQ0Ci0t
LSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9CaW5hcnlUeXBlLmphdmEKKysr
IG1vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0JpbmFyeVR5cGUuamF2YQpAQCAt
MTA0MywzICsxMDQzLDcgQEAKIAlyZXR1cm4gamF2YWRvY0NvbnRlbnRzOwogfQorQE92ZXJyaWRl
CitwdWJsaWMgYm9vbGVhbiBpc0xhbWJkYSgpIHsKKwlyZXR1cm4gZmFsc2U7Cit9CiB9CmRpZmYg
LS1naXQgbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvTGFtYmRhRXhwcmVzc2lv
bi5qYXZhIG1vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0xhbWJkYUV4cHJlc3Np
b24uamF2YQppbmRleCA1YjJkOThkLi5iN2Y4NjYxIDEwMDY0NAotLS0gbW9kZWwvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvcmUvTGFtYmRhRXhwcmVzc2lvbi5qYXZhCisrKyBtb2RlbC9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9MYW1iZGFFeHByZXNzaW9uLmphdmEKQEAgLTM3LDkg
KzM3LDExIEBACiAJcHJvdGVjdGVkIGludCBhcnJvd1Bvc2l0aW9uOwogCXByb3RlY3RlZCBTdHJp
bmcgaW50ZXJwaGFzZTsKKwlTdHJpbmcgcmVzb2x2ZWRUeXBlTmFtZTsKIAkKIAkKIAkvLyBDb25z
dHJ1Y3Rpb24gZnJvbSBBU1Qgbm9kZQogCXB1YmxpYyBMYW1iZGFFeHByZXNzaW9uKEphdmFFbGVt
ZW50IHBhcmVudCwgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmFzdC5MYW1iZGFF
eHByZXNzaW9uIGxhbWJkYUV4cHJlc3Npb24pIHsKLQkJc3VwZXIocGFyZW50LCBuZXcgU3RyaW5n
KCJMYW1iZGEoIikgKyBuZXcgU3RyaW5nKGxhbWJkYUV4cHJlc3Npb24ucmVzb2x2ZWRUeXBlLnNv
dXJjZU5hbWUoKSkgKyAnKScpOyAvLyROT04tTkxTLTEkCisJCXN1cGVyKHBhcmVudCwgbmV3IFN0
cmluZyhDaGFyT3BlcmF0aW9uLk5PX0NIQVIpKTsKKwkJdGhpcy5yZXNvbHZlZFR5cGVOYW1lID0g
bmV3IFN0cmluZyhsYW1iZGFFeHByZXNzaW9uLnJlc29sdmVkVHlwZS5zb3VyY2VOYW1lKCkpOwog
CQl0aGlzLnNvdXJjZVN0YXJ0ID0gbGFtYmRhRXhwcmVzc2lvbi5zb3VyY2VTdGFydDsKIAkJdGhp
cy5zb3VyY2VFbmQgPSBsYW1iZGFFeHByZXNzaW9uLnNvdXJjZUVuZDsKQEAgLTUyLDYgKzU0LDcg
QEAKIAkKIAkvLyBDb25zdHJ1Y3Rpb24gZnJvbSBtZW1lbnRvCi0JcHVibGljIExhbWJkYUV4cHJl
c3Npb24oSmF2YUVsZW1lbnQgcGFyZW50LCBTdHJpbmcgbmFtZSwgU3RyaW5nIGludGVycGhhc2Us
IGludCBzb3VyY2VTdGFydCwgaW50IHNvdXJjZUVuZCwgaW50IGFycm93UG9zaXRpb24pIHsKLQkJ
c3VwZXIocGFyZW50LCBuYW1lKTsKKwlwdWJsaWMgTGFtYmRhRXhwcmVzc2lvbihKYXZhRWxlbWVu
dCBwYXJlbnQsIFN0cmluZyByZXNvbHZlZFR5cGVOYW1lLCBTdHJpbmcgaW50ZXJwaGFzZSwgaW50
IHNvdXJjZVN0YXJ0LCBpbnQgc291cmNlRW5kLCBpbnQgYXJyb3dQb3NpdGlvbikgeworCQlzdXBl
cihwYXJlbnQsIG5ldyBTdHJpbmcoQ2hhck9wZXJhdGlvbi5OT19DSEFSKSk7CisJCXRoaXMucmVz
b2x2ZWRUeXBlTmFtZSA9IHJlc29sdmVkVHlwZU5hbWU7CiAJCXRoaXMuc291cmNlU3RhcnQgPSBz
b3VyY2VTdGFydDsKIAkJdGhpcy5zb3VyY2VFbmQgPSBzb3VyY2VFbmQ7CkBAIC02Myw2ICs2Niw3
IEBACiAJCiAJLy8gQ29uc3RydWN0aW9uIGZyb20gc3VidHlwZXMuCi0JcHVibGljIExhbWJkYUV4
cHJlc3Npb24oSmF2YUVsZW1lbnQgcGFyZW50LCBTdHJpbmcgbmFtZSwgU3RyaW5nIGludGVycGhh
c2UsIGludCBzb3VyY2VTdGFydCwgaW50IHNvdXJjZUVuZCwgaW50IGFycm93UG9zaXRpb24sIExh
bWJkYU1ldGhvZCBsYW1iZGFNZXRob2QpIHsKLQkJc3VwZXIocGFyZW50LCBuYW1lKTsKKwlwdWJs
aWMgTGFtYmRhRXhwcmVzc2lvbihKYXZhRWxlbWVudCBwYXJlbnQsIFN0cmluZyByZXNvbHZlZFR5
cGVOYW1lLCBTdHJpbmcgaW50ZXJwaGFzZSwgaW50IHNvdXJjZVN0YXJ0LCBpbnQgc291cmNlRW5k
LCBpbnQgYXJyb3dQb3NpdGlvbiwgTGFtYmRhTWV0aG9kIGxhbWJkYU1ldGhvZCkgeworCQlzdXBl
cihwYXJlbnQsIG5ldyBTdHJpbmcoQ2hhck9wZXJhdGlvbi5OT19DSEFSKSk7CisJCXRoaXMucmVz
b2x2ZWRUeXBlTmFtZSA9IHJlc29sdmVkVHlwZU5hbWU7CiAJCXRoaXMuc291cmNlU3RhcnQgPSBz
b3VyY2VTdGFydDsKIAkJdGhpcy5zb3VyY2VFbmQgPSBzb3VyY2VFbmQ7CkBAIC0xMzksNSArMTQz
LDUgQEAKIAkJCSgoSmF2YUVsZW1lbnQpZ2V0UGFyZW50KCkpLmdldEhhbmRsZU1lbWVudG8oYnVm
Zik7CiAJCWJ1ZmYuYXBwZW5kKGdldEhhbmRsZU1lbWVudG9EZWxpbWl0ZXIoKSk7Ci0JCWVzY2Fw
ZU1lbWVudG9OYW1lKGJ1ZmYsIHRoaXMubmFtZSk7CisJCWVzY2FwZU1lbWVudG9OYW1lKGJ1ZmYs
IHRoaXMucmVzb2x2ZWRUeXBlTmFtZSk7CiAJCWJ1ZmYuYXBwZW5kKEpFTV9TVFJJTkcpOwogCQll
c2NhcGVNZW1lbnRvTmFtZShidWZmLCB0aGlzLmludGVycGhhc2UpOwpAQCAtMjA1LDQgKzIwOSwy
NSBAQAogCQogCUBPdmVycmlkZQorCXB1YmxpYyBib29sZWFuIGlzTGFtYmRhKCkgeworCQlyZXR1
cm4gdHJ1ZTsKKwl9CisKKwlAT3ZlcnJpZGUKKwlwdWJsaWMgYm9vbGVhbiBpc0Fub255bW91cygp
IHsKKwkJcmV0dXJuIGZhbHNlOworCX0KKworCXB1YmxpYyB2b2lkIHRvU3RyaW5nTmFtZShTdHJp
bmdCdWZmZXIgYnVmZmVyKSB7CisJCXN1cGVyLnRvU3RyaW5nTmFtZShidWZmZXIpOworCQlidWZm
ZXIuYXBwZW5kKCJMYW1iZGEoIik7IC8vJE5PTi1OTFMtMSQKKwkJYnVmZmVyLmFwcGVuZCh0aGlz
LnJlc29sdmVkVHlwZU5hbWUpOworCQlidWZmZXIuYXBwZW5kKCcpJyk7CisJCWlmICh0aGlzLm9j
Y3VycmVuY2VDb3VudCA+IDEpIHsKKwkJCWJ1ZmZlci5hcHBlbmQoIiMiKTsgLy8kTk9OLU5MUy0x
JAorCQkJYnVmZmVyLmFwcGVuZCh0aGlzLm9jY3VycmVuY2VDb3VudCk7CisJCX0KKwl9CisKKwlA
T3ZlcnJpZGUKIAlwdWJsaWMgSUphdmFFbGVtZW50IGdldFByaW1hcnlFbGVtZW50KGJvb2xlYW4g
Y2hlY2tPd25lcikgewogCQlpZiAoY2hlY2tPd25lcikgewpkaWZmIC0tZ2l0IG1vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL01lbWJlci5qYXZhIG1vZGVsL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL01lbWJlci5qYXZhCmluZGV4IDJjMzk1MGQuLjc5ODMxMGMgMTAwNjQ0
Ci0tLSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9NZW1iZXIuamF2YQorKysg
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvTWVtYmVyLmphdmEKQEAgLTE3OSw1
ICsxNzksNSBAQAogCQljYXNlIEpFTV9MQU1CREFfRVhQUkVTU0lPTjoKIAkJCWlmICghbWVtZW50
by5oYXNNb3JlVG9rZW5zKCkpIHJldHVybiB0aGlzOwotCQkJU3RyaW5nIG5hbWUgPSBtZW1lbnRv
Lm5leHRUb2tlbigpOworCQkJU3RyaW5nIHJlc29sdmVkVHlwZSA9IG1lbWVudG8ubmV4dFRva2Vu
KCk7CiAJCQlpZiAoIW1lbWVudG8uaGFzTW9yZVRva2VucygpIHx8IG1lbWVudG8ubmV4dFRva2Vu
KCkgIT0gTWVtZW50b1Rva2VuaXplci5TVFJJTkcpCiAJCQkJcmV0dXJuIHRoaXM7CkBAIC0xOTMs
NSArMTkzLDUgQEAKIAkJCQlyZXR1cm4gdGhpczsKIAkJCWludCBhcnJvd1Bvc2l0aW9uID0gSW50
ZWdlci5wYXJzZUludChtZW1lbnRvLm5leHRUb2tlbigpKTsKLQkJCUxhbWJkYUV4cHJlc3Npb24g
ZXhwcmVzc2lvbiA9IG5ldyBMYW1iZGFFeHByZXNzaW9uKHRoaXMsIG5hbWUsIGludGVycGhhc2Us
IHNvdXJjZVN0YXJ0LCBzb3VyY2VFbmQsIGFycm93UG9zaXRpb24pOworCQkJTGFtYmRhRXhwcmVz
c2lvbiBleHByZXNzaW9uID0gbmV3IExhbWJkYUV4cHJlc3Npb24odGhpcywgcmVzb2x2ZWRUeXBl
LCBpbnRlcnBoYXNlLCBzb3VyY2VTdGFydCwgc291cmNlRW5kLCBhcnJvd1Bvc2l0aW9uKTsKIAkJ
CWlmICghbWVtZW50by5oYXNNb3JlVG9rZW5zKCkgfHwgKHRva2VuID0gbWVtZW50by5uZXh0VG9r
ZW4oKSkgIT0gTWVtZW50b1Rva2VuaXplci5MQU1CREFfTUVUSE9EKSAKIAkJCQlyZXR1cm4gZXhw
cmVzc2lvbjsKZGlmZiAtLWdpdCBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9S
ZXNvbHZlZExhbWJkYUV4cHJlc3Npb24uamF2YSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29yZS9SZXNvbHZlZExhbWJkYUV4cHJlc3Npb24uamF2YQppbmRleCAxMTM0NWNiLi4xNGQ1
MDQxIDEwMDY0NAotLS0gbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvUmVzb2x2
ZWRMYW1iZGFFeHByZXNzaW9uLmphdmEKKysrIG1vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JlL1Jlc29sdmVkTGFtYmRhRXhwcmVzc2lvbi5qYXZhCkBAIC0yMyw1ICsyMyw1IEBACiAK
IAlwdWJsaWMgUmVzb2x2ZWRMYW1iZGFFeHByZXNzaW9uKEphdmFFbGVtZW50IHBhcmVudCwgTGFt
YmRhRXhwcmVzc2lvbiB1bnJlc29sdmVkLCBTdHJpbmcgdW5pcXVlS2V5KSB7Ci0JCXN1cGVyKHBh
cmVudCwgdW5yZXNvbHZlZC5uYW1lLCB1bnJlc29sdmVkLmludGVycGhhc2UsIHVucmVzb2x2ZWQu
c291cmNlU3RhcnQsIHVucmVzb2x2ZWQuc291cmNlRW5kLCB1bnJlc29sdmVkLmFycm93UG9zaXRp
b24sIHVucmVzb2x2ZWQubGFtYmRhTWV0aG9kKTsKKwkJc3VwZXIocGFyZW50LCB1bnJlc29sdmVk
LnJlc29sdmVkVHlwZU5hbWUsIHVucmVzb2x2ZWQuaW50ZXJwaGFzZSwgdW5yZXNvbHZlZC5zb3Vy
Y2VTdGFydCwgdW5yZXNvbHZlZC5zb3VyY2VFbmQsIHVucmVzb2x2ZWQuYXJyb3dQb3NpdGlvbiwg
dW5yZXNvbHZlZC5sYW1iZGFNZXRob2QpOwogCQl0aGlzLnVuaXF1ZUtleSA9IHVuaXF1ZUtleTsK
IAkJdGhpcy51bnJlc29sdmVkID0gdW5yZXNvbHZlZDsKZGlmZiAtLWdpdCBtb2RlbC9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZS9Tb3VyY2VUeXBlLmphdmEgbW9kZWwvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvU291cmNlVHlwZS5qYXZhCmluZGV4IDc5NDczMTUuLmI1ODg5MDYg
MTAwNjQ0Ci0tLSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9Tb3VyY2VUeXBl
LmphdmEKKysrIG1vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL1NvdXJjZVR5cGUu
amF2YQpAQCAtODQyLDYgKzg0Miw1IEBACiAJYnVmZmVyLmFwcGVuZCh0YWJTdHJpbmcodGFiKSk7
CiAJaWYgKGluZm8gPT0gbnVsbCkgewotCQlTdHJpbmcgZWxlbWVudE5hbWUgPSBnZXRFbGVtZW50
TmFtZSgpOwotCQlpZiAoZWxlbWVudE5hbWUubGVuZ3RoKCkgPT0gMCkgeworCQlpZiAoaXNBbm9u
eW1vdXMoKSkgewogCQkJYnVmZmVyLmFwcGVuZCgiPGFub255bW91cyAjIik7IC8vJE5PTi1OTFMt
MSQKIAkJCWJ1ZmZlci5hcHBlbmQodGhpcy5vY2N1cnJlbmNlQ291bnQpOwpAQCAtODUyLDYgKzg1
MSw1IEBACiAJCWJ1ZmZlci5hcHBlbmQoIiAobm90IG9wZW4pIik7IC8vJE5PTi1OTFMtMSQKIAl9
IGVsc2UgaWYgKGluZm8gPT0gTk9fSU5GTykgewotCQlTdHJpbmcgZWxlbWVudE5hbWUgPSBnZXRF
bGVtZW50TmFtZSgpOwotCQlpZiAoZWxlbWVudE5hbWUubGVuZ3RoKCkgPT0gMCkgeworCQlpZiAo
aXNBbm9ueW1vdXMoKSkgewogCQkJYnVmZmVyLmFwcGVuZCgiPGFub255bW91cyAjIik7IC8vJE5P
Ti1OTFMtMSQKIAkJCWJ1ZmZlci5hcHBlbmQodGhpcy5vY2N1cnJlbmNlQ291bnQpOwpAQCAtODcx
LDYgKzg2OSw1IEBACiAJCQkJYnVmZmVyLmFwcGVuZCgiY2xhc3MgIik7IC8vJE5PTi1OTFMtMSQK
IAkJCX0KLQkJCVN0cmluZyBlbGVtZW50TmFtZSA9IGdldEVsZW1lbnROYW1lKCk7Ci0JCQlpZiAo
ZWxlbWVudE5hbWUubGVuZ3RoKCkgPT0gMCkgeworCQkJaWYgKGlzQW5vbnltb3VzKCkpIHsKIAkJ
CQlidWZmZXIuYXBwZW5kKCI8YW5vbnltb3VzICMiKTsgLy8kTk9OLU5MUy0xJAogCQkJCWJ1ZmZl
ci5hcHBlbmQodGhpcy5vY2N1cnJlbmNlQ291bnQpOwpAQCAtODg0LDMgKzg4MSw3IEBACiAJfQog
fQorQE92ZXJyaWRlCitwdWJsaWMgYm9vbGVhbiBpc0xhbWJkYSgpIHsKKwlyZXR1cm4gZmFsc2U7
Cit9CiB9
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>241561</attachid>
            <date>2014-04-03 10:52:00 -0400</date>
            <delta_ts>2014-04-03 10:52:22 -0400</delta_ts>
            <desc>Updated patch</desc>
            <filename>Bug-430195.patch</filename>
            <type>text/plain</type>
            <size>27066</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9BYnN0cmFjdEphdmFTZWFyY2hUZXN0cy5qYXZhIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL21vZGVsL0Fic3RyYWN0SmF2YVNlYXJjaFRlc3RzLmphdmEKaW5kZXggMjRlMmM4NC4u
MjIzNTg0MSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0Fic3RyYWN0SmF2YVNlYXJjaFRlc3Rz
LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0Fic3RyYWN0SmF2YVNlYXJjaFRlc3RzLmphdmEKQEAg
LTEsNCArMSw0IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAy
MDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAy
MDAwLCAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNl
cnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJl
IG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGlj
ZW5zZSB2MS4wCkBAIC01MjYsNiArNTI2LDEzIEBACiAJCQl9CiAJCQlTdHJpbmcgdHlwZU5hbWUg
PSB0eXBlLmdldEVsZW1lbnROYW1lKCk7Ci0JCQlpZiAodHlwZU5hbWUubGVuZ3RoKCkgPT0gMCkg
eworCQkJYm9vbGVhbiBhbm9ueW1vdXMgPSBmYWxzZTsKKwkJCXRyeSB7CisJCQkJYW5vbnltb3Vz
ID0gdHlwZS5pc0Fub255bW91cygpOworCQkJfSBjYXRjaChKYXZhTW9kZWxFeGNlcHRpb24gam1l
KSB7CisJCQl9CisJCQlpZiAoYW5vbnltb3VzKSB7CiAJCQkJdGhpcy5saW5lLmFwcGVuZCgiPGFu
b255bW91cz4iKTsKKwkJCX0gZWxzZSBpZiAodHlwZS5pc0xhbWJkYSgpKSB7CisJCQkJKChMYW1i
ZGFFeHByZXNzaW9uKSB0eXBlKS50b1N0cmluZ05hbWUodGhpcy5saW5lKTsKIAkJCX0gZWxzZSB7
CiAJCQkJdGhpcy5saW5lLmFwcGVuZCh0eXBlTmFtZSk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9k
ZWwvSmF2YUVsZW1lbnQ4VGVzdHMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1v
ZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhRWxlbWVudDhUZXN0
cy5qYXZhCmluZGV4IGE4MWE2NmMuLjFmYTQwNzAgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9K
YXZhRWxlbWVudDhUZXN0cy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1v
ZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhRWxlbWVudDhUZXN0
cy5qYXZhCkBAIC01MTgsNSArNTE4LDUgQEAKIAkJCUlUeXBlIGxhbWJkYSA9IChJVHlwZSkgZWxl
bWVudHNbMF0uZ2V0UGFyZW50KCkuZ2V0UGFyZW50KCk7CiAJCQlTdHJpbmcgbWVtID0gbGFtYmRh
LmdldEhhbmRsZUlkZW50aWZpZXIoKTsKLQkJCVN0cmluZyBleHBlY3RlZCA9ICI9XFwoXFxbQnVn
NDMwMTM2XFxdKS9zcmM8e1guamF2YVtNeUZ1bmN0aW9ufmNvbXBvc2V+UU15RnVuY3Rpb25cXDwt
UVY7K1FUOz47PSlMYW1iZGFcXChNeUZ1bmN0aW9uKT1cIkxNeUZ1bmN0aW9uXFw8VFY7VFI7Pjsh
MTQ4ITE3NCExNTE9JmFwcGx5ITE9XCJUVjs9XCJ2PVwiVFI7PVwiTFhcXH5NeUZ1bmN0aW9uXFw8
TFhcXH5NeUZ1bmN0aW9uOzoxVFY7TFhcXH5NeUZ1bmN0aW9uOzpUUjs+Oy5hcHBseVxcKFRWOylU
UjtAdiExNDghMTQ4ITE0OCExNDghTGphdmFcXC9sYW5nXFwvT2JqZWN0OyEwIXRydWU9KSI7CisJ
CQlTdHJpbmcgZXhwZWN0ZWQgPSAiPVxcKFxcW0J1ZzQzMDEzNlxcXSkvc3JjPHtYLmphdmFbTXlG
dW5jdGlvbn5jb21wb3NlflFNeUZ1bmN0aW9uXFw8LVFWOytRVDs+Oz0pTXlGdW5jdGlvbj1cIkxN
eUZ1bmN0aW9uXFw8VFY7VFI7PjshMTQ4ITE3NCExNTE9JmFwcGx5ITE9XCJUVjs9XCJ2PVwiVFI7
PVwiTFhcXH5NeUZ1bmN0aW9uXFw8TFhcXH5NeUZ1bmN0aW9uOzoxVFY7TFhcXH5NeUZ1bmN0aW9u
OzpUUjs+Oy5hcHBseVxcKFRWOylUUjtAdiExNDghMTQ4ITE0OCExNDghTGphdmFcXC9sYW5nXFwv
T2JqZWN0OyEwIXRydWU9KSI7CiAJCQlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBtZW1lbnRvIiwg
ZXhwZWN0ZWQsIG1lbSk7CiAJCQlJSmF2YUVsZW1lbnQgcmVzdWx0ID0gSmF2YUNvcmUuY3JlYXRl
KGV4cGVjdGVkKTsKQEAgLTUyNywzICs1MjcsMzAgQEAKIAkJfQogCX0KKwkvLyBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDMwMTk1CisJcHVibGljIHZvaWQg
dGVzdDQzMDE5NSgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKKwkJU3RyaW5nIHByb2plY3ROYW1l
ID0gIkJ1ZzQzMDE5NSI7CisJCXRyeSB7CisJCQlJSmF2YVByb2plY3QgcHJvamVjdCA9IGNyZWF0
ZUphdmFQcm9qZWN0KHByb2plY3ROYW1lLCBuZXcgU3RyaW5nW10geyJzcmMifSwgbmV3IFN0cmlu
Z1tdIHsiSkNMMThfTElCIn0sICJiaW4iLCAiMS44Iik7CisJCQlwcm9qZWN0Lm9wZW4obnVsbCk7
CisJCQlTdHJpbmcgZmlsZUNvbnRlbnQgPSAKKwkJCQkJImludGVyZmFjZSBNeUZ1bmN0aW9uPFQs
IFI+IHtcbiIgKworCQkJCQkiICAgIFIgYXBwbHkoVCB0KTtcbiIgKworCQkJCQkiICAgIGRlZmF1
bHQgPFY+IE15RnVuY3Rpb248ViwgUj4gY29tcG9zZShNeUZ1bmN0aW9uPD8gc3VwZXIgViwgPyBl
eHRlbmRzIFQ+IGJlZm9yZSkge1xuIiArCisJCQkJCSIgICAgICAgIHJldHVybiB2IC0+IGFwcGx5
KGJlZm9yZS5hcHBseSh2KSk7XG4iICsKKwkJCQkJIiAgICB9XG4iICsKKwkJCQkJIn1cbiI7CisJ
CQlTdHJpbmcgZmlsZU5hbWUgPSAiLyIgKyBwcm9qZWN0TmFtZSArICIvc3JjL1guamF2YSI7CisJ
CQljcmVhdGVGaWxlKGZpbGVOYW1lLCBmaWxlQ29udGVudCk7CisJCQkKKwkJCUlDb21waWxhdGlv
blVuaXQgdW5pdCA9IGdldENvbXBpbGF0aW9uVW5pdChmaWxlTmFtZSk7CisJCQlpbnQgc3RhcnQg
PSBmaWxlQ29udGVudC5pbmRleE9mKCJ2Iik7CisJCQlJSmF2YUVsZW1lbnRbXSBlbGVtZW50cyA9
IHVuaXQuY29kZVNlbGVjdChzdGFydCwgMSk7CisJCQlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBq
YXZhIGVsZW1lbnQiLCBJSmF2YUVsZW1lbnQuTE9DQUxfVkFSSUFCTEUsIGVsZW1lbnRzWzBdLmdl
dEVsZW1lbnRUeXBlKCkpOworCQkJSVR5cGUgbGFtYmRhID0gKElUeXBlKSBlbGVtZW50c1swXS5n
ZXRQYXJlbnQoKS5nZXRQYXJlbnQoKTsKKwkJCWFzc2VydEVxdWFscygiSW5jb3JyZWN0IHF1YWxp
ZmllZCB0eXBlIG5hbWUiLCAiTXlGdW5jdGlvbiQxIiwgbGFtYmRhLmdldFR5cGVRdWFsaWZpZWRO
YW1lKCkpOworCQl9CisJCWZpbmFsbHkgeworCQkJZGVsZXRlUHJvamVjdChwcm9qZWN0TmFtZSk7
CisJCX0KKwl9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2Rl
bC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvUmVzb2x2ZVRlc3RzMTguamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQv
Y29yZS90ZXN0cy9tb2RlbC9SZXNvbHZlVGVzdHMxOC5qYXZhCmluZGV4IDUxZTkwMTIuLjlmZTNi
MjAgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9SZXNvbHZlVGVzdHMxOC5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9tb2RlbC9SZXNvbHZlVGVzdHMxOC5qYXZhCkBAIC0yNDIzLDUgKzI0MjMsNSBAQAogCVN0
cmluZyBtZW1lbnRvID0gbGFtYmRhLmdldEhhbmRsZUlkZW50aWZpZXIoKTsKIAlhc3NlcnRFcXVh
bHMoIkluY29ycmVjdCBtZW1lbnRvIHN0cmluZyIsIAotCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZh
W1h+Zm9vflFMaXN0XFw8UVU7Pjs9KUxhbWJkYVxcKEdldHRlcik9XCJMR2V0dGVyXFw8VFU7Pjsh
MTQ0ITE2MSExNTI9JmdldCEyPVwiTGphdmEudXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9
XCJUVTs9XCJMWFxcfkdldHRlclxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0
XFw8VFU7PjtJKVRVO0B4ITE0NSExNDUhMTQ1ITE0NSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRy
dWVAaSExNDghMTQ4ITE0OCExNDghSSEwIXRydWU9JiIsIAorCQkJIj1SZXNvbHZlL3NyYzx7WC5q
YXZhW1h+Zm9vflFMaXN0XFw8UVU7Pjs9KUdldHRlcj1cIkxHZXR0ZXJcXDxUVTs+OyExNDQhMTYx
ITE1Mj0mZ2V0ITI9XCJMamF2YS51dGlsLkxpc3RcXDxUVTs+Oz1cIng9XCJJPVwiaT1cIlRVOz1c
IkxYXFx+R2V0dGVyXFw8TFg7OlRVOz47LmdldFxcKExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+
O0kpVFU7QHghMTQ1ITE0NSExNDUhMTQ1IUxqYXZhXFwvdXRpbFxcL0xpc3Q7ITAhdHJ1ZUBpITE0
OCExNDghMTQ4ITE0OCFJITAhdHJ1ZT0mIiwgCiAJCQltZW1lbnRvKTsKIAlJSmF2YUVsZW1lbnQg
cmVzdWx0ID0gSmF2YUNvcmUuY3JlYXRlKG1lbWVudG8pOwpAQCAtMjQzMCw1ICsyNDMwLDUgQEAK
IAltZW1lbnRvID0gZXhwcmVzc2lvbi5nZXRIYW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1
YWxzKCJJbmNvcnJlY3QgbWVtZW50byBzdHJpbmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2
YVtYfmZvb35RTGlzdFxcPFFVOz47PSlMYW1iZGFcXChHZXR0ZXIpPVwiTEdldHRlclxcPFRVOz47
ITE0NCExNjEhMTUyPSZnZXQhMj1cIkxqYXZhLnV0aWwuTGlzdFxcPFRVOz47PVwieD1cIkk9XCJp
PVwiVFU7PVwiTFhcXH5HZXR0ZXJcXDxMWDs6VFU7PjsuZ2V0XFwoTGphdmFcXC91dGlsXFwvTGlz
dFxcPFRVOz47SSlUVTtAeCExNDUhMTQ1ITE0NSExNDUhTGphdmFcXC91dGlsXFwvTGlzdDshMCF0
cnVlQGkhMTQ4ITE0OCExNDghMTQ4IUkhMCF0cnVlPSkiLCAKKwkJCSI9UmVzb2x2ZS9zcmM8e1gu
amF2YVtYfmZvb35RTGlzdFxcPFFVOz47PSlHZXR0ZXI9XCJMR2V0dGVyXFw8VFU7PjshMTQ0ITE2
MSExNTI9JmdldCEyPVwiTGphdmEudXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9XCJUVTs9
XCJMWFxcfkdldHRlclxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7
PjtJKVRVO0B4ITE0NSExNDUhMTQ1ITE0NSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRydWVAaSEx
NDghMTQ4ITE0OCExNDghSSEwIXRydWU9KSIsIAogCQkJbWVtZW50byk7CiAJcmVzdWx0ID0gSmF2
YUNvcmUuY3JlYXRlKG1lbWVudG8pOwpAQCAtMjQ0MCw1ICsyNDQwLDUgQEAKIAltZW1lbnRvID0g
bGFtYmRhLmdldEhhbmRsZUlkZW50aWZpZXIoKTsKIAlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBt
ZW1lbnRvIHN0cmluZyIsIAotCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8
UVU7Pjs9KUxhbWJkYVxcKEdldHRlcik9XCJMR2V0dGVyXFw8VFU7PjshMTgwITE5NyExODg9Jmdl
dCEyPVwiTGphdmEudXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9XCJUVTs9XCJMWFxcfkdl
dHRlclxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7PjtJKVRVO0B4
ITE4MSExODEhMTgxITE4MSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRydWVAaSExODQhMTg0ITE4
NCExODQhSSEwIXRydWU9JiIsIAorCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0
XFw8UVU7Pjs9KUdldHRlcj1cIkxHZXR0ZXJcXDxUVTs+OyExODAhMTk3ITE4OD0mZ2V0ITI9XCJM
amF2YS51dGlsLkxpc3RcXDxUVTs+Oz1cIng9XCJJPVwiaT1cIlRVOz1cIkxYXFx+R2V0dGVyXFw8
TFg7OlRVOz47LmdldFxcKExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+O0kpVFU7QHghMTgxITE4
MSExODEhMTgxIUxqYXZhXFwvdXRpbFxcL0xpc3Q7ITAhdHJ1ZUBpITE4NCExODQhMTg0ITE4NCFJ
ITAhdHJ1ZT0mIiwgCiAJCQltZW1lbnRvKTsKIAlyZXN1bHQgPSBKYXZhQ29yZS5jcmVhdGUobWVt
ZW50byk7CkBAIC0yNDQ3LDUgKzI0NDcsNSBAQAogCW1lbWVudG8gPSBleHByZXNzaW9uLmdldEhh
bmRsZUlkZW50aWZpZXIoKTsKIAlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBtZW1lbnRvIHN0cmlu
ZyIsIAotCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8UVU7Pjs9KUxhbWJk
YVxcKEdldHRlcik9XCJMR2V0dGVyXFw8VFU7PjshMTgwITE5NyExODg9JmdldCEyPVwiTGphdmEu
dXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9XCJUVTs9XCJMWFxcfkdldHRlclxcPExYOzpU
VTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7PjtJKVRVO0B4ITE4MSExODEhMTgx
ITE4MSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRydWVAaSExODQhMTg0ITE4NCExODQhSSEwIXRy
dWU9KSIsIAorCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8UVU7Pjs9KUdl
dHRlcj1cIkxHZXR0ZXJcXDxUVTs+OyExODAhMTk3ITE4OD0mZ2V0ITI9XCJMamF2YS51dGlsLkxp
c3RcXDxUVTs+Oz1cIng9XCJJPVwiaT1cIlRVOz1cIkxYXFx+R2V0dGVyXFw8TFg7OlRVOz47Lmdl
dFxcKExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+O0kpVFU7QHghMTgxITE4MSExODEhMTgxIUxq
YXZhXFwvdXRpbFxcL0xpc3Q7ITAhdHJ1ZUBpITE4NCExODQhMTg0ITE4NCFJITAhdHJ1ZT0pIiwg
CiAJCQltZW1lbnRvKTsKIAlyZXN1bHQgPSBKYXZhQ29yZS5jcmVhdGUobWVtZW50byk7CkBAIC0y
NDc1LDUgKzI0NzUsNSBAQAogCVN0cmluZyBtZW1lbnRvID0gbG9jYWwuZ2V0SGFuZGxlSWRlbnRp
ZmllcigpOwogCWFzc2VydEVxdWFscygiSW5jb3JyZWN0IG1lbWVudG8gc3RyaW5nIiwgCi0JCQki
PVJlc29sdmUvc3JjPHtYLmphdmFbWH5mb29+UUxpc3RcXDxRVTs+Oz0pTGFtYmRhXFwoR2V0dGVy
KT1cIkxHZXR0ZXJcXDxUVTs+OyExNDQhMTYxITE1Mj0mZ2V0ITI9XCJMamF2YS51dGlsLkxpc3Rc
XDxUVTs+Oz1cIng9XCJJPVwiaT1cIlRVOz1cIkxYXFx+R2V0dGVyXFw8TFg7OlRVOz47LmdldFxc
KExqYXZhXFwvdXRpbFxcL0xpc3RcXDxUVTs+O0kpVFU7QHghMTQ1ITE0NSExNDUhMTQ1IUxqYXZh
XFwvdXRpbFxcL0xpc3Q7ITAhdHJ1ZUBpITE0OCExNDghMTQ4ITE0OCFJITAhdHJ1ZT0mQHghMTQ1
ITE0NSExNDUhMTQ1IUxqYXZhLnV0aWwuTGlzdFxcPExVOz47ITAhdHJ1ZSIsIAorCQkJIj1SZXNv
bHZlL3NyYzx7WC5qYXZhW1h+Zm9vflFMaXN0XFw8UVU7Pjs9KUdldHRlcj1cIkxHZXR0ZXJcXDxU
VTs+OyExNDQhMTYxITE1Mj0mZ2V0ITI9XCJMamF2YS51dGlsLkxpc3RcXDxUVTs+Oz1cIng9XCJJ
PVwiaT1cIlRVOz1cIkxYXFx+R2V0dGVyXFw8TFg7OlRVOz47LmdldFxcKExqYXZhXFwvdXRpbFxc
L0xpc3RcXDxUVTs+O0kpVFU7QHghMTQ1ITE0NSExNDUhMTQ1IUxqYXZhXFwvdXRpbFxcL0xpc3Q7
ITAhdHJ1ZUBpITE0OCExNDghMTQ4ITE0OCFJITAhdHJ1ZT0mQHghMTQ1ITE0NSExNDUhMTQ1IUxq
YXZhLnV0aWwuTGlzdFxcPExVOz47ITAhdHJ1ZSIsIAogCQkJbWVtZW50byk7CiAJSUphdmFFbGVt
ZW50IHJlc3VsdCA9IEphdmFDb3JlLmNyZWF0ZShtZW1lbnRvKTsKQEAgLTI0ODUsNSArMjQ4NSw1
IEBACiAJbWVtZW50byA9IGxhbWJkYS5nZXRIYW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1
YWxzKCJJbmNvcnJlY3QgbWVtZW50byBzdHJpbmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2
YVtYfmZvb35RTGlzdFxcPFFVOz47PSlMYW1iZGFcXChHZXR0ZXIpPVwiTEdldHRlclxcPFRVOz47
ITE0NCExNjEhMTUyPSZnZXQhMj1cIkxqYXZhLnV0aWwuTGlzdFxcPFRVOz47PVwieD1cIkk9XCJp
PVwiVFU7PVwiTFhcXH5HZXR0ZXJcXDxMWDs6VFU7PjsuZ2V0XFwoTGphdmFcXC91dGlsXFwvTGlz
dFxcPFRVOz47SSlUVTtAeCExNDUhMTQ1ITE0NSExNDUhTGphdmFcXC91dGlsXFwvTGlzdDshMCF0
cnVlQGkhMTQ4ITE0OCExNDghMTQ4IUkhMCF0cnVlPSYiLCAKKwkJCSI9UmVzb2x2ZS9zcmM8e1gu
amF2YVtYfmZvb35RTGlzdFxcPFFVOz47PSlHZXR0ZXI9XCJMR2V0dGVyXFw8VFU7PjshMTQ0ITE2
MSExNTI9JmdldCEyPVwiTGphdmEudXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9XCJUVTs9
XCJMWFxcfkdldHRlclxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7
PjtJKVRVO0B4ITE0NSExNDUhMTQ1ITE0NSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRydWVAaSEx
NDghMTQ4ITE0OCExNDghSSEwIXRydWU9JiIsIAogCQkJbWVtZW50byk7CiAJcmVzdWx0ID0gSmF2
YUNvcmUuY3JlYXRlKG1lbWVudG8pOwpAQCAtMjQ5Myw1ICsyNDkzLDUgQEAKIAltZW1lbnRvID0g
ZXhwcmVzc2lvbi5nZXRIYW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1YWxzKCJJbmNvcnJl
Y3QgbWVtZW50byBzdHJpbmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2YVtYfmZvb35RTGlz
dFxcPFFVOz47PSlMYW1iZGFcXChHZXR0ZXIpPVwiTEdldHRlclxcPFRVOz47ITE0NCExNjEhMTUy
PSZnZXQhMj1cIkxqYXZhLnV0aWwuTGlzdFxcPFRVOz47PVwieD1cIkk9XCJpPVwiVFU7PVwiTFhc
XH5HZXR0ZXJcXDxMWDs6VFU7PjsuZ2V0XFwoTGphdmFcXC91dGlsXFwvTGlzdFxcPFRVOz47SSlU
VTtAeCExNDUhMTQ1ITE0NSExNDUhTGphdmFcXC91dGlsXFwvTGlzdDshMCF0cnVlQGkhMTQ4ITE0
OCExNDghMTQ4IUkhMCF0cnVlPSkiLCAKKwkJCSI9UmVzb2x2ZS9zcmM8e1guamF2YVtYfmZvb35R
TGlzdFxcPFFVOz47PSlHZXR0ZXI9XCJMR2V0dGVyXFw8VFU7PjshMTQ0ITE2MSExNTI9JmdldCEy
PVwiTGphdmEudXRpbC5MaXN0XFw8VFU7Pjs9XCJ4PVwiST1cImk9XCJUVTs9XCJMWFxcfkdldHRl
clxcPExYOzpUVTs+Oy5nZXRcXChMamF2YVxcL3V0aWxcXC9MaXN0XFw8VFU7PjtJKVRVO0B4ITE0
NSExNDUhMTQ1ITE0NSFMamF2YVxcL3V0aWxcXC9MaXN0OyEwIXRydWVAaSExNDghMTQ4ITE0OCEx
NDghSSEwIXRydWU9KSIsIAogCQkJbWVtZW50byk7CiAJTGFtYmRhRXhwcmVzc2lvbiByZWNyZWF0
ZWRUeXBlID0gKExhbWJkYUV4cHJlc3Npb24pIEphdmFDb3JlLmNyZWF0ZShtZW1lbnRvKTsKQEAg
LTI1MjUsNyArMjUyNSw3IEBACiAJCWFzc2VydEVxdWFscygKIAkJCQkiSW5jb3JyZWN0IG1lbWVu
dG8gc3RyaW5nIiwKLQkJCQkiPVJlc29sdmUvc3JjPHtYLmphdmFbWH5tYWluflxcW1FTdHJpbmc7
PSlMYW1iZGFcXChJKT1cIkxJOyExMDMhMTY5ITExMD0mZG9pdCExPVwiTEk7PVwicHFyPVwiTEk7
PVwiTFhcXH5JOy5kb2l0XFwoTEk7KSIKLQkJCQkrICJMSTtAcHFyITEwNCExMDYhMTA0ITEwNiFM
STshMCF0cnVlPSY9KUxhbWJkYVxcKEkpPVwiTEk7ITEyNCExNjQhMTMxPSZkb2l0ITE9XCJMSTs9
XCJ4eXo9XCJMSTs9XCJMWFxcfkk7LmRvaXRcXChMSTspIgotCQkJCSsgIkxJO0B4eXohMTI1ITEy
NyExMjUhMTI3IUxJOyEwIXRydWU9Jj0pTGFtYmRhXFwoSSk9XCJMSTshMTQ2ITE1NyExNTM9JmRv
aXQhMT1cIkxJOz1cImFiYz1cIkxJOz1cIkxYXFx+STsuZG9pdFxcKExJOykiCisJCQkJIj1SZXNv
bHZlL3NyYzx7WC5qYXZhW1h+bWFpbn5cXFtRU3RyaW5nOz0pST1cIkxJOyExMDMhMTY5ITExMD0m
ZG9pdCExPVwiTEk7PVwicHFyPVwiTEk7PVwiTFhcXH5JOy5kb2l0XFwoTEk7KSIKKwkJCQkrICJM
STtAcHFyITEwNCExMDYhMTA0ITEwNiFMSTshMCF0cnVlPSY9KUk9XCJMSTshMTI0ITE2NCExMzE9
JmRvaXQhMT1cIkxJOz1cInh5ej1cIkxJOz1cIkxYXFx+STsuZG9pdFxcKExJOykiCisJCQkJKyAi
TEk7QHh5eiExMjUhMTI3ITEyNSExMjchTEk7ITAhdHJ1ZT0mPSlJPVwiTEk7ITE0NiExNTchMTUz
PSZkb2l0ITE9XCJMSTs9XCJhYmM9XCJMSTs9XCJMWFxcfkk7LmRvaXRcXChMSTspIgogCQkJCSsg
IkxJO0BhYmMhMTQ3ITE0OSExNDchMTQ5IUxJOyEwIXRydWU9JkBhYmMhMTQ3ITE0OSExNDchMTQ5
IUxJOyEwIXRydWUiLAogCQkJCW1lbWVudG8pOwpAQCAtMjU0NCw2ICsyNTQ0LDYgQEAKIAltZW1l
bnRvID0gbG9jYWwuZ2V0SGFuZGxlSWRlbnRpZmllcigpOwogCWFzc2VydEVxdWFscygiSW5jb3Jy
ZWN0IG1lbWVudG8gc3RyaW5nIiwgCi0JCQkiPVJlc29sdmUvc3JjPHtYLmphdmFbWH5tYWluflxc
W1FTdHJpbmc7PSlMYW1iZGFcXChJKT1cIkxJOyExMDMhMTY5ITExMD0mZG9pdCExPVwiTEk7PVwi
cHFyPVwiTEk7PVwiTFhcXH5JOy5kb2l0XFwoTEk7KSIKLQkJCSsgIkxJO0BwcXIhMTA0ITEwNiEx
MDQhMTA2IUxJOyEwIXRydWU9Jj0pTGFtYmRhXFwoSSk9XCJMSTshMTI0ITE2NCExMzE9JmRvaXQh
MT1cIkxJOz1cInh5ej1cIkxJOz1cIkxYXFx+STsuZG9pdFxcKExJOykiCisJCQkiPVJlc29sdmUv
c3JjPHtYLmphdmFbWH5tYWluflxcW1FTdHJpbmc7PSlJPVwiTEk7ITEwMyExNjkhMTEwPSZkb2l0
ITE9XCJMSTs9XCJwcXI9XCJMSTs9XCJMWFxcfkk7LmRvaXRcXChMSTspIgorCQkJKyAiTEk7QHBx
ciExMDQhMTA2ITEwNCExMDYhTEk7ITAhdHJ1ZT0mPSlJPVwiTEk7ITEyNCExNjQhMTMxPSZkb2l0
ITE9XCJMSTs9XCJ4eXo9XCJMSTs9XCJMWFxcfkk7LmRvaXRcXChMSTspIgogCQkJKyAiTEk7QHh5
eiExMjUhMTI3ITEyNSExMjchTEk7ITAhdHJ1ZT0mQHh5eiExMjUhMTI3ITEyNSExMjchTEk7ITAh
dHJ1ZSIsIAogCQkJbWVtZW50byk7CkBAIC0yNTYyLDUgKzI1NjIsNSBAQAogCW1lbWVudG8gPSBs
b2NhbC5nZXRIYW5kbGVJZGVudGlmaWVyKCk7CiAJYXNzZXJ0RXF1YWxzKCJJbmNvcnJlY3QgbWVt
ZW50byBzdHJpbmciLCAKLQkJCSI9UmVzb2x2ZS9zcmM8e1guamF2YVtYfm1haW5+XFxbUVN0cmlu
Zzs9KUxhbWJkYVxcKEkpPVwiTEk7ITEwMyExNjkhMTEwPSZkb2l0ITE9XCJMSTs9XCJwcXI9XCJM
STs9XCJMWFxcfkk7LmRvaXRcXChMSTspIgorCQkJIj1SZXNvbHZlL3NyYzx7WC5qYXZhW1h+bWFp
bn5cXFtRU3RyaW5nOz0pST1cIkxJOyExMDMhMTY5ITExMD0mZG9pdCExPVwiTEk7PVwicHFyPVwi
TEk7PVwiTFhcXH5JOy5kb2l0XFwoTEk7KSIKIAkJCSsgIkxJO0BwcXIhMTA0ITEwNiExMDQhMTA2
IUxJOyEwIXRydWU9JkBwcXIhMTA0ITEwNiExMDQhMTA2IUxJOyEwIXRydWUiLCAKIAkJCW1lbWVu
dG8pOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Vudi9JU291cmNlVHlwZS5qYXZhIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Vu
di9JU291cmNlVHlwZS5qYXZhCmluZGV4IGYxMGExODcuLmQ0MTNkYzcgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9lbnYvSVNvdXJjZVR5cGUuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvZW52L0lTb3VyY2VUeXBlLmph
dmEKQEAgLTg4LDMgKzg4LDggQEAKICAqLwogY2hhcltdW10gZ2V0VHlwZVBhcmFtZXRlck5hbWVz
KCk7CisKKy8qKgorICogQW5zd2VyIHdoZXRoZXIgdGhlIHJlY2VpdmVyIHR5cGUgaXMgYW5vbnlt
b3VzCisgKi8KK2Jvb2xlYW4gaXNBbm9ueW1vdXMoKTsKIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xp
cHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL0lUeXBlLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS9JVHlwZS5qYXZhCmlu
ZGV4IDdmMTI0MzUuLmRmMGI4OTggMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL0lUeXBlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0
LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvSVR5cGUuamF2YQpAQCAtMSw0ICsxLDQg
QEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
QEAgLTE4LDkgKzE4LDEzIEBACiAvKioKICAqIFJlcHJlc2VudHMgZWl0aGVyIGEgc291cmNlIHR5
cGUgaW4gYSBjb21waWxhdGlvbiB1bml0IChlaXRoZXIgYSB0b3AtbGV2ZWwKLSAqIHR5cGUsIGEg
bWVtYmVyIHR5cGUsIGEgbG9jYWwgdHlwZSBvciBhbiBhbm9ueW1vdXMgdHlwZSkKKyAqIHR5cGUs
IGEgbWVtYmVyIHR5cGUsIGEgbG9jYWwgdHlwZSwgYW4gYW5vbnltb3VzIHR5cGUgb3IgYSBsYW1i
ZGEgZXhwcmVzc2lvbikKICAqIG9yIGEgYmluYXJ5IHR5cGUgaW4gYSBjbGFzcyBmaWxlLiBFbnVt
ZXJhdGlvbiBjbGFzc2VzIGFuZCBhbm5vdGF0aW9uCiAgKiB0eXBlcyBhcmUgc3Via2luZHMgb2Yg
Y2xhc3NlcyBhbmQgaW50ZXJmYWNlcywgcmVzcGVjdGl2ZWx5LgogICogPHA+Ci0gKiBOb3RlIHRo
YXQgdGhlIGVsZW1lbnQgbmFtZSBvZiBhbiBhbm9ueW1vdXMgc291cmNlIHR5cGUgaXMgYWx3YXlz
IGVtcHR5LgorICogTm90ZSB0aGF0IHRoZSBlbGVtZW50IG5hbWUgb2YgYW4gYW5vbnltb3VzIHNv
dXJjZSB0eXBlIGFuZCBsYW1iZGEgZXhwcmVzc2lvbnMKKyAqIGlzIGFsd2F5cyBlbXB0eS4gVHlw
ZXMgcmVwcmVzZW50aW5nIGxhbWJkYSBleHByZXNzaW9ucyBhcmUgcHNldWRvLWVsZW1lbnRzIAor
ICogYW5kIG5vdCBpbmNsdWRlZCBpbiB0aGUgY2hpbGRyZW4gb2YgdGhlaXIgcGFyZW50LiBMYW1i
ZGEgZXhwcmVzc2lvbnMgYXJlIGNyZWF0ZWQgCisgKiBhcyB0aGUgcmVzdWx0IG9mIGEgPGNvZGU+
SUNvZGVBc3Npc3QuY29kZVNlbGVjdCguLi4pPC9jb2RlPi4gRm9yIG1vcmUgaW5mb3JtYXRpb24g
CisgKiBvbiBzdWNoIHBzZXVkby1lbGVtZW50cywgc2VlIDxjb2RlPklMb2NhbFZhcmlhYmxlPC9j
b2RlPi4KICAqIDwvcD48cD4KICAqIElmIGEgYmluYXJ5IHR5cGUgY2Fubm90IGJlIHBhcnNlZCwg
aXRzIHN0cnVjdHVyZSByZW1haW5zIHVua25vd24uCkBAIC00ODcsNCArNDkxLDcgQEAKIAkgKiBS
ZXR1cm5zIHRoZSBzaW1wbGUgbmFtZSBvZiB0aGlzIHR5cGUsIHVucXVhbGlmaWVkIGJ5IHBhY2th
Z2Ugb3IgZW5jbG9zaW5nIHR5cGUuCiAJICogVGhpcyBpcyBhIGhhbmRsZS1vbmx5IG1ldGhvZC4K
KwkgKiAKKwkgKiBOb3RlIHRoYXQgdGhlIGVsZW1lbnQgbmFtZSBvZiBhbiBhbm9ueW1vdXMgc291
cmNlIHR5cGUgYW5kIGxhbWJkYSBleHByZXNzaW9ucworCSAqIGlzIGFsd2F5cyBlbXB0eS4KIAkg
KgogCSAqIEByZXR1cm4gdGhlIHNpbXBsZSBuYW1lIG9mIHRoaXMgdHlwZQpAQCAtMTIwNiwzICsx
MjEzLDExIEBACiAJICovCiAJU3RyaW5nW11bXSByZXNvbHZlVHlwZShTdHJpbmcgdHlwZU5hbWUs
IFdvcmtpbmdDb3B5T3duZXIgb3duZXIpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb247CisJCisJ
LyoqCisJICogUmV0dXJucyB3aGV0aGVyIHRoaXMgdHlwZSByZXByZXNlbnRzIGEgbGFtYmRhIGV4
cHJlc3Npb24uCisJICoKKwkgKiBAcmV0dXJuIHRydWUgaWYgdGhpcyB0eXBlIHJlcHJlc2VudHMg
YSBsYW1iZGEgZXhwcmVzc2lvbiwgZmFsc2Ugb3RoZXJ3aXNlCisJICogQHNpbmNlIDMuMTAKKwkg
Ki8KKwlwdWJsaWMgYm9vbGVhbiBpc0xhbWJkYSgpOwogfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvQmluYXJ5VHlw
ZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvQmluYXJ5VHlwZS5qYXZhCmluZGV4IGUyNmMwYjguLjBjMjhjMzYgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b3JlL0JpbmFyeVR5cGUuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9CaW5hcnlUeXBlLmphdmEKQEAgLTEsNCArMSw0IEBA
CiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEzIElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDE0IElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBw
cm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCkBA
IC0xMDQzLDMgKzEwNDMsNyBAQAogCXJldHVybiBqYXZhZG9jQ29udGVudHM7CiB9CitAT3ZlcnJp
ZGUKK3B1YmxpYyBib29sZWFuIGlzTGFtYmRhKCkgeworCXJldHVybiBmYWxzZTsKK30KIH0KZGlm
ZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb3JlL0NvbXBpbGF0aW9uVW5pdFN0cnVjdHVyZVJlcXVlc3Rvci5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvQ29tcGls
YXRpb25Vbml0U3RydWN0dXJlUmVxdWVzdG9yLmphdmEKaW5kZXggZmFkNmQzOS4uZDY1NjQyMyAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvQ29tcGlsYXRpb25Vbml0U3RydWN0dXJlUmVxdWVzdG9yLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
Q29tcGlsYXRpb25Vbml0U3RydWN0dXJlUmVxdWVzdG9yLmphdmEKQEAgLTEsNCArMSw0IEBACiAv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEzIElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDE0IElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9n
cmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCkBAIC03
MjksNSArNzI5LDUgQEAKIAkvLyBGb3IgYW5vbnltb3VzIHNvdXJjZSB0eXBlcywgdGhlIG9jY3Vy
cmVuY2UgY291bnQgc2hvdWxkIGJlIGluIHRoZSBjb250ZXh0CiAJLy8gb2YgdGhlIGVuY2xvc2lu
ZyB0eXBlLgotCWlmIChoYW5kbGUgaW5zdGFuY2VvZiBTb3VyY2VUeXBlICYmIGhhbmRsZS5nZXRF
bGVtZW50TmFtZSgpLmxlbmd0aCgpID09IDApIHsKKwlpZiAoaGFuZGxlIGluc3RhbmNlb2YgU291
cmNlVHlwZSAmJiAoKFNvdXJjZVR5cGUpIGhhbmRsZSkuaXNBbm9ueW1vdXMoKSkgewogCQlPYmpl
Y3Qga2V5ID0gaGFuZGxlLmdldFBhcmVudCgpLmdldEFuY2VzdG9yKElKYXZhRWxlbWVudC5UWVBF
KTsKIAkJb2NjdXJlbmNlQ291bnQgPSB0aGlzLmxvY2FsT2NjdXJyZW5jZUNvdW50cy5nZXQoa2V5
KTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL0xhbWJkYUV4cHJlc3Npb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0xhbWJkYUV4cHJlc3Npb24u
amF2YQppbmRleCA5YzA3NzJiLi44OTMwOTk1IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9MYW1iZGFFeHByZXNzaW9u
LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvTGFtYmRhRXhwcmVzc2lvbi5qYXZhCkBAIC0zMyw5ICszMywxMSBAQAogCXBy
b3RlY3RlZCBpbnQgYXJyb3dQb3NpdGlvbjsKIAlwcm90ZWN0ZWQgU3RyaW5nIGludGVycGhhc2U7
CisJU3RyaW5nIHJlc29sdmVkVHlwZU5hbWU7CiAJCiAJCiAJLy8gQ29uc3RydWN0aW9uIGZyb20g
QVNUIG5vZGUKIAlwdWJsaWMgTGFtYmRhRXhwcmVzc2lvbihKYXZhRWxlbWVudCBwYXJlbnQsIG9y
Zy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3QuTGFtYmRhRXhwcmVzc2lvbiBsYW1i
ZGFFeHByZXNzaW9uKSB7Ci0JCXN1cGVyKHBhcmVudCwgbmV3IFN0cmluZygiTGFtYmRhKCIpICsg
bmV3IFN0cmluZyhsYW1iZGFFeHByZXNzaW9uLnJlc29sdmVkVHlwZS5zb3VyY2VOYW1lKCkpICsg
JyknKTsgLy8kTk9OLU5MUy0xJAorCQlzdXBlcihwYXJlbnQsIG5ldyBTdHJpbmcoQ2hhck9wZXJh
dGlvbi5OT19DSEFSKSk7CisJCXRoaXMucmVzb2x2ZWRUeXBlTmFtZSA9IG5ldyBTdHJpbmcobGFt
YmRhRXhwcmVzc2lvbi5yZXNvbHZlZFR5cGUuc291cmNlTmFtZSgpKTsKIAkJdGhpcy5zb3VyY2VT
dGFydCA9IGxhbWJkYUV4cHJlc3Npb24uc291cmNlU3RhcnQ7CiAJCXRoaXMuc291cmNlRW5kID0g
bGFtYmRhRXhwcmVzc2lvbi5zb3VyY2VFbmQ7CkBAIC00OCw2ICs1MCw3IEBACiAJCiAJLy8gQ29u
c3RydWN0aW9uIGZyb20gbWVtZW50bwotCXB1YmxpYyBMYW1iZGFFeHByZXNzaW9uKEphdmFFbGVt
ZW50IHBhcmVudCwgU3RyaW5nIG5hbWUsIFN0cmluZyBpbnRlcnBoYXNlLCBpbnQgc291cmNlU3Rh
cnQsIGludCBzb3VyY2VFbmQsIGludCBhcnJvd1Bvc2l0aW9uKSB7Ci0JCXN1cGVyKHBhcmVudCwg
bmFtZSk7CisJcHVibGljIExhbWJkYUV4cHJlc3Npb24oSmF2YUVsZW1lbnQgcGFyZW50LCBTdHJp
bmcgcmVzb2x2ZWRUeXBlTmFtZSwgU3RyaW5nIGludGVycGhhc2UsIGludCBzb3VyY2VTdGFydCwg
aW50IHNvdXJjZUVuZCwgaW50IGFycm93UG9zaXRpb24pIHsKKwkJc3VwZXIocGFyZW50LCBuZXcg
U3RyaW5nKENoYXJPcGVyYXRpb24uTk9fQ0hBUikpOworCQl0aGlzLnJlc29sdmVkVHlwZU5hbWUg
PSByZXNvbHZlZFR5cGVOYW1lOwogCQl0aGlzLnNvdXJjZVN0YXJ0ID0gc291cmNlU3RhcnQ7CiAJ
CXRoaXMuc291cmNlRW5kID0gc291cmNlRW5kOwpAQCAtNTksNiArNjIsNyBAQAogCQogCS8vIENv
bnN0cnVjdGlvbiBmcm9tIHN1YnR5cGVzLgotCXB1YmxpYyBMYW1iZGFFeHByZXNzaW9uKEphdmFF
bGVtZW50IHBhcmVudCwgU3RyaW5nIG5hbWUsIFN0cmluZyBpbnRlcnBoYXNlLCBpbnQgc291cmNl
U3RhcnQsIGludCBzb3VyY2VFbmQsIGludCBhcnJvd1Bvc2l0aW9uLCBMYW1iZGFNZXRob2QgbGFt
YmRhTWV0aG9kKSB7Ci0JCXN1cGVyKHBhcmVudCwgbmFtZSk7CisJcHVibGljIExhbWJkYUV4cHJl
c3Npb24oSmF2YUVsZW1lbnQgcGFyZW50LCBTdHJpbmcgcmVzb2x2ZWRUeXBlTmFtZSwgU3RyaW5n
IGludGVycGhhc2UsIGludCBzb3VyY2VTdGFydCwgaW50IHNvdXJjZUVuZCwgaW50IGFycm93UG9z
aXRpb24sIExhbWJkYU1ldGhvZCBsYW1iZGFNZXRob2QpIHsKKwkJc3VwZXIocGFyZW50LCBuZXcg
U3RyaW5nKENoYXJPcGVyYXRpb24uTk9fQ0hBUikpOworCQl0aGlzLnJlc29sdmVkVHlwZU5hbWUg
PSByZXNvbHZlZFR5cGVOYW1lOwogCQl0aGlzLnNvdXJjZVN0YXJ0ID0gc291cmNlU3RhcnQ7CiAJ
CXRoaXMuc291cmNlRW5kID0gc291cmNlRW5kOwpAQCAtMTM3LDUgKzE0MSw1IEBACiAJCQkoKEph
dmFFbGVtZW50KWdldFBhcmVudCgpKS5nZXRIYW5kbGVNZW1lbnRvKGJ1ZmYpOwogCQlhcHBlbmRF
c2NhcGVkRGVsaW1pdGVyKGJ1ZmYsIGdldEhhbmRsZU1lbWVudG9EZWxpbWl0ZXIoKSk7Ci0JCWVz
Y2FwZU1lbWVudG9OYW1lKGJ1ZmYsIHRoaXMubmFtZSk7CisJCWVzY2FwZU1lbWVudG9OYW1lKGJ1
ZmYsIHRoaXMucmVzb2x2ZWRUeXBlTmFtZSk7CiAJCWFwcGVuZEVzY2FwZWREZWxpbWl0ZXIoYnVm
ZiwgSkVNX1NUUklORyk7CiAJCWVzY2FwZU1lbWVudG9OYW1lKGJ1ZmYsIHRoaXMuaW50ZXJwaGFz
ZSk7CkBAIC0yMTEsNCArMjE1LDI1IEBACiAJCiAJQE92ZXJyaWRlCisJcHVibGljIGJvb2xlYW4g
aXNMYW1iZGEoKSB7CisJCXJldHVybiB0cnVlOworCX0KKworCUBPdmVycmlkZQorCXB1YmxpYyBi
b29sZWFuIGlzQW5vbnltb3VzKCkgeworCQlyZXR1cm4gZmFsc2U7CisJfQorCisJcHVibGljIHZv
aWQgdG9TdHJpbmdOYW1lKFN0cmluZ0J1ZmZlciBidWZmZXIpIHsKKwkJc3VwZXIudG9TdHJpbmdO
YW1lKGJ1ZmZlcik7CisJCWJ1ZmZlci5hcHBlbmQoIkxhbWJkYSgiKTsgLy8kTk9OLU5MUy0xJAor
CQlidWZmZXIuYXBwZW5kKHRoaXMucmVzb2x2ZWRUeXBlTmFtZSk7CisJCWJ1ZmZlci5hcHBlbmQo
JyknKTsKKwkJaWYgKHRoaXMub2NjdXJyZW5jZUNvdW50ID4gMSkgeworCQkJYnVmZmVyLmFwcGVu
ZCgiIyIpOyAvLyROT04tTkxTLTEkCisJCQlidWZmZXIuYXBwZW5kKHRoaXMub2NjdXJyZW5jZUNv
dW50KTsKKwkJfQorCX0KKworCUBPdmVycmlkZQogCXB1YmxpYyBJSmF2YUVsZW1lbnQgZ2V0UHJp
bWFyeUVsZW1lbnQoYm9vbGVhbiBjaGVja093bmVyKSB7CiAJCWlmIChjaGVja093bmVyKSB7CmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9NZW1iZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL01lbWJlci5qYXZhCmluZGV4IDM4ZTRjMDQuLjUwNGNl
NzkgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL01lbWJlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL01lbWJlci5qYXZhCkBAIC0xNzUsNSAr
MTc1LDUgQEAKIAkJY2FzZSBKRU1fTEFNQkRBX0VYUFJFU1NJT046CiAJCQlpZiAoIW1lbWVudG8u
aGFzTW9yZVRva2VucygpKSByZXR1cm4gdGhpczsKLQkJCVN0cmluZyBuYW1lID0gbWVtZW50by5u
ZXh0VG9rZW4oKTsKKwkJCVN0cmluZyByZXNvbHZlZFR5cGUgPSBtZW1lbnRvLm5leHRUb2tlbigp
OwogCQkJaWYgKCFtZW1lbnRvLmhhc01vcmVUb2tlbnMoKSB8fCBtZW1lbnRvLm5leHRUb2tlbigp
ICE9IE1lbWVudG9Ub2tlbml6ZXIuU1RSSU5HKQogCQkJCXJldHVybiB0aGlzOwpAQCAtMTg5LDUg
KzE4OSw1IEBACiAJCQkJcmV0dXJuIHRoaXM7CiAJCQlpbnQgYXJyb3dQb3NpdGlvbiA9IEludGVn
ZXIucGFyc2VJbnQobWVtZW50by5uZXh0VG9rZW4oKSk7Ci0JCQlMYW1iZGFFeHByZXNzaW9uIGV4
cHJlc3Npb24gPSBuZXcgTGFtYmRhRXhwcmVzc2lvbih0aGlzLCBuYW1lLCBpbnRlcnBoYXNlLCBz
b3VyY2VTdGFydCwgc291cmNlRW5kLCBhcnJvd1Bvc2l0aW9uKTsKKwkJCUxhbWJkYUV4cHJlc3Np
b24gZXhwcmVzc2lvbiA9IG5ldyBMYW1iZGFFeHByZXNzaW9uKHRoaXMsIHJlc29sdmVkVHlwZSwg
aW50ZXJwaGFzZSwgc291cmNlU3RhcnQsIHNvdXJjZUVuZCwgYXJyb3dQb3NpdGlvbik7CiAJCQlp
ZiAoIW1lbWVudG8uaGFzTW9yZVRva2VucygpIHx8ICh0b2tlbiA9IG1lbWVudG8ubmV4dFRva2Vu
KCkpICE9IE1lbWVudG9Ub2tlbml6ZXIuTEFNQkRBX01FVEhPRCkgCiAJCQkJcmV0dXJuIGV4cHJl
c3Npb247CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZS9SZXNvbHZlZExhbWJkYUV4cHJlc3Npb24uamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL1Jlc29s
dmVkTGFtYmRhRXhwcmVzc2lvbi5qYXZhCmluZGV4IGE2ODdkYzUuLjg0NzU0OTIgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b3JlL1Jlc29sdmVkTGFtYmRhRXhwcmVzc2lvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL1Jlc29sdmVkTGFtYmRhRXhw
cmVzc2lvbi5qYXZhCkBAIC0xOSw1ICsxOSw1IEBACiAKIAlwdWJsaWMgUmVzb2x2ZWRMYW1iZGFF
eHByZXNzaW9uKEphdmFFbGVtZW50IHBhcmVudCwgTGFtYmRhRXhwcmVzc2lvbiB1bnJlc29sdmVk
LCBTdHJpbmcgdW5pcXVlS2V5KSB7Ci0JCXN1cGVyKHBhcmVudCwgdW5yZXNvbHZlZC5uYW1lLCB1
bnJlc29sdmVkLmludGVycGhhc2UsIHVucmVzb2x2ZWQuc291cmNlU3RhcnQsIHVucmVzb2x2ZWQu
c291cmNlRW5kLCB1bnJlc29sdmVkLmFycm93UG9zaXRpb24sIHVucmVzb2x2ZWQubGFtYmRhTWV0
aG9kKTsKKwkJc3VwZXIocGFyZW50LCB1bnJlc29sdmVkLnJlc29sdmVkVHlwZU5hbWUsIHVucmVz
b2x2ZWQuaW50ZXJwaGFzZSwgdW5yZXNvbHZlZC5zb3VyY2VTdGFydCwgdW5yZXNvbHZlZC5zb3Vy
Y2VFbmQsIHVucmVzb2x2ZWQuYXJyb3dQb3NpdGlvbiwgdW5yZXNvbHZlZC5sYW1iZGFNZXRob2Qp
OwogCQl0aGlzLnVuaXF1ZUtleSA9IHVuaXF1ZUtleTsKIAkJdGhpcy51bnJlc29sdmVkID0gdW5y
ZXNvbHZlZDsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb3JlL1NvdXJjZVR5cGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL1NvdXJjZVR5cGUuamF2YQpp
bmRleCA3OTQ3MzE1Li5kMDBmMzVmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9t
b2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9Tb3VyY2VUeXBlLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
U291cmNlVHlwZS5qYXZhCkBAIC0xLDQgKzEsNCBAQAogLyoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioK
LSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4K
KyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4K
ICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhl
IEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMApAQCAtODQyLDYgKzg0Miw1IEBACiAJYnVmZmVy
LmFwcGVuZCh0YWJTdHJpbmcodGFiKSk7CiAJaWYgKGluZm8gPT0gbnVsbCkgewotCQlTdHJpbmcg
ZWxlbWVudE5hbWUgPSBnZXRFbGVtZW50TmFtZSgpOwotCQlpZiAoZWxlbWVudE5hbWUubGVuZ3Ro
KCkgPT0gMCkgeworCQlpZiAoaXNBbm9ueW1vdXMoKSkgewogCQkJYnVmZmVyLmFwcGVuZCgiPGFu
b255bW91cyAjIik7IC8vJE5PTi1OTFMtMSQKIAkJCWJ1ZmZlci5hcHBlbmQodGhpcy5vY2N1cnJl
bmNlQ291bnQpOwpAQCAtODUyLDYgKzg1MSw1IEBACiAJCWJ1ZmZlci5hcHBlbmQoIiAobm90IG9w
ZW4pIik7IC8vJE5PTi1OTFMtMSQKIAl9IGVsc2UgaWYgKGluZm8gPT0gTk9fSU5GTykgewotCQlT
dHJpbmcgZWxlbWVudE5hbWUgPSBnZXRFbGVtZW50TmFtZSgpOwotCQlpZiAoZWxlbWVudE5hbWUu
bGVuZ3RoKCkgPT0gMCkgeworCQlpZiAoaXNBbm9ueW1vdXMoKSkgewogCQkJYnVmZmVyLmFwcGVu
ZCgiPGFub255bW91cyAjIik7IC8vJE5PTi1OTFMtMSQKIAkJCWJ1ZmZlci5hcHBlbmQodGhpcy5v
Y2N1cnJlbmNlQ291bnQpOwpAQCAtODcxLDYgKzg2OSw1IEBACiAJCQkJYnVmZmVyLmFwcGVuZCgi
Y2xhc3MgIik7IC8vJE5PTi1OTFMtMSQKIAkJCX0KLQkJCVN0cmluZyBlbGVtZW50TmFtZSA9IGdl
dEVsZW1lbnROYW1lKCk7Ci0JCQlpZiAoZWxlbWVudE5hbWUubGVuZ3RoKCkgPT0gMCkgeworCQkJ
aWYgKGlzQW5vbnltb3VzKCkpIHsKIAkJCQlidWZmZXIuYXBwZW5kKCI8YW5vbnltb3VzICMiKTsg
Ly8kTk9OLU5MUy0xJAogCQkJCWJ1ZmZlci5hcHBlbmQodGhpcy5vY2N1cnJlbmNlQ291bnQpOwpA
QCAtODg0LDMgKzg4MSw3IEBACiAJfQogfQorQE92ZXJyaWRlCitwdWJsaWMgYm9vbGVhbiBpc0xh
bWJkYSgpIHsKKwlyZXR1cm4gZmFsc2U7Cit9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9Tb3VyY2VUeXBlRWxl
bWVudEluZm8uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL1NvdXJjZVR5cGVFbGVtZW50SW5mby5qYXZhCmluZGV4IGIyOWJmZmYu
Ljg3OTI5ZjUgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb3JlL1NvdXJjZVR5cGVFbGVtZW50SW5mby5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL1Nv
dXJjZVR5cGVFbGVtZW50SW5mby5qYXZhCkBAIC0xNzEsNSArMTcxLDUgQEAKICAqLwogcHVibGlj
IGNoYXJbXVtdIGdldEludGVyZmFjZU5hbWVzKCkgewotCWlmICh0aGlzLmhhbmRsZS5nZXRFbGVt
ZW50TmFtZSgpLmxlbmd0aCgpID09IDApIHsgLy8gaWYgYW5vbnltb3VzIHR5cGUKKwlpZiAoaXNB
bm9ueW1vdXMoKSkgeyAvLyBpZiBhbm9ueW1vdXMgdHlwZQogCQlyZXR1cm4gbnVsbDsKIAl9CkBA
IC0yNTIsNSArMjUyLDUgQEAKICAqLwogcHVibGljIGNoYXJbXSBnZXRTdXBlcmNsYXNzTmFtZSgp
IHsKLQlpZiAodGhpcy5oYW5kbGUuZ2V0RWxlbWVudE5hbWUoKS5sZW5ndGgoKSA9PSAwKSB7IC8v
IGlmIGFub255bW91cyB0eXBlCisJaWYgKGlzQW5vbnltb3VzKCkpIHsgLy8gaWYgYW5vbnltb3Vz
IHR5cGUKIAkJY2hhcltdW10gaW50ZXJmYWNlTmFtZXMgPSB0aGlzLnN1cGVySW50ZXJmYWNlTmFt
ZXM7CiAJCWlmIChpbnRlcmZhY2VOYW1lcyAhPSBudWxsICYmIGludGVyZmFjZU5hbWVzLmxlbmd0
aCA+IDApIHsKQEAgLTI4OCw0ICsyODgsMTMgQEAKIAlyZXR1cm4gZmFsc2U7CiB9CisKK0BPdmVy
cmlkZQorcHVibGljIGJvb2xlYW4gaXNBbm9ueW1vdXMoKSB7CisJdHJ5IHsKKwkJcmV0dXJuIHRo
aXMuaGFuZGxlLmlzQW5vbnltb3VzKCk7CisJfSBjYXRjaCAoSmF2YU1vZGVsRXhjZXB0aW9uIGUp
IHsKKwkJcmV0dXJuIGZhbHNlOworCX0KK30KIC8qCiAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNv
dXJjZSB0eXBlIGlzIGFuIGFub255bW91cyB0eXBlIG9mIGEgbWVtYmVyIHR5cGUuCmRpZmYgLS1n
aXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29yZS9oaWVyYXJjaHkvSGllcmFyY2h5UmVzb2x2ZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2hpZXJhcmNoeS9IaWVyYXJj
aHlSZXNvbHZlci5qYXZhCmluZGV4IDM3Yzg4MWIuLjA5ZGY0YTcgMTAwNjQ0Ci0tLSBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2hpZXJh
cmNoeS9IaWVyYXJjaHlSZXNvbHZlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2hpZXJhcmNoeS9IaWVyYXJjaHlSZXNv
bHZlci5qYXZhCkBAIC0yMzIsNSArMjMyLDUgQEAKIAl9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2Vv
ZiBJU291cmNlVHlwZSkgewogCQlJU291cmNlVHlwZSBzb3VyY2VUeXBlID0gKElTb3VyY2VUeXBl
KXR5cGU7Ci0JCWlmIChzb3VyY2VUeXBlLmdldE5hbWUoKS5sZW5ndGggPT0gMCkgeyAvLyBpZiBh
bm9ueW1vdXMgdHlwZQorCQlpZiAoc291cmNlVHlwZS5pc0Fub255bW91cygpKSB7IC8vIGlmIGFu
b255bW91cyB0eXBlCiAJCQlpZiAodHlwZUJpbmRpbmcuc3VwZXJJbnRlcmZhY2VzKCkgIT0gbnVs
bCAmJiB0eXBlQmluZGluZy5zdXBlckludGVyZmFjZXMoKS5sZW5ndGggPiAwKSB7CiAJCQkJc3Vw
ZXJJbnRlcmZhY2VOYW1lcyA9IG5ldyBjaGFyW11bXSB7c291cmNlVHlwZS5nZXRTdXBlcmNsYXNz
TmFtZSgpfTsKQEAgLTI0Nyw1ICsyNDcsNSBAQAogCX0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9m
IEhpZXJhcmNoeVR5cGUpIHsKIAkJSGllcmFyY2h5VHlwZSBoaWVyYXJjaHlUeXBlID0gKEhpZXJh
cmNoeVR5cGUpdHlwZTsKLQkJaWYgKGhpZXJhcmNoeVR5cGUubmFtZS5sZW5ndGggPT0gMCkgeyAv
LyBpZiBhbm9ueW1vdXMgdHlwZQorCQlpZiAoaGllcmFyY2h5VHlwZS5pc0Fub255bW91cygpKSB7
IC8vIGlmIGFub255bW91cyB0eXBlCiAJCQlpZiAodHlwZUJpbmRpbmcuc3VwZXJJbnRlcmZhY2Vz
KCkgIT0gbnVsbCAmJiB0eXBlQmluZGluZy5zdXBlckludGVyZmFjZXMoKS5sZW5ndGggPiAwKSB7
CiAJCQkJc3VwZXJJbnRlcmZhY2VOYW1lcyA9IG5ldyBjaGFyW11bXSB7aGllcmFyY2h5VHlwZS5z
dXBlcmNsYXNzTmFtZX07CkBAIC00MDUsNSArNDA1LDEwIEBACiAJfSBlbHNlIHsKIAkJaWYgKHR5
cGVCaW5kaW5nID09IG51bGwpIHJldHVybjsKLQorCQlib29sZWFuIGlzQW5vbnltb3VzID0gZmFs
c2U7CisJCXRyeSB7CisJCQlpc0Fub255bW91cyA9IHR5cGUuaXNBbm9ueW1vdXMoKTsKKwkJfSBj
YXRjaChKYXZhTW9kZWxFeGNlcHRpb24gam1lKSB7CisJCQkvLyBJZ25vcmUKKwkJfQogCQlpZiAo
dHlwZUJpbmRpbmcgaW5zdGFuY2VvZiBTb3VyY2VUeXBlQmluZGluZykgewogCQkJVHlwZURlY2xh
cmF0aW9uIHR5cGVEZWNsYXJhdGlvbiA9ICgoU291cmNlVHlwZUJpbmRpbmcpdHlwZUJpbmRpbmcp
LnNjb3BlLnJlZmVyZW5jZVR5cGUoKTsKQEAgLTQ0MCw1ICs0NDUsNiBAQAogCQkJCQl0eXBlRGVj
bGFyYXRpb24uYmluZGluZy5tb2RpZmllcnMsCiAJCQkJCXN1cGVyY2xhc3NOYW1lLAotCQkJCQlz
dXBlckludGVyZmFjZU5hbWVzKTsKKwkJCQkJc3VwZXJJbnRlcmZhY2VOYW1lcywKKwkJCQkJaXNB
bm9ueW1vdXMpOwogCQkJcmVtZW1iZXIoaGllcmFyY2h5VHlwZSwgdHlwZURlY2xhcmF0aW9uLmJp
bmRpbmcpOwogCQl9IGVsc2UgewpAQCAtNDQ4LDUgKzQ1NCw2IEBACiAJCQkJCXR5cGVCaW5kaW5n
Lm1vZGlmaWVycywKIAkJCQkJdHlwZUJpbmRpbmcuc3VwZXJjbGFzcygpLnNvdXJjZU5hbWUoKSwK
LQkJCQkJbmV3IGNoYXIgW11bXSB7IHR5cGVCaW5kaW5nLnN1cGVySW50ZXJmYWNlcygpWzBdLnNv
dXJjZU5hbWUoKSB9KTsKKwkJCQkJbmV3IGNoYXIgW11bXSB7IHR5cGVCaW5kaW5nLnN1cGVySW50
ZXJmYWNlcygpWzBdLnNvdXJjZU5hbWUoKSB9LAorCQkJCQlpc0Fub255bW91cyk7CiAJCQlyZW1l
bWJlcihoaWVyYXJjaHlUeXBlLCB0eXBlQmluZGluZyk7CiAJCX0KZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2hpZXJh
cmNoeS9IaWVyYXJjaHlUeXBlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9oaWVyYXJjaHkvSGllcmFyY2h5VHlwZS5qYXZhCmlu
ZGV4IGVmNjc0YWUuLjg3ZWZmZTEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2hpZXJhcmNoeS9IaWVyYXJjaHlUeXBl
LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvaGllcmFyY2h5L0hpZXJhcmNoeVR5cGUuamF2YQpAQCAtMjYsNCArMjYsNSBA
QAogCXB1YmxpYyBjaGFyW10gc3VwZXJjbGFzc05hbWU7CiAJcHVibGljIGNoYXJbXVtdIHN1cGVy
SW50ZXJmYWNlTmFtZXM7CisJcHVibGljIGJvb2xlYW4gYW5vbnltb3VzOwogCiBwdWJsaWMgSGll
cmFyY2h5VHlwZSgKQEAgLTMyLDUgKzMzLDYgQEAKIAlpbnQgbW9kaWZpZXJzLAogCWNoYXJbXSBz
dXBlcmNsYXNzTmFtZSwKLQljaGFyW11bXSBzdXBlckludGVyZmFjZU5hbWVzKSB7CisJY2hhcltd
W10gc3VwZXJJbnRlcmZhY2VOYW1lcywKKwlib29sZWFuIGFub255bW91cykgewogCiAJdGhpcy50
eXBlSGFuZGxlID0gdHlwZUhhbmRsZTsKQEAgLTM5LDQgKzQxLDUgQEAKIAl0aGlzLnN1cGVyY2xh
c3NOYW1lID0gc3VwZXJjbGFzc05hbWU7CiAJdGhpcy5zdXBlckludGVyZmFjZU5hbWVzID0gc3Vw
ZXJJbnRlcmZhY2VOYW1lczsKKwl0aGlzLmFub255bW91cyA9IGFub255bW91czsKIH0KIC8qKgpA
QCAtNjEsMyArNjQsOSBAQAogCXJldHVybiBmYWxzZTsKIH0KKy8qKiAKKyAqIEFuc3dlciB3aGV0
aGVyIHRoZSByZWNlaXZlciBpcyBhbiBhbm9ueW1vdXMgdHlwZQorICovCitwdWJsaWMgYm9vbGVh
biBpc0Fub255bW91cygpIHsKKwlyZXR1cm4gdGhpcy5hbm9ueW1vdXM7Cit9CiB9
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242036</attachid>
            <date>2014-04-16 05:14:00 -0400</date>
            <delta_ts>2014-04-16 05:14:28 -0400</delta_ts>
            <desc>Changes in JDT UI</desc>
            <filename>Bug430195.eclipse.jdt.ui.patch</filename>
            <type>text/plain</type>
            <size>6774</size>
            <attacher name="Manju Mathew">manju656</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQudWkKZGlm
ZiAtLWdpdCBjb3JlIHJlZmFjdG9yaW5nL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQv
cmVmYWN0b3JpbmcvcmVvcmcvUmVvcmdVdGlscy5qYXZhIGNvcmUgcmVmYWN0b3Jpbmcvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9yZWZhY3RvcmluZy9yZW9yZy9SZW9yZ1V0aWxzLmph
dmEKaW5kZXggNDk0MjkwYy4uYTRiZTc5MyAxMDA2NDQKLS0tIGNvcmUgcmVmYWN0b3Jpbmcvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9yZWZhY3RvcmluZy9yZW9yZy9SZW9yZ1V0aWxz
LmphdmEKKysrIGNvcmUgcmVmYWN0b3Jpbmcvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4
dC9yZWZhY3RvcmluZy9yZW9yZy9SZW9yZ1V0aWxzLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jw
b3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDE0IElCTSBDb3Jw
b3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFt
IGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVu
ZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGlj
aCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAt
MjI3LDcgKzIyNyw3IEBACiAJCQkJcmV0dXJuIFJlZmFjdG9yaW5nQ29yZU1lc3NhZ2VzLlJlb3Jn
VXRpbHNfMTc7CiAJCQljYXNlIElKYXZhRWxlbWVudC5UWVBFOgogCQkJCUlUeXBlIHR5cGU9IChJ
VHlwZSllbGVtZW50OwotCQkJCWlmICh0eXBlLmdldEVsZW1lbnROYW1lKCkubGVuZ3RoKCkgPT0g
MCAmJiB0eXBlLmlzQW5vbnltb3VzKCkpCisJCQkJaWYgKHR5cGUuaXNBbm9ueW1vdXMoKSkKIAkJ
CQkJcmV0dXJuIFJlZmFjdG9yaW5nQ29yZU1lc3NhZ2VzLlJlb3JnVXRpbHNfMjA7CiAJCQkJcmV0
dXJuIFJlZmFjdG9yaW5nQ29yZU1lc3NhZ2VzLlJlb3JnVXRpbHNfMTg7CiAJCQlkZWZhdWx0Ogpk
aWZmIC0tZ2l0IHVpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90eXBlaGllcmFyY2h5L0Fi
c3RyYWN0SGllcmFyY2h5Vmlld2VyU29ydGVyLmphdmEgdWkvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3R5cGVoaWVyYXJjaHkvQWJzdHJhY3RIaWVyYXJjaHlWaWV3ZXJTb3J0ZXIuamF2YQpp
bmRleCBmNTVlYTM4Li5iMzA1NzdhIDEwMDY0NAotLS0gdWkvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3R5cGVoaWVyYXJjaHkvQWJzdHJhY3RIaWVyYXJjaHlWaWV3ZXJTb3J0ZXIuamF2YQor
KysgdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3R5cGVoaWVyYXJjaHkvQWJzdHJhY3RI
aWVyYXJjaHlWaWV3ZXJTb3J0ZXIuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFu
aWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC01OSw4ICs1OSwx
MiBAQAogCXB1YmxpYyBpbnQgY2F0ZWdvcnkoT2JqZWN0IGVsZW1lbnQpIHsKIAkJaWYgKGVsZW1l
bnQgaW5zdGFuY2VvZiBJVHlwZSkgewogCQkJSVR5cGUgdHlwZT0gKElUeXBlKSBlbGVtZW50Owot
CQkJaWYgKHR5cGUuZ2V0RWxlbWVudE5hbWUoKS5sZW5ndGgoKSA9PSAwKSB7Ci0JCQkJcmV0dXJu
IEFOT05ZTTsKKwkJCXRyeSB7CisJCQkJaWYgKHR5cGUuaXNBbm9ueW1vdXMoKSkgeworCQkJCQly
ZXR1cm4gQU5PTllNOworCQkJCX0KKwkJCX0gY2F0Y2ggKEphdmFNb2RlbEV4Y2VwdGlvbiBlMSkg
eworCQkJCS8vIGlnbm9yZQogCQkJfQogCQkJdHJ5IHsKIAkJCQlpbnQgZmxhZ3M9IGdldFR5cGVG
bGFncyh0eXBlKTsKZGlmZiAtLWdpdCB1aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdHlw
ZWhpZXJhcmNoeS9UeXBlSGllcmFyY2h5Q29udGVudFByb3ZpZGVyLmphdmEgdWkvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL3VpL3R5cGVoaWVyYXJjaHkvVHlwZUhpZXJhcmNoeUNvbnRlbnRQcm92
aWRlci5qYXZhCmluZGV4IDhlNzJjMDAuLmQ5NjM5OGUgMTAwNjQ0Ci0tLSB1aS9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvdWkvdHlwZWhpZXJhcmNoeS9UeXBlSGllcmFyY2h5Q29udGVudFByb3Zp
ZGVyLmphdmEKKysrIHVpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90eXBlaGllcmFyY2h5
L1R5cGVIaWVyYXJjaHlDb250ZW50UHJvdmlkZXIuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBv
cmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJNIENvcnBv
cmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0g
YW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5k
ZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNo
IGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0z
NzQsNyArMzc0LDExIEBACiAJfQogCiAJcHJvdGVjdGVkIGZpbmFsIGJvb2xlYW4gaXNBbm9ueW1v
dXMoSVR5cGUgdHlwZSkgewotCQlyZXR1cm4gdHlwZS5nZXRFbGVtZW50TmFtZSgpLmxlbmd0aCgp
ID09IDA7CisJCXRyeSB7CisJCQlyZXR1cm4gdHlwZS5pc0Fub255bW91cygpOworCQl9IGNhdGNo
IChKYXZhTW9kZWxFeGNlcHRpb24gZSkgeworCQkJcmV0dXJuIGZhbHNlOworCQl9CiAJfQogCiAJ
cHJvdGVjdGVkIGZpbmFsIGJvb2xlYW4gaXNBbm9ueW1vdXNGcm9tSW50ZXJmYWNlKElUeXBlIHR5
cGUpIHsKZGlmZiAtLWdpdCB1aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdmlld3N1cHBv
cnQvSmF2YUVsZW1lbnRMYWJlbENvbXBvc2VyLmphdmEgdWkvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3ZpZXdzdXBwb3J0L0phdmFFbGVtZW50TGFiZWxDb21wb3Nlci5qYXZhCmluZGV4IDkz
NGNiZjYuLjc0ODQ5NTkgMTAwNjQ0Ci0tLSB1aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkv
dmlld3N1cHBvcnQvSmF2YUVsZW1lbnRMYWJlbENvbXBvc2VyLmphdmEKKysrIHVpL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC91aS92aWV3c3VwcG9ydC9KYXZhRWxlbWVudExhYmVsQ29tcG9zZXIu
amF2YQpAQCAtOTg0LDcgKzk4NCw4IEBACiAKIAkJU3RyaW5nIHR5cGVOYW1lPSBnZXRFbGVtZW50
TmFtZSh0eXBlKTsKIAkJCi0JCWlmIChpc0xhbWJkYVR5cGUodHlwZSkpIHsKKwkJYm9vbGVhbiBp
c0Fub255bW91cz0gZmFsc2U7CisJCWlmICh0eXBlLmlzTGFtYmRhKCkpIHsKIAkJCXR5cGVOYW1l
PSAiKCkgLT4gey4uLn0iOyAvLyROT04tTkxTLTEkCiAJCQl0cnkgewogCQkJCVN0cmluZ1tdIHN1
cGVySW50ZXJmYWNlU2lnbmF0dXJlcz0gdHlwZS5nZXRTdXBlckludGVyZmFjZVR5cGVTaWduYXR1
cmVzKCk7CkBAIC05OTYsNyArOTk3LDYgQEAKIAkJCX0KIAkJCQogCQl9IGVsc2UgewotCQkJYm9v
bGVhbiBpc0Fub255bW91czsKIAkJCXRyeSB7CiAJCQkJaXNBbm9ueW1vdXM9IHR5cGUuaXNBbm9u
eW1vdXMoKTsKIAkJCX0gY2F0Y2ggKEphdmFNb2RlbEV4Y2VwdGlvbiBlMSkgewpAQCAtMTA1Nyw4
ICsxMDU3LDggQEAKIAkJCWludCBvZmZzZXQ9IGZCdWZmZXIubGVuZ3RoKCk7CiAJCQlmQnVmZmVy
LmFwcGVuZChKYXZhRWxlbWVudExhYmVscy5DT05DQVRfU1RSSU5HKTsKIAkJCUlUeXBlIGRlY2xh
cmluZ1R5cGU9IHR5cGUuZ2V0RGVjbGFyaW5nVHlwZSgpOwotCQkJaWYgKGRlY2xhcmluZ1R5cGUg
PT0gbnVsbCAmJiB0eXBlLmlzQmluYXJ5KCkgJiYgdHlwZS5nZXRFbGVtZW50TmFtZSgpLmxlbmd0
aCgpID09IDApIHsKLQkJCQkvLyB3b3JrYXJvdW5kIGZvciBCdWcgODcxNjU6IFttb2RlbF0gSVR5
cGUjZ2V0RGVjbGFyaW5nVHlwZSgpIGRvZXMgbm90IHdvcmsgZm9yIGFub255bW91cyBiaW5hcnkg
dHlwZSAKKwkJCWlmIChkZWNsYXJpbmdUeXBlID09IG51bGwgJiYgdHlwZS5pc0JpbmFyeSgpICYm
IGlzQW5vbnltb3VzKSB7CisJCQkJLy8gd29ya2Fyb3VuZCBmb3IgQnVnIDg3MTY1OiBbbW9kZWxd
IElUeXBlI2dldERlY2xhcmluZ1R5cGUoKSBkb2VzIG5vdCB3b3JrIGZvciBhbm9ueW1vdXMgYmlu
YXJ5IHR5cGUKIAkJCQlTdHJpbmcgdHFuPSB0eXBlLmdldFR5cGVRdWFsaWZpZWROYW1lKCk7CiAJ
CQkJaW50IGxhc3REb2xsYXI9IHRxbi5sYXN0SW5kZXhPZignJCcpOwogCQkJCWlmIChsYXN0RG9s
bGFyICE9IDEpIHsKQEAgLTEwOTAsMTYgKzEwOTAsNiBAQAogCQkJaWYgKGdldEZsYWcoZmxhZ3Ms
IEphdmFFbGVtZW50TGFiZWxzLkNPTE9SSVpFKSkgewogCQkJCWZCdWZmZXIuc2V0U3R5bGUob2Zm
c2V0LCBmQnVmZmVyLmxlbmd0aCgpIC0gb2Zmc2V0LCBRVUFMSUZJRVJfU1RZTEUpOwogCQkJfQot
CQl9Ci0JfQotCi0JcHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBpc0xhbWJkYVR5cGUoSVR5cGUgdHlw
ZSkgewotCQkvLyBUT0RPOiB1c2UgSVR5cGUjaXNMYW1iZGEoKSBmcm9tIGJ1ZyA0MzAxOTUKLQkJ
dHJ5IHsKLQkJCUlNZXRob2RbXSBtZXRob2RzPSB0eXBlLmdldE1ldGhvZHMoKTsKLQkJCXJldHVy
biBtZXRob2RzLmxlbmd0aCA9PSAxICYmIG1ldGhvZHNbMF0uaXNMYW1iZGFNZXRob2QoKTsKLQkJ
fSBjYXRjaCAoSmF2YU1vZGVsRXhjZXB0aW9uIGUpIHsKLQkJCXJldHVybiBmYWxzZTsKIAkJfQog
CX0KIApkaWZmIC0tZ2l0IHVpL29yZy9lY2xpcHNlL2pkdC91aS9hY3Rpb25zL0FkZEphdmFEb2NT
dHViQWN0aW9uLmphdmEgdWkvb3JnL2VjbGlwc2UvamR0L3VpL2FjdGlvbnMvQWRkSmF2YURvY1N0
dWJBY3Rpb24uamF2YQppbmRleCAwMDBiYzcyLi5lNWIyMGViIDEwMDY0NAotLS0gdWkvb3JnL2Vj
bGlwc2UvamR0L3VpL2FjdGlvbnMvQWRkSmF2YURvY1N0dWJBY3Rpb24uamF2YQorKysgdWkvb3Jn
L2VjbGlwc2UvamR0L3VpL2FjdGlvbnMvQWRkSmF2YURvY1N0dWJBY3Rpb24uamF2YQpAQCAtMSw1
ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAs
IDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAs
IDIwMTQgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFk
ZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNl
IHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0CkBAIC0zMSw2ICszMSw3IEBACiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
SU1lbWJlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JTWV0aG9kOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLklUeXBlOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLkph
dmFNb2RlbEV4Y2VwdGlvbjsKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3Jl
eHQuY29kZW1hbmlwdWxhdGlvbi5BZGRKYXZhRG9jU3R1Yk9wZXJhdGlvbjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LnV0aWwuSmF2YU1vZGVsVXRpbDsKQEAgLTIyNyw4
ICsyMjgsMTIgQEAKIAkJCQkJfSBlbHNlIGlmICghY3UuZXF1YWxzKG1lbWJlci5nZXRDb21waWxh
dGlvblVuaXQoKSkpIHsKIAkJCQkJCXJldHVybiBudWxsOwogCQkJCQl9Ci0JCQkJCWlmIChtZW1i
ZXIgaW5zdGFuY2VvZiBJVHlwZSAmJiBtZW1iZXIuZ2V0RWxlbWVudE5hbWUoKS5sZW5ndGgoKSA9
PSAwKSB7Ci0JCQkJCQlyZXR1cm4gbnVsbDsgLy8gYW5vbnltb3VzIHR5cGUKKwkJCQkJdHJ5IHsK
KwkJCQkJCWlmIChtZW1iZXIgaW5zdGFuY2VvZiBJVHlwZSAmJiAoKElUeXBlKSBtZW1iZXIpLmlz
QW5vbnltb3VzKCkpIHsKKwkJCQkJCQlyZXR1cm4gbnVsbDsgLy8gYW5vbnltb3VzIHR5cGUKKwkJ
CQkJCX0KKwkJCQkJfSBjYXRjaCAoSmF2YU1vZGVsRXhjZXB0aW9uIGUpIHsKKwkJCQkJCS8vIGln
bm9yZQogCQkJCQl9CiAJCQkJCXJlc1tpXT0gbWVtYmVyOwogCQkJCX0gZWxzZSB7
</data>

          </attachment>
      

    </bug>

</bugzilla>