<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>375971</bug_id>
          
          <creation_ts>2012-04-03 11:56:00 -0400</creation_ts>
          <short_desc>[search] Not finding method references with generics</short_desc>
          <delta_ts>2012-05-17 01:49:04 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.8 RC1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Narayanan Anantharaman">narayanan.anantharaman</reporter>
          <assigned_to name="Satyam Kandula">satyam.kandula</assigned_to>
          <cc>jarthana</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="50711"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2088942</commentid>
    <comment_count>0</comment_count>
    <who name="Narayanan Anantharaman">narayanan.anantharaman</who>
    <bug_when>2012-04-03 11:56:06 -0400</bug_when>
    <thetext>Build Identifier: 20110615-0604

When references of an method in an interface is searched, not getting the results as expected. Below is the sample test code, when references for InterfaceI.addListener is searched, nothing comes up. Tested using Indigo Release, Build id: 20110615-0604

InterfaceI.java
public interface InterfaceI&lt;K, V&gt; {
void addListener();
}

ClassA.java
public class ClassA&lt;K, V, B&gt; implements InterfaceI&lt;K, V&gt; {
@Override
public void addListener() {
}
}

ClassB.java
public class ClassB extends ClassA&lt;String, String, String&gt; { 
public void doSomething() {
addListener();
}
}

http://www.eclipse.org/forums/index.php/t/321544/

Reproducible: Always</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2089086</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-04-03 14:51:50 -0400</bug_when>
    <thetext>Satyam, please take a look - can we quickly ascertain how far
back this behavior goes ? TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2089286</commentid>
    <comment_count>2</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-04-03 22:32:47 -0400</bug_when>
    <thetext>I could reproduce the problem with 3.5 and 3.4 too. The different number of type parameters seems to cause the issue. 
Targetting this for M7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2106385</commentid>
    <comment_count>3</comment_count>
      <attachid>215448</attachid>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-11 04:20:51 -0400</bug_when>
    <thetext>Created attachment 215448
Proposed patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2106388</commentid>
    <comment_count>4</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-11 04:24:25 -0400</bug_when>
    <thetext>Srikanth, Can you please review this? TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2106592</commentid>
    <comment_count>5</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-11 09:19:12 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; Srikanth, Can you please review this? TIA.
All tests (Core and refactoring) pass.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2107406</commentid>
    <comment_count>6</comment_count>
      <attachid>215553</attachid>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-14 05:31:48 -0400</bug_when>
    <thetext>Created attachment 215553
Revised patch

Fixes a couple of typos from earlier patch (and its copy + pasted
incarnations) :

    - interface method should not declare a body
    - The tokens &quot;public void&quot; are replicated in some tests
      (so that it reads &quot;public void public void&quot;

These are not material to the results, but I think it is better
cleaned up.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2107460</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-14 06:51:22 -0400</bug_when>
    <thetext>Patch looks good to me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2107467</commentid>
    <comment_count>8</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-14 07:00:02 -0400</bug_when>
    <thetext>Thanks Srikanth for the review. 
Released the patch via commit 336c6a8c05fa00da4647413c6af6a1b47ee97a2d</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2109281</commentid>
    <comment_count>9</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-05-17 01:49:04 -0400</bug_when>
    <thetext>Verified for 3.8 RC1 with build I20120515-2200.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>215448</attachid>
            <date>2012-05-11 04:20:00 -0400</date>
            <delta_ts>2012-05-14 05:31:48 -0400</delta_ts>
            <desc>Proposed patch</desc>
            <filename>patch.txt</filename>
            <type>text/plain</type>
            <size>15048</size>
            <attacher name="Satyam Kandula">satyam.kandula</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzMi5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKaW5kZXggOGJkYWRkYi4uM2QwOWVl
MyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKQEAgLTIwLDYgKzIwLDcg
QEAKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5jb3JlLklDb21waWxhdGlvblVuaXQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
SUphdmFFbGVtZW50OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklKYXZhUHJvamVjdDsK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JTWV0aG9kOwpAQCAtMzksNyArNDAsNyBAQAog
CX0KIAkKIAlzdGF0aWMgewotCQkvL1RFU1RTX05BTUVTID0gbmV3IFN0cmluZ1tdIHsidGVzdEJ1
ZzM3ODM5MCJ9OworCQlURVNUU19OQU1FUyA9IG5ldyBTdHJpbmdbXSB7InRlc3RCdWczNzU5NzEi
fTsKIAl9CiAKIAlwdWJsaWMgc3RhdGljIFRlc3Qgc3VpdGUoKSB7CkBAIC05MzQsNCArOTM1LDI4
NiBAQAogCQkJZGVsZXRlUHJvamVjdChwcm9qZWN0KTsKIAkJfQogCX0KKwkvKioKKwkgKiBAYnVn
IDM3NTk3MTogW3NlYXJjaF0gTm90IGZpbmRpbmcgbWV0aG9kIHJlZmVyZW5jZXMgd2l0aCBnZW5l
cmljcworCSAqIEB0ZXN0IFRPRE8KKwkgKiBAc2VlICJodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcv
YnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc1OTcxIgorCSAqLworCXB1YmxpYyB2b2lkIHRlc3RCdWcz
NzU5NzFhKCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCQl0cnkgeworCQkJY3JlYXRlSmF2YVBy
b2plY3QoIlAiKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0ludGVyZmFjZUkuamF2YSIsCisJCQkJInB1
YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNlSSA8SywgVj57XG4iKworCQkJCSIgcHVibGljIHZvaWQg
YWRkTGlzdGVuZXIoKSB7fVxuIisKKwkJCQkifVxuIisKKwkJCQkifVxuIik7CisJCQljcmVhdGVG
aWxlKCIvUC9DbGFzc0EuamF2YSIsCisJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+
IGltcGxlbWVudHMgSW50ZXJmYWNlSTxLLCBWPntcbiIrCisJCQkJCSIgcHVibGljIHZvaWQgcHVi
bGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJCQkifVxuIik7
CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xh
c3NCIGV4dGVuZHMgQ2xhc3NBPFN0cmluZywgU3RyaW5nLCBTdHJpbmc+e1xuIisKKwkJCQkJCSIg
cHVibGljIHZvaWQgZG9Tb21ldGhpbmcoKSB7IiArCisJCQkJCQkiICAgYWRkTGlzdGVuZXIoKTtc
biIrCisJCQkJCQkifVxuIiArCisJCQkJCQkifVxuIik7CisJCQl3YWl0VW50aWxJbmRleGVzUmVh
ZHkoKTsKKwkJCS8vIHNlYXJjaAorCQkJSVR5cGUgdHlwZSA9IGdldENvbXBpbGF0aW9uVW5pdCgi
L1AvSW50ZXJmYWNlSS5qYXZhIikuZ2V0VHlwZSgiSW50ZXJmYWNlSSIpOworCQkJSU1ldGhvZCBt
ZXRob2QgPSB0eXBlLmdldE1ldGhvZCgiYWRkTGlzdGVuZXIiLCBuZXcgU3RyaW5nW117fSk7CisJ
CQl0aGlzLnJlc3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVG
RVJFTkNFUywgRVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUo
KSwgdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NC
LmphdmEgdm9pZCBDbGFzc0IuZG9Tb21ldGhpbmcoKSBbYWRkTGlzdGVuZXIoKV0gRVJBU1VSRV9N
QVRDSCIpOworCQl9IGZpbmFsbHkgeworCQkJZGVsZXRlUHJvamVjdCgiUCIpOworCQl9CisJfQor
CXB1YmxpYyB2b2lkIHRlc3RCdWczNzU5NzFiKCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCQl0
cnkgeworCQkJY3JlYXRlSmF2YVByb2plY3QoIlAiKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0ludGVy
ZmFjZUkuamF2YSIsCisJCQkJInB1YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNlSSA8SywgVj57XG4i
KworCQkJCSIgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7fVxuIisKKwkJCQkifVxuIisKKwkJ
CQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0EuamF2YSIsCisJCQkJInB1YmxpYyBj
bGFzcyBDbGFzc0EgPEssIFYsIEI+IHtcbiIrCisJCQkJCSIgcHVibGljIHZvaWQgcHVibGljIHZv
aWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJCQkifVxuIik7CisJCQlj
cmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NCIGV4
dGVuZHMgQ2xhc3NBPFN0cmluZywgU3RyaW5nLCBTdHJpbmc+IGltcGxlbWVudHMgSW50ZXJmYWNl
STxTdHJpbmcsIFN0cmluZz57XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1NvbWV0aGluZygp
IHsiICsKKwkJCQkJCSIgICBhZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9XG4iICsKKwkJCQkJ
CSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8gc2VhcmNoCisJCQlJ
VHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIvUC9JbnRlcmZhY2VJLmphdmEiKS5nZXRU
eXBlKCJJbnRlcmZhY2VJIik7CisJCQlJTWV0aG9kIG1ldGhvZCA9IHR5cGUuZ2V0TWV0aG9kKCJh
ZGRMaXN0ZW5lciIsIG5ldyBTdHJpbmdbXXt9KTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLnNo
b3dSdWxlKCk7CisJCQlzZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNl
YXJjaEVuZ2luZS5jcmVhdGVXb3Jrc3BhY2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7
CisJCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1NvbWV0
aGluZygpIFthZGRMaXN0ZW5lcigpXSBFUkFTVVJFX01BVENIIik7CisJCX0gZmluYWxseSB7CisJ
CQlkZWxldGVQcm9qZWN0KCJQIik7CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3
MWMoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJvamVj
dCgiUCIpOworCQkJY3JlYXRlRmlsZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVibGlj
IGludGVyZmFjZSBJbnRlcmZhY2VJIDxLLCBWPntcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBhZGRM
aXN0ZW5lcigpIHt9XG4iKworCQkJCSJ9XG4iKworCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUo
Ii9QL0NsYXNzQS5qYXZhIiwKKwkJCQkicHVibGljIGNsYXNzIENsYXNzQSA8SywgViwgQj4ge1xu
IisKKwkJCQkJIiBwdWJsaWMgdm9pZCBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHtcbiIgKwor
CQkJCQkifVxuIiArCisJCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQi5qYXZh
IiwKKwkJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0IgZXh0ZW5kcyBDbGFzc0E8U3RyaW5nLCBTdHJp
bmcsIFN0cmluZz4gaW1wbGVtZW50cyBJbnRlcmZhY2VJPFN0cmluZywgU3RyaW5nPntcbiIrCisJ
CQkJCQkiIHB1YmxpYyB2b2lkIGRvU29tZXRoaW5nKCkgeyIgKworCQkJCQkJIiAgIGFkZExpc3Rl
bmVyKCk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1cbiIpOworCQkJd2FpdFVudGlsSW5k
ZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBlIHR5cGUgPSBnZXRDb21waWxhdGlv
blVuaXQoIi9QL0NsYXNzQS5qYXZhIikuZ2V0VHlwZSgiQ2xhc3NBIik7CisJCQlJTWV0aG9kIG1l
dGhvZCA9IHR5cGUuZ2V0TWV0aG9kKCJhZGRMaXN0ZW5lciIsIG5ldyBTdHJpbmdbXXt9KTsKKwkJ
CXRoaXMucmVzdWx0Q29sbGVjdG9yLnNob3dSdWxlKCk7CisJCQlzZWFyY2gobWV0aG9kLCBSRUZF
UkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJjaEVuZ2luZS5jcmVhdGVXb3Jrc3BhY2VTY29wZSgp
LCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJDbGFzc0Iu
amF2YSB2b2lkIENsYXNzQi5kb1NvbWV0aGluZygpIFthZGRMaXN0ZW5lcigpXSBFUkFTVVJFX01B
VENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQcm9qZWN0KCJQIik7CisJCX0KKwl9CisJ
cHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3MWQoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJCXRy
eSB7CisJCQljcmVhdGVKYXZhUHJvamVjdCgiUCIpOworCQkJY3JlYXRlRmlsZSgiL1AvSW50ZXJm
YWNlSS5qYXZhIiwKKwkJCQkJInB1YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNlSSA8SywgVj57XG4i
KworCQkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge31cbiIrCisJCQkJCSJ9XG4iKwor
CQkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0EuamF2YSIsCisJCQkJInB1Ymxp
YyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+IGltcGxlbWVudHMgSW50ZXJmYWNlSTxLLCBWPntcbiIr
CisJCQkJCSIgcHVibGljIHZvaWQgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJ
CQkJIn1cbiIgKworCQkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIs
CisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NCIHtcbiIrCisJCQkJCQkiIHB1YmxpYyB2b2lkIGRv
U29tZXRoaW5nKENsYXNzQSBhKSB7IiArCisJCQkJCQkiICAgYS5hZGRMaXN0ZW5lcigpO1xuIisK
KwkJCQkJCSJ9XG4iICsKKwkJCQkJCSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgp
OworCQkJLy8gc2VhcmNoCisJCQlJVHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIvUC9J
bnRlcmZhY2VJLmphdmEiKS5nZXRUeXBlKCJJbnRlcmZhY2VJIik7CisJCQlJTWV0aG9kIG1ldGhv
ZCA9IHR5cGUuZ2V0TWV0aG9kKCJhZGRMaXN0ZW5lciIsIG5ldyBTdHJpbmdbXXt9KTsKKwkJCXRo
aXMucmVzdWx0Q29sbGVjdG9yLnNob3dSdWxlKCk7CisJCQlzZWFyY2gobWV0aG9kLCBSRUZFUkVO
Q0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJjaEVuZ2luZS5jcmVhdGVXb3Jrc3BhY2VTY29wZSgpLCB0
aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJDbGFzc0IuamF2
YSB2b2lkIENsYXNzQi5kb1NvbWV0aGluZyhDbGFzc0EpIFthZGRMaXN0ZW5lcigpXSBFUkFTVVJF
X1JBV19NQVRDSCIpOworCQl9IGZpbmFsbHkgeworCQkJZGVsZXRlUHJvamVjdCgiUCIpOworCQl9
CisJfQorCXB1YmxpYyB2b2lkIHRlc3RCdWczNzU5NzFlKCkgdGhyb3dzIENvcmVFeGNlcHRpb24g
eworCQl0cnkgeworCQkJY3JlYXRlSmF2YVByb2plY3QoIlAiKTsKKwkJCWNyZWF0ZUZpbGUoIi9Q
L0ludGVyZmFjZUkuamF2YSIsCisJCQkJInB1YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNlSSA8Sywg
Vj57XG4iKworCQkJCSIgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7fVxuIisKKwkJCQkifVxu
IisKKwkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0EuamF2YSIsCisJCQkJInB1
YmxpYyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+IGltcGxlbWVudHMgSW50ZXJmYWNlSTxLLCBWPiB7
XG4iKworCQkJCQkiIHB1YmxpYyB2b2lkIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge1xuIiAr
CisJCQkJCSJ9XG4iICsKKwkJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NCLmph
dmEiLAorCQkJCQkicHVibGljIGNsYXNzIENsYXNzQiBpbXBsZW1lbnRzIEludGVyZmFjZUk8U3Ry
aW5nLCBTdHJpbmc+IHtcbiIrCisJCQkJCQkiIHB1YmxpYyB2b2lkIGRvU29tZXRoaW5nKCkgeyIg
KworCQkJCQkJIiAgIGFkZExpc3RlbmVyKCk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1c
biIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NDLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNz
IENsYXNzQyBleHRlbmRzIENsYXNzQTxJbnRlZ2VyLCBTdHJpbmcsIFN0cmluZz4ge1xuIisKKwkJ
CQkJCSIgcHVibGljIHZvaWQgZG9Tb21ldGhpbmcoKSB7IiArCisJCQkJCQkiICAgYWRkTGlzdGVu
ZXIoKTtcbiIrCisJCQkJCQkifVxuIiArCisJCQkJCQkifVxuIik7CisJCQl3YWl0VW50aWxJbmRl
eGVzUmVhZHkoKTsKKwkJCS8vIHNlYXJjaAorCQkJSUNvbXBpbGF0aW9uVW5pdCB1bml0ID0gZ2V0
Q29tcGlsYXRpb25Vbml0KCIvUC9DbGFzc0IuamF2YSIpOworCQkJSU1ldGhvZCBtZXRob2QgPSBz
ZWxlY3RNZXRob2QodW5pdCwgImFkZExpc3RlbmVyIik7CisJCQl0aGlzLnJlc3VsdENvbGxlY3Rv
ci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVJBU1VSRV9SVUxF
LCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUoKSwgdGhpcy5yZXN1bHRDb2xsZWN0
b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NCLmphdmEgdm9pZCBDbGFzc0IuZG9T
b21ldGhpbmcoKSBbYWRkTGlzdGVuZXIoKV0gRVhBQ1RfTUFUQ0hcbiIgKyAKKwkJCQkJCQkJIkNs
YXNzQy5qYXZhIHZvaWQgQ2xhc3NDLmRvU29tZXRoaW5nKCkgW2FkZExpc3RlbmVyKCldIEVSQVNV
UkVfTUFUQ0giKTsKKwkJfSBmaW5hbGx5IHsKKwkJCWRlbGV0ZVByb2plY3QoIlAiKTsKKwkJfQor
CX0KKwlwdWJsaWMgdm9pZCB0ZXN0QnVnMzc1OTcxZigpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsK
KwkJdHJ5IHsKKwkJCWNyZWF0ZUphdmFQcm9qZWN0KCJQIik7CisJCQljcmVhdGVGaWxlKCIvUC9J
bnRlcmZhY2VJLmphdmEiLAorCQkJCSJwdWJsaWMgaW50ZXJmYWNlIEludGVyZmFjZUkge1xuIisK
KwkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge31cbiIrCisJCQkJIn1cbiIrCisJCQkJ
In1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NBLmphdmEiLAorCQkJCSJwdWJsaWMgY2xh
c3MgQ2xhc3NBIDxLLCBWLCBCPiBpbXBsZW1lbnRzIEludGVyZmFjZUl7XG4iKworCQkJCQkiIHB1
YmxpYyB2b2lkIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge1xuIiArCisJCQkJCSJ9XG4iICsK
KwkJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NCLmphdmEiLAorCQkJCQkicHVi
bGljIGNsYXNzIENsYXNzQiBleHRlbmRzIENsYXNzQTxTdHJpbmcsIFN0cmluZywgU3RyaW5nPntc
biIrCisJCQkJCQkiIHB1YmxpYyB2b2lkIGRvU29tZXRoaW5nKCkgeyIgKworCQkJCQkJIiAgIGFk
ZExpc3RlbmVyKCk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1cbiIpOworCQkJd2FpdFVu
dGlsSW5kZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBlIHR5cGUgPSBnZXRDb21w
aWxhdGlvblVuaXQoIi9QL0ludGVyZmFjZUkuamF2YSIpLmdldFR5cGUoIkludGVyZmFjZUkiKTsK
KwkJCUlNZXRob2QgbWV0aG9kID0gdHlwZS5nZXRNZXRob2QoImFkZExpc3RlbmVyIiwgbmV3IFN0
cmluZ1tde30pOworCQkJdGhpcy5yZXN1bHRDb2xsZWN0b3Iuc2hvd1J1bGUoKTsKKwkJCXNlYXJj
aChtZXRob2QsIFJFRkVSRU5DRVMsIEVSQVNVUkVfUlVMRSwgU2VhcmNoRW5naW5lLmNyZWF0ZVdv
cmtzcGFjZVNjb3BlKCksIHRoaXMucmVzdWx0Q29sbGVjdG9yKTsKKwkJCWFzc2VydFNlYXJjaFJl
c3VsdHMoIkNsYXNzQi5qYXZhIHZvaWQgQ2xhc3NCLmRvU29tZXRoaW5nKCkgW2FkZExpc3RlbmVy
KCldIEVYQUNUX01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQcm9qZWN0KCJQIik7
CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3MWcoKSB0aHJvd3MgQ29yZUV4Y2Vw
dGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJvamVjdCgiUCIpOworCQkJY3JlYXRlRmls
ZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVibGljIGludGVyZmFjZSBJbnRlcmZhY2VJ
IHtcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHt9XG4iKworCQkJCSJ9XG4i
KworCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQS5qYXZhIiwKKwkJCQkicHVi
bGljIGNsYXNzIENsYXNzQSA8SywgViwgQj4gaW1wbGVtZW50cyBJbnRlcmZhY2VJe1xuIisKKwkJ
CQkJIiBwdWJsaWMgdm9pZCBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHtcbiIgKworCQkJCQki
fVxuIiArCisJCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQi5qYXZhIiwKKwkJ
CQkJInB1YmxpYyBjbGFzcyBDbGFzc0I8SywgViwgQj4gZXh0ZW5kcyBDbGFzc0E8SywgViwgQj57
XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1NvbWV0aGluZygpIHsiICsKKwkJCQkJCSIgICBh
ZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9XG4iICsKKwkJCQkJCSJ9XG4iKTsKKwkJCXdhaXRV
bnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8gc2VhcmNoCisJCQlJVHlwZSB0eXBlID0gZ2V0Q29t
cGlsYXRpb25Vbml0KCIvUC9JbnRlcmZhY2VJLmphdmEiKS5nZXRUeXBlKCJJbnRlcmZhY2VJIik7
CisJCQlJTWV0aG9kIG1ldGhvZCA9IHR5cGUuZ2V0TWV0aG9kKCJhZGRMaXN0ZW5lciIsIG5ldyBT
dHJpbmdbXXt9KTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLnNob3dSdWxlKCk7CisJCQlzZWFy
Y2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJjaEVuZ2luZS5jcmVhdGVX
b3Jrc3BhY2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJCQlhc3NlcnRTZWFyY2hS
ZXN1bHRzKCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1NvbWV0aGluZygpIFthZGRMaXN0ZW5l
cigpXSBFWEFDVF9NQVRDSCIpOworCQl9IGZpbmFsbHkgeworCQkJZGVsZXRlUHJvamVjdCgiUCIp
OworCQl9CisJfQorCXB1YmxpYyB2b2lkIHRlc3RCdWczNzU5NzFoKCkgdGhyb3dzIENvcmVFeGNl
cHRpb24geworCQl0cnkgeworCQkJY3JlYXRlSmF2YVByb2plY3QoIlAiKTsKKwkJCWNyZWF0ZUZp
bGUoIi9QL0ludGVyZmFjZUkuamF2YSIsCisJCQkJInB1YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNl
STxLLFY+IHtcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHt9XG4iKworCQkJ
CSJ9XG4iKworCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQS5qYXZhIiwKKwkJ
CQkicHVibGljIGNsYXNzIENsYXNzQSA8SywgViwgQj4gaW1wbGVtZW50cyBJbnRlcmZhY2VJPEss
IFY+e1xuIisKKwkJCQkJIiBwdWJsaWMgdm9pZCBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHtc
biIgKworCQkJCQkifVxuIiArCisJCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNz
Qi5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0I8SywgViwgQj4gZXh0ZW5kcyBDbGFz
c0E8SywgViwgQj57XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1NvbWV0aGluZyhJbnRlcmZh
Y2VJPFN0cmluZywgU3RyaW5nPiBpKSB7IiArCisJCQkJCQkiICAgaS5hZGRMaXN0ZW5lcigpO1xu
IisKKwkJCQkJCSJ9XG4iICsKKwkJCQkJCSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFk
eSgpOworCQkJLy8gc2VhcmNoCisJCQlJVHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIv
UC9DbGFzc0EuamF2YSIpLmdldFR5cGUoIkNsYXNzQSIpOworCQkJSU1ldGhvZCBtZXRob2QgPSB0
eXBlLmdldE1ldGhvZCgiYWRkTGlzdGVuZXIiLCBuZXcgU3RyaW5nW117fSk7CisJCQl0aGlzLnJl
c3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywg
RVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUoKSwgdGhpcy5y
ZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NCLmphdmEgdm9p
ZCBDbGFzc0IuZG9Tb21ldGhpbmcoSW50ZXJmYWNlSTxTdHJpbmcsU3RyaW5nPikgW2FkZExpc3Rl
bmVyKCldIEVYQUNUX01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQcm9qZWN0KCJQ
Iik7CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3MWkoKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJvamVjdCgiUCIpOworCQkJY3JlYXRl
RmlsZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVibGljIGludGVyZmFjZSBJbnRlcmZh
Y2VJPEssVj4ge1xuIisKKwkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKEsgaykge31cbiIr
CisJCQkJIn1cbiIrCisJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NBLmphdmEi
LAorCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NBIDxLLCBWLCBCPiBpbXBsZW1lbnRzIEludGVyZmFj
ZUk8SywgVj57XG4iKworCQkJCQkicHVibGljIHZvaWQgYWRkTGlzdGVuZXIoSyBrKSB7XG4iICsK
KwkJCQkJIn1cbiIgKworCQkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2
YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NCPEssIFYsIEI+IGV4dGVuZHMgQ2xhc3NBPEss
IFYsIEI+e1xuIisKKwkJCQkJCSIgcHVibGljIHZvaWQgZG9Tb21ldGhpbmcoSyBrKSB7IiArCisJ
CQkJCQkiICAgYWRkTGlzdGVuZXIoayk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1cbiIp
OworCQkJd2FpdFVudGlsSW5kZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBlIHR5
cGUgPSBnZXRDb21waWxhdGlvblVuaXQoIi9QL0ludGVyZmFjZUkuamF2YSIpLmdldFR5cGUoIklu
dGVyZmFjZUkiKTsKKwkJCUlNZXRob2QgbWV0aG9kID0gdHlwZS5nZXRNZXRob2RzKClbMF07CisJ
CQl0aGlzLnJlc3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVG
RVJFTkNFUywgRVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUo
KSwgdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NC
LmphdmEgdm9pZCBDbGFzc0IuZG9Tb21ldGhpbmcoSykgW2FkZExpc3RlbmVyKGspXSBFUkFTVVJF
X01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQcm9qZWN0KCJQIik7CisJCX0KKwl9
CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01ldGhvZExvY2F0b3IuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9z
ZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCmluZGV4IDMwMWNhNDEuLmNkN2NmZGEg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9z
ZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCkBAIC02Miw2ICs2MiwyOCBAQAogCXJl
dHVybiB0aGlzLnBhdHRlcm4uZmluZUdyYWluOwogfQogCitwcml2YXRlIFJlZmVyZW5jZUJpbmRp
bmcgZ2V0TWF0Y2hpbmdTdXBlcihSZWZlcmVuY2VCaW5kaW5nIGJpbmRpbmcpIHsKKwlpZiAoYmlu
ZGluZyA9PSBudWxsKSByZXR1cm4gbnVsbDsKKwlSZWZlcmVuY2VCaW5kaW5nIHN1cGVyQmluZGlu
ZyA9IGJpbmRpbmcuc3VwZXJjbGFzcygpOworCWludCBsZXZlbCA9IHJlc29sdmVMZXZlbEZvclR5
cGUodGhpcy5wYXR0ZXJuLmRlY2xhcmluZ1NpbXBsZU5hbWUsIHRoaXMucGF0dGVybi5kZWNsYXJp
bmdRdWFsaWZpY2F0aW9uLCBzdXBlckJpbmRpbmcpOworCWlmIChsZXZlbCAhPSBJTVBPU1NJQkxF
X01BVENIKSByZXR1cm4gc3VwZXJCaW5kaW5nOworCS8vIG1hdGNoZXMgc3VwZXJjbGFzcworCWlm
ICghYmluZGluZy5pc0ludGVyZmFjZSgpICYmICFDaGFyT3BlcmF0aW9uLmVxdWFscyhiaW5kaW5n
LmNvbXBvdW5kTmFtZSwgVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfT0JKRUNUKSkgeworCQlzdXBl
ckJpbmRpbmcgPSBnZXRNYXRjaGluZ1N1cGVyKHN1cGVyQmluZGluZyk7CisJCWlmIChzdXBlckJp
bmRpbmcgIT0gbnVsbCkgcmV0dXJuIHN1cGVyQmluZGluZzsKKwl9CisJLy8gbWF0Y2hlcyBpbnRl
cmZhY2VzCisJUmVmZXJlbmNlQmluZGluZ1tdIGludGVyZmFjZXMgPSBiaW5kaW5nLnN1cGVySW50
ZXJmYWNlcygpOworCWlmIChpbnRlcmZhY2VzID09IG51bGwpIHJldHVybiBudWxsOworCWZvciAo
aW50IGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykgeworCQlsZXZlbCA9IHJlc29s
dmVMZXZlbEZvclR5cGUodGhpcy5wYXR0ZXJuLmRlY2xhcmluZ1NpbXBsZU5hbWUsIHRoaXMucGF0
dGVybi5kZWNsYXJpbmdRdWFsaWZpY2F0aW9uLCBpbnRlcmZhY2VzW2ldKTsKKwkJaWYgKGxldmVs
ICE9IElNUE9TU0lCTEVfTUFUQ0gpIHJldHVybiBpbnRlcmZhY2VzW2ldOworCQlzdXBlckJpbmRp
bmcgPSBnZXRNYXRjaGluZ1N1cGVyKGludGVyZmFjZXNbaV0pOworCQlpZiAoc3VwZXJCaW5kaW5n
ICE9IG51bGwpIHJldHVybiBzdXBlckJpbmRpbmc7CisJfQorCXJldHVybiBudWxsOworfQorCiBw
cml2YXRlIE1ldGhvZEJpbmRpbmcgZ2V0TWV0aG9kQmluZGluZyhSZWZlcmVuY2VCaW5kaW5nIHR5
cGUsIGNoYXJbXSBtZXRob2ROYW1lLCBUeXBlQmluZGluZ1tdIGFyZ3VtZW50VHlwZXMpIHsKIAlN
ZXRob2RCaW5kaW5nW10gbWV0aG9kcyA9IHR5cGUuZ2V0TWV0aG9kcyhtZXRob2ROYW1lKTsKIAlN
ZXRob2RCaW5kaW5nIG1ldGhvZCA9IG51bGw7CkBAIC00MDAsNyArNDIyLDcgQEAKIAkJCQkJfQog
CQkJCX0KIAkJCX0KLQkJCW1hdGNoUmVwb3J0UmVmZXJlbmNlKChNZXNzYWdlU2VuZClyZWZlcmVu
Y2UsIGxvY2F0b3IsICgoTWVzc2FnZVNlbmQpcmVmZXJlbmNlKS5iaW5kaW5nKTsKKwkJCW1hdGNo
UmVwb3J0UmVmZXJlbmNlKChNZXNzYWdlU2VuZClyZWZlcmVuY2UsIGxvY2F0b3IsIGFjY3VyYWN5
LCAoKE1lc3NhZ2VTZW5kKXJlZmVyZW5jZSkuYmluZGluZyk7CiAJCX0gZWxzZSB7CiAJCQlpZiAo
cmVmZXJlbmNlIGluc3RhbmNlb2YgU2luZ2xlTWVtYmVyQW5ub3RhdGlvbikgewogCQkJCXJlZmVy
ZW5jZSA9ICgoU2luZ2xlTWVtYmVyQW5ub3RhdGlvbilyZWZlcmVuY2UpLm1lbWJlclZhbHVlUGFp
cnMoKVswXTsKQEAgLTQxNCw3ICs0MzYsNyBAQAogCQl9CiAJfQogfQotdm9pZCBtYXRjaFJlcG9y
dFJlZmVyZW5jZShNZXNzYWdlU2VuZCBtZXNzYWdlU2VuZCwgTWF0Y2hMb2NhdG9yIGxvY2F0b3Is
IE1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZykgdGhyb3dzIENvcmVFeGNlcHRpb24gewordm9p
ZCBtYXRjaFJlcG9ydFJlZmVyZW5jZShNZXNzYWdlU2VuZCBtZXNzYWdlU2VuZCwgTWF0Y2hMb2Nh
dG9yIGxvY2F0b3IsIGludCBhY2N1cmFjeSwgTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5nKSB0
aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CiAKIAkvLyBMb29rIGlmIHRoZXJlJ3MgYSBuZWVkIHRvIHNw
ZWNpYWwgcmVwb3J0IGZvciBwYXJhbWV0ZXJpemVkIHR5cGUKIAlib29sZWFuIGlzUGFyYW1ldGVy
aXplZCA9IGZhbHNlOwpAQCAtNDU1LDcgKzQ3NywxOCBAQAogCQlpZiAobWV0aG9kQmluZGluZy5k
ZWNsYXJpbmdDbGFzcy5pc1BhcmFtZXRlcml6ZWRUeXBlKCkgfHwgbWV0aG9kQmluZGluZy5kZWNs
YXJpbmdDbGFzcy5pc1Jhd1R5cGUoKSkgewogCQkJUGFyYW1ldGVyaXplZFR5cGVCaW5kaW5nIHBh
cmFtZXRlcml6ZWRCaW5kaW5nID0gKFBhcmFtZXRlcml6ZWRUeXBlQmluZGluZyltZXRob2RCaW5k
aW5nLmRlY2xhcmluZ0NsYXNzOwogCQkJaWYgKCFwYXJhbWV0ZXJpemVkQmluZGluZy5pc1BhcmFt
ZXRlcml6ZWRXaXRoT3duVmFyaWFibGVzKCkpIHsKLQkJCQl1cGRhdGVNYXRjaChwYXJhbWV0ZXJp
emVkQmluZGluZywgdGhpcy5wYXR0ZXJuLmdldFR5cGVBcmd1bWVudHMoKSwgdGhpcy5wYXR0ZXJu
Lmhhc1R5cGVQYXJhbWV0ZXJzKCksIDAsIGxvY2F0b3IpOworCQkJCWlmICgoYWNjdXJhY3kgJiAo
U1VCX0lOVk9DQVRJT05fRkxBVk9SIHwgT1ZFUlJJRERFTl9NRVRIT0RfRkxBVk9SKSkgIT0gMCkg
eworCQkJCQkvLyB0eXBlIHBhcmFtZXRlcnMgbmVlZCB0byBiZSBjb21wYXJlZCB3aXRoIHRoZSBj
bGFzcyB0aGF0IGlzIHJlYWxseSBiZWluZyBzZWFyY2hlZAorCQkJCQkvLyBodHRwczovL2J1Z3Mu
ZWNsaXBzZS5vcmcvMzc1OTcxCisJCQkJCVJlZmVyZW5jZUJpbmRpbmcgcmVmQmluZGluZyA9IGdl
dE1hdGNoaW5nU3VwZXIoKChSZWZlcmVuY2VCaW5kaW5nKW1lc3NhZ2VTZW5kLmFjdHVhbFJlY2Vp
dmVyVHlwZSkpOworCQkJCQlpZiAocmVmQmluZGluZyBpbnN0YW5jZW9mIFBhcmFtZXRlcml6ZWRU
eXBlQmluZGluZykgeworCQkJCQkJcGFyYW1ldGVyaXplZEJpbmRpbmcgPSAoKFBhcmFtZXRlcml6
ZWRUeXBlQmluZGluZylyZWZCaW5kaW5nKTsKKwkJCQkJfQorCQkJCX0KKwkJCQlpZiAoKGFjY3Vy
YWN5ICYgU1VQRVJfSU5WT0NBVElPTl9GTEFWT1IpID09IDApIHsKKwkJCQkJLy8gbm90IGFibGUg
dG8gZ2V0IHRoZSB0eXBlIHBhcmFtZXRlcnMgaWYgdGhlIG1hdGNoIGlzIHN1cGVyCisJCQkJCXVw
ZGF0ZU1hdGNoKHBhcmFtZXRlcml6ZWRCaW5kaW5nLCB0aGlzLnBhdHRlcm4uZ2V0VHlwZUFyZ3Vt
ZW50cygpLCB0aGlzLnBhdHRlcm4uaGFzVHlwZVBhcmFtZXRlcnMoKSwgMCwgbG9jYXRvcik7CisJ
CQkJfQogCQkJfQogCQl9IGVsc2UgaWYgKHRoaXMucGF0dGVybi5oYXNUeXBlQXJndW1lbnRzKCkp
IHsKIAkJCXRoaXMubWF0Y2guc2V0UnVsZShTZWFyY2hQYXR0ZXJuLlJfRVJBU1VSRV9NQVRDSCk7
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>215553</attachid>
            <date>2012-05-14 05:31:00 -0400</date>
            <delta_ts>2012-05-14 05:31:48 -0400</delta_ts>
            <desc>Revised patch</desc>
            <filename>patch.txt</filename>
            <type>text/plain</type>
            <size>14652</size>
            <attacher name="Srikanth Sankaran">srikanth_sankaran</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzMi5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKaW5kZXggOGJkYWRkYi4uNDJkZmY5
ZSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMyLmphdmEKQEAgLTIwLDYgKzIwLDcg
QEAKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5jb3JlLklDb21waWxhdGlvblVuaXQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
SUphdmFFbGVtZW50OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklKYXZhUHJvamVjdDsK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JTWV0aG9kOwpAQCAtOTM0LDQgKzkzNSwyNzcg
QEAKIAkJCWRlbGV0ZVByb2plY3QocHJvamVjdCk7CiAJCX0KIAl9CisJLyoqCisJICogQGJ1ZyAz
NzU5NzE6IFtzZWFyY2hdIE5vdCBmaW5kaW5nIG1ldGhvZCByZWZlcmVuY2VzIHdpdGggZ2VuZXJp
Y3MKKwkgKiBAdGVzdCBUT0RPCisJICogQHNlZSAiaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1
Z3Mvc2hvd19idWcuY2dpP2lkPTM3NTk3MSIKKwkgKi8KKwlwdWJsaWMgdm9pZCB0ZXN0QnVnMzc1
OTcxYSgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKKwkJdHJ5IHsKKwkJCWNyZWF0ZUphdmFQcm9q
ZWN0KCJQIik7CisJCQljcmVhdGVGaWxlKCIvUC9JbnRlcmZhY2VJLmphdmEiLAorCQkJCSJwdWJs
aWMgaW50ZXJmYWNlIEludGVyZmFjZUkgPEssIFY+e1xuIisKKwkJCQkiIHB1YmxpYyB2b2lkIGFk
ZExpc3RlbmVyKCk7XG4iKworCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQS5q
YXZhIiwKKwkJCQkicHVibGljIGNsYXNzIENsYXNzQSA8SywgViwgQj4gaW1wbGVtZW50cyBJbnRl
cmZhY2VJPEssIFY+e1xuIisKKwkJCQkJIiBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpIHtcbiIg
KworCQkJCQkifVxuIiArCisJCQkJCSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQi5q
YXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0IgZXh0ZW5kcyBDbGFzc0E8U3RyaW5nLCBT
dHJpbmcsIFN0cmluZz57XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1NvbWV0aGluZygpIHsi
ICsKKwkJCQkJCSIgICBhZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9XG4iICsKKwkJCQkJCSJ9
XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8gc2VhcmNoCisJCQlJVHlw
ZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIvUC9JbnRlcmZhY2VJLmphdmEiKS5nZXRUeXBl
KCJJbnRlcmZhY2VJIik7CisJCQlJTWV0aG9kIG1ldGhvZCA9IHR5cGUuZ2V0TWV0aG9kKCJhZGRM
aXN0ZW5lciIsIG5ldyBTdHJpbmdbXXt9KTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLnNob3dS
dWxlKCk7CisJCQlzZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJj
aEVuZ2luZS5jcmVhdGVXb3Jrc3BhY2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJ
CQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1NvbWV0aGlu
ZygpIFthZGRMaXN0ZW5lcigpXSBFUkFTVVJFX01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlk
ZWxldGVQcm9qZWN0KCJQIik7CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3MWIo
KSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJvamVjdCgi
UCIpOworCQkJY3JlYXRlRmlsZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVibGljIGlu
dGVyZmFjZSBJbnRlcmZhY2VJIDxLLCBWPntcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBhZGRMaXN0
ZW5lcigpO1xuIisKKwkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0EuamF2YSIs
CisJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+IHtcbiIrCisJCQkJCSIgcHVibGlj
IHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJCQkifVxuIik7CisJ
CQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NC
IGV4dGVuZHMgQ2xhc3NBPFN0cmluZywgU3RyaW5nLCBTdHJpbmc+IGltcGxlbWVudHMgSW50ZXJm
YWNlSTxTdHJpbmcsIFN0cmluZz57XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1NvbWV0aGlu
ZygpIHsiICsKKwkJCQkJCSIgICBhZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9XG4iICsKKwkJ
CQkJCSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8gc2VhcmNoCisJ
CQlJVHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIvUC9JbnRlcmZhY2VJLmphdmEiKS5n
ZXRUeXBlKCJJbnRlcmZhY2VJIik7CisJCQlJTWV0aG9kIG1ldGhvZCA9IHR5cGUuZ2V0TWV0aG9k
KCJhZGRMaXN0ZW5lciIsIG5ldyBTdHJpbmdbXXt9KTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9y
LnNob3dSdWxlKCk7CisJCQlzZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUs
IFNlYXJjaEVuZ2luZS5jcmVhdGVXb3Jrc3BhY2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rv
cik7CisJCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1Nv
bWV0aGluZygpIFthZGRMaXN0ZW5lcigpXSBFUkFTVVJFX01BVENIIik7CisJCX0gZmluYWxseSB7
CisJCQlkZWxldGVQcm9qZWN0KCJQIik7CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3
NTk3MWMoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJv
amVjdCgiUCIpOworCQkJY3JlYXRlRmlsZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVi
bGljIGludGVyZmFjZSBJbnRlcmZhY2VJIDxLLCBWPntcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBh
ZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0Eu
amF2YSIsCisJCQkJInB1YmxpYyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+IHtcbiIrCisJCQkJCSIg
cHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJCQkifVxu
Iik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3Mg
Q2xhc3NCIGV4dGVuZHMgQ2xhc3NBPFN0cmluZywgU3RyaW5nLCBTdHJpbmc+IGltcGxlbWVudHMg
SW50ZXJmYWNlSTxTdHJpbmcsIFN0cmluZz57XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBkb1Nv
bWV0aGluZygpIHsiICsKKwkJCQkJCSIgICBhZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9XG4i
ICsKKwkJCQkJCSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8gc2Vh
cmNoCisJCQlJVHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCIvUC9DbGFzc0EuamF2YSIp
LmdldFR5cGUoIkNsYXNzQSIpOworCQkJSU1ldGhvZCBtZXRob2QgPSB0eXBlLmdldE1ldGhvZCgi
YWRkTGlzdGVuZXIiLCBuZXcgU3RyaW5nW117fSk7CisJCQl0aGlzLnJlc3VsdENvbGxlY3Rvci5z
aG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVJBU1VSRV9SVUxFLCBT
ZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUoKSwgdGhpcy5yZXN1bHRDb2xsZWN0b3Ip
OworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NCLmphdmEgdm9pZCBDbGFzc0IuZG9Tb21l
dGhpbmcoKSBbYWRkTGlzdGVuZXIoKV0gRVJBU1VSRV9NQVRDSCIpOworCQl9IGZpbmFsbHkgewor
CQkJZGVsZXRlUHJvamVjdCgiUCIpOworCQl9CisJfQorCXB1YmxpYyB2b2lkIHRlc3RCdWczNzU5
NzFkKCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCQl0cnkgeworCQkJY3JlYXRlSmF2YVByb2pl
Y3QoIlAiKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0ludGVyZmFjZUkuamF2YSIsCisJCQkJCSJwdWJs
aWMgaW50ZXJmYWNlIEludGVyZmFjZUkgPEssIFY+e1xuIisKKwkJCQkJIiBwdWJsaWMgdm9pZCBh
ZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NB
LmphdmEiLAorCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NBIDxLLCBWLCBCPiBpbXBsZW1lbnRzIElu
dGVyZmFjZUk8SywgVj57XG4iKworCQkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge1xu
IiArCisJCQkJCSJ9XG4iICsKKwkJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NC
LmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIENsYXNzQiB7XG4iKworCQkJCQkJIiBwdWJsaWMg
dm9pZCBkb1NvbWV0aGluZyhDbGFzc0EgYSkgeyIgKworCQkJCQkJIiAgIGEuYWRkTGlzdGVuZXIo
KTtcbiIrCisJCQkJCQkifVxuIiArCisJCQkJCQkifVxuIik7CisJCQl3YWl0VW50aWxJbmRleGVz
UmVhZHkoKTsKKwkJCS8vIHNlYXJjaAorCQkJSVR5cGUgdHlwZSA9IGdldENvbXBpbGF0aW9uVW5p
dCgiL1AvSW50ZXJmYWNlSS5qYXZhIikuZ2V0VHlwZSgiSW50ZXJmYWNlSSIpOworCQkJSU1ldGhv
ZCBtZXRob2QgPSB0eXBlLmdldE1ldGhvZCgiYWRkTGlzdGVuZXIiLCBuZXcgU3RyaW5nW117fSk7
CisJCQl0aGlzLnJlc3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwg
UkVGRVJFTkNFUywgRVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2Nv
cGUoKSwgdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xh
c3NCLmphdmEgdm9pZCBDbGFzc0IuZG9Tb21ldGhpbmcoQ2xhc3NBKSBbYWRkTGlzdGVuZXIoKV0g
RVJBU1VSRV9SQVdfTUFUQ0giKTsKKwkJfSBmaW5hbGx5IHsKKwkJCWRlbGV0ZVByb2plY3QoIlAi
KTsKKwkJfQorCX0KKwlwdWJsaWMgdm9pZCB0ZXN0QnVnMzc1OTcxZSgpIHRocm93cyBDb3JlRXhj
ZXB0aW9uIHsKKwkJdHJ5IHsKKwkJCWNyZWF0ZUphdmFQcm9qZWN0KCJQIik7CisJCQljcmVhdGVG
aWxlKCIvUC9JbnRlcmZhY2VJLmphdmEiLAorCQkJCSJwdWJsaWMgaW50ZXJmYWNlIEludGVyZmFj
ZUkgPEssIFY+e1xuIisKKwkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCk7XG4iKworCQkJ
CSJ9XG4iKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0NsYXNzQS5qYXZhIiwKKwkJCQkicHVibGljIGNs
YXNzIENsYXNzQSA8SywgViwgQj4gaW1wbGVtZW50cyBJbnRlcmZhY2VJPEssIFY+IHtcbiIrCisJ
CQkJCSIgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJ
CQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMg
Y2xhc3MgQ2xhc3NCIGltcGxlbWVudHMgSW50ZXJmYWNlSTxTdHJpbmcsIFN0cmluZz4ge1xuIisK
KwkJCQkJCSIgcHVibGljIHZvaWQgZG9Tb21ldGhpbmcoKSB7IiArCisJCQkJCQkiICAgYWRkTGlz
dGVuZXIoKTtcbiIrCisJCQkJCQkifVxuIiArCisJCQkJCQkifVxuIik7CisJCQljcmVhdGVGaWxl
KCIvUC9DbGFzc0MuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NDIGV4dGVuZHMgQ2xh
c3NBPEludGVnZXIsIFN0cmluZywgU3RyaW5nPiB7XG4iKworCQkJCQkJIiBwdWJsaWMgdm9pZCBk
b1NvbWV0aGluZygpIHsiICsKKwkJCQkJCSIgICBhZGRMaXN0ZW5lcigpO1xuIisKKwkJCQkJCSJ9
XG4iICsKKwkJCQkJCSJ9XG4iKTsKKwkJCXdhaXRVbnRpbEluZGV4ZXNSZWFkeSgpOworCQkJLy8g
c2VhcmNoCisJCQlJQ29tcGlsYXRpb25Vbml0IHVuaXQgPSBnZXRDb21waWxhdGlvblVuaXQoIi9Q
L0NsYXNzQi5qYXZhIik7CisJCQlJTWV0aG9kIG1ldGhvZCA9IHNlbGVjdE1ldGhvZCh1bml0LCAi
YWRkTGlzdGVuZXIiKTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLnNob3dSdWxlKCk7CisJCQlz
ZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJjaEVuZ2luZS5jcmVh
dGVXb3Jrc3BhY2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJCQlhc3NlcnRTZWFy
Y2hSZXN1bHRzKCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1NvbWV0aGluZygpIFthZGRMaXN0
ZW5lcigpXSBFWEFDVF9NQVRDSFxuIiArIAorCQkJCQkJCQkiQ2xhc3NDLmphdmEgdm9pZCBDbGFz
c0MuZG9Tb21ldGhpbmcoKSBbYWRkTGlzdGVuZXIoKV0gRVJBU1VSRV9NQVRDSCIpOworCQl9IGZp
bmFsbHkgeworCQkJZGVsZXRlUHJvamVjdCgiUCIpOworCQl9CisJfQorCXB1YmxpYyB2b2lkIHRl
c3RCdWczNzU5NzFmKCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCQl0cnkgeworCQkJY3JlYXRl
SmF2YVByb2plY3QoIlAiKTsKKwkJCWNyZWF0ZUZpbGUoIi9QL0ludGVyZmFjZUkuamF2YSIsCisJ
CQkJInB1YmxpYyBpbnRlcmZhY2UgSW50ZXJmYWNlSSB7XG4iKworCQkJCSIgcHVibGljIHZvaWQg
YWRkTGlzdGVuZXIoKTtcbiIrCisJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NB
LmphdmEiLAorCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NBIDxLLCBWLCBCPiBpbXBsZW1lbnRzIElu
dGVyZmFjZUl7XG4iKworCQkJCQkiIHB1YmxpYyB2b2lkIGFkZExpc3RlbmVyKCkge1xuIiArCisJ
CQkJCSJ9XG4iICsKKwkJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NCLmphdmEi
LAorCQkJCQkicHVibGljIGNsYXNzIENsYXNzQiBleHRlbmRzIENsYXNzQTxTdHJpbmcsIFN0cmlu
ZywgU3RyaW5nPntcbiIrCisJCQkJCQkiIHB1YmxpYyB2b2lkIGRvU29tZXRoaW5nKCkgeyIgKwor
CQkJCQkJIiAgIGFkZExpc3RlbmVyKCk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1cbiIp
OworCQkJd2FpdFVudGlsSW5kZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBlIHR5
cGUgPSBnZXRDb21waWxhdGlvblVuaXQoIi9QL0ludGVyZmFjZUkuamF2YSIpLmdldFR5cGUoIklu
dGVyZmFjZUkiKTsKKwkJCUlNZXRob2QgbWV0aG9kID0gdHlwZS5nZXRNZXRob2QoImFkZExpc3Rl
bmVyIiwgbmV3IFN0cmluZ1tde30pOworCQkJdGhpcy5yZXN1bHRDb2xsZWN0b3Iuc2hvd1J1bGUo
KTsKKwkJCXNlYXJjaChtZXRob2QsIFJFRkVSRU5DRVMsIEVSQVNVUkVfUlVMRSwgU2VhcmNoRW5n
aW5lLmNyZWF0ZVdvcmtzcGFjZVNjb3BlKCksIHRoaXMucmVzdWx0Q29sbGVjdG9yKTsKKwkJCWFz
c2VydFNlYXJjaFJlc3VsdHMoIkNsYXNzQi5qYXZhIHZvaWQgQ2xhc3NCLmRvU29tZXRoaW5nKCkg
W2FkZExpc3RlbmVyKCldIEVYQUNUX01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQ
cm9qZWN0KCJQIik7CisJCX0KKwl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzM3NTk3MWcoKSB0aHJv
d3MgQ29yZUV4Y2VwdGlvbiB7CisJCXRyeSB7CisJCQljcmVhdGVKYXZhUHJvamVjdCgiUCIpOwor
CQkJY3JlYXRlRmlsZSgiL1AvSW50ZXJmYWNlSS5qYXZhIiwKKwkJCQkicHVibGljIGludGVyZmFj
ZSBJbnRlcmZhY2VJIHtcbiIrCisJCQkJIiBwdWJsaWMgdm9pZCBhZGRMaXN0ZW5lcigpO1xuIisK
KwkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0EuamF2YSIsCisJCQkJInB1Ymxp
YyBjbGFzcyBDbGFzc0EgPEssIFYsIEI+IGltcGxlbWVudHMgSW50ZXJmYWNlSXtcbiIrCisJCQkJ
CSIgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKSB7XG4iICsKKwkJCQkJIn1cbiIgKworCQkJCQki
fVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0IuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xh
c3MgQ2xhc3NCPEssIFYsIEI+IGV4dGVuZHMgQ2xhc3NBPEssIFYsIEI+e1xuIisKKwkJCQkJCSIg
cHVibGljIHZvaWQgZG9Tb21ldGhpbmcoKSB7IiArCisJCQkJCQkiICAgYWRkTGlzdGVuZXIoKTtc
biIrCisJCQkJCQkifVxuIiArCisJCQkJCQkifVxuIik7CisJCQl3YWl0VW50aWxJbmRleGVzUmVh
ZHkoKTsKKwkJCS8vIHNlYXJjaAorCQkJSVR5cGUgdHlwZSA9IGdldENvbXBpbGF0aW9uVW5pdCgi
L1AvSW50ZXJmYWNlSS5qYXZhIikuZ2V0VHlwZSgiSW50ZXJmYWNlSSIpOworCQkJSU1ldGhvZCBt
ZXRob2QgPSB0eXBlLmdldE1ldGhvZCgiYWRkTGlzdGVuZXIiLCBuZXcgU3RyaW5nW117fSk7CisJ
CQl0aGlzLnJlc3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwgUkVG
RVJFTkNFUywgRVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2NvcGUo
KSwgdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xhc3NC
LmphdmEgdm9pZCBDbGFzc0IuZG9Tb21ldGhpbmcoKSBbYWRkTGlzdGVuZXIoKV0gRVhBQ1RfTUFU
Q0giKTsKKwkJfSBmaW5hbGx5IHsKKwkJCWRlbGV0ZVByb2plY3QoIlAiKTsKKwkJfQorCX0KKwlw
dWJsaWMgdm9pZCB0ZXN0QnVnMzc1OTcxaCgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKKwkJdHJ5
IHsKKwkJCWNyZWF0ZUphdmFQcm9qZWN0KCJQIik7CisJCQljcmVhdGVGaWxlKCIvUC9JbnRlcmZh
Y2VJLmphdmEiLAorCQkJCSJwdWJsaWMgaW50ZXJmYWNlIEludGVyZmFjZUk8SyxWPiB7XG4iKwor
CQkJCSIgcHVibGljIHZvaWQgYWRkTGlzdGVuZXIoKTtcbiIrCisJCQkJIn1cbiIpOworCQkJY3Jl
YXRlRmlsZSgiL1AvQ2xhc3NBLmphdmEiLAorCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NBIDxLLCBW
LCBCPiBpbXBsZW1lbnRzIEludGVyZmFjZUk8SywgVj57XG4iKworCQkJCQkiIHB1YmxpYyB2b2lk
IGFkZExpc3RlbmVyKCkge1xuIiArCisJCQkJCSJ9XG4iICsKKwkJCQkJIn1cbiIpOworCQkJY3Jl
YXRlRmlsZSgiL1AvQ2xhc3NCLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIENsYXNzQjxLLCBW
LCBCPiBleHRlbmRzIENsYXNzQTxLLCBWLCBCPntcbiIrCisJCQkJCQkiIHB1YmxpYyB2b2lkIGRv
U29tZXRoaW5nKEludGVyZmFjZUk8U3RyaW5nLCBTdHJpbmc+IGkpIHsiICsKKwkJCQkJCSIgICBp
LmFkZExpc3RlbmVyKCk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1cbiIpOworCQkJd2Fp
dFVudGlsSW5kZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBlIHR5cGUgPSBnZXRD
b21waWxhdGlvblVuaXQoIi9QL0NsYXNzQS5qYXZhIikuZ2V0VHlwZSgiQ2xhc3NBIik7CisJCQlJ
TWV0aG9kIG1ldGhvZCA9IHR5cGUuZ2V0TWV0aG9kKCJhZGRMaXN0ZW5lciIsIG5ldyBTdHJpbmdb
XXt9KTsKKwkJCXRoaXMucmVzdWx0Q29sbGVjdG9yLnNob3dSdWxlKCk7CisJCQlzZWFyY2gobWV0
aG9kLCBSRUZFUkVOQ0VTLCBFUkFTVVJFX1JVTEUsIFNlYXJjaEVuZ2luZS5jcmVhdGVXb3Jrc3Bh
Y2VTY29wZSgpLCB0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisJCQlhc3NlcnRTZWFyY2hSZXN1bHRz
KCJDbGFzc0IuamF2YSB2b2lkIENsYXNzQi5kb1NvbWV0aGluZyhJbnRlcmZhY2VJPFN0cmluZyxT
dHJpbmc+KSBbYWRkTGlzdGVuZXIoKV0gRVhBQ1RfTUFUQ0giKTsKKwkJfSBmaW5hbGx5IHsKKwkJ
CWRlbGV0ZVByb2plY3QoIlAiKTsKKwkJfQorCX0KKwlwdWJsaWMgdm9pZCB0ZXN0QnVnMzc1OTcx
aSgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKKwkJdHJ5IHsKKwkJCWNyZWF0ZUphdmFQcm9qZWN0
KCJQIik7CisJCQljcmVhdGVGaWxlKCIvUC9JbnRlcmZhY2VJLmphdmEiLAorCQkJCSJwdWJsaWMg
aW50ZXJmYWNlIEludGVyZmFjZUk8SyxWPiB7XG4iKworCQkJCSIgcHVibGljIHZvaWQgYWRkTGlz
dGVuZXIoSyBrKTtcbiIrCisJCQkJIn1cbiIpOworCQkJY3JlYXRlRmlsZSgiL1AvQ2xhc3NBLmph
dmEiLAorCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NBIDxLLCBWLCBCPiBpbXBsZW1lbnRzIEludGVy
ZmFjZUk8SywgVj57XG4iKworCQkJCQkicHVibGljIHZvaWQgYWRkTGlzdGVuZXIoSyBrKSB7XG4i
ICsKKwkJCQkJIn1cbiIgKworCQkJCQkifVxuIik7CisJCQljcmVhdGVGaWxlKCIvUC9DbGFzc0Iu
amF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgQ2xhc3NCPEssIFYsIEI+IGV4dGVuZHMgQ2xhc3NB
PEssIFYsIEI+e1xuIisKKwkJCQkJCSIgcHVibGljIHZvaWQgZG9Tb21ldGhpbmcoSyBrKSB7IiAr
CisJCQkJCQkiICAgYWRkTGlzdGVuZXIoayk7XG4iKworCQkJCQkJIn1cbiIgKworCQkJCQkJIn1c
biIpOworCQkJd2FpdFVudGlsSW5kZXhlc1JlYWR5KCk7CisJCQkvLyBzZWFyY2gKKwkJCUlUeXBl
IHR5cGUgPSBnZXRDb21waWxhdGlvblVuaXQoIi9QL0ludGVyZmFjZUkuamF2YSIpLmdldFR5cGUo
IkludGVyZmFjZUkiKTsKKwkJCUlNZXRob2QgbWV0aG9kID0gdHlwZS5nZXRNZXRob2RzKClbMF07
CisJCQl0aGlzLnJlc3VsdENvbGxlY3Rvci5zaG93UnVsZSgpOworCQkJc2VhcmNoKG1ldGhvZCwg
UkVGRVJFTkNFUywgRVJBU1VSRV9SVUxFLCBTZWFyY2hFbmdpbmUuY3JlYXRlV29ya3NwYWNlU2Nv
cGUoKSwgdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCQkJYXNzZXJ0U2VhcmNoUmVzdWx0cygiQ2xh
c3NCLmphdmEgdm9pZCBDbGFzc0IuZG9Tb21ldGhpbmcoSykgW2FkZExpc3RlbmVyKGspXSBFUkFT
VVJFX01BVENIIik7CisJCX0gZmluYWxseSB7CisJCQlkZWxldGVQcm9qZWN0KCJQIik7CisJCX0K
Kwl9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01ldGhvZExvY2F0b3IuamF2YSBi
L29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9zZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCmluZGV4IDMwMWNhNDEuLmNkN2Nm
ZGEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCisrKyBi
L29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9zZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCkBAIC02Miw2ICs2MiwyOCBAQAog
CXJldHVybiB0aGlzLnBhdHRlcm4uZmluZUdyYWluOwogfQogCitwcml2YXRlIFJlZmVyZW5jZUJp
bmRpbmcgZ2V0TWF0Y2hpbmdTdXBlcihSZWZlcmVuY2VCaW5kaW5nIGJpbmRpbmcpIHsKKwlpZiAo
YmluZGluZyA9PSBudWxsKSByZXR1cm4gbnVsbDsKKwlSZWZlcmVuY2VCaW5kaW5nIHN1cGVyQmlu
ZGluZyA9IGJpbmRpbmcuc3VwZXJjbGFzcygpOworCWludCBsZXZlbCA9IHJlc29sdmVMZXZlbEZv
clR5cGUodGhpcy5wYXR0ZXJuLmRlY2xhcmluZ1NpbXBsZU5hbWUsIHRoaXMucGF0dGVybi5kZWNs
YXJpbmdRdWFsaWZpY2F0aW9uLCBzdXBlckJpbmRpbmcpOworCWlmIChsZXZlbCAhPSBJTVBPU1NJ
QkxFX01BVENIKSByZXR1cm4gc3VwZXJCaW5kaW5nOworCS8vIG1hdGNoZXMgc3VwZXJjbGFzcwor
CWlmICghYmluZGluZy5pc0ludGVyZmFjZSgpICYmICFDaGFyT3BlcmF0aW9uLmVxdWFscyhiaW5k
aW5nLmNvbXBvdW5kTmFtZSwgVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfT0JKRUNUKSkgeworCQlz
dXBlckJpbmRpbmcgPSBnZXRNYXRjaGluZ1N1cGVyKHN1cGVyQmluZGluZyk7CisJCWlmIChzdXBl
ckJpbmRpbmcgIT0gbnVsbCkgcmV0dXJuIHN1cGVyQmluZGluZzsKKwl9CisJLy8gbWF0Y2hlcyBp
bnRlcmZhY2VzCisJUmVmZXJlbmNlQmluZGluZ1tdIGludGVyZmFjZXMgPSBiaW5kaW5nLnN1cGVy
SW50ZXJmYWNlcygpOworCWlmIChpbnRlcmZhY2VzID09IG51bGwpIHJldHVybiBudWxsOworCWZv
ciAoaW50IGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykgeworCQlsZXZlbCA9IHJl
c29sdmVMZXZlbEZvclR5cGUodGhpcy5wYXR0ZXJuLmRlY2xhcmluZ1NpbXBsZU5hbWUsIHRoaXMu
cGF0dGVybi5kZWNsYXJpbmdRdWFsaWZpY2F0aW9uLCBpbnRlcmZhY2VzW2ldKTsKKwkJaWYgKGxl
dmVsICE9IElNUE9TU0lCTEVfTUFUQ0gpIHJldHVybiBpbnRlcmZhY2VzW2ldOworCQlzdXBlckJp
bmRpbmcgPSBnZXRNYXRjaGluZ1N1cGVyKGludGVyZmFjZXNbaV0pOworCQlpZiAoc3VwZXJCaW5k
aW5nICE9IG51bGwpIHJldHVybiBzdXBlckJpbmRpbmc7CisJfQorCXJldHVybiBudWxsOworfQor
CiBwcml2YXRlIE1ldGhvZEJpbmRpbmcgZ2V0TWV0aG9kQmluZGluZyhSZWZlcmVuY2VCaW5kaW5n
IHR5cGUsIGNoYXJbXSBtZXRob2ROYW1lLCBUeXBlQmluZGluZ1tdIGFyZ3VtZW50VHlwZXMpIHsK
IAlNZXRob2RCaW5kaW5nW10gbWV0aG9kcyA9IHR5cGUuZ2V0TWV0aG9kcyhtZXRob2ROYW1lKTsK
IAlNZXRob2RCaW5kaW5nIG1ldGhvZCA9IG51bGw7CkBAIC00MDAsNyArNDIyLDcgQEAKIAkJCQkJ
fQogCQkJCX0KIAkJCX0KLQkJCW1hdGNoUmVwb3J0UmVmZXJlbmNlKChNZXNzYWdlU2VuZClyZWZl
cmVuY2UsIGxvY2F0b3IsICgoTWVzc2FnZVNlbmQpcmVmZXJlbmNlKS5iaW5kaW5nKTsKKwkJCW1h
dGNoUmVwb3J0UmVmZXJlbmNlKChNZXNzYWdlU2VuZClyZWZlcmVuY2UsIGxvY2F0b3IsIGFjY3Vy
YWN5LCAoKE1lc3NhZ2VTZW5kKXJlZmVyZW5jZSkuYmluZGluZyk7CiAJCX0gZWxzZSB7CiAJCQlp
ZiAocmVmZXJlbmNlIGluc3RhbmNlb2YgU2luZ2xlTWVtYmVyQW5ub3RhdGlvbikgewogCQkJCXJl
ZmVyZW5jZSA9ICgoU2luZ2xlTWVtYmVyQW5ub3RhdGlvbilyZWZlcmVuY2UpLm1lbWJlclZhbHVl
UGFpcnMoKVswXTsKQEAgLTQxNCw3ICs0MzYsNyBAQAogCQl9CiAJfQogfQotdm9pZCBtYXRjaFJl
cG9ydFJlZmVyZW5jZShNZXNzYWdlU2VuZCBtZXNzYWdlU2VuZCwgTWF0Y2hMb2NhdG9yIGxvY2F0
b3IsIE1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZykgdGhyb3dzIENvcmVFeGNlcHRpb24gewor
dm9pZCBtYXRjaFJlcG9ydFJlZmVyZW5jZShNZXNzYWdlU2VuZCBtZXNzYWdlU2VuZCwgTWF0Y2hM
b2NhdG9yIGxvY2F0b3IsIGludCBhY2N1cmFjeSwgTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5n
KSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CiAKIAkvLyBMb29rIGlmIHRoZXJlJ3MgYSBuZWVkIHRv
IHNwZWNpYWwgcmVwb3J0IGZvciBwYXJhbWV0ZXJpemVkIHR5cGUKIAlib29sZWFuIGlzUGFyYW1l
dGVyaXplZCA9IGZhbHNlOwpAQCAtNDU1LDcgKzQ3NywxOCBAQAogCQlpZiAobWV0aG9kQmluZGlu
Zy5kZWNsYXJpbmdDbGFzcy5pc1BhcmFtZXRlcml6ZWRUeXBlKCkgfHwgbWV0aG9kQmluZGluZy5k
ZWNsYXJpbmdDbGFzcy5pc1Jhd1R5cGUoKSkgewogCQkJUGFyYW1ldGVyaXplZFR5cGVCaW5kaW5n
IHBhcmFtZXRlcml6ZWRCaW5kaW5nID0gKFBhcmFtZXRlcml6ZWRUeXBlQmluZGluZyltZXRob2RC
aW5kaW5nLmRlY2xhcmluZ0NsYXNzOwogCQkJaWYgKCFwYXJhbWV0ZXJpemVkQmluZGluZy5pc1Bh
cmFtZXRlcml6ZWRXaXRoT3duVmFyaWFibGVzKCkpIHsKLQkJCQl1cGRhdGVNYXRjaChwYXJhbWV0
ZXJpemVkQmluZGluZywgdGhpcy5wYXR0ZXJuLmdldFR5cGVBcmd1bWVudHMoKSwgdGhpcy5wYXR0
ZXJuLmhhc1R5cGVQYXJhbWV0ZXJzKCksIDAsIGxvY2F0b3IpOworCQkJCWlmICgoYWNjdXJhY3kg
JiAoU1VCX0lOVk9DQVRJT05fRkxBVk9SIHwgT1ZFUlJJRERFTl9NRVRIT0RfRkxBVk9SKSkgIT0g
MCkgeworCQkJCQkvLyB0eXBlIHBhcmFtZXRlcnMgbmVlZCB0byBiZSBjb21wYXJlZCB3aXRoIHRo
ZSBjbGFzcyB0aGF0IGlzIHJlYWxseSBiZWluZyBzZWFyY2hlZAorCQkJCQkvLyBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvMzc1OTcxCisJCQkJCVJlZmVyZW5jZUJpbmRpbmcgcmVmQmluZGluZyA9
IGdldE1hdGNoaW5nU3VwZXIoKChSZWZlcmVuY2VCaW5kaW5nKW1lc3NhZ2VTZW5kLmFjdHVhbFJl
Y2VpdmVyVHlwZSkpOworCQkJCQlpZiAocmVmQmluZGluZyBpbnN0YW5jZW9mIFBhcmFtZXRlcml6
ZWRUeXBlQmluZGluZykgeworCQkJCQkJcGFyYW1ldGVyaXplZEJpbmRpbmcgPSAoKFBhcmFtZXRl
cml6ZWRUeXBlQmluZGluZylyZWZCaW5kaW5nKTsKKwkJCQkJfQorCQkJCX0KKwkJCQlpZiAoKGFj
Y3VyYWN5ICYgU1VQRVJfSU5WT0NBVElPTl9GTEFWT1IpID09IDApIHsKKwkJCQkJLy8gbm90IGFi
bGUgdG8gZ2V0IHRoZSB0eXBlIHBhcmFtZXRlcnMgaWYgdGhlIG1hdGNoIGlzIHN1cGVyCisJCQkJ
CXVwZGF0ZU1hdGNoKHBhcmFtZXRlcml6ZWRCaW5kaW5nLCB0aGlzLnBhdHRlcm4uZ2V0VHlwZUFy
Z3VtZW50cygpLCB0aGlzLnBhdHRlcm4uaGFzVHlwZVBhcmFtZXRlcnMoKSwgMCwgbG9jYXRvcik7
CisJCQkJfQogCQkJfQogCQl9IGVsc2UgaWYgKHRoaXMucGF0dGVybi5oYXNUeXBlQXJndW1lbnRz
KCkpIHsKIAkJCXRoaXMubWF0Y2guc2V0UnVsZShTZWFyY2hQYXR0ZXJuLlJfRVJBU1VSRV9NQVRD
SCk7
</data>

          </attachment>
      

    </bug>

</bugzilla>