<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>400919</bug_id>
          
          <creation_ts>2013-02-15 08:50:00 -0500</creation_ts>
          <short_desc>[1.8][search] Search engine fails to annotation matches in type variable bounds.</short_desc>
          <delta_ts>2013-05-08 07:29:48 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>400899</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="57000"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2217346</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-02-15 08:50:19 -0500</bug_when>
    <thetext>BETA_JAVA8:

Searching for references to Existing in the following program brings up
only one - it should show two:

// ---
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;
import java.util.Map;
import java.util.List;
import java.util.Collection;

interface I {
	I doit();
}

class X {
	class Folder&lt;F extends @Existing File&gt; {  }
	Collection&lt;? super @Existing File&gt; s;
}

@Target(ElementType.TYPE_USE)
@interface Existing {
	
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2217361</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-02-15 09:04:30 -0500</bug_when>
    <thetext>Also in type variables themselves:

class X&lt;@Immutable T&gt; {}

@Target(ElementType.TYPE_USE)
@interface Immutable {
	
}

We don&apos;t find the Immutable in @Immutable T</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2234728</commentid>
    <comment_count>2</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-03-21 04:44:33 -0400</bug_when>
    <thetext>Same issue, one level deeper example:

import java.lang.annotation.*;
/**
 * @param &lt;T&gt; 
 * @param &lt;Q&gt;  
 */
public class X &lt;@Marker T extends @Marker Y&lt;@Marker ?&gt;, @Marker Q extends @Marker Object&gt; {
}
/**
 * @param &lt;T&gt;  
 */
class Y&lt;T&gt; {}
@Target(ElementType.TYPE_USE)
@interface Marker {}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2251919</commentid>
    <comment_count>3</comment_count>
      <attachid>230448</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-05-03 05:24:44 -0400</bug_when>
    <thetext>Created attachment 230448
Proposed Patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2252498</commentid>
    <comment_count>4</comment_count>
      <attachid>230489</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-05-06 01:41:24 -0400</bug_when>
    <thetext>Created attachment 230489
Proposed Patch

Attached a wrong patch earlier</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2253095</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-05-07 01:54:58 -0400</bug_when>
    <thetext>Review comments: 

(1) Could you add a variant of the test that has annotations on type variables
of a generic method ?

(2) Likewise, a test that shows the results when searching for TYPE as opposed
to ANNOTATION_TYPE would be useful.

(3) I would also add some type annotations to the ? in the wildcard

(4) reportMatching: please pull the array length computation outside the loop into
the initializer.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2253860</commentid>
    <comment_count>6</comment_count>
      <attachid>230633</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-05-08 04:08:23 -0400</bug_when>
    <thetext>Created attachment 230633
Proposed Patch

- Review comments addressed.
- addition of test cases into suite (correction)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2253956</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-05-08 07:29:48 -0400</bug_when>
    <thetext>The better practice is to declare the length variable right within the for loop.
Adjusted the patch accordingly and released the test and fix here:
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=b4a98585238f00ec169e6c6eb5998e9d404a7925

Thanks Manoj.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>230448</attachid>
            <date>2013-05-03 05:24:00 -0400</date>
            <delta_ts>2013-05-06 01:41:24 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-406469--18dom-ast-ASTRewrite-for-Package.patch</filename>
            <type>text/plain</type>
            <size>9850</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvQVNUUmV3cml0aW5nVHlwZUFu
bm90YXRpb25zVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmluZy9BU1RSZXdyaXRp
bmdUeXBlQW5ub3RhdGlvbnNUZXN0LmphdmEKaW5kZXggYmIxYWI1OC4uOWIzYmVjMCAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmluZy9BU1RSZXdyaXRpbmdUeXBlQW5ub3RhdGlv
bnNUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmluZy9BU1RSZXdyaXRpbmdU
eXBlQW5ub3RhdGlvbnNUZXN0LmphdmEKQEAgLTg2MCw0ICs4NjAsMTMzIEBACiAJCWFzc2VydEVx
dWFsU3RyaW5nKHByZXZpZXcsIGJ1Zi50b1N0cmluZygpKTsKIAl9CiAKKwkvKioKKwkgKiBBU1RS
ZXdyaXRlclRlc3RzIGZvciBQYWNrYWdlUXVhbGlmaWVkVHlwZQorCSAqIEB0aHJvd3MgRXhjZXB0
aW9uCisJICogCisJICogaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dp
P2lkPTQwNjQ2OQorCSAqLworCXB1YmxpYyB2b2lkIHRlc3RQYWNrYWdlUXVhbGlmaWVkVHlwZUFu
bm90YXRpb25zKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCWlmICh0aGlzLmFwaUxldmVsIDwgQVNU
LkpMUzgpIHJldHVybjsKKwkJSVBhY2thZ2VGcmFnbWVudCBwYWNrMT0gdGhpcy5zb3VyY2VGb2xk
ZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJ0ZXN0NDA2NDY5LmJ1ZyIsIGZhbHNlLCBudWxsKTsK
KwkJU3RyaW5nIGNvbnRlbnRzID0gInBhY2thZ2UgdGVzdDQwNjQ2OS5idWc7XG4iICsKKwkJCQki
aW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLio7XG4iICsKKwkJCQkicHVibGljIGNsYXNzIFgg
e1xuIiArCisJCQkJIglAVGFyZ2V0KEVsZW1lbnRUeXBlLlRZUEVfVVNFKVxuIiArCisJCQkJIglA
UmV0ZW50aW9uKFJldGVudGlvblBvbGljeS5SVU5USU1FKVxuIiArCisJCQkJIglARG9jdW1lbnRl
ZFxuIiArCisJCQkJIglzdGF0aWMgQGludGVyZmFjZSBOb25OdWxsIHsgfVxuIiArCisJCQkJIglj
bGFzcyBJbm5lciB7fVxuIiArCisJCQkJIglcbiIgKworCQkJCSIJLyoqXG4iICsKKwkJCQkiIAkq
IEBwYXJhbSBhcmcgIFxuIiArCisJCQkJIiAJKi9cbiIgKworCQkJCSIJdGVzdDQwNjQ2OS5idWcu
QE5vbk51bGwgSU9FeGNlcHRpb24gZm9vKFxuIiArCisJCQkJIgkJCXRlc3Q0MDY0NjkuYnVnLkBO
b25OdWxsIEZpbGVOb3RGb3VuZEV4Y2VwdGlvbiBhcmcpXG4iICsKKwkJCQkiCQl0aHJvd3MgdGVz
dDQwNjQ2OS5idWcuQE5vbk51bGwgRU9GRXhjZXB0aW9uIHtcbiIgKworCQkJCSIJCXRyeSB7XG4i
ICsKKwkJCQkiCQkJdGVzdDQwNjQ2OS5idWcuQE5vbk51bGwgSU9FcnJvciBlID0gbmV3IHRlc3Q0
MDY0NjkuYnVnLklPRXJyb3IoKTtcbiIgKworCQkJCSIJCQl0aHJvdyBlO1xuIiArCisJCQkJIgkJ
fSBjYXRjaCAodGVzdDQwNjQ2OS5idWcuQE5vbk51bGwgSU9FcnJvciBlKSB7XG4iICsKKwkJCQki
CQl9XG4iICsKKwkJCQkiCQlyZXR1cm4gbnVsbDtcbiIgKworCQkJCSIJfSBcbiIgKworCQkJCSIJ
dGVzdDQwNjQ2OS5idWcuQE5vbk51bGwgWC5ATm9uTnVsbCBJbm5lciBmSW5uZXI7XG4iICsKKwkJ
CQkifSBcbiIgKworCQkJCSJAamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KGphdmEubGFuZy5h
bm5vdGF0aW9uLkVsZW1lbnRUeXBlLlRZUEVfVVNFKSBAaW50ZXJmYWNlIE1hcmtlciB7fSBcbiIg
KworCQkJCSJAamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KGphdmEubGFuZy5hbm5vdGF0aW9u
LkVsZW1lbnRUeXBlLlRZUEVfVVNFKSBAaW50ZXJmYWNlIEEge30gXG4iICsKKwkJCQkiQGphdmEu
bGFuZy5hbm5vdGF0aW9uLlRhcmdldChqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS5U
WVBFX1VTRSkgQGludGVyZmFjZSBCIHt9IFxuIiArCisJCQkJIlxuIiArCisJCQkJImNsYXNzIE91
dGVyIHtcbiIgKworCQkJCSIJcHVibGljIGNsYXNzIElubmVyIHtcbiIgKworCQkJCSIJCXB1Ymxp
YyBjbGFzcyBEZWVwZXIge31cbiIgKworCQkJCSIJfVxuIiArCisJCQkJIn1cbiIgKworCQkJCSJj
bGFzcyBJT0V4Y2VwdGlvbiBleHRlbmRzIEV4Y2VwdGlvbiB7cHJpdmF0ZSBzdGF0aWMgZmluYWwg
bG9uZyBzZXJpYWxWZXJzaW9uVUlEPTEwMDAxTDt9XG4iICsKKwkJCQkiY2xhc3MgRmlsZU5vdEZv
dW5kRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9ue3ByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcg
c2VyaWFsVmVyc2lvblVJRD0xMDAwMkw7fVxuIiArCisJCQkJImNsYXNzIEVPRkV4Y2VwdGlvbiBl
eHRlbmRzIEV4Y2VwdGlvbntwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25V
SUQ9MTAwMDNMO31cbiIgKworCQkJCSJjbGFzcyBJT0Vycm9yIGV4dGVuZHMgRXhjZXB0aW9ue3By
aXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRD0xMDAwNEw7fVxuIjsKKwkJ
U3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoY29udGVudHMpOwkJCQorCQlJQ29t
cGlsYXRpb25Vbml0IGN1PSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIlguamF2YSIsIGJ1
Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisJCUNvbXBpbGF0aW9uVW5pdCBhc3RSb290PSBj
cmVhdGVBU1QoY3UsIC8qIHJlc29sdmUgKi8gdHJ1ZSwgZmFsc2UpOworCQlBU1RSZXdyaXRlIHJl
d3JpdGU9IEFTVFJld3JpdGUuY3JlYXRlKGFzdFJvb3QuZ2V0QVNUKCkpOworCQlBU1QgYXN0PSBh
c3RSb290LmdldEFTVCgpOworCQlUeXBlRGVjbGFyYXRpb24gdHlwZURlY2xhcmF0aW9uPSBmaW5k
VHlwZURlY2xhcmF0aW9uKGFzdFJvb3QsICJYIik7CisJCU1ldGhvZERlY2xhcmF0aW9uIG1ldGhv
ZERlY2xhcmF0aW9uPSBmaW5kTWV0aG9kRGVjbGFyYXRpb24odHlwZURlY2xhcmF0aW9uLCAiZm9v
Iik7CisJCXsgICAvL3JlcGxhY2UgYW4gYW5ub3RhdGlvbi4KKwkJCVBhY2thZ2VRdWFsaWZpZWRU
eXBlIHBhY2thZ2VRdWFsaWZpZWRUeXBlID0gKFBhY2thZ2VRdWFsaWZpZWRUeXBlKSBtZXRob2RE
ZWNsYXJhdGlvbi5nZXRSZXR1cm5UeXBlMigpOworCQkJTWFya2VyQW5ub3RhdGlvbiBtYXJrZXJB
bm5vdGF0aW9uPSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJbWFya2VyQW5ub3RhdGlv
bi5zZXRUeXBlTmFtZShhc3QubmV3U2ltcGxlTmFtZSgiTWFya2VyIikpOworCQkJcmV3cml0ZS5y
ZXBsYWNlKChBU1ROb2RlKSBwYWNrYWdlUXVhbGlmaWVkVHlwZS5hbm5vdGF0aW9ucygpLmdldCgw
KSwgbWFya2VyQW5ub3RhdGlvbiwgbnVsbCk7CisKKwkJCS8vIHJlbW92ZSBhbiBhbm5vdGF0aW9u
CisJCQlTaW5nbGVWYXJpYWJsZURlY2xhcmF0aW9uIHBhcmFtID0gKFNpbmdsZVZhcmlhYmxlRGVj
bGFyYXRpb24pIG1ldGhvZERlY2xhcmF0aW9uLnBhcmFtZXRlcnMoKS5nZXQoMCk7CisJCQlwYWNr
YWdlUXVhbGlmaWVkVHlwZSA9IChQYWNrYWdlUXVhbGlmaWVkVHlwZSkgcGFyYW0uZ2V0VHlwZSgp
OworCQkJcmV3cml0ZS5yZW1vdmUoKEFTVE5vZGUpIHBhY2thZ2VRdWFsaWZpZWRUeXBlLmFubm90
YXRpb25zKCkuZ2V0KDApLCBudWxsKTsKKwkJCQorCQkJLy8gaW5zZXJ0IGFuIGFubm90YXRpb24g
YWZ0ZXIgYW4gZXhpc3RpbmcgYW5ub3RhdGlvbgorCQkJcGFja2FnZVF1YWxpZmllZFR5cGUgPSAo
UGFja2FnZVF1YWxpZmllZFR5cGUpIG1ldGhvZERlY2xhcmF0aW9uLnRocm93bkV4Y2VwdGlvblR5
cGVzKCkuZ2V0KDApOworCQkJbWFya2VyQW5ub3RhdGlvbj0gYXN0Lm5ld01hcmtlckFubm90YXRp
b24oKTsKKwkJCW1hcmtlckFubm90YXRpb24uc2V0VHlwZU5hbWUoYXN0Lm5ld1NpbXBsZU5hbWUo
Ik1hcmtlciIpKTsKKwkJCXJld3JpdGUuZ2V0TGlzdFJld3JpdGUocGFja2FnZVF1YWxpZmllZFR5
cGUsIFBhY2thZ2VRdWFsaWZpZWRUeXBlLkFOTk9UQVRJT05TX1BST1BFUlRZKS5pbnNlcnRMYXN0
KG1hcmtlckFubm90YXRpb24sIG51bGwpOworCQkJCisJCQkvKiBpbnNlcnQgYW4gYW5ub3RhdGlv
biBpbiBhIHR5cGUgbm90IGNvbnZlcnRlZCBhcyBhIFBhY2thZ2VRdWFsaWZpZWRUeXBlLiBUaGlz
IHdvdWxkIGludm9sdmUKKwkJCSAqICBjcmVhdGlvbiBvZiBhIFBhY2thZ2VRdWFsaWZpZWRUeXBl
IGZyb20gZmllbGRzIG9mIHRoZSBleGlzdGluZyB0eXBlLgorCQkJICovCisJCQlUcnlTdGF0ZW1l
bnQgdHJ5U3RhdGVtZW50ID0gKFRyeVN0YXRlbWVudCkgbWV0aG9kRGVjbGFyYXRpb24uZ2V0Qm9k
eSgpLnN0YXRlbWVudHMoKS5nZXQoMCk7CisJCQlWYXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50
IHZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQgPSAoVmFyaWFibGVEZWNsYXJhdGlvblN0YXRl
bWVudCkgdHJ5U3RhdGVtZW50LmdldEJvZHkoKS5zdGF0ZW1lbnRzKCkuZ2V0KDApOworCQkJVmFy
aWFibGVEZWNsYXJhdGlvbkZyYWdtZW50IHZhcmlhYmxlRGVjbGFyYXRpb25GcmFnbWVudCA9IChW
YXJpYWJsZURlY2xhcmF0aW9uRnJhZ21lbnQpIHZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQu
ZnJhZ21lbnRzKCkuZ2V0KDApOworCQkJQ2xhc3NJbnN0YW5jZUNyZWF0aW9uIGNsYXNzSW5zdGFu
Y2VDcmVhdGlvbiA9IChDbGFzc0luc3RhbmNlQ3JlYXRpb24pIHZhcmlhYmxlRGVjbGFyYXRpb25G
cmFnbWVudC5nZXRJbml0aWFsaXplcigpOworCQkJU2ltcGxlVHlwZSBzaW1wbGVUeXBlID0gKFNp
bXBsZVR5cGUpIGNsYXNzSW5zdGFuY2VDcmVhdGlvbi5nZXRUeXBlKCk7CisJCQlRdWFsaWZpZWRO
YW1lIHF1YWxpZmllZE5hbWUgPSAoUXVhbGlmaWVkTmFtZSkgc2ltcGxlVHlwZS5nZXROYW1lKCk7
CisJCQlTaW1wbGVOYW1lIHNpbXBsZU5hbWUgPSBhc3QubmV3U2ltcGxlTmFtZShxdWFsaWZpZWRO
YW1lLmdldE5hbWUoKS5nZXRJZGVudGlmaWVyKCkpOworCQkJcXVhbGlmaWVkTmFtZSA9IChRdWFs
aWZpZWROYW1lKSBxdWFsaWZpZWROYW1lLmdldFF1YWxpZmllcigpOworCQkJcXVhbGlmaWVkTmFt
ZSA9IGFzdC5uZXdRdWFsaWZpZWROYW1lKGFzdC5uZXdOYW1lKHF1YWxpZmllZE5hbWUuZ2V0UXVh
bGlmaWVyKCkudG9TdHJpbmcoKSksIGFzdC5uZXdTaW1wbGVOYW1lKHF1YWxpZmllZE5hbWUuZ2V0
TmFtZSgpLnRvU3RyaW5nKCkpKTsKKwkJCXBhY2thZ2VRdWFsaWZpZWRUeXBlID0gYXN0Lm5ld1Bh
Y2thZ2VRdWFsaWZpZWRUeXBlKHF1YWxpZmllZE5hbWUsIHNpbXBsZU5hbWUpOworCQkJbWFya2Vy
QW5ub3RhdGlvbj0gYXN0Lm5ld01hcmtlckFubm90YXRpb24oKTsKKwkJCW1hcmtlckFubm90YXRp
b24uc2V0VHlwZU5hbWUoYXN0Lm5ld1NpbXBsZU5hbWUoIk1hcmtlciIpKTsKKwkJCXJld3JpdGUu
Z2V0TGlzdFJld3JpdGUocGFja2FnZVF1YWxpZmllZFR5cGUsIFBhY2thZ2VRdWFsaWZpZWRUeXBl
LkFOTk9UQVRJT05TX1BST1BFUlRZKS5pbnNlcnRMYXN0KG1hcmtlckFubm90YXRpb24sIG51bGwp
OworCQkJcmV3cml0ZS5yZXBsYWNlKGNsYXNzSW5zdGFuY2VDcmVhdGlvbi5nZXRUeXBlKCksIHBh
Y2thZ2VRdWFsaWZpZWRUeXBlLCBudWxsKTsKKwkJfQorCQlTdHJpbmcgcHJldmlldz0gZXZhbHVh
dGVSZXdyaXRlKGN1LCByZXdyaXRlKTsKKwkJU3RyaW5nIGNvbnRlbnRzbW9kaWZpZWQgPSAicGFj
a2FnZSB0ZXN0NDA2NDY5LmJ1ZztcbiIgKworCQkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRp
b24uKjtcbiIgKworCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCQkiCUBUYXJnZXQoRWxl
bWVudFR5cGUuVFlQRV9VU0UpXG4iICsKKwkJCQkiCUBSZXRlbnRpb24oUmV0ZW50aW9uUG9saWN5
LlJVTlRJTUUpXG4iICsKKwkJCQkiCUBEb2N1bWVudGVkXG4iICsKKwkJCQkiCXN0YXRpYyBAaW50
ZXJmYWNlIE5vbk51bGwgeyB9XG4iICsKKwkJCQkiCWNsYXNzIElubmVyIHt9XG4iICsKKwkJCQki
CVxuIiArCisJCQkJIgkvKipcbiIgKworCQkJCSIgCSogQHBhcmFtIGFyZyAgXG4iICsKKwkJCQki
IAkqL1xuIiArCisJCQkJIgl0ZXN0NDA2NDY5LmJ1Zy5ATWFya2VyIElPRXhjZXB0aW9uIGZvbyhc
biIgKworCQkJCSIJCQlGaWxlTm90Rm91bmRFeGNlcHRpb24gYXJnKVxuIiArCisJCQkJIgkJdGhy
b3dzIHRlc3Q0MDY0NjkuYnVnLkBOb25OdWxsIEBNYXJrZXIgRU9GRXhjZXB0aW9uIHtcbiIgKwor
CQkJCSIJCXRyeSB7XG4iICsKKwkJCQkiCQkJdGVzdDQwNjQ2OS5idWcuQE5vbk51bGwgSU9FcnJv
ciBlID0gbmV3IHRlc3Q0MDY0NjkuYnVnLkBNYXJrZXIgSU9FcnJvcigpO1xuIiArCisJCQkJIgkJ
CXRocm93IGU7XG4iICsKKwkJCQkiCQl9IGNhdGNoICh0ZXN0NDA2NDY5LmJ1Zy5ATm9uTnVsbCBJ
T0Vycm9yIGUpIHtcbiIgKworCQkJCSIJCX1cbiIgKworCQkJCSIJCXJldHVybiBudWxsO1xuIiAr
CisJCQkJIgl9IFxuIiArCisJCQkJIgl0ZXN0NDA2NDY5LmJ1Zy5ATm9uTnVsbCBYLkBOb25OdWxs
IElubmVyIGZJbm5lcjtcbiIgKworCQkJCSJ9IFxuIiArCisJCQkJIkBqYXZhLmxhbmcuYW5ub3Rh
dGlvbi5UYXJnZXQoamF2YS5sYW5nLmFubm90YXRpb24uRWxlbWVudFR5cGUuVFlQRV9VU0UpIEBp
bnRlcmZhY2UgTWFya2VyIHt9IFxuIiArCisJCQkJIkBqYXZhLmxhbmcuYW5ub3RhdGlvbi5UYXJn
ZXQoamF2YS5sYW5nLmFubm90YXRpb24uRWxlbWVudFR5cGUuVFlQRV9VU0UpIEBpbnRlcmZhY2Ug
QSB7fSBcbiIgKworCQkJCSJAamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KGphdmEubGFuZy5h
bm5vdGF0aW9uLkVsZW1lbnRUeXBlLlRZUEVfVVNFKSBAaW50ZXJmYWNlIEIge30gXG4iICsKKwkJ
CQkiXG4iICsKKwkJCQkiY2xhc3MgT3V0ZXIge1xuIiArCisJCQkJIglwdWJsaWMgY2xhc3MgSW5u
ZXIge1xuIiArCisJCQkJIgkJcHVibGljIGNsYXNzIERlZXBlciB7fVxuIiArCisJCQkJIgl9XG4i
ICsKKwkJCQkifVxuIiArCisJCQkJImNsYXNzIElPRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9u
IHtwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQ9MTAwMDFMO31cbiIg
KworCQkJCSJjbGFzcyBGaWxlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBFeGNlcHRpb257cHJp
dmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEPTEwMDAyTDt9XG4iICsKKwkJ
CQkiY2xhc3MgRU9GRXhjZXB0aW9uIGV4dGVuZHMgRXhjZXB0aW9ue3ByaXZhdGUgc3RhdGljIGZp
bmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRD0xMDAwM0w7fVxuIiArCisJCQkJImNsYXNzIElPRXJy
b3IgZXh0ZW5kcyBFeGNlcHRpb257cHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJz
aW9uVUlEPTEwMDA0TDt9XG4iOworCQlhc3NlcnRFcXVhbFN0cmluZyhwcmV2aWV3LCBjb250ZW50
c21vZGlmaWVkKTsKKwl9CisKIH0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlCmRpZmYgLS1n
aXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmUvZG9tL3Jld3JpdGUvQVNUUmV3cml0ZUFuYWx5emVyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvQVNUUmV3
cml0ZUFuYWx5emVyLmphdmEKaW5kZXggN2FkZWRkMi4uZmRkNDMwZCAxMDA2NDQKLS0tIGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2RvbS9y
ZXdyaXRlL0FTVFJld3JpdGVBbmFseXplci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9BU1RSZXdyaXRl
QW5hbHl6ZXIuamF2YQpAQCAtMzk3Miw2ICszOTcyLDIwIEBACiAJCXJldHVybiBmYWxzZTsKIAl9
CiAJLyogKG5vbi1KYXZhZG9jKQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLkFT
VFZpc2l0b3IjdmlzaXQob3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlBhY2thZ2VRdWFsaWZpZWRU
eXBlKQorCSAqLworCXB1YmxpYyBib29sZWFuIHZpc2l0KFBhY2thZ2VRdWFsaWZpZWRUeXBlIG5v
ZGUpIHsKKwkJaWYgKCFoYXNDaGlsZHJlbkNoYW5nZXMobm9kZSkpIHsKKwkJCXJldHVybiBkb1Zp
c2l0VW5jaGFuZ2VkQ2hpbGRyZW4obm9kZSk7CisJCX0KKwkJcmV3cml0ZVJlcXVpcmVkTm9kZShu
b2RlLCBQYWNrYWdlUXVhbGlmaWVkVHlwZS5RVUFMSUZJRVJfUFJPUEVSVFkpOworCQlpZiAobm9k
ZS5nZXRBU1QoKS5hcGlMZXZlbCgpID49IEFTVC5KTFM4KSB7CisJCQlyZXdyaXRlVHlwZUFubm90
YXRpb25zKG5vZGUsIFBhY2thZ2VRdWFsaWZpZWRUeXBlLkFOTk9UQVRJT05TX1BST1BFUlRZLCBu
b2RlLmdldFN0YXJ0UG9zaXRpb24oKSk7CisJCX0KKwkJcmV3cml0ZVJlcXVpcmVkTm9kZShub2Rl
LCBQYWNrYWdlUXVhbGlmaWVkVHlwZS5OQU1FX1BST1BFUlRZKTsKKwkJcmV0dXJuIGZhbHNlOwor
CX0KKwkvKiAobm9uLUphdmFkb2MpCiAJICogQHNlZSBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20u
QVNUVmlzaXRvciN2aXNpdChvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uUGFyYW1ldGVyaXplZFR5
cGUpCiAJICovCiAJcHVibGljIGJvb2xlYW4gdmlzaXQoUGFyYW1ldGVyaXplZFR5cGUgbm9kZSkg
ewpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0FTVFJld3JpdGVGbGF0dGVuZXIuamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3
cml0ZS9BU1RSZXdyaXRlRmxhdHRlbmVyLmphdmEKaW5kZXggYTAzMWM3Mi4uODRiNTM3OSAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JlL2RvbS9yZXdyaXRlL0FTVFJld3JpdGVGbGF0dGVuZXIuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3Jp
dGUvQVNUUmV3cml0ZUZsYXR0ZW5lci5qYXZhCkBAIC0xNDA5LDYgKzE0MDksMjEgQEAKIAkJdGhp
cy5yZXN1bHQuYXBwZW5kKCcpJyk7CiAJCXJldHVybiBmYWxzZTsKIAl9CisKKwkvKgorCSAqIEBz
ZWUgQVNUVmlzaXRvciN2aXNpdChQYWNrYWdlUXVhbGlmaWVkVHlwZSkKKwkgKiBAc2luY2UgMy45
CisJICovCisJcHVibGljIGJvb2xlYW4gdmlzaXQoUGFja2FnZVF1YWxpZmllZFR5cGUgbm9kZSkg
eworCQlnZXRDaGlsZE5vZGUobm9kZSwgUGFja2FnZVF1YWxpZmllZFR5cGUuUVVBTElGSUVSX1BS
T1BFUlRZKS5hY2NlcHQodGhpcyk7CisJCXRoaXMucmVzdWx0LmFwcGVuZCgnLicpOworCQlpZiAo
bm9kZS5nZXRBU1QoKS5hcGlMZXZlbCgpID49IEFTVC5KTFM4KSB7CisJCQl2aXNpdExpc3Qobm9k
ZSwgUGFja2FnZVF1YWxpZmllZFR5cGUuQU5OT1RBVElPTlNfUFJPUEVSVFksIFN0cmluZy52YWx1
ZU9mKCcgJyksIFV0aWwuRU1QVFlfU1RSSU5HLCBTdHJpbmcudmFsdWVPZignICcpKTsKKwkJfQor
CQlnZXRDaGlsZE5vZGUobm9kZSwgUGFja2FnZVF1YWxpZmllZFR5cGUuTkFNRV9QUk9QRVJUWSku
YWNjZXB0KHRoaXMpOworCQlyZXR1cm4gZmFsc2U7CisJfQorCiAJLyoKIAkgKiBAc2VlIEFTVFZp
c2l0b3IjdmlzaXQoUGFyYW1ldGVyaXplZFR5cGUpCiAJICogQHNpbmNlIDMuMA==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>230489</attachid>
            <date>2013-05-06 01:41:00 -0400</date>
            <delta_ts>2013-05-08 04:08:23 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-400919--18search-Search-engine-fails-to-.patch</filename>
            <type>text/plain</type>
            <size>8698</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvSmF2YVNlYXJjaEJ1Z3NUZXN0cy5qYXZhCmluZGV4IDliYjkyZmMuLmE0YzJjNmUg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMuamF2YQpAQCAtMTM3ODgsNSArMTM3ODgs
MTcxIEBACiAJCQkic3JjL2I0MDA5MDIvWC5qYXZhIGI0MDA5MDIuWCRZIFtNYXJrZXJdIEVYQUNU
X01BVENIIiAKIAkpOwkKIH0KKworLyoqCisgKiBAYnVnIDQwMDkxOTogIFsxLjhdW3NlYXJjaF0g
U2VhcmNoIGVuZ2luZSBmYWlscyB0byBhbm5vdGF0aW9uIG1hdGNoZXMgaW4gdHlwZSB2YXJpYWJs
ZSBib3VuZHMKKyAqIEB0ZXN0IEVuc3VyZXMgdGhhdCB0aGUgc2VhcmNoIGZvciB0eXBlIHVzZSBh
bm5vdGF0aW9uIGZpbmRzIG1hdGNoZXMgaW4gdHlwZSB2YXJpYWJsZSBib3VuZHMKKyAqCQkKKyAq
IEBzZWUgImh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD00MDA5
MTkiCisgKi8KK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDA5MTlhKCkgdGhyb3dzIENvcmVFeGNlcHRp
b24geworCXRoaXMud29ya2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCXRo
aXMud29ya2luZ0NvcGllc1swXSA9IGdldFdvcmtpbmdDb3B5KCIvSmF2YVNlYXJjaEJ1Z3Mvc3Jj
L2I0MDA5MTkvWC5qYXZhIiwKKwkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uRWxlbWVu
dFR5cGU7XG4iICsKKwkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0O1xuIiAr
CisJCQkiaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuIiArCisJCQkiXG4iICsKKwkJCSJp
bnRlcmZhY2UgSSB7XG4iICsKKwkJCSIJSSBkb2l0KCk7XG4iICsKKwkJCSJ9XG4iICsKKwkJCSJc
biIgKworCQkJIkBNYXJrZXIgcHVibGljIGNsYXNzIFgge1xuIiArCisJCQkiICAgQFN1cHByZXNz
V2FybmluZ3MoXCJ1bnVzZWRcIilcbiIgKworCQkJIglATWFya2VyIDxUPiAgaW50IHgoVCB0KSB7
IHJldHVybiAxMDsgfTtcbiIgKworCQkJIgkvKipcbiIgKworCQkJIgkgKiBAcGFyYW0gPEY+ICBc
biIgKworCQkJIgkgKi9cbiIgKworCQkJIgljbGFzcyBGb2xkZXI8QEV4aXN0aW5nICBGIGV4dGVu
ZHMgQEV4aXN0aW5nIFhZWj4geyAgfVxuIiArCisJCQkiCUNvbGxlY3Rpb248PyBzdXBlciBARXhp
c3RpbmcgWFlaPiBzO1xuIiArCisJCQkiCS8qKlxuIiArCisJCQkiCSAqIEBwYXJhbSA8VD4gIFxu
IiArCisJCQkiCSAqL1xuIiArCisJCQkiCWNsYXNzIFRlc3QgPFQgZXh0ZW5kcyBPdXRlci5ARXhp
c3RpbmcgSW5uZXI+IHt9XG4iICsKKwkJCSJ9XG4iICsKKwkJCSJcbiIgKworCQkJImNsYXNzIFkg
ZXh0ZW5kcyAgT2JqZWN0ICB7XG4iICsKKwkJCSIJaW50IHggPSAoIGludCkgMDtcbiIgKworCQkJ
In1cbiIgKworCQkJIlxuIiArCisJCQkiLyoqXG4iICsKKwkJCSIgKiBAcGFyYW0gPFQ+ICBcbiIg
KworCQkJIiAqL1xuIiArCisJCQkiY2xhc3MgWFk8QEV4aXN0aW5nIFQ+IHt9XG4iICsKKwkJCSJj
bGFzcyBYWVoge31cbiIgKworCQkJIlxuIiArCisJCQkiY2xhc3MgT3V0ZXIge1xuIiArCisJCQki
CWNsYXNzIElubmVyIHtcbiIgKworCQkJIgkJXG4iICsKKwkJCSIJfVxuIiArCisJCQkifVxuIiAr
CisJCQkiLyoqXG4iICsKKwkJCSIgKiBAcGFyYW0gPFQ+IFxuIiArCisJCQkiICogQHBhcmFtIDxR
PiAgXG4iICsKKwkJCSIgKi9cbiIgKworCQkJImNsYXNzIFgyIDxATWFya2VyIFQgZXh0ZW5kcyBA
TWFya2VyIFkyPEBNYXJrZXIgPyBleHRlbmRzIEBNYXJrZXIgWD4sIEBNYXJrZXIgUSBleHRlbmRz
IEBNYXJrZXIgT2JqZWN0PiB7XG4iICsKKwkJCSJ9XG4iICsKKwkJCSIvKipcbiIgKworCQkJIiAq
IEBwYXJhbSA8VD4gIFxuIiArCisJCQkiICovXG4iICsKKwkJCSJjbGFzcyBZMjxUPiB7fVxuIiAr
CisJCQkiQFRhcmdldChFbGVtZW50VHlwZS5UWVBFX1VTRSlcbiIgKworCQkJIkBpbnRlcmZhY2Ug
RXhpc3Rpbmcge1xuIiArCisJCQkiCVxuIiArCisJCQkifVxuIiArCisJCQkiQFRhcmdldCAoRWxl
bWVudFR5cGUuVFlQRV9VU0UpXG4iICsKKwkJCSJAaW50ZXJmYWNlIE1hcmtlciB7fVxuIgorCQkp
OworCVNlYXJjaFBhdHRlcm4gcGF0dGVybiA9IFNlYXJjaFBhdHRlcm4uY3JlYXRlUGF0dGVybigK
KwkJCSJFeGlzdGluZyIsCisJCQlBTk5PVEFUSU9OX1RZUEUsCisJCQlSRUZFUkVOQ0VTLAorCQkJ
RVhBQ1RfUlVMRSk7CisJbmV3IFNlYXJjaEVuZ2luZSh0aGlzLndvcmtpbmdDb3BpZXMpLnNlYXJj
aChwYXR0ZXJuLAorCW5ldyBTZWFyY2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hFbmdpbmUuZ2V0RGVm
YXVsdFNlYXJjaFBhcnRpY2lwYW50KCl9LAorCWdldEphdmFTZWFyY2hXb3JraW5nQ29waWVzU2Nv
cGUoKSwKKwl0aGlzLnJlc3VsdENvbGxlY3RvciwKKwludWxsKTsKKwlhc3NlcnRTZWFyY2hSZXN1
bHRzKAorCQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlgucyBbRXhpc3RpbmddIEVYQUNU
X01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5YJEZvbGRlciBbRXhp
c3RpbmddIEVYQUNUX01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5Y
JEZvbGRlciBbRXhpc3RpbmddIEVYQUNUX01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmph
dmEgYjQwMDkxOS5YJFRlc3QgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0
MDA5MTkvWC5qYXZhIGI0MDA5MTkuWFkgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSCIgCisJKTsJCit9
CisvKioKKyAqIEBidWcgNDAwOTE5OiAgWzEuOF1bc2VhcmNoXSBTZWFyY2ggZW5naW5lIGZhaWxz
IHRvIGFubm90YXRpb24gbWF0Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJvdW5kcworICogQHRlc3Qg
RW5zdXJlcyB0aGF0IHRoZSBzZWFyY2ggZm9yIHR5cGUgdXNlIGFubm90YXRpb24gZmluZHMgbWF0
Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJvdW5kcworICoJCQorICogQHNlZSAiaHR0cHM6Ly9idWdz
LmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQwMDkxOSIKKyAqLworcHVibGljIHZv
aWQgdGVzdEJ1ZzQwMDkxOWIoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdGhpcy53b3JraW5n
Q29waWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJdGhpcy53b3JraW5nQ29waWVzWzBd
ID0gZ2V0V29ya2luZ0NvcHkoIi9KYXZhU2VhcmNoQnVncy9zcmMvYjQwMDkxOS9YLmphdmEiLAor
CQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZTtcbiIgKworCQkJImlt
cG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5UYXJnZXQ7XG4iICsKKwkJCSJpbXBvcnQgamF2YS51
dGlsLkNvbGxlY3Rpb247XG4iICsKKwkJCSJcbiIgKworCQkJImludGVyZmFjZSBJIHtcbiIgKwor
CQkJIglJIGRvaXQoKTtcbiIgKworCQkJIn1cbiIgKworCQkJIlxuIiArCisJCQkiQE1hcmtlciBw
dWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCSIgICBAU3VwcHJlc3NXYXJuaW5ncyhcInVudXNlZFwi
KVxuIiArCisJCQkiCUBNYXJrZXIgPFQ+ICBpbnQgeChUIHQpIHsgcmV0dXJuIDEwOyB9O1xuIiAr
CisJCQkiCS8qKlxuIiArCisJCQkiCSAqIEBwYXJhbSA8Rj4gIFxuIiArCisJCQkiCSAqL1xuIiAr
CisJCQkiCWNsYXNzIEZvbGRlcjxARXhpc3RpbmcgIEYgZXh0ZW5kcyBARXhpc3RpbmcgWFlaPiB7
ICB9XG4iICsKKwkJCSIJQ29sbGVjdGlvbjw/IHN1cGVyIEBFeGlzdGluZyBYWVo+IHM7XG4iICsK
KwkJCSIJLyoqXG4iICsKKwkJCSIJICogQHBhcmFtIDxUPiAgXG4iICsKKwkJCSIJICovXG4iICsK
KwkJCSIJY2xhc3MgVGVzdCA8VCBleHRlbmRzIE91dGVyLkBFeGlzdGluZyBJbm5lcj4ge31cbiIg
KworCQkJIn1cbiIgKworCQkJIlxuIiArCisJCQkiY2xhc3MgWSBleHRlbmRzICBPYmplY3QgIHtc
biIgKworCQkJIglpbnQgeCA9ICggaW50KSAwO1xuIiArCisJCQkifVxuIiArCisJCQkiXG4iICsK
KwkJCSIvKipcbiIgKworCQkJIiAqIEBwYXJhbSA8VD4gIFxuIiArCisJCQkiICovXG4iICsKKwkJ
CSJjbGFzcyBYWTxARXhpc3RpbmcgVD4ge31cbiIgKworCQkJImNsYXNzIFhZWiB7fVxuIiArCisJ
CQkiXG4iICsKKwkJCSJjbGFzcyBPdXRlciB7XG4iICsKKwkJCSIJY2xhc3MgSW5uZXIge1xuIiAr
CisJCQkiCQlcbiIgKworCQkJIgl9XG4iICsKKwkJCSJ9XG4iICsKKwkJCSIvKipcbiIgKworCQkJ
IiAqIEBwYXJhbSA8VD4gXG4iICsKKwkJCSIgKiBAcGFyYW0gPFE+ICBcbiIgKworCQkJIiAqL1xu
IiArCisJCQkiY2xhc3MgWDIgPEBNYXJrZXIgVCBleHRlbmRzIEBNYXJrZXIgWTI8QE1hcmtlciA/
IGV4dGVuZHMgQE1hcmtlciBYPiwgQE1hcmtlciBRIGV4dGVuZHMgQE1hcmtlciBPYmplY3Q+IHtc
biIgKworCQkJIn1cbiIgKworCQkJIi8qKlxuIiArCisJCQkiICogQHBhcmFtIDxUPiAgXG4iICsK
KwkJCSIgKi9cbiIgKworCQkJImNsYXNzIFkyPFQ+IHt9XG4iICsKKwkJCSJAVGFyZ2V0KEVsZW1l
bnRUeXBlLlRZUEVfVVNFKVxuIiArCisJCQkiQGludGVyZmFjZSBFeGlzdGluZyB7XG4iICsKKwkJ
CSIJXG4iICsKKwkJCSJ9XG4iICsKKwkJCSJAVGFyZ2V0IChFbGVtZW50VHlwZS5UWVBFX1VTRSlc
biIgKworCQkJIkBpbnRlcmZhY2UgTWFya2VyIHt9XG4iCisJCSk7CisJU2VhcmNoUGF0dGVybiBw
YXR0ZXJuID0gU2VhcmNoUGF0dGVybi5jcmVhdGVQYXR0ZXJuKAorCQkJIk1hcmtlciIsCisJCQlB
Tk5PVEFUSU9OX1RZUEUsCisJCQlSRUZFUkVOQ0VTLAorCQkJRVhBQ1RfUlVMRSk7CisJbmV3IFNl
YXJjaEVuZ2luZSh0aGlzLndvcmtpbmdDb3BpZXMpLnNlYXJjaChwYXR0ZXJuLAorCW5ldyBTZWFy
Y2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hFbmdpbmUuZ2V0RGVmYXVsdFNlYXJjaFBhcnRpY2lwYW50
KCl9LAorCWdldEphdmFTZWFyY2hXb3JraW5nQ29waWVzU2NvcGUoKSwKKwl0aGlzLnJlc3VsdENv
bGxlY3RvciwKKwludWxsKTsKKwlhc3NlcnRTZWFyY2hSZXN1bHRzKAorCQkJInNyYy9iNDAwOTE5
L1guamF2YSBiNDAwOTE5LlggW01hcmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAw
OTE5L1guamF2YSBpbnQgYjQwMDkxOS5YLngoVCkgW01hcmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKwor
CQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlgyIFtNYXJrZXJdIEVYQUNUX01BVENIXG4i
ICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5YMiBbTWFya2VyXSBFWEFDVF9NQVRD
SFxuIiArCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5MTkuWDIgW01hcmtlcl0gRVhBQ1Rf
TUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlgyIFtNYXJrZXJdIEVY
QUNUX01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5YMiBbTWFya2Vy
XSBFWEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5MTkuWDIgW01h
cmtlcl0gRVhBQ1RfTUFUQ0giIAorCSk7CQorfQogLy8gQWRkIG5ldyB0ZXN0cyBpbiBKYXZhU2Vh
cmNoQnVnc1Rlc3RzMgogfQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUKZGlmZiAtLWdpdCBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9zZWFyY2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01h
dGNoTG9jYXRvci5qYXZhCmluZGV4IGUzMGZiODAuLmRkOWRiZjQgMTAwNjQ0Ci0tLSBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9zZWFy
Y2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
c2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9tYXRjaGluZy9NYXRj
aExvY2F0b3IuamF2YQpAQCAtMjM4OCw2ICsyMzg4LDE2IEBACiAJCX0KIAl9CiB9Citwcml2YXRl
IHZvaWQgcmVwb3J0TWF0Y2hpbmcoQW5ub3RhdGlvbltdW10gYW5ub3RhdGlvbnNMaXN0LCBJSmF2
YUVsZW1lbnQgZW5jbG9zaW5nRWxlbWVudCwgQmluZGluZyBiaW5kaW5nLAorCQlNYXRjaGluZ05v
ZGVTZXQgbm9kZVNldCwgYm9vbGVhbiBtYXRjaGVkQ2xhc3NDb250YWluZXIpIHRocm93cyBDb3Jl
RXhjZXB0aW9uIHsKKwlpZiAoYW5ub3RhdGlvbnNMaXN0ICE9IG51bGwpIHsKKwkJZm9yIChpbnQg
aSA9IDA7IGkgPCBhbm5vdGF0aW9uc0xpc3QubGVuZ3RoOyArK2kpIHsKKwkJCUFubm90YXRpb25b
XSBhbm5vdGF0aW9ucyA9IGFubm90YXRpb25zTGlzdFtpXTsKKwkJCWlmIChhbm5vdGF0aW9ucyAh
PSBudWxsKSAKKwkJCQlyZXBvcnRNYXRjaGluZyhhbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxlbWVu
dCwgbnVsbCwgYmluZGluZywgbm9kZVNldCwgbWF0Y2hlZENsYXNzQ29udGFpbmVyLCBlbmNsb3Nl
cyhlbmNsb3NpbmdFbGVtZW50KSk7CQorCQl9CisJfQorfQogLyoqCiAgKiBWaXNpdCB0aGUgZ2l2
ZW4gcmVzb2x2ZWQgcGFyc2UgdHJlZSBhbmQgcmVwb3J0IHRoZSBub2RlcyB0aGF0IG1hdGNoIHRo
ZSBzZWFyY2ggcGF0dGVybi4KICAqLwpAQCAtMjgwNSw3ICsyODE1LDEyIEBACiAJCQkJCXJlcG9y
dChtYXRjaCk7CiAJCQkJfQogCQkJfQorCQkJYm9vbGVhbiBtYXRjaGVkQ2xhc3NDb250YWluZXIg
PSAodGhpcy5tYXRjaENvbnRhaW5lciAmIFBhdHRlcm5Mb2NhdG9yLkFMTF9DT05UQUlORVIpICE9
IDA7CisJCQlpZiAodHlwZVBhcmFtZXRlci5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQkJcmVw
b3J0TWF0Y2hpbmcodHlwZVBhcmFtZXRlci5hbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxlbWVudCwg
bnVsbCwgdHlwZVBhcmFtZXRlci5iaW5kaW5nLCBub2RlU2V0LCBtYXRjaGVkQ2xhc3NDb250YWlu
ZXIsIGVuY2xvc2VzKGVuY2xvc2luZ0VsZW1lbnQpKTsJCisJCQl9CiAJCQlpZiAodHlwZVBhcmFt
ZXRlci50eXBlICE9IG51bGwpIHsKKwkJCQlyZXBvcnRNYXRjaGluZyh0eXBlUGFyYW1ldGVyLnR5
cGUuYW5ub3RhdGlvbnMsIGVuY2xvc2luZ0VsZW1lbnQsIHR5cGVQYXJhbWV0ZXIuYmluZGluZywg
bm9kZVNldCwgbWF0Y2hlZENsYXNzQ29udGFpbmVyKTsKIAkJCQlsZXZlbCA9IChJbnRlZ2VyKSBu
b2RlU2V0Lm1hdGNoaW5nTm9kZXMucmVtb3ZlS2V5KHR5cGVQYXJhbWV0ZXIudHlwZSk7CiAJCQkJ
aWYgKGxldmVsICE9IG51bGwpIHsKIAkJCQkJSUphdmFFbGVtZW50IGxvY2FsRWxlbWVudCA9IGNy
ZWF0ZUhhbmRsZSh0eXBlUGFyYW1ldGVyLCBlbmNsb3NpbmdFbGVtZW50KTsKQEAgLTI4MTcsNiAr
MjgzMiw3IEBACiAgICAgICAgICAgICAgICAgICAgIAlpbnQgbGVuZ3RoID0gcGFyYW1TVFIudHlw
ZUFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgIAlmb3IgKGludCBrPTA7IGs8
bGVuZ3RoOyBrKyspIHsKIAkJCQkJCQlUeXBlUmVmZXJlbmNlIHR5cGVBcmd1bWVudCA9IHBhcmFt
U1RSLnR5cGVBcmd1bWVudHNba107CisJCQkJCQkJcmVwb3J0TWF0Y2hpbmcodHlwZUFyZ3VtZW50
LmFubm90YXRpb25zLCBlbmNsb3NpbmdFbGVtZW50LCB0eXBlQXJndW1lbnQucmVzb2x2ZWRUeXBl
LCBub2RlU2V0LCBtYXRjaGVkQ2xhc3NDb250YWluZXIpOwogCQkJCQkJCWxldmVsID0gKEludGVn
ZXIpIG5vZGVTZXQubWF0Y2hpbmdOb2Rlcy5yZW1vdmVLZXkodHlwZUFyZ3VtZW50KTsKIAkJCQkJ
CQlpZiAobGV2ZWwgIT0gbnVsbCkgewogCQkJCQkJCQlJSmF2YUVsZW1lbnQgbG9jYWxFbGVtZW50
ID0gY3JlYXRlSGFuZGxlKHR5cGVQYXJhbWV0ZXIsIGVuY2xvc2luZ0VsZW1lbnQpOwpAQCAtMjgy
NSw2ICsyODQxLDcgQEAKIAkJCQkJCQlpZiAodHlwZUFyZ3VtZW50IGluc3RhbmNlb2YgV2lsZGNh
cmQpIHsKIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZVJlZmVyZW5jZSB3aWxkY2Fy
ZEJvdW5kID0gKChXaWxkY2FyZCkgdHlwZUFyZ3VtZW50KS5ib3VuZDsKIAkgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgaWYgKHdpbGRjYXJkQm91bmQgIT0gbnVsbCkgeworCQkgICAgICAgICAg
ICAJCQkJcmVwb3J0TWF0Y2hpbmcod2lsZGNhcmRCb3VuZC5hbm5vdGF0aW9ucywgZW5jbG9zaW5n
RWxlbWVudCwgd2lsZGNhcmRCb3VuZC5yZXNvbHZlZFR5cGUsIG5vZGVTZXQsIG1hdGNoZWRDbGFz
c0NvbnRhaW5lcik7CiAJCQkJCQkJCQlsZXZlbCA9IChJbnRlZ2VyKSBub2RlU2V0Lm1hdGNoaW5n
Tm9kZXMucmVtb3ZlS2V5KHdpbGRjYXJkQm91bmQpOwogCQkJCQkJCQkJaWYgKGxldmVsICE9IG51
bGwpIHsKIAkJCQkJCQkJCQlJSmF2YUVsZW1lbnQgbG9jYWxFbGVtZW50ID0gY3JlYXRlSGFuZGxl
KHR5cGVQYXJhbWV0ZXIsIGVuY2xvc2luZ0VsZW1lbnQpOw==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>230633</attachid>
            <date>2013-05-08 04:08:00 -0400</date>
            <delta_ts>2013-05-08 04:08:23 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-400919--18search-Search-engine-fails-to-.patch</filename>
            <type>text/plain</type>
            <size>12265</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvSmF2YVNlYXJjaEJ1Z3NUZXN0cy5qYXZhCmluZGV4IDliYjkyZmMuLjVlNjNiMWUg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMuamF2YQpAQCAtNzE1LDYgKzcxNSwxMCBA
QAogCXN1aXRlLmFkZFRlc3QobmV3IEphdmFTZWFyY2hCdWdzVGVzdHMoInRlc3RCdWczNDU4MDci
KSk7CiAJc3VpdGUuYWRkVGVzdChuZXcgSmF2YVNlYXJjaEJ1Z3NUZXN0cygidGVzdEJ1ZzM1NTYw
NSIpKTsKIAlzdWl0ZS5hZGRUZXN0KG5ldyBKYXZhU2VhcmNoQnVnc1Rlc3RzKCJ0ZXN0QnVnMjQx
ODM0IikpOworCXN1aXRlLmFkZFRlc3QobmV3IEphdmFTZWFyY2hCdWdzVGVzdHMoInRlc3RCdWc0
MDA5MDJhIikpOworCXN1aXRlLmFkZFRlc3QobmV3IEphdmFTZWFyY2hCdWdzVGVzdHMoInRlc3RC
dWc0MDA5MTlhIikpOworCXN1aXRlLmFkZFRlc3QobmV3IEphdmFTZWFyY2hCdWdzVGVzdHMoInRl
c3RCdWc0MDA5MTliIikpOworCXN1aXRlLmFkZFRlc3QobmV3IEphdmFTZWFyY2hCdWdzVGVzdHMo
InRlc3RCdWc0MDA5MTljIikpOwogCXJldHVybiBzdWl0ZTsKIH0KIGNsYXNzIFRlc3RDb2xsZWN0
b3IgZXh0ZW5kcyBKYXZhU2VhcmNoUmVzdWx0Q29sbGVjdG9yIHsKQEAgLTEzNzg4LDUgKzEzNzky
LDI1OCBAQAogCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlgkWSBbTWFya2VyXSBFWEFD
VF9NQVRDSCIgCiAJKTsJCiB9CisKKy8qKgorICogQGJ1ZyA0MDA5MTk6ICBbMS44XVtzZWFyY2hd
IFNlYXJjaCBlbmdpbmUgZmFpbHMgdG8gYW5ub3RhdGlvbiBtYXRjaGVzIGluIHR5cGUgdmFyaWFi
bGUgYm91bmRzCisgKiBAdGVzdCBFbnN1cmVzIHRoYXQgdGhlIHNlYXJjaCBmb3IgdHlwZSB1c2Ug
YW5ub3RhdGlvbiBmaW5kcyBtYXRjaGVzIGluIHR5cGUgdmFyaWFibGUgYm91bmRzCisgKgkJCisg
KiBAc2VlICJodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDAw
OTE5IgorICovCitwdWJsaWMgdm9pZCB0ZXN0QnVnNDAwOTE5YSgpIHRocm93cyBDb3JlRXhjZXB0
aW9uIHsKKwl0aGlzLndvcmtpbmdDb3BpZXMgPSBuZXcgSUNvbXBpbGF0aW9uVW5pdFsxXTsKKwl0
aGlzLndvcmtpbmdDb3BpZXNbMF0gPSBnZXRXb3JraW5nQ29weSgiL0phdmFTZWFyY2hCdWdzL3Ny
Yy9iNDAwOTE5L1guamF2YSIsCisJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkVsZW1l
bnRUeXBlO1xuIiArCisJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIg
KworCQkJImltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjtcbiIgKworCQkJIlxuIiArCisJCQki
aW50ZXJmYWNlIEkge1xuIiArCisJCQkiCUkgZG9pdCgpO1xuIiArCisJCQkifVxuIiArCisJCQki
XG4iICsKKwkJCSJATWFya2VyIHB1YmxpYyBjbGFzcyBYIHtcbiIgKworCQkJIiAgIEBTdXBwcmVz
c1dhcm5pbmdzKFwidW51c2VkXCIpXG4iICsKKwkJCSIJQE1hcmtlciA8QEV4aXN0aW5nIFQ+ICBp
bnQgeChARXhpc3RpbmcgVCB0KSB7IHJldHVybiAxMDsgfTtcbiIgKworCQkJIgkvKipcbiIgKwor
CQkJIgkgKiBAcGFyYW0gPEY+ICBcbiIgKworCQkJIgkgKi9cbiIgKworCQkJIgljbGFzcyBGb2xk
ZXI8QEV4aXN0aW5nICBGIGV4dGVuZHMgQEV4aXN0aW5nIFhZWj4geyAgfVxuIiArCisJCQkiCUNv
bGxlY3Rpb248QEV4aXN0aW5nID8gc3VwZXIgQEV4aXN0aW5nIFhZWj4gcztcbiIgKworCQkJIgkv
KipcbiIgKworCQkJIgkgKiBAcGFyYW0gPFQ+ICBcbiIgKworCQkJIgkgKi9cbiIgKworCQkJIglj
bGFzcyBUZXN0IDxUIGV4dGVuZHMgT3V0ZXIuQEV4aXN0aW5nIElubmVyPiB7fVxuIiArCisJCQki
fVxuIiArCisJCQkiXG4iICsKKwkJCSJjbGFzcyBZIGV4dGVuZHMgIE9iamVjdCAge1xuIiArCisJ
CQkiCWludCB4ID0gKCBpbnQpIDA7XG4iICsKKwkJCSJ9XG4iICsKKwkJCSJcbiIgKworCQkJIi8q
KlxuIiArCisJCQkiICogQHBhcmFtIDxUPiAgXG4iICsKKwkJCSIgKi9cbiIgKworCQkJImNsYXNz
IFhZPEBFeGlzdGluZyBUPiB7fVxuIiArCisJCQkiY2xhc3MgWFlaIHt9XG4iICsKKwkJCSJcbiIg
KworCQkJImNsYXNzIE91dGVyIHtcbiIgKworCQkJIgljbGFzcyBJbm5lciB7XG4iICsKKwkJCSIJ
CVxuIiArCisJCQkiCX1cbiIgKworCQkJIn1cbiIgKworCQkJIi8qKlxuIiArCisJCQkiICogQHBh
cmFtIDxUPiBcbiIgKworCQkJIiAqIEBwYXJhbSA8UT4gIFxuIiArCisJCQkiICovXG4iICsKKwkJ
CSJjbGFzcyBYMiA8QE1hcmtlciBUIGV4dGVuZHMgQE1hcmtlciBZMjxATWFya2VyID8gZXh0ZW5k
cyBATWFya2VyIFg+LCBATWFya2VyIFEgZXh0ZW5kcyBATWFya2VyIE9iamVjdD4ge1xuIiArCisJ
CQkifVxuIiArCisJCQkiLyoqXG4iICsKKwkJCSIgKiBAcGFyYW0gPFQ+ICBcbiIgKworCQkJIiAq
L1xuIiArCisJCQkiY2xhc3MgWTI8VD4ge31cbiIgKworCQkJIkBUYXJnZXQoRWxlbWVudFR5cGUu
VFlQRV9VU0UpXG4iICsKKwkJCSJAaW50ZXJmYWNlIEV4aXN0aW5nIHtcbiIgKworCQkJIglcbiIg
KworCQkJIn1cbiIgKworCQkJIkBUYXJnZXQgKEVsZW1lbnRUeXBlLlRZUEVfVVNFKVxuIiArCisJ
CQkiQGludGVyZmFjZSBNYXJrZXIge31cbiIKKwkJKTsKKwlTZWFyY2hQYXR0ZXJuIHBhdHRlcm4g
PSBTZWFyY2hQYXR0ZXJuLmNyZWF0ZVBhdHRlcm4oCisJCQkiRXhpc3RpbmciLAorCQkJQU5OT1RB
VElPTl9UWVBFLAorCQkJUkVGRVJFTkNFUywKKwkJCUVYQUNUX1JVTEUpOworCW5ldyBTZWFyY2hF
bmdpbmUodGhpcy53b3JraW5nQ29waWVzKS5zZWFyY2gocGF0dGVybiwKKwluZXcgU2VhcmNoUGFy
dGljaXBhbnRbXSB7U2VhcmNoRW5naW5lLmdldERlZmF1bHRTZWFyY2hQYXJ0aWNpcGFudCgpfSwK
KwlnZXRKYXZhU2VhcmNoV29ya2luZ0NvcGllc1Njb3BlKCksCisJdGhpcy5yZXN1bHRDb2xsZWN0
b3IsCisJbnVsbCk7CisJYXNzZXJ0U2VhcmNoUmVzdWx0cygKKwkJCSJzcmMvYjQwMDkxOS9YLmph
dmEgYjQwMDkxOS5YLnMgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArIAorCQkJInNyYy9iNDAw
OTE5L1guamF2YSBiNDAwOTE5LlgucyBbRXhpc3RpbmddIEVYQUNUX01BVENIXG4iICsgCisJCQki
c3JjL2I0MDA5MTkvWC5qYXZhIGludCBiNDAwOTE5LlgueChUKSBbRXhpc3RpbmddIEVYQUNUX01B
VENIXG4iICsgCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGludCBiNDAwOTE5LlgueChUKSBbRXhp
c3RpbmddIEVYQUNUX01BVENIXG4iICsgCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5MTku
WCRGb2xkZXIgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArIAorCQkJInNyYy9iNDAwOTE5L1gu
amF2YSBiNDAwOTE5LlgkRm9sZGVyIFtFeGlzdGluZ10gRVhBQ1RfTUFUQ0hcbiIgKyAKKwkJCSJz
cmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5YJFRlc3QgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxu
IiArIAorCQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlhZIFtFeGlzdGluZ10gRVhBQ1Rf
TUFUQ0giCisJKTsJCit9CisvKioKKyAqIEBidWcgNDAwOTE5OiAgWzEuOF1bc2VhcmNoXSBTZWFy
Y2ggZW5naW5lIGZhaWxzIHRvIGFubm90YXRpb24gbWF0Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJv
dW5kcworICogQHRlc3QgRW5zdXJlcyB0aGF0IHRoZSBzZWFyY2ggZm9yIHR5cGUgdXNlIGFubm90
YXRpb24gZmluZHMgbWF0Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJvdW5kcyB3aXRoIFRZUEUKKyAq
CQkKKyAqIEBzZWUgImh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9p
ZD00MDA5MTkiCisgKi8KK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDA5MTliKCkgdGhyb3dzIENvcmVF
eGNlcHRpb24geworCXRoaXMud29ya2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFd
OworCXRoaXMud29ya2luZ0NvcGllc1swXSA9IGdldFdvcmtpbmdDb3B5KCIvSmF2YVNlYXJjaEJ1
Z3Mvc3JjL2I0MDA5MTkvWC5qYXZhIiwKKwkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24u
RWxlbWVudFR5cGU7XG4iICsKKwkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0
O1xuIiArCisJCQkiaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuIiArCisJCQkiXG4iICsK
KwkJCSJpbnRlcmZhY2UgSSB7XG4iICsKKwkJCSIJSSBkb2l0KCk7XG4iICsKKwkJCSJ9XG4iICsK
KwkJCSJcbiIgKworCQkJIkBNYXJrZXIgcHVibGljIGNsYXNzIFgge1xuIiArCisJCQkiICAgQFN1
cHByZXNzV2FybmluZ3MoXCJ1bnVzZWRcIilcbiIgKworCQkJIglATWFya2VyIDxARXhpc3Rpbmcg
VD4gIGludCB4KEBFeGlzdGluZyBUIHQpIHsgcmV0dXJuIDEwOyB9O1xuIiArCisJCQkiCS8qKlxu
IiArCisJCQkiCSAqIEBwYXJhbSA8Rj4gIFxuIiArCisJCQkiCSAqL1xuIiArCisJCQkiCWNsYXNz
IEZvbGRlcjxARXhpc3RpbmcgIEYgZXh0ZW5kcyBARXhpc3RpbmcgWFlaPiB7ICB9XG4iICsKKwkJ
CSIJQ29sbGVjdGlvbjxARXhpc3RpbmcgPyBzdXBlciBARXhpc3RpbmcgWFlaPiBzO1xuIiArCisJ
CQkiCS8qKlxuIiArCisJCQkiCSAqIEBwYXJhbSA8VD4gIFxuIiArCisJCQkiCSAqL1xuIiArCisJ
CQkiCWNsYXNzIFRlc3QgPFQgZXh0ZW5kcyBPdXRlci5ARXhpc3RpbmcgSW5uZXI+IHt9XG4iICsK
KwkJCSJ9XG4iICsKKwkJCSJcbiIgKworCQkJImNsYXNzIFkgZXh0ZW5kcyAgT2JqZWN0ICB7XG4i
ICsKKwkJCSIJaW50IHggPSAoIGludCkgMDtcbiIgKworCQkJIn1cbiIgKworCQkJIlxuIiArCisJ
CQkiLyoqXG4iICsKKwkJCSIgKiBAcGFyYW0gPFQ+ICBcbiIgKworCQkJIiAqL1xuIiArCisJCQki
Y2xhc3MgWFk8QEV4aXN0aW5nIFQ+IHt9XG4iICsKKwkJCSJjbGFzcyBYWVoge31cbiIgKworCQkJ
IlxuIiArCisJCQkiY2xhc3MgT3V0ZXIge1xuIiArCisJCQkiCWNsYXNzIElubmVyIHtcbiIgKwor
CQkJIgkJXG4iICsKKwkJCSIJfVxuIiArCisJCQkifVxuIiArCisJCQkiLyoqXG4iICsKKwkJCSIg
KiBAcGFyYW0gPFQ+IFxuIiArCisJCQkiICogQHBhcmFtIDxRPiAgXG4iICsKKwkJCSIgKi9cbiIg
KworCQkJImNsYXNzIFgyIDxATWFya2VyIFQgZXh0ZW5kcyBATWFya2VyIFkyPEBNYXJrZXIgPyBl
eHRlbmRzIEBNYXJrZXIgWD4sIEBNYXJrZXIgUSBleHRlbmRzIEBNYXJrZXIgT2JqZWN0PiB7XG4i
ICsKKwkJCSJ9XG4iICsKKwkJCSIvKipcbiIgKworCQkJIiAqIEBwYXJhbSA8VD4gIFxuIiArCisJ
CQkiICovXG4iICsKKwkJCSJjbGFzcyBZMjxUPiB7fVxuIiArCisJCQkiQFRhcmdldChFbGVtZW50
VHlwZS5UWVBFX1VTRSlcbiIgKworCQkJIkBpbnRlcmZhY2UgRXhpc3Rpbmcge1xuIiArCisJCQki
CVxuIiArCisJCQkifVxuIiArCisJCQkiQFRhcmdldCAoRWxlbWVudFR5cGUuVFlQRV9VU0UpXG4i
ICsKKwkJCSJAaW50ZXJmYWNlIE1hcmtlciB7fVxuIgorCQkpOworCVNlYXJjaFBhdHRlcm4gcGF0
dGVybiA9IFNlYXJjaFBhdHRlcm4uY3JlYXRlUGF0dGVybigKKwkJCSJFeGlzdGluZyIsCisJCQlU
WVBFLAorCQkJUkVGRVJFTkNFUywKKwkJCUVYQUNUX1JVTEUpOworCW5ldyBTZWFyY2hFbmdpbmUo
dGhpcy53b3JraW5nQ29waWVzKS5zZWFyY2gocGF0dGVybiwKKwluZXcgU2VhcmNoUGFydGljaXBh
bnRbXSB7U2VhcmNoRW5naW5lLmdldERlZmF1bHRTZWFyY2hQYXJ0aWNpcGFudCgpfSwKKwlnZXRK
YXZhU2VhcmNoV29ya2luZ0NvcGllc1Njb3BlKCksCisJdGhpcy5yZXN1bHRDb2xsZWN0b3IsCisJ
bnVsbCk7CisJYXNzZXJ0U2VhcmNoUmVzdWx0cygKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQw
MDkxOS5YLnMgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArIAorCQkJInNyYy9iNDAwOTE5L1gu
amF2YSBiNDAwOTE5LlgucyBbRXhpc3RpbmddIEVYQUNUX01BVENIXG4iICsgCisJCQkic3JjL2I0
MDA5MTkvWC5qYXZhIGludCBiNDAwOTE5LlgueChUKSBbRXhpc3RpbmddIEVYQUNUX01BVENIXG4i
ICsgCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGludCBiNDAwOTE5LlgueChUKSBbRXhpc3Rpbmdd
IEVYQUNUX01BVENIXG4iICsgCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5MTkuWCRGb2xk
ZXIgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArIAorCQkJInNyYy9iNDAwOTE5L1guamF2YSBi
NDAwOTE5LlgkRm9sZGVyIFtFeGlzdGluZ10gRVhBQ1RfTUFUQ0hcbiIgKyAKKwkJCSJzcmMvYjQw
MDkxOS9YLmphdmEgYjQwMDkxOS5YJFRlc3QgW0V4aXN0aW5nXSBFWEFDVF9NQVRDSFxuIiArIAor
CQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlhZIFtFeGlzdGluZ10gRVhBQ1RfTUFUQ0gi
CisJKTsJCit9CisvKioKKyAqIEBidWcgNDAwOTE5OiAgWzEuOF1bc2VhcmNoXSBTZWFyY2ggZW5n
aW5lIGZhaWxzIHRvIGFubm90YXRpb24gbWF0Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJvdW5kcwor
ICogQHRlc3QgRW5zdXJlcyB0aGF0IHRoZSBzZWFyY2ggZm9yIHR5cGUgdXNlIGFubm90YXRpb24g
ZmluZHMgbWF0Y2hlcyBpbiB0eXBlIHZhcmlhYmxlIGJvdW5kcworICoJCQorICogQHNlZSAiaHR0
cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQwMDkxOSIKKyAqLwor
cHVibGljIHZvaWQgdGVzdEJ1ZzQwMDkxOWMoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdGhp
cy53b3JraW5nQ29waWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJdGhpcy53b3JraW5n
Q29waWVzWzBdID0gZ2V0V29ya2luZ0NvcHkoIi9KYXZhU2VhcmNoQnVncy9zcmMvYjQwMDkxOS9Y
LmphdmEiLAorCQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZTtcbiIg
KworCQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5UYXJnZXQ7XG4iICsKKwkJCSJpbXBv
cnQgamF2YS51dGlsLkNvbGxlY3Rpb247XG4iICsKKwkJCSJcbiIgKworCQkJImludGVyZmFjZSBJ
IHtcbiIgKworCQkJIglJIGRvaXQoKTtcbiIgKworCQkJIn1cbiIgKworCQkJIlxuIiArCisJCQki
QE1hcmtlciBwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCSIgICBAU3VwcHJlc3NXYXJuaW5ncyhc
InVudXNlZFwiKVxuIiArCisJCQkiCUBNYXJrZXIgPFQ+ICBpbnQgeChUIHQpIHsgcmV0dXJuIDEw
OyB9O1xuIiArCisJCQkiCS8qKlxuIiArCisJCQkiCSAqIEBwYXJhbSA8Rj4gIFxuIiArCisJCQki
CSAqL1xuIiArCisJCQkiCWNsYXNzIEZvbGRlcjxARXhpc3RpbmcgIEYgZXh0ZW5kcyBARXhpc3Rp
bmcgWFlaPiB7ICB9XG4iICsKKwkJCSIJQ29sbGVjdGlvbjw/IHN1cGVyIEBFeGlzdGluZyBYWVo+
IHM7XG4iICsKKwkJCSIJLyoqXG4iICsKKwkJCSIJICogQHBhcmFtIDxUPiAgXG4iICsKKwkJCSIJ
ICovXG4iICsKKwkJCSIJY2xhc3MgVGVzdCA8VCBleHRlbmRzIE91dGVyLkBFeGlzdGluZyBJbm5l
cj4ge31cbiIgKworCQkJIn1cbiIgKworCQkJIlxuIiArCisJCQkiY2xhc3MgWSBleHRlbmRzICBP
YmplY3QgIHtcbiIgKworCQkJIglpbnQgeCA9ICggaW50KSAwO1xuIiArCisJCQkifVxuIiArCisJ
CQkiXG4iICsKKwkJCSIvKipcbiIgKworCQkJIiAqIEBwYXJhbSA8VD4gIFxuIiArCisJCQkiICov
XG4iICsKKwkJCSJjbGFzcyBYWTxARXhpc3RpbmcgVD4ge31cbiIgKworCQkJImNsYXNzIFhZWiB7
fVxuIiArCisJCQkiXG4iICsKKwkJCSJjbGFzcyBPdXRlciB7XG4iICsKKwkJCSIJY2xhc3MgSW5u
ZXIge1xuIiArCisJCQkiCQlcbiIgKworCQkJIgl9XG4iICsKKwkJCSJ9XG4iICsKKwkJCSIvKipc
biIgKworCQkJIiAqIEBwYXJhbSA8VD4gXG4iICsKKwkJCSIgKiBAcGFyYW0gPFE+ICBcbiIgKwor
CQkJIiAqL1xuIiArCisJCQkiY2xhc3MgWDIgPEBNYXJrZXIgVCBleHRlbmRzIEBNYXJrZXIgWTI8
QE1hcmtlciA/IGV4dGVuZHMgQE1hcmtlciBYPiwgQE1hcmtlciBRIGV4dGVuZHMgQE1hcmtlciBP
YmplY3Q+IHtcbiIgKworCQkJIn1cbiIgKworCQkJIi8qKlxuIiArCisJCQkiICogQHBhcmFtIDxU
PiAgXG4iICsKKwkJCSIgKi9cbiIgKworCQkJImNsYXNzIFkyPFQ+IHt9XG4iICsKKwkJCSJAVGFy
Z2V0KEVsZW1lbnRUeXBlLlRZUEVfVVNFKVxuIiArCisJCQkiQGludGVyZmFjZSBFeGlzdGluZyB7
XG4iICsKKwkJCSIJXG4iICsKKwkJCSJ9XG4iICsKKwkJCSJAVGFyZ2V0IChFbGVtZW50VHlwZS5U
WVBFX1VTRSlcbiIgKworCQkJIkBpbnRlcmZhY2UgTWFya2VyIHt9XG4iCisJCSk7CisJU2VhcmNo
UGF0dGVybiBwYXR0ZXJuID0gU2VhcmNoUGF0dGVybi5jcmVhdGVQYXR0ZXJuKAorCQkJIk1hcmtl
ciIsCisJCQlBTk5PVEFUSU9OX1RZUEUsCisJCQlSRUZFUkVOQ0VTLAorCQkJRVhBQ1RfUlVMRSk7
CisJbmV3IFNlYXJjaEVuZ2luZSh0aGlzLndvcmtpbmdDb3BpZXMpLnNlYXJjaChwYXR0ZXJuLAor
CW5ldyBTZWFyY2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hFbmdpbmUuZ2V0RGVmYXVsdFNlYXJjaFBh
cnRpY2lwYW50KCl9LAorCWdldEphdmFTZWFyY2hXb3JraW5nQ29waWVzU2NvcGUoKSwKKwl0aGlz
LnJlc3VsdENvbGxlY3RvciwKKwludWxsKTsKKwlhc3NlcnRTZWFyY2hSZXN1bHRzKAorCQkJInNy
Yy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlggW01hcmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJ
InNyYy9iNDAwOTE5L1guamF2YSBpbnQgYjQwMDkxOS5YLngoVCkgW01hcmtlcl0gRVhBQ1RfTUFU
Q0hcbiIgKworCQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlgyIFtNYXJrZXJdIEVYQUNU
X01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5YMiBbTWFya2VyXSBF
WEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5MTkuWDIgW01hcmtl
cl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTE5L1guamF2YSBiNDAwOTE5LlgyIFtN
YXJrZXJdIEVYQUNUX01BVENIXG4iICsKKwkJCSJzcmMvYjQwMDkxOS9YLmphdmEgYjQwMDkxOS5Y
MiBbTWFya2VyXSBFWEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0MDA5MTkvWC5qYXZhIGI0MDA5
MTkuWDIgW01hcmtlcl0gRVhBQ1RfTUFUQ0giIAorCSk7CQorfQogLy8gQWRkIG5ldyB0ZXN0cyBp
biBKYXZhU2VhcmNoQnVnc1Rlc3RzMgogfQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUKZGlm
ZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEgYi9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21h
dGNoaW5nL01hdGNoTG9jYXRvci5qYXZhCmluZGV4IGUzMGZiODAuLmM5NmY5ZGEgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29yZS9zZWFyY2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9tYXRj
aGluZy9NYXRjaExvY2F0b3IuamF2YQpAQCAtMjM4OCw2ICsyMzg4LDE3IEBACiAJCX0KIAl9CiB9
Citwcml2YXRlIHZvaWQgcmVwb3J0TWF0Y2hpbmcoQW5ub3RhdGlvbltdW10gYW5ub3RhdGlvbnNM
aXN0LCBJSmF2YUVsZW1lbnQgZW5jbG9zaW5nRWxlbWVudCwgQmluZGluZyBiaW5kaW5nLAorCQlN
YXRjaGluZ05vZGVTZXQgbm9kZVNldCwgYm9vbGVhbiBtYXRjaGVkQ2xhc3NDb250YWluZXIpIHRo
cm93cyBDb3JlRXhjZXB0aW9uIHsKKwlpZiAoYW5ub3RhdGlvbnNMaXN0ICE9IG51bGwpIHsKKwkJ
aW50IGxlbmd0aCA9IGFubm90YXRpb25zTGlzdC5sZW5ndGg7CisJCWZvciAoaW50IGkgPSAwOyBp
IDwgbGVuZ3RoOyArK2kpIHsKKwkJCUFubm90YXRpb25bXSBhbm5vdGF0aW9ucyA9IGFubm90YXRp
b25zTGlzdFtpXTsKKwkJCWlmIChhbm5vdGF0aW9ucyAhPSBudWxsKSAKKwkJCQlyZXBvcnRNYXRj
aGluZyhhbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxlbWVudCwgbnVsbCwgYmluZGluZywgbm9kZVNl
dCwgbWF0Y2hlZENsYXNzQ29udGFpbmVyLCBlbmNsb3NlcyhlbmNsb3NpbmdFbGVtZW50KSk7CQor
CQl9CisJfQorfQogLyoqCiAgKiBWaXNpdCB0aGUgZ2l2ZW4gcmVzb2x2ZWQgcGFyc2UgdHJlZSBh
bmQgcmVwb3J0IHRoZSBub2RlcyB0aGF0IG1hdGNoIHRoZSBzZWFyY2ggcGF0dGVybi4KICAqLwpA
QCAtMjgwNSw3ICsyODE2LDEyIEBACiAJCQkJCXJlcG9ydChtYXRjaCk7CiAJCQkJfQogCQkJfQor
CQkJYm9vbGVhbiBtYXRjaGVkQ2xhc3NDb250YWluZXIgPSAodGhpcy5tYXRjaENvbnRhaW5lciAm
IFBhdHRlcm5Mb2NhdG9yLkFMTF9DT05UQUlORVIpICE9IDA7CisJCQlpZiAodHlwZVBhcmFtZXRl
ci5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQkJcmVwb3J0TWF0Y2hpbmcodHlwZVBhcmFtZXRl
ci5hbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxlbWVudCwgbnVsbCwgdHlwZVBhcmFtZXRlci5iaW5k
aW5nLCBub2RlU2V0LCBtYXRjaGVkQ2xhc3NDb250YWluZXIsIGVuY2xvc2VzKGVuY2xvc2luZ0Vs
ZW1lbnQpKTsJCisJCQl9CiAJCQlpZiAodHlwZVBhcmFtZXRlci50eXBlICE9IG51bGwpIHsKKwkJ
CQlyZXBvcnRNYXRjaGluZyh0eXBlUGFyYW1ldGVyLnR5cGUuYW5ub3RhdGlvbnMsIGVuY2xvc2lu
Z0VsZW1lbnQsIHR5cGVQYXJhbWV0ZXIuYmluZGluZywgbm9kZVNldCwgbWF0Y2hlZENsYXNzQ29u
dGFpbmVyKTsKIAkJCQlsZXZlbCA9IChJbnRlZ2VyKSBub2RlU2V0Lm1hdGNoaW5nTm9kZXMucmVt
b3ZlS2V5KHR5cGVQYXJhbWV0ZXIudHlwZSk7CiAJCQkJaWYgKGxldmVsICE9IG51bGwpIHsKIAkJ
CQkJSUphdmFFbGVtZW50IGxvY2FsRWxlbWVudCA9IGNyZWF0ZUhhbmRsZSh0eXBlUGFyYW1ldGVy
LCBlbmNsb3NpbmdFbGVtZW50KTsKQEAgLTI4MTcsNiArMjgzMyw3IEBACiAgICAgICAgICAgICAg
ICAgICAgIAlpbnQgbGVuZ3RoID0gcGFyYW1TVFIudHlwZUFyZ3VtZW50cy5sZW5ndGg7CiAgICAg
ICAgICAgICAgICAgICAgIAlmb3IgKGludCBrPTA7IGs8bGVuZ3RoOyBrKyspIHsKIAkJCQkJCQlU
eXBlUmVmZXJlbmNlIHR5cGVBcmd1bWVudCA9IHBhcmFtU1RSLnR5cGVBcmd1bWVudHNba107CisJ
CQkJCQkJcmVwb3J0TWF0Y2hpbmcodHlwZUFyZ3VtZW50LmFubm90YXRpb25zLCBlbmNsb3NpbmdF
bGVtZW50LCB0eXBlQXJndW1lbnQucmVzb2x2ZWRUeXBlLCBub2RlU2V0LCBtYXRjaGVkQ2xhc3ND
b250YWluZXIpOwogCQkJCQkJCWxldmVsID0gKEludGVnZXIpIG5vZGVTZXQubWF0Y2hpbmdOb2Rl
cy5yZW1vdmVLZXkodHlwZUFyZ3VtZW50KTsKIAkJCQkJCQlpZiAobGV2ZWwgIT0gbnVsbCkgewog
CQkJCQkJCQlJSmF2YUVsZW1lbnQgbG9jYWxFbGVtZW50ID0gY3JlYXRlSGFuZGxlKHR5cGVQYXJh
bWV0ZXIsIGVuY2xvc2luZ0VsZW1lbnQpOwpAQCAtMjgyNSw2ICsyODQyLDcgQEAKIAkJCQkJCQlp
ZiAodHlwZUFyZ3VtZW50IGluc3RhbmNlb2YgV2lsZGNhcmQpIHsKIAkgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgVHlwZVJlZmVyZW5jZSB3aWxkY2FyZEJvdW5kID0gKChXaWxkY2FyZCkgdHlw
ZUFyZ3VtZW50KS5ib3VuZDsKIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbGRj
YXJkQm91bmQgIT0gbnVsbCkgeworCQkgICAgICAgICAgICAJCQkJcmVwb3J0TWF0Y2hpbmcod2ls
ZGNhcmRCb3VuZC5hbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxlbWVudCwgd2lsZGNhcmRCb3VuZC5y
ZXNvbHZlZFR5cGUsIG5vZGVTZXQsIG1hdGNoZWRDbGFzc0NvbnRhaW5lcik7CiAJCQkJCQkJCQls
ZXZlbCA9IChJbnRlZ2VyKSBub2RlU2V0Lm1hdGNoaW5nTm9kZXMucmVtb3ZlS2V5KHdpbGRjYXJk
Qm91bmQpOwogCQkJCQkJCQkJaWYgKGxldmVsICE9IG51bGwpIHsKIAkJCQkJCQkJCQlJSmF2YUVs
ZW1lbnQgbG9jYWxFbGVtZW50ID0gY3JlYXRlSGFuZGxlKHR5cGVQYXJhbWV0ZXIsIGVuY2xvc2lu
Z0VsZW1lbnQpOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>