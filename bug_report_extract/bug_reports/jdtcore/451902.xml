<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>451902</bug_id>
          
          <creation_ts>2014-11-17 08:58:00 -0500</creation_ts>
          <short_desc>Add org.eclipse.jdt.apt.core plugin to General &gt; Tracing preference page</short_desc>
          <delta_ts>2014-12-10 04:47:50 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>4.5 M4</target_milestone>
          
          <blocked>451901</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</reporter>
          <assigned_to name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>shankhba</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="63815"
          type_id="1"
          status="+"
          setter="jarthana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2484161</commentid>
    <comment_count>0</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-11-17 08:58:27 -0500</bug_when>
    <thetext>If a plugin provides .options file, it is possible to enable tracing for this plugin via General &gt; Tracing preference page. This bug covers adding the org.eclipse.jdt.apt.core plugin to this preference page to make it easier to debug problems in runtime without restarting Eclipse.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2484266</commentid>
    <comment_count>1</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-11-17 10:43:20 -0500</bug_when>
    <thetext>Gerrit review: https://git.eclipse.org/r/#/c/36576/

It turned out that DEBUG_COMPILATION_ENV was initialized correctly so I fixed that in this patch. I think it would be good to adjust the behavior of debug flags so that disabling the general flag (plugin_id/debug) disables all flags (like it is done in other bundles including org.eclipse.jdt.core) but this can be done in a separate bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2484280</commentid>
    <comment_count>2</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-11-17 10:56:02 -0500</bug_when>
    <thetext>(In reply to Szymon Ptaszkiewicz from comment #1)
&gt; Gerrit review: https://git.eclipse.org/r/#/c/36576/
&gt; 
&gt; It turned out that DEBUG_COMPILATION_ENV was initialized correctly so I
&gt; fixed that in this patch.

Should be: ... was *NOT* initialized correctly</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2490142</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-28 06:19:24 -0500</bug_when>
    <thetext>Patch is released in master:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=7c614d1e063fcf9f7927d45e5d481818530396ac

Thanks for the fix, Szymon!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2491666</commentid>
    <comment_count>4</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2014-12-02 10:12:48 -0500</bug_when>
    <thetext>(In reply to Szymon Ptaszkiewicz from comment #1)
&gt; Gerrit review: https://git.eclipse.org/r/#/c/36576/
&gt; 
&gt; I think it would be good to adjust the behavior of
&gt; debug flags so that disabling the general flag (plugin_id/debug) disables
&gt; all flags (like it is done in other bundles including org.eclipse.jdt.core)
&gt; but this can be done in a separate bug.

No, see bug 452134 comment 3.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2491710</commentid>
    <comment_count>5</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-12-02 11:10:30 -0500</bug_when>
    <thetext>(In reply to Dani Megert from comment #4)
&gt; (In reply to Szymon Ptaszkiewicz from comment #1)
&gt; &gt; Gerrit review: https://git.eclipse.org/r/#/c/36576/
&gt; &gt; 
&gt; &gt; I think it would be good to adjust the behavior of
&gt; &gt; debug flags so that disabling the general flag (plugin_id/debug) disables
&gt; &gt; all flags (like it is done in other bundles including org.eclipse.jdt.core)
&gt; &gt; but this can be done in a separate bug.
&gt; 
&gt; No, see bug 452134 comment 3.

See bug 453527.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493033</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-12-05 02:34:32 -0500</bug_when>
    <thetext>(In reply to Dani Megert from comment #4)
&gt; (In reply to Szymon Ptaszkiewicz from comment #1)
&gt; &gt; Gerrit review: https://git.eclipse.org/r/#/c/36576/
&gt; &gt; 
&gt; &gt; I think it would be good to adjust the behavior of
&gt; &gt; debug flags so that disabling the general flag (plugin_id/debug) disables
&gt; &gt; all flags (like it is done in other bundles including org.eclipse.jdt.core)
&gt; &gt; but this can be done in a separate bug.
&gt; 
&gt; No, see bug 452134 comment 3.

In terms of functionality and usability, I like having something like a master switch, but I do agree that we don&apos;t wan to trouble someone who is banking on the current behavior. I think we should also remove relevant parts from fix for bug 451540.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493132</commentid>
    <comment_count>7</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-12-05 05:31:57 -0500</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #6)
&gt; (In reply to Dani Megert from comment #4)
&gt; &gt; (In reply to Szymon Ptaszkiewicz from comment #1)
&gt; &gt; &gt; Gerrit review: https://git.eclipse.org/r/#/c/36576/
&gt; &gt; &gt; 
&gt; &gt; &gt; I think it would be good to adjust the behavior of
&gt; &gt; &gt; debug flags so that disabling the general flag (plugin_id/debug) disables
&gt; &gt; &gt; all flags (like it is done in other bundles including org.eclipse.jdt.core)
&gt; &gt; &gt; but this can be done in a separate bug.
&gt; &gt; 
&gt; &gt; No, see bug 452134 comment 3.
&gt; 
&gt; In terms of functionality and usability, I like having something like a
&gt; master switch, but I do agree that we don&apos;t wan to trouble someone who is
&gt; banking on the current behavior. I think we should also remove relevant
&gt; parts from fix for bug 451540.

The fix for bug 451540 is good because master switch was already there. What Dani wants is to keep it the way it used to work - if a plugin had a master switch, it should be there, if it didn&apos;t have a master switch, we should not introduce one (although I also agree it would be better to add it for 1) functionality and usability as you mentioned, 2) consistency with other plugins in the same repo).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493196</commentid>
    <comment_count>8</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-12-05 07:52:52 -0500</bug_when>
    <thetext>Finally, I found official documentation which tells about the master switch:

http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Flaunchers%2Ftracing.htm

Based on that documentation, one could say that if the master switch exists and is set to false, then other debug options should be inactive (set to false). Otherwise, the master switch does not work like the master switch.

Also this wiki shows such examples:

https://wiki.eclipse.org/FAQ_How_do_I_use_the_platform_debug_tracing_facility</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493197</commentid>
    <comment_count>9</comment_count>
    <who name="Szymon Ptaszkiewicz">szymon.ptaszkiewicz</who>
    <bug_when>2014-12-05 07:55:17 -0500</bug_when>
    <thetext>(In reply to Szymon Ptaszkiewicz from comment #8)
&gt; Also this wiki shows such examples:
&gt; 
&gt; https://wiki.eclipse.org/FAQ_How_do_I_use_the_platform_debug_tracing_facility

Nice, the wiki was updated by Dani and the examples were removed :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2494845</commentid>
    <comment_count>10</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2014-12-09 15:36:25 -0500</bug_when>
    <thetext>(In reply to Szymon Ptaszkiewicz from comment #8)
&gt; Finally, I found official documentation which tells about the master switch:

It&apos;s just doc. Doc is not official. APIs are official. And to proof my words: the example with org.eclipse.ui.ide shows my POV: the code in that bundle actually does not use debug as the master switch. Also, the UI that this page describes does not disable the sub-preferences, i.e. does not treat debug as master switch.


(In reply to Szymon Ptaszkiewicz from comment #9)
&gt; (In reply to Szymon Ptaszkiewicz from comment #8)
&gt; &gt; Also this wiki shows such examples:
&gt; &gt; 
&gt; &gt; https://wiki.eclipse.org/FAQ_How_do_I_use_the_platform_debug_tracing_facility
&gt; 
&gt; Nice, the wiki was updated by Dani and the examples were removed :)

It&apos;s on my list to add the possibility of using debug as master switch back (as one of the two possible approaches).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2495069</commentid>
    <comment_count>11</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-10 04:47:50 -0500</bug_when>
    <thetext>Verified for 4.5 M4 using with build I20141209-2000.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>