<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>447062</bug_id>
          
          <creation_ts>2014-10-14 07:16:00 -0400</creation_ts>
          <short_desc>[1.8][dom/ast] lambda as a class member - IllegalArgumentException</short_desc>
          <delta_ts>2015-01-20 09:06:02 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4.1</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>4.4.2</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Krzysztof Debski">kdebski85</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>jarthana</cc>
    
    <cc>shankhba</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>1</votes>

      

      

      <flag name="review"
          id="63625"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2464576</commentid>
    <comment_count>0</comment_count>
    <who name="Krzysztof Debski">kdebski85</who>
    <bug_when>2014-10-14 07:16:46 -0400</bug_when>
    <thetext>I use Eclipse 4.4.1 and JDK 1.8.0.5.

I have a class with lambda as a class member:

public class LambdaTest {

	Runnable foo = () -&gt; {

	};

}

When I save this class, the following error occurs (in error log):


java.lang.IllegalArgumentException
	at org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:2845)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2252)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1789)
	at org.eclipse.jdt.core.dom.ASTConverter.convertToVariableDeclarationFragment(ASTConverter.java:3317)
	at org.eclipse.jdt.core.dom.ASTConverter.convertToFieldDeclaration(ASTConverter.java:3204)
	at org.eclipse.jdt.core.dom.ASTConverter.checkAndAddMultipleFieldDeclaration(ASTConverter.java:438)
	at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:188)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2958)
	at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1374)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:889)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:585)
	at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:896)
	at org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.createASTs(BaseProcessorEnv.java:857)
	at org.eclipse.jdt.apt.core.internal.env.ReconcileEnv.openPipeline(ReconcileEnv.java:108)
	at org.eclipse.jdt.apt.core.internal.env.AbstractCompilationEnv.newReconcileEnv(AbstractCompilationEnv.java:97)
	at org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.reconcile(APTDispatchRunnable.java:219)
	at org.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPTDuringReconcile(APTDispatchRunnable.java:167)
	at org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.reconcile(AptCompilationParticipant.java:223)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation$1.run(ReconcileWorkingCopyOperation.java:258)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.notifyParticipants(ReconcileWorkingCopyOperation.java:245)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:95)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:729)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:789)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1247)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:126)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:108)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:89)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:87)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.initialReconcile(JavaReconcilingStrategy.java:178)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:136)
	at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:105)
	at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:406)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:173)


As a result the project can not be complied properly.
When I put &apos;foo&apos; variable in any method, everything works as expected.
Making &apos;foo&apos; variable does not help.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2464689</commentid>
    <comment_count>1</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-10-14 10:00:28 -0400</bug_when>
    <thetext>Could you please try out
Version: Luna Service Release 1 (4.4.1)
Build id: 20140925-1800

It is available on the download page.
I was not able to reproduce the issue.

Could you please let me know your version ID.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2464772</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-14 10:52:47 -0400</bug_when>
    <thetext>There ought to be something more to the test case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2465224</commentid>
    <comment_count>3</comment_count>
      <attachid>247878</attachid>
    <who name="Krzysztof Debski">kdebski85</who>
    <bug_when>2014-10-15 04:01:54 -0400</bug_when>
    <thetext>Created attachment 247878
Sample project where error occurs

I found that this bug occurs only if you enable two settings in the project (in Java compiler -&gt; Annotation Processing):
&quot;Enable annotation processing&quot; and &quot;Enable processing in editor&quot;.

When &quot;Enable processing in editor&quot; is disabled, it works without error.

In am attaching sample project (without any annotations).

Steps to reproduce:
1. Open Error log view
2. Clear errors
3. Import this project to Eclipse
4. Open LambdaTest2.java
5. Make some change to the LambdaTest2.java and save it
6. Error shows up in error log.

I am using:  
Eclipse Java EE IDE for Web Developers.
Version: Luna Service Release 1 (4.4.1)
Build id: 20140925-1800

Eclipse has some additional plugins:
JBossAS Tools 3.0.0.CR1
Hibernate Tools 4.0.0.CR1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2465955</commentid>
    <comment_count>4</comment_count>
      <attachid>247902</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-10-15 14:41:24 -0400</bug_when>
    <thetext>Created attachment 247902
Proposed Patch

Issue reproduced - The source positions are taken from the parser filled data of LE - The issue manifests only for annotations because the ignoreMethodBodies flag is set.
Srikanth: can you take a look at the patch since this has a change in parser?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2466104</commentid>
    <comment_count>5</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-10-15 22:41:48 -0400</bug_when>
    <thetext>Thanks for the quick review, Srikanth. Fixed via commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=9f6007a11f2d0f4bad899b1cbfaf9d942b43a451</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2466365</commentid>
    <comment_count>6</comment_count>
    <who name="Krzysztof Debski">kdebski85</who>
    <bug_when>2014-10-16 07:46:15 -0400</bug_when>
    <thetext>Thank you for help.

Will be this fix included in 4.4.2?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2472813</commentid>
    <comment_count>7</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-10-28 05:16:42 -0400</bug_when>
    <thetext>Verified for 4.5 M3 using  I20141027-2000 build.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2487843</commentid>
    <comment_count>8</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-24 03:21:30 -0500</bug_when>
    <thetext>I have reviewed and released this fix for 4.4.2:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R4_4_maintenance&amp;id=e27be48ee11d57346cc42f5ceea57f2f158d38a8

Moving back to RESOLVED to allow it to appear in verification queries.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2507837</commentid>
    <comment_count>9</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-01-20 09:06:02 -0500</bug_when>
    <thetext>Verified for 4.4.2 RC1 with build M20150114-1500</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>247878</attachid>
            <date>2014-10-15 04:01:00 -0400</date>
            <delta_ts>2014-10-15 04:01:54 -0400</delta_ts>
            <desc>Sample project where error occurs</desc>
            <filename>LambdaTest2.zip</filename>
            <type>application/zip</type>
            <size>3536</size>
            <attacher name="Krzysztof Debski">kdebski85</attacher>
            
              <data encoding="base64">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
AAAAAAAAAAAAABsAAABMYW1iZGFUZXN0Mi9zcmMvbGFtYmRhdGVzdC9QSwMEFAAAAAgAfU1PRccz
KW2GAAAAnwAAACsAAABMYW1iZGFUZXN0Mi9zcmMvbGFtYmRhdGVzdC9MYW1iZGFUZXN0Mi5qYXZh
PY29CsIwGEVnv6e4oxa04CpKBzedxE0cvqSplsYm5AdJpe9urFC4w4UD55RFQfitJMuy44eC5peo
OSgfdkR/jopjeBqHkxuSH4JpcFTCdy1uXT2dSqbGmXeyRnsOG6vvszYK3UpIzd7jPLmv2b3Fh2hx
iX3PQis0xmCP5QrrQwaZjDk+0hdQSwECPwAUAAAAAACETU9FAAAAAAAAAAAAAAAADAAkAAAAAAAA
ABAAAAAAAAAATGFtYmRhVGVzdDIvCgAgAAAAAAABABgAqq3FzEvozwGqrcXMS+jPAYq0361L6M8B
UEsBAj8AFAAAAAAAhE1PRQAAAAAAAAAAAAAAABsAJAAAAAAAAAAQAAAAKgAAAExhbWJkYVRlc3Qy
Ly5hcHRfZ2VuZXJhdGVkLwoAIAAAAAAAAQAYAKqtxcxL6M8Bqq3FzEvozwGqrcXMS+jPAVBLAQI/
ABQAAAAIAIRNT0XAZMHj8QAAALoBAAAWACQAAAAAAAAAIAAAAGMAAABMYW1iZGFUZXN0Mi8uY2xh
c3NwYXRoCgAgAAAAAAABABgAqq3FzEvozwHqFeKtS+jPAeoV4q1L6M8BUEsBAj8AFAAAAAgAaE1P
RUhXb2rAAAAAcgEAABQAJAAAAAAAAAAgAAAAiAEAAExhbWJkYVRlc3QyLy5wcm9qZWN0CgAgAAAA
AAABABgA6hXirUvozwGKtN+tS+jPAYq0361L6M8BUEsBAj8AFAAAAAAAiE1PRQAAAAAAAAAAAAAA
ABYAJAAAAAAAAAAQAAAAegIAAExhbWJkYVRlc3QyLy5zZXR0aW5ncy8KACAAAAAAAAEAGABKTvjR
S+jPAUpO+NFL6M8B6hXirUvozwFQSwECPwAUAAAACAAwTk9FLQrAN10AAACaAAAANAAkAAAAAAAA
ACAAAACuAgAATGFtYmRhVGVzdDIvLnNldHRpbmdzL29yZy5lY2xpcHNlLmpkdC5hcHQuY29yZS5w
cmVmcwoAIAAAAAAAAQAYADfBIo5M6M8BSk740UvozwGK1eFOS+jPAVBLAQI/ABQAAAAIAGhNT0Wt
a0YvugAAAEsCAAAwACQAAAAAAAAAIAAAAF0DAABMYW1iZGFUZXN0Mi8uc2V0dGluZ3Mvb3JnLmVj
bGlwc2UuamR0LmNvcmUucHJlZnMKACAAAAAAAAEAGADqFeKtS+jPAeoV4q1L6M8B6hXirUvozwFQ
SwECPwAUAAAAAAA1Tk9FAAAAAAAAAAAAAAAAEAAkAAAAAAAAABAAAABlBAAATGFtYmRhVGVzdDIv
YmluLwoAIAAAAAAAAQAYAOMy0ZNM6M8B4zLRk0zozwGKtN+tS+jPAVBLAQI/ABQAAAAAADVOT0UA
AAAAAAAAAAAAAAAbACQAAAAAAAAAEAAAAJMEAABMYW1iZGFUZXN0Mi9iaW4vbGFtYmRhdGVzdC8K
ACAAAAAAAAEAGABHlNOTTOjPAUeU05NM6M8B4zLRk0zozwFQSwECPwAUAAAACAA1Tk9FBZLhncwB
AAB+AwAALAAkAAAAAAAAACAAAADMBAAATGFtYmRhVGVzdDIvYmluL2xhbWJkYXRlc3QvTGFtYmRh
VGVzdDIuY2xhc3MKACAAAAAAAAEAGABHlNOTTOjPAUeU05NM6M8BR5TTk0zozwFQSwECPwAUAAAA
AABuTU9FAAAAAAAAAAAAAAAAEAAkAAAAAAAAABAAAADiBgAATGFtYmRhVGVzdDIvc3JjLwoAIAAA
AAAAAQAYAEqXCLVL6M8BSpcItUvozwGKtN+tS+jPAVBLAQI/ABQAAAAAAHNNT0UAAAAAAAAAAAAA
AAAbACQAAAAAAAAAEAAAABAHAABMYW1iZGFUZXN0Mi9zcmMvbGFtYmRhdGVzdC8KACAAAAAAAAEA
GABKuna6S+jPAUq6drpL6M8BSpcItUvozwFQSwECPwAUAAAACAB9TU9FxzMpbYYAAACfAAAAKwAk
AAAAAAAAACAAAABJBwAATGFtYmRhVGVzdDIvc3JjL2xhbWJkYXRlc3QvTGFtYmRhVGVzdDIuamF2
YQoAIAAAAAAAAQAYAKrwTMZL6M8BSrp2ukvozwFKuna6S+jPAVBLBQYAAAAADQANAKIFAAAYCAAA
AAA=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>247902</attachid>
            <date>2014-10-15 14:41:00 -0400</date>
            <delta_ts>2014-10-15 14:41:24 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-447062-18dom-ast-lambda-as-a-class-membe.patch</filename>
            <type>text/plain</type>
            <size>2483</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
ZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhCmluZGV4IGU5ZTVmMDIuLmE0NDFiMzQgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Rv
bS9BU1RDb252ZXJ0ZXIxOFRlc3QuamF2YQpAQCAtNDkwNCw0ICs0OTA0LDM2IEBACiAJSVR5cGVC
aW5kaW5nIHRoYXRQYXJhbSA9IHBhcmFtc1swXTsKIAlhc3NlcnRFcXVhbHMoIkluY29ycmVjdCBw
YXJhbSIsICJAVDIgaW50IiwgdGhhdFBhcmFtLnRvU3RyaW5nKCkpOwogfQorLyoqCisgKiBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDQ3MDYyCisgKiAKKyAq
IEB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uCisgKi8KK3B1YmxpYyB2b2lkIHRlc3RCdWc0NDcw
NjIoKSB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlTdHJpbmcgY29udGVudHMgPQorCQkJ
InB1YmxpYyBjbGFzcyBYIHtcbiIgKworCQkJIiAgICBSdW5uYWJsZSBmb28gPSAoKSAtPiB7XG4i
ICsKKwkJCSIgICAgXG4iICsKKwkJCSIgICAgfVxuIiArCisJCQkifVxuIjsKKwl0aGlzLndvcmtp
bmdDb3B5ID0gZ2V0V29ya2luZ0NvcHkoIi9Db252ZXJ0ZXIxOC9zcmMvdGVzdDQ0NzA2Mi9YLmph
dmEiLCBjb250ZW50cywgdHJ1ZS8qY29tcHV0ZVByb2JsZW1zKi8pOworCUlKYXZhUHJvamVjdCBq
YXZhUHJvamVjdCA9IHRoaXMud29ya2luZ0NvcHkuZ2V0SmF2YVByb2plY3QoKTsKKwljbGFzcyBC
aW5kaW5nUmVxdWVzdG9yIGV4dGVuZHMgQVNUUmVxdWVzdG9yIHsKKwkJSVR5cGVCaW5kaW5nIF9y
ZXN1bHQgPSBudWxsOworCQlwdWJsaWMgdm9pZCBhY2NlcHRCaW5kaW5nKFN0cmluZyBiaW5kaW5n
S2V5LCBJQmluZGluZyBiaW5kaW5nKSB7CisJCQlpZiAodGhpcy5fcmVzdWx0ID09IG51bGwgJiYg
YmluZGluZyAhPSBudWxsICYmIGJpbmRpbmcuZ2V0S2luZCgpID09IElCaW5kaW5nLlRZUEUpCisJ
CQkJdGhpcy5fcmVzdWx0ID0gKElUeXBlQmluZGluZykgYmluZGluZzsKKwkJfQorCX0KKwlmaW5h
bCBCaW5kaW5nUmVxdWVzdG9yIHJlcXVlc3RvciA9IG5ldyBCaW5kaW5nUmVxdWVzdG9yKCk7CisJ
ZmluYWwgQVNUUGFyc2VyIHBhcnNlciA9IEFTVFBhcnNlci5uZXdQYXJzZXIoQVNULkpMUzgpOwor
CXBhcnNlci5zZXRSZXNvbHZlQmluZGluZ3MoZmFsc2UpOworCXBhcnNlci5zZXRQcm9qZWN0KGph
dmFQcm9qZWN0KTsKKwlwYXJzZXIuc2V0SWdub3JlTWV0aG9kQm9kaWVzKHRydWUpOworCXRyeSB7
CisJCXBhcnNlci5jcmVhdGVBU1RzKG5ldyBJQ29tcGlsYXRpb25Vbml0W10ge3RoaXMud29ya2lu
Z0NvcHl9LCBuZXcgU3RyaW5nWzBdLCByZXF1ZXN0b3IsIG51bGwpOworCX0gY2F0Y2ggKElsbGVn
YWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CisJCWFzc2VydFRydWUoIlRlc3QgRmFpbGVkIiwgZmFs
c2UpOworCX0KK30KIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29t
cGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCmluZGV4IDk5N2YwNjYuLjVkOWVmNDAgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIu
amF2YQpAQCAtODAxNSw3ICs4MDE1LDEwIEBACiAJU3RhdGVtZW50IGJvZHkgPSAoU3RhdGVtZW50
KSB0aGlzLmFzdFN0YWNrW3RoaXMuYXN0UHRyLS1dOwogCWlmIChib2R5IGluc3RhbmNlb2YgQmxv
Y2spIHsKIAkJaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVNZXRob2RCb2RpZXMpIHsKKwkJCVN0YXRl
bWVudCBvbGRCb2R5ID0gYm9keTsKIAkJCWJvZHkgPSBuZXcgQmxvY2soMCk7CisJCQlib2R5LnNv
dXJjZVN0YXJ0ID0gb2xkQm9keS5zb3VyY2VTdGFydDsKKwkJCWJvZHkuc291cmNlRW5kID0gb2xk
Qm9keS5zb3VyY2VFbmQ7CiAJCX0KIAkJKChCbG9jaykgYm9keSkubGFtYmRhQm9keSA9IHRydWU7
IC8vIGZvciBjb25zaXN0ZW5jeSdzIHNha2VzLgogCX0=
</data>

          </attachment>
      

    </bug>

</bugzilla>