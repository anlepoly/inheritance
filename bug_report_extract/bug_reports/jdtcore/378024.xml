<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>378024</bug_id>
          
          <creation_ts>2012-04-29 02:59:00 -0400</creation_ts>
          <short_desc>Ordering of comments between imports not preserved</short_desc>
          <delta_ts>2013-02-04 11:00:52 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.3 M5</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ayushman Jain">amj87.iitr</reporter>
          <assigned_to name="Stephan Herrmann">stephan.herrmann</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>satyam.kandula</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="50635"
          type_id="1"
          status="+"
          setter="stephan.herrmann"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2100155</commentid>
    <comment_count>0</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-29 02:59:40 -0400</bug_when>
    <thetext>HEAD + fix for bug 376734

Bug 24804 and bug 376734 fix wiping out comments on organize import action. However, the ordering of the comments is still not preserved. Eg:

/*
 * I must not be moved!
 */
import java.awt.List;
/*
 * I must not be moved!
 */
import java.io.Serializable;
/*
 * I must not be moved!
 */
import java.util.HashMap;

public class Snippet implements Serializable {
    void foo() {
        List l = new List();
        HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();
    }
}

Here all comments end up at the end. This needs to be fixed</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100156</commentid>
    <comment_count>1</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-29 03:02:20 -0400</bug_when>
    <thetext>Tentatively marking for M7, since I have a working fix which passes all tests. If review cannot be finished in time, will move it out.

I&apos;ll submit a patch once bug 376930 is released.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100383</commentid>
    <comment_count>2</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-04-30 07:10:14 -0400</bug_when>
    <thetext>&gt; HEAD + fix for bug 376734

This doesn&apos;t make much sense since HEAD/master already contains the fix for bug 376734, no? Did you mean bug 376930?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100408</commentid>
    <comment_count>3</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-30 07:58:35 -0400</bug_when>
    <thetext>(In reply to comment #2)
&gt; &gt; HEAD + fix for bug 376734
&gt; 
&gt; This doesn&apos;t make much sense since HEAD/master already contains the fix for bug
&gt; 376734, no? Did you mean bug 376930?

Yes bug 376930 is what I meant. Sorry for the confusion.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2102409</commentid>
    <comment_count>4</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-03 13:16:45 -0400</bug_when>
    <thetext>I pushed a topic branch ajain/bug378024 with the changes. 
Satyam, would you like to volunteer for a review? :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2102770</commentid>
    <comment_count>5</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-04 05:42:33 -0400</bug_when>
    <thetext>A bit of explanation about the fix:
1) The first part of the fix deals with preserving comment positions when all imports are removed and re-added. This is done when a user presses CTRL+SHIFT+O. Without the fix the preserveCommentRanges[] array stores the comment positions but it moves all of them to the end. In the fix, a new method IRA.addImportDeclEntry(..) now reads that array and initializes the freshly added imports with trailing and leading comments, if those imports existed earlier as well. This fix thus preserves not just the comments, but also their positions, when CTRL+SHIFT+O is done. Comments nt part of any extended range are also added as dummy import entries to preserve their order between imports.
2) The other part is to correct a few problems while dealing with comments when imports are restored, and only new ones are added or a few removed. This operation happens during quick fix, refactoring, etc. In some cases, comments were still not preserved. In case we remove an import, all its trailing and leading comments were getting lost. This is fixed in IRA.removeImport(..). Comments not part of any extended range are now better handled in IRA.addExistingImports(..).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2104889</commentid>
    <comment_count>6</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-09 02:27:08 -0400</bug_when>
    <thetext>Stephan, will you be able to spare a few cycles for a second review?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2105439</commentid>
    <comment_count>7</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-09 14:06:45 -0400</bug_when>
    <thetext>After Satyam pointed out some weird rendering in the editor on the topic branch, I noticed that some edits were malformed after the fix, such as a delete edit and an insert edit starting at the same offset. I investigated and removed some changes that, in hindsight, were really not necessary and were causing mangled edits. The patch is leaner now. I&apos;ve pushed the changes to the branch. It will help to compare the changed file with the version before the commits for the fix started to get a clear picture of what really changed.

Also, one problem that will no longer be tackled is the case of removal of imports. ie.

//lead
import bla; // comment
// trail

If bla is removed, //comment will also be removed along with it. This was always the case and is nothing new. We can fix this case later with another bug. Handling it for this bug was complicating the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2105626</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-09 20:57:31 -0400</bug_when>
    <thetext>(In reply to comment #7)
&gt; After Satyam pointed out some weird rendering in the editor on the topic
&gt; branch, I noticed that some edits were malformed after the fix, such as a
&gt; delete edit and an insert edit starting at the same offset. I investigated and
&gt; removed some changes that, in hindsight, were really not necessary and were
&gt; causing mangled edits. The patch is leaner now. 

Ayush, I haven&apos;t looked at the patch yet - but it looks to me if this is long
standing issue, we should let the sleeping dog lie and fix it just post 3.8. 
Given what we know of the imminent changes, I would hate to have to fire fight
on some behavior that was around for a while and was not reported by 
customers and tagged as a blocker. 

Can you please identify the earliest version that displays the bug ?

Let me know if you strongly disagree with the request to defer.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2105652</commentid>
    <comment_count>9</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-10 00:18:22 -0400</bug_when>
    <thetext>Thinking a bit more about it, this also strikes me as a bit
of a pedantic/academic case - while it is not unimaginable that
imports would be preceded by comments, this doesn&apos;t look like
a common case which would explain this problem not being found/reported
by customers.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2105665</commentid>
    <comment_count>10</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-10 01:31:37 -0400</bug_when>
    <thetext>(In reply to comment #9)
&gt; Thinking a bit more about it, this also strikes me as a bit
&gt; of a pedantic/academic case - while it is not unimaginable that
&gt; imports would be preceded by comments, this doesn&apos;t look like
&gt; a common case which would explain this problem not being found/reported
&gt; by customers.

The customers did not find this issue until now because until 3.7, the comments are completely lost. And if you look at the bug 24804, you&apos;ll see a host of duplicated filed for the comment deletion issue. Since from 3.8 onwards, comments are preserved but their position is changed, we&apos;ll see &quot;zombie changes in my file on saving&quot; bugs post 3.8. 

(In reply to comment #8)
&gt; Can you please identify the earliest version that displays the bug ?
It has been there ever since Import Rewriter was implemented i.e. as far back as 3.3

&gt; Let me know if you strongly disagree with the request to defer.
No, I don&apos;t strongly disagree, but would prefer to see it through atleast in 4.3M1.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2105668</commentid>
    <comment_count>11</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-10 01:42:02 -0400</bug_when>
    <thetext>(In reply to comment #10)

Thanks for the clarification Ayush.

&gt; &gt; Let me know if you strongly disagree with the request to defer.
&gt; No, I don&apos;t strongly disagree, but would prefer to see it through atleast in
&gt; 4.3M1.

Sounds good. Let us proceed with the reviews and incorporate any comments
from there and publish an up to date patch here - we will release it just
post 3.8 shipment.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108264</commentid>
    <comment_count>12</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-05-15 11:12:41 -0400</bug_when>
    <thetext>Comments from reading the changes:

In the new method addImportDeclEntry():

(1) I&apos;d suggest to extract this.preserveExistingCommentsRanges[j].getLength() to a local, just as you did for the offset :)

(2) In the block starting with 
	} else if ((currExtendedStart + currExtendedLen) != (currOffset + currLength)){
you seem to assume that offset is either exactly == (currOffset + currLength) or completely outside the current entry.
Could it happen that there is a small gap between (currOffset + currLength) and the offset, which may still be within the extended range?
If not, what prevents that situation?

(3) Any reasons, not to combine the checks before the method&apos;s invocation and at the start of the method body? In both cases we may opt out and directly create a ImportDeclEntry instead.

Some changes in addExistingImports() seem to be obsolete.

Other than that I&apos;m a bit at loss identifying the purpose of each individual change, since as you say this addresses several problems at once.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2140094</commentid>
    <comment_count>13</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-07-23 08:13:55 -0400</bug_when>
    <thetext>(In reply to comment #12)
&gt; Comments from reading the changes:
&gt; 
&gt; In the new method addImportDeclEntry():
&gt; 
&gt; (1) I&apos;d suggest to extract this.preserveExistingCommentsRanges[j].getLength()
&gt; to a local, just as you did for the offset :)
Yup, good point.
 
&gt; (2) In the block starting with 
&gt;     } else if ((currExtendedStart + currExtendedLen) != (currOffset +
&gt; currLength)){
&gt; you seem to assume that offset is either exactly == (currOffset + currLength)
&gt; or completely outside the current entry.
&gt; Could it happen that there is a small gap between (currOffset + currLength) and
&gt; the offset, which may still be within the extended range?
&gt; If not, what prevents that situation?
There could be a gap, but the whole idea of this method is to calculate preceeding and trailing comments for each import. In case the offset of a comment starts after the (currOffset + currLength) boundary, it cannot be part of the trailing range and is thus not interesting to us.

&gt; (3) Any reasons, not to combine the checks before the method&apos;s invocation and
&gt; at the start of the method body? In both cases we may opt out and directly
&gt; create a ImportDeclEntry instead.
Right, we can. I however like the separate checks, so that a reader clearly knows that the method needs to be called only when the imports have to be preserved (quick fix, etc.), and not in other cases (CTRL+SHIFT+O)

&gt; Some changes in addExistingImports() seem to be obsolete.
I do see a redudnant variable nextExtendedOffsetLine, but not sure exactly what others are. 
&gt; Other than that I&apos;m a bit at loss identifying the purpose of each individual
&gt; change, since as you say this addresses several problems at once.
I think the core part of the fix is explained in comment 5. There are a lot of changes that had to be done as &apos;adjustments&apos; to take care of the new way of calculating preceeding and trailing comments. I do have tests added for all these I&apos;m sure.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2149059</commentid>
    <comment_count>14</comment_count>
      <attachid>219961</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-08-16 09:51:52 -0400</bug_when>
    <thetext>Created attachment 219961
proposed fix v1.0 + regression tests

While the changes are in the topic branch, here is the latest patch that applies on master as of today. 
It&apos;ll be good if jdt.ui tests could be run for this and this be released to master. I&apos;ve already tested the patch and also run all jdt.core tests. Everything looks ok. 
Tentatively targetting for 4.3M2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2162118</commentid>
    <comment_count>15</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-09-20 01:26:52 -0400</bug_when>
    <thetext>Stephan, please review and release for M3.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2163458</commentid>
    <comment_count>16</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-09-23 10:53:37 -0400</bug_when>
    <thetext>(In reply to comment #15)
&gt; Stephan, please review and release for M3.

sure, will do.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2177279</commentid>
    <comment_count>17</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-30 05:16:17 -0400</bug_when>
    <thetext>Stephan, do you expect to be able to get to this for M3? Feel free to move out to M4 otherwise.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2177570</commentid>
    <comment_count>18</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-10-30 12:41:24 -0400</bug_when>
    <thetext>Sorry, this escaped my attention. 
As I don&apos;t want to rush it I&apos;m moving it to M4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2189702</commentid>
    <comment_count>19</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-01 18:19:23 -0500</bug_when>
    <thetext>Here&apos;s what I found during reviewing the patch from comment 14:

COSMETICS:
(1) two unused locals in addExistingImports() -&gt; removed

(2) simplification from
     new IRegion[preserveCommentsLen = (preserveCommentsLen - 1)]
to
     new IRegion[--preserveCommentsLen]

LOGIC:
(3) I&apos;m not 100% sure about allImportsAddedToStar in getResultingEdits():
At first I thought instead of setting allImportsAddedToStar=true we could simply &quot;continue&quot;, but further testing showed that this misses the handling of onDemandConflicts.
Frankly, I&apos;m not comfortable with the various non-normalized combinations of 6 individual predicates in the body of the k-loop.

When looking for tests that would demonstrate what exactly this logic should look like I found the following (assume *-threshold is 1):

package pack1;

import java.util.Map;
/* lead Entry */
import java.util.Map.Entry;

public class C1 {
    public static void main(String[] args) {
        HashMap h;

        Map.Entry e= null;
        Entry e2= null;
    }
}

Trigger importing of HashMap (e.g., by code completion) fails to collate all into java.util.*, producing these imports:

import java.util.Map;

import java.util.*;

/* lead Entry */
import java.util.Map.Entry;

The explicit import of Map shouldn&apos;t be there and the same example without comments does produce the correct result.
This could already be caused prior to getResultingEdits() because Map and HashMap are captured in different PackageEntries.
This needs more investigation.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2189704</commentid>
    <comment_count>20</comment_count>
      <attachid>224197</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-01 18:22:53 -0500</bug_when>
    <thetext>Created attachment 224197
Required changes in JDT/UI tests

These changes would be required in JDT/UI tests when the current patch is released.

Changes look OK to me but should be approved by others.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2189727</commentid>
    <comment_count>21</comment_count>
      <attachid>224198</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-02 07:35:09 -0500</bug_when>
    <thetext>Created attachment 224198
updated patch

I&apos;ve fixed the issues from comment 19 item (3):

- collating into *-import was prevented by a comment PackageEntry 
  that disturbed the grouping of import decls.
  -&gt; Fixed by representing the comment by an ImportDeclEntry only.
  This required fine tuning regarding the insertion/preservation
  of newlines (some of which has impact on JDT/UI tests ...)

- made logic inside getResultingEdits() more readable by introducing
  some boolean locals.
  -&gt; includes a bug fix where a predicate (o != null &amp;&amp; o.m())
     was incorrectly unfolded to (o == null || o.m())
     (this never surfaced, perhaps because o is never null(?))</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2189728</commentid>
    <comment_count>22</comment_count>
      <attachid>224199</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-02 07:46:58 -0500</bug_when>
    <thetext>Created attachment 224199
updated changes for JDT/UI tests

Here&apos;s an update of required changes in JDT/UI tests (only expecting one fewer newlines than previous patch).

Two more tests require updating:
InferTypeArgumentsTest.{testJUnit,testJUnitWithCloneNotRaw}, where the expected result lacks a newline between import groups. 
In these tests comparison is against a src-zip (?) of which I don&apos;t know how this was created, so I&apos;m not sure what&apos;s the best approach to update the tests.
I briefly tried to avoid the issue by 
  javaProject.setOption(DefaultCodeFormatterConstants.FORMATTER_BLANK_LINES_BETWEEN_IMPORT_GROUPS, &quot;0&quot;);
but then the inverse problem occurred in a different location.

Please let me know if these test changes are OK.

If there&apos;s a +1 from JDT/UI regarding these test changes I&apos;m ready to release the patch from comment 21.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2190248</commentid>
    <comment_count>23</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-04 04:37:45 -0500</bug_when>
    <thetext>Dani, could you please comment on comment 22? TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2192566</commentid>
    <comment_count>24</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-12-10 11:52:38 -0500</bug_when>
    <thetext>(In reply to comment #23)
&gt; Dani, could you please comment on comment 22? TIA.

This is fine. Just ping me when you want to go ahead.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2192841</commentid>
    <comment_count>25</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2012-12-11 04:12:03 -0500</bug_when>
    <thetext>To be finished early in M5.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2198352</commentid>
    <comment_count>26</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-03 08:42:09 -0500</bug_when>
    <thetext>Can we go ahead and close this?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200245</commentid>
    <comment_count>27</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-08 11:08:24 -0500</bug_when>
    <thetext>I released the patch for 4.3 M5 via commit 919024c6945d276058446a723145394a23656d2f

Leaving the bug open for handshake with JDT/UI: their tests need adjusting, comment 22 has the details, thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200252</commentid>
    <comment_count>28</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-08 11:19:29 -0500</bug_when>
    <thetext>(In reply to comment #27)
&gt; I released the patch for 4.3 M5 via commit
&gt; 919024c6945d276058446a723145394a23656d2f
&gt; 
&gt; Leaving the bug open for handshake with JDT/UI: their tests need adjusting,
&gt; comment 22 has the details, thanks.

Fixed with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=7deee1b79cf1789be4e7e257b25c31d2e6c9d19e</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200293</commentid>
    <comment_count>29</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-08 11:57:11 -0500</bug_when>
    <thetext>(In reply to comment #28)
&gt; (In reply to comment #27)
&gt; &gt; I released the patch for 4.3 M5 via commit
&gt; &gt; 919024c6945d276058446a723145394a23656d2f
&gt; &gt; 
&gt; &gt; Leaving the bug open for handshake with JDT/UI: their tests need adjusting,
&gt; &gt; comment 22 has the details, thanks.
&gt; 
&gt; Fixed with
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/
&gt; ?id=7deee1b79cf1789be4e7e257b25c31d2e6c9d19e

Did you check InferTypeArgumentsTest (see comment 22)?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200303</commentid>
    <comment_count>30</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-08 12:14:05 -0500</bug_when>
    <thetext>cleaning up stale review flag.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200311</commentid>
    <comment_count>31</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-08 12:23:41 -0500</bug_when>
    <thetext>(In reply to comment #29)
&gt; (In reply to comment #28)
&gt; &gt; (In reply to comment #27)
&gt; &gt; &gt; I released the patch for 4.3 M5 via commit
&gt; &gt; &gt; 919024c6945d276058446a723145394a23656d2f
&gt; &gt; &gt; 
&gt; &gt; &gt; Leaving the bug open for handshake with JDT/UI: their tests need adjusting,
&gt; &gt; &gt; comment 22 has the details, thanks.
&gt; &gt; 
&gt; &gt; Fixed with
&gt; &gt; http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/
&gt; &gt; ?id=7deee1b79cf1789be4e7e257b25c31d2e6c9d19e
&gt; 
&gt; Did you check InferTypeArgumentsTest (see comment 22)?

Oops, didn&apos;t fully read comment 22 and assumed your patch is complete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200331</commentid>
    <comment_count>32</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-08 13:07:56 -0500</bug_when>
    <thetext>(In reply to comment #31)
&gt; (In reply to comment #29)
&gt; &gt; (In reply to comment #28)
&gt; &gt; &gt; (In reply to comment #27)
&gt; &gt; &gt; &gt; I released the patch for 4.3 M5 via commit
&gt; &gt; &gt; &gt; 919024c6945d276058446a723145394a23656d2f
&gt; &gt; &gt; &gt; 
&gt; &gt; &gt; &gt; Leaving the bug open for handshake with JDT/UI: their tests need adjusting,
&gt; &gt; &gt; &gt; comment 22 has the details, thanks.
&gt; &gt; &gt; 
&gt; &gt; &gt; Fixed with
&gt; &gt; &gt; http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/
&gt; &gt; &gt; ?id=7deee1b79cf1789be4e7e257b25c31d2e6c9d19e
&gt; &gt; 
&gt; &gt; Did you check InferTypeArgumentsTest (see comment 22)?
&gt; 
&gt; Oops, didn&apos;t fully read comment 22 and assumed your patch is complete.

OK. I was almost 100% sure that I ran the tests when adding comment 24 and indeed, the InferTypeArgumentsTests are green. So, I don&apos;t know what the problem was on your end.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200344</commentid>
    <comment_count>33</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-08 13:20:00 -0500</bug_when>
    <thetext>(In reply to comment #32)
&gt; OK. I was almost 100% sure that I ran the tests when adding comment 24 and
&gt; indeed, the InferTypeArgumentsTests are green.

that&apos;s good news :)

&gt; So, I don&apos;t know what the problem was on your end.

I can&apos;t reproduce either. Sorry for the churn.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200943</commentid>
    <comment_count>34</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-09 19:43:13 -0500</bug_when>
    <thetext>Alerted by bug 397739 I rechecked and found this:
- during code review I created two local branches, one with Ayush&apos;s last state and one with my polish
- when I finally released the fix I pushed the wrong branch (unaware of the other one)

While Ayush&apos;s patch is good, this version still has the problem from comment 19.
Re-opening to push my changes, too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200947</commentid>
    <comment_count>35</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-09 19:59:58 -0500</bug_when>
    <thetext>*** Bug 397739 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2200949</commentid>
    <comment_count>36</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-09 20:11:58 -0500</bug_when>
    <thetext>I released the missing changes from code review via commit 4acde1e0a5179616c6bfc8db1555f7556fcd927f.

At this point I do see the failures in InferTypeArgumentsTests (JDT/UI).

Dani, sorry to bother you once more to have a look at these two tiny issues.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2201175</commentid>
    <comment_count>37</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-10 09:00:18 -0500</bug_when>
    <thetext>(In reply to comment #36)
&gt; I released the missing changes from code review via commit
&gt; 4acde1e0a5179616c6bfc8db1555f7556fcd927f.
&gt; 
&gt; At this point I do see the failures in InferTypeArgumentsTests (JDT/UI).
&gt; 
&gt; Dani, sorry to bother you once more to have a look at these two tiny issues.

np.

Fixed with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=1d67bcb40c63b0f2a68e3ed3b0a91fcdf0885738</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2201205</commentid>
    <comment_count>38</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2013-01-10 09:37:03 -0500</bug_when>
    <thetext>(In reply to comment #37)

Thanks, and thanks for catching this via bug 397739!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2202291</commentid>
    <comment_count>39</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-01-14 04:45:49 -0500</bug_when>
    <thetext>(In reply to comment #38)
&gt; (In reply to comment #37)
&gt; 
&gt; Thanks, and thanks for catching this via bug 397739!

RenamePackageTests.testImportFromMultiRoots2()was also failing. Fixed now with http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=1eb4ac014de23c6931919520c6a4b755a59833ad</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2211846</commentid>
    <comment_count>40</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-04 11:00:52 -0500</bug_when>
    <thetext>Verified for 4.3 M5 with build I20130130-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>219961</attachid>
            <date>2012-08-16 09:51:00 -0400</date>
            <delta_ts>2012-12-02 07:36:22 -0500</delta_ts>
            <desc>proposed fix v1.0 + regression tests</desc>
            <filename>Fixed-bug-378024--Ordering-of-comments-between-impor.patch</filename>
            <type>text/plain</type>
            <size>66728</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCA3ZDAxNTk2Li43ZjVmMWIzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC0xNTM3LDYgKzE1MzcsNyBAQAogICAgICAgICAg
ICAgICAgICJcbiIgKyAKICAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0
ZXN0XG4iICsgCiAgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5O1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKwogICAgICAgICAgICAgICAgICIvL2NvbW1lbnQg
MlxuIiArCiAgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vs
c2U7XG4iICsKICAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKwpAQCAtMjAzMiwxMSAr
MjAzMyw4IEBACiAgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCiAgICAgICAg
ICAgICAgICAgIlxuIiArCiAgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCi0JCQkJ
Ii8qIGxlYWQgMiovIiArCi0JCQkJImltcG9ydCBqYXZhLnV0aWwuKjtcbiIgKyAKKwkJCQkiLyog
bGVhZCAyKi8vKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKIAkJ
CQkiLy8gdGVzdDJcbiIgKwotCQkJCSIvKiBsZWFkIDEqLyBcbiIgKwotCQkJCSIvLyB0ZXN0MVxu
IiArCiAJCQkJIi8qIGxlYWQgMyovIFxuIiArCiAJCQkJIi8vIHRlc3QzXG4iICsKIAkJCQkiLy8g
Y29tbWVuIDNcbiIgKwpAQCAtMjA5Niw3ICsyMDk0LDcgQEAKICAgICAgICAgICAgICAgICAiXG4i
ICsgCiAgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCiAJCQkJIi8qIGxlYWQgMSov
ICIgKwotCQkJCSJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xuIiArIAorCQkJCSJpbXBvcnQgamF2
YS51dGlsLk1hcC4qOyAiICsgCiAJCQkJIi8vIHRlc3QxXG4iICsKIAkJCQkiLyogbGVhZCAyKi9c
biIgKwogCQkJCSIvLyB0ZXN0MlxuIiArCkBAIC0yMTU5LDEwICsyMTU3LDEwIEBACiAgICAgICAg
ICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCiAgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiov
aW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKwogICAgICAgICAgICAg
ICAgICJcbiIgKwotICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDEqLyAiICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRp
bC4qO1xuIiArIAogICAgICAgICAgICAgICAgICIgLy8gdGVzdDFcbiIgKwogICAgICAgICAgICAg
ICAgICIvLyBjb21tZW4gM1xuIiArCi0gICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwu
KjtcbiIgKyAKICAgICAgICAgICAgICAgICAiXG4iICsgCiAgICAgICAgICAgICAgICAgInB1Ymxp
YyBjbGFzcyBDIHtcbiIgKyAKICAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9p
ZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKQEAgLTIxNzcsNiArMjE3NSwxMzM5IEBACiAg
ICAgICAgICAgICAgICAgIn0iKTsKICAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291
cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKICAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdz
LmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3ODAyNAorICAgIHB1YmxpYyB2b2lk
IHRlc3RCdWczNzgwMjQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFn
bWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFj
azEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2Ug
cGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICoga2VlcCBtZSB3aXRoIExpc3RcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisg
ICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3
dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBrZWVwIG1lIHdpdGggU2VyaWFsaXphYmxlXG4iICsKKyAgICAgICAgICAgICAg
ICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxl
Oy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAg
ICIgKiBrZWVwIG1lIHdpdGggSGFzaE1hcFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6
YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwg
PSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9
Iik7CisgICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlv
blVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAg
U3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLmF3dCIsICJqYXZh
LmlvIiwgImphdmEudXRpbCIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5l
d0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgMiwgMiwgZmFsc2UpOworICAgICAgICBpbXBvcnRz
LnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1w
b3J0cy5hZGRJbXBvcnQoImphdmEuYXd0Lkxpc3QiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEuaW8uU2VyaWFsaXphYmxlIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJq
YXZhLnV0aWwuSGFzaE1hcCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAg
IGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAg
ICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIg
KworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggTGlzdFxuIiArCisgICAgICAgICAg
ICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcblxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIFNlcmlhbGl6YWJsZVxu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBq
YXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuXG4iICsKKyAgICAgICAgICAgICAgICAiLypc
biIgKworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggSGFzaE1hcFxuIiArCisgICAg
ICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwu
SGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3Mg
QyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1
YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiAr
IAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1Lmdl
dFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8v
YnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICBwdWJsaWMg
dm9pZCB0ZXN0QnVnMzc4MDI0YigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2Fn
ZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50
KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBT
dHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFj
a2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAg
ICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9c
biIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVz
dDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRv
bid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAg
ICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgp
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAg
IElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2
YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3Jk
ZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07
CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwg
b3JkZXIsIDEsIDEsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0
ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZh
LmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6
YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsK
KworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVm
ZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFj
azE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAi
ICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAg
ICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5hd3QuKjsv
LyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAi
ICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAg
ICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykg
e1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNz
ZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9Cisg
ICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lk
PTM3ODAyNAorICAgIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1lbnRzIGFsd2F5cyBtb3Zl
IHdpdGggaW1wb3J0cy4gCisgICAgLy8gY29tbWVudHMgaW4gYmV0d2VlbiBzdGF5IHdoZXJlIHRo
ZXkgYXJlCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3ODAyNGMoKSB0aHJvd3MgRXhjZXB0aW9u
IHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNy
ZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmlu
Z0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisg
ICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAg
ICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAg
ICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNc
biIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUg
bWUgNFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1w
b3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8g
Y29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAg
InB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0
aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRv
U3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBT
dHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAg
ICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgOTks
IDk5LCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5hd3QuTGlz
dCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsK
KyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAg
ICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwor
ICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAg
ICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8g
bGVhZCAxXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVz
dDFcbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQg
M1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0
M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAg
ICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAg
ICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4i
ICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBt
b3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAg
ICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGlt
cGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisg
ICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291
cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdz
LmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3ODAyNAorICAgIC8vIGxlYWRpbmcg
YW5kIHRyYWlsaW5nIGNvbW1lbnRzIGFsd2F5cyBtb3ZlIHdpdGggaW1wb3J0cy4gCisgICAgLy8g
Y29tbWVudHMgaW4gYmV0d2VlbiBzdGF5IHdoZXJlIHRoZXkgYXJlCisgICAgcHVibGljIHZvaWQg
dGVzdEJ1ZzM3ODAyNGNfMSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZy
YWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJw
YWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJp
bmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2Fn
ZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
Ly8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAg
ICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisg
ICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAg
ICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3
dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5p
by5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisg
ICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAg
IiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4i
ICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAg
ICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
Ly9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7
Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVt
ZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAg
ICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3Jl
YXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwp
OworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiY29t
IiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRz
UmV3cml0ZShjdSwgb3JkZXIsIDk5LCA5OSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVz
ZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5h
ZGRJbXBvcnQoImphdmEuYXd0Lkxpc3QiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImph
dmEuaW8uU2VyaWFsaXphYmxlIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0
aWwuSGFzaE1hcCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9
IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAg
ICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAg
ICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIg
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9y
dCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKwor
ICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAg
ICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAg
ICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAg
ICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAi
ICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3Nl
cnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAg
ICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9
Mzc4MDI0CisgICAgLy8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMgYWx3YXlzIG1vdmUg
d2l0aCBpbXBvcnRzLCBldmVuIGlmIHRoZXkgZ2V0IGZvbGRlZC4gCisgICAgLy8gY29tbWVudHMg
aW4gYmV0d2VlbiBzdGF5IHdoZXJlIHRoZXkgYXJlCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3
ODAyNGNfMigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
dCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8v
IHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypc
biIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAg
ICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxp
emFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNc
biIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNc
biIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJp
YWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlz
dCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0g
bnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGls
YXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAg
ICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiY29tIiwgInBhY2si
IH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShj
dSwgb3JkZXIsIDEsIDEsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9G
aWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJq
YXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlh
bGl6YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAi
KTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2Ug
cGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAg
ICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAg
ICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5hd3Qu
KjsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGph
dmEuaW8uKjsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAg
ICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4i
ICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBt
b3ZlIG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsvLyB0
ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRz
IFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMg
dm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAg
ICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBi
dWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNl
Lm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBub3QgYWRkaW5nIGFuIGlt
cG9ydCBzaG91bGQgcHJlc2VydmUgaXRzIGNvbW1lbnRzIGFuZCBwdXQgdGhlbSBhdCB0aGUgZW5k
LgorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRkKCkgdGhyb3dzIEV4Y2VwdGlvbiB7Cisg
ICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQ
YWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZm
ZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAg
ICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAgICAg
ICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICJc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAg
ICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsK
KyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDRc
biIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBq
YXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
biAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJs
aWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlvblVu
aXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmlu
ZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5n
W10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1w
b3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEsIDEsIGZh
bHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9y
dHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7Cisg
ICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuSGFzaE1hcCIpOworCisgICAgICAg
IGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAg
ICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4i
ICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBt
b3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxl
YWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC4qOy8vIHRlc3QxXG4i
ICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIg
KworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7Ly8gdGVzdDNcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAgICAgICAgICAg
ICAgIiAqLyIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAq
IGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAg
ICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgIi8vIHRlc3QyXG4iICsK
KyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3Zl
IG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJc
biIgKworICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6
YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwg
PSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9
Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJp
bmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBhZGRpbmcgYSBuZXcgaW1wb3J0IHNob3Vs
ZCBub3QgZGlzdHVyYiBjb21tZW50cyBhbmQgaW1wb3J0IHNob3VsZCBiZSBhZGRlZCBpbiBpdHMg
Z3JvdXAKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0ZSgpIHRocm93cyBFeGNlcHRpb24g
eworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3Jl
YXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5n
QnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAi
LypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAg
ICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAg
ICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBv
cnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBj
b21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
cHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRp
b25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9T
dHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0
cmluZ1tdIHsgImphdmEiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0
ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDIsIDIsIGZhbHNlKTsKKyAg
ICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7
CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBvcnRz
LmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOworICAgICAgICBpbXBvcnRzLmFkZElt
cG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKwor
ICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisg
ICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAg
ICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAg
ICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAg
ICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIgKworICAgICAgICAgICAgICAg
ICIvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAg
ICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1l
IDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvL2xl
YWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0
ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRz
IFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMg
dm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAg
ICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBi
dWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNl
Lm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyByZW1vdmluZyBhbiBpbXBv
cnQgc2hvdWxkIHByZXNlcnZlIGl0cyBjb21tZW50cyBhdCB0aGUgZW5kLCBhbmQgYWRkaW5nIGEg
bmV3IGltcG9ydCBzaG91bGQgbm90IGRpc3R1cmIKKyAgICAvLyBleGlzdGluZyBjb21tZW50cwor
ICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRlXzEoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAg
ICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBh
Y2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZl
ciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAg
ICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4i
ICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAg
ICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3Qg
bW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAg
ICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAg
ICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGph
dmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
IDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1Ymxp
YyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5p
dCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5n
KCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdb
XSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBv
cnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgMiwgMiwgZmFs
c2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0
cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuYXd0Lkxpc3QiKTsKKyAg
ICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8uUHJpbnRXcml0ZXIiKTsKKyAgICAgICAg
aW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHko
aW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAg
ICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUg
MVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4i
ICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4i
ICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKwor
ICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5QcmludFdyaXRlcjtcbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAg
ICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAg
ICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAi
ICovIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9u
J3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gdGVzdDJcbiIgKworICAg
ICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUg
M1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiAr
IAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJs
ZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0
cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBu
ZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7
CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmco
KSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3No
b3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBmb2xkaW5nIGltcG9ydHMgYmVjYXVzZSBvZiBh
IG5ld2x5IGFkZGVkIGltcG9ydCBzaG91bGQgcHJlc2VydmUgY29tbWVudHMKKyAgICBwdWJsaWMg
dm9pZCB0ZXN0QnVnMzc4MDI0ZigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2Fn
ZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50
KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBT
dHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFj
a2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIg
KworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2
YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAg
ICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hN
YXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1w
bGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAg
ICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEu
Y3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51
bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAi
Y29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBv
cnRzUmV3cml0ZShjdSwgb3JkZXIsIDIsIDIsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRV
c2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJq
YXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5p
by5QcmludFdyaXRlciIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhh
c2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcg
U3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBh
Y2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAg
ICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIg
KworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2
YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAi
aW1wb3J0IGphdmEuaW8uKjtcbiIgKworICAgICAgICAgICAgICAgICIvLyB0ZXN0MlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLypc
biIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDRcbiIgKworICAgICAgICAg
ICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAg
ICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td
IGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlz
dCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAg
ICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7Cisg
ICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVn
LmNnaT9pZD0zNzgwMjQKKyAgICAvLyBmb2xkaW5nIGltcG9ydHMgYmVjYXVzZSBvZiBhIG5ld2x5
IGFkZGVkIGltcG9ydCBzaG91bGQgcHJlc2VydmUgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0
ZXN0QnVnMzc4MDI0Zl8xKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJh
Z21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBh
Y2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmlu
Z0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdl
IHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIv
LyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAg
ICAgIiAqIGtlZXAgbWUgd2l0aCBMaXN0XG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5h
d3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIFNlcmlhbGl6
YWJsZVxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgImlt
cG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIFNlcmlhbGl6YWJsZSAy
XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0
IGphdmEuaW8uUHJpbnRXcml0ZXI7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGtlZXAgbWUgd2l0aCBQcmludFdyaXRlclxuIiArCisg
ICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAg
ICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZVxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vbGVhZCA0XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
dXRpbC5IYXNoTWFwOy8vIHRlc3Q0XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9
XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBj
dSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCks
IGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7
ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRS
ZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgMiwgMiwgZmFsc2Up
OworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0
cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuYXd0Lkxpc3QiKTsKKyAgICAg
ICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8uU2VyaWFsaXphYmxlIik7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLnV0aWwuSGFzaE1hcCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMp
OworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVu
ZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAg
ICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggTGlzdFxuIiAr
CisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAg
ICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgNFxuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0NFxuIiArCisgICAgICAg
ICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAg
ICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIFNlcmlhbGl6YWJsZVxuIiArCisgICAgICAg
ICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGxlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmlvLio7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqIGtlZXAgbWUgd2l0aCBQcmludFdyaXRlclxuIiArCisgICAgICAgICAgICAgICAg
IiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAg
ICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggU2VyaWFsaXphYmxl
IDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWVcbiIgKworICAgICAgICAgICAg
ICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRz
IFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMg
dm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAg
ICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBi
dWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNl
Lm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBSZS1vcmRlcmluZyBpbXBv
cnRzIGFuZCBjb252ZXJ0aW5nIHRoZW0gdG8gKgorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgw
MjRnKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEg
PSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2Us
IG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwor
ICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAg
ICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8g
bGVhZCAxXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVz
dDFcbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJs
ZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAg
ICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1l
IDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9y
dCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJw
dWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlv
blVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0
cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3Ry
aW5nW10geyAiamF2YSIsICJqYXZhLmF3dCIsICJqYXZhLnV0aWwiLCAiamF2YS5pbyIsICJjb20i
LCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNS
ZXdyaXRlKGN1LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNv
bnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJ
bXBvcnQoImphdmEuYXd0Lkxpc3QiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEu
aW8uU2VyaWFsaXphYmxlIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwu
SGFzaE1hcCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIFN0cmluZ0J1
ZmZlciBidWYyID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYyLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAi
LypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAg
ICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAg
ICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLmF3dC4qOy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAi
XG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJp
bXBvcnQgamF2YS51dGlsLio7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21t
ZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBs
ZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby4qOy8vIHRlc3QyXG4i
ICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBt
b3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAg
ICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAg
ICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4i
ICsKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFi
bGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihT
dHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0g
bmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIp
OworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmMi50b1N0cmlu
ZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM3ODAyNAorICAgIC8vIFByZXNlcnZlIGNvbW1lbnRzIHdoZW4gaW1w
b3J0cyBhcmUgcmVtb3ZlZCBpbiBjYXNlIHRoZSByZXN0b3Jpbmcgb2YgaW1wb3J0cyBpcyBlbmFi
bGVkCisgICAgLy8gVGhpcyB3aWxsIHRlc3QgY2hhbmdlcyBpbiBvcmcuZWNsaXBzZS5qZHQuaW50
ZXJuYWwuY29yZS5kb20ucmV3cml0ZS5JbXBvcnRSZXdyaXRlQW5hbHl6ZXIucmVtb3ZlSW1wb3J0
KFN0cmluZywgYm9vbGVhbikKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0aCgpIHRocm93
cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3Vy
Y2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAg
ICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFc
biIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIg
KworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIg
KworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAg
ICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAg
ICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBh
cmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAg
ICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgi
Qy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdb
XSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFj
ayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRl
KGN1LCBvcmRlciwgOTksIDk5LCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0
VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMucmVtb3ZlSW1w
b3J0KCJqYXZhLmF3dC5MaXN0Iik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAg
ICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAg
ICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBv
cnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBj
b21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
cHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0
RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAg
CisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3
ODAyNAorICAgIC8vIFByZXNlcnZlIGNvbW1lbnRzIHdoZW4gaW1wb3J0cyBhcmUgcmVtb3ZlZCBp
biBjYXNlIHRoZSByZXN0b3Jpbmcgb2YgaW1wb3J0cyBpcyBlbmFibGVkCisgICAgcHVibGljIHZv
aWQgdGVzdEJ1ZzM3ODAyNGhfMSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2Fn
ZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50
KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBT
dHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFj
a2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxu
IiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsK
KyAgICAgICAgICAgICAgICAiLyogaSBhbSB3aXRoIExpc3QgKi9cbiIgKworICAgICAgICAgICAg
ICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAq
IGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAg
ICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAg
ICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAz
XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsK
KyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3Zl
IG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJc
biIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImlt
cG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29t
cGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBi
dWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0g
bmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisg
ICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVy
LCA5OSwgOTksIHRydWUpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlcklt
cGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5yZW1vdmVJbXBvcnQoImphdmEu
YXd0Lkxpc3QiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5MaXN0Iik7
CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1
ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBh
Y2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBj
b21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAg
ICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAg
ICAgICAgICAgICAgICAiLyogaSBhbSB3aXRoIExpc3QgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRv
bid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAg
ICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAg
ICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4i
ICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAg
ICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1l
IDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9y
dCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbiIg
KyAgICAgICAgICAgICAgICAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAg
ICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFz
c2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQor
ICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9p
ZD0zNzgwMjQKKyAgICAvLyBQcmVzZXJ2ZSBjb21tZW50cyB3aGVuIGltcG9ydHMgYXJlIHVuZm9s
ZGVkLgorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRpKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVh
dGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdC
dWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIv
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAg
ICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lio7
Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBpIGFtIHdpdGggTGlzdCAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAy
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjsvLyB0ZXN0MlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBt
b3ZlIG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAg
ImltcG9ydCBqYXZhLnV0aWwuKjsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJw
dWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcD0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBMaXN0IGw9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9
XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBj
dSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCks
IGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7
ICJqYXZhIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0
cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCA5OSwgOTksIGZhbHNlKTsKKyAgICAgICAg
aW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAg
ICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1w
b3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgi
amF2YS51dGlsLkhhc2hNYXAiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRp
bC5NYXAiKTsKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0
cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNr
YWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsK
KyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4i
ICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKwor
ICAgICAgICAgICAgICAgICIvKiBpIGFtIHdpdGggTGlzdCAqL1xuIiArCisgICAgICAgICAgICAg
ICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAg
ICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXI7Ly8gdGVzdDJcbiIg
KworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1v
dmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAg
ImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAgICAgICAg
ICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAg
ICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAg
ICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
dXRpbC5NYXA7XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAg
InB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIExpc3QgbD0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
IH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmlu
ZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAg
Ly8gUHJlc2VydmUgY29tbWVudHMgd2hlbiBpbXBvcnRzIGFyZSBmb2xkZWQgYnV0IGEgbWVtYmVy
IHR5cGUgaW1wb3J0IGlzIHByZXNlbnQKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0aigp
IHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhp
cy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxs
KTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAg
ICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsK
KyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3Zl
IG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAq
L1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAg
ImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyog
aSBhbSB3aXRoIExpc3QgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAg
ICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
dXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAg
ICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIg
Ki9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKmtlZXAg
bWUgd2l0aCBNYXAuRW50cnkqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0
aWwuTWFwLkVudHJ5Oy8vIG1lbWJlciB0eXBlIGltcG9ydFxuIiArCisgICAgICAgICAgICAgICAg
Ii8qa2VlcCBtZSB3aXRoIE1hcC5FbnRyeSAyKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1v
dmUgbWUgNFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAg
IlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAg
ImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykg
e1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAg
IElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2
YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3Jk
ZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07
CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwg
b3JkZXIsIDEsIDEsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0
ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZh
LmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuSGFzaE1h
cCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLk1hcC5FbnRyeSIpOwor
ICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsKKworICAg
ICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7
CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQg
MVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9u
J3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAg
ICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5hd3QuKjsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAg
Ii8qIGkgYW0gd2l0aCBMaXN0ICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAg
ICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51
dGlsLio7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIi8qa2VlcCBtZSB3aXRoIE1hcC5FbnRyeSovXG4iICsKKyAgICAg
ICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5NYXAuRW50cnk7Ly8gbWVtYmVyIHR5cGUgaW1w
b3J0XG4iICsKKyAgICAgICAgICAgICAgICAiLyprZWVwIG1lIHdpdGggTWFwLkVudHJ5IDIqL1xu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3Qg
bW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAg
ICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAg
ICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjsvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAg
ICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJn
cykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAg
ICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7Cisg
ICAgfQogCiAJcHJpdmF0ZSB2b2lkIGFzc2VydEFkZGVkQW5kUmVtb3ZlZChJbXBvcnRSZXdyaXRl
IGltcG9ydHMsIFN0cmluZ1tdIGV4cGVjdGVkQWRkZWQsIFN0cmluZ1tdIGV4cGVjdGVkUmVtb3Zl
ZCwgU3RyaW5nW10gZXhwZWN0ZWRBZGRlZFN0YXRpYywgU3RyaW5nW10gZXhwZWN0ZWRSZW1vdmVk
U3RhdGljKSB7CiAJCWFzc2VydEVxdWFsU3RyaW5nc0lnbm9yZU9yZGVyKGltcG9ydHMuZ2V0QWRk
ZWRJbXBvcnRzKCksIGV4cGVjdGVkQWRkZWQpOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGUu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvY29yZS9kb20v
cmV3cml0ZS9JbXBvcnRSZXdyaXRlLmphdmEKaW5kZXggYzY2ODA0OS4uZjc1ODkyNiAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2RvbS9y
ZXdyaXRlL0ltcG9ydFJld3JpdGUuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20v
b3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZS5qYXZhCkBAIC0x
LDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAw
MCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAw
MCwgMjAxMiBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBt
YWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vu
c2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBh
dmFpbGFibGUgYXQKQEAgLTEwNTEsNyArMTA1MSw3IEBACiAJCQlpZiAodGhpcy5hZGRlZEltcG9y
dHMgIT0gbnVsbCkgewogCQkJCWZvciAoaW50IGk9IDA7IGkgPCB0aGlzLmFkZGVkSW1wb3J0cy5z
aXplKCk7IGkrKykgewogCQkJCQlTdHJpbmcgY3Vycj0gKFN0cmluZykgdGhpcy5hZGRlZEltcG9y
dHMuZ2V0KGkpOwotCQkJCQljb21wdXRlci5hZGRJbXBvcnQoY3Vyci5zdWJzdHJpbmcoMSksIFNU
QVRJQ19QUkVGSVggPT0gY3Vyci5jaGFyQXQoMCkpOworCQkJCQljb21wdXRlci5hZGRJbXBvcnQo
Y3Vyci5zdWJzdHJpbmcoMSksIFNUQVRJQ19QUkVGSVggPT0gY3Vyci5jaGFyQXQoMCksIHVzZWRB
c3RSb290LCB0aGlzLnJlc3RvcmVFeGlzdGluZ0ltcG9ydHMpOwogCQkJCX0KIAkJCX0KIApkaWZm
IC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRl
L0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhCmluZGV4IDU2M2FiOTAuLjEwNzIyZWYgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29yZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3Jp
dGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEKQEAgLTI3MCwxMyArMjcwLDE3IEBACiAJCQlp
bnQgbmV4dE9mZnNldD0gbmV4dC5nZXRTdGFydFBvc2l0aW9uKCk7CiAJCQlpbnQgbmV4dExlbmd0
aD0gbmV4dC5nZXRMZW5ndGgoKTsKIAkJCWludCBuZXh0T2Zmc2V0TGluZT0gcm9vdC5nZXRMaW5l
TnVtYmVyKG5leHRPZmZzZXQpOworCQkJaW50IG5leHRFeHRlbmRlZE9mZnNldCA9IHJvb3QuZ2V0
RXh0ZW5kZWRTdGFydFBvc2l0aW9uKG5leHQpOworCQkJaW50IG5leHRFeHRlbmRlZE9mZnNldExp
bmUgPSByb290LmdldExpbmVOdW1iZXIobmV4dEV4dGVuZGVkT2Zmc2V0KTsKIAogCQkJaW50IGV4
dGVuZGVkU3RhcnQgPSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlvbihjdXJyKTsKKwkJCWlu
dCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgoY3Vycik7CiAJCQlpZiAo
ZXh0ZW5kZWRTdGFydCA8IHRoaXMucmVwbGFjZVJhbmdlLmdldE9mZnNldCgpKSB7CiAJCQkJLy8g
ZG9uJ3QgdG91Y2ggdGhlIGZpcnN0IGNvbW1lbnRzIGJlZm9yZSB0aGUgc3RhcnQgb2YgaW1wb3J0
IGRlY2xhcmF0aW9ucworCQkJCWV4dGVuZGVkTGVuZ3RoIC09ICAoY3Vyck9mZnNldCAtIGV4dGVu
ZGVkU3RhcnQpOwogCQkJCWV4dGVuZGVkU3RhcnQgPSBjdXJyT2Zmc2V0OwogCQkJfQotCQkJaW50
IGV4dGVuZGVkTGVuZ3RoID0gcm9vdC5nZXRFeHRlbmRlZExlbmd0aChjdXJyKTsKKwkJCQogCQkJ
Ly8gaWYgbmV4dCBpbXBvcnQgaXMgb24gYSBkaWZmZXJlbnQgbGluZSwgbW9kaWZ5IHRoZSBlbmQg
cG9zaXRpb24gdG8gdGhlIG5leHQgbGluZSBiZWdpbiBvZmZzZXQKIAkJCWludCBuZXh0TGluZU9m
ZnNldCA9IG5leHRPZmZzZXQ7IC8vIG9mZnNldCBhdCB0aGUgc3RhcnQgb2YgbmV4dCBsaW5lLiBO
ZXh0IGltcG9ydCBtYXkgbm90IHN0YXJ0IGhlcmUKIAkJCWlmIChjdXJyRW5kTGluZSA8IG5leHRP
ZmZzZXRMaW5lKSB7CkBAIC0zMTQsNiArMzE4LDcgQEAKIAkJCQluZXh0T2Zmc2V0PSByb290Lmdl
dFBvc2l0aW9uKG5leHRPZmZzZXRMaW5lLCAwKTsKIAogCQkJCWN1cnJQYWNrYWdlPSBuZXcgUGFj
a2FnZUVudHJ5KCk7IC8vIGNyZWF0ZSBhIGNvbW1lbnQgcGFja2FnZSBlbnRyeSBmb3IgdGhpcwor
CQkJCWN1cnJQYWNrYWdlLnNldEdyb3VwSUQocGFja05hbWUpOwogCQkJCXRoaXMucGFja2FnZUVu
dHJpZXMuYWRkKGN1cnJQYWNrYWdlKTsKIAkJCQljdXJyUGFja2FnZS5hZGQobmV3IEltcG9ydERl
Y2xFbnRyeShwYWNrTmFtZS5sZW5ndGgoKSwgbnVsbCwgZmFsc2UsIG5ldyBSZWdpb24obmV4dExp
bmVPZmZzZXQsIG5leHRPZmZzZXQgLSBuZXh0TGluZU9mZnNldCkpKTsKIApAQCAtNTY2LDYgKzU3
MSw3IEBACiAJCX0KIAkJU3RyaW5nIGdyb3VwSWQ9IG51bGw7CiAJCWludCBsb25nZXN0UHJlZml4
PSAtMTsKKwkJUGFja2FnZUVudHJ5IG1hdGNoaW5nQ29tbWVudEVudHJ5ID0gbnVsbDsKIAkJLy8g
ZmluZCB0aGUgbWF0Y2hpbmcgZ3JvdXAKIAkJZm9yIChpbnQgaT0gMDsgaSA8IHRoaXMucGFja2Fn
ZUVudHJpZXMuc2l6ZSgpOyBpKyspIHsKIAkJCVBhY2thZ2VFbnRyeSBjdXJyPSAoUGFja2FnZUVu
dHJ5KSB0aGlzLnBhY2thZ2VFbnRyaWVzLmdldChpKTsKQEAgLTU3Myw4ICs1NzksMTEgQEAKIAkJ
CQlTdHJpbmcgY3Vyckdyb3VwPSBjdXJyLmdldEdyb3VwSUQoKTsKIAkJCQlpZiAoY3Vyckdyb3Vw
ICE9IG51bGwgJiYgbmV3TmFtZS5zdGFydHNXaXRoKGN1cnJHcm91cCkpIHsKIAkJCQkJaW50IHBy
ZWZpeExlbj0gY3Vyckdyb3VwLmxlbmd0aCgpOwotCQkJCQlpZiAocHJlZml4TGVuID09IG5ld05h
bWUubGVuZ3RoKCkpIHsKKwkJCQkJaWYgKHByZWZpeExlbiA9PSBuZXdOYW1lLmxlbmd0aCgpICYm
ICFjdXJyLmlzQ29tbWVudCgpKSB7CiAJCQkJCQlyZXR1cm4gY3VycjsgLy8gcGVyZmVjdCBmaXQs
IHVzZSBlbnRyeQorCQkJCQl9IGVsc2UgaWYgKGN1cnIuaXNDb21tZW50KCkpIHsKKwkJCQkJCW1h
dGNoaW5nQ29tbWVudEVudHJ5ID0gY3VycjsgLy8gbWF5IGJlIHRoZSBvbmx5IGZpdCBpZiBubyBh
Y3R1YWwgaW1wb3J0IG9mIHRoaXMgZ3JvdXAgaXMgYWxyZWFkeSBwcmVzZW50CisJCQkJCQljb250
aW51ZTsKIAkJCQkJfQogCQkJCQlpZiAoKG5ld05hbWUuY2hhckF0KHByZWZpeExlbikgPT0gJy4n
IHx8IHByZWZpeExlbiA9PSAwKSAmJiBwcmVmaXhMZW4gPiBsb25nZXN0UHJlZml4KSB7CiAJCQkJ
CQlsb25nZXN0UHJlZml4PSBwcmVmaXhMZW47CkBAIC01ODIsNiArNTkxLDkgQEAKIAkJCQkJfQog
CQkJCX0KIAkJCX0KKwkJfQorCQlpZiAobWF0Y2hpbmdDb21tZW50RW50cnkgIT0gbnVsbCkgewor
CQkJcmV0dXJuIG1hdGNoaW5nQ29tbWVudEVudHJ5OwogCQl9CiAJCVBhY2thZ2VFbnRyeSBiZXN0
TWF0Y2g9IG51bGw7CiAJCVBhY2thZ2VNYXRjaGVyIG1hdGNoZXI9IG5ldyBQYWNrYWdlTWF0Y2hl
cigpOwpAQCAtNjE2LDEwICs2MjgsNzggQEAKIAkJcmV0dXJuIHF1YWxpZmllci5lcXVhbHMocGFj
a2FnZU5hbWUgKycuJyArIG1haW5UeXBlTmFtZSk7CiAJfQogCi0JcHVibGljIHZvaWQgYWRkSW1w
b3J0KFN0cmluZyBmdWxsVHlwZU5hbWUsIGJvb2xlYW4gaXNTdGF0aWMpIHsKKwlwdWJsaWMgdm9p
ZCBhZGRJbXBvcnQoU3RyaW5nIGZ1bGxUeXBlTmFtZSwgYm9vbGVhbiBpc1N0YXRpYywgQ29tcGls
YXRpb25Vbml0IHJvb3QsIGJvb2xlYW4gcmVzdG9yZUV4aXN0aW5nSW1wb3J0cykgewogCQlTdHJp
bmcgdHlwZUNvbnRhaW5lck5hbWU9IGdldFF1YWxpZmllcihmdWxsVHlwZU5hbWUsIGlzU3RhdGlj
KTsKLQkJSW1wb3J0RGVjbEVudHJ5IGRlY2w9IG5ldyBJbXBvcnREZWNsRW50cnkodHlwZUNvbnRh
aW5lck5hbWUubGVuZ3RoKCksIGZ1bGxUeXBlTmFtZSwgaXNTdGF0aWMsIG51bGwpOworCQlJbXBv
cnREZWNsRW50cnkgZGVjbDsKKwkJaWYgKHJlc3RvcmVFeGlzdGluZ0ltcG9ydHMpIHsKKwkJCWRl
Y2wgPSBuZXcgSW1wb3J0RGVjbEVudHJ5KHR5cGVDb250YWluZXJOYW1lLmxlbmd0aCgpLCBmdWxs
VHlwZU5hbWUsIGlzU3RhdGljLCBudWxsKTsKKwkJfSBlbHNlIHsKKwkJCWRlY2wgPSBhZGRJbXBv
cnREZWNsRW50cnkodHlwZUNvbnRhaW5lck5hbWUsIGZ1bGxUeXBlTmFtZSwgaXNTdGF0aWMsIHJv
b3QpOworCQl9CiAJCXNvcnRJbih0eXBlQ29udGFpbmVyTmFtZSwgZGVjbCwgaXNTdGF0aWMpOwor
CX0KKworCS8qKgorCSAqIGFkZHMgdGhlIGltcG9ydCBlbnRyeSwgYnV0IGlmIGl0cyBhbiBleGlz
dGluZyBpbXBvcnQgZW50cnkgdGhlbiBwcmVzZXJ2ZXMgdGhlIGNvbW1lbnRzIHN1cnJvdW5kaW5n
IHRoZSBpbXBvcnQKKwkgKi8KKwlwcml2YXRlIEltcG9ydERlY2xFbnRyeSBhZGRJbXBvcnREZWNs
RW50cnkoU3RyaW5nIGNvbnRhaW5lck5hbWUsIFN0cmluZyBmdWxsVHlwZU5hbWUsIGJvb2xlYW4g
aXNTdGF0aWMsIENvbXBpbGF0aW9uVW5pdCByb290KSB7CisJCUxpc3QvKkltcG9ydERlY2xhcmF0
aW9uKi8gZGVjbHM9IHJvb3QuaW1wb3J0cygpOworCQlpZiAoZGVjbHMuaXNFbXB0eSgpIHx8IHRo
aXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzID09IG51bGwgfHwgdGhpcy5wcmVzZXJ2
ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXMubGVuZ3RoID09IDApIHsKKwkJCXJldHVybiBuZXcgSW1w
b3J0RGVjbEVudHJ5KGNvbnRhaW5lck5hbWUubGVuZ3RoKCksIGZ1bGxUeXBlTmFtZSwgaXNTdGF0
aWMsIG51bGwpOworCQl9CisJCUlSZWdpb24gcHJlY2VkaW5nQ29tbWVudFJhbmdlID0gbnVsbDsK
KwkJSVJlZ2lvbiB0cmFpbGluZ0NvbW1lbnRSYW5nZSA9IG51bGw7CisJCWludCBwcmV2T2Zmc2V0
ID0gdGhpcy5yZXBsYWNlUmFuZ2UuZ2V0T2Zmc2V0KCk7ICAvLyB3aWxsIHN0b3JlIG9mZnNldCBv
ZiB0aGUgcHJldmlvdXMgaW1wb3J0J3MgZXh0ZW5kZWQgZW5kCisJCWludCBudW1PZkltcG9ydHMg
PSBkZWNscy5zaXplKCk7CisJCWZvciAoaW50IGk9IDA7IGkgPCBudW1PZkltcG9ydHM7IGkrKykg
eworCQkJSW1wb3J0RGVjbGFyYXRpb24gY3Vycj0gKEltcG9ydERlY2xhcmF0aW9uKSBkZWNscy5n
ZXQoaSk7CisJCQlpbnQgY3Vyck9mZnNldD0gY3Vyci5nZXRTdGFydFBvc2l0aW9uKCk7CisJCQlp
bnQgY3Vyckxlbmd0aD0gY3Vyci5nZXRMZW5ndGgoKTsKKwkJCWludCBjdXJyRXh0ZW5kZWRTdGFy
dCA9IHJvb3QuZ2V0RXh0ZW5kZWRTdGFydFBvc2l0aW9uKGN1cnIpOworCQkJaW50IGN1cnJFeHRl
bmRlZExlbiA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgoY3Vycik7CisJCQlTdHJpbmcgbmFtZT0g
Z2V0RnVsbE5hbWUoY3Vycik7CisJCQlTdHJpbmcgcGFja05hbWU9IGdldFF1YWxpZmllcihjdXJy
KTsKKwkJCWlmIChwYWNrTmFtZS5lcXVhbHMoY29udGFpbmVyTmFtZSkgJiYgKG5hbWUuZXF1YWxz
KGZ1bGxUeXBlTmFtZSkgfHwgbmFtZS5lbmRzV2l0aCgiKiIpKSkgey8vJE5PTi1OTFMtMSQKKwkJ
CQlpbnQgcHJlc2VydmVDb21tZW50c0xlbiA9IHRoaXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRz
UmFuZ2VzLmxlbmd0aDsKKwkJCQlmb3IgKGludCBqID0gMDsgaiA8IHByZXNlcnZlQ29tbWVudHNM
ZW47IGorKykgeworCQkJCQlpbnQgb2Zmc2V0ID0gdGhpcy5wcmVzZXJ2ZUV4aXN0aW5nQ29tbWVu
dHNSYW5nZXNbal0uZ2V0T2Zmc2V0KCk7CisJCQkJCWJvb2xlYW4gd2FzUmFuZ2VVc2VkID0gZmFs
c2U7CisJCQkJCWludCBleGlzdGluZ0NvbW1lbnRMZW5ndGggPSB0aGlzLnByZXNlcnZlRXhpc3Rp
bmdDb21tZW50c1Jhbmdlc1tqXS5nZXRMZW5ndGgoKTsKKwkJCQkJaWYgKG9mZnNldCA9PSBjdXJy
RXh0ZW5kZWRTdGFydCkgeworCQkJCQkJLy8gY29tbWVudHMgYmVsb25naW5nIHRvIHRoaXMgaW1w
b3J0J3MgZXh0ZW5kZWQgc3RhcnQKKwkJCQkJCXByZWNlZGluZ0NvbW1lbnRSYW5nZSA9IG5ldyBS
ZWdpb24ob2Zmc2V0LCBleGlzdGluZ0NvbW1lbnRMZW5ndGgpOwkKKwkJCQkJCXdhc1JhbmdlVXNl
ZCA9IHRydWU7CisJCQkJCX0gZWxzZSBpZiAob2Zmc2V0IDwgY3VyckV4dGVuZGVkU3RhcnQgJiYg
b2Zmc2V0ID4gcHJldk9mZnNldCkgeworCQkJCQkJLy8gY29tbWVudCBiZXR3ZWVuIHR3byBpbXBv
cnRzIGJ1dCBub3QgaW5zaWRlIGVpdGhlcidzIGV4dGVuZGVkIHJhbmdlcworCQkJCQkJLy8gdG8g
cHJlc2VydmUgdGhlIHBvc2l0aW9uIG9mIHRoZXNlIGNvbW1lbnRzIGFkZCBhIGR1bW15IGNvbW1l
bnQgZW50cnkKKwkJCQkJCVBhY2thZ2VFbnRyeSBjb21tZW50RW50cnkgPSBuZXcgUGFja2FnZUVu
dHJ5KCk7IC8vIGNyZWF0ZSBhIGNvbW1lbnQgcGFja2FnZSBlbnRyeSBmb3IgdGhpcworCQkJCQkJ
Y29tbWVudEVudHJ5LnNldEdyb3VwSUQocGFja05hbWUpOwkvLyB0aGUgY29tbWVudCBzaG91bGQg
YmVsb25nIHRvIHRoZSBjdXJyZW50IGdyb3VwCisJCQkJCQl0aGlzLnBhY2thZ2VFbnRyaWVzLmFk
ZChjb21tZW50RW50cnkpOworCQkJCQkJY29tbWVudEVudHJ5LmFkZChuZXcgSW1wb3J0RGVjbEVu
dHJ5KHBhY2tOYW1lLmxlbmd0aCgpLCBudWxsLCBmYWxzZSwgbmV3IFJlZ2lvbihvZmZzZXQsIGV4
aXN0aW5nQ29tbWVudExlbmd0aCkpKTsKKwkJCQkJCXdhc1JhbmdlVXNlZCA9IHRydWU7CisJCQkJ
CX0gZWxzZSBpZiAoKGN1cnJFeHRlbmRlZFN0YXJ0ICsgY3VyckV4dGVuZGVkTGVuKSAhPSAoY3Vy
ck9mZnNldCArIGN1cnJMZW5ndGgpKXsKKwkJCQkJCWlmIChvZmZzZXQgPT0gY3Vyck9mZnNldCAr
IGN1cnJMZW5ndGgpIHsKKwkJCQkJCQkvLyBjb21tZW50IGlzIGluIHRoZSBleHRlbmRlZCBlbmQg
b2YgdGhlIGltcG9ydAorCQkJCQkJCXRyYWlsaW5nQ29tbWVudFJhbmdlID0gbmV3IFJlZ2lvbihv
ZmZzZXQsIGV4aXN0aW5nQ29tbWVudExlbmd0aCk7CisJCQkJCQkJd2FzUmFuZ2VVc2VkID0gdHJ1
ZTsKKwkJCQkJCX0gZWxzZSBpZiAob2Zmc2V0ID4gKGN1cnJPZmZzZXQgKyBjdXJyTGVuZ3RoKSkg
eworCQkJCQkJCWJyZWFrOworCQkJCQkJfQorCQkJCQl9CisJCQkJCWlmICh3YXNSYW5nZVVzZWQp
IHsKKwkJCQkJCS8vIHJlbW92ZSB0aGlzIGNvbW1lbnQgZnJvbSBwcmVjZWVkaW5nQ29tbW5lbnRS
YW5nZSBhcnJheQorCQkJCQkJSVJlZ2lvbltdIHRlbXBSZWdpb25zID0gbmV3IElSZWdpb25bcHJl
c2VydmVDb21tZW50c0xlbiA9IChwcmVzZXJ2ZUNvbW1lbnRzTGVuIC0gMSldOworCQkJCQkJU3lz
dGVtLmFycmF5Y29weSh0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1JhbmdlcywgMCwgdGVt
cFJlZ2lvbnMsIDAsIGopOworCQkJCQkJU3lzdGVtLmFycmF5Y29weSh0aGlzLnByZXNlcnZlRXhp
c3RpbmdDb21tZW50c1JhbmdlcywgaisxLCB0ZW1wUmVnaW9ucywgaiwgdGVtcFJlZ2lvbnMubGVu
Z3RoIC0gaik7CisJCQkJCQl0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1JhbmdlcyA9IHRl
bXBSZWdpb25zOworCQkJCQkJai0tOworCQkJCQl9CisJCQkJfQkKKwkJCQlyZXR1cm4gbmV3IElt
cG9ydERlY2xFbnRyeShjb250YWluZXJOYW1lLmxlbmd0aCgpLCBmdWxsVHlwZU5hbWUsIGlzU3Rh
dGljLCBudWxsLCBwcmVjZWRpbmdDb21tZW50UmFuZ2UsIHRyYWlsaW5nQ29tbWVudFJhbmdlKTsK
KwkJCX0KKwkJCXByZXZPZmZzZXQgPSBjdXJyRXh0ZW5kZWRTdGFydCArIGN1cnJFeHRlbmRlZExl
biAtIDE7CisJCX0KKwkJcmV0dXJuIG5ldyBJbXBvcnREZWNsRW50cnkoY29udGFpbmVyTmFtZS5s
ZW5ndGgoKSwgZnVsbFR5cGVOYW1lLCBpc1N0YXRpYywgbnVsbCk7CiAJfQogCiAJcHVibGljIGJv
b2xlYW4gcmVtb3ZlSW1wb3J0KFN0cmluZyBxdWFsaWZpZWROYW1lLCBib29sZWFuIGlzU3RhdGlj
KSB7CkBAIC03NTgsNiArODM4LDkgQEAKIAkJCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChsaW5l
RGVsaW0pOwogCQkJCQkJCX0KIAkJCQkJCX0KKwkJCQkJfSBlbHNlIGlmIChsYXN0UGFja2FnZSAh
PSBudWxsICYmIGxhc3RQYWNrYWdlLmlzQ29tbWVudCgpICYmIHBhY2suaXNTYW1lR3JvdXAobGFz
dFBhY2thZ2UpKSB7CisJCQkJCQkvLyB0aGUgbGFzdCBwYWNrIG1heSBiZSBhIGR1bW15IGZvciBh
IGNvbW1lbnQgd2hpY2ggZG9lc24ndCBiZWxvbmcgdG8gYW55IGV4dGVuZGVkIHJhbmdlCisJCQkJ
CQlzdHJpbmdzVG9JbnNlcnQuYWRkKGxpbmVEZWxpbSk7CiAJCQkJCX0KIAkJCQl9CiAJCQkJbGFz
dFBhY2thZ2U9IHBhY2s7CkBAIC03NjYsMTEgKzg0OSwxMyBAQAogCQkJCWludCB0aHJlc2hvbGQ9
IGlzU3RhdGljID8gdGhpcy5zdGF0aWNJbXBvcnRPbkRlbWFuZFRocmVzaG9sZCA6IHRoaXMuaW1w
b3J0T25EZW1hbmRUaHJlc2hvbGQ7CiAKIAkJCQlib29sZWFuIGRvU3RhckltcG9ydD0gcGFjay5o
YXNTdGFySW1wb3J0KHRocmVzaG9sZCwgb25EZW1hbmRDb25mbGljdHMpOworCQkJCWJvb2xlYW4g
YWxsSW1wb3J0c0FkZGVkVG9TdGFyID0gZmFsc2U7CiAJCQkJaWYgKGRvU3RhckltcG9ydCAmJiAo
cGFjay5maW5kKCIqIikgPT0gbnVsbCkpIHsgLy8kTk9OLU5MUy0xJAogCQkJCQlTdHJpbmdbXSBp
bXBvcnRzID0gZ2V0TmV3SW1wb3J0U3RyaW5ncyhidWZmZXIsIHBhY2ssIGlzU3RhdGljLCBsaW5l
RGVsaW0pOwogCQkJCQlmb3IgKGludCBqID0gMCwgbWF4ID0gaW1wb3J0cy5sZW5ndGg7IGogPCBt
YXg7IGorKykgewogCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChpbXBvcnRzW2pdKTsKIAkJCQkJ
fQorCQkJCQlhbGxJbXBvcnRzQWRkZWRUb1N0YXIgPSB0cnVlOwogCQkJCX0KIAogCQkJCWZvciAo
aW50IGs9IDA7IGsgPCBuSW1wb3J0czsgaysrKSB7CkBAIC03NzksOSArODY0LDE5IEBACiAKIAkJ
CQkJaWYgKHJlZ2lvbiA9PSBudWxsKSB7IC8vIG5ldyBlbnRyeQogCQkJCQkJaWYgKCFkb1N0YXJJ
bXBvcnQgfHwgY3VyckRlY2wuaXNPbkRlbWFuZCgpIHx8IChvbkRlbWFuZENvbmZsaWN0cyAhPSBu
dWxsICYmIG9uRGVtYW5kQ29uZmxpY3RzLmNvbnRhaW5zKGN1cnJEZWNsLmdldFNpbXBsZU5hbWUo
KSkpKSB7Ci0JCQkJCQkJU3RyaW5nIHN0cj0gZ2V0TmV3SW1wb3J0U3RyaW5nKGN1cnJEZWNsLmdl
dEVsZW1lbnROYW1lKCksIGlzU3RhdGljLCBsaW5lRGVsaW0pOworCQkJCQkJCUlSZWdpb24gcmFu
Z2VCZWZvcmUgPSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKKwkJCQkJCQlJ
UmVnaW9uIHJhbmdlQWZ0ZXIgPSBjdXJyRGVjbC5nZXRUcmFpbGluZ0NvbW1lbnRSYW5nZSgpOwor
CQkJCQkJCWlmIChyYW5nZUJlZm9yZSAhPSBudWxsKSB7CisJCQkJCQkJCXN0cmluZ3NUb0luc2Vy
dC5hZGQoYnVmZmVyLmdldFRleHQocmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCksIHJhbmdlQmVmb3Jl
LmdldExlbmd0aCgpKSk7CisJCQkJCQkJfQorCQkJCQkJCQorCQkJCQkJCVN0cmluZyB0cmFpbGlu
Z0NvbW1lbnQgPSBudWxsOworCQkJCQkJCWlmIChyYW5nZUFmdGVyICE9IG51bGwpIHsKKwkJCQkJ
CQkJdHJhaWxpbmdDb21tZW50ID0gYnVmZmVyLmdldFRleHQocmFuZ2VBZnRlci5nZXRPZmZzZXQo
KSwgcmFuZ2VBZnRlci5nZXRMZW5ndGgoKSk7CisJCQkJCQkJfQorCQkJCQkJCVN0cmluZyBzdHI9
IGdldE5ld0ltcG9ydFN0cmluZyhjdXJyRGVjbC5nZXRFbGVtZW50TmFtZSgpLCBpc1N0YXRpYywg
dHJhaWxpbmdDb21tZW50LCBsaW5lRGVsaW0pOwogCQkJCQkJCXN0cmluZ3NUb0luc2VydC5hZGQo
c3RyKTsKLQkJCQkJCX0gZWxzZSBpZiAoZG9TdGFySW1wb3J0ICYmICFjdXJyRGVjbC5pc09uRGVt
YW5kKCkpIHsKKwkJCQkJCX0gZWxzZSBpZiAoZG9TdGFySW1wb3J0ICYmICFjdXJyRGVjbC5pc09u
RGVtYW5kKCkgJiYgIWFsbEltcG9ydHNBZGRlZFRvU3RhcikgewogCQkJCQkJCVN0cmluZyBzaW1w
bGVOYW1lID0gY3VyckRlY2wuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKTsKIAkJCQkJCQlpZiAoc2lt
cGxlTmFtZS5pbmRleE9mKCcuJykgIT0gLTEpIHsKIAkJCQkJCQkJU3RyaW5nIHN0cj0gZ2V0TmV3
SW1wb3J0U3RyaW5nKGN1cnJEZWNsLmdldEVsZW1lbnROYW1lKCksIGlzU3RhdGljLCBsaW5lRGVs
aW0pOwpAQCAtODMwLDcgKzkyNSw3IEBACiAKIAkJCS8vIGluc2VydCBiYWNrIGFsbCBleGlzdGlu
ZyBpbXBvcnRzIGNvbW1lbnRzIHNpbmNlIGV4aXN0aW5nIGltcG9ydHMgd2VyZSBub3QgcHJlc2Vy
dmVkCiAJCQlpZiAodGhpcy5wcmVzZXJ2ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXMgIT0gbnVsbCkg
ewotCQkJCWZvciAoaW50IGkgPSAwLCBtYXggPSB0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50
c1Jhbmdlcy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgeworCQkJCWZvciAoaW50IGkgPSAwLCBtYXgg
PSB0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1Jhbmdlcy5sZW5ndGg7IChpIDwgbWF4ICYm
IHRoaXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzW2ldICE9IG51bGwpOyBpKyspIHsK
IAkJCQkJSVJlZ2lvbiByZWdpb24gPSB0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1Jhbmdl
c1tpXTsKIAkJCQkJU3RyaW5nIHRleHQgPSBidWZmZXIuZ2V0VGV4dChyZWdpb24uZ2V0T2Zmc2V0
KCksIHJlZ2lvbi5nZXRMZW5ndGgoKSk7CiAJCQkJCS8vIHJlbW92ZSBwcmVjZWRpbmcgd2hpdGVz
cGFjZXMKQEAgLTEwMTIsNiArMTEwNyw3IEBACiAJCUxpc3QgYWxsSW1wb3J0cyA9IG5ldyBBcnJh
eUxpc3QoKTsKIAkJaW50IG5JbXBvcnRzID0gcGFja2FnZUVudHJ5LmdldE51bWJlck9mSW1wb3J0
cygpOwogCQlTdHJpbmdCdWZmZXIgYWxsQ29tbWVudHMgPSBudWxsOworCQlTdHJpbmdCdWZmZXIg
YWxsQ29tbWVudHNMZWFkID0gbnVsbDsKIAkJZm9yIChpbnQgaT0gMDsgaSA8IG5JbXBvcnRzOyBp
KyspIHsKIAkJCUltcG9ydERlY2xFbnRyeSBjdXJyPSBwYWNrYWdlRW50cnkuZ2V0SW1wb3J0QXQo
aSk7CiAJCQlTdHJpbmcgc2ltcGxlTmFtZSA9IGN1cnIuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKTsK
QEAgLTEwMjksMjggKzExMjUsNDEgQEAKIAkJCQlhbGxJbXBvcnRzLmFkZChnZXROZXdJbXBvcnRT
dHJpbmcoY3Vyci5nZXRFbGVtZW50TmFtZSgpLCBpc1N0YXRpYywgdHJhaWxpbmdDb21tZW50LCBs
aW5lRGVsaW0pKTsKIAkJCX0gZWxzZSBpZiAoIWlzU3RhckltcG9ydEFkZGVkKSB7CiAJCQkJU3Ry
aW5nIHN0YXJJbXBvcnRTdHJpbmc9IHBhY2thZ2VFbnRyeS5nZXROYW1lKCkgKyAiLioiOyAvLyRO
T04tTkxTLTEkCi0JCQkJYWxsSW1wb3J0cy5hZGQoZ2V0TmV3SW1wb3J0U3RyaW5nKHN0YXJJbXBv
cnRTdHJpbmcsIGlzU3RhdGljLCBsaW5lRGVsaW0pKTsKKwkJCQkvLyBjb2xsZWN0IGFsbCBjb21t
ZW50cworCQkJCUlSZWdpb24gcmFuZ2VCZWZvcmUgPSBjdXJyLmdldFByZWNlZGluZ0NvbW1lbnRS
YW5nZSgpOworCQkJCWlmIChyYW5nZUJlZm9yZSAhPSBudWxsKSB7CisJCQkJCWFsbEltcG9ydHMu
YWRkKGJ1ZmZlci5nZXRUZXh0KHJhbmdlQmVmb3JlLmdldE9mZnNldCgpLCByYW5nZUJlZm9yZS5n
ZXRMZW5ndGgoKSkpOworCQkJCX0KKwkJCQlJUmVnaW9uIHJhbmdlQWZ0ZXIgPSBjdXJyLmdldFRy
YWlsaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJU3RyaW5nIHRyYWlsQ29tbWVudHMgPSBudWxsOwor
CQkJCWlmIChyYW5nZUFmdGVyICE9IG51bGwpIHsKKwkJCQkJdHJhaWxDb21tZW50cyA9IGJ1ZmZl
ci5nZXRUZXh0KHJhbmdlQWZ0ZXIuZ2V0T2Zmc2V0KCksIHJhbmdlQWZ0ZXIuZ2V0TGVuZ3RoKCkp
OworCQkJCX0KKwkJCQlhbGxJbXBvcnRzLmFkZChnZXROZXdJbXBvcnRTdHJpbmcoc3RhckltcG9y
dFN0cmluZywgaXNTdGF0aWMsIHRyYWlsQ29tbWVudHMsIGxpbmVEZWxpbSkpOwogCQkJCWlzU3Rh
ckltcG9ydEFkZGVkID0gdHJ1ZTsKIAkJCX0gZWxzZSB7CiAJCQkJLy8gY29sbGVjdCBhbGwgY29t
bWVudHMKIAkJCQlJUmVnaW9uIHJhbmdlQmVmb3JlID0gY3Vyci5nZXRQcmVjZWRpbmdDb21tZW50
UmFuZ2UoKTsKIAkJCQlpZiAocmFuZ2VCZWZvcmUgIT0gbnVsbCkgewotCQkJCQlpZiAoYWxsQ29t
bWVudHMgPT0gbnVsbCkgewotCQkJCQkJYWxsQ29tbWVudHMgPSBuZXcgU3RyaW5nQnVmZmVyKCk7
CisJCQkJCWlmIChhbGxDb21tZW50c0xlYWQgPT0gbnVsbCkgeworCQkJCQkJYWxsQ29tbWVudHNM
ZWFkID0gbmV3IFN0cmluZ0J1ZmZlcigpOwogCQkJCQl9Ci0JCQkJCWFsbENvbW1lbnRzLmFwcGVu
ZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0
TGVuZ3RoKCkpKS5hcHBlbmQobGluZURlbGltKTsKKwkJCQkJYWxsQ29tbWVudHNMZWFkLmFwcGVu
ZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0
TGVuZ3RoKCkpKTsKIAkJCQl9CiAJCQkJSVJlZ2lvbiByYW5nZUFmdGVyID0gY3Vyci5nZXRUcmFp
bGluZ0NvbW1lbnRSYW5nZSgpOwogCQkJCWlmIChyYW5nZUFmdGVyICE9IG51bGwpIHsKIAkJCQkJ
aWYgKGFsbENvbW1lbnRzID09IG51bGwpIHsKIAkJCQkJCWFsbENvbW1lbnRzID0gbmV3IFN0cmlu
Z0J1ZmZlcigpOwogCQkJCQl9Ci0JCQkJCWFsbENvbW1lbnRzLmFwcGVuZChidWZmZXIuZ2V0VGV4
dChyYW5nZUFmdGVyLmdldE9mZnNldCgpLCByYW5nZUFmdGVyLmdldExlbmd0aCgpKSkuYXBwZW5k
KGxpbmVEZWxpbSk7CisJCQkJCWFsbENvbW1lbnRzLmFwcGVuZChidWZmZXIuZ2V0VGV4dChyYW5n
ZUFmdGVyLmdldE9mZnNldCgpLCByYW5nZUFmdGVyLmdldExlbmd0aCgpKSk7CiAJCQkJfQogCQkJ
fQogCQl9CisJCWlmIChhbGxDb21tZW50c0xlYWQgIT0gbnVsbCkgeworCQkJYWxsSW1wb3J0cy5h
ZGQoMCwgU3RyaW5nLnZhbHVlT2YoYWxsQ29tbWVudHNMZWFkKSk7CisJCX0KIAkJaWYgKGFsbENv
bW1lbnRzICE9IG51bGwpIHsKLQkJCWFsbEltcG9ydHMuYWRkKDAsIFN0cmluZy52YWx1ZU9mKGFs
bENvbW1lbnRzKSk7CisJCQlhbGxJbXBvcnRzLmFkZChTdHJpbmcudmFsdWVPZihhbGxDb21tZW50
cy5hcHBlbmQobGluZURlbGltKSkpOwogCQl9CiAJCXJldHVybiAoU3RyaW5nW10pIGFsbEltcG9y
dHMudG9BcnJheShuZXcgU3RyaW5nW2FsbEltcG9ydHMuc2l6ZSgpXSk7CiAJfQpAQCAtMTExMCw4
ICsxMjE5LDggQEAKIAkJcHJpdmF0ZSBJUmVnaW9uIHNvdXJjZVJhbmdlOwogCQlwcml2YXRlIGZp
bmFsIGJvb2xlYW4gaXNTdGF0aWM7CiAJCXByaXZhdGUgaW50IGNvbnRhaW5lck5hbWVMZW5ndGg7
Ci0JCXByaXZhdGUgSVJlZ2lvbiBwcmVjZWRpbmdDb21tZW50UmFuZ2U7Ci0JCXByaXZhdGUgSVJl
Z2lvbiB0cmFpbGluZ0NvbW1lbnRSYW5nZTsKKwkJSVJlZ2lvbiBwcmVjZWRpbmdDb21tZW50UmFu
Z2U7CisJCUlSZWdpb24gdHJhaWxpbmdDb21tZW50UmFuZ2U7CiAKIAkJcHVibGljIEltcG9ydERl
Y2xFbnRyeSgKIAkJCQlpbnQgY29udGFpbmVyTmFtZUxlbmd0aCw=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>224197</attachid>
            <date>2012-12-01 18:22:00 -0500</date>
            <delta_ts>2012-12-02 07:47:15 -0500</delta_ts>
            <desc>Required changes in JDT/UI tests</desc>
            <filename>clipboard.txt</filename>
            <type>text/plain</type>
            <size>1786</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQv
dWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51
aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQvdWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRl
c3QuamF2YQppbmRleCBhYzVhNTMyLi45MzA4NDVlIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQudWkudGVzdHMvdWkvb3JnL2VjbGlwc2UvamR0L3VpL3Rlc3RzL2NvcmUvSW1wb3J0T3JnYW5p
emVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNl
L2pkdC91aS90ZXN0cy9jb3JlL0ltcG9ydE9yZ2FuaXplVGVzdC5qYXZhCkBAIC01NzcsOCArNTc3
LDcgQEAKIAkJYnVmPSBuZXcgU3RyaW5nQnVmZmVyKCk7CiAJCWJ1Zi5hcHBlbmQoInBhY2thZ2Ug
cGFjazE7XHJcbiIpOwogCQlidWYuYXBwZW5kKCJcclxuIik7Ci0JCWJ1Zi5hcHBlbmQoImltcG9y
dCBqYXZhLnV0aWwuVmVjdG9yO1xyXG4iKTsKLQkJYnVmLmFwcGVuZCgiLy8gY29tbWVudFxyXG4i
KTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IGphdmEudXRpbC5WZWN0b3I7IC8vIGNvbW1lbnRcclxu
Iik7CiAJCWJ1Zi5hcHBlbmQoIlxyXG4iKTsKIAkJYnVmLmFwcGVuZCgicHVibGljIGNsYXNzIEMg
e1xyXG4iKTsKIAkJYnVmLmFwcGVuZCgiICAgIFZlY3RvciB2O1xyXG4iKTsKQEAgLTY4MiwxNiAr
NjgxLDEyIEBACiAJCWJ1Zi5hcHBlbmQoInBhY2thZ2UgcGFjazE7XG4iKTsKIAkJYnVmLmFwcGVu
ZCgiXG4iKTsKIAkJYnVmLmFwcGVuZCgiLy8gY29tbWVudCAxXG4iKTsKLQkJYnVmLmFwcGVuZCgi
LypsZWFkIDEqLyIpOwotCQlidWYuYXBwZW5kKCJpbXBvcnQgamF2YS51dGlsLio7XG4iKTsKKwkJ
YnVmLmFwcGVuZCgiLypsZWFkIDEqLy8qbGVhZCAyKi8gLyoqbGVhZCAzKi9pbXBvcnQgamF2YS51
dGlsLio7IC8vdGVzdDNcbiIpOworCQlidWYuYXBwZW5kKCIvL3Rlc3QxLyp0ZXN0MiovXG4iKTsK
KwkJYnVmLmFwcGVuZCgiIik7CiAJCWJ1Zi5hcHBlbmQoIlxuIik7Ci0JCWJ1Zi5hcHBlbmQoImlt
cG9ydCBwYWNrLkxpc3Q7XG4iKTsKLQkJYnVmLmFwcGVuZCgiLy90ZXN0MVxuIik7Ci0JCWJ1Zi5h
cHBlbmQoIi8qbGVhZCAyKi8gXG4iKTsgCi0JCWJ1Zi5hcHBlbmQoIi8qdGVzdDIqL1xuIik7Ci0J
CWJ1Zi5hcHBlbmQoIi8qKmxlYWQgMyovXG4iKTsKLQkJYnVmLmFwcGVuZCgiLy90ZXN0M1xuIik7
CiAJCWJ1Zi5hcHBlbmQoIi8qKmNvbW1lbnQgMiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0
IHBhY2suTGlzdDtcbiIpOwogCQlidWYuYXBwZW5kKCJcbiIpOwogCQlidWYuYXBwZW5kKCJwdWJs
aWMgY2xhc3MgQyB7XG4iKTsKIAkJYnVmLmFwcGVuZCgiICAgIFZlY3RvciB2O1xuIik7CkBAIC0y
NDU5LDggKzI0NTQsNyBAQAogCQlidWYuYXBwZW5kKCIvKipjb21tZW50MSovXG4iKTsKIAkJYnVm
LmFwcGVuZCgiLypsZWFkMSovIik7CiAJCWJ1Zi5hcHBlbmQoImltcG9ydCBqYXZhLnV0aWwuQXJy
YXlMaXN0O1xuIik7Ci0JCWJ1Zi5hcHBlbmQoImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDtcbiIp
OwotCQlidWYuYXBwZW5kKCIvLyB0cmFpbCAxXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IGph
dmEudXRpbC5IYXNoTWFwOy8vIHRyYWlsIDFcbiIpOwogCQlidWYuYXBwZW5kKCJcbiIpOwogCQli
dWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKIAkJYnVmLmFwcGVuZCgiICAgIHB1Ymxp
YyB2b2lkIGZvbygpIHtcbiIpOw==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>224198</attachid>
            <date>2012-12-02 07:35:00 -0500</date>
            <delta_ts>2012-12-02 07:35:09 -0500</delta_ts>
            <desc>updated patch</desc>
            <filename>clipboard.txt</filename>
            <type>text/plain</type>
            <size>73943</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCA3ZDAxNTk2Li44ZWFmMDQyIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC02NSw2ICs2NSwxMCBAQAogCX0KIAogCXB1Ymxp
YyBzdGF0aWMgVGVzdCBzdWl0ZSgpIHsKKy8vCQlTeXN0ZW0uZXJyLnByaW50bG4oIldhcm5pbmcs
IG9ubHkgcGFydCBvZiB0aGUgSW1wb3J0UmV3cml0ZVRlc3QgYXJlIGJlaW5nIGV4ZWN1dGVkISIp
OworLy8JCVN1aXRlIHN1aXRlID0gbmV3IFN1aXRlKEltcG9ydFJld3JpdGVUZXN0LmNsYXNzLmdl
dE5hbWUoKSk7CisvLwkJc3VpdGUuYWRkVGVzdChuZXcgSW1wb3J0UmV3cml0ZVRlc3QoInRlc3RS
ZW1vdmVJbXBvcnRzMSIpKTsKKy8vCQlyZXR1cm4gc3VpdGU7CiAJCXJldHVybiBhbGxUZXN0cygp
OwogCX0KIApAQCAtMTkxMyw2ICsxOTE3LDcgQEAKICAgICAgICAgICAgICAgICAiaW1wb3J0IGph
dmEudXRpbC5NYXAuKjtcbiIgKwogICAgICAgICAgICAgICAgICJcbiIgKwogICAgICAgICAgICAg
ICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4i
ICsKKyAgICAgICAgICAgICAgICAiXG4iICsKICAgICAgICAgICAgICAgICAiLyogbGVhZCAzKi8g
aW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKwogICAgICAg
ICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAogICAgICAgICAgICAgICAgICJcbiIgKyAKQEAg
LTE5NzMsNiArMTk3OCw3IEBACiAgICAgICAgICAgICAgICAgIlxuIiArIAogICAgICAgICAgICAg
ICAgICIvLyBjb21tZW50IDFcbiIgKyAKICAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBv
cnQgamF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAg
IlxuIiArCiAgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsg
Ly8gdGVzdDFcbiIgKwogICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xu
IiArCiAgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKQEAgLTIwMzIsMTEgKzIwMzgsOCBAQAogICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAogICAgICAgICAgICAgICAgICJcbiIgKwog
ICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKwotCQkJCSIvKiBsZWFkIDIqLyIgKwot
CQkJCSJpbXBvcnQgamF2YS51dGlsLio7XG4iICsgCisJCQkJIi8qIGxlYWQgMiovLyogbGVhZCAx
Ki8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxuIiArCiAJCQkJIi8vIHRlc3QyXG4iICsK
LQkJCQkiLyogbGVhZCAxKi8gXG4iICsKLQkJCQkiLy8gdGVzdDFcbiIgKwogCQkJCSIvKiBsZWFk
IDMqLyBcbiIgKwogCQkJCSIvLyB0ZXN0M1xuIiArCiAJCQkJIi8vIGNvbW1lbiAzXG4iICsKQEAg
LTIwOTYsOCArMjA5OSw3IEBACiAgICAgICAgICAgICAgICAgIlxuIiArIAogICAgICAgICAgICAg
ICAgICIvLyBjb21tZW50IDFcbiIgKwogCQkJCSIvKiBsZWFkIDEqLyAiICsKLQkJCQkiaW1wb3J0
IGphdmEudXRpbC5NYXAuKjtcbiIgKyAKLQkJCQkiLy8gdGVzdDFcbiIgKworCQkJCSJpbXBvcnQg
amF2YS51dGlsLk1hcC4qOyAvLyB0ZXN0MVxuIiArCiAJCQkJIi8qIGxlYWQgMiovXG4iICsKIAkJ
CQkiLy8gdGVzdDJcbiIgKwogCQkJCSIvKiBsZWFkIDMqLyBcbiIgKwpAQCAtMjE1OSwxMCArMjE2
MSw5IEBACiAgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCiAgICAgICAgICAgICAg
ICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIg
KwogICAgICAgICAgICAgICAgICJcbiIgKwotICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBc
biIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7XG4i
ICsKICAgICAgICAgICAgICAgICAiIC8vIHRlc3QxXG4iICsKICAgICAgICAgICAgICAgICAiLy8g
Y29tbWVuIDNcbiIgKwotICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7XG4iICsg
CiAgICAgICAgICAgICAgICAgIlxuIiArIAogICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3Mg
QyB7XG4iICsgCiAgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihT
dHJpbmdbXSBhcmdzKSB7XG4iICsgCkBAIC0yMTc4LDYgKzIxNzksMTM5MiBAQAogICAgICAgICBh
c3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOwogICAgIH0K
IAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0z
NzY5MzAKKyAgICAvLyBzZXBhcmF0aW5nIGNvbW1lbnQgc2hvdWxkIG5vdCBwcmV2ZW50IGZvbGRp
bmcgaW50byAqLWltcG9ydAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfNWUoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291
cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7Cisg
ICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1
Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5NYXA7XG4i
ICsKKyAgICAgICAgICAgICAgICAiLyogY29tbWVudCBsZWFkaW5nIE1hcC5FbnRyeSAqL1xuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5O1xuIiArCisgICAg
ICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIg
KworICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g
YXJncykge1xuIiArCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArCisg
ICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5
IGU9IG51bGw7XG4iICsKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtc
biIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIgICAgfVxuIiAr
CisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBh
Y2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNl
LCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZh
IiwgImphdmF4IiwgIm9yZyIsICJjb20iIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBv
cnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDIsIDIsIHRydWUpOworICAgICAgICBp
bXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAg
ICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBw
bHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAg
ICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7
XG4iICsKKyAgICAgICAgICAgICAgICAiLyogY29tbWVudCBsZWFkaW5nIE1hcC5FbnRyeSAqL1xu
IiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTtcbiIgKwor
ICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMg
e1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3Ry
aW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAg
TWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkg
ZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFs
U3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAg
IC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQK
KyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAg
ICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNr
YWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIg
YnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAg
ICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGtlZXAgbWUgd2l0aCBMaXN0XG4iICsKKyAgICAgICAgICAg
ICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIFNlcmlhbGl6YWJsZVxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsK
KyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIEhhc2hNYXBcbiIgKworICAgICAgICAg
ICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hN
YXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1w
bGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAg
ICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEu
Y3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51
bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAi
amF2YS5hd3QiLCAiamF2YS5pbyIsICJqYXZhLnV0aWwiIH07CisKKyAgICAgICAgSW1wb3J0UmV3
cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDIsIDIsIGZhbHNlKTsK
KyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1
ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAg
IGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBv
cnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBv
cnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5h
cHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAg
ICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIExpc3Rc
biIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG5cbiIgKwor
ICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGtlZXAgbWUgd2l0
aCBTZXJpYWxpemFibGVcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcblxuIiArCisgICAg
ICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3aXRoIEhh
c2hNYXBcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJp
bXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIv
LyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAg
ICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRF
cXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAK
KyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4
MDI0CisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3ODAyNGIoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0
ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1
ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAg
ICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAg
ICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAg
ICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2Vy
aWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAg
ICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9c
biIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNc
biIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJp
YWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlz
dCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0g
bnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGls
YXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAg
ICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwg
ImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1w
b3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0
VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRz
LmFkZEltcG9ydCgiamF2YS5hd3QuTGlzdCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgi
amF2YS5pby5TZXJpYWxpemFibGUiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEu
dXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVm
ID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAg
ICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisg
ICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAg
IiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiaW1w
b3J0IGphdmEuYXd0Lio7Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisg
ICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAg
IiAqL1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7Ly8gdGVzdDJcbiIg
KworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAg
ICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAq
L1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsvLyB0ZXN0M1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6
YWJsZXtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwg
PSBuZXcgTGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9
Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJp
bmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBsZWFkaW5nIGFuZCB0cmFpbGluZyBjb21t
ZW50cyBhbHdheXMgbW92ZSB3aXRoIGltcG9ydHMuIAorICAgIC8vIGNvbW1lbnRzIGluIGJldHdl
ZW4gc3RheSB3aGVyZSB0aGV5IGFyZQorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRjKCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlz
LnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwp
OworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAg
ICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKwor
ICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUg
bWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAx
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIg
KworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAg
ICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAq
L1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQg
MlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0
ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAg
ICIgKiBkb24ndCBtb3ZlIG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAg
ICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu
Z1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcg
TGlzdCgpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7Cisg
ICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQo
IkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5n
W10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBh
Y2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0
ZShjdSwgb3JkZXIsIDk5LCA5OSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRl
eHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEuYXd0Lkxpc3QiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8u
U2VyaWFsaXphYmxlIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuSGFz
aE1hcCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBT
dHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFj
a2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGls
Lkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiAr
IAorICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1v
dmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6
YWJsZTsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAg
ICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsK
KyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3Zl
IG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJw
dWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFs
U3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAg
IC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQK
KyAgICAvLyBsZWFkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cyBhbHdheXMgbW92ZSB3aXRoIGlt
cG9ydHMuIAorICAgIC8vIGNvbW1lbnRzIGluIGJldHdlZW4gc3RheSB3aGVyZSB0aGV5IGFyZQor
ICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRjXzEoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAg
ICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBh
Y2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZl
ciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAg
ICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4i
ICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAg
ICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3Qg
bW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAg
ICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAg
ICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGph
dmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
IDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1Ymxp
YyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5p
dCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5n
KCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdb
XSB7ICJqYXZhIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1w
b3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCA5OSwgOTksIGZhbHNlKTsKKyAgICAg
ICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7Cisg
ICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9y
dHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFk
ZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsK
KworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQo
CisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAg
ICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAg
ICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAg
ICAgICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAg
ICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsK
KyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4i
ICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3Qy
XG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24n
dCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAg
ICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisg
ICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXph
Ymxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o
U3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9
IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0i
KTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmlu
ZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM3ODAyNAorICAgIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1l
bnRzIGFsd2F5cyBtb3ZlIHdpdGggaW1wb3J0cywgZXZlbiBpZiB0aGV5IGdldCBmb2xkZWQuIAor
ICAgIC8vIGNvbW1lbnRzIGluIGJldHdlZW4gc3RheSB3aGVyZSB0aGV5IGFyZQorICAgIHB1Ymxp
YyB2b2lkIHRlc3RCdWczNzgwMjRjXzIoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBh
Y2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFn
bWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBu
ZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAg
InBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpc
biIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAy
XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0
IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypc
biIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAg
ICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAg
ICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAg
ICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAg
ICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5I
YXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAK
KyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBD
IGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVi
bGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsg
CisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBh
Y2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNl
LCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZh
IiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3
SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMu
c2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBv
cnRzLmFkZEltcG9ydCgiamF2YS5hd3QuTGlzdCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9y
dCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImph
dmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAg
YnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAg
ICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAg
ICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAi
XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAgICAgICAi
aW1wb3J0IGphdmEuYXd0Lio7Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLmlvLio7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIv
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAg
ICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAg
ICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsK
KyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS51dGlsLio7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNs
YXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1c
biIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhj
dS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8g
bm90IGFkZGluZyBhbiBpbXBvcnQgc2hvdWxkIHByZXNlcnZlIGl0cyBjb21tZW50cyBhbmQgcHV0
IHRoZW0gYXQgdGhlIGVuZC4KKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0ZCgpIHRocm93
cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3Vy
Y2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAg
ICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFc
biIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIg
KworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIg
KworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAg
ICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAg
ICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBh
cmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3Qo
KTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAg
ICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmph
dmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9y
ZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9
OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3Us
IG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmls
dGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2
YS5hd3QuTGlzdCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hN
YXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3Ry
aW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2th
Z2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAg
ICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5h
d3QuKjsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAg
ICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOy8v
IHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDRcbiIg
KworICAgICAgICAgICAgICAgICIgKi8iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAg
ICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIgKworICAgICAgICAgICAgICAgICIg
Ki9cbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAg
ICIvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAg
ICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1w
bGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAg
ICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3Vy
Y2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3Mu
ZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8gYWRkaW5nIGEg
bmV3IGltcG9ydCBzaG91bGQgbm90IGRpc3R1cmIgY29tbWVudHMgYW5kIGltcG9ydCBzaG91bGQg
YmUgYWRkZWQgaW4gaXRzIGdyb3VwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3ODAyNGUoKSB0
aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMu
c291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7
CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAg
IGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9c
biIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFc
biIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAy
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRl
c3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAg
ICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAg
ICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5n
W10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBM
aXN0KCk7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAg
ICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgi
Qy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdb
XSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAy
LCAyLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5hd3QuTGlz
dCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsK
KyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8uUHJpbnRXcml0ZXIiKTsKKyAgICAg
ICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBw
bHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAg
ICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKwor
ICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUg
bWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAx
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIg
KworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1v
dmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7XG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAi
ICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAg
ICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51
dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNs
YXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1c
biIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhj
dS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8g
cmVtb3ZpbmcgYW4gaW1wb3J0IHNob3VsZCBwcmVzZXJ2ZSBpdHMgY29tbWVudHMgYXQgdGhlIGVu
ZCwgYW5kIGFkZGluZyBhIG5ldyBpbXBvcnQgc2hvdWxkIG5vdCBkaXN0dXJiCisgICAgLy8gZXhp
c3RpbmcgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0ZV8xKCkgdGhyb3dz
IEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJj
ZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAg
ICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYu
YXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxu
IiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsK
KyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKworICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAg
ICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsvLyB0ZXN0Mlxu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3Qg
bW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAg
ICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgp
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAg
IElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2
YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3Jk
ZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07
CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwg
b3JkZXIsIDIsIDIsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0
ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZh
LmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3Jp
dGVyIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuSGFzaE1hcCIpOwor
CisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm
ZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNr
MTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29t
bWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIg
KiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAg
ICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0
Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0
ZXI7XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFk
IDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVz
dDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAg
ICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisg
ICAgICAgICAgICAgICAgIiAqLyIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAg
ICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xu
IiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIg
KiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVt
ZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAg
ICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2Uo
KSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNs
aXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8gZm9sZGluZyBpbXBv
cnRzIGJlY2F1c2Ugb2YgYSBuZXdseSBhZGRlZCBpbXBvcnQgc2hvdWxkIHByZXNlcnZlIGNvbW1l
bnRzCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3ODAyNGYoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0
ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1
ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAg
ICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAg
ICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAg
ICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAg
IlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9u
J3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAg
ICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAg
ICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAg
ICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIg
KworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUg
NFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0
IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29t
bWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1
YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9u
VW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3Ry
aW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJp
bmdbXSB7ICJqYXZhIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUg
aW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAyLCAyLCBmYWxzZSk7CisgICAg
ICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOwor
ICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5hd3QuTGlzdCIpOworICAgICAgICBpbXBv
cnRzLmFkZEltcG9ydCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsKKyAgICAgICAgaW1wb3J0cy5h
ZGRJbXBvcnQoImphdmEuaW8uUHJpbnRXcml0ZXIiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAg
ICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIv
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAg
ICAgICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAg
ICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAg
ICAgICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAg
ICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAg
ICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxuIiArCisg
ICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7XG4iICsKKyAgICAgICAgICAgICAgICAi
Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAg
ICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0
XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFk
IDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVz
dDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBT
ZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZv
aWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAg
TGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAg
ZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVm
LnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5v
cmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8gZm9sZGluZyBpbXBvcnRzIGJl
Y2F1c2Ugb2YgYSBuZXdseSBhZGRlZCBpbXBvcnQgc2hvdWxkIHByZXNlcnZlIGNvbW1lbnRzCisg
ICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3ODAyNGZfMSgpIHRocm93cyBFeGNlcHRpb24geworICAg
ICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFj
a2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVy
IGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAg
ICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIg
KworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggTGlzdFxuIiArCisgICAgICAgICAg
ICAgICAgIiAqXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAgICAgICAgICAgICAg
ICAiaW1wb3J0IGphdmEuYXd0Lkxpc3Q7Ly8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICJc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGtlZXAg
bWUgd2l0aCBTZXJpYWxpemFibGVcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAg
ICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGtlZXAgbWUgd2l0
aCBTZXJpYWxpemFibGUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAg
ICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgM1xuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyOy8vIHRlc3QzXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggUHJp
bnRXcml0ZXJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAg
ICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRv
bid0IG1vdmUgbWVcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAg
ICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgNFxuIiArCisgICAgICAgICAgICAg
ICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0NFxuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGwgPSBuZXcgTGlzdCgpO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElD
b21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIs
IGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIg
PSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisK
KyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3Jk
ZXIsIDIsIDIsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJ
bXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3
dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJs
ZSIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOwor
ICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAg
ICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7Cisg
ICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBt
ZSB3aXRoIExpc3RcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRl
c3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFk
IDRcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVz
dDRcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAg
ICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGtlZXAgbWUgd2l0aCBTZXJpYWxpemFi
bGVcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyBs
ZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDNcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5pby4qOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLypc
biIgKworICAgICAgICAgICAgICAgICIgKiBrZWVwIG1lIHdpdGggUHJpbnRXcml0ZXJcbiIgKwor
ICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyB0ZXN0MlxuIiAr
CisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICoga2VlcCBtZSB3
aXRoIFNlcmlhbGl6YWJsZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lXG4i
ICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAicHVibGljIGNs
YXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExpc3QoKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1c
biIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhj
dS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8g
UmUtb3JkZXJpbmcgaW1wb3J0cyBhbmQgY29udmVydGluZyB0aGVtIHRvICoKKyAgICBwdWJsaWMg
dm9pZCB0ZXN0QnVnMzc4MDI0ZygpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2Fn
ZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50
KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBT
dHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFj
a2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmF3dC5MaXN0Oy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIg
KworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2
YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAi
ICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAg
ICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAg
ICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb
XSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsID0gbmV3IExp
c3QoKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAg
ICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJD
LmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1td
IG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS5hd3QiLCAiamF2YS51dGlsIiwg
ImphdmEuaW8iLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBv
cnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEsIDEsIGZhbHNlKTsKKyAgICAgICAg
aW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAg
ICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmlvLlNlcmlhbGl6YWJsZSIpOworICAgICAgICBpbXBvcnRzLmFkZElt
cG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmMiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAg
YnVmMi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisg
ICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBt
ZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAgICIgKi9c
biIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFc
biIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5hd3QuKjsvLyB0ZXN0MVxuIiArCisg
ICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAg
ICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOy8vIHRlc3QzXG4iICsKKyAgICAgICAg
ICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
aW8uKjsvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAg
ICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsK
KyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3Zl
IG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIv
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAg
ICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxl
bWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIExpc3QgbCA9IG5ldyBMaXN0KCk7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAg
ICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNl
KCksIGJ1ZjIudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5l
Y2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBQcmVzZXJ2ZSBj
b21tZW50cyB3aGVuIGltcG9ydHMgYXJlIHJlbW92ZWQgaW4gY2FzZSB0aGUgcmVzdG9yaW5nIG9m
IGltcG9ydHMgaXMgZW5hYmxlZAorICAgIC8vIFRoaXMgd2lsbCB0ZXN0IGNoYW5nZXMgaW4gb3Jn
LmVjbGlwc2UuamR0LmludGVybmFsLmNvcmUuZG9tLnJld3JpdGUuSW1wb3J0UmV3cml0ZUFuYWx5
emVyLnJlbW92ZUltcG9ydChTdHJpbmcsIGJvb2xlYW4pCisgICAgcHVibGljIHZvaWQgdGVzdEJ1
ZzM3ODAyNGgoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBw
YWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBm
YWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVy
KCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAg
ICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsv
LyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAg
ICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gbGVhZCAyXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFs
aXphYmxlOy8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAg
ICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIg
KworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAg
ICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAgICAgICAgICAgICAgIiAq
L1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vbGVhZCAz
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRlc3Qz
XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGltcGxlbWVudHMgU2Vy
aWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lk
IG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAg
ICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVD
b21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisK
KyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0
aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBu
ZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDk5LCA5OSwgdHJ1ZSk7CisgICAgICAgIGltcG9y
dHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBp
bXBvcnRzLnJlbW92ZUltcG9ydCgiamF2YS5hd3QuTGlzdCIpOworCisgICAgICAgIGFwcGx5KGlt
cG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFc
biIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiAr
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAg
ICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAyXG4iICsKKyAgICAgICAgICAgICAgICAiICov
XG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAy
XG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOy8vIHRl
c3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqIGRvbid0IG1vdmUgbWUgNFxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAg
ICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAg
ICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5IYXNo
TWFwOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIGlt
cGxlbWVudHMgU2VyaWFsaXphYmxle1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIE1hcCBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiAr
IAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1Lmdl
dFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8v
YnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzgwMjQKKyAgICAvLyBQcmVz
ZXJ2ZSBjb21tZW50cyB3aGVuIGltcG9ydHMgYXJlIHJlbW92ZWQgaW4gY2FzZSB0aGUgcmVzdG9y
aW5nIG9mIGltcG9ydHMgaXMgZW5hYmxlZAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzgwMjRo
XzEoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9
IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwg
bnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7Cisg
ICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxu
IiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3Qg
bW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAgICAg
ICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAg
Ii8qIGkgYW0gd2l0aCBMaXN0ICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAg
ICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJc
biIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxu
IiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAg
ICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAg
Ii8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAg
ICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkhh
c2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAor
ICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMg
aW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgTWFwIGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4i
ICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9
IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZh
bHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJq
YXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdy
aXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgOTksIDk5LCB0cnVlKTsK
KyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1
ZSk7CisgICAgICAgIGltcG9ydHMucmVtb3ZlSW1wb3J0KCJqYXZhLmF3dC5MaXN0Iik7CisgICAg
ICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuTGlzdCIpOworCisgICAgICAgIGFwcGx5
KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAg
YnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAg
ICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1l
IDFcbiIgKworICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xu
IiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8q
IGkgYW0gd2l0aCBMaXN0ICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDJcbiIg
KworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2
YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8q
XG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAg
ICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLkxp
c3Q7XG4iICsgICAgICAgICAgICAgICAgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAg
ICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAg
ICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOwor
ICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1
Zy5jZ2k/aWQ9Mzc4MDI0CisgICAgLy8gUHJlc2VydmUgY29tbWVudHMgd2hlbiBpbXBvcnRzIGFy
ZSB1bmZvbGRlZC4KKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc4MDI0aSgpIHRocm93cyBFeGNl
cHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xk
ZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAg
U3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVu
ZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAg
ICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKwor
ICAgICAgICAgICAgICAgICIgKlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAg
ICAgICAgICAgICAgIi8vIGxlYWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LmF3dC4qOy8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogaSBhbSB3aXRoIExpc3Qg
Ki9cbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiAr
CisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAg
ICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGxlYWQgMlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7Ly8gdGVzdDJc
biIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0
IG1vdmUgbWUgM1xuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICog
ZG9uJ3QgbW92ZSBtZSA0XG4iICsKKyAgICAgICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy9sZWFkIDNcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAicHVibGljIGNsYXNzIEMgaW1wbGVtZW50cyBTZXJpYWxpemFibGV7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHA9IG51bGw7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgTGlzdCBsPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlv
blVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0
cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3Ry
aW5nW10geyAiamF2YSIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRl
IGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgOTksIDk5LCBmYWxzZSk7Cisg
ICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUp
OworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5hd3QuTGlzdCIpOworICAgICAgICBp
bXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOworICAgICAgICBpbXBvcnRz
LmFkZEltcG9ydCgiamF2YS5pby5TZXJpYWxpemFibGUiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJ
bXBvcnQoImphdmEudXRpbC5IYXNoTWFwIik7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJq
YXZhLnV0aWwuTWFwIik7CisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9
IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAg
ICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAg
ICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAg
ICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDFcbiIgKworICAgICAgICAgICAgICAgICIg
KlxuIiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxl
YWQgMVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmF3dC5MaXN0Oy8vIHRlc3Qx
XG4iICsKKyAgICAgICAgICAgICAgICAiLyogaSBhbSB3aXRoIExpc3QgKi9cbiIgKworICAgICAg
ICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgMlxu
IiArCisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQg
MlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyOy8vIHRl
c3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7XG4iICsKKyAgICAgICAgICAgICAg
ICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDRcbiIgKworICAg
ICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisg
ICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9y
dCBqYXZhLnV0aWwuTWFwO1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGU9IG51bGw7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcD0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBMaXN0IGw9IG51bGw7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1
YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisg
ICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3ODAy
NAorICAgIC8vIFByZXNlcnZlIGNvbW1lbnRzIHdoZW4gaW1wb3J0cyBhcmUgZm9sZGVkIGJ1dCBh
IG1lbWJlciB0eXBlIGltcG9ydCBpcyBwcmVzZW50CisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3
ODAyNGooKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNr
MSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxz
ZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7
CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQg
MVxuIiArCisgICAgICAgICAgICAgICAgIi8qXG4iICsKKyAgICAgICAgICAgICAgICAiICogZG9u
J3QgbW92ZSBtZSAxXG4iICsKKyAgICAgICAgICAgICAgICAiICpcbiIgKworICAgICAgICAgICAg
ICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDFcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5hd3QuTGlzdDsvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAg
ICAgIi8qIGkgYW0gd2l0aCBMaXN0ICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAg
ICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1l
IDJcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvL2xlYWQgM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9y
dCBqYXZhLnV0aWwuSGFzaE1hcDsvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8qXG4i
ICsKKyAgICAgICAgICAgICAgICAiICogZG9uJ3QgbW92ZSBtZSAzXG4iICsKKyAgICAgICAgICAg
ICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
LyprZWVwIG1lIHdpdGggTWFwLkVudHJ5Ki9cbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS51dGlsLk1hcC5FbnRyeTsvLyBtZW1iZXIgdHlwZSBpbXBvcnRcbiIgKworICAgICAgICAg
ICAgICAgICIvKmtlZXAgbWUgd2l0aCBNYXAuRW50cnkgMiovXG4iICsKKyAgICAgICAgICAgICAg
ICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAgICAgICAgICAgICAgICIgKiBk
b24ndCBtb3ZlIG1lIDRcbiIgKworICAgICAgICAgICAgICAgICIgKi9cbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBsZWFkIDJcbiIgKworICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ly8gdGVzdDJcbiIgKworICAgICAg
ICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td
IGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0
KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmlu
Z1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJw
YWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3Jp
dGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4
dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9y
dCgiamF2YS5hd3QuTGlzdCIpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGls
Lkhhc2hNYXAiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5NYXAuRW50
cnkiKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8uU2VyaWFsaXphYmxlIik7
CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1
ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBh
Y2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBj
b21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAg
IiAqIGRvbid0IG1vdmUgbWUgMVxuIiArCisgICAgICAgICAgICAgICAgIiAqXG4iICsKKyAgICAg
ICAgICAgICAgICAiICovXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gbGVhZCAxXG4iICsKKyAg
ICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuYXd0Lio7Ly8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBpIGFtIHdpdGggTGlzdCAqL1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vbGVhZCAzXG4iICsKKyAgICAgICAgICAgICAgICAiaW1wb3J0
IGphdmEudXRpbC4qOy8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLypcbiIgKworICAg
ICAgICAgICAgICAgICIgKiBkb24ndCBtb3ZlIG1lIDNcbiIgKworICAgICAgICAgICAgICAgICIg
Ki9cbiIgKworICAgICAgICAgICAgICAgICIvKmtlZXAgbWUgd2l0aCBNYXAuRW50cnkqL1xuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5Oy8vIG1lbWJlciB0
eXBlIGltcG9ydFxuIiArCisgICAgICAgICAgICAgICAgIi8qa2VlcCBtZSB3aXRoIE1hcC5FbnRy
eSAyKi9cbiIgKworICAgICAgICAgICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAq
IGRvbid0IG1vdmUgbWUgMlxuIiArCisgICAgICAgICAgICAgICAgIiAqLyIgKworICAgICAgICAg
ICAgICAgICIvKlxuIiArCisgICAgICAgICAgICAgICAgIiAqIGRvbid0IG1vdmUgbWUgNFxuIiAr
CisgICAgICAgICAgICAgICAgIiAqL1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGxlYWQgMlxu
IiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7Ly8gdGVzdDJcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyBpbXBsZW1lbnRzIFNlcmlhbGl6YWJsZXtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu
Z1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIp
OworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5n
KCkpOworICAgIH0KKwogCXByaXZhdGUgdm9pZCBhc3NlcnRBZGRlZEFuZFJlbW92ZWQoSW1wb3J0
UmV3cml0ZSBpbXBvcnRzLCBTdHJpbmdbXSBleHBlY3RlZEFkZGVkLCBTdHJpbmdbXSBleHBlY3Rl
ZFJlbW92ZWQsIFN0cmluZ1tdIGV4cGVjdGVkQWRkZWRTdGF0aWMsIFN0cmluZ1tdIGV4cGVjdGVk
UmVtb3ZlZFN0YXRpYykgewogCQlhc3NlcnRFcXVhbFN0cmluZ3NJZ25vcmVPcmRlcihpbXBvcnRz
LmdldEFkZGVkSW1wb3J0cygpLCBleHBlY3RlZEFkZGVkKTsKIAkJYXNzZXJ0RXF1YWxTdHJpbmdz
SWdub3JlT3JkZXIoaW1wb3J0cy5nZXRBZGRlZFN0YXRpY0ltcG9ydHMoKSwgZXhwZWN0ZWRBZGRl
ZFN0YXRpYyk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlw
c2UvamR0L2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZS5qYXZhIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3Jp
dGUuamF2YQppbmRleCBjNjY4MDQ5Li5mNzU4OTI2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0
ZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvY29y
ZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEyIElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBh
Y2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTA1
MSw3ICsxMDUxLDcgQEAKIAkJCWlmICh0aGlzLmFkZGVkSW1wb3J0cyAhPSBudWxsKSB7CiAJCQkJ
Zm9yIChpbnQgaT0gMDsgaSA8IHRoaXMuYWRkZWRJbXBvcnRzLnNpemUoKTsgaSsrKSB7CiAJCQkJ
CVN0cmluZyBjdXJyPSAoU3RyaW5nKSB0aGlzLmFkZGVkSW1wb3J0cy5nZXQoaSk7Ci0JCQkJCWNv
bXB1dGVyLmFkZEltcG9ydChjdXJyLnN1YnN0cmluZygxKSwgU1RBVElDX1BSRUZJWCA9PSBjdXJy
LmNoYXJBdCgwKSk7CisJCQkJCWNvbXB1dGVyLmFkZEltcG9ydChjdXJyLnN1YnN0cmluZygxKSwg
U1RBVElDX1BSRUZJWCA9PSBjdXJyLmNoYXJBdCgwKSwgdXNlZEFzdFJvb3QsIHRoaXMucmVzdG9y
ZUV4aXN0aW5nSW1wb3J0cyk7CiAJCQkJfQogCQkJfQogCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUv
SW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5
emVyLmphdmEKaW5kZXggNTYzYWI5MC4uZDNjYmE4ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0lt
cG9ydFJld3JpdGVBbmFseXplci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5h
bHl6ZXIuamF2YQpAQCAtMjcyLDExICsyNzIsMTMgQEAKIAkJCWludCBuZXh0T2Zmc2V0TGluZT0g
cm9vdC5nZXRMaW5lTnVtYmVyKG5leHRPZmZzZXQpOwogCiAJCQlpbnQgZXh0ZW5kZWRTdGFydCA9
IHJvb3QuZ2V0RXh0ZW5kZWRTdGFydFBvc2l0aW9uKGN1cnIpOworCQkJaW50IGV4dGVuZGVkTGVu
Z3RoID0gcm9vdC5nZXRFeHRlbmRlZExlbmd0aChjdXJyKTsKIAkJCWlmIChleHRlbmRlZFN0YXJ0
IDwgdGhpcy5yZXBsYWNlUmFuZ2UuZ2V0T2Zmc2V0KCkpIHsKIAkJCQkvLyBkb24ndCB0b3VjaCB0
aGUgZmlyc3QgY29tbWVudHMgYmVmb3JlIHRoZSBzdGFydCBvZiBpbXBvcnQgZGVjbGFyYXRpb25z
CisJCQkJZXh0ZW5kZWRMZW5ndGggLT0gIChjdXJyT2Zmc2V0IC0gZXh0ZW5kZWRTdGFydCk7CiAJ
CQkJZXh0ZW5kZWRTdGFydCA9IGN1cnJPZmZzZXQ7CiAJCQl9Ci0JCQlpbnQgZXh0ZW5kZWRMZW5n
dGggPSByb290LmdldEV4dGVuZGVkTGVuZ3RoKGN1cnIpOworCQkJCiAJCQkvLyBpZiBuZXh0IGlt
cG9ydCBpcyBvbiBhIGRpZmZlcmVudCBsaW5lLCBtb2RpZnkgdGhlIGVuZCBwb3NpdGlvbiB0byB0
aGUgbmV4dCBsaW5lIGJlZ2luIG9mZnNldAogCQkJaW50IG5leHRMaW5lT2Zmc2V0ID0gbmV4dE9m
ZnNldDsgLy8gb2Zmc2V0IGF0IHRoZSBzdGFydCBvZiBuZXh0IGxpbmUuIE5leHQgaW1wb3J0IG1h
eSBub3Qgc3RhcnQgaGVyZQogCQkJaWYgKGN1cnJFbmRMaW5lIDwgbmV4dE9mZnNldExpbmUpIHsK
QEAgLTMxMyw5ICszMTUsMTAgQEAKIAkJCWlmIChjdXJyRW5kTGluZSA8IG5leHRPZmZzZXRMaW5l
KSB7CiAJCQkJbmV4dE9mZnNldD0gcm9vdC5nZXRQb3NpdGlvbihuZXh0T2Zmc2V0TGluZSwgMCk7
CiAKLQkJCQljdXJyUGFja2FnZT0gbmV3IFBhY2thZ2VFbnRyeSgpOyAvLyBjcmVhdGUgYSBjb21t
ZW50IHBhY2thZ2UgZW50cnkgZm9yIHRoaXMKLQkJCQl0aGlzLnBhY2thZ2VFbnRyaWVzLmFkZChj
dXJyUGFja2FnZSk7Ci0JCQkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50cnkocGFj
a05hbWUubGVuZ3RoKCksIG51bGwsIGZhbHNlLCBuZXcgUmVnaW9uKG5leHRMaW5lT2Zmc2V0LCBu
ZXh0T2Zmc2V0IC0gbmV4dExpbmVPZmZzZXQpKSk7CisJCQkJaW50IGxlbmd0aCA9IG5leHRPZmZz
ZXQgLSBuZXh0TGluZU9mZnNldDsKKwkJCQlpZiAobGVuZ3RoID4gMikgeyAvLyB2YWxpZCBjb21t
ZW50IGhhcyBhdCBsZWFzdCB0d28gY2hhcnMKKwkJCQkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBv
cnREZWNsRW50cnkocGFja05hbWUubGVuZ3RoKCksIG51bGwsIGZhbHNlLCBuZXcgUmVnaW9uKG5l
eHRMaW5lT2Zmc2V0LCBsZW5ndGgpKSk7CisJCQkJfQogCiAJCQkJY3Vyck9mZnNldD0gbmV4dE9m
ZnNldDsKIAkJCX0KQEAgLTU2Niw2ICs1NjksNyBAQAogCQl9CiAJCVN0cmluZyBncm91cElkPSBu
dWxsOwogCQlpbnQgbG9uZ2VzdFByZWZpeD0gLTE7CisJCVBhY2thZ2VFbnRyeSBtYXRjaGluZ0Nv
bW1lbnRFbnRyeSA9IG51bGw7CiAJCS8vIGZpbmQgdGhlIG1hdGNoaW5nIGdyb3VwCiAJCWZvciAo
aW50IGk9IDA7IGkgPCB0aGlzLnBhY2thZ2VFbnRyaWVzLnNpemUoKTsgaSsrKSB7CiAJCQlQYWNr
YWdlRW50cnkgY3Vycj0gKFBhY2thZ2VFbnRyeSkgdGhpcy5wYWNrYWdlRW50cmllcy5nZXQoaSk7
CkBAIC01NzMsOCArNTc3LDExIEBACiAJCQkJU3RyaW5nIGN1cnJHcm91cD0gY3Vyci5nZXRHcm91
cElEKCk7CiAJCQkJaWYgKGN1cnJHcm91cCAhPSBudWxsICYmIG5ld05hbWUuc3RhcnRzV2l0aChj
dXJyR3JvdXApKSB7CiAJCQkJCWludCBwcmVmaXhMZW49IGN1cnJHcm91cC5sZW5ndGgoKTsKLQkJ
CQkJaWYgKHByZWZpeExlbiA9PSBuZXdOYW1lLmxlbmd0aCgpKSB7CisJCQkJCWlmIChwcmVmaXhM
ZW4gPT0gbmV3TmFtZS5sZW5ndGgoKSAmJiAhY3Vyci5pc0NvbW1lbnQoKSkgewogCQkJCQkJcmV0
dXJuIGN1cnI7IC8vIHBlcmZlY3QgZml0LCB1c2UgZW50cnkKKwkJCQkJfSBlbHNlIGlmIChjdXJy
LmlzQ29tbWVudCgpKSB7CisJCQkJCQltYXRjaGluZ0NvbW1lbnRFbnRyeSA9IGN1cnI7IC8vIG1h
eSBiZSB0aGUgb25seSBmaXQgaWYgbm8gYWN0dWFsIGltcG9ydCBvZiB0aGlzIGdyb3VwIGlzIGFs
cmVhZHkgcHJlc2VudAorCQkJCQkJY29udGludWU7CiAJCQkJCX0KIAkJCQkJaWYgKChuZXdOYW1l
LmNoYXJBdChwcmVmaXhMZW4pID09ICcuJyB8fCBwcmVmaXhMZW4gPT0gMCkgJiYgcHJlZml4TGVu
ID4gbG9uZ2VzdFByZWZpeCkgewogCQkJCQkJbG9uZ2VzdFByZWZpeD0gcHJlZml4TGVuOwpAQCAt
NTgyLDYgKzU4OSw5IEBACiAJCQkJCX0KIAkJCQl9CiAJCQl9CisJCX0KKwkJaWYgKG1hdGNoaW5n
Q29tbWVudEVudHJ5ICE9IG51bGwpIHsKKwkJCXJldHVybiBtYXRjaGluZ0NvbW1lbnRFbnRyeTsK
IAkJfQogCQlQYWNrYWdlRW50cnkgYmVzdE1hdGNoPSBudWxsOwogCQlQYWNrYWdlTWF0Y2hlciBt
YXRjaGVyPSBuZXcgUGFja2FnZU1hdGNoZXIoKTsKQEAgLTYxNiwxMCArNjI2LDc4IEBACiAJCXJl
dHVybiBxdWFsaWZpZXIuZXF1YWxzKHBhY2thZ2VOYW1lICsnLicgKyBtYWluVHlwZU5hbWUpOwog
CX0KIAotCXB1YmxpYyB2b2lkIGFkZEltcG9ydChTdHJpbmcgZnVsbFR5cGVOYW1lLCBib29sZWFu
IGlzU3RhdGljKSB7CisJcHVibGljIHZvaWQgYWRkSW1wb3J0KFN0cmluZyBmdWxsVHlwZU5hbWUs
IGJvb2xlYW4gaXNTdGF0aWMsIENvbXBpbGF0aW9uVW5pdCByb290LCBib29sZWFuIHJlc3RvcmVF
eGlzdGluZ0ltcG9ydHMpIHsKIAkJU3RyaW5nIHR5cGVDb250YWluZXJOYW1lPSBnZXRRdWFsaWZp
ZXIoZnVsbFR5cGVOYW1lLCBpc1N0YXRpYyk7Ci0JCUltcG9ydERlY2xFbnRyeSBkZWNsPSBuZXcg
SW1wb3J0RGVjbEVudHJ5KHR5cGVDb250YWluZXJOYW1lLmxlbmd0aCgpLCBmdWxsVHlwZU5hbWUs
IGlzU3RhdGljLCBudWxsKTsKKwkJSW1wb3J0RGVjbEVudHJ5IGRlY2w7CisJCWlmIChyZXN0b3Jl
RXhpc3RpbmdJbXBvcnRzKSB7CisJCQlkZWNsID0gbmV3IEltcG9ydERlY2xFbnRyeSh0eXBlQ29u
dGFpbmVyTmFtZS5sZW5ndGgoKSwgZnVsbFR5cGVOYW1lLCBpc1N0YXRpYywgbnVsbCk7CisJCX0g
ZWxzZSB7CisJCQlkZWNsID0gYWRkSW1wb3J0RGVjbEVudHJ5KHR5cGVDb250YWluZXJOYW1lLCBm
dWxsVHlwZU5hbWUsIGlzU3RhdGljLCByb290KTsKKwkJfQogCQlzb3J0SW4odHlwZUNvbnRhaW5l
ck5hbWUsIGRlY2wsIGlzU3RhdGljKTsKKwl9CisKKwkvKioKKwkgKiBhZGRzIHRoZSBpbXBvcnQg
ZW50cnksIGJ1dCBpZiBpdHMgYW4gZXhpc3RpbmcgaW1wb3J0IGVudHJ5IHRoZW4gcHJlc2VydmVz
IHRoZSBjb21tZW50cyBzdXJyb3VuZGluZyB0aGUgaW1wb3J0CisJICovCisJcHJpdmF0ZSBJbXBv
cnREZWNsRW50cnkgYWRkSW1wb3J0RGVjbEVudHJ5KFN0cmluZyBjb250YWluZXJOYW1lLCBTdHJp
bmcgZnVsbFR5cGVOYW1lLCBib29sZWFuIGlzU3RhdGljLCBDb21waWxhdGlvblVuaXQgcm9vdCkg
eworCQlMaXN0LypJbXBvcnREZWNsYXJhdGlvbiovIGRlY2xzPSByb290LmltcG9ydHMoKTsKKwkJ
aWYgKGRlY2xzLmlzRW1wdHkoKSB8fCB0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1Jhbmdl
cyA9PSBudWxsIHx8IHRoaXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzLmxlbmd0aCA9
PSAwKSB7CisJCQlyZXR1cm4gbmV3IEltcG9ydERlY2xFbnRyeShjb250YWluZXJOYW1lLmxlbmd0
aCgpLCBmdWxsVHlwZU5hbWUsIGlzU3RhdGljLCBudWxsKTsKKwkJfQorCQlJUmVnaW9uIHByZWNl
ZGluZ0NvbW1lbnRSYW5nZSA9IG51bGw7CisJCUlSZWdpb24gdHJhaWxpbmdDb21tZW50UmFuZ2Ug
PSBudWxsOworCQlpbnQgcHJldk9mZnNldCA9IHRoaXMucmVwbGFjZVJhbmdlLmdldE9mZnNldCgp
OyAgLy8gd2lsbCBzdG9yZSBvZmZzZXQgb2YgdGhlIHByZXZpb3VzIGltcG9ydCdzIGV4dGVuZGVk
IGVuZAorCQlpbnQgbnVtT2ZJbXBvcnRzID0gZGVjbHMuc2l6ZSgpOworCQlmb3IgKGludCBpPSAw
OyBpIDwgbnVtT2ZJbXBvcnRzOyBpKyspIHsKKwkJCUltcG9ydERlY2xhcmF0aW9uIGN1cnI9IChJ
bXBvcnREZWNsYXJhdGlvbikgZGVjbHMuZ2V0KGkpOworCQkJaW50IGN1cnJPZmZzZXQ9IGN1cnIu
Z2V0U3RhcnRQb3NpdGlvbigpOworCQkJaW50IGN1cnJMZW5ndGg9IGN1cnIuZ2V0TGVuZ3RoKCk7
CisJCQlpbnQgY3VyckV4dGVuZGVkU3RhcnQgPSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlv
bihjdXJyKTsKKwkJCWludCBjdXJyRXh0ZW5kZWRMZW4gPSByb290LmdldEV4dGVuZGVkTGVuZ3Ro
KGN1cnIpOworCQkJU3RyaW5nIG5hbWU9IGdldEZ1bGxOYW1lKGN1cnIpOworCQkJU3RyaW5nIHBh
Y2tOYW1lPSBnZXRRdWFsaWZpZXIoY3Vycik7CisJCQlpZiAocGFja05hbWUuZXF1YWxzKGNvbnRh
aW5lck5hbWUpICYmIChuYW1lLmVxdWFscyhmdWxsVHlwZU5hbWUpIHx8IG5hbWUuZW5kc1dpdGgo
IioiKSkpIHsvLyROT04tTkxTLTEkCisJCQkJaW50IHByZXNlcnZlQ29tbWVudHNMZW4gPSB0aGlz
LnByZXNlcnZlRXhpc3RpbmdDb21tZW50c1Jhbmdlcy5sZW5ndGg7CisJCQkJZm9yIChpbnQgaiA9
IDA7IGogPCBwcmVzZXJ2ZUNvbW1lbnRzTGVuOyBqKyspIHsKKwkJCQkJaW50IG9mZnNldCA9IHRo
aXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzW2pdLmdldE9mZnNldCgpOworCQkJCQli
b29sZWFuIHdhc1JhbmdlVXNlZCA9IGZhbHNlOworCQkJCQlpbnQgZXhpc3RpbmdDb21tZW50TGVu
Z3RoID0gdGhpcy5wcmVzZXJ2ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXNbal0uZ2V0TGVuZ3RoKCk7
CisJCQkJCWlmIChvZmZzZXQgPT0gY3VyckV4dGVuZGVkU3RhcnQpIHsKKwkJCQkJCS8vIGNvbW1l
bnRzIGJlbG9uZ2luZyB0byB0aGlzIGltcG9ydCdzIGV4dGVuZGVkIHN0YXJ0CisJCQkJCQlwcmVj
ZWRpbmdDb21tZW50UmFuZ2UgPSBuZXcgUmVnaW9uKG9mZnNldCwgZXhpc3RpbmdDb21tZW50TGVu
Z3RoKTsKKwkJCQkJCXdhc1JhbmdlVXNlZCA9IHRydWU7CisJCQkJCX0gZWxzZSBpZiAob2Zmc2V0
IDwgY3VyckV4dGVuZGVkU3RhcnQgJiYgb2Zmc2V0ID4gcHJldk9mZnNldCkgeworCQkJCQkJLy8g
Y29tbWVudCBiZXR3ZWVuIHR3byBpbXBvcnRzIGJ1dCBub3QgaW5zaWRlIGVpdGhlcidzIGV4dGVu
ZGVkIHJhbmdlcworCQkJCQkJLy8gdG8gcHJlc2VydmUgdGhlIHBvc2l0aW9uIG9mIHRoZXNlIGNv
bW1lbnRzIGFkZCBhIGR1bW15IGNvbW1lbnQgZW50cnkKKwkJCQkJCVBhY2thZ2VFbnRyeSBjb21t
ZW50RW50cnkgPSBuZXcgUGFja2FnZUVudHJ5KCk7IC8vIGNyZWF0ZSBhIGNvbW1lbnQgcGFja2Fn
ZSBlbnRyeSBmb3IgdGhpcworCQkJCQkJY29tbWVudEVudHJ5LnNldEdyb3VwSUQocGFja05hbWUp
OwkvLyB0aGUgY29tbWVudCBzaG91bGQgYmVsb25nIHRvIHRoZSBjdXJyZW50IGdyb3VwCisJCQkJ
CQl0aGlzLnBhY2thZ2VFbnRyaWVzLmFkZChjb21tZW50RW50cnkpOworCQkJCQkJY29tbWVudEVu
dHJ5LmFkZChuZXcgSW1wb3J0RGVjbEVudHJ5KHBhY2tOYW1lLmxlbmd0aCgpLCBudWxsLCBmYWxz
ZSwgbmV3IFJlZ2lvbihvZmZzZXQsIGV4aXN0aW5nQ29tbWVudExlbmd0aCkpKTsKKwkJCQkJCXdh
c1JhbmdlVXNlZCA9IHRydWU7CisJCQkJCX0gZWxzZSBpZiAoKGN1cnJFeHRlbmRlZFN0YXJ0ICsg
Y3VyckV4dGVuZGVkTGVuKSAhPSAoY3Vyck9mZnNldCArIGN1cnJMZW5ndGgpKXsKKwkJCQkJCWlm
IChvZmZzZXQgPT0gY3Vyck9mZnNldCArIGN1cnJMZW5ndGgpIHsKKwkJCQkJCQkvLyBjb21tZW50
IGlzIGluIHRoZSBleHRlbmRlZCBlbmQgb2YgdGhlIGltcG9ydAorCQkJCQkJCXRyYWlsaW5nQ29t
bWVudFJhbmdlID0gbmV3IFJlZ2lvbihvZmZzZXQsIGV4aXN0aW5nQ29tbWVudExlbmd0aCk7CisJ
CQkJCQkJd2FzUmFuZ2VVc2VkID0gdHJ1ZTsKKwkJCQkJCX0gZWxzZSBpZiAob2Zmc2V0ID4gKGN1
cnJPZmZzZXQgKyBjdXJyTGVuZ3RoKSkgeworCQkJCQkJCWJyZWFrOworCQkJCQkJfQorCQkJCQl9
CisJCQkJCWlmICh3YXNSYW5nZVVzZWQpIHsKKwkJCQkJCS8vIHJlbW92ZSB0aGlzIGNvbW1lbnQg
ZnJvbSBwcmVzZXJ2ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXMgYXJyYXkKKwkJCQkJCUlSZWdpb25b
XSB0ZW1wUmVnaW9ucyA9IG5ldyBJUmVnaW9uWy0tcHJlc2VydmVDb21tZW50c0xlbl07CisJCQkJ
CQlTeXN0ZW0uYXJyYXljb3B5KHRoaXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzLCAw
LCB0ZW1wUmVnaW9ucywgMCwgaik7CisJCQkJCQlTeXN0ZW0uYXJyYXljb3B5KHRoaXMucHJlc2Vy
dmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2VzLCBqKzEsIHRlbXBSZWdpb25zLCBqLCB0ZW1wUmVnaW9u
cy5sZW5ndGggLSBqKTsKKwkJCQkJCXRoaXMucHJlc2VydmVFeGlzdGluZ0NvbW1lbnRzUmFuZ2Vz
ID0gdGVtcFJlZ2lvbnM7CisJCQkJCQlqLS07CisJCQkJCX0KKwkJCQl9CisJCQkJcmV0dXJuIG5l
dyBJbXBvcnREZWNsRW50cnkoY29udGFpbmVyTmFtZS5sZW5ndGgoKSwgZnVsbFR5cGVOYW1lLCBp
c1N0YXRpYywgbnVsbCwgcHJlY2VkaW5nQ29tbWVudFJhbmdlLCB0cmFpbGluZ0NvbW1lbnRSYW5n
ZSk7CisJCQl9CisJCQlwcmV2T2Zmc2V0ID0gY3VyckV4dGVuZGVkU3RhcnQgKyBjdXJyRXh0ZW5k
ZWRMZW4gLSAxOworCQl9CisJCXJldHVybiBuZXcgSW1wb3J0RGVjbEVudHJ5KGNvbnRhaW5lck5h
bWUubGVuZ3RoKCksIGZ1bGxUeXBlTmFtZSwgaXNTdGF0aWMsIG51bGwpOwogCX0KIAogCXB1Ymxp
YyBib29sZWFuIHJlbW92ZUltcG9ydChTdHJpbmcgcXVhbGlmaWVkTmFtZSwgYm9vbGVhbiBpc1N0
YXRpYykgewpAQCAtNzQ4LDE2ICs4MjYsMTUgQEAKIAkJCQkJY29udGludWU7CiAJCQkJfQogCi0J
CQkJaWYgKHNwYWNlc0JldHdlZW5Hcm91cHMgPiAwKSB7CisJCQkJaWYgKHNwYWNlc0JldHdlZW5H
cm91cHMgPiAwICYmIGxhc3RQYWNrYWdlICE9IG51bGwpIHsKIAkJCQkJLy8gYWRkIGEgc3BhY2Ug
YmV0d2VlbiB0d28gZGlmZmVyZW50IGdyb3VwcyBieSBsb29raW5nIGF0IHRoZSB0d28gYWRqYWNl
bnQgaW1wb3J0cwotCQkJCQlpZiAobGFzdFBhY2thZ2UgIT0gbnVsbCAmJiAhcGFjay5pc0NvbW1l
bnQoKSAmJiAhcGFjay5pc1NhbWVHcm91cChsYXN0UGFja2FnZSkpIHsKLQkJCQkJCUltcG9ydERl
Y2xFbnRyeSBsYXN0PSBsYXN0UGFja2FnZS5nZXRJbXBvcnRBdChsYXN0UGFja2FnZS5nZXROdW1i
ZXJPZkltcG9ydHMoKSAtIDEpOwotCQkJCQkJSW1wb3J0RGVjbEVudHJ5IGZpcnN0PSBwYWNrLmdl
dEltcG9ydEF0KDApOwotCQkJCQkJaWYgKCFsYXN0UGFja2FnZS5pc0NvbW1lbnQoKSAmJiAobGFz
dC5pc05ldygpIHx8IGZpcnN0LmlzTmV3KCkpKSB7Ci0JCQkJCQkJZm9yIChpbnQgaz0gc3BhY2Vz
QmV0d2Vlbkdyb3VwczsgayA+IDA7IGstLSkgewotCQkJCQkJCQlzdHJpbmdzVG9JbnNlcnQuYWRk
KGxpbmVEZWxpbSk7Ci0JCQkJCQkJfQorCQkJCQlpZiAoIWxhc3RQYWNrYWdlLmlzQ29tbWVudCgp
ICYmICFwYWNrLmlzQ29tbWVudCgpICYmICFwYWNrLmlzU2FtZUdyb3VwKGxhc3RQYWNrYWdlKSkg
eworCQkJCQkJZm9yIChpbnQgaz0gc3BhY2VzQmV0d2Vlbkdyb3VwczsgayA+IDA7IGstLSkgewor
CQkJCQkJCXN0cmluZ3NUb0luc2VydC5hZGQobGluZURlbGltKTsKIAkJCQkJCX0KKwkJCQkJfSBl
bHNlIGlmIChsYXN0UGFja2FnZS5pc0NvbW1lbnQoKSAmJiBwYWNrLmlzU2FtZUdyb3VwKGxhc3RQ
YWNrYWdlKSkgeworCQkJCQkJLy8gdGhlIGxhc3QgcGFjayBtYXkgYmUgYSBkdW1teSBmb3IgYSBj
b21tZW50IHdoaWNoIGRvZXNuJ3QgYmVsb25nIHRvIGFueSBleHRlbmRlZCByYW5nZQorCQkJCQkJ
c3RyaW5nc1RvSW5zZXJ0LmFkZChsaW5lRGVsaW0pOwogCQkJCQl9CiAJCQkJfQogCQkJCWxhc3RQ
YWNrYWdlPSBwYWNrOwpAQCAtNzY2LDIyICs4NDMsMzYgQEAKIAkJCQlpbnQgdGhyZXNob2xkPSBp
c1N0YXRpYyA/IHRoaXMuc3RhdGljSW1wb3J0T25EZW1hbmRUaHJlc2hvbGQgOiB0aGlzLmltcG9y
dE9uRGVtYW5kVGhyZXNob2xkOwogCiAJCQkJYm9vbGVhbiBkb1N0YXJJbXBvcnQ9IHBhY2suaGFz
U3RhckltcG9ydCh0aHJlc2hvbGQsIG9uRGVtYW5kQ29uZmxpY3RzKTsKKwkJCQlib29sZWFuIGFs
bEltcG9ydHNBZGRlZFRvU3RhciA9IGZhbHNlOwogCQkJCWlmIChkb1N0YXJJbXBvcnQgJiYgKHBh
Y2suZmluZCgiKiIpID09IG51bGwpKSB7IC8vJE5PTi1OTFMtMSQKIAkJCQkJU3RyaW5nW10gaW1w
b3J0cyA9IGdldE5ld0ltcG9ydFN0cmluZ3MoYnVmZmVyLCBwYWNrLCBpc1N0YXRpYywgbGluZURl
bGltKTsKIAkJCQkJZm9yIChpbnQgaiA9IDAsIG1heCA9IGltcG9ydHMubGVuZ3RoOyBqIDwgbWF4
OyBqKyspIHsKIAkJCQkJCXN0cmluZ3NUb0luc2VydC5hZGQoaW1wb3J0c1tqXSk7CiAJCQkJCX0K
KwkJCQkJYWxsSW1wb3J0c0FkZGVkVG9TdGFyID0gdHJ1ZTsgLy8gbWF5IHN0aWxsIG5lZWQgdG8g
aGFuZGxlIG9uRGVtYW5kQ29uZmxpY3RzIGJlbG93CiAJCQkJfQogCiAJCQkJZm9yIChpbnQgaz0g
MDsgayA8IG5JbXBvcnRzOyBrKyspIHsKIAkJCQkJSW1wb3J0RGVjbEVudHJ5IGN1cnJEZWNsPSBw
YWNrLmdldEltcG9ydEF0KGspOwogCQkJCQlJUmVnaW9uIHJlZ2lvbj0gY3VyckRlY2wuZ2V0U291
cmNlUmFuZ2UoKTsKLQorCQkJCQlib29sZWFuIGlzQ29uZmxpY3QgPSAhY3VyckRlY2wuaXNDb21t
ZW50KCkgJiYgb25EZW1hbmRDb25mbGljdHMgIT0gbnVsbCAmJiBvbkRlbWFuZENvbmZsaWN0cy5j
b250YWlucyhjdXJyRGVjbC5nZXRTaW1wbGVOYW1lKCkpOworCQkJCQlib29sZWFuIGFkZFJlZ3Vs
YXJUb1N0YXIgPSBkb1N0YXJJbXBvcnQgJiYgIWN1cnJEZWNsLmlzT25EZW1hbmQoKTsKKwkJCQkJ
CiAJCQkJCWlmIChyZWdpb24gPT0gbnVsbCkgeyAvLyBuZXcgZW50cnkKLQkJCQkJCWlmICghZG9T
dGFySW1wb3J0IHx8IGN1cnJEZWNsLmlzT25EZW1hbmQoKSB8fCAob25EZW1hbmRDb25mbGljdHMg
IT0gbnVsbCAmJiBvbkRlbWFuZENvbmZsaWN0cy5jb250YWlucyhjdXJyRGVjbC5nZXRTaW1wbGVO
YW1lKCkpKSkgewotCQkJCQkJCVN0cmluZyBzdHI9IGdldE5ld0ltcG9ydFN0cmluZyhjdXJyRGVj
bC5nZXRFbGVtZW50TmFtZSgpLCBpc1N0YXRpYywgbGluZURlbGltKTsKKwkJCQkJCWlmICghYWRk
UmVndWxhclRvU3RhciB8fCBpc0NvbmZsaWN0KSB7CisJCQkJCQkJSVJlZ2lvbiByYW5nZUJlZm9y
ZSA9IGN1cnJEZWNsLmdldFByZWNlZGluZ0NvbW1lbnRSYW5nZSgpOworCQkJCQkJCUlSZWdpb24g
cmFuZ2VBZnRlciA9IGN1cnJEZWNsLmdldFRyYWlsaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJCQkJ
aWYgKHJhbmdlQmVmb3JlICE9IG51bGwpIHsKKwkJCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChi
dWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0TGVu
Z3RoKCkpKTsKKwkJCQkJCQl9CisJCQkJCQkJCisJCQkJCQkJU3RyaW5nIHRyYWlsaW5nQ29tbWVu
dCA9IG51bGw7CisJCQkJCQkJaWYgKHJhbmdlQWZ0ZXIgIT0gbnVsbCkgeworCQkJCQkJCQl0cmFp
bGluZ0NvbW1lbnQgPSBidWZmZXIuZ2V0VGV4dChyYW5nZUFmdGVyLmdldE9mZnNldCgpLCByYW5n
ZUFmdGVyLmdldExlbmd0aCgpKTsKKwkJCQkJCQl9CisJCQkJCQkJU3RyaW5nIHN0cj0gZ2V0TmV3
SW1wb3J0U3RyaW5nKGN1cnJEZWNsLmdldEVsZW1lbnROYW1lKCksIGlzU3RhdGljLCB0cmFpbGlu
Z0NvbW1lbnQsIGxpbmVEZWxpbSk7CiAJCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChzdHIpOwot
CQkJCQkJfSBlbHNlIGlmIChkb1N0YXJJbXBvcnQgJiYgIWN1cnJEZWNsLmlzT25EZW1hbmQoKSkg
eworCQkJCQkJfSBlbHNlIGlmIChhZGRSZWd1bGFyVG9TdGFyICYmICFhbGxJbXBvcnRzQWRkZWRU
b1N0YXIpIHsKIAkJCQkJCQlTdHJpbmcgc2ltcGxlTmFtZSA9IGN1cnJEZWNsLmdldFR5cGVRdWFs
aWZpZWROYW1lKCk7CiAJCQkJCQkJaWYgKHNpbXBsZU5hbWUuaW5kZXhPZignLicpICE9IC0xKSB7
CiAJCQkJCQkJCVN0cmluZyBzdHI9IGdldE5ld0ltcG9ydFN0cmluZyhjdXJyRGVjbC5nZXRFbGVt
ZW50TmFtZSgpLCBpc1N0YXRpYywgbGluZURlbGltKTsKQEAgLTc5MCw3ICs4ODEsNyBAQAogCQkJ
CQkJCQl9CiAJCQkJCQkJfQogCQkJCQkJfQotCQkJCQl9IGVsc2UgaWYgKCFkb1N0YXJJbXBvcnQg
fHwgY3VyckRlY2wuaXNPbkRlbWFuZCgpIHx8IG9uRGVtYW5kQ29uZmxpY3RzID09IG51bGwgfHwg
b25EZW1hbmRDb25mbGljdHMuY29udGFpbnMoY3VyckRlY2wuZ2V0U2ltcGxlTmFtZSgpKSkgewor
CQkJCQl9IGVsc2UgaWYgKCFhZGRSZWd1bGFyVG9TdGFyIHx8IGlzQ29uZmxpY3QpIHsKIAkJCQkJ
CWludCBvZmZzZXQ9IHJlZ2lvbi5nZXRPZmZzZXQoKTsKIAkJCQkJCUlSZWdpb24gcmFuZ2VCZWZv
cmUgPSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKIAkJCQkJCWlmIChyYW5n
ZUJlZm9yZSAhPSBudWxsICYmIGN1cnJQb3MgPiByYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSkgewpA
QCAtODAzLDcgKzg5NCw3IEBACiAJCQkJCQlyZW1vdmVBbmRJbnNlcnROZXcoYnVmZmVyLCBjdXJy
UG9zLCBvZmZzZXQsIHN0cmluZ3NUb0luc2VydCwgcmVzRWRpdCk7CiAJCQkJCQlzdHJpbmdzVG9J
bnNlcnQuY2xlYXIoKTsKIAkJCQkJCWN1cnJQb3M9IG9mZnNldCArIHJlZ2lvbi5nZXRMZW5ndGgo
KTsKLQkJCQkJfSBlbHNlIGlmIChkb1N0YXJJbXBvcnQgJiYgIWN1cnJEZWNsLmlzT25EZW1hbmQo
KSkgeworCQkJCQl9IGVsc2UgaWYgKGFkZFJlZ3VsYXJUb1N0YXIgJiYgIWFsbEltcG9ydHNBZGRl
ZFRvU3RhciAmJiAhY3VyckRlY2wuaXNDb21tZW50KCkpIHsKIAkJCQkJCVN0cmluZyBzaW1wbGVO
YW1lID0gY3VyckRlY2wuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKTsKIAkJCQkJCWlmIChzaW1wbGVO
YW1lLmluZGV4T2YoJy4nKSAhPSAtMSkgewogCQkJCQkJCUlSZWdpb24gcmFuZ2VCZWZvcmUgPSBj
dXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKQEAgLTgzMCw3ICs5MjEsNyBAQAog
CiAJCQkvLyBpbnNlcnQgYmFjayBhbGwgZXhpc3RpbmcgaW1wb3J0cyBjb21tZW50cyBzaW5jZSBl
eGlzdGluZyBpbXBvcnRzIHdlcmUgbm90IHByZXNlcnZlZAogCQkJaWYgKHRoaXMucHJlc2VydmVF
eGlzdGluZ0NvbW1lbnRzUmFuZ2VzICE9IG51bGwpIHsKLQkJCQlmb3IgKGludCBpID0gMCwgbWF4
ID0gdGhpcy5wcmVzZXJ2ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXMubGVuZ3RoOyBpIDwgbWF4OyBp
KyspIHsKKwkJCQlmb3IgKGludCBpID0gMCwgbWF4ID0gdGhpcy5wcmVzZXJ2ZUV4aXN0aW5nQ29t
bWVudHNSYW5nZXMubGVuZ3RoOyAoaSA8IG1heCAmJiB0aGlzLnByZXNlcnZlRXhpc3RpbmdDb21t
ZW50c1Jhbmdlc1tpXSAhPSBudWxsKTsgaSsrKSB7CiAJCQkJCUlSZWdpb24gcmVnaW9uID0gdGhp
cy5wcmVzZXJ2ZUV4aXN0aW5nQ29tbWVudHNSYW5nZXNbaV07CiAJCQkJCVN0cmluZyB0ZXh0ID0g
YnVmZmVyLmdldFRleHQocmVnaW9uLmdldE9mZnNldCgpLCByZWdpb24uZ2V0TGVuZ3RoKCkpOwog
CQkJCQkvLyByZW1vdmUgcHJlY2VkaW5nIHdoaXRlc3BhY2VzCkBAIC0xMDEyLDExICsxMTAzLDEw
IEBACiAJCUxpc3QgYWxsSW1wb3J0cyA9IG5ldyBBcnJheUxpc3QoKTsKIAkJaW50IG5JbXBvcnRz
ID0gcGFja2FnZUVudHJ5LmdldE51bWJlck9mSW1wb3J0cygpOwogCQlTdHJpbmdCdWZmZXIgYWxs
Q29tbWVudHMgPSBudWxsOworCQlTdHJpbmdCdWZmZXIgYWxsQ29tbWVudHNMZWFkID0gbnVsbDsK
IAkJZm9yIChpbnQgaT0gMDsgaSA8IG5JbXBvcnRzOyBpKyspIHsKIAkJCUltcG9ydERlY2xFbnRy
eSBjdXJyPSBwYWNrYWdlRW50cnkuZ2V0SW1wb3J0QXQoaSk7Ci0JCQlTdHJpbmcgc2ltcGxlTmFt
ZSA9IGN1cnIuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKTsKLQkJCWlmIChzaW1wbGVOYW1lLmluZGV4
T2YoJy4nKSAhPSAtMSkgewotCQkJCS8vIG1lbWJlciB0eXBlIGltcG9ydHMgLSB3ZSBwcmVzZXJ2
ZSBpdAorCQkJaWYgKGN1cnIuaXNDb21tZW50KCkpIHsKIAkJCQlJUmVnaW9uIHJhbmdlQmVmb3Jl
ID0gY3Vyci5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKIAkJCQlpZiAocmFuZ2VCZWZvcmUg
IT0gbnVsbCkgewogCQkJCQlhbGxJbXBvcnRzLmFkZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9y
ZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkpKTsKQEAgLTEwMjYsMzEgKzEx
MTYsNjEgQEAKIAkJCQlpZiAocmFuZ2VBZnRlciAhPSBudWxsKSB7CiAJCQkJCXRyYWlsaW5nQ29t
bWVudCA9IGJ1ZmZlci5nZXRUZXh0KHJhbmdlQWZ0ZXIuZ2V0T2Zmc2V0KCksIHJhbmdlQWZ0ZXIu
Z2V0TGVuZ3RoKCkpOwogCQkJCX0KLQkJCQlhbGxJbXBvcnRzLmFkZChnZXROZXdJbXBvcnRTdHJp
bmcoY3Vyci5nZXRFbGVtZW50TmFtZSgpLCBpc1N0YXRpYywgdHJhaWxpbmdDb21tZW50LCBsaW5l
RGVsaW0pKTsKLQkJCX0gZWxzZSBpZiAoIWlzU3RhckltcG9ydEFkZGVkKSB7Ci0JCQkJU3RyaW5n
IHN0YXJJbXBvcnRTdHJpbmc9IHBhY2thZ2VFbnRyeS5nZXROYW1lKCkgKyAiLioiOyAvLyROT04t
TkxTLTEkCi0JCQkJYWxsSW1wb3J0cy5hZGQoZ2V0TmV3SW1wb3J0U3RyaW5nKHN0YXJJbXBvcnRT
dHJpbmcsIGlzU3RhdGljLCBsaW5lRGVsaW0pKTsKLQkJCQlpc1N0YXJJbXBvcnRBZGRlZCA9IHRy
dWU7Ci0JCQl9IGVsc2UgewotCQkJCS8vIGNvbGxlY3QgYWxsIGNvbW1lbnRzCi0JCQkJSVJlZ2lv
biByYW5nZUJlZm9yZSA9IGN1cnIuZ2V0UHJlY2VkaW5nQ29tbWVudFJhbmdlKCk7Ci0JCQkJaWYg
KHJhbmdlQmVmb3JlICE9IG51bGwpIHsKLQkJCQkJaWYgKGFsbENvbW1lbnRzID09IG51bGwpIHsK
LQkJCQkJCWFsbENvbW1lbnRzID0gbmV3IFN0cmluZ0J1ZmZlcigpOwotCQkJCQl9Ci0JCQkJCWFs
bENvbW1lbnRzLmFwcGVuZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSwg
cmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkpKS5hcHBlbmQobGluZURlbGltKTsKKwkJCQlpZiAodHJh
aWxpbmdDb21tZW50ICE9IG51bGwpIHsKKwkJCQkJYWxsSW1wb3J0cy5hZGQoYnVmZmVyLmdldFRl
eHQocmFuZ2VBZnRlci5nZXRPZmZzZXQoKSwgcmFuZ2VBZnRlci5nZXRMZW5ndGgoKSkpOwogCQkJ
CX0KLQkJCQlJUmVnaW9uIHJhbmdlQWZ0ZXIgPSBjdXJyLmdldFRyYWlsaW5nQ29tbWVudFJhbmdl
KCk7Ci0JCQkJaWYgKHJhbmdlQWZ0ZXIgIT0gbnVsbCkgewotCQkJCQlpZiAoYWxsQ29tbWVudHMg
PT0gbnVsbCkgewotCQkJCQkJYWxsQ29tbWVudHMgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCQl9
IGVsc2UgeworCQkJCVN0cmluZyBzaW1wbGVOYW1lID0gY3Vyci5nZXRUeXBlUXVhbGlmaWVkTmFt
ZSgpOworCQkJCWlmIChzaW1wbGVOYW1lLmluZGV4T2YoJy4nKSAhPSAtMSkgeworCQkJCQkvLyBt
ZW1iZXIgdHlwZSBpbXBvcnRzIC0gd2UgcHJlc2VydmUgaXQKKwkJCQkJSVJlZ2lvbiByYW5nZUJl
Zm9yZSA9IGN1cnIuZ2V0UHJlY2VkaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJCWlmIChyYW5nZUJl
Zm9yZSAhPSBudWxsKSB7CisJCQkJCQlhbGxJbXBvcnRzLmFkZChidWZmZXIuZ2V0VGV4dChyYW5n
ZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkpKTsKIAkJCQkJfQot
CQkJCQlhbGxDb21tZW50cy5hcHBlbmQoYnVmZmVyLmdldFRleHQocmFuZ2VBZnRlci5nZXRPZmZz
ZXQoKSwgcmFuZ2VBZnRlci5nZXRMZW5ndGgoKSkpLmFwcGVuZChsaW5lRGVsaW0pOworCQkJCQlJ
UmVnaW9uIHJhbmdlQWZ0ZXIgPSBjdXJyLmdldFRyYWlsaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJ
CVN0cmluZyB0cmFpbGluZ0NvbW1lbnQgPSBudWxsOworCQkJCQlpZiAocmFuZ2VBZnRlciAhPSBu
dWxsKSB7CisJCQkJCQl0cmFpbGluZ0NvbW1lbnQgPSBidWZmZXIuZ2V0VGV4dChyYW5nZUFmdGVy
LmdldE9mZnNldCgpLCByYW5nZUFmdGVyLmdldExlbmd0aCgpKTsKKwkJCQkJfQorCQkJCQlhbGxJ
bXBvcnRzLmFkZChnZXROZXdJbXBvcnRTdHJpbmcoY3Vyci5nZXRFbGVtZW50TmFtZSgpLCBpc1N0
YXRpYywgdHJhaWxpbmdDb21tZW50LCBsaW5lRGVsaW0pKTsKKwkJCQl9IGVsc2UgaWYgKCFpc1N0
YXJJbXBvcnRBZGRlZCkgeworCQkJCQlTdHJpbmcgc3RhckltcG9ydFN0cmluZz0gcGFja2FnZUVu
dHJ5LmdldE5hbWUoKSArICIuKiI7IC8vJE5PTi1OTFMtMSQKKwkJCQkJLy8gY29sbGVjdCBhbGwg
Y29tbWVudHMKKwkJCQkJSVJlZ2lvbiByYW5nZUJlZm9yZSA9IGN1cnIuZ2V0UHJlY2VkaW5nQ29t
bWVudFJhbmdlKCk7CisJCQkJCWlmIChyYW5nZUJlZm9yZSAhPSBudWxsKSB7CisJCQkJCQlhbGxJ
bXBvcnRzLmFkZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VC
ZWZvcmUuZ2V0TGVuZ3RoKCkpKTsKKwkJCQkJfQorCQkJCQlJUmVnaW9uIHJhbmdlQWZ0ZXIgPSBj
dXJyLmdldFRyYWlsaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJCVN0cmluZyB0cmFpbENvbW1lbnRz
ID0gbnVsbDsKKwkJCQkJaWYgKHJhbmdlQWZ0ZXIgIT0gbnVsbCkgeworCQkJCQkJdHJhaWxDb21t
ZW50cyA9IGJ1ZmZlci5nZXRUZXh0KHJhbmdlQWZ0ZXIuZ2V0T2Zmc2V0KCksIHJhbmdlQWZ0ZXIu
Z2V0TGVuZ3RoKCkpOworCQkJCQl9CisJCQkJCWFsbEltcG9ydHMuYWRkKGdldE5ld0ltcG9ydFN0
cmluZyhzdGFySW1wb3J0U3RyaW5nLCBpc1N0YXRpYywgdHJhaWxDb21tZW50cywgbGluZURlbGlt
KSk7CisJCQkJCWlzU3RhckltcG9ydEFkZGVkID0gdHJ1ZTsKKwkJCQl9IGVsc2UgeworCQkJCQkv
LyBjb2xsZWN0IGFsbCBjb21tZW50cworCQkJCQlJUmVnaW9uIHJhbmdlQmVmb3JlID0gY3Vyci5n
ZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKKwkJCQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwp
IHsKKwkJCQkJCWlmIChhbGxDb21tZW50c0xlYWQgPT0gbnVsbCkgeworCQkJCQkJCWFsbENvbW1l
bnRzTGVhZCA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJCQkJCX0KKwkJCQkJCWFsbENvbW1lbnRz
TGVhZC5hcHBlbmQoYnVmZmVyLmdldFRleHQocmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCksIHJhbmdl
QmVmb3JlLmdldExlbmd0aCgpKSk7CisJCQkJCX0KKwkJCQkJSVJlZ2lvbiByYW5nZUFmdGVyID0g
Y3Vyci5nZXRUcmFpbGluZ0NvbW1lbnRSYW5nZSgpOworCQkJCQlpZiAocmFuZ2VBZnRlciAhPSBu
dWxsKSB7CisJCQkJCQlpZiAoYWxsQ29tbWVudHMgPT0gbnVsbCkgeworCQkJCQkJCWFsbENvbW1l
bnRzID0gbmV3IFN0cmluZ0J1ZmZlcigpOworCQkJCQkJfQorCQkJCQkJYWxsQ29tbWVudHMuYXBw
ZW5kKGJ1ZmZlci5nZXRUZXh0KHJhbmdlQWZ0ZXIuZ2V0T2Zmc2V0KCksIHJhbmdlQWZ0ZXIuZ2V0
TGVuZ3RoKCkpKTsKKwkJCQkJfQogCQkJCX0KIAkJCX0KIAkJfQorCQlpZiAoYWxsQ29tbWVudHNM
ZWFkICE9IG51bGwpIHsKKwkJCWFsbEltcG9ydHMuYWRkKDAsIFN0cmluZy52YWx1ZU9mKGFsbENv
bW1lbnRzTGVhZCkpOworCQl9CiAJCWlmIChhbGxDb21tZW50cyAhPSBudWxsKSB7Ci0JCQlhbGxJ
bXBvcnRzLmFkZCgwLCBTdHJpbmcudmFsdWVPZihhbGxDb21tZW50cykpOworCQkJYWxsSW1wb3J0
cy5hZGQoU3RyaW5nLnZhbHVlT2YoYWxsQ29tbWVudHMuYXBwZW5kKGxpbmVEZWxpbSkpKTsKIAkJ
fQogCQlyZXR1cm4gKFN0cmluZ1tdKSBhbGxJbXBvcnRzLnRvQXJyYXkobmV3IFN0cmluZ1thbGxJ
bXBvcnRzLnNpemUoKV0pOwogCX0KQEAgLTExMTAsOCArMTIzMCw4IEBACiAJCXByaXZhdGUgSVJl
Z2lvbiBzb3VyY2VSYW5nZTsKIAkJcHJpdmF0ZSBmaW5hbCBib29sZWFuIGlzU3RhdGljOwogCQlw
cml2YXRlIGludCBjb250YWluZXJOYW1lTGVuZ3RoOwotCQlwcml2YXRlIElSZWdpb24gcHJlY2Vk
aW5nQ29tbWVudFJhbmdlOwotCQlwcml2YXRlIElSZWdpb24gdHJhaWxpbmdDb21tZW50UmFuZ2U7
CisJCUlSZWdpb24gcHJlY2VkaW5nQ29tbWVudFJhbmdlOworCQlJUmVnaW9uIHRyYWlsaW5nQ29t
bWVudFJhbmdlOwogCiAJCXB1YmxpYyBJbXBvcnREZWNsRW50cnkoCiAJCQkJaW50IGNvbnRhaW5l
ck5hbWVMZW5ndGgsCkBAIC0xMzcxLDEwICsxNDkxLDE0IEBACiAJCQkJZm9yIChpbnQgaT0gMDsg
aSA8IG5JbXBvcnRzOyBpKyspIHsKIAkJCQkJSW1wb3J0RGVjbEVudHJ5IGN1cnI9IGdldEltcG9y
dEF0KGkpOwogCQkJCQlidWYuYXBwZW5kKCIgIik7IC8vJE5PTi1OTFMtMSQKLQkJCQkJaWYgKGN1
cnIuaXNTdGF0aWMoKSkgewotCQkJCQkJYnVmLmFwcGVuZCgic3RhdGljICIpOyAvLyROT04tTkxT
LTEkCisJCQkJCWlmIChjdXJyLmlzQ29tbWVudCgpKSB7CisJCQkJCQlidWYuYXBwZW5kKCJjb21t
ZW50Iik7IC8vJE5PTi1OTFMtMSQKKwkJCQkJfSBlbHNlIHsKKwkJCQkJCWlmIChjdXJyLmlzU3Rh
dGljKCkpIHsKKwkJCQkJCQlidWYuYXBwZW5kKCJzdGF0aWMgIik7IC8vJE5PTi1OTFMtMSQKKwkJ
CQkJCX0KKwkJCQkJCWJ1Zi5hcHBlbmQoY3Vyci5nZXRUeXBlUXVhbGlmaWVkTmFtZSgpKTsKIAkJ
CQkJfQotCQkJCQlidWYuYXBwZW5kKGN1cnIuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKSk7CiAJCQkJ
CWlmIChjdXJyLmlzTmV3KCkpIHsKIAkJCQkJCWJ1Zi5hcHBlbmQoIiAobmV3KSIpOyAvLyROT04t
TkxTLTEkCiAJCQkJCX0=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>224199</attachid>
            <date>2012-12-02 07:46:00 -0500</date>
            <delta_ts>2012-12-02 07:46:58 -0500</delta_ts>
            <desc>updated changes for JDT/UI tests</desc>
            <filename>clipboard.txt</filename>
            <type>text/plain</type>
            <size>2389</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy5yZWZhY3RvcmluZy9yZXNvdXJj
ZXMvUmVuYW1lUGFja2FnZS90ZXN0SW1wb3J0RnJvbU11bHRpUm9vdHMyL291dC9zcmNUZXN0L3Rl
c3RzL0FsbFRlc3RzLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkudGVzdHMucmVmYWN0b3Jpbmcv
cmVzb3VyY2VzL1JlbmFtZVBhY2thZ2UvdGVzdEltcG9ydEZyb21NdWx0aVJvb3RzMi9vdXQvc3Jj
VGVzdC90ZXN0cy9BbGxUZXN0cy5qYXZhCmluZGV4IDY3N2ZjY2IuLjUzMTExMGYgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy5yZWZhY3RvcmluZy9yZXNvdXJjZXMvUmVuYW1l
UGFja2FnZS90ZXN0SW1wb3J0RnJvbU11bHRpUm9vdHMyL291dC9zcmNUZXN0L3Rlc3RzL0FsbFRl
c3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzLnJlZmFjdG9yaW5nL3Jlc291
cmNlcy9SZW5hbWVQYWNrYWdlL3Rlc3RJbXBvcnRGcm9tTXVsdGlSb290czIvb3V0L3NyY1Rlc3Qv
dGVzdHMvQWxsVGVzdHMuamF2YQpAQCAtMSw2ICsxLDUgQEAKIHBhY2thZ2UgdGVzdHM7CiAKLQog
aW1wb3J0IHAucC5BVGVzdDsKIGltcG9ydCBxLio7CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNl
LmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQvdWkvdGVzdHMvY29yZS9JbXBvcnRPcmdh
bml6ZVRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9q
ZHQvdWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRlc3QuamF2YQppbmRleCBhYzVhNTMyLi45
MzA4NDVlIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkudGVzdHMvdWkvb3JnL2VjbGlw
c2UvamR0L3VpL3Rlc3RzL2NvcmUvSW1wb3J0T3JnYW5pemVUZXN0LmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNlL2pkdC91aS90ZXN0cy9jb3JlL0ltcG9y
dE9yZ2FuaXplVGVzdC5qYXZhCkBAIC01NzcsOCArNTc3LDcgQEAKIAkJYnVmPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CiAJCWJ1Zi5hcHBlbmQoInBhY2thZ2UgcGFjazE7XHJcbiIpOwogCQlidWYuYXBw
ZW5kKCJcclxuIik7Ci0JCWJ1Zi5hcHBlbmQoImltcG9ydCBqYXZhLnV0aWwuVmVjdG9yO1xyXG4i
KTsKLQkJYnVmLmFwcGVuZCgiLy8gY29tbWVudFxyXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0
IGphdmEudXRpbC5WZWN0b3I7IC8vIGNvbW1lbnRcclxuIik7CiAJCWJ1Zi5hcHBlbmQoIlxyXG4i
KTsKIAkJYnVmLmFwcGVuZCgicHVibGljIGNsYXNzIEMge1xyXG4iKTsKIAkJYnVmLmFwcGVuZCgi
ICAgIFZlY3RvciB2O1xyXG4iKTsKQEAgLTY4MiwxNiArNjgxLDEyIEBACiAJCWJ1Zi5hcHBlbmQo
InBhY2thZ2UgcGFjazE7XG4iKTsKIAkJYnVmLmFwcGVuZCgiXG4iKTsKIAkJYnVmLmFwcGVuZCgi
Ly8gY29tbWVudCAxXG4iKTsKLQkJYnVmLmFwcGVuZCgiLypsZWFkIDEqLyIpOwotCQlidWYuYXBw
ZW5kKCJpbXBvcnQgamF2YS51dGlsLio7XG4iKTsKKwkJYnVmLmFwcGVuZCgiLypsZWFkIDEqLy8q
bGVhZCAyKi8gLyoqbGVhZCAzKi9pbXBvcnQgamF2YS51dGlsLio7IC8vdGVzdDNcbiIpOworCQli
dWYuYXBwZW5kKCIvL3Rlc3QxLyp0ZXN0MiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiIik7CiAJCWJ1
Zi5hcHBlbmQoIlxuIik7Ci0JCWJ1Zi5hcHBlbmQoImltcG9ydCBwYWNrLkxpc3Q7XG4iKTsKLQkJ
YnVmLmFwcGVuZCgiLy90ZXN0MVxuIik7Ci0JCWJ1Zi5hcHBlbmQoIi8qbGVhZCAyKi8gXG4iKTsg
Ci0JCWJ1Zi5hcHBlbmQoIi8qdGVzdDIqL1xuIik7Ci0JCWJ1Zi5hcHBlbmQoIi8qKmxlYWQgMyov
XG4iKTsKLQkJYnVmLmFwcGVuZCgiLy90ZXN0M1xuIik7CiAJCWJ1Zi5hcHBlbmQoIi8qKmNvbW1l
bnQgMiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IHBhY2suTGlzdDtcbiIpOwogCQlidWYu
YXBwZW5kKCJcbiIpOwogCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKIAkJYnVm
LmFwcGVuZCgiICAgIFZlY3RvciB2O1xuIik7CkBAIC0yNDU5LDggKzI0NTQsNyBAQAogCQlidWYu
YXBwZW5kKCIvKipjb21tZW50MSovXG4iKTsKIAkJYnVmLmFwcGVuZCgiLypsZWFkMSovIik7CiAJ
CWJ1Zi5hcHBlbmQoImltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuIik7Ci0JCWJ1Zi5hcHBl
bmQoImltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDtcbiIpOwotCQlidWYuYXBwZW5kKCIvLyB0cmFp
bCAxXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOy8vIHRyYWls
IDFcbiIpOwogCQlidWYuYXBwZW5kKCJcbiIpOwogCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3Mg
QyB7XG4iKTsKIAkJYnVmLmFwcGVuZCgiICAgIHB1YmxpYyB2b2lkIGZvbygpIHtcbiIpOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>