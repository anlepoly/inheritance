<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>358827</bug_id>
          
          <creation_ts>2011-09-25 14:59:00 -0400</creation_ts>
          <short_desc>[1.7] exception analysis for t-w-r spoils null analysis</short_desc>
          <delta_ts>2012-01-19 00:44:17 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>Other</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7.2</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephan Herrmann">stephan.herrmann</reporter>
          <assigned_to name="Stephan Herrmann">stephan.herrmann</assigned_to>
          <cc>amj87.iitr</cc>
    
    <cc>deepakazad</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>satyam.kandula</cc>
    
    <cc>sean.van.gorder</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="45899"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1999417</commentid>
    <comment_count>0</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-25 14:59:53 -0400</bug_when>
    <thetext>This is a generalization of bug 349326 comment 60:

This works:
	Object foo2() {
		String o = null;
		try {
			o = o.toUpperCase(); // warn here: o is null
		} finally {
			o = &quot;OK&quot;;
		}
		return o;
	}
but this doesn&apos;t:
	Object foo2() throws FileNotFoundException, IOException {
		String o = null;
		try (FileReader fr = new FileReader(&quot;f1&quot;)) {
			o = o.toUpperCase();
		} finally {
			o = &quot;OK&quot;;
		}
		return o;
	}

Initial analysis: the call to handlingContext.checkExceptionHandlers(..) 
from TryStatement.java:275 causes that the flow info of the finally block 
is erroneously merged into the main flowInfo.
(line number is with bug 349326 applied).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999421</commentid>
    <comment_count>1</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-25 15:19:19 -0400</bug_when>
    <thetext>Another find: TryStatement.analyseCode contains two similar calls to
checkExceptionHandlers. The first in l.135 passes true to
isExceptionOnAutoClose, the second in l.261 (head) lacks this param.

@Srikanth, it seems you wrote some of this. Do you recall if the
difference is by intention?

Adding the flag to the second call doesn&apos;t fix the issue but based
on this flag we could easily avoid the bogus update of the flowInfo.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999439</commentid>
    <comment_count>2</comment_count>
      <attachid>203976</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-25 17:34:02 -0400</bug_when>
    <thetext>Created attachment 203976
test and proposed fix

Test case and proposed fix.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999440</commentid>
    <comment_count>3</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-25 17:36:31 -0400</bug_when>
    <thetext>Srikanth, do you want to check if this collides with your intentions
inside TryStatement.analyseCode(..)? 
Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999503</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-09-26 02:15:28 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; Another find: TryStatement.analyseCode contains two similar calls to
&gt; checkExceptionHandlers. The first in l.135 passes true to
&gt; isExceptionOnAutoClose, the second in l.261 (head) lacks this param.
&gt; 
&gt; @Srikanth, it seems you wrote some of this. Do you recall if the
&gt; difference is by intention?

This code was written by Ayush to fix the bug 348705, yes this difference
is by intention to issue slightly different error messages.

&gt; Adding the flag to the second call doesn&apos;t fix the issue but based
&gt; on this flag we could easily avoid the bogus update of the flowInfo.

After reviewing the bug 348705, you should be able to conclude whether
you can safely piggy back your fix on top of this without causing any
side effects, I would think.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999505</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-09-26 02:21:39 -0400</bug_when>
    <thetext>(In reply to comment #4)

&gt; After reviewing the bug 348705, you should be able to conclude whether
&gt; you can safely piggy back your fix on top of this without causing any
&gt; side effects, I would think.


(In reply to comment #3)
&gt; Srikanth, do you want to check if this collides with your intentions
&gt; inside TryStatement.analyseCode(..)? 
&gt; Thanks.

Sorry, I just saw this patch which already attempts to piggy back on
top of this extra parameter Ayush introduced. As you can see against
the backdrop of the context for bug 348705, the proposed patch would
mischaracterize the exception as the one raised by automatic close
call when it is not, and so would be a no-go.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999539</commentid>
    <comment_count>6</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-26 03:35:46 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; (In reply to comment #4)
&gt; 
&gt; &gt; After reviewing the bug 348705, you should be able to conclude whether
&gt; &gt; you can safely piggy back your fix on top of this without causing any
&gt; &gt; side effects, I would think.
&gt; 
&gt; 
&gt; (In reply to comment #3)
&gt; &gt; Srikanth, do you want to check if this collides with your intentions
&gt; &gt; inside TryStatement.analyseCode(..)? 
&gt; &gt; Thanks.
&gt; 
&gt; Sorry, I just saw this patch which already attempts to piggy back on
&gt; top of this extra parameter Ayush introduced. As you can see against
&gt; the backdrop of the context for bug 348705, the proposed patch would
&gt; mischaracterize the exception as the one raised by automatic close
&gt; call when it is not, and so would be a no-go.

Do you have a test case that would fail with the patch?
compiler.regression.TestAll seem to be happy with the patch.

The location where I added the &quot;true&quot; flag is almost identical to the
one we already have, it concerns AutoCloseable resources, too,
just for the case where we also have a finally block.

BTW: try adding a finally block to TryWithResourcesStatementTest.test053()
first you get a AIOOBE (an obvious typo in the code) and after fixing
that you get the wrong error message. Which can then be fixed by the
patch I proposed here.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999556</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-09-26 04:38:18 -0400</bug_when>
    <thetext>(In reply to comment #6)

&gt; Do you have a test case that would fail with the patch?
&gt; compiler.regression.TestAll seem to be happy with the patch.

&gt; The location where I added the &quot;true&quot; flag is almost identical to the
&gt; one we already have, it concerns AutoCloseable resources, too,
&gt; just for the case where we also have a finally block.

Sorry I didn&apos;t look closely the first time. So instead of mislabelling, your
patch indeed would complete the fix for bug 348705.

&gt; BTW: try adding a finally block to TryWithResourcesStatementTest.test053()
&gt; first you get a AIOOBE (an obvious typo in the code) and after fixing
&gt; that you get the wrong error message. Which can then be fixed by the
&gt; patch I proposed here.

Yes, the patch does look good for me. 

Ayush, do you have any comments ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999622</commentid>
    <comment_count>8</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-09-26 07:12:25 -0400</bug_when>
    <thetext>(In reply to comment #7)
&gt; Ayush, do you have any comments ?

+1 from me too</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1999640</commentid>
    <comment_count>9</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-26 07:33:48 -0400</bug_when>
    <thetext>I&apos;d suggest to backport the fix for the AIOOBE mentioned in comment 6
to 3.7.2 (typo i vs. j). 
Do we want to separate that out, or should actually the whole issue go
into 3.7.2, too?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2000253</commentid>
    <comment_count>10</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-09-27 01:44:40 -0400</bug_when>
    <thetext>(In reply to comment #9)
&gt; I&apos;d suggest to backport the fix for the AIOOBE mentioned in comment 6
&gt; to 3.7.2 (typo i vs. j). 
&gt; Do we want to separate that out, or should actually the whole issue go
&gt; into 3.7.2, too?

+1 for 3.7.2 for the full fix, given that it is small and well contained
and is obvious oversight.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2000566</commentid>
    <comment_count>11</comment_count>
      <attachid>204079</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-27 09:59:13 -0400</bug_when>
    <thetext>Created attachment 204079
full patch

Patch fixing both issues (with tests), to be released for HEAD.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2000681</commentid>
    <comment_count>12</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-27 11:21:08 -0400</bug_when>
    <thetext>Released into HEAD for 3.8 M3.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2001015</commentid>
    <comment_count>13</comment_count>
      <attachid>204124</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-27 17:47:35 -0400</bug_when>
    <thetext>Created attachment 204124
same patch for R3_7_maintenance

I tried the same tests in 3.7 maintenance and could observe the same
three bugs:
- AIOOBE
- wrong error re exception from t-w-r
- missing null error

All are fixed by this (small) patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2001051</commentid>
    <comment_count>14</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-09-27 18:48:17 -0400</bug_when>
    <thetext>+1 for 3.7.2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2002457</commentid>
    <comment_count>15</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-09-29 10:00:45 -0400</bug_when>
    <thetext>Stephan, will you release your patch to 3.7 maintenance or should I do it ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2002549</commentid>
    <comment_count>16</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-09-29 11:41:18 -0400</bug_when>
    <thetext>(In reply to comment #15)
&gt; Stephan, will you release your patch to 3.7 maintenance or should I do it ?

Done:
Released commit 1d6277040a15d6a361edbfc4d3f5e370c8d71128 for R3_7_maintenance</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2015911</commentid>
    <comment_count>17</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-10-25 02:20:03 -0400</bug_when>
    <thetext>Verified for 3.8 M3 using build id: N20111022-2000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2015912</commentid>
    <comment_count>18</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-10-25 02:21:34 -0400</bug_when>
    <thetext>Leave state as resolved and clear white board status for 3.8 M3.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2046575</commentid>
    <comment_count>19</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-01-05 07:40:35 -0500</bug_when>
    <thetext>*** Bug 367879 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2052620</commentid>
    <comment_count>20</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-01-19 00:44:17 -0500</bug_when>
    <thetext>Verified for 3.7.2RC2 using build M20120118-0800</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>203976</attachid>
            <date>2011-09-25 17:34:00 -0400</date>
            <delta_ts>2011-09-27 09:59:13 -0400</delta_ts>
            <desc>test and proposed fix</desc>
            <filename>Bug_358827.patch</filename>
            <type>text/plain</type>
            <size>4905</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29yZQpJ
bmRleDogY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UcnlT
dGF0ZW1lbnQuamF2YQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9hc3QvVHJ5U3RhdGVtZW50LmphdmEsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTIxCmRpZmYg
LXUgLXIxLjEyMSBUcnlTdGF0ZW1lbnQuamF2YQotLS0gY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UcnlTdGF0ZW1lbnQuamF2YQkxOCBBdWcgMjAxMSAxNzow
NzozNCAtMDAwMAkxLjEyMQorKysgY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9UcnlTdGF0ZW1lbnQuamF2YQkyNSBTZXAgMjAxMSAyMTozMDoyOCAtMDAwMApA
QCAtMjU4LDcgKzI1OCw3IEBACiAJCQkJaWYgKGNsb3NlTWV0aG9kICE9IG51bGwgJiYgY2xvc2VN
ZXRob2QucmV0dXJuVHlwZS5pZCA9PSBUeXBlSWRzLlRfdm9pZCkgewogCQkJCQlSZWZlcmVuY2VC
aW5kaW5nW10gdGhyb3duRXhjZXB0aW9ucyA9IGNsb3NlTWV0aG9kLnRocm93bkV4Y2VwdGlvbnM7
CiAJCQkJCWZvciAoaW50IGogPSAwLCBsZW5ndGggPSB0aHJvd25FeGNlcHRpb25zLmxlbmd0aDsg
aiA8IGxlbmd0aDsgaisrKSB7Ci0JCQkJCQloYW5kbGluZ0NvbnRleHQuY2hlY2tFeGNlcHRpb25I
YW5kbGVycyh0aHJvd25FeGNlcHRpb25zW2pdLCB0aGlzLnJlc291cmNlc1tqXSwgZmxvd0luZm8s
IGN1cnJlbnRTY29wZSk7CisJCQkJCQloYW5kbGluZ0NvbnRleHQuY2hlY2tFeGNlcHRpb25IYW5k
bGVycyh0aHJvd25FeGNlcHRpb25zW2pdLCB0aGlzLnJlc291cmNlc1tqXSwgZmxvd0luZm8sIGN1
cnJlbnRTY29wZSwgdHJ1ZSk7CiAJCQkJCX0KIAkJCQl9CiAJCQl9CkluZGV4OiBjb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvZmxvdy9GbG93Q29udGV4dC5qYXZhCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Zsb3cvRmxvd0NvbnRl
eHQuamF2YSx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS43MQpkaWZmIC11IC1yMS43MSBGbG93Q29u
dGV4dC5qYXZhCi0tLSBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
Zmxvdy9GbG93Q29udGV4dC5qYXZhCTI4IEp1bCAyMDExIDE3OjA3OjQzIC0wMDAwCTEuNzEKKysr
IGNvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9mbG93L0Zsb3dDb250
ZXh0LmphdmEJMjUgU2VwIDIwMTEgMjE6MzA6MjkgLTAwMDAKQEAgLTE5NywxMSArMTk3LDEzIEBA
CiAKIAkJdHJhdmVyc2VkQ29udGV4dC5yZWNvcmRSZXR1cm5Gcm9tKGZsb3dJbmZvLnVuY29uZGl0
aW9uYWxJbml0cygpKTsKIAotCQlpZiAodHJhdmVyc2VkQ29udGV4dCBpbnN0YW5jZW9mIEluc2lk
ZVN1YlJvdXRpbmVGbG93Q29udGV4dCkgewotCQkJQVNUTm9kZSBub2RlID0gdHJhdmVyc2VkQ29u
dGV4dC5hc3NvY2lhdGVkTm9kZTsKLQkJCWlmIChub2RlIGluc3RhbmNlb2YgVHJ5U3RhdGVtZW50
KSB7Ci0JCQkJVHJ5U3RhdGVtZW50IHRyeVN0YXRlbWVudCA9IChUcnlTdGF0ZW1lbnQpIG5vZGU7
Ci0JCQkJZmxvd0luZm8uYWRkSW5pdGlhbGl6YXRpb25zRnJvbSh0cnlTdGF0ZW1lbnQuc3ViUm91
dGluZUluaXRzKTsgLy8gY29sbGVjdCBpbml0cworCQlpZiAoIWlzRXhjZXB0aW9uT25BdXRvQ2xv
c2UpIHsKKwkJCWlmICh0cmF2ZXJzZWRDb250ZXh0IGluc3RhbmNlb2YgSW5zaWRlU3ViUm91dGlu
ZUZsb3dDb250ZXh0KSB7CisJCQkJQVNUTm9kZSBub2RlID0gdHJhdmVyc2VkQ29udGV4dC5hc3Nv
Y2lhdGVkTm9kZTsKKwkJCQlpZiAobm9kZSBpbnN0YW5jZW9mIFRyeVN0YXRlbWVudCkgeworCQkJ
CQlUcnlTdGF0ZW1lbnQgdHJ5U3RhdGVtZW50ID0gKFRyeVN0YXRlbWVudCkgbm9kZTsKKwkJCQkJ
Zmxvd0luZm8uYWRkSW5pdGlhbGl6YXRpb25zRnJvbSh0cnlTdGF0ZW1lbnQuc3ViUm91dGluZUlu
aXRzKTsgLy8gY29sbGVjdCBpbml0cworCQkJCX0KIAkJCX0KIAkJfQogCQl0cmF2ZXJzZWRDb250
ZXh0ID0gdHJhdmVyc2VkQ29udGV4dC5wYXJlbnQ7CiNQIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRl
c3RzLmNvbXBpbGVyCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGls
ZXIvcmVncmVzc2lvbi9OdWxsUmVmZXJlbmNlVGVzdC5qYXZhCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6
IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTnVsbFJlZmVy
ZW5jZVRlc3QuamF2YSx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMjEKZGlmZiAtdSAtcjEuMTIx
IE51bGxSZWZlcmVuY2VUZXN0LmphdmEKLS0tIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0
cy9jb21waWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VUZXN0LmphdmEJMTIgQXVnIDIwMTEg
MjA6NDg6MTcgLTAwMDAJMS4xMjEKKysrIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9j
b21waWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VUZXN0LmphdmEJMjUgU2VwIDIwMTEgMjE6
MzA6NDggLTAwMDAKQEAgLTE4LDYgKzE4LDcgQEAKICAqICAgICAJCQkJCQlidWcgMzM2NDI4IC0g
W2NvbXBpbGVyXVtudWxsXSBib2d1cyB3YXJuaW5nICJyZWR1bmRhbnQgbnVsbCBjaGVjayIgaW4g
Y29uZGl0aW9uIG9mIGRvIHt9IHdoaWxlKCkgbG9vcAogICogCQkJCQkJCWJ1ZyAzMjQxNzggLSBb
bnVsbF0gQ29uZGl0aW9uYWxFeHByZXNzaW9uLm51bGxTdGF0dXMoLi4pIGRvZXNuJ3QgdGFrZSBp
bnRvIGFjY291bnQgdGhlIGFuYWx5c2lzIG9mIGNvbmRpdGlvbiBpdHNlbGYKICAqIAkJCQkJCQli
dWcgMzU0NTU0IC0gW251bGxdIGNvbmRpdGlvbmFsIHdpdGggcmVkdW5kYW50IGNvbmRpdGlvbiB5
aWVsZHMgd2VhayBlcnJvciBtZXNzYWdlCisgKiAJCQkJCQkJYnVnIDM1ODgyNyAtIFsxLjddIGV4
Y2VwdGlvbiBhbmFseXNpcyBmb3IgdC13LXIgc3BvaWxzIG51bGwgYW5hbHlzaXMKICAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21w
aWxlci5yZWdyZXNzaW9uOwogCkBAIC00NSw3ICs0Niw3IEBACiAvLyBPbmx5IHRoZSBoaWdoZXN0
IGNvbXBsaWFuY2UgbGV2ZWwgaXMgcnVuOyBhZGQgdGhlIFZNIGFyZ3VtZW50CiAvLyAtRGNvbXBs
aWFuY2U9MS40IChmb3IgZXhhbXBsZSkgdG8gbG93ZXIgaXQgaWYgbmVlZGVkCiBzdGF0aWMgewot
Ly8JCVRFU1RTX05BTUVTID0gbmV3IFN0cmluZ1tdIHsgInRlc3RCdWczNDgzNzkiIH07CisvLwkJ
VEVTVFNfTkFNRVMgPSBuZXcgU3RyaW5nW10geyAidGVzdDM1ODgyNyIgfTsKIC8vCQlURVNUU19O
VU1CRVJTID0gbmV3IGludFtdIHsgNTYxIH07CiAvLwkJVEVTVFNfUkFOR0UgPSBuZXcgaW50W10g
eyAxLCAyMDQ5IH07CiB9CkBAIC0xNDk0NCw0ICsxNDk0NSwzMSBAQAogCQkiUmVkdW5kYW50IG51
bGwgY2hlY2s6IFRoZSB2YXJpYWJsZSB1IGNhbm5vdCBiZSBudWxsIGF0IHRoaXMgbG9jYXRpb25c
biIgKyAKIAkJIi0tLS0tLS0tLS1cbiIpOwogfQorLy8gQnVnIDM1ODgyNyAtIFsxLjddIGV4Y2Vw
dGlvbiBhbmFseXNpcyBmb3IgdC13LXIgc3BvaWxzIG51bGwgYW5hbHlzaXMKK3B1YmxpYyB2b2lk
IHRlc3QzNTg4MjcoKSB7CisJaWYgKHRoaXMuY29tcGxpYW5jZUxldmVsID49IENsYXNzRmlsZUNv
bnN0YW50cy5KREsxXzcpIHsKKwkJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdIHsKKwkJCQkJIkJ1ZzM1ODgyNy5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLkZpbGVS
ZWFkZXI7XG4iICsKKwkJCQkJInB1YmxpYyBjbGFzcyBCdWczNTg4Mjcge1xuIiArCisJCQkJCSIJ
T2JqZWN0IGZvbzIoKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiIgKyAKKwkJCQkJIgkJU3RyaW5nIG8g
PSBudWxsO1xuIiArIAorCQkJCQkiCQl0cnkgKEZpbGVSZWFkZXIgcmYgPSBuZXcgRmlsZVJlYWRl
cihcImZpbGVcIikpe1xuIiArIAorCQkJCQkiCQkJbyA9IG8udG9VcHBlckNhc2UoKTtcbiIgKyAK
KwkJCQkJIgkJfSBmaW5hbGx5IHtcbiIgKyAKKwkJCQkJIgkJCW8gPSBcIk9LXCI7XG4iICsgCisJ
CQkJCSIJCX1cbiIgKyAKKwkJCQkJIgkJcmV0dXJuIG87XG4iICsgCisJCQkJCSIJfVxuIiArIAor
CQkJCQkifVxuIgorCQkJCX0sCisJCQkJIi0tLS0tLS0tLS1cbiIgKyAKKwkJCQkiMS4gRVJST1Ig
aW4gQnVnMzU4ODI3LmphdmEgKGF0IGxpbmUgNilcbiIgKyAKKwkJCQkiCW8gPSBvLnRvVXBwZXJD
YXNlKCk7XG4iICsgCisJCQkJIgkgICAgXlxuIiArIAorCQkJCSJOdWxsIHBvaW50ZXIgYWNjZXNz
OiBUaGUgdmFyaWFibGUgbyBjYW4gb25seSBiZSBudWxsIGF0IHRoaXMgbG9jYXRpb25cbiIgKyAK
KwkJCQkiLS0tLS0tLS0tLVxuIik7CisJfQorfQogfQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZp
bGUK
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>204079</attachid>
            <date>2011-09-27 09:59:00 -0400</date>
            <delta_ts>2011-09-27 09:59:13 -0400</delta_ts>
            <desc>full patch</desc>
            <filename>Bug_358827_HEAD.patch</filename>
            <type>text/plain</type>
            <size>8298</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VU
ZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2Vj
bGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OdWxsUmVmZXJlbmNlVGVz
dC5qYXZhCmluZGV4IDVkM2UzNDkuLmVjNTRjOTQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21w
aWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vTnVsbFJlZmVyZW5jZVRlc3QuamF2YQpAQCAtMTgsNiArMTgsNyBA
QAogICogICAgIAkJCQkJCWJ1ZyAzMzY0MjggLSBbY29tcGlsZXJdW251bGxdIGJvZ3VzIHdhcm5p
bmcgInJlZHVuZGFudCBudWxsIGNoZWNrIiBpbiBjb25kaXRpb24gb2YgZG8ge30gd2hpbGUoKSBs
b29wCiAgKiAJCQkJCQkJYnVnIDMyNDE3OCAtIFtudWxsXSBDb25kaXRpb25hbEV4cHJlc3Npb24u
bnVsbFN0YXR1cyguLikgZG9lc24ndCB0YWtlIGludG8gYWNjb3VudCB0aGUgYW5hbHlzaXMgb2Yg
Y29uZGl0aW9uIGl0c2VsZgogICogCQkJCQkJCWJ1ZyAzNTQ1NTQgLSBbbnVsbF0gY29uZGl0aW9u
YWwgd2l0aCByZWR1bmRhbnQgY29uZGl0aW9uIHlpZWxkcyB3ZWFrIGVycm9yIG1lc3NhZ2UKKyAq
IAkJCQkJCQlidWcgMzU4ODI3IC0gWzEuN10gZXhjZXB0aW9uIGFuYWx5c2lzIGZvciB0LXctciBz
cG9pbHMgbnVsbCBhbmFseXNpcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Npb247CiAKQEAgLTQ1LDcg
KzQ2LDcgQEAKIC8vIE9ubHkgdGhlIGhpZ2hlc3QgY29tcGxpYW5jZSBsZXZlbCBpcyBydW47IGFk
ZCB0aGUgVk0gYXJndW1lbnQKIC8vIC1EY29tcGxpYW5jZT0xLjQgKGZvciBleGFtcGxlKSB0byBs
b3dlciBpdCBpZiBuZWVkZWQKIHN0YXRpYyB7Ci0vLwkJVEVTVFNfTkFNRVMgPSBuZXcgU3RyaW5n
W10geyAidGVzdEJ1ZzM0ODM3OSIgfTsKKy8vCQlURVNUU19OQU1FUyA9IG5ldyBTdHJpbmdbXSB7
ICJ0ZXN0MzU4ODI3IiB9OwogLy8JCVRFU1RTX05VTUJFUlMgPSBuZXcgaW50W10geyA1NjEgfTsK
IC8vCQlURVNUU19SQU5HRSA9IG5ldyBpbnRbXSB7IDEsIDIwNDkgfTsKIH0KQEAgLTE0OTQ0LDQg
KzE0OTQ1LDMxIEBACiAJCSJSZWR1bmRhbnQgbnVsbCBjaGVjazogVGhlIHZhcmlhYmxlIHUgY2Fu
bm90IGJlIG51bGwgYXQgdGhpcyBsb2NhdGlvblxuIiArIAogCQkiLS0tLS0tLS0tLVxuIik7CiB9
CisvLyBCdWcgMzU4ODI3IC0gWzEuN10gZXhjZXB0aW9uIGFuYWx5c2lzIGZvciB0LXctciBzcG9p
bHMgbnVsbCBhbmFseXNpcworcHVibGljIHZvaWQgdGVzdDM1ODgyNygpIHsKKwlpZiAodGhpcy5j
b21wbGlhbmNlTGV2ZWwgPj0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgeworCQl0aGlzLnJ1
bk5lZ2F0aXZlVGVzdCgKKwkJCQluZXcgU3RyaW5nW10geworCQkJCQkiQnVnMzU4ODI3LmphdmEi
LAorCQkJCQkiaW1wb3J0IGphdmEuaW8uRmlsZVJlYWRlcjtcbiIgKworCQkJCQkicHVibGljIGNs
YXNzIEJ1ZzM1ODgyNyB7XG4iICsKKwkJCQkJIglPYmplY3QgZm9vMigpIHRocm93cyBFeGNlcHRp
b24ge1xuIiArIAorCQkJCQkiCQlTdHJpbmcgbyA9IG51bGw7XG4iICsgCisJCQkJCSIJCXRyeSAo
RmlsZVJlYWRlciByZiA9IG5ldyBGaWxlUmVhZGVyKFwiZmlsZVwiKSl7XG4iICsgCisJCQkJCSIJ
CQlvID0gby50b1VwcGVyQ2FzZSgpO1xuIiArIAorCQkJCQkiCQl9IGZpbmFsbHkge1xuIiArIAor
CQkJCQkiCQkJbyA9IFwiT0tcIjtcbiIgKyAKKwkJCQkJIgkJfVxuIiArIAorCQkJCQkiCQlyZXR1
cm4gbztcbiIgKyAKKwkJCQkJIgl9XG4iICsgCisJCQkJCSJ9XG4iCisJCQkJfSwKKwkJCQkiLS0t
LS0tLS0tLVxuIiArIAorCQkJCSIxLiBFUlJPUiBpbiBCdWczNTg4MjcuamF2YSAoYXQgbGluZSA2
KVxuIiArIAorCQkJCSIJbyA9IG8udG9VcHBlckNhc2UoKTtcbiIgKyAKKwkJCQkiCSAgICBeXG4i
ICsgCisJCQkJIk51bGwgcG9pbnRlciBhY2Nlc3M6IFRoZSB2YXJpYWJsZSBvIGNhbiBvbmx5IGJl
IG51bGwgYXQgdGhpcyBsb2NhdGlvblxuIiArIAorCQkJCSItLS0tLS0tLS0tXG4iKTsKKwl9Cit9
CiB9ClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vVHJ5V2l0aFJlc291cmNlc1N0YXRlbWVudFRlc3QuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29y
ZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL1RyeVdpdGhSZXNvdXJjZXNTdGF0ZW1lbnRUZXN0
LmphdmEKaW5kZXggZTE3OGIwNC4uZmYwZGFlYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBp
bGVyL3JlZ3Jlc3Npb24vVHJ5V2l0aFJlc291cmNlc1N0YXRlbWVudFRlc3QuamF2YQorKysgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2Nv
cmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9UcnlXaXRoUmVzb3VyY2VzU3RhdGVtZW50VGVz
dC5qYXZhCkBAIC03LDYgKzcsNyBAQAogICogCiAgKiBDb250cmlidXRvcnM6CiAgKiAgICAgSUJN
IENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKiAgICAgU3Rl
cGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlvbiBmb3IgYnVnIDM1ODgyNyAtIFsxLjddIGV4Y2Vw
dGlvbiBhbmFseXNpcyBmb3IgdC13LXIgc3BvaWxzIG51bGwgYW5hbHlzaXMKICAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxl
ci5yZWdyZXNzaW9uOwogCkBAIC0zMjk3LDYgKzMyOTgsNTcgQEAKIAkJIlVuaGFuZGxlZCBleGNl
cHRpb24gdHlwZSBJT0V4Y2VwdGlvblxuIiArIAogCQkiLS0tLS0tLS0tLVxuIik7CiB9CisvLyBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzQ4NzA1CisvLyBW
YXJpYW50IG9mIHRoZSBhYm92ZSwgd2l0bmVzcyBmb3IgaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
LzM1ODgyNyNjNgorcHVibGljIHZvaWQgdGVzdDA1M2EoKSB7CisJdGhpcy5ydW5OZWdhdGl2ZVRl
c3QoCisJCW5ldyBTdHJpbmdbXSB7CisJCQkiWC5qYXZhIiwKKwkJCSJwdWJsaWMgY2xhc3MgWCB7
XG4iICsKKwkJCSIJcHVibGljIHZvaWQgbWV0aG9kMSgpe1xuIiArCisJCQkiCQl0cnkgKFkgeSA9
IG5ldyBZKCkpIHsgXG4iICsKKwkJCSIJCQl5LmNsb3NlKCk7XG4iICsKKwkJCSIJCQlTeXN0ZW0u
b3V0LnByaW50bG4oKTtcbiIgKworCQkJIgkJfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBlKSB7
XG4iICsKKwkJCSIgICAgICAgfSBmaW5hbGx5IHtcbiIgKworCQkJIiAgICAgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKCk7XG4iICsKKwkJCSIJCX1cbiIgKworCQkJIgl9XG4iICsKKwkJCSJ9XG4i
ICsKKwkJCSJjbGFzcyBZIGltcGxlbWVudHMgTWFuYWdlZCB7XG4iICsKKwkJCSIJIHB1YmxpYyBZ
KCkgdGhyb3dzIENsb25lTm90U3VwcG9ydGVkRXhjZXB0aW9uIHt9XG4iICsKKwkJCSIgICAgcHVi
bGljIHZvaWQgY2xvc2UgKCkgdGhyb3dzIENsYXNzTm90Rm91bmRFeGNlcHRpb24sIGphdmEuaW8u
SU9FeGNlcHRpb24ge1xuIiArCisJCQkiICAgIH1cbiIgKworCQkJIn1cbiIgKworCQkJImludGVy
ZmFjZSBNYW5hZ2VkIGV4dGVuZHMgQXV0b0Nsb3NlYWJsZSB7fVxuIiwKKwkJfSwKKwkJIi0tLS0t
LS0tLS1cbiIgKyAKKwkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAzKVxuIiArIAorCQki
CXRyeSAoWSB5ID0gbmV3IFkoKSkgeyBcbiIgKyAKKwkJIgkgICAgICAgXlxuIiArIAorCQkiVW5o
YW5kbGVkIGV4Y2VwdGlvbiB0eXBlIENsYXNzTm90Rm91bmRFeGNlcHRpb24gdGhyb3duIGJ5IGF1
dG9tYXRpYyBjbG9zZSgpIGludm9jYXRpb24gb24geVxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiAr
IAorCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDMpXG4iICsgCisJCSIJdHJ5IChZIHkg
PSBuZXcgWSgpKSB7IFxuIiArIAorCQkiCSAgICAgICBeXG4iICsgCisJCSJVbmhhbmRsZWQgZXhj
ZXB0aW9uIHR5cGUgSU9FeGNlcHRpb24gdGhyb3duIGJ5IGF1dG9tYXRpYyBjbG9zZSgpIGludm9j
YXRpb24gb24geVxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiArIAorCQkiMy4gRVJST1IgaW4gWC5q
YXZhIChhdCBsaW5lIDMpXG4iICsgCisJCSIJdHJ5IChZIHkgPSBuZXcgWSgpKSB7IFxuIiArIAor
CQkiCSAgICAgICAgICAgXl5eXl5eXlxuIiArIAorCQkiVW5oYW5kbGVkIGV4Y2VwdGlvbiB0eXBl
IENsb25lTm90U3VwcG9ydGVkRXhjZXB0aW9uXG4iICsgCisJCSItLS0tLS0tLS0tXG4iICsgCisJ
CSI0LiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgNClcbiIgKyAKKwkJIgl5LmNsb3NlKCk7XG4i
ICsgCisJCSIJXl5eXl5eXl5eXG4iICsgCisJCSJVbmhhbmRsZWQgZXhjZXB0aW9uIHR5cGUgQ2xh
c3NOb3RGb3VuZEV4Y2VwdGlvblxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiArIAorCQkiNS4gRVJS
T1IgaW4gWC5qYXZhIChhdCBsaW5lIDQpXG4iICsgCisJCSIJeS5jbG9zZSgpO1xuIiArIAorCQki
CV5eXl5eXl5eXlxuIiArIAorCQkiVW5oYW5kbGVkIGV4Y2VwdGlvbiB0eXBlIElPRXhjZXB0aW9u
XG4iICsgCisJCSItLS0tLS0tLS0tXG4iKTsKK30KIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9y
Zy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNDk4NjIgKE5QRSB3aGVuIHVuaW9uIHR5cGUgaXMgdXNl
ZCBpbiB0aGUgcmVzb3VyY2Ugc2VjdGlvbi4pCiBwdWJsaWMgdm9pZCB0ZXN0MDU0KCkgewogCXRo
aXMucnVuTmVnYXRpdmVUZXN0KApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UcnlTdGF0ZW1lbnQu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9hc3QvVHJ5U3RhdGVtZW50LmphdmEKaW5kZXggNWZjMzg3OC4uZGUxNjgy
MiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UcnlTdGF0ZW1lbnQuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
YXN0L1RyeVN0YXRlbWVudC5qYXZhCkBAIC03LDcgKzcsOSBAQAogICoKICAqIENvbnRyaWJ1dG9y
czoKICAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRp
b24KLSAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gQ29udHJpYnV0aW9uIGZvciBidWcgMzMyNjM3
IC0gRGVhZCBDb2RlIGRldGVjdGlvbiByZW1vdmluZyBjb2RlIHRoYXQgaXNuJ3QgZGVhZAorICog
ICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBDb250cmlidXRpb25zIGZvcgorICogICAgIAkJCQkJCQli
dWcgMzMyNjM3IC0gRGVhZCBDb2RlIGRldGVjdGlvbiByZW1vdmluZyBjb2RlIHRoYXQgaXNuJ3Qg
ZGVhZAorICogICAgIAkJCQkJCQlidWcgMzU4ODI3IC0gWzEuN10gZXhjZXB0aW9uIGFuYWx5c2lz
IGZvciB0LXctciBzcG9pbHMgbnVsbCBhbmFseXNpcwogICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3Q7CiAKQEAgLTI1
OCw3ICsyNjAsNyBAQAogCQkJCWlmIChjbG9zZU1ldGhvZCAhPSBudWxsICYmIGNsb3NlTWV0aG9k
LnJldHVyblR5cGUuaWQgPT0gVHlwZUlkcy5UX3ZvaWQpIHsKIAkJCQkJUmVmZXJlbmNlQmluZGlu
Z1tdIHRocm93bkV4Y2VwdGlvbnMgPSBjbG9zZU1ldGhvZC50aHJvd25FeGNlcHRpb25zOwogCQkJ
CQlmb3IgKGludCBqID0gMCwgbGVuZ3RoID0gdGhyb3duRXhjZXB0aW9ucy5sZW5ndGg7IGogPCBs
ZW5ndGg7IGorKykgewotCQkJCQkJaGFuZGxpbmdDb250ZXh0LmNoZWNrRXhjZXB0aW9uSGFuZGxl
cnModGhyb3duRXhjZXB0aW9uc1tqXSwgdGhpcy5yZXNvdXJjZXNbal0sIGZsb3dJbmZvLCBjdXJy
ZW50U2NvcGUpOworCQkJCQkJaGFuZGxpbmdDb250ZXh0LmNoZWNrRXhjZXB0aW9uSGFuZGxlcnMo
dGhyb3duRXhjZXB0aW9uc1tqXSwgdGhpcy5yZXNvdXJjZXNbaV0sIGZsb3dJbmZvLCBjdXJyZW50
U2NvcGUsIHRydWUpOwogCQkJCQl9CiAJCQkJfQogCQkJfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Zs
b3cvRmxvd0NvbnRleHQuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9mbG93L0Zsb3dDb250ZXh0LmphdmEKaW5kZXgg
ZTc2OGZmMC4uMDM2YjgyNCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Zsb3cvRmxvd0NvbnRleHQuamF2
YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvZmxvdy9GbG93Q29udGV4dC5qYXZhCkBAIC03LDYgKzcsNyBAQAogICog
CiAgKiBDb250cmlidXRvcnM6CiAgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkg
YW5kIGltcGxlbWVudGF0aW9uCisgKiAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlv
biBmb3IgYnVnIDM1ODgyNyAtIFsxLjddIGV4Y2VwdGlvbiBhbmFseXNpcyBmb3IgdC13LXIgc3Bv
aWxzIG51bGwgYW5hbHlzaXMKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuZmxvdzsKIApAQCAtMTk3LDExICsxOTgsMTMg
QEAKIAogCQl0cmF2ZXJzZWRDb250ZXh0LnJlY29yZFJldHVybkZyb20oZmxvd0luZm8udW5jb25k
aXRpb25hbEluaXRzKCkpOwogCi0JCWlmICh0cmF2ZXJzZWRDb250ZXh0IGluc3RhbmNlb2YgSW5z
aWRlU3ViUm91dGluZUZsb3dDb250ZXh0KSB7Ci0JCQlBU1ROb2RlIG5vZGUgPSB0cmF2ZXJzZWRD
b250ZXh0LmFzc29jaWF0ZWROb2RlOwotCQkJaWYgKG5vZGUgaW5zdGFuY2VvZiBUcnlTdGF0ZW1l
bnQpIHsKLQkJCQlUcnlTdGF0ZW1lbnQgdHJ5U3RhdGVtZW50ID0gKFRyeVN0YXRlbWVudCkgbm9k
ZTsKLQkJCQlmbG93SW5mby5hZGRJbml0aWFsaXphdGlvbnNGcm9tKHRyeVN0YXRlbWVudC5zdWJS
b3V0aW5lSW5pdHMpOyAvLyBjb2xsZWN0IGluaXRzCisJCWlmICghaXNFeGNlcHRpb25PbkF1dG9D
bG9zZSkgeworCQkJaWYgKHRyYXZlcnNlZENvbnRleHQgaW5zdGFuY2VvZiBJbnNpZGVTdWJSb3V0
aW5lRmxvd0NvbnRleHQpIHsKKwkJCQlBU1ROb2RlIG5vZGUgPSB0cmF2ZXJzZWRDb250ZXh0LmFz
c29jaWF0ZWROb2RlOworCQkJCWlmIChub2RlIGluc3RhbmNlb2YgVHJ5U3RhdGVtZW50KSB7CisJ
CQkJCVRyeVN0YXRlbWVudCB0cnlTdGF0ZW1lbnQgPSAoVHJ5U3RhdGVtZW50KSBub2RlOworCQkJ
CQlmbG93SW5mby5hZGRJbml0aWFsaXphdGlvbnNGcm9tKHRyeVN0YXRlbWVudC5zdWJSb3V0aW5l
SW5pdHMpOyAvLyBjb2xsZWN0IGluaXRzCisJCQkJfQogCQkJfQogCQl9CiAJCXRyYXZlcnNlZENv
bnRleHQgPSB0cmF2ZXJzZWRDb250ZXh0LnBhcmVudDsK
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>204124</attachid>
            <date>2011-09-27 17:47:00 -0400</date>
            <delta_ts>2011-09-27 17:47:35 -0400</delta_ts>
            <desc>same patch for R3_7_maintenance</desc>
            <filename>Bug_358827_R37.patch</filename>
            <type>text/plain</type>
            <size>8833</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VU
ZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2Vj
bGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OdWxsUmVmZXJlbmNlVGVz
dC5qYXZhCmluZGV4IDZhNDMzNGMuLjg0M2UzYjcgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21w
aWxlci9yZWdyZXNzaW9uL051bGxSZWZlcmVuY2VUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vTnVsbFJlZmVyZW5jZVRlc3QuamF2YQpAQCAtMTcsNiArMTcsNyBA
QAogICogICAgIAkJCQkJCWJ1ZyAzMzgzMDMgLSBXYXJuaW5nIGFib3V0IFJlZHVuZGFudCBhc3Np
Z25tZW50IGNvbmZsaWN0cyB3aXRoIGRlZmluaXRlIGFzc2lnbm1lbnQKICAqICAgICAJCQkJCQli
dWcgMzM2NDI4IC0gW2NvbXBpbGVyXVtudWxsXSBib2d1cyB3YXJuaW5nICJyZWR1bmRhbnQgbnVs
bCBjaGVjayIgaW4gY29uZGl0aW9uIG9mIGRvIHt9IHdoaWxlKCkgbG9vcAogICogCQkJCQkJCWJ1
ZyAzMjQxNzggLSBbbnVsbF0gQ29uZGl0aW9uYWxFeHByZXNzaW9uLm51bGxTdGF0dXMoLi4pIGRv
ZXNuJ3QgdGFrZSBpbnRvIGFjY291bnQgdGhlIGFuYWx5c2lzIG9mIGNvbmRpdGlvbiBpdHNlbGYK
KyAqIAkJCQkJCQlidWcgMzU4ODI3IC0gWzEuN10gZXhjZXB0aW9uIGFuYWx5c2lzIGZvciB0LXct
ciBzcG9pbHMgbnVsbCBhbmFseXNpcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdl
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Npb247CiAKQEAgLTQ0
LDcgKzQ1LDcgQEAKIC8vIE9ubHkgdGhlIGhpZ2hlc3QgY29tcGxpYW5jZSBsZXZlbCBpcyBydW47
IGFkZCB0aGUgVk0gYXJndW1lbnQKIC8vIC1EY29tcGxpYW5jZT0xLjQgKGZvciBleGFtcGxlKSB0
byBsb3dlciBpdCBpZiBuZWVkZWQKIHN0YXRpYyB7Ci0vLwkJVEVTVFNfTkFNRVMgPSBuZXcgU3Ry
aW5nW10geyAidGVzdEJ1ZzM0ODM3OSIgfTsKKy8vCQlURVNUU19OQU1FUyA9IG5ldyBTdHJpbmdb
XSB7ICJ0ZXN0MzU4ODI3IiB9OwogLy8JCVRFU1RTX05VTUJFUlMgPSBuZXcgaW50W10geyA1NjEg
fTsKIC8vCQlURVNUU19SQU5HRSA9IG5ldyBpbnRbXSB7IDEsIDIwNDkgfTsKIH0KQEAgLTE0ODk4
LDQgKzE0ODk5LDMxIEBACiAJCQkiLS0tLS0tLS0tLVxuIik7CiAJfQogfQorLy9CdWcgMzU4ODI3
IC0gWzEuN10gZXhjZXB0aW9uIGFuYWx5c2lzIGZvciB0LXctciBzcG9pbHMgbnVsbCBhbmFseXNp
cworcHVibGljIHZvaWQgdGVzdDM1ODgyNygpIHsKKwlpZiAodGhpcy5jb21wbGlhbmNlTGV2ZWwg
Pj0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgeworCQl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgK
KwkJCQluZXcgU3RyaW5nW10geworCQkJCQkiQnVnMzU4ODI3LmphdmEiLAorCQkJCQkiaW1wb3J0
IGphdmEuaW8uRmlsZVJlYWRlcjtcbiIgKworCQkJCQkicHVibGljIGNsYXNzIEJ1ZzM1ODgyNyB7
XG4iICsKKwkJCQkJIglPYmplY3QgZm9vMigpIHRocm93cyBFeGNlcHRpb24ge1xuIiArIAorCQkJ
CQkiCQlTdHJpbmcgbyA9IG51bGw7XG4iICsgCisJCQkJCSIJCXRyeSAoRmlsZVJlYWRlciByZiA9
IG5ldyBGaWxlUmVhZGVyKFwiZmlsZVwiKSl7XG4iICsgCisJCQkJCSIJCQlvID0gby50b1VwcGVy
Q2FzZSgpO1xuIiArIAorCQkJCQkiCQl9IGZpbmFsbHkge1xuIiArIAorCQkJCQkiCQkJbyA9IFwi
T0tcIjtcbiIgKyAKKwkJCQkJIgkJfVxuIiArIAorCQkJCQkiCQlyZXR1cm4gbztcbiIgKyAKKwkJ
CQkJIgl9XG4iICsgCisJCQkJCSJ9XG4iCisJCQkJfSwKKwkJCQkiLS0tLS0tLS0tLVxuIiArIAor
CQkJCSIxLiBFUlJPUiBpbiBCdWczNTg4MjcuamF2YSAoYXQgbGluZSA2KVxuIiArIAorCQkJCSIJ
byA9IG8udG9VcHBlckNhc2UoKTtcbiIgKyAKKwkJCQkiCSAgICBeXG4iICsgCisJCQkJIk51bGwg
cG9pbnRlciBhY2Nlc3M6IFRoZSB2YXJpYWJsZSBvIGNhbiBvbmx5IGJlIG51bGwgYXQgdGhpcyBs
b2NhdGlvblxuIiArIAorCQkJCSItLS0tLS0tLS0tXG4iKTsKKwl9Cit9CiB9ClwgTm8gbmV3bGlu
ZSBhdCBlbmQgb2YgZmlsZQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMu
Y29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Np
b24vVHJ5V2l0aFJlc291cmNlc1N0YXRlbWVudFRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxl
ci9yZWdyZXNzaW9uL1RyeVdpdGhSZXNvdXJjZXNTdGF0ZW1lbnRUZXN0LmphdmEKaW5kZXggZjNl
MGEzNi4uYWI2ODU1OSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29t
cGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24v
VHJ5V2l0aFJlc291cmNlc1N0YXRlbWVudFRlc3QuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGls
ZXIvcmVncmVzc2lvbi9UcnlXaXRoUmVzb3VyY2VzU3RhdGVtZW50VGVzdC5qYXZhCkBAIC03LDYg
KzcsNyBAQAogICogCiAgKiBDb250cmlidXRvcnM6CiAgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0g
aW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKiAgICAgU3RlcGhhbiBIZXJybWFubiAt
IENvbnRyaWJ1dGlvbiBmb3IgYnVnIDM1ODgyNyAtIFsxLjddIGV4Y2VwdGlvbiBhbmFseXNpcyBm
b3IgdC13LXIgc3BvaWxzIG51bGwgYW5hbHlzaXMKICAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwog
cGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci5yZWdyZXNzaW9uOwog
CkBAIC0zMjk3LDYgKzMyOTgsNTcgQEAKIAkJIlVuaGFuZGxlZCBleGNlcHRpb24gdHlwZSBJT0V4
Y2VwdGlvblxuIiArIAogCQkiLS0tLS0tLS0tLVxuIik7CiB9CisvLyBodHRwczovL2J1Z3MuZWNs
aXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzQ4NzA1CisvLyBWYXJpYW50IG9mIHRoZSBh
Ym92ZSwgd2l0bmVzcyBmb3IgaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzM1ODgyNyNjNgorcHVi
bGljIHZvaWQgdGVzdDA1M2EoKSB7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJp
bmdbXSB7CisJCQkiWC5qYXZhIiwKKwkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCSIJcHVi
bGljIHZvaWQgbWV0aG9kMSgpe1xuIiArCisJCQkiCQl0cnkgKFkgeSA9IG5ldyBZKCkpIHsgXG4i
ICsKKwkJCSIJCQl5LmNsb3NlKCk7XG4iICsKKwkJCSIJCQlTeXN0ZW0ub3V0LnByaW50bG4oKTtc
biIgKworCQkJIgkJfSBjYXRjaCAoUnVudGltZUV4Y2VwdGlvbiBlKSB7XG4iICsKKwkJCSIgICAg
ICAgfSBmaW5hbGx5IHtcbiIgKworCQkJIiAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCk7
XG4iICsKKwkJCSIJCX1cbiIgKworCQkJIgl9XG4iICsKKwkJCSJ9XG4iICsKKwkJCSJjbGFzcyBZ
IGltcGxlbWVudHMgTWFuYWdlZCB7XG4iICsKKwkJCSIJIHB1YmxpYyBZKCkgdGhyb3dzIENsb25l
Tm90U3VwcG9ydGVkRXhjZXB0aW9uIHt9XG4iICsKKwkJCSIgICAgcHVibGljIHZvaWQgY2xvc2Ug
KCkgdGhyb3dzIENsYXNzTm90Rm91bmRFeGNlcHRpb24sIGphdmEuaW8uSU9FeGNlcHRpb24ge1xu
IiArCisJCQkiICAgIH1cbiIgKworCQkJIn1cbiIgKworCQkJImludGVyZmFjZSBNYW5hZ2VkIGV4
dGVuZHMgQXV0b0Nsb3NlYWJsZSB7fVxuIiwKKwkJfSwKKwkJIi0tLS0tLS0tLS1cbiIgKyAKKwkJ
IjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAzKVxuIiArIAorCQkiCXRyeSAoWSB5ID0gbmV3
IFkoKSkgeyBcbiIgKyAKKwkJIgkgICAgICAgXlxuIiArIAorCQkiVW5oYW5kbGVkIGV4Y2VwdGlv
biB0eXBlIENsYXNzTm90Rm91bmRFeGNlcHRpb24gdGhyb3duIGJ5IGF1dG9tYXRpYyBjbG9zZSgp
IGludm9jYXRpb24gb24geVxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiArIAorCQkiMi4gRVJST1Ig
aW4gWC5qYXZhIChhdCBsaW5lIDMpXG4iICsgCisJCSIJdHJ5IChZIHkgPSBuZXcgWSgpKSB7IFxu
IiArIAorCQkiCSAgICAgICBeXG4iICsgCisJCSJVbmhhbmRsZWQgZXhjZXB0aW9uIHR5cGUgSU9F
eGNlcHRpb24gdGhyb3duIGJ5IGF1dG9tYXRpYyBjbG9zZSgpIGludm9jYXRpb24gb24geVxuIiAr
IAorCQkiLS0tLS0tLS0tLVxuIiArIAorCQkiMy4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDMp
XG4iICsgCisJCSIJdHJ5IChZIHkgPSBuZXcgWSgpKSB7IFxuIiArIAorCQkiCSAgICAgICAgICAg
Xl5eXl5eXlxuIiArIAorCQkiVW5oYW5kbGVkIGV4Y2VwdGlvbiB0eXBlIENsb25lTm90U3VwcG9y
dGVkRXhjZXB0aW9uXG4iICsgCisJCSItLS0tLS0tLS0tXG4iICsgCisJCSI0LiBFUlJPUiBpbiBY
LmphdmEgKGF0IGxpbmUgNClcbiIgKyAKKwkJIgl5LmNsb3NlKCk7XG4iICsgCisJCSIJXl5eXl5e
Xl5eXG4iICsgCisJCSJVbmhhbmRsZWQgZXhjZXB0aW9uIHR5cGUgQ2xhc3NOb3RGb3VuZEV4Y2Vw
dGlvblxuIiArIAorCQkiLS0tLS0tLS0tLVxuIiArIAorCQkiNS4gRVJST1IgaW4gWC5qYXZhIChh
dCBsaW5lIDQpXG4iICsgCisJCSIJeS5jbG9zZSgpO1xuIiArIAorCQkiCV5eXl5eXl5eXlxuIiAr
IAorCQkiVW5oYW5kbGVkIGV4Y2VwdGlvbiB0eXBlIElPRXhjZXB0aW9uXG4iICsgCisJCSItLS0t
LS0tLS0tXG4iKTsKK30KIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVn
LmNnaT9pZD0zNDk4NjIgKE5QRSB3aGVuIHVuaW9uIHR5cGUgaXMgdXNlZCBpbiB0aGUgcmVzb3Vy
Y2Ugc2VjdGlvbi4pCiBwdWJsaWMgdm9pZCB0ZXN0MDU0KCkgewogCXRoaXMucnVuTmVnYXRpdmVU
ZXN0KApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvYnVpbGRub3Rlc19qZHQtY29y
ZS5odG1sIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvYnVpbGRub3Rlc19qZHQtY29yZS5odG1sCmlu
ZGV4IDQyYWMxYWMuLmVmMjhjMWYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2J1
aWxkbm90ZXNfamR0LWNvcmUuaHRtbAorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9idWlsZG5v
dGVzX2pkdC1jb3JlLmh0bWwKQEAgLTQ1LDcgKzQ1LDcgQEAKIDxocj48aDE+CiBFY2xpcHNlIFBs
YXRmb3JtIEJ1aWxkIE5vdGVzPGJyPgogSmF2YSBkZXZlbG9wbWVudCB0b29scyBjb3JlPC9oMT4K
LUVjbGlwc2UgU0RLIDMuNy4xIC0gJWRhdGUlIC0gMy43LjEKK0VjbGlwc2UgU0RLIDMuNy4xIC0g
QXVndXN0IDMwLCAyMDExIC0gMy43LjEKIDxicj5Qcm9qZWN0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
IHZfQjc2X1IzN3gKICg8YSBocmVmPSJodHRwOi8vZGV2LmVjbGlwc2Uub3JnL3ZpZXdjdnMvaW5k
ZXguY2dpL29yZy5lY2xpcHNlLmpkdC5jb3JlLz9vbmx5X3dpdGhfdGFnPXZfQjc2X1IzN3giPmN2
czwvYT4pLgogPGgyPldoYXQncyBuZXcgaW4gdGhpcyBkcm9wPC9oMj4KZGlmZiAtLWdpdCBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9hc3QvVHJ5U3RhdGVtZW50LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1RyeVN0YXRlbWVudC5qYXZh
CmluZGV4IDVmYzM4NzguLmRlMTY4MjIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHJ5U3RhdGVt
ZW50LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UcnlTdGF0ZW1lbnQuamF2YQpAQCAtNyw3ICs3LDkg
QEAKICAqCiAgKiBDb250cmlidXRvcnM6CiAgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCi0gKiAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRy
aWJ1dGlvbiBmb3IgYnVnIDMzMjYzNyAtIERlYWQgQ29kZSBkZXRlY3Rpb24gcmVtb3ZpbmcgY29k
ZSB0aGF0IGlzbid0IGRlYWQKKyAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gQ29udHJpYnV0aW9u
cyBmb3IKKyAqICAgICAJCQkJCQkJYnVnIDMzMjYzNyAtIERlYWQgQ29kZSBkZXRlY3Rpb24gcmVt
b3ZpbmcgY29kZSB0aGF0IGlzbid0IGRlYWQKKyAqICAgICAJCQkJCQkJYnVnIDM1ODgyNyAtIFsx
LjddIGV4Y2VwdGlvbiBhbmFseXNpcyBmb3IgdC13LXIgc3BvaWxzIG51bGwgYW5hbHlzaXMKICAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
Y29tcGlsZXIuYXN0OwogCkBAIC0yNTgsNyArMjYwLDcgQEAKIAkJCQlpZiAoY2xvc2VNZXRob2Qg
IT0gbnVsbCAmJiBjbG9zZU1ldGhvZC5yZXR1cm5UeXBlLmlkID09IFR5cGVJZHMuVF92b2lkKSB7
CiAJCQkJCVJlZmVyZW5jZUJpbmRpbmdbXSB0aHJvd25FeGNlcHRpb25zID0gY2xvc2VNZXRob2Qu
dGhyb3duRXhjZXB0aW9uczsKIAkJCQkJZm9yIChpbnQgaiA9IDAsIGxlbmd0aCA9IHRocm93bkV4
Y2VwdGlvbnMubGVuZ3RoOyBqIDwgbGVuZ3RoOyBqKyspIHsKLQkJCQkJCWhhbmRsaW5nQ29udGV4
dC5jaGVja0V4Y2VwdGlvbkhhbmRsZXJzKHRocm93bkV4Y2VwdGlvbnNbal0sIHRoaXMucmVzb3Vy
Y2VzW2pdLCBmbG93SW5mbywgY3VycmVudFNjb3BlKTsKKwkJCQkJCWhhbmRsaW5nQ29udGV4dC5j
aGVja0V4Y2VwdGlvbkhhbmRsZXJzKHRocm93bkV4Y2VwdGlvbnNbal0sIHRoaXMucmVzb3VyY2Vz
W2ldLCBmbG93SW5mbywgY3VycmVudFNjb3BlLCB0cnVlKTsKIAkJCQkJfQogCQkJCX0KIAkJCX0K
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9mbG93L0Zsb3dDb250ZXh0LmphdmEgYi9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvZmxvdy9G
bG93Q29udGV4dC5qYXZhCmluZGV4IGU3NjhmZjAuLjAzNmI4MjQgMTAwNjQ0Ci0tLSBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9mbG93L0Zsb3dDb250ZXh0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Zsb3cvRmxvd0NvbnRleHQuamF2
YQpAQCAtNyw2ICs3LDcgQEAKICAqIAogICogQ29udHJpYnV0b3JzOgogICogICAgIElCTSBDb3Jw
b3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICogICAgIFN0ZXBoYW4g
SGVycm1hbm4gLSBDb250cmlidXRpb24gZm9yIGJ1ZyAzNTg4MjcgLSBbMS43XSBleGNlcHRpb24g
YW5hbHlzaXMgZm9yIHQtdy1yIHNwb2lscyBudWxsIGFuYWx5c2lzCiAgKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmZsb3c7
CiAKQEAgLTE5NywxMSArMTk4LDEzIEBACiAKIAkJdHJhdmVyc2VkQ29udGV4dC5yZWNvcmRSZXR1
cm5Gcm9tKGZsb3dJbmZvLnVuY29uZGl0aW9uYWxJbml0cygpKTsKIAotCQlpZiAodHJhdmVyc2Vk
Q29udGV4dCBpbnN0YW5jZW9mIEluc2lkZVN1YlJvdXRpbmVGbG93Q29udGV4dCkgewotCQkJQVNU
Tm9kZSBub2RlID0gdHJhdmVyc2VkQ29udGV4dC5hc3NvY2lhdGVkTm9kZTsKLQkJCWlmIChub2Rl
IGluc3RhbmNlb2YgVHJ5U3RhdGVtZW50KSB7Ci0JCQkJVHJ5U3RhdGVtZW50IHRyeVN0YXRlbWVu
dCA9IChUcnlTdGF0ZW1lbnQpIG5vZGU7Ci0JCQkJZmxvd0luZm8uYWRkSW5pdGlhbGl6YXRpb25z
RnJvbSh0cnlTdGF0ZW1lbnQuc3ViUm91dGluZUluaXRzKTsgLy8gY29sbGVjdCBpbml0cworCQlp
ZiAoIWlzRXhjZXB0aW9uT25BdXRvQ2xvc2UpIHsKKwkJCWlmICh0cmF2ZXJzZWRDb250ZXh0IGlu
c3RhbmNlb2YgSW5zaWRlU3ViUm91dGluZUZsb3dDb250ZXh0KSB7CisJCQkJQVNUTm9kZSBub2Rl
ID0gdHJhdmVyc2VkQ29udGV4dC5hc3NvY2lhdGVkTm9kZTsKKwkJCQlpZiAobm9kZSBpbnN0YW5j
ZW9mIFRyeVN0YXRlbWVudCkgeworCQkJCQlUcnlTdGF0ZW1lbnQgdHJ5U3RhdGVtZW50ID0gKFRy
eVN0YXRlbWVudCkgbm9kZTsKKwkJCQkJZmxvd0luZm8uYWRkSW5pdGlhbGl6YXRpb25zRnJvbSh0
cnlTdGF0ZW1lbnQuc3ViUm91dGluZUluaXRzKTsgLy8gY29sbGVjdCBpbml0cworCQkJCX0KIAkJ
CX0KIAkJfQogCQl0cmF2ZXJzZWRDb250ZXh0ID0gdHJhdmVyc2VkQ29udGV4dC5wYXJlbnQ7Cg==
</data>

          </attachment>
      

    </bug>

</bugzilla>