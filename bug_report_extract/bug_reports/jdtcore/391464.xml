<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>391464</bug_id>
          
          <creation_ts>2012-10-09 13:18:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] Compiler fails to resolve annotations in a few places</short_desc>
          <delta_ts>2012-10-12 02:18:51 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>287648</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="53854"
          type_id="1"
          status="+"
          setter="jarthana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2169584</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-09 13:18:35 -0400</bug_when>
    <thetext>BETA_JAVA8:

The following program should trigger four errors. It triggers only two:

// ------
public class X&lt;T&gt; {
	public void foo() {
		Object o = (X @Marker []) null;  // Error here - Good. (ArrayTypeReference)
		o = (java.lang.String @Marker []) null; // Error here - Good. (ArrayQualifiedTypeReference)
		o = (X&lt;String&gt; @Marker []) null; // No error here - Bad. (ParameterizedSingleTypeReference)
	    o = (java.util.List&lt;String&gt; @Marker []) null; // No error here, Bad. (ParameterizedQualifiedTypeReference)
		if (o == null) {
			return;
		}
	}
}

// ----</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170472</commentid>
    <comment_count>1</comment_count>
      <attachid>222168</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-11 07:08:29 -0400</bug_when>
    <thetext>Created attachment 222168
Proposed fix

Patch with tests. All Java 8 tests pass and one of the existing test had to be adjusted. Running all tests now and will report once they complete.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170522</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-11 09:07:35 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; Running all tests now and will report once they complete.

All existing tests pass too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170632</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-11 12:19:12 -0400</bug_when>
    <thetext>Two more issues found when reviewing this patch:

- GrammarCoverageTests308#test019 is expecting wrong output.
- The following program compiles fine when it should not:

// ----
public class X  {
	class Y {
		class Z {}
	}
	
	@M X.@M Y.@Unreported Z z = null;
}


@java.lang.annotation.Target (java.lang.annotation.ElementType.TYPE_USE)
@interface M {
}

The type annotation resolution code could use a good bit of reorganization.
Patch will follow shortly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170667</commentid>
    <comment_count>4</comment_count>
      <attachid>222191</attachid>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-11 13:39:17 -0400</bug_when>
    <thetext>Created attachment 222191
Patch under consideration

Jay, please take a look - this drastically simplifies annotation resolution,</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170671</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-11 13:40:57 -0400</bug_when>
    <thetext>One other problem the patch fixes is in:

Object r = @Marker java. @Marker util.@Marker Map&lt;@Marker String, @Marker String&gt;.@Marker Entry @Marker []) null;

We were not resolving the annotation ahead of Entry,</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170867</commentid>
    <comment_count>6</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-11 23:21:02 -0400</bug_when>
    <thetext>Jay, all tests pass. If you agree with the patch, please release.

Note: At this point, the TypeUseBinding objects created are not hooked
up either to the TypeReference or to the TypeBindig.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170878</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-12 00:42:48 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; One other problem the patch fixes is in:
&gt; 
&gt; Object r = @Marker java. @Marker util.@Marker Map&lt;@Marker String, @Marker
&gt; String&gt;.@Marker Entry @Marker []) null;
&gt; 
&gt; We were not resolving the annotation ahead of Entry,

If the type reference in question has a problem, do we still want to resolve the annotation ahead of the type reference?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170886</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-12 01:29:31 -0400</bug_when>
    <thetext>(In reply to comment #7)

&gt; If the type reference in question has a problem, do we still want to resolve
&gt; the annotation ahead of the type reference?

I am OK with that. In general we should report as many errors as possible while avoiding reporting a cascade of secondary errors. By secondary errors I mean
errors that would go away if some other already reported error is addressed.

for example in:

public class X  {
@Marker List&lt;String&gt; l;
}

We report two errors:

- List cannot be resolved to a type
- Marker cannot be resolved to a type

Fixing the first by importing java.util.List does not resolve the latter and
it is useful to report both.

On the other hand it would not be acceptable to report that unknown
type List cannot be parameterized with &lt;String&gt;

What exactly do you have in mind ? Can you show me a test case ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170891</commentid>
    <comment_count>9</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-12 02:00:10 -0400</bug_when>
    <thetext>(In reply to comment #8)
&gt; What exactly do you have in mind ? Can you show me a test case ?

Actually, it&apos;s the same test case quoted in comment #7. Your explanation is good. Sorry for the noise.

Another question more out of curiosity:

Object r = ( java.util.Map.@Unresolved Entry&lt;?, ?&gt;) null;

We report a cannot-be-resolved error. The location where the annotation appears is disallowed but we are not reporting yet. Shouldn&apos;t we be reporting the disallowed error also?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170897</commentid>
    <comment_count>10</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-10-12 02:09:02 -0400</bug_when>
    <thetext>(In reply to comment #9)

&gt; Another question more out of curiosity:
&gt; 
&gt; Object r = ( java.util.Map.@Unresolved Entry&lt;?, ?&gt;) null;
&gt; 
&gt; We report a cannot-be-resolved error. The location where the annotation
&gt; appears is disallowed but we are not reporting yet. Shouldn&apos;t we be
&gt; reporting the disallowed error also?

It is legal to annotate Entry - why do you see it is illegal ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170899</commentid>
    <comment_count>11</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-12 02:17:43 -0400</bug_when>
    <thetext>(In reply to comment #10)
&gt; It is legal to annotate Entry - why do you see it is illegal ?

Clearly, I am not thinking right! I meant this code, really:
  Object r = ( java.util.@MarkerAnnots Map.Entry&lt;?, ?&gt;) null;
But we are reporting the correct error. So, there is no problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2170902</commentid>
    <comment_count>12</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-10-12 02:18:51 -0400</bug_when>
    <thetext>(In reply to comment #6)
&gt; Jay, all tests pass. If you agree with the patch, please release.

Patch is good. Released it:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=108910be72e713e6e104fafacd635988e5383096</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>222168</attachid>
            <date>2012-10-11 07:08:00 -0400</date>
            <delta_ts>2012-10-11 13:39:17 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>Fix-for-bug-391464.patch</filename>
            <type>text/plain</type>
            <size>10411</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0dyYW1tYXJDb3ZlcmFn
ZVRlc3RzMzA4LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9HcmFtbWFyQ292
ZXJhZ2VUZXN0czMwOC5qYXZhCmluZGV4IDhlNjlkYzYuLjdhZDFiYzMgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29y
ZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0dyYW1tYXJDb3ZlcmFnZVRlc3RzMzA4LmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNl
L2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vR3JhbW1hckNvdmVyYWdlVGVzdHMz
MDguamF2YQpAQCAtMTUyOCw0ICsxNTI4LDkgQEAKIAkJCQkiCSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXl5eXl5eXG4i
ICsgCiAJCQkJIk1hcmtlciBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgCisJCQkJ
Ii0tLS0tLS0tLS1cbiIgKyAKKwkJCQkiMTUuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSA1KVxu
IiArIAorCQkJCSIJT2JqZWN0IHIgPSAoQE1hcmtlciBqYXZhLiBATWFya2VyIHV0aWwuQE1hcmtl
ciBNYXA8QE1hcmtlciBTdHJpbmcsIEBNYXJrZXIgU3RyaW5nPi5ATWFya2VyIEVudHJ5IEBNYXJr
ZXIgW10pIG51bGw7XG4iICsgCisJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIF5eXl5eXlxuIiArIAorCQkJCSJNYXJrZXIgY2Fubm90IGJlIHJlc29sdmVkIHRv
IGEgdHlwZVxuIiArIAogCQkJCSItLS0tLS0tLS0tXG4iKTsKIAl9CmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUv
dGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBlQW5ub3RhdGlvblRl
c3QuamF2YQppbmRleCA4MGM3ZTI3Li4wOWFiZTFmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29t
cGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29y
ZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25UZXN0Lmph
dmEKQEAgLTI3NDcsMyArMjc0NywzOCBAQAogCQkJCSItLS0tLS0tLS0tXG4iKTsNCiAJfQ0KKwlw
dWJsaWMgdm9pZCB0ZXN0QnVnMzkxNDY0KCkgew0KKwkJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoDQor
CQkJCW5ldyBTdHJpbmdbXXsNCisJCQkJIlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xhc3MgWDxU
PiB7XG4iICsNCisJCQkJIglwdWJsaWMgdm9pZCBmb28oKSB7XG4iICsNCisJCQkJIgkJT2JqZWN0
IG8gPSAoWCBATWFya2VyIFtdKSBudWxsO1xuIiArDQorCQkJCSIJCW8gPSAoamF2YS5sYW5nLlN0
cmluZyBATWFya2VyIFtdKSBudWxsO1xuIiArDQorCQkJCSIJCW8gPSAoWDxTdHJpbmc+IEBNYXJr
ZXIgW10pIG51bGw7XG4iICsNCisJCQkJIgkJbyA9IChqYXZhLnV0aWwuTGlzdDxTdHJpbmc+IEBN
YXJrZXIgW10pIG51bGw7XG4iICsNCisJCQkJIgkJaWYgKG8gPT0gbnVsbCkgcmV0dXJuO1xuIiAr
DQorCQkJCSIJfSIgKw0KKwkJCQkifVxuIn0sDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJ
CSIxLiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgMylcbiIgKyANCisJCQkJIglPYmplY3QgbyA9
IChYIEBNYXJrZXIgW10pIG51bGw7XG4iICsgDQorCQkJCSIJICAgICAgICAgICAgICAgXl5eXl5e
XG4iICsgDQorCQkJCSJNYXJrZXIgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxuIiArIA0K
KwkJCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5l
IDQpXG4iICsgDQorCQkJCSIJbyA9IChqYXZhLmxhbmcuU3RyaW5nIEBNYXJrZXIgW10pIG51bGw7
XG4iICsgDQorCQkJCSIJICAgICAgICAgICAgICAgICAgICAgICBeXl5eXl5cbiIgKyANCisJCQkJ
Ik1hcmtlciBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgDQorCQkJCSItLS0tLS0t
LS0tXG4iICsgDQorCQkJCSIzLiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgNSlcbiIgKyANCisJ
CQkJIglvID0gKFg8U3RyaW5nPiBATWFya2VyIFtdKSBudWxsO1xuIiArIA0KKwkJCQkiCSAgICAg
ICAgICAgICAgICBeXl5eXl5cbiIgKyANCisJCQkJIk1hcmtlciBjYW5ub3QgYmUgcmVzb2x2ZWQg
dG8gYSB0eXBlXG4iICsgDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJCSI0LiBFUlJPUiBp
biBYLmphdmEgKGF0IGxpbmUgNilcbiIgKyANCisJCQkJIglvID0gKGphdmEudXRpbC5MaXN0PFN0
cmluZz4gQE1hcmtlciBbXSkgbnVsbDtcbiIgKyANCisJCQkJIgkgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIF5eXl5eXlxuIiArIA0KKwkJCQkiTWFya2VyIGNhbm5vdCBiZSByZXNvbHZlZCB0
byBhIHR5cGVcbiIgKyANCisJCQkJIi0tLS0tLS0tLS1cbiIpOw0KKwl9DQogfQ0KZGlmZiAtLWdp
dCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9hc3QvQXJyYXlRdWFsaWZpZWRUeXBlUmVmZXJlbmNlLmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
YXN0L0FycmF5UXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhCmluZGV4IGM1YWU3YzcuLmQ5NDE5
MGUgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQXJyYXlRdWFsaWZpZWRUeXBlUmVmZXJlbmNlLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL2FzdC9BcnJheVF1YWxpZmllZFR5cGVSZWZlcmVuY2UuamF2YQpAQCAt
OTgsOCArOTgsNSBAQAogCQkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgogCQkJCWNhc2UgU2Nv
cGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJZm9yIChpbnQgaSA9IDAsIG1heCA9IHRoaXMuYW5ub3Rh
dGlvbnNPbkRpbWVuc2lvbnMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKLQkJCQkJCUFubm90YXRp
b25bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9uID0gdGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9u
c1tpXTsKLQkJCQkJCXJlc29sdmVBbm5vdGF0aW9ucygoQmxvY2tTY29wZSkgc2NvcGUsIGFubm90
YXRpb25zT25EaW1lbnNpb24sIG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcu
VFlQRV9VU0UpKTsKLQkJCQkJfQorCQkJCQlyZXNvbHZlQW5ub3RhdGlvbnMoKEJsb2NrU2NvcGUp
c2NvcGUsIEJpbmRpbmcuVFlQRV9VU0UpOwogCQkJCQlicmVhazsKIAkJCX0KQEAgLTE4NSw2ICsx
ODIsNiBAQAogCX0KIAotCXByb3RlY3RlZCB2b2lkIHJlc29sdmVBbm5vdGF0aW9ucyhCbG9ja1Nj
b3BlIHNjb3BlKSB7Ci0JCXN1cGVyLnJlc29sdmVBbm5vdGF0aW9ucyhzY29wZSk7CisJcHJvdGVj
dGVkIHZvaWQgcmVzb2x2ZUFubm90YXRpb25zKEJsb2NrU2NvcGUgc2NvcGUsIGludCByZWNpcGll
bnRLaW5kKSB7CisJCXN1cGVyLnJlc29sdmVBbm5vdGF0aW9ucyhzY29wZSwgcmVjaXBpZW50S2lu
ZCk7CiAJCWlmICh0aGlzLmFubm90YXRpb25zT25EaW1lbnNpb25zICE9IG51bGwpIHsKIAkJCWZv
ciAoaW50IGkgPSAwLCBtYXggPSB0aGlzLmFubm90YXRpb25zT25EaW1lbnNpb25zLmxlbmd0aDsg
aSA8IG1heDsgaSsrKSB7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0FycmF5VHlwZVJlZmVyZW5j
ZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL2FzdC9BcnJheVR5cGVSZWZlcmVuY2UuamF2YQppbmRleCA1YTkyZDk1
Li5lNzQ2NDJmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0FycmF5VHlwZVJlZmVyZW5jZS5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9hc3QvQXJyYXlUeXBlUmVmZXJlbmNlLmphdmEKQEAgLTE2NiwxOSArMTY2
LDE0IEBACiAJcHJvdGVjdGVkIFR5cGVCaW5kaW5nIGludGVybmFsUmVzb2x2ZVR5cGUoU2NvcGUg
c2NvcGUpIHsKIAkJVHlwZUJpbmRpbmcgaW50ZXJuYWxSZXNvbHZlVHlwZSA9IHN1cGVyLmludGVy
bmFsUmVzb2x2ZVR5cGUoc2NvcGUpOwotCQlpZiAodGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9u
cyAhPSBudWxsKSB7Ci0JCQlzd2l0Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2NvcGUuQkxP
Q0tfU0NPUEUgOgotCQkJCWNhc2UgU2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJZm9yIChpbnQg
aSA9IDAsIG1heCA9IHRoaXMuYW5ub3RhdGlvbnNPbkRpbWVuc2lvbnMubGVuZ3RoOyBpIDwgbWF4
OyBpKyspIHsKLQkJCQkJCUFubm90YXRpb25bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9uID0gdGhp
cy5hbm5vdGF0aW9uc09uRGltZW5zaW9uc1tpXTsKLQkJCQkJCXJlc29sdmVBbm5vdGF0aW9ucygo
QmxvY2tTY29wZSkgc2NvcGUsIGFubm90YXRpb25zT25EaW1lbnNpb24sIG5ldyBBbm5vdGF0aW9u
LlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcuVFlQRV9VU0UpKTsKLQkJCQkJfQotCQkJCQlicmVhazsK
LQkJCX0KKwkJc3dpdGNoKHNjb3BlLmtpbmQpIHsKKwkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUg
OgorCQkJY2FzZSBTY29wZS5NRVRIT0RfU0NPUEUgOgorCQkJCXJlc29sdmVBbm5vdGF0aW9ucygo
QmxvY2tTY29wZSkgc2NvcGUsIEJpbmRpbmcuVFlQRV9VU0UpOworCQkJCWJyZWFrOwogCQl9CiAJ
CXJldHVybiBpbnRlcm5hbFJlc29sdmVUeXBlOwogCX0KLQlwcm90ZWN0ZWQgdm9pZCByZXNvbHZl
QW5ub3RhdGlvbnMoQmxvY2tTY29wZSBzY29wZSkgewotCQlzdXBlci5yZXNvbHZlQW5ub3RhdGlv
bnMoc2NvcGUpOworCXByb3RlY3RlZCB2b2lkIHJlc29sdmVBbm5vdGF0aW9ucyhCbG9ja1Njb3Bl
IHNjb3BlLCBpbnQgcmVjaXBpZW50S2luZCkgeworCQlzdXBlci5yZXNvbHZlQW5ub3RhdGlvbnMo
c2NvcGUsIHJlY2lwaWVudEtpbmQpOwogCQlpZiAodGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9u
cyAhPSBudWxsKSB7CiAJCQlmb3IgKGludCBpID0gMCwgbWF4ID0gdGhpcy5hbm5vdGF0aW9uc09u
RGltZW5zaW9ucy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgewpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9QYXJhbWV0ZXJpemVkUXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9Q
YXJhbWV0ZXJpemVkUXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhCmluZGV4IGUxNDkxYmEuLjFi
ZmMxNmYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvUGFyYW1ldGVyaXplZFF1YWxpZmllZFR5cGVS
ZWZlcmVuY2UuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1BhcmFtZXRlcml6ZWRRdWFsaWZpZWRUeXBl
UmVmZXJlbmNlLmphdmEKQEAgLTE1MiwxMSArMTUyLDkgQEAKIAkJfQogCQl0aGlzLmJpdHMgfD0g
QVNUTm9kZS5EaWRSZXNvbHZlOwotCQlpZiAodGhpcy5hbm5vdGF0aW9ucyAhPSBudWxsKSB7Ci0J
CQlzd2l0Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgotCQkJ
CWNhc2UgU2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJcmVzb2x2ZUFubm90YXRpb25zKChCbG9j
a1Njb3BlKSBzY29wZSwgdGhpcy5hbm5vdGF0aW9ucywgbmV3IEFubm90YXRpb24uVHlwZVVzZUJp
bmRpbmcoQmluZGluZy5UWVBFX1VTRSkpOwotCQkJCQlicmVhazsKLQkJCX0KKwkJc3dpdGNoKHNj
b3BlLmtpbmQpIHsKKwkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgorCQkJY2FzZSBTY29wZS5N
RVRIT0RfU0NPUEUgOgorCQkJCXJlc29sdmVBbm5vdGF0aW9ucygoQmxvY2tTY29wZSkgc2NvcGUs
IEJpbmRpbmcuVFlQRV9VU0UpOworCQkJCWJyZWFrOwogCQl9CiAJCVR5cGVCaW5kaW5nIHR5cGUg
PSBpbnRlcm5hbFJlc29sdmVMZWFmVHlwZShzY29wZSwgY2hlY2tCb3VuZHMpOwpAQCAtMzM0LDQg
KzMzMiwxNyBAQAogCX0KIAorCXByb3RlY3RlZCB2b2lkIHJlc29sdmVBbm5vdGF0aW9ucyhCbG9j
a1Njb3BlIHNjb3BlLCBpbnQgcmVjaXBpZW50S2luZCkgeworCQlzdXBlci5yZXNvbHZlQW5ub3Rh
dGlvbnMoc2NvcGUsIHJlY2lwaWVudEtpbmQpOworCQlmb3IgKGludCBpID0gMCwgbGVuZ3RoID0g
dGhpcy50eXBlQXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CisKKwkJCVR5cGVS
ZWZlcmVuY2VbXSByZWZlcmVuY2VzID0gdGhpcy50eXBlQXJndW1lbnRzW2ldOworCQkJaWYgKHJl
ZmVyZW5jZXMgPT0gbnVsbCkgY29udGludWU7CisKKwkJCWZvciAoaW50IGogPSAwOyBqIDwgcmVm
ZXJlbmNlcy5sZW5ndGg7IGorKykgeworCQkJCXJlZmVyZW5jZXNbal0ucmVzb2x2ZUFubm90YXRp
b25zKHNjb3BlLCBCaW5kaW5nLlRZUEVfUEFSQU1FVEVSKTsKKwkJCX0KKwkJfQorCX0KKwogCXB1
YmxpYyBTdHJpbmdCdWZmZXIgcHJpbnRFeHByZXNzaW9uKGludCBpbmRlbnQsIFN0cmluZ0J1ZmZl
ciBvdXRwdXQpIHsKIAkJaW50IGxlbmd0aCA9IHRoaXMudG9rZW5zLmxlbmd0aDsKZGlmZiAtLWdp
dCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9hc3QvUGFyYW1ldGVyaXplZFNpbmdsZVR5cGVSZWZlcmVuY2UuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9hc3QvUGFyYW1ldGVyaXplZFNpbmdsZVR5cGVSZWZlcmVuY2UuamF2YQppbmRleCA3MTYz
MTFlLi42MDAyYjQ5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1BhcmFtZXRlcml6ZWRTaW5nbGVU
eXBlUmVmZXJlbmNlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9QYXJhbWV0ZXJpemVkU2luZ2xlVHlw
ZVJlZmVyZW5jZS5qYXZhCkBAIC0xMzEsMTEgKzEzMSw5IEBACiAJCX0KIAkJdGhpcy5iaXRzIHw9
IEFTVE5vZGUuRGlkUmVzb2x2ZTsKLQkJaWYgKHRoaXMuYW5ub3RhdGlvbnMgIT0gbnVsbCkgewot
CQkJc3dpdGNoKHNjb3BlLmtpbmQpIHsKLQkJCQljYXNlIFNjb3BlLkJMT0NLX1NDT1BFIDoKLQkJ
CQljYXNlIFNjb3BlLk1FVEhPRF9TQ09QRSA6Ci0JCQkJCXJlc29sdmVBbm5vdGF0aW9ucygoQmxv
Y2tTY29wZSkgc2NvcGUsIHRoaXMuYW5ub3RhdGlvbnMsIG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VC
aW5kaW5nKEJpbmRpbmcuVFlQRV9VU0UpKTsKLQkJCQkJYnJlYWs7Ci0JCQl9CisJCXN3aXRjaChz
Y29wZS5raW5kKSB7CisJCQljYXNlIFNjb3BlLkJMT0NLX1NDT1BFIDoKKwkJCWNhc2UgU2NvcGUu
TUVUSE9EX1NDT1BFIDoKKwkJCQkJcmVzb2x2ZUFubm90YXRpb25zKChCbG9ja1Njb3BlKSBzY29w
ZSwgQmluZGluZy5UWVBFX1VTRSk7CisJCQkJYnJlYWs7CiAJCX0KIAkJVHlwZUJpbmRpbmcgdHlw
ZSA9IGludGVybmFsUmVzb2x2ZUxlYWZUeXBlKHNjb3BlLCBlbmNsb3NpbmdUeXBlLCBjaGVja0Jv
dW5kcyk7CkBAIC0yOTUsOCArMjkzLDggQEAKIAl9CiAJCi0JcHJvdGVjdGVkIHZvaWQgcmVzb2x2
ZUFubm90YXRpb25zKEJsb2NrU2NvcGUgc2NvcGUpIHsKLQkJc3VwZXIucmVzb2x2ZUFubm90YXRp
b25zKHNjb3BlKTsKKwlwcm90ZWN0ZWQgdm9pZCByZXNvbHZlQW5ub3RhdGlvbnMoQmxvY2tTY29w
ZSBzY29wZSwgaW50IHJlY2lwaWVudEtpbmQpIHsKKwkJc3VwZXIucmVzb2x2ZUFubm90YXRpb25z
KHNjb3BlLCByZWNpcGllbnRLaW5kKTsKIAkJZm9yIChpbnQgaSA9IDAsIGxlbmd0aCA9IHRoaXMu
dHlwZUFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewotCQkJdGhpcy50eXBlQXJn
dW1lbnRzW2ldLnJlc29sdmVBbm5vdGF0aW9ucyhzY29wZSk7CisJCQl0aGlzLnR5cGVBcmd1bWVu
dHNbaV0ucmVzb2x2ZUFubm90YXRpb25zKHNjb3BlLCBCaW5kaW5nLlRZUEVfUEFSQU1FVEVSKTsK
IAkJfQogCX0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvU2luZ2xlVHlwZVJlZmVyZW5jZS5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2FzdC9TaW5nbGVUeXBlUmVmZXJlbmNlLmphdmEKaW5kZXggZDE2ZTU3ZS4uYWQ0
NGJlYyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9TaW5nbGVUeXBlUmVmZXJlbmNlLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2FzdC9TaW5nbGVUeXBlUmVmZXJlbmNlLmphdmEKQEAgLTgxLDUgKzgxLDUgQEAK
IAkJYm9vbGVhbiBoYXNFcnJvciA9IGZhbHNlOwogCQkvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5v
cmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzkxNTAwCi0JCXJlc29sdmVBbm5vdGF0aW9ucyhzY29w
ZSk7CisJCXJlc29sdmVBbm5vdGF0aW9ucyhzY29wZSwgQmluZGluZy5UWVBFX1VTRSk7CiAJCWlm
ICghbWVtYmVyVHlwZS5pc1ZhbGlkQmluZGluZygpKSB7CiAJCQloYXNFcnJvciA9IHRydWU7CmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvYXN0L1R5cGVSZWZlcmVuY2UuamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlw
ZVJlZmVyZW5jZS5qYXZhCmluZGV4IGY4MmQyZjAuLjJhZTY5YzUgMTAwNjQ0Ci0tLSBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9hc3QvVHlwZVJlZmVyZW5jZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZVJlZmVyZW5jZS5q
YXZhCkBAIC01MTMsNiArNTEzLDkgQEAKIAogcHJvdGVjdGVkIHZvaWQgcmVzb2x2ZUFubm90YXRp
b25zKEJsb2NrU2NvcGUgc2NvcGUpIHsKKwlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUsIEJpbmRp
bmcuVFlQRV9VU0UpOworfQorcHJvdGVjdGVkIHZvaWQgcmVzb2x2ZUFubm90YXRpb25zKEJsb2Nr
U2NvcGUgc2NvcGUsIGludCByZWNpcGllbnRLaW5kKSB7CiAJaWYgKHRoaXMuYW5ub3RhdGlvbnMg
IT0gbnVsbCkgewotCQlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUsIHRoaXMuYW5ub3RhdGlvbnMs
IG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcuVFlQRV9VU0UpKTsKKwkJcmVz
b2x2ZUFubm90YXRpb25zKHNjb3BlLCB0aGlzLmFubm90YXRpb25zLCBuZXcgQW5ub3RhdGlvbi5U
eXBlVXNlQmluZGluZyhyZWNpcGllbnRLaW5kKSk7CiAJfQogfQ==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>222191</attachid>
            <date>2012-10-11 13:39:00 -0400</date>
            <delta_ts>2012-10-11 13:39:17 -0400</delta_ts>
            <desc>Patch under consideration</desc>
            <filename>stuff.patch</filename>
            <type>text/plain</type>
            <size>19952</size>
            <attacher name="Srikanth Sankaran">srikanth_sankaran</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0dyYW1tYXJDb3ZlcmFn
ZVRlc3RzMzA4LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9HcmFtbWFyQ292
ZXJhZ2VUZXN0czMwOC5qYXZhCmluZGV4IDhlNjlkYzYuLmNlMzJlMmIgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29y
ZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0dyYW1tYXJDb3ZlcmFnZVRlc3RzMzA4LmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNl
L2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vR3JhbW1hckNvdmVyYWdlVGVzdHMz
MDguamF2YQpAQCAtODAzLDcgKzgwMywxMiBAQAogCQkJCQkifVxuIgogCQkJCX0sCiAJCQkJIi0t
LS0tLS0tLS1cbiIgKyAKLQkJCQkiMS4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDMpXG4iICsg
CisJCQkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAxKVxuIiArIAorCQkJCSIJcHVibGlj
IGNsYXNzIFg8VCBleHRlbmRzIE9iamVjdCAmIENvbXBhcmFibGU8PyBzdXBlciBATWFya2VyIFN0
cmluZz4+IHt9XG4iICsgCisJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBeXl5eXl5cbiIgKyAKKwkJCQkiTWFya2VyIGNhbm5vdCBiZSBy
ZXNvbHZlZCB0byBhIHR5cGVcbiIgKyAKKwkJCQkiLS0tLS0tLS0tLVxuIiArIAorCQkJCSIyLiBF
UlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgMylcbiIgKyAKIAkJCQkiCVpvcmsgejtcbiIgKyAKIAkJ
CQkiCV5eXl5cbiIgKyAKIAkJCQkiWm9yayBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBlXG4i
ICsgCkBAIC0xNTI3LDYgKzE1MzIsMTYgQEAKIAkJCQkiCU9iamVjdCByID0gKEBNYXJrZXIgamF2
YS4gQE1hcmtlciB1dGlsLkBNYXJrZXIgTWFwPEBNYXJrZXIgU3RyaW5nLCBATWFya2VyIFN0cmlu
Zz4uQE1hcmtlciBFbnRyeSBATWFya2VyIFtdKSBudWxsO1xuIiArIAogCQkJCSIJICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBeXl5eXl5cbiIgKyAKIAkJCQkiTWFya2VyIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVc
biIgKyAKKwkJCQkiLS0tLS0tLS0tLVxuIiArIAorCQkJCSIxNS4gRVJST1IgaW4gWC5qYXZhIChh
dCBsaW5lIDUpXG4iICsgCisJCQkJIglPYmplY3QgciA9IChATWFya2VyIGphdmEuIEBNYXJrZXIg
dXRpbC5ATWFya2VyIE1hcDxATWFya2VyIFN0cmluZywgQE1hcmtlciBTdHJpbmc+LkBNYXJrZXIg
RW50cnkgQE1hcmtlciBbXSkgbnVsbDtcbiIgKyAKKwkJCQkiCSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIF5eXl5eXlxuIiArIAorCQkJCSJNYXJrZXIgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEg
dHlwZVxuIiArIAorCQkJCSItLS0tLS0tLS0tXG4iICsgCisJCQkJIjE2LiBFUlJPUiBpbiBYLmph
dmEgKGF0IGxpbmUgNSlcbiIgKyAKKwkJCQkiCU9iamVjdCByID0gKEBNYXJrZXIgamF2YS4gQE1h
cmtlciB1dGlsLkBNYXJrZXIgTWFwPEBNYXJrZXIgU3RyaW5nLCBATWFya2VyIFN0cmluZz4uQE1h
cmtlciBFbnRyeSBATWFya2VyIFtdKSBudWxsO1xuIiArIAorCQkJCSIJICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBeXl5eXl5cbiIgKyAKKwkJCQkiTWFya2VyIGNhbm5v
dCBiZSByZXNvbHZlZCB0byBhIHR5cGVcbiIgKyAKIAkJCQkiLS0tLS0tLS0tLVxuIik7CiAJfQog
fQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21w
aWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmlu
ZGV4IDgwYzdlMjcuLjc1YmY0NjEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRl
c3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdy
ZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBlQW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMjc0
Niw0ICsyNzQ2LDc1IEBACiAJCQkJIk1hcmtlciBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBl
XG4iICsgDQogCQkJCSItLS0tLS0tLS0tXG4iKTsNCiAJfQ0KKwlwdWJsaWMgdm9pZCB0ZXN0QnVn
MzkxNDY0KCkgew0KKwkJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoDQorCQkJCW5ldyBTdHJpbmdbXXsN
CisJCQkJIlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xhc3MgWDxUPiB7XG4iICsNCisJCQkJIglw
dWJsaWMgdm9pZCBmb28oKSB7XG4iICsNCisJCQkJIgkJT2JqZWN0IG8gPSAoWCBATWFya2VyIFtd
KSBudWxsO1xuIiArDQorCQkJCSIJCW8gPSAoamF2YS5sYW5nLlN0cmluZyBATWFya2VyIFtdKSBu
dWxsO1xuIiArDQorCQkJCSIJCW8gPSAoWDxTdHJpbmc+IEBNYXJrZXIgW10pIG51bGw7XG4iICsN
CisJCQkJIgkJbyA9IChqYXZhLnV0aWwuTGlzdDxTdHJpbmc+IEBNYXJrZXIgW10pIG51bGw7XG4i
ICsNCisJCQkJIgkJaWYgKG8gPT0gbnVsbCkgcmV0dXJuO1xuIiArDQorCQkJCSIJfSIgKw0KKwkJ
CQkifVxuIn0sDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJCSIxLiBFUlJPUiBpbiBYLmph
dmEgKGF0IGxpbmUgMylcbiIgKyANCisJCQkJIglPYmplY3QgbyA9IChYIEBNYXJrZXIgW10pIG51
bGw7XG4iICsgDQorCQkJCSIJICAgICAgICAgICAgICAgXl5eXl5eXG4iICsgDQorCQkJCSJNYXJr
ZXIgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxu
IiArIA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDQpXG4iICsgDQorCQkJCSIJ
byA9IChqYXZhLmxhbmcuU3RyaW5nIEBNYXJrZXIgW10pIG51bGw7XG4iICsgDQorCQkJCSIJICAg
ICAgICAgICAgICAgICAgICAgICBeXl5eXl5cbiIgKyANCisJCQkJIk1hcmtlciBjYW5ub3QgYmUg
cmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJCSIz
LiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgNSlcbiIgKyANCisJCQkJIglvID0gKFg8U3RyaW5n
PiBATWFya2VyIFtdKSBudWxsO1xuIiArIA0KKwkJCQkiCSAgICAgICAgICAgICAgICBeXl5eXl5c
biIgKyANCisJCQkJIk1hcmtlciBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgDQor
CQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJCSI0LiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUg
NilcbiIgKyANCisJCQkJIglvID0gKGphdmEudXRpbC5MaXN0PFN0cmluZz4gQE1hcmtlciBbXSkg
bnVsbDtcbiIgKyANCisJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5eXlxu
IiArIA0KKwkJCQkiTWFya2VyIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVcbiIgKyANCisJ
CQkJIi0tLS0tLS0tLS1cbiIpOw0KKwl9CQ0KKwlwdWJsaWMgdm9pZCB0ZXN0QnVnMzkxNDY0XzIo
KSB7DQorCQl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgNCisJCQkJbmV3IFN0cmluZ1tdew0KKwkJCQki
WC5qYXZhIiwNCisJCQkJInB1YmxpYyBjbGFzcyBYICB7XG4iICsNCisJCQkJIgljbGFzcyBZIHtc
biIgKw0KKwkJCQkiCQljbGFzcyBaIHt9XG4iICsNCisJCQkJIgl9XG4iICsNCisJCQkJIglATSBY
LkBNIFkuQFVucmVwb3J0ZWQgWiB6ID0gbnVsbDtcbiIgKw0KKwkJCQkifVxuIiArDQorCQkJCSJA
amF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0IChqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50
VHlwZS5UWVBFX1VTRSlcbiIgKw0KKwkJCQkiQGludGVyZmFjZSBNIHtcbiIgKw0KKwkJCQkifVxu
IiwNCisJCQkJDQorCQkJCSJqYXZhL2xhbmcvYW5ub3RhdGlvbi9FbGVtZW50VHlwZS5qYXZhIiwN
CisJCQkJInBhY2thZ2UgamF2YS5sYW5nLmFubm90YXRpb247XG4iICsNCisJCQkJInB1YmxpYyBl
bnVtIEVsZW1lbnRUeXBlIHtcbiIgKw0KKwkJCQkiICAgIFRZUEUsXG4iICsNCisJCQkJIiAgICBG
SUVMRCxcbiIgKw0KKwkJCQkiICAgIE1FVEhPRCxcbiIgKw0KKwkJCQkiICAgIFBBUkFNRVRFUixc
biIgKw0KKwkJCQkiICAgIENPTlNUUlVDVE9SLFxuIiArDQorCQkJCSIgICAgTE9DQUxfVkFSSUFC
TEUsXG4iICsNCisJCQkJIiAgICBBTk5PVEFUSU9OX1RZUEUsXG4iICsNCisJCQkJIiAgICBQQUNL
QUdFLFxuIiArDQorCQkJCSIgICAgVFlQRV9QQVJBTUVURVIsXG4iICsNCisJCQkJIiAgICBUWVBF
X1VTRVxuIiArDQorCQkJCSJ9XG4iDQorCQkJCX0sDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQor
CQkJCSIxLiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgNSlcbiIgKyANCisJCQkJIglATSBYLkBN
IFkuQFVucmVwb3J0ZWQgWiB6ID0gbnVsbDtcbiIgKyANCisJCQkJIgkgICAgICAgICAgIF5eXl5e
Xl5eXl5cbiIgKyANCisJCQkJIlVucmVwb3J0ZWQgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlw
ZVxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIik7DQorCX0JCQ0KIH0NCmRpZmYgLS1naXQgYS9v
cmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29t
cGlsZXIvYXN0L0FTVE5vZGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQVNUTm9kZS5qYXZhCmluZGV4IDUw
NTEyMWIuLjkwZWVkYjkgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQVNUTm9kZS5qYXZhCisrKyBi
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b21waWxlci9hc3QvQVNUTm9kZS5qYXZhCkBAIC01NzYsMTQgKzU3Niw2IEBACiAJCXJldHVybiBv
dXRwdXQ7CiAJfQogCi0JcHVibGljIHN0YXRpYyB2b2lkIHJlc29sdmVBbm5vdGF0aW9ucyhCbG9j
a1Njb3BlIHNjb3BlLCBBbm5vdGF0aW9uW11bXSBzb3VyY2VBbm5vdGF0aW9ucywgQmluZGluZyBy
ZWNpcGllbnQpIHsKLQkJaW50IGFubm90YXRpb25zTGV2ZWxzID0gc291cmNlQW5ub3RhdGlvbnMg
PT0gbnVsbCA/IDAgOiBzb3VyY2VBbm5vdGF0aW9ucy5sZW5ndGg7Ci0JCWZvciAoaW50IGkgPSAw
OyBpIDwgYW5ub3RhdGlvbnNMZXZlbHM7IGkrKykgewotCQkJaWYgKHNvdXJjZUFubm90YXRpb25z
W2ldICE9IG51bGwpIHsKLQkJCQlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUsIHNvdXJjZUFubm90
YXRpb25zW2ldLCByZWNpcGllbnQpOwotCQkJfQotCQl9Ci0JfQogCS8qKgogCSAqIFJlc29sdmUg
YW5ub3RhdGlvbnMsIGFuZCBjaGVjayBkdXBsaWNhdGVzLCBhbnN3ZXJzIGNvbWJpbmVkIHRhZ0Jp
dHMKIAkgKiBmb3IgcmVjb2duaXplZCBzdGFuZGFyZCBhbm5vdGF0aW9ucwpkaWZmIC0tZ2l0IGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9BcnJheVF1YWxpZmllZFR5cGVSZWZlcmVuY2UuamF2YSBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
QXJyYXlRdWFsaWZpZWRUeXBlUmVmZXJlbmNlLmphdmEKaW5kZXggYzVhZTdjNy4uNjE0NWU3NCAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BcnJheVF1YWxpZmllZFR5cGVSZWZlcmVuY2UuamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L0FycmF5UXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhCkBAIC05Mywx
NyArOTMsNiBAQAogCiAJcHJvdGVjdGVkIFR5cGVCaW5kaW5nIGludGVybmFsUmVzb2x2ZVR5cGUo
U2NvcGUgc2NvcGUpIHsKIAkJVHlwZUJpbmRpbmcgaW50ZXJuYWxSZXNvbHZlVHlwZSA9IHN1cGVy
LmludGVybmFsUmVzb2x2ZVR5cGUoc2NvcGUpOwotCQlpZiAodGhpcy5hbm5vdGF0aW9uc09uRGlt
ZW5zaW9ucyAhPSBudWxsKSB7Ci0JCQlzd2l0Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2Nv
cGUuQkxPQ0tfU0NPUEUgOgotCQkJCWNhc2UgU2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJZm9y
IChpbnQgaSA9IDAsIG1heCA9IHRoaXMuYW5ub3RhdGlvbnNPbkRpbWVuc2lvbnMubGVuZ3RoOyBp
IDwgbWF4OyBpKyspIHsKLQkJCQkJCUFubm90YXRpb25bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9u
ID0gdGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9uc1tpXTsKLQkJCQkJCXJlc29sdmVBbm5vdGF0
aW9ucygoQmxvY2tTY29wZSkgc2NvcGUsIGFubm90YXRpb25zT25EaW1lbnNpb24sIG5ldyBBbm5v
dGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcuVFlQRV9VU0UpKTsKLQkJCQkJfQotCQkJCQli
cmVhazsKLQkJCX0KLQkJfQogCQlyZXR1cm4gaW50ZXJuYWxSZXNvbHZlVHlwZTsKIAl9CiAKQEAg
LTE4MiwxNSArMTcxLDUgQEAKIAkJCX0KIAkJfQogCQl2aXNpdG9yLmVuZFZpc2l0KHRoaXMsIHNj
b3BlKTsKLQl9Ci0KLQlwcm90ZWN0ZWQgdm9pZCByZXNvbHZlQW5ub3RhdGlvbnMoQmxvY2tTY29w
ZSBzY29wZSkgewotCQlzdXBlci5yZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUpOwotCQlpZiAodGhp
cy5hbm5vdGF0aW9uc09uRGltZW5zaW9ucyAhPSBudWxsKSB7Ci0JCQlmb3IgKGludCBpID0gMCwg
bWF4ID0gdGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9ucy5sZW5ndGg7IGkgPCBtYXg7IGkrKykg
ewotCQkJCUFubm90YXRpb25bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9uID0gdGhpcy5hbm5vdGF0
aW9uc09uRGltZW5zaW9uc1tpXTsKLQkJCQlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUsIGFubm90
YXRpb25zT25EaW1lbnNpb24sIG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcu
VFlQRV9VU0UpKTsKLQkJCX0KLQkJfQogCX0KIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQXJy
YXlUeXBlUmVmZXJlbmNlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0FycmF5VHlwZVJlZmVyZW5jZS5qYXZh
CmluZGV4IDVhOTJkOTUuLmU2Y2QzZTAgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQXJyYXlUeXBl
UmVmZXJlbmNlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BcnJheVR5cGVSZWZlcmVuY2UuamF2YQpA
QCAtMTYsNyArMTYsNiBAQAogCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuY29tcGlsZXIu
Q2hhck9wZXJhdGlvbjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIu
QVNUVmlzaXRvcjsKLWltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9v
a3VwLkJpbmRpbmc7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxv
b2t1cC5CbG9ja1Njb3BlOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxl
ci5sb29rdXAuQ2xhc3NTY29wZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29t
cGlsZXIubG9va3VwLlNjb3BlOwpAQCAtMTY1LDI2ICsxNjQsNiBAQAogCiAJcHJvdGVjdGVkIFR5
cGVCaW5kaW5nIGludGVybmFsUmVzb2x2ZVR5cGUoU2NvcGUgc2NvcGUpIHsKIAkJVHlwZUJpbmRp
bmcgaW50ZXJuYWxSZXNvbHZlVHlwZSA9IHN1cGVyLmludGVybmFsUmVzb2x2ZVR5cGUoc2NvcGUp
OwotCQlpZiAodGhpcy5hbm5vdGF0aW9uc09uRGltZW5zaW9ucyAhPSBudWxsKSB7Ci0JCQlzd2l0
Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgotCQkJCWNhc2Ug
U2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJZm9yIChpbnQgaSA9IDAsIG1heCA9IHRoaXMuYW5u
b3RhdGlvbnNPbkRpbWVuc2lvbnMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKLQkJCQkJCUFubm90
YXRpb25bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9uID0gdGhpcy5hbm5vdGF0aW9uc09uRGltZW5z
aW9uc1tpXTsKLQkJCQkJCXJlc29sdmVBbm5vdGF0aW9ucygoQmxvY2tTY29wZSkgc2NvcGUsIGFu
bm90YXRpb25zT25EaW1lbnNpb24sIG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRp
bmcuVFlQRV9VU0UpKTsKLQkJCQkJfQotCQkJCQlicmVhazsKLQkJCX0KLQkJfQogCQlyZXR1cm4g
aW50ZXJuYWxSZXNvbHZlVHlwZTsKLQl9Ci0JcHJvdGVjdGVkIHZvaWQgcmVzb2x2ZUFubm90YXRp
b25zKEJsb2NrU2NvcGUgc2NvcGUpIHsKLQkJc3VwZXIucmVzb2x2ZUFubm90YXRpb25zKHNjb3Bl
KTsKLQkJaWYgKHRoaXMuYW5ub3RhdGlvbnNPbkRpbWVuc2lvbnMgIT0gbnVsbCkgewotCQkJZm9y
IChpbnQgaSA9IDAsIG1heCA9IHRoaXMuYW5ub3RhdGlvbnNPbkRpbWVuc2lvbnMubGVuZ3RoOyBp
IDwgbWF4OyBpKyspIHsKLQkJCQlBbm5vdGF0aW9uW10gYW5ub3RhdGlvbnNPbkRpbWVuc2lvbiA9
IHRoaXMuYW5ub3RhdGlvbnNPbkRpbWVuc2lvbnNbaV07Ci0JCQkJcmVzb2x2ZUFubm90YXRpb25z
KHNjb3BlLCBhbm5vdGF0aW9uc09uRGltZW5zaW9uLCBuZXcgQW5ub3RhdGlvbi5UeXBlVXNlQmlu
ZGluZyhCaW5kaW5nLlRZUEVfVVNFKSk7Ci0JCQl9Ci0JCX0KIAl9CiB9CmRpZmYgLS1naXQgYS9v
cmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29t
cGlsZXIvYXN0L01ldGhvZERlY2xhcmF0aW9uLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9j
b21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L01ldGhvZERlY2xh
cmF0aW9uLmphdmEKaW5kZXggNGEwMWM2YS4uM2FjZmE3MCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9NZXRob2REZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvTWV0aG9kRGVjbGFyYXRp
b24uamF2YQpAQCAtMjAzLDcgKzIwMyw2IEBACiAJCQkJVHlwZVBhcmFtZXRlciB0eXBlUGFyYW1l
dGVyID0gdGhpcy50eXBlUGFyYW1ldGVyc1tpXTsKIAkJCQl0aGlzLmJpdHMgfD0gKHR5cGVQYXJh
bWV0ZXIuYml0cyAmIEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zKTsKIAkJCQl0eXBlUGFyYW1l
dGVyLnJlc29sdmUodGhpcy5zY29wZSk7Ci0JCQkJdHlwZVBhcmFtZXRlci5yZXNvbHZlQW5ub3Rh
dGlvbnModGhpcy5zY29wZSk7CiAJCQkJaWYgKHJldHVybnNVbmRlY2xUeXBlVmFyICYmIHRoaXMu
dHlwZVBhcmFtZXRlcnNbaV0uYmluZGluZyA9PSB0aGlzLnJldHVyblR5cGUucmVzb2x2ZWRUeXBl
KSB7CiAJCQkJCXJldHVybnNVbmRlY2xUeXBlVmFyID0gZmFsc2U7CiAJCQkJfQpkaWZmIC0tZ2l0
IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2FzdC9QYXJhbWV0ZXJpemVkUXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9QYXJhbWV0ZXJpemVkUXVhbGlmaWVkVHlwZVJlZmVyZW5jZS5qYXZhCmluZGV4
IGUxNDkxYmEuLjAzZTU3ZTUgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvUGFyYW1ldGVyaXplZFF1
YWxpZmllZFR5cGVSZWZlcmVuY2UuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1BhcmFtZXRlcml6ZWRR
dWFsaWZpZWRUeXBlUmVmZXJlbmNlLmphdmEKQEAgLTE1MSwxNiArMTUxLDkgQEAKIAkJCX0KIAkJ
fQogCQl0aGlzLmJpdHMgfD0gQVNUTm9kZS5EaWRSZXNvbHZlOwotCQlpZiAodGhpcy5hbm5vdGF0
aW9ucyAhPSBudWxsKSB7Ci0JCQlzd2l0Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2NvcGUu
QkxPQ0tfU0NPUEUgOgotCQkJCWNhc2UgU2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJcmVzb2x2
ZUFubm90YXRpb25zKChCbG9ja1Njb3BlKSBzY29wZSwgdGhpcy5hbm5vdGF0aW9ucywgbmV3IEFu
bm90YXRpb24uVHlwZVVzZUJpbmRpbmcoQmluZGluZy5UWVBFX1VTRSkpOwotCQkJCQlicmVhazsK
LQkJCX0KLQkJfQogCQlUeXBlQmluZGluZyB0eXBlID0gaW50ZXJuYWxSZXNvbHZlTGVhZlR5cGUo
c2NvcGUsIGNoZWNrQm91bmRzKTsKIAkJY3JlYXRlQXJyYXlUeXBlKHNjb3BlKTsKKwkJcmVzb2x2
ZUFubm90YXRpb25zKHNjb3BlKTsKIAkJcmV0dXJuIHR5cGUgPT0gbnVsbCA/IHR5cGUgOiB0aGlz
LnJlc29sdmVkVHlwZTsKIAl9CiAJcHJpdmF0ZSBUeXBlQmluZGluZyBpbnRlcm5hbFJlc29sdmVM
ZWFmVHlwZShTY29wZSBzY29wZSwgYm9vbGVhbiBjaGVja0JvdW5kcykgewpkaWZmIC0tZ2l0IGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9QYXJhbWV0ZXJpemVkU2luZ2xlVHlwZVJlZmVyZW5jZS5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2FzdC9QYXJhbWV0ZXJpemVkU2luZ2xlVHlwZVJlZmVyZW5jZS5qYXZhCmluZGV4IDcxNjMxMWUu
LmJkYjQ5ZTYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvUGFyYW1ldGVyaXplZFNpbmdsZVR5cGVS
ZWZlcmVuY2UuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1BhcmFtZXRlcml6ZWRTaW5nbGVUeXBlUmVm
ZXJlbmNlLmphdmEKQEAgLTEzMCwxNSArMTMwLDggQEAKIAkJCX0KIAkJfQogCQl0aGlzLmJpdHMg
fD0gQVNUTm9kZS5EaWRSZXNvbHZlOwotCQlpZiAodGhpcy5hbm5vdGF0aW9ucyAhPSBudWxsKSB7
Ci0JCQlzd2l0Y2goc2NvcGUua2luZCkgewotCQkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgot
CQkJCWNhc2UgU2NvcGUuTUVUSE9EX1NDT1BFIDoKLQkJCQkJcmVzb2x2ZUFubm90YXRpb25zKChC
bG9ja1Njb3BlKSBzY29wZSwgdGhpcy5hbm5vdGF0aW9ucywgbmV3IEFubm90YXRpb24uVHlwZVVz
ZUJpbmRpbmcoQmluZGluZy5UWVBFX1VTRSkpOwotCQkJCQlicmVhazsKLQkJCX0KLQkJfQogCQlU
eXBlQmluZGluZyB0eXBlID0gaW50ZXJuYWxSZXNvbHZlTGVhZlR5cGUoc2NvcGUsIGVuY2xvc2lu
Z1R5cGUsIGNoZWNrQm91bmRzKTsKKwkJcmVzb2x2ZUFubm90YXRpb25zKHNjb3BlKTsKIAkJLy8g
aGFuZGxlIHRocmVlIGRpZmZlcmVudCBvdXRjb21lczoKIAkJaWYgKHR5cGUgPT0gbnVsbCkgewog
CQkJdGhpcy5yZXNvbHZlZFR5cGUgPSBjcmVhdGVBcnJheVR5cGUoc2NvcGUsIHRoaXMucmVzb2x2
ZWRUeXBlKTsKQEAgLTI5MiwxMyArMjg1LDYgQEAKIAkJCXJldHVybiBzY29wZS5jcmVhdGVBcnJh
eVR5cGUodHlwZSwgdGhpcy5kaW1lbnNpb25zKTsKIAkJfQogCQlyZXR1cm4gdHlwZTsKLQl9Ci0J
Ci0JcHJvdGVjdGVkIHZvaWQgcmVzb2x2ZUFubm90YXRpb25zKEJsb2NrU2NvcGUgc2NvcGUpIHsK
LQkJc3VwZXIucmVzb2x2ZUFubm90YXRpb25zKHNjb3BlKTsKLQkJZm9yIChpbnQgaSA9IDAsIGxl
bmd0aCA9IHRoaXMudHlwZUFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewotCQkJ
dGhpcy50eXBlQXJndW1lbnRzW2ldLnJlc29sdmVBbm5vdGF0aW9ucyhzY29wZSk7Ci0JCX0KIAl9
CiAKIAlwdWJsaWMgU3RyaW5nQnVmZmVyIHByaW50RXhwcmVzc2lvbihpbnQgaW5kZW50LCBTdHJp
bmdCdWZmZXIgb3V0cHV0KXsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZURlY2xhcmF0aW9u
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvYXN0L1R5cGVEZWNsYXJhdGlvbi5qYXZhCmluZGV4IGZhN2RhNjguLjQw
NWE4NGQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZURlY2xhcmF0aW9uLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9UeXBlRGVjbGFyYXRpb24uamF2YQpAQCAtOTg2LDE5ICs5ODYsNiBAQAogCQl0
cnkgewogCQkJdGhpcy5zdGF0aWNJbml0aWFsaXplclNjb3BlLmluc2lkZVR5cGVBbm5vdGF0aW9u
ID0gdHJ1ZTsKIAkJCXJlc29sdmVBbm5vdGF0aW9ucyh0aGlzLnN0YXRpY0luaXRpYWxpemVyU2Nv
cGUsIHRoaXMuYW5ub3RhdGlvbnMsIHNvdXJjZVR5cGUpOwotCQkJaWYgKHRoaXMuc3VwZXJjbGFz
cyAhPSBudWxsKSB7Ci0JCQkJdGhpcy5zdXBlcmNsYXNzLnJlc29sdmVBbm5vdGF0aW9ucyh0aGlz
LnN0YXRpY0luaXRpYWxpemVyU2NvcGUpOwotCQkJfQotCQkJaWYgKHRoaXMuc3VwZXJJbnRlcmZh
Y2VzICE9IG51bGwpIHsKLQkJCQlmb3IgKGludCBpID0gMCwgbWF4ID0gdGhpcy5zdXBlckludGVy
ZmFjZXMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKLQkJCQkJdGhpcy5zdXBlckludGVyZmFjZXNb
aV0ucmVzb2x2ZUFubm90YXRpb25zKHRoaXMuc3RhdGljSW5pdGlhbGl6ZXJTY29wZSk7Ci0JCQkJ
fQotCQkJfQotCQkJaWYgKHRoaXMudHlwZVBhcmFtZXRlcnMgIT0gbnVsbCkgewotCQkJCWZvciAo
aW50IGkgPSAwLCBjb3VudCA9IHRoaXMudHlwZVBhcmFtZXRlcnMubGVuZ3RoOyBpIDwgY291bnQ7
IGkrKykgewotCQkJCQl0aGlzLnR5cGVQYXJhbWV0ZXJzW2ldLnJlc29sdmVBbm5vdGF0aW9ucyh0
aGlzLnN0YXRpY0luaXRpYWxpemVyU2NvcGUpOwotCQkJCX0KLQkJCX0KIAkJfSBmaW5hbGx5IHsK
IAkJCXRoaXMuc3RhdGljSW5pdGlhbGl6ZXJTY29wZS5pbnNpZGVUeXBlQW5ub3RhdGlvbiA9IG9s
ZDsKIAkJfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UeXBlUGFyYW1ldGVyLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvYXN0L1R5cGVQYXJhbWV0ZXIuamF2YQppbmRleCAyOWVkYWJkLi4yNDA4ODU2IDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L1R5cGVQYXJhbWV0ZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1R5cGVQ
YXJhbWV0ZXIuamF2YQpAQCAtOTEsNiArOTEsOSBAQAogCQkJCXNjb3BlLnByb2JsZW1SZXBvcnRl
cigpLnR5cGVIaWRpbmcodGhpcywgZXhpc3RpbmdUeXBlKTsKIAkJCX0KIAkJfQorCQlpZiAodGhp
cy5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUpOwor
CQl9CiAJfQogCiAJcHVibGljIHZvaWQgcmVzb2x2ZShCbG9ja1Njb3BlIHNjb3BlKSB7CkBAIC0x
MDEsMTggKzEwNCwxMSBAQAogCQlpbnRlcm5hbFJlc29sdmUoc2NvcGUsIHNjb3BlLmVuY2xvc2lu
Z1NvdXJjZVR5cGUoKS5pc1N0YXRpYygpKTsKIAl9CiAKLQlwdWJsaWMgdm9pZCByZXNvbHZlQW5u
b3RhdGlvbnMoQmxvY2tTY29wZSBzY29wZSkgewotCQlpZiAodGhpcy5hbm5vdGF0aW9ucyAhPSBu
dWxsKSB7Ci0JCQlyZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUsIHRoaXMuYW5ub3RhdGlvbnMsIG5l
dyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJpbmRpbmcuVFlQRV9QQVJBTUVURVIpKTsKLQkJ
fQotCQlpZiAodGhpcy50eXBlICE9IG51bGwpIHsKLQkJCXRoaXMudHlwZS5yZXNvbHZlQW5ub3Rh
dGlvbnMoc2NvcGUpOwotCQl9Ci0JCWlmICh0aGlzLmJvdW5kcyAhPSBudWxsKSB7Ci0JCQlmb3Ig
KGludCBpID0gMCwgbWF4ID0gdGhpcy5ib3VuZHMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKLQkJ
CQl0aGlzLmJvdW5kc1tpXS5yZXNvbHZlQW5ub3RhdGlvbnMoc2NvcGUpOwotCQkJfQotCQl9CisJ
cHVibGljIHZvaWQgcmVzb2x2ZUFubm90YXRpb25zKFNjb3BlIHNjb3BlKSB7CisJCUJsb2NrU2Nv
cGUgcmVzb2x1dGlvblNjb3BlID0gU2NvcGUudHlwZUFubm90YXRpb25zUmVzb2x1dGlvblNjb3Bl
KHNjb3BlKTsKKwkJaWYgKHJlc29sdXRpb25TY29wZSAhPSBudWxsKSB7CisJCQlyZXNvbHZlQW5u
b3RhdGlvbnMocmVzb2x1dGlvblNjb3BlLCB0aGlzLmFubm90YXRpb25zLCBuZXcgQW5ub3RhdGlv
bi5UeXBlVXNlQmluZGluZyhCaW5kaW5nLlRZUEVfUEFSQU1FVEVSKSk7CisJCX0JCiAJfQogCS8q
IChub24tSmF2YWRvYykKIAkgKiBAc2VlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxl
ci5hc3QuQXN0Tm9kZSNwcmludChpbnQsIGphdmEubGFuZy5TdHJpbmdCdWZmZXIpCmRpZmYgLS1n
aXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L1R5cGVSZWZlcmVuY2UuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZVJlZmVy
ZW5jZS5qYXZhCmluZGV4IGY4MmQyZjAuLjM2YmQ3YWIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
VHlwZVJlZmVyZW5jZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZVJlZmVyZW5jZS5qYXZhCkBA
IC00MjMsMTQgKzQyMyw3IEBACiAJCQkmJiBzY29wZS5jb21waWxlck9wdGlvbnMoKS5nZXRTZXZl
cml0eShDb21waWxlck9wdGlvbnMuUmF3VHlwZVJlZmVyZW5jZSkgIT0gUHJvYmxlbVNldmVyaXRp
ZXMuSWdub3JlKSB7CiAJCXNjb3BlLnByb2JsZW1SZXBvcnRlcigpLnJhd1R5cGVSZWZlcmVuY2Uo
dGhpcywgdHlwZSk7CiAJfQotCWlmICh0aGlzLmFubm90YXRpb25zICE9IG51bGwpIHsKLQkJc3dp
dGNoKHNjb3BlLmtpbmQpIHsKLQkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgotCQkJY2FzZSBT
Y29wZS5NRVRIT0RfU0NPUEUgOgotCQkJCXJlc29sdmVBbm5vdGF0aW9ucygoQmxvY2tTY29wZSkg
c2NvcGUsIHRoaXMuYW5ub3RhdGlvbnMsIG5ldyBBbm5vdGF0aW9uLlR5cGVVc2VCaW5kaW5nKEJp
bmRpbmcuVFlQRV9VU0UpKTsKLQkJCQlicmVhazsKLQkJfQotCX0KKwlyZXNvbHZlQW5ub3RhdGlv
bnMoc2NvcGUpOwogCiAJaWYgKGhhc0Vycm9yKSB7CiAJCS8vIGRvIG5vdCBzdG9yZSB0aGUgY29t
cHV0ZWQgdHlwZSwga2VlcCB0aGUgcHJvYmxlbSB0eXBlIGluc3RlYWQKQEAgLTQ0MSw3ICs0MzQs
OSBAQAogcHVibGljIGJvb2xlYW4gaXNUeXBlUmVmZXJlbmNlKCkgewogCXJldHVybiB0cnVlOwog
fQotCitwdWJsaWMgYm9vbGVhbiBpc1dpbGRjYXJkKCkgeworCXJldHVybiBmYWxzZTsKK30KIHB1
YmxpYyBib29sZWFuIGlzUGFyYW1ldGVyaXplZFR5cGVSZWZlcmVuY2UoKSB7CiAJcmV0dXJuIGZh
bHNlOwogfQpAQCAtNTExLDkgKzUwNiwyOSBAQAogCiBwdWJsaWMgYWJzdHJhY3Qgdm9pZCB0cmF2
ZXJzZShBU1RWaXNpdG9yIHZpc2l0b3IsIENsYXNzU2NvcGUgc2NvcGUpOwogCi1wcm90ZWN0ZWQg
dm9pZCByZXNvbHZlQW5ub3RhdGlvbnMoQmxvY2tTY29wZSBzY29wZSkgewotCWlmICh0aGlzLmFu
bm90YXRpb25zICE9IG51bGwpIHsKLQkJcmVzb2x2ZUFubm90YXRpb25zKHNjb3BlLCB0aGlzLmFu
bm90YXRpb25zLCBuZXcgQW5ub3RhdGlvbi5UeXBlVXNlQmluZGluZyhCaW5kaW5nLlRZUEVfVVNF
KSk7Citwcm90ZWN0ZWQgdm9pZCByZXNvbHZlQW5ub3RhdGlvbnMoU2NvcGUgc2NvcGUpIHsKKwlB
bm5vdGF0aW9uW11bXSBhbm5vdGF0aW9uc09uRGltZW5zaW9ucyA9IGdldEFubm90YXRpb25zT25E
aW1lbnNpb25zKCk7CisJaWYgKHRoaXMuYW5ub3RhdGlvbnMgIT0gbnVsbCB8fCBhbm5vdGF0aW9u
c09uRGltZW5zaW9ucyAhPSBudWxsKSB7CisJCUJsb2NrU2NvcGUgcmVzb2x1dGlvblNjb3BlID0g
U2NvcGUudHlwZUFubm90YXRpb25zUmVzb2x1dGlvblNjb3BlKHNjb3BlKTsKKwkJaWYgKHJlc29s
dXRpb25TY29wZSAhPSBudWxsKSB7CisJCQlpZiAodGhpcy5hbm5vdGF0aW9ucyAhPSBudWxsKSB7
CisJCQkJaW50IGFubm90YXRpb25zTGV2ZWxzID0gdGhpcy5hbm5vdGF0aW9ucy5sZW5ndGg7CisJ
CQkJZm9yIChpbnQgaSA9IDA7IGkgPCBhbm5vdGF0aW9uc0xldmVsczsgaSsrKSB7CisJCQkJCWlm
ICh0aGlzLmFubm90YXRpb25zW2ldICE9IG51bGwpIHsKKwkJCQkJCXJlc29sdmVBbm5vdGF0aW9u
cyhyZXNvbHV0aW9uU2NvcGUsIHRoaXMuYW5ub3RhdGlvbnNbaV0sIG5ldyBBbm5vdGF0aW9uLlR5
cGVVc2VCaW5kaW5nKGlzV2lsZGNhcmQoKSA/IEJpbmRpbmcuVFlQRV9QQVJBTUVURVIgOiBCaW5k
aW5nLlRZUEVfVVNFKSk7CisJCQkJCX0KKwkJCQl9CisJCQl9CisKKwkJCWlmIChhbm5vdGF0aW9u
c09uRGltZW5zaW9ucyAhPSBudWxsKSB7CisJCQkJZm9yIChpbnQgaSA9IDAsIGxlbmd0aCA9IGFu
bm90YXRpb25zT25EaW1lbnNpb25zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CisJCQkJCUFu
bm90YXRpb24gW10gZGltZW5zaW9uQW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9uc09uRGltZW5zaW9u
c1tpXTsKKwkJCQkJaWYgKGRpbWVuc2lvbkFubm90YXRpb25zICAhPSBudWxsKSB7CisJCQkJCQly
ZXNvbHZlQW5ub3RhdGlvbnMocmVzb2x1dGlvblNjb3BlLCBkaW1lbnNpb25Bbm5vdGF0aW9ucywg
bmV3IEFubm90YXRpb24uVHlwZVVzZUJpbmRpbmcoQmluZGluZy5UWVBFX1VTRSkpOworCQkJCQl9
CisJCQkJfQorCQkJfQorCQl9CiAJfQogfQogcHVibGljIGludCBnZXRBbm5vdGF0YWJsZUxldmVs
cygpIHsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvV2lsZGNhcmQuamF2YSBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
V2lsZGNhcmQuamF2YQppbmRleCBmZjRiNGRjLi4xYTBmN2RiIDEwMDY0NAotLS0gYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
YXN0L1dpbGRjYXJkLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9XaWxkY2FyZC5qYXZhCkBAIC03Mywx
OSArNzMsNiBAQAogCQlyZXR1cm4gdGhpcy5yZXNvbHZlZFR5cGUgPSB3aWxkY2FyZDsKIAl9CiAK
LQkKLQlwcml2YXRlIHZvaWQgcmVzb2x2ZUFubm90YXRpb25zKFNjb3BlIHNjb3BlKSB7Ci0JCXN3
aXRjaCAoc2NvcGUua2luZCkgewotCQkJY2FzZSBTY29wZS5NRVRIT0RfU0NPUEU6Ci0JCQljYXNl
IFNjb3BlLkJMT0NLX1NDT1BFOgotCQkJCS8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0zOTEzMTUKLQkJCQlpZiAodGhpcy5hbm5vdGF0aW9ucyAhPSBudWxs
KQotCQkJCQlyZXNvbHZlQW5ub3RhdGlvbnMoKEJsb2NrU2NvcGUpIHNjb3BlLCB0aGlzLmFubm90
YXRpb25zWzBdLCBuZXcgQW5ub3RhdGlvbi5UeXBlVXNlQmluZGluZyhCaW5kaW5nLlRZUEVfUEFS
QU1FVEVSKSk7Ci0JCQkJYnJlYWs7Ci0JCQlkZWZhdWx0OiAKLQkJCQlicmVhazsKLQkJfQotCX0K
IAlwdWJsaWMgU3RyaW5nQnVmZmVyIHByaW50RXhwcmVzc2lvbihpbnQgaW5kZW50LCBTdHJpbmdC
dWZmZXIgb3V0cHV0KXsKIAkJaWYgKHRoaXMuYW5ub3RhdGlvbnMgIT0gbnVsbCAmJiB0aGlzLmFu
bm90YXRpb25zWzBdICE9IG51bGwpIHsKIAkJCXByaW50QW5ub3RhdGlvbnModGhpcy5hbm5vdGF0
aW9uc1swXSwgb3V0cHV0KTsKQEAgLTE0OCw0ICsxMzUsNyBAQAogCQl9CiAJCXZpc2l0b3IuZW5k
VmlzaXQodGhpcywgc2NvcGUpOwogCX0KKwlwdWJsaWMgYm9vbGVhbiBpc1dpbGRjYXJkKCkgewor
CQlyZXR1cm4gdHJ1ZTsKKwl9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9j
b21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1Njb3BlLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvbG9va3VwL1Njb3BlLmphdmEKaW5kZXggM2VlMDM1NS4uZDNmNWNiZSAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TY29wZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU2Nv
cGUuamF2YQpAQCAtNDM1Miw0ICs0MzUyLDE3IEBACiAJCQl9CiAJCX0KIAl9CisJcHVibGljIHN0
YXRpYyBCbG9ja1Njb3BlIHR5cGVBbm5vdGF0aW9uc1Jlc29sdXRpb25TY29wZShTY29wZSBzY29w
ZSkgeworCQlCbG9ja1Njb3BlIHJlc29sdXRpb25TY29wZSA9IG51bGw7CisJCXN3aXRjaChzY29w
ZS5raW5kKSB7CisJCQljYXNlIFNjb3BlLkNMQVNTX1NDT1BFOgorCQkJCXJlc29sdXRpb25TY29w
ZSA9ICgoQ2xhc3NTY29wZSkgc2NvcGUpLnJlZmVyZW5jZUNvbnRleHQuc3RhdGljSW5pdGlhbGl6
ZXJTY29wZTsKKwkJCQlicmVhazsKKwkJCWNhc2UgU2NvcGUuQkxPQ0tfU0NPUEUgOgorCQkJY2Fz
ZSBTY29wZS5NRVRIT0RfU0NPUEUgOgorCQkJCXJlc29sdXRpb25TY29wZSA9IChCbG9ja1Njb3Bl
KSBzY29wZTsKKwkJCQlicmVhazsKKwkJfQorCQlyZXR1cm4gcmVzb2x1dGlvblNjb3BlOworCX0K
IH0=
</data>

          </attachment>
      

    </bug>

</bugzilla>