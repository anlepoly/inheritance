<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>424977</bug_id>
          
          <creation_ts>2014-01-06 23:24:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] ArrayIndexIndexOutOfBoundException in annotated wrong&lt;&gt; code</short_desc>
          <delta_ts>2014-02-24 18:41:03 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>418979</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Manoj Palat Away Until May 11 2015">manpalat</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>anchakrk</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="61493"
          type_id="1"
          status="?"
          setter="manpalat"
          requestee="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2346300</commentid>
    <comment_count>0</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-01-06 23:24:35 -0500</bug_when>
    <thetext>package test;
import java.lang.annotation.*;
public class X {
    test.@A Outer&lt;&gt;.@A Inner&lt;&gt; i;
 }
class Outer&lt;T&gt; {
	class Inner&lt;S&gt; {}
}
@Target (ElementType.TYPE_USE)
@interface A{}  

compilation of the above produces 

java.lang.ArrayIndexOutOfBoundsException: -2
	at org.eclipse.jdt.internal.compiler.lookup.AnnotatableTypeSystem.getAnnotatedType(AnnotatableTypeSystem.java:262)
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createAnnotatedType(LookupEnvironment.java:946)
	at org.eclipse.jdt.internal.compiler.ast.ASTNode.resolveAnnotations(ASTNode.java:944)
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveAnnotations(TypeReference.java:584)
	at org.eclipse.jdt.internal.compiler.ast.ParameterizedQualifiedTypeReference.internalResolveType(ParameterizedQualifiedTypeReference.java:176)
	at org.eclipse.jdt.internal.compiler.ast.ParameterizedQualifiedTypeReference.resolveType(ParameterizedQualifiedTypeReference.java:427)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypeFor(SourceTypeBinding.java:1695)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields(SourceTypeBinding.java:869)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods(SourceTypeBinding.java:839)
	at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes(CompilationUnitScope.java:424)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:1200)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:692)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:1186)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:812)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:544)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:537)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:480)
	at org.eclipse.jdt.ui.SharedASTProvider.getAST(SharedASTProvider.java:128)
	at org.eclipse.jdt.internal.ui.javaeditor.ClipboardOperationAction.getClipboardData(ClipboardOperationAction.java:449)
	at org.eclipse.jdt.internal.ui.javaeditor.ClipboardOperationAction.doCutCopyWithImportsOperation(ClipboardOperationAction.java:376)
	at org.eclipse.jdt.internal.ui.javaeditor.ClipboardOperationAction.internalDoOperation(ClipboardOperationAction.java:330)
	at org.eclipse.jdt.internal.ui.javaeditor.ClipboardOperationAction$1.run(ClipboardOperationAction.java:278)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
	at org.eclipse.jdt.internal.ui.javaeditor.ClipboardOperationAction.run(ClipboardOperationAction.java:276)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:499)
	at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:119)
	at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:90)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56)
	at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:243)
	at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:224)
	at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:132)
	at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:167)
	at org.eclipse.core.commands.Command.executeWithChecks(Command.java:499)
	at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508)
	at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.executeCommand(KeyBindingDispatcher.java:285)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.press(KeyBindingDispatcher.java:504)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.processKeyEvent(KeyBindingDispatcher.java:555)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.filterKeySequenceBindings(KeyBindingDispatcher.java:376)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.access$0(KeyBindingDispatcher.java:322)
	at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher$KeyDownFilter.handleEvent(KeyBindingDispatcher.java:84)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1056)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1081)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1108)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104)
	at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1525)
	at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4723)
	at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:344)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4611)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4977)
	at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2549)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997)
	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1450)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1426)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2346302</commentid>
    <comment_count>1</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-01-06 23:29:57 -0500</bug_when>
    <thetext>Ref bug 418979 comment 13 as well</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2346304</commentid>
    <comment_count>2</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-01-07 00:14:03 -0500</bug_when>
    <thetext>(In reply to Manoj Palat from comment #1)
&gt; Ref bug 418979 comment 13 as well

Once this bug is fixed, enable _testBug418979_002().</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2357951</commentid>
    <comment_count>3</comment_count>
      <attachid>239573</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-02-03 09:15:41 -0500</bug_when>
    <thetext>Created attachment 239573
Proposed Patch

In the types array, due to the compilation error in the source, a SourceTypeBinding is returned with just one element causing the array index to go negative. Fix is to return the type (without annotating), if the array index is negative.
Also, note that the comment, as per comment 2, ASTConverter18Tests#418979_002() is (corrected) and enabled in the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2358276</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-03 19:47:00 -0500</bug_when>
    <thetext>
    - Moved the test from TypeAnnotationTests to NegativeTypeAnnotationTests
where it belongs.
    - Please always include bug URL and summary above junits.


Released here: 

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=ec9bc6be749fbdfaa55a496563818e8733fd8314

Thanks Manoj.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2358277</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-03 19:47:15 -0500</bug_when>
    <thetext>Resolving.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2367921</commentid>
    <comment_count>6</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2014-02-24 18:41:03 -0500</bug_when>
    <thetext>Verified as working for Eclipse + Java 8 RC1 using Kepler SR1 + Eclipse Java Development Tools Patch for Java 8 Support (BETA) 1.0.0.v20140220-2054</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>239573</attachid>
            <date>2014-02-03 09:15:00 -0500</date>
            <delta_ts>2014-02-03 09:15:41 -0500</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-424977-18compilerArrayIndexIndexOutOfBou.patch</filename>
            <type>text/plain</type>
            <size>5497</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL1R5cGVBbm5vdGF0aW9u
VGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKaW5kZXggZjM3MTc5NS4uZTJlYTg5NCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vVHlwZUFubm90YXRpb25UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L2NvbXBpbGVyL3JlZ3Jlc3Npb24vVHlwZUFubm90YXRpb25UZXN0LmphdmEKQEAgLTEsNSArMSw1
IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDExLCAyMDEz
IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDExLCAyMDE0
IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhp
cyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZh
aWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4w
CiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJs
ZSBhdApAQCAtNjM2NCw1ICs2MzY0LDM0IEBACiAJCQkiT0siLAogCQkJY3VzdG9tT3B0aW9ucyk7
CQkKIAl9CisJcHVibGljIHZvaWQgdGVzdEJ1ZzQyNjk3NygpIHsKKwkJTWFwIGN1c3RvbU9wdGlv
bnMgPSBnZXRDb21waWxlck9wdGlvbnMoKTsKKwkJY3VzdG9tT3B0aW9ucy5wdXQoQ29tcGlsZXJP
cHRpb25zLk9QVElPTl9TdG9yZV9Bbm5vdGF0aW9ucywgQ29tcGlsZXJPcHRpb25zLkVOQUJMRUQp
OworCQlydW5OZWdhdGl2ZVRlc3QoCisJCQluZXcgU3RyaW5nW10geworCQkJCSJ0ZXN0L1guamF2
YSIsCisJCQkJInBhY2thZ2UgdGVzdDtcbiIgKworCQkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90
YXRpb24uRWxlbWVudFR5cGU7XG4iICsgCisJCQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlv
bi5UYXJnZXQ7XG4iICsgCisJCQkJIlxuIiArIAorCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsg
CisJCQkJIiAgICB0ZXN0LkBBIE91dGVyPD4uQEEgSW5uZXI8PiBpO1xuIiArIAorCQkJCSJ9XG4i
ICsKKwkJCQkiY2xhc3MgT3V0ZXI8VD4ge1xuIiArCisJCQkJIiAgICBjbGFzcyBJbm5lciB7fVxu
IiArCisJCQkJIn1cbiIgKworCQkJCSJAVGFyZ2V0KEVsZW1lbnRUeXBlLlRZUEVfVVNFKVxuIiAr
IAorCQkJCSJAaW50ZXJmYWNlIEEge31cbiIKKwkJCX0sCisJCQkiLS0tLS0tLS0tLVxuIiArIAor
CQkJIjEuIEVSUk9SIGluIHRlc3RcXFguamF2YSAoYXQgbGluZSA2KVxuIiArIAorCQkJIgl0ZXN0
LkBBIE91dGVyPD4uQEEgSW5uZXI8PiBpO1xuIiArIAorCQkJIgleXl5eXl5eXl5eXl5eXG4iICsg
CisJCQkiSW5jb3JyZWN0IG51bWJlciBvZiBhcmd1bWVudHMgZm9yIHR5cGUgT3V0ZXI8VD47IGl0
IGNhbm5vdCBiZSBwYXJhbWV0ZXJpemVkIHdpdGggYXJndW1lbnRzIDw+XG4iICsgCisJCQkiLS0t
LS0tLS0tLVxuIiwKKwkJCW51bGwsCisJCQl0cnVlLAorCQkJY3VzdG9tT3B0aW9ucyk7CisJfQog
fQogCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3Jn
L2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2RvbS9BU1RDb252ZXJ0ZXIxOFRlc3QuamF2YQppbmRleCA4MTEzMmMyLi4wMTlhMGUwIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhCisrKyBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0
cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEKQEAgLTM3NDAsMTggKzM3NDAsMTggQEAKIAl9
CiAJLyoKIAkgKiBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9
NDE4OTc5Ci0JICogaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lk
PTQyNDk3NwogCSAqLwotCXB1YmxpYyB2b2lkIF90ZXN0QnVnNDE4OTc5XzAwMigpIHRocm93cyBK
YXZhTW9kZWxFeGNlcHRpb24geworCXB1YmxpYyB2b2lkIHRlc3RCdWc0MTg5NzlfMDAyKCkgdGhy
b3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CiAJCVN0cmluZyBjb250ZW50cyA9CiAJCQkJInBhY2th
Z2UgdGVzdDtcbiIgKwogCQkJCSJpbXBvcnQgamF2YS5sYW5nLmFubm90YXRpb24uKjtcbiIgKwog
CQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKLQkJCQkiICAgIHRlc3QuQEEgT3V0ZXI8Pi5AQSBJ
bm5lcjw+IGk7XG4iICsKKwkJCQkiICAgIHRlc3QuQEEgT3V0ZXI8Qz4uQEEgSW5uZXI8Qz4gaTtc
biIgKwogCQkJCSIgfVxuIiArCiAJCQkJImNsYXNzIE91dGVyPFQ+IHtcbiIgKwogCQkJCSIJY2xh
c3MgSW5uZXI8Uz4ge31cbiIgKwogCQkJCSJ9XG4iICsKKwkJCQkiY2xhc3MgQyB7fVxuIiArCiAJ
CQkJIkBUYXJnZXQgKEVsZW1lbnRUeXBlLlRZUEVfVVNFKVxuIiArCiAJCQkJIkBpbnRlcmZhY2Ug
QXt9IjsKIAkJdGhpcy53b3JraW5nQ29weSA9IGdldFdvcmtpbmdDb3B5KCIvQ29udmVydGVyMTgv
c3JjL3Rlc3QvWC5qYXZhIiwgdHJ1ZS8qcmVzb2x2ZSovKTsKQEAgLTM3NjEsMTMgKzM3NjEsMTMg
QEAKIAkJbm9kZSA9IGdldEFTVE5vZGUoY29tcGlsYXRpb25Vbml0LCAwKTsKIAkJYXNzZXJ0RXF1
YWxzKCJOb3QgYSB0eXBlIGRlY2xhcmF0aW9uIiwgQVNUTm9kZS5UWVBFX0RFQ0xBUkFUSU9OLCBu
b2RlLmdldE5vZGVUeXBlKCkpOwogCQlGaWVsZERlY2xhcmF0aW9uIGZpZWxkID0gKChUeXBlRGVj
bGFyYXRpb24pIG5vZGUpLmdldEZpZWxkcygpWzBdOwotCQljaGVja1NvdXJjZVJhbmdlKGZpZWxk
LCAidGVzdC5AQSBPdXRlcjw+LkBBIElubmVyPD4gaSIsIGNvbnRlbnRzKTsKKwkJY2hlY2tTb3Vy
Y2VSYW5nZShmaWVsZCwgInRlc3QuQEEgT3V0ZXI8Qz4uQEEgSW5uZXI8Qz4gaTsiLCBjb250ZW50
cyk7CiAJCVBhcmFtZXRlcml6ZWRUeXBlIHBhcmFtZXRlcml6ZWRUeXBlID0gKFBhcmFtZXRlcml6
ZWRUeXBlKSBmaWVsZC5nZXRUeXBlKCk7Ci0JCWNoZWNrU291cmNlUmFuZ2UocGFyYW1ldGVyaXpl
ZFR5cGUsICJ0ZXN0LkBBIE91dGVyPD4uQEEgSW5uZXI8PiIsIGNvbnRlbnRzKTsKKwkJY2hlY2tT
b3VyY2VSYW5nZShwYXJhbWV0ZXJpemVkVHlwZSwgInRlc3QuQEEgT3V0ZXI8Qz4uQEEgSW5uZXI8
Qz4iLCBjb250ZW50cyk7CiAJCVF1YWxpZmllZFR5cGUgcXVhbGlmaWVkVHlwZSA9IChRdWFsaWZp
ZWRUeXBlKSBwYXJhbWV0ZXJpemVkVHlwZS5nZXRUeXBlKCk7Ci0JCWNoZWNrU291cmNlUmFuZ2Uo
cXVhbGlmaWVkVHlwZSwgInRlc3QuQEEgT3V0ZXI8Pi5AQSBJbm5lciIsIGNvbnRlbnRzKTsKKwkJ
Y2hlY2tTb3VyY2VSYW5nZShxdWFsaWZpZWRUeXBlLCAidGVzdC5AQSBPdXRlcjxDPi5AQSBJbm5l
ciIsIGNvbnRlbnRzKTsKIAkJcGFyYW1ldGVyaXplZFR5cGUgPSAoUGFyYW1ldGVyaXplZFR5cGUp
IHF1YWxpZmllZFR5cGUuZ2V0UXVhbGlmaWVyKCk7Ci0JCWNoZWNrU291cmNlUmFuZ2UocGFyYW1l
dGVyaXplZFR5cGUsICJ0ZXN0LkBBIE91dGVyPD4iLCBjb250ZW50cyk7CisJCWNoZWNrU291cmNl
UmFuZ2UocGFyYW1ldGVyaXplZFR5cGUsICJ0ZXN0LkBBIE91dGVyPEM+IiwgY29udGVudHMpOwog
CQlOYW1lUXVhbGlmaWVkVHlwZSBuYW1lUXVhbGlmaWVkVHlwZSA9IChOYW1lUXVhbGlmaWVkVHlw
ZSkgcGFyYW1ldGVyaXplZFR5cGUuZ2V0VHlwZSgpOwogCQljaGVja1NvdXJjZVJhbmdlKG5hbWVR
dWFsaWZpZWRUeXBlLCAidGVzdC5AQSBPdXRlciIsIGNvbnRlbnRzKTsKIAl9CmRpZmYgLS1naXQg
YS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvbG9va3VwL0Fubm90YXRhYmxlVHlwZVN5c3RlbS5qYXZhIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1
cC9Bbm5vdGF0YWJsZVR5cGVTeXN0ZW0uamF2YQppbmRleCBjMDVjMGJlLi44MTk5MDNjIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvbG9va3VwL0Fubm90YXRhYmxlVHlwZVN5c3RlbS5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9sb29rdXAvQW5ub3RhdGFibGVUeXBlU3lzdGVtLmphdmEKQEAgLTEsNSArMSw1IEBACiAv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDEzIElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDEzLCAyMDE0IElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBh
Y2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjU4
LDYgKzI1OCw4IEBACiAJCQkJfQogCQkJCWlmIChpID09IGxldmVscykgLy8gZW1wdHkgYW5ub3Rh
dGlvbnMgYXJyYXkgPyAKIAkJCQkJcmV0dXJuIHR5cGU7CisJCQkJaWYgKGogPCAwKSAvLyBjb21w
aWxhdGlvbiBlcnJvcj8KKwkJCQkJcmV0dXJuIHR5cGU7CiAJCQkJLy8gdHlwZXNbal0gaXMgdGhl
IGZpcnN0IGNvbXBvbmVudCBiZWluZyBhbm5vdGF0ZWQuIEl0cyBhbm5vdGF0aW9ucyBhcmUgYW5u
b3RhdGlvbnNbaV0KIAkJCQlmb3IgKGVuY2xvc2luZ1R5cGUgPSBqID09IDAgPyBudWxsIDogdHlw
ZXNbaiAtIDFdOyBpIDwgbGV2ZWxzOyBpKyssIGorKykgewogCQkJCQlmaW5hbCBUeXBlQmluZGlu
ZyBjdXJyZW50VHlwZSA9IHR5cGVzW2pdOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>