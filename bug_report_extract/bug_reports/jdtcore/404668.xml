<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>404668</bug_id>
          
          <creation_ts>2013-04-01 09:31:00 -0400</creation_ts>
          <short_desc>[1.8][dom ast] Incorrect output of the AST rewrite formatter for insertion of Annotations in Empty List</short_desc>
          <delta_ts>2014-02-24 14:59:59 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="shankha banerjee">shankhba</reporter>
          <assigned_to name="Markus Keller">markus_keller</assigned_to>
          <cc>anchakrk</cc>
    
    <cc>manpalat</cc>
    
    <cc>markus_keller</cc>
    
    <cc>shankhba</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2238270</commentid>
    <comment_count>0</comment_count>
      <attachid>229203</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2013-04-01 09:31:09 -0400</bug_when>
    <thetext>Created attachment 229203
Patch file where the test case is mentioned. Can be applied to ASTRewritingExpressionTest.java

Expected Output: String myString = (@Annot String) myObject;\n&quot;);
Actual Output  : String myString = ( @AnnotString) myObject</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2358507</commentid>
    <comment_count>1</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-02-04 09:18:37 -0500</bug_when>
    <thetext>Fixed with http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=cafb00c9a05a5f3d6c3b24a32fe9b4ce9e8ba449</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2367847</commentid>
    <comment_count>2</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2014-02-24 14:59:59 -0500</bug_when>
    <thetext>Verified as working for Eclipse + Java 8 RC1 using Kepler SR1 + Eclipse Java Development Tools Patch for Java 8 Support (BETA) 1.0.0.v20140220-2054</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>229203</attachid>
            <date>2013-04-01 09:31:00 -0400</date>
            <delta_ts>2013-04-01 09:31:09 -0400</delta_ts>
            <desc>Patch file where the test case is mentioned. Can be applied to ASTRewritingExpressionTest.java</desc>
            <filename>testcase.txt</filename>
            <type>text/plain</type>
            <size>2694</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvQVNUUmV3cml0aW5nRXhwcmVz
c2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3Jn
L2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmliaW5nL0FTVFJld3JpdGluZ0V4
cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IGI3MGE0NjAuLmRjNmQ0ZmMgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvQVNUUmV3cml0aW5nRXhwcmVzc2lvbnNUZXN0LmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmluZy9BU1RSZXdyaXRpbmdFeHByZXNzaW9uc1Rl
c3QuamF2YQpAQCAtMjE0MCw0ICsyMTQwLDQzIEBAIHB1YmxpYyBjbGFzcyBBU1RSZXdyaXRpbmdF
eHByZXNzaW9uc1Rlc3QgZXh0ZW5kcyBBU1RSZXdyaXRpbmdUZXN0IHsKIAogCX0KIAorCXB1Ymxp
YyB2b2lkIHRlc3RFbXB0eUxpc3RJbnNlcnRBbm5vdGF0aW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisJCWlmICh0aGlzLmFwaUxldmVsIDwgQVNULkpMUzgpIHJldHVybjsKKwkJSVBhY2thZ2VGcmFn
bWVudCBwYWNrMT0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJ0ZXN0
MSIsIGZhbHNlLCBudWxsKTsKKwkJU3RyaW5nQnVmZmVyIGJ1Zj0gbmV3IFN0cmluZ0J1ZmZlcigp
OworCQlidWYuYXBwZW5kKCJwYWNrYWdlIHRlc3QxO1xuIik7CisJCWJ1Zi5hcHBlbmQoInB1Ymxp
YyBjbGFzcyBYIHtcbiIpOworCQlidWYuYXBwZW5kKCIJU3RyaW5nIG15T2JqZWN0ID0gXCJGb29c
IjtcbiIpOworCQlidWYuYXBwZW5kKCIJcHVibGljIHZvaWQgZm9vKCkge1xuIik7CisJCWJ1Zi5h
cHBlbmQoIgkJU3RyaW5nIG15U3RyaW5nID0gKFN0cmluZykgbXlPYmplY3Q7XG4iKTsKKwkJYnVm
LmFwcGVuZCgiCX1cbiIpOworCQlidWYuYXBwZW5kKCJ9XG4iKTsKKworCQlJQ29tcGlsYXRpb25V
bml0IGN1PSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIlguamF2YSIsIGJ1Zi50b1N0cmlu
ZygpLCBmYWxzZSwgbnVsbCk7CisJCUNvbXBpbGF0aW9uVW5pdCBhc3RSb290PSBjcmVhdGVBU1Qo
Y3UpOworCQlBU1RSZXdyaXRlIHJld3JpdGU9IEFTVFJld3JpdGUuY3JlYXRlKGFzdFJvb3QuZ2V0
QVNUKCkpOworCQlBU1QgYXN0PSBhc3RSb290LmdldEFTVCgpOworCQlUeXBlRGVjbGFyYXRpb24g
dHlwZT0gZmluZFR5cGVEZWNsYXJhdGlvbihhc3RSb290LCAiWCIpOworCQlNZXRob2REZWNsYXJh
dGlvbiBtZXRob2REZWNsYXJhdGlvbj0gZmluZE1ldGhvZERlY2xhcmF0aW9uKHR5cGUsICJmb28i
KTsKKwkJTGlzdCBzdGF0ZW1lbnRzPSBtZXRob2REZWNsYXJhdGlvbi5nZXRCb2R5KCkuc3RhdGVt
ZW50cygpOworCQl7Ly9BZGQgYW4gdXNlIG9mIGFubm90YXRpb24uCisJCQlWYXJpYWJsZURlY2xh
cmF0aW9uU3RhdGVtZW50ICB2YXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50PSAoVmFyaWFibGVE
ZWNsYXJhdGlvblN0YXRlbWVudCkgc3RhdGVtZW50cy5nZXQoMCk7CisJCQlWYXJpYWJsZURlY2xh
cmF0aW9uRnJhZ21lbnQgdmFyaWFibGVEZWNsYXJhdGlvbkZyYWdtZW50PSAoVmFyaWFibGVEZWNs
YXJhdGlvbkZyYWdtZW50KSB2YXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50LmZyYWdtZW50cygp
LmdldCgwKTsKKwkJCUNhc3RFeHByZXNzaW9uIGNhc3RFeHByZXNzaW9uPSAoQ2FzdEV4cHJlc3Np
b24pIHZhcmlhYmxlRGVjbGFyYXRpb25GcmFnbWVudC5nZXRJbml0aWFsaXplcigpOworCQkJU2lt
cGxlVHlwZSBzaW1wbGVUeXBlPSAoU2ltcGxlVHlwZSkgY2FzdEV4cHJlc3Npb24uZ2V0VHlwZSgp
OworCQkJTWFya2VyQW5ub3RhdGlvbiBtYXJrZXJBbm5vdGF0aW9uPSBhc3QubmV3TWFya2VyQW5u
b3RhdGlvbigpOworCQkJbWFya2VyQW5ub3RhdGlvbi5zZXRUeXBlTmFtZShhc3QubmV3U2ltcGxl
TmFtZSgiQW5ub3QiKSk7CisJCQlyZXdyaXRlLmdldExpc3RSZXdyaXRlKHNpbXBsZVR5cGUsIFNp
bXBsZVR5cGUuQU5OT1RBVElPTlNfUFJPUEVSVFkpLmluc2VydExhc3QobWFya2VyQW5ub3RhdGlv
biwgbnVsbCk7CisJCX0KKwkJU3RyaW5nIHByZXZpZXc9IGV2YWx1YXRlUmV3cml0ZShjdSwgcmV3
cml0ZSk7CisJCWJ1Zj0gbmV3IFN0cmluZ0J1ZmZlcigpOworCQlidWYuYXBwZW5kKCJwYWNrYWdl
IHRlc3QxO1xuIik7CisJCWJ1Zi5hcHBlbmQoInB1YmxpYyBjbGFzcyBYIHtcbiIpOworCQlidWYu
YXBwZW5kKCIJU3RyaW5nIG15T2JqZWN0ID0gXCJGb29cIjtcbiIpOworCQlidWYuYXBwZW5kKCIJ
cHVibGljIHZvaWQgZm9vKCkge1xuIik7CisJCWJ1Zi5hcHBlbmQoIgkJU3RyaW5nIG15U3RyaW5n
ID0gKEBBbm5vdCBTdHJpbmcpIG15T2JqZWN0O1xuIik7Ly9BY3R1YWw6IFN0cmluZyBteVN0cmlu
ZyA9ICggQEFubm90U3RyaW5nKSBteU9iamVjdDsKKwkJYnVmLmFwcGVuZCgiCX1cbiIpOworCQli
dWYuYXBwZW5kKCJ9XG4iKTsKKwkJYXNzZXJ0RXF1YWxTdHJpbmcocHJldmlldywgYnVmLnRvU3Ry
aW5nKCkpOworCX0KIH0K
</data>

          </attachment>
      

    </bug>

</bugzilla>