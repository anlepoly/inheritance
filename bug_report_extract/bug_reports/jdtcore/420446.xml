<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>420446</bug_id>
          
          <creation_ts>2013-10-27 03:35:00 -0400</creation_ts>
          <short_desc>APT tests don&apos;t run</short_desc>
          <delta_ts>2013-10-30 03:50:08 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>APT</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M3</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dani Megert">daniel_megert</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>mistria</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2323688</commentid>
    <comment_count>0</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-10-27 03:35:05 -0400</bug_when>
    <thetext>Caused by fix for bug 416911.

Class not found &quot;org.eclipse.jdt.apt.tests.TestAll cannot be found by osgi.identity; osgi.identity=&quot;org.eclipse.jdt.apt.tests&quot;; type=&quot;osgi.bundle&quot;; version:Version=&quot;3.3.401.N20131026-1500&quot;; singleton:=&quot;true&quot;&quot;

org.eclipse.test.EclipseTestRunner$TestFailedException: Class not found &quot;org.eclipse.jdt.apt.tests.TestAll cannot be found by osgi.identity; osgi.identity=&quot;org.eclipse.jdt.apt.tests&quot;; type=&quot;osgi.bundle&quot;; version:Version=&quot;3.3.401.N20131026-1500&quot;; singleton:=&quot;true&quot;&quot;
at org.eclipse.test.EclipseTestRunner.runFailed(EclipseTestRunner.java:582)
at org.eclipse.test.EclipseTestRunner.getTest(EclipseTestRunner.java:521)
at org.eclipse.test.EclipseTestRunner.&lt;init&gt;(EclipseTestRunner.java:496)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:308)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:109)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:80)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:372)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:226)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)
at org.eclipse.equinox.launcher.Main.run(Main.java:1450)
at org.eclipse.equinox.launcher.Main.main(Main.java:1426)
at org.eclipse.core.launcher.Main.main(Main.java:34)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2323696</commentid>
    <comment_count>1</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-27 04:51:24 -0400</bug_when>
    <thetext>Mickael, I am not sure, but is this caused by the src-bundle is not being part of the project&apos;s build path? In any case, as a developer, I need them in the build path. Can you fix this as well as other warnings that appear in the org.eclipse.jdt.apt.tests project because of the recent changes to the build.properties ? Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324267</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-29 04:35:29 -0400</bug_when>
    <thetext>Mickael, we are running out of time for M3. Have you had a chance to look at it? I am looking at moving the TestAll.java back to it&apos;s old location since I can&apos;t think of any way out of this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324402</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-29 10:19:22 -0400</bug_when>
    <thetext>I have a patch here:

https://git.eclipse.org/r/#/c/17843/

And Hudson build seemed to have run alright.

Dani, can you spare some time to review this? TIA!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324510</commentid>
    <comment_count>4</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-10-29 12:00:47 -0400</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #3)
&gt; I have a patch here:
&gt; 
&gt; https://git.eclipse.org/r/#/c/17843/
&gt; 
&gt; And Hudson build seemed to have run alright.
&gt; 
&gt; Dani, can you spare some time to review this? TIA!

Done. See my comment in Gerrit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324527</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-29 12:29:19 -0400</bug_when>
    <thetext>(In reply to Dani Megert from comment #4)
&gt; Done. See my comment in Gerrit.

I didn&apos;t think I would be posting another patch set. Forgot to set change set and ended up creating a new gerrit commit here:

https://git.eclipse.org/r/#/c/17849/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324529</commentid>
    <comment_count>6</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-10-29 12:34:49 -0400</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #5)
&gt; (In reply to Dani Megert from comment #4)
&gt; &gt; Done. See my comment in Gerrit.
&gt; 
&gt; I didn&apos;t think I would be posting another patch set. Forgot to set change
&gt; set and ended up creating a new gerrit commit here:
&gt; 
&gt; https://git.eclipse.org/r/#/c/17849/

Another tweak is needed, see comment in Gerrit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324571</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-29 13:42:39 -0400</bug_when>
    <thetext>Resolved with:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=6149b608e72e01a5a50639314614fb3a93ba1916</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324714</commentid>
    <comment_count>8</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-10-29 21:24:13 -0400</bug_when>
    <thetext>Tests continue to fail. Interestingly the failure still complains about bundle version 3.3.401.v20131024-1238 missing. Should I be touching the bundle, perhaps?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2324742</commentid>
    <comment_count>9</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-10-30 03:50:00 -0400</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #8)
&gt; Tests continue to fail. Interestingly the failure still complains about
&gt; bundle version 3.3.401.v20131024-1238 missing. Should I be touching the
&gt; bundle, perhaps?

The commit did not catch the 1200 bus. In I20131029-2000 the tests run and pass again.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>