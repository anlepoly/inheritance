<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>413421</bug_id>
          
          <creation_ts>2013-07-22 05:07:00 -0400</creation_ts>
          <short_desc>BatchCompilerTest has failing tests</short_desc>
          <delta_ts>2013-07-24 04:21:07 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>test</keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>4.4 M1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dani Megert">daniel_megert</reporter>
          <assigned_to name="shankha banerjee">shankhba</assigned_to>
          <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>shankhba</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2286709</commentid>
    <comment_count>0</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-07-22 05:07:39 -0400</bug_when>
    <thetext>N20130721-2000.

http://download.eclipse.org/eclipse/downloads/drops4/N20130721-2000/testresults/html/org.eclipse.jdt.core.tests.compiler_linux.gtk.x86_6.0.html


Unexpected error output for invocation with arguments [&quot;/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java&quot; -extdirs &quot;&quot; -1.5 -g -preserveAllLocals -proceedOnError -referenceInfo -d &quot;/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression&quot; ]. ----------- Expected ------------ ----------\n 1. ERROR in ---OUTPUT_DIR_PLACEHOLDER---/X.java (at line 3)\n sun.net.spi.nameservice.dns.DNSNameService dummy;\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n sun.net.spi.nameservice.dns cannot be resolved to a type\n ----------\n 1 problem (1 error) ------------ but was ------------ ----------\n 1. ERROR in /opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java (at line 3)\n sun.net.spi.nameservice.dns.DNSNameService dummy;\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n sun.net.spi.nameservice.dns cannot be resolved to a type\n ----------\n 1 problem (1 error)\n --------- Difference is ---------- expected:&lt;...-----\n 1. ERROR in [---OUTPUT_DIR_PLACEHOLDER---/X.java (at line 3)\n sun.net.spi.nameservice.dns.DNSNameService dummy;\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n sun.net.spi.nameservice.dns cannot be resolved to a type\n ----------\n 1 problem (1 error)]&gt; but was:&lt;...-----\n 1. ERROR in [/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java (at line 3)\n sun.net.spi.nameservice.dns.DNSNameService dummy;\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n sun.net.spi.nameservice.dns cannot be resolved to a type\n ----------\n 1 problem (1 error)\n ]&gt;

junit.framework.ComparisonFailure: Unexpected error output for invocation with arguments [&quot;/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java&quot; -extdirs &quot;&quot; -1.5 -g -preserveAllLocals -proceedOnError -referenceInfo -d &quot;/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression&quot; ].
----------- Expected ------------
----------\n
1. ERROR in ---OUTPUT_DIR_PLACEHOLDER---/X.java (at line 3)\n
sun.net.spi.nameservice.dns.DNSNameService dummy;\n
^^^^^^^^^^^^^^^^^^^^^^^^^^^\n
sun.net.spi.nameservice.dns cannot be resolved to a type\n
----------\n
1 problem (1 error)
------------ but was ------------
----------\n
1. ERROR in /opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java (at line 3)\n
sun.net.spi.nameservice.dns.DNSNameService dummy;\n
^^^^^^^^^^^^^^^^^^^^^^^^^^^\n
sun.net.spi.nameservice.dns cannot be resolved to a type\n
----------\n
1 problem (1 error)\n

--------- Difference is ----------
expected:&lt;...-----\n
1. ERROR in [---OUTPUT_DIR_PLACEHOLDER---/X.java (at line 3)\n
sun.net.spi.nameservice.dns.DNSNameService dummy;\n
^^^^^^^^^^^^^^^^^^^^^^^^^^^\n
sun.net.spi.nameservice.dns cannot be resolved to a type\n
----------\n
1 problem (1 error)]&gt; but was:&lt;...-----\n
1. ERROR in [/opt/users/hudsonbuild/workspace/ep4-unit-lin64/tmp/comptest/run.1374471774974/regression/X.java (at line 3)\n
sun.net.spi.nameservice.dns.DNSNameService dummy;\n
^^^^^^^^^^^^^^^^^^^^^^^^^^^\n
sun.net.spi.nameservice.dns cannot be resolved to a type\n
----------\n
1 problem (1 error)\n
]&gt;
at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertStringEquals(TestCase.java:238)
at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertEquals(TestCase.java:214)
at org.eclipse.jdt.core.tests.compiler.regression.BatchCompilerTest.runTest(BatchCompilerTest.java:635)
at org.eclipse.jdt.core.tests.compiler.regression.BatchCompilerTest.runNegativeTest(BatchCompilerTest.java:463)
at org.eclipse.jdt.core.tests.compiler.regression.BatchCompilerTest.test024(BatchCompilerTest.java:2550)
at org.eclipse.jdt.core.tests.util.CompilerTestSetup.run(CompilerTestSetup.java:55)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:655)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:109)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:80)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:372)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:226)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)
at org.eclipse.equinox.launcher.Main.run(Main.java:1450)
at org.eclipse.equinox.launcher.Main.main(Main.java:1426)
at org.eclipse.core.launcher.Main.main(Main.java:34)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2286713</commentid>
    <comment_count>1</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-07-22 05:19:02 -0400</bug_when>
    <thetext>Manoj, please take a look at. Looks like some issue with the test as the output directory placeholder is not translated properly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287141</commentid>
    <comment_count>2</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-07-23 02:51:04 -0400</bug_when>
    <thetext>In N20130722-2000 10 BatchCompilerTest tests failed.

http://download.eclipse.org/eclipse/downloads/drops4/N20130722-2000/testresults/html/org.eclipse.jdt.core.tests.compiler_linux.gtk.x86_6.0.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287175</commentid>
    <comment_count>3</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-07-23 04:36:38 -0400</bug_when>
    <thetext>They fail on all platforms. Looks like a real regression.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287192</commentid>
    <comment_count>4</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-07-23 04:52:02 -0400</bug_when>
    <thetext>The most recent failures are in the newly added tests via commit:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e91db9a52c48c5d336d3a25efb83227251d6139c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287203</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-07-23 05:12:24 -0400</bug_when>
    <thetext>Looks like the fix for bug 408038 had to be adjusted after fix for bug 405176 got released. My bad, I should have run the tests once again before releasing the fix for former. 

Shankha, can you please add new lines to the error messages and see if the failures go away. Also take a look at the failures reported in comment #0.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287226</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-07-23 06:01:40 -0400</bug_when>
    <thetext>Tests have been fixed via commit:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=9e7e7a1f996b0899d3bb9d9b10b64136b9faaa31

Thanks Shankha and Manoj for investigating.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287661</commentid>
    <comment_count>7</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-07-23 23:19:46 -0400</bug_when>
    <thetext>(In reply to comment #6)
&gt; Tests have been fixed via commit:

Integration build clean with tests passing. Will wait for the nightly results for further verification</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287705</commentid>
    <comment_count>8</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-07-24 04:21:07 -0400</bug_when>
    <thetext>Verified in I20130723-0800 and N20130723-2000.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>