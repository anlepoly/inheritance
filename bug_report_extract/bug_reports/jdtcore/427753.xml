<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>427753</bug_id>
          
          <creation_ts>2014-02-09 08:00:00 -0500</creation_ts>
          <short_desc>[1.8] org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor should show type annotations.</short_desc>
          <delta_ts>2015-04-20 01:09:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3.1</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>NEW</bug_status>
          <resolution></resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.6</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="shankha banerjee">shankhba</assigned_to>
          <cc>andre</cc>
    
    <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>shankhba</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2360686</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-09 08:00:29 -0500</bug_when>
    <thetext>Spawned from: https://bugs.eclipse.org/bugs/show_bug.cgi?id=426616#c4

Given this program:

// --
import java.lang.annotation.*;
import static java.lang.annotation.ElementType.*;
@Retention(RetentionPolicy.RUNTIME)
@Target(TYPE_USE)
@interface Marker {}
public class X extends @Marker Object {}


this is what I see in the class file editor:

/ Compiled from X.java (version 1.8 : 52.0, super bit)
public class X {
  
  // Method descriptor #6 ()V
  // Stack: 1, Locals: 1
  public X();
    0  aload_0 [this]
    1  invokespecial java.lang.Object() [8]
    4  return
      Line numbers:
        [pc: 0, line: 6]
      Local variable table:
        [pc: 0, pc: 5] local: this index: 0 type: X

}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2360687</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-09 08:00:53 -0500</bug_when>
    <thetext>Does this actually belong in JDT/Text ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2360821</commentid>
    <comment_count>2</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2014-02-10 04:19:20 -0500</bug_when>
    <thetext>See org.eclipse.jdt.core.util.ClassFileBytesDisassembler.disassemble(byte[], String, int)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2360860</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-10 05:17:23 -0500</bug_when>
    <thetext>(In reply to Dani Megert from comment #2)
&gt; See org.eclipse.jdt.core.util.ClassFileBytesDisassembler.disassemble(byte[],
&gt; String, int)

Thanks, this is the same thing we use that already works for us - so I suspected
some customization issue at the abstraction use site.

But it turns out we are inconsistent in our handling of SE8 annotations vis a vis
SE7 annotations in DETAILED vs SYSTEM modes and all our tests use SYSTEM mode.

This would require some work as there is too much detail we print today that
would completely mess up the formatting, line breaks etc.

Don&apos;t expect to get to this before 4.4.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2385913</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-04-08 01:33:07 -0400</bug_when>
    <thetext>Looking at my list of tasks for 4.4, I doubt that I&apos;ll get to this in 4.4
time. Retargetting to 4.5. If time permits, will pull back to 4.4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2446180</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-02 00:09:27 -0400</bug_when>
    <thetext>I don&apos;t expect to get to this anytime soon, any volunteers ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2446224</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-09-02 03:28:25 -0400</bug_when>
    <thetext>I believe Shankha has worked on in this area. Assigning to him.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>