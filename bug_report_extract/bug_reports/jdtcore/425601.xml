<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>425601</bug_id>
          
          <creation_ts>2014-01-13 14:48:00 -0500</creation_ts>
          <short_desc>[dom ast] References to parameterized nested types don&apos;t have IBinding#isDeprecated() set</short_desc>
          <delta_ts>2015-04-27 08:01:41 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="64216"
          type_id="1"
          status="+"
          setter="stephan.herrmann"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2349137</commentid>
    <comment_count>0</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-01-13 14:48:22 -0500</bug_when>
    <thetext>master and BETA_JAVA8

Some references to parameterized nested types have type bindings whose IBinding#isDeprecated() wrongly returns false.

The uncommented references are OK:

@Deprecated
public class Outer&lt;O&gt; {
    @Deprecated
    public class Middle&lt;X&gt; {
        @Deprecated
        public class Inner&lt;E&gt; {
        }
    }
    
    Outer&lt;String&gt; o;
    Middle&lt;String&gt; m; // Middle should be deprecated
    Outer&lt;String&gt;.Middle&lt;String&gt; m2; // Middle should be deprecated
    Outer.Middle m3; 
    Middle&lt;String&gt;.Inner&lt;Object&gt; i; // Inner should be deprecated
}
class Ref {
    Outer&lt;String&gt; o;
    Outer&lt;String&gt;.Middle&lt;String&gt; m;
    Outer&lt;String&gt;.Middle&lt;String&gt;.Inner&lt;Object&gt; i;
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2517190</commentid>
    <comment_count>1</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-02-11 07:28:19 -0500</bug_when>
    <thetext>The deprecated modifier flag was set after the field traversal - solved by swapping the order of traversal - Fixed via commit : http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e9215020072f2df9a0b47df094d17dfa3ad95402</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2517636</commentid>
    <comment_count>2</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-02-11 22:11:17 -0500</bug_when>
    <thetext>(In reply to Manoj Palat from comment #1)
&gt; The deprecated modifier flag was set after the field traversal - solved by
&gt; swapping the order of traversal - Fixed via commit :
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=e9215020072f2df9a0b47df094d17dfa3ad95402

Though the issue is in DOM the fix is in the compiler - Fixed</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2517704</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-02-12 04:05:53 -0500</bug_when>
    <thetext>Two problems with this commit:

1. Causes some tests to fail - bug 459739
2. The commit message is not in the expected format. We usually use Fixed/Fix for bug xxxxx. By not following the format, we loose out on being able to open the bug directly from the commit in a browser.

Reopening.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2519165</commentid>
    <comment_count>4</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-02-16 03:57:40 -0500</bug_when>
    <thetext>(In reply to Jay Arthanareeswaran from comment #3)
&gt; Two problems with this commit:
&gt; 
&gt; 1. Causes some tests to fail - bug 459739
I saw one test failure and the test is corrected and committed - ref bug 459739 comment 4 for explanation and added one more test - ref bug 459739 comment 6

&gt; 2. The commit message is not in the expected format. We usually use
&gt; Fixed/Fix for bug xxxxx. By not following the format, we loose out on being
&gt; able to open the bug directly from the commit in a browser.

The commit comment was 
&quot;Fix for [Bug][425601][dom ast] References to parameterized nested types&quot;.
&quot;Fix for Bug 425601 [dom ast] References to parameterized nested types&quot;
is the expected, I believe ie the same comments sans square brackets - will update in the next commit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2519176</commentid>
    <comment_count>5</comment_count>
      <attachid>250816</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-02-16 04:30:36 -0500</bug_when>
    <thetext>Created attachment 250816
Proposed Patch - WIP

(In reply to Stephan Herrmann from bug 459739 comment #6)
&gt; 
&gt; Given that order of traversal is a very delicate issue, could you please
&gt; explain in the other bug, which exact events (code-wise) happened in the
&gt; wrong order, and why the new order is safe? Couldn&apos;t we invent a test case
&gt; that needs the opposite order, perhaps s.t. in Inner referring to a
&gt; deprecated field of the outer?

The deprecated flag was set while traversing the inner types. Since the fields() method traverses the fields of the outer type before traversing the inner types, the binding did not have this flag set. As mentioned, since the order of traversal is a very delicate issue, this patch proposes an alternate keeping the order of traversal the same as the original. An initial annotation processing traversal is done for the inner types before the fields() method which would set the deprecated field.
Stephan: Could you please take a look at the patch?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2519189</commentid>
    <comment_count>6</comment_count>
      <attachid>250818</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-02-16 04:45:07 -0500</bug_when>
    <thetext>Created attachment 250818
Proposed Patch - WIP

(In reply to Manoj Palat from comment #5)
&gt; Created attachment 250816 [details]
Adding the relevant (correct) attachment</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2526506</commentid>
    <comment_count>7</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-03-04 07:11:29 -0500</bug_when>
    <thetext>The fix reverted. Will apply the proposed patch post M6 and review. moving to M7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2526510</commentid>
    <comment_count>8</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-03-04 07:25:35 -0500</bug_when>
    <thetext>(In reply to Manoj Palat from comment #7)
&gt; The fix reverted. Will apply the proposed patch post M6 and review. moving
&gt; to M7.

Note: enable the tests and also take care of the issue reported in bug 459739</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2526511</commentid>
    <comment_count>9</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-03-04 07:27:31 -0500</bug_when>
    <thetext>(In reply to Manoj Palat from comment #7)
&gt; The fix reverted. Will apply the proposed patch post M6 and review. moving
&gt; to M7.
reverted via 
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=a9fe2cd6834c8a9a5d61e3b4f5b4753a1e8c9994</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2541434</commentid>
    <comment_count>10</comment_count>
      <attachid>252125</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-04-02 07:04:39 -0400</bug_when>
    <thetext>Created attachment 252125
Proposed Fix

Patch made current to the latest ToT with the tests enabled.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2542541</commentid>
    <comment_count>11</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-04-06 12:39:06 -0400</bug_when>
    <thetext>(In reply to Manoj Palat from comment #10)
&gt; Created attachment 252125 [details]
&gt; Proposed Fix
&gt; 
&gt; Patch made current to the latest ToT with the tests enabled.

I finally looked at the patch, and, yes, it looks much better this way.

I was pondering about the necessity of the new flag deprecatedProcessingDone.
I guess one reason for wanting this was in the recursive call to faultInTypesForFieldsAndMethods (for memberTypes[i]), which shouldn&apos;t check annotations again.

I&apos;d suggest to slightly change the code structure to better reflect intention:

Extract &quot;fields();&quot;, &quot;methods();&quot; and the memberTypes traversal into their own method, say, &quot;internalFaultIntypesForFieldsAndMethods()&quot;, and change the recursive call to use this new method.
This would cleanly separate the two traversals: one for checking annotations and one for the rest. With a bit of reasoning it might be possible now, to convince ourselves that the flag deprecatedProcessingDone is no longer necessary, because by construction checkDeprecatedInTypes() should be called only once (please validate).

Alternatively, if we feel safer keeping the flag, please check if we can spare a new TagBit for this.

Finally, the name checkDeprecatedInTypes() is a bit of an understatement, since we are in fact doing work for other annotations as well (as the effect on null annotations demonstrates).


I&apos;ll leave these considerations up to you, the general direction looks good to me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2542844</commentid>
    <comment_count>12</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-04-07 07:21:40 -0400</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #11)
&gt; I finally looked at the patch, and, yes, it looks much better this way.
&gt;... 
&gt; I&apos;ll leave these considerations up to you, the general direction looks good
&gt; to me.


Thanks for the review, Stephan. The review comments have been incorporated and the fix done via commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=290693fab6c14fd3b3082c184001228213a11167</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2543879</commentid>
    <comment_count>13</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-04-09 00:07:06 -0400</bug_when>
    <thetext>(In reply to Manoj Palat from comment #12)
&gt; (In reply to Stephan Herrmann from comment #11)
&gt; &gt; I finally looked at the patch, and, yes, it looks much better this way.
&gt; &gt;... 
&gt; &gt; I&apos;ll leave these considerations up to you, the general direction looks good
&gt; &gt; to me.
&gt; 
&gt; 
&gt; Thanks for the review, Stephan. The review comments have been incorporated
&gt; and the fix done via commit:
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=290693fab6c14fd3b3082c184001228213a11167

Resolved</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2552164</commentid>
    <comment_count>14</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-04-27 08:01:41 -0400</bug_when>
    <thetext>Verified for M7 using I20150426-2000 build</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>250816</attachid>
            <date>2015-02-16 04:30:00 -0500</date>
            <delta_ts>2015-02-16 04:45:07 -0500</delta_ts>
            <desc>Proposed Patch - WIP</desc>
            <filename>425601wip.patch</filename>
            <type>text/plain</type>
            <size>2520</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
ZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhCmluZGV4IGYzZGZhN2MuLmI5NzVlY2MgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Rv
bS9BU1RDb252ZXJ0ZXIxOFRlc3QuamF2YQpAQCAtNDUsNyArNDUsNyBAQAogCXN0YXRpYyB7CiAv
LwkJVEVTVFNfTlVNQkVSUyA9IG5ldyBpbnRbXSB7IDE5IH07CiAvLwkJVEVTVFNfUkFOR0UgPSBu
ZXcgaW50W10geyAxLCAtMSB9OwotLy8JCVRFU1RTX05BTUVTID0gbmV3IFN0cmluZ1tdIHsidGVz
dDAwMDEifTsKKwkJVEVTVFNfTkFNRVMgPSBuZXcgU3RyaW5nW10geyJ0ZXN0QnVnNDI1NjAxXzAw
MSJ9OwogCX0KIAlwdWJsaWMgc3RhdGljIFRlc3Qgc3VpdGUoKSB7CiAJCXJldHVybiBidWlsZE1v
ZGVsVGVzdFN1aXRlKEFTVENvbnZlcnRlcjE4VGVzdC5jbGFzcyk7CkBAIC00OTM2LDQgKzQ5MzYs
NDggQEAKIAkJYXNzZXJ0VHJ1ZSgiVGVzdCBGYWlsZWQiLCBmYWxzZSk7CiAJfQogfQorLyoqCisg
KiBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzk5NzkzCisg
KiAKKyAqIEB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uCisgKi8KK3B1YmxpYyB2b2lkIHRlc3RC
dWc0MjU2MDFfMDAxKCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJdGhpcy53b3JraW5n
Q29weSA9IGdldFdvcmtpbmdDb3B5KCIvQ29udmVydGVyMTgvc3JjL3Rlc3RCdWc0MjU2MDFfMDAx
L091dGVyLmphdmEiLAorCQkJdHJ1ZS8qIHJlc29sdmUgKi8pOworCVN0cmluZyBjb250ZW50cyA9
ICJwYWNrYWdlIHRlc3RCdWc0MjU2MDFfMDAxO1xuIiArCisvLwkJCSJARGVwcmVjYXRlZFxuIisK
KwkJCSJwdWJsaWMgY2xhc3MgT3V0ZXI8Tz4ge1xuIisKKwkJCSIgICAgQERlcHJlY2F0ZWRcbiIr
CisJCQkiICAgIHB1YmxpYyBjbGFzcyBNaWRkbGU8WD4ge1xuIisKKwkJCSIgICAgICAgIEBEZXBy
ZWNhdGVkXG4iKworCQkJIiAgICAgICAgcHVibGljIGNsYXNzIElubmVyPEU+IHtcbiIrCisJCQki
ICAgICAgICB9XG4iKworCQkJIiAgICB9XG4iKworCQkJIiAgICBcbiIrCisJCQkiICAgIE91dGVy
PFN0cmluZz4gbztcbiIrCisJCQkiICAgIE1pZGRsZTxTdHJpbmc+IG07IC8vIE1pZGRsZSBzaG91
bGQgYmUgZGVwcmVjYXRlZFxuIisKKwkJCSIgICAgT3V0ZXI8U3RyaW5nPi5NaWRkbGU8U3RyaW5n
PiBtMjsgLy8gTWlkZGxlIHNob3VsZCBiZSBkZXByZWNhdGVkXG4iKworCQkJIiAgICBAU3VwcHJl
c3NXYXJuaW5ncyhcInJhd3R5cGVzXCIpIisKKwkJCSIgICAgT3V0ZXIuTWlkZGxlIG0zOyBcbiIr
CisJCQkiICAgIE1pZGRsZTxTdHJpbmc+LklubmVyPE9iamVjdD4gaTsgLy8gSW5uZXIgc2hvdWxk
IGJlIGRlcHJlY2F0ZWRcbiIrCisJCQkifVxuIisKKwkJCSJjbGFzcyBSZWYge1xuIisKKwkJCSIg
ICAgT3V0ZXI8U3RyaW5nPiBvO1xuIisKKwkJCSIgICAgT3V0ZXI8U3RyaW5nPi5NaWRkbGU8U3Ry
aW5nPiBtO1xuIisKKwkJCSIgICAgT3V0ZXI8U3RyaW5nPi5NaWRkbGU8U3RyaW5nPi5Jbm5lcjxP
YmplY3Q+IGk7XG4iKworCQkJIn1cbiI7CisJQ29tcGlsYXRpb25Vbml0IGN1ID0gKENvbXBpbGF0
aW9uVW5pdCkgYnVpbGRBU1QoY29udGVudHMsIHRoaXMud29ya2luZ0NvcHkpOworCVR5cGVEZWNs
YXJhdGlvbiB0eXBlZGVjbGFyYXRpb24gPSAoVHlwZURlY2xhcmF0aW9uKSBnZXRBU1ROb2RlKGN1
LCAwKTsKKwlGaWVsZERlY2xhcmF0aW9uW10gZmllbGRzID0gdHlwZWRlY2xhcmF0aW9uLmdldEZp
ZWxkcygpOworCUlUeXBlQmluZGluZyBiaW5kaW5nID0gZmllbGRzWzBdLmdldFR5cGUoKS5yZXNv
bHZlQmluZGluZygpOworLy8JYXNzZXJ0VHJ1ZShiaW5kaW5nLmlzRGVwcmVjYXRlZCgpKTsKKwli
aW5kaW5nID0gZmllbGRzWzNdLmdldFR5cGUoKS5yZXNvbHZlQmluZGluZygpOworCWFzc2VydFRy
dWUoYmluZGluZy5pc0RlcHJlY2F0ZWQoKSk7CisJYmluZGluZyA9IGZpZWxkc1sxXS5nZXRUeXBl
KCkucmVzb2x2ZUJpbmRpbmcoKTsKKwlhc3NlcnRUcnVlKGJpbmRpbmcuaXNEZXByZWNhdGVkKCkp
OworCWJpbmRpbmcgPSBmaWVsZHNbMl0uZ2V0VHlwZSgpLnJlc29sdmVCaW5kaW5nKCk7CisJYXNz
ZXJ0VHJ1ZShiaW5kaW5nLmlzRGVwcmVjYXRlZCgpKTsKKwliaW5kaW5nID0gZmllbGRzWzRdLmdl
dFR5cGUoKS5yZXNvbHZlQmluZGluZygpOworCWFzc2VydFRydWUoYmluZGluZy5pc0RlcHJlY2F0
ZWQoKSk7Cit9CiB9
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>250818</attachid>
            <date>2015-02-16 04:45:00 -0500</date>
            <delta_ts>2015-04-02 07:04:39 -0400</delta_ts>
            <desc>Proposed Patch - WIP</desc>
            <filename>425601alternatewip.patch</filename>
            <type>text/plain</type>
            <size>1975</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQppbmRleCBhNmEzOGIzLi45OWU1NjZmIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEKKysrIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCkBAIC05OSw2ICs5OSw4IEBACiAJcHJp
dmF0ZSBpbnQgbGFtYmRhT3JkaW5hbCA9IDA7CiAJcHJpdmF0ZSBSZWZlcmVuY2VCaW5kaW5nIGNv
bnRhaW5lckFubm90YXRpb25UeXBlID0gbnVsbDsKIAkKKwlwcml2YXRlIGJvb2xlYW4gZGVwcmVj
YXRlZFByb2Nlc3NpbmdEb25lID0gZmFsc2U7CisJCiBwdWJsaWMgU291cmNlVHlwZUJpbmRpbmco
Y2hhcltdW10gY29tcG91bmROYW1lLCBQYWNrYWdlQmluZGluZyBmUGFja2FnZSwgQ2xhc3NTY29w
ZSBzY29wZSkgewogCXRoaXMuY29tcG91bmROYW1lID0gY29tcG91bmROYW1lOwogCXRoaXMuZlBh
Y2thZ2UgPSBmUGFja2FnZTsKQEAgLTg0NSwxOCArODQ3LDI4IEBACiAJcmV0dXJuIHVuaXF1ZUtl
eTsKIH0KIAotdm9pZCBmYXVsdEluVHlwZXNGb3JGaWVsZHNBbmRNZXRob2RzKCkgewotCWlmICgh
aXNQcm90b3R5cGUoKSkgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOwordm9pZCBj
aGVja0RlcHJlY2F0ZWRJblR5cGVzKCkgeworCWlmICh0aGlzLmRlcHJlY2F0ZWRQcm9jZXNzaW5n
RG9uZSkgcmV0dXJuOworCXRoaXMuZGVwcmVjYXRlZFByb2Nlc3NpbmdEb25lID0gdHJ1ZTsKIAkv
LyBjaGVjayBARGVwcmVjYXRlZCBhbm5vdGF0aW9uCiAJZ2V0QW5ub3RhdGlvblRhZ0JpdHMoKTsg
Ly8gbWFya3MgYXMgZGVwcmVjYXRlZCBieSBzaWRlIGVmZmVjdAogCVJlZmVyZW5jZUJpbmRpbmcg
ZW5jbG9zaW5nVHlwZSA9IGVuY2xvc2luZ1R5cGUoKTsKIAlpZiAoZW5jbG9zaW5nVHlwZSAhPSBu
dWxsICYmIGVuY2xvc2luZ1R5cGUuaXNWaWV3ZWRBc0RlcHJlY2F0ZWQoKSAmJiAhaXNEZXByZWNh
dGVkKCkpCiAJCXRoaXMubW9kaWZpZXJzIHw9IEV4dHJhQ29tcGlsZXJNb2RpZmllcnMuQWNjRGVw
cmVjYXRlZEltcGxpY2l0bHk7Ci0KIAlmb3IgKGludCBpID0gMCwgbGVuZ3RoID0gdGhpcy5tZW1i
ZXJUeXBlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKLQkJKChTb3VyY2VUeXBlQmluZGluZykg
dGhpcy5tZW1iZXJUeXBlc1tpXSkuZmF1bHRJblR5cGVzRm9yRmllbGRzQW5kTWV0aG9kcygpOwor
CQkoKFNvdXJjZVR5cGVCaW5kaW5nKSB0aGlzLm1lbWJlclR5cGVzW2ldKS5jaGVja0RlcHJlY2F0
ZWRJblR5cGVzKCk7CisKK30KKwordm9pZCBmYXVsdEluVHlwZXNGb3JGaWVsZHNBbmRNZXRob2Rz
KCkgeworCWlmICghaXNQcm90b3R5cGUoKSkgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlv
bigpOworCisJY2hlY2tEZXByZWNhdGVkSW5UeXBlcygpOworCQogCWZpZWxkcygpOwogCW1ldGhv
ZHMoKTsKKwlmb3IgKGludCBpID0gMCwgbGVuZ3RoID0gdGhpcy5tZW1iZXJUeXBlcy5sZW5ndGg7
IGkgPCBsZW5ndGg7IGkrKykKKwkJKChTb3VyY2VUeXBlQmluZGluZykgdGhpcy5tZW1iZXJUeXBl
c1tpXSkuZmF1bHRJblR5cGVzRm9yRmllbGRzQW5kTWV0aG9kcygpOwogfQogLy8gTk9URTogdGhl
IHR5cGUgb2YgZWFjaCBmaWVsZCBvZiBhIHNvdXJjZSB0eXBlIGlzIHJlc29sdmVkIHdoZW4gbmVl
ZGVkCiBwdWJsaWMgRmllbGRCaW5kaW5nW10gZmllbGRzKCkgew==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>252125</attachid>
            <date>2015-04-02 07:04:00 -0400</date>
            <delta_ts>2015-04-02 07:04:39 -0400</delta_ts>
            <desc>Proposed Fix</desc>
            <filename>Fix-for-Bug-425601-dom-ast-References-to-parameteriz.patch</filename>
            <type>text/plain</type>
            <size>4330</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL051bGxUeXBlQW5ub3Rh
dGlvblRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9v
cmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL051bGxUeXBlQW5u
b3RhdGlvblRlc3QuamF2YQppbmRleCBkOWY0ZGU1Li40YjgzYTdmIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUv
dGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OdWxsVHlwZUFubm90YXRpb25UZXN0LmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTnVsbFR5cGVBbm5vdGF0aW9uVGVzdC5q
YXZhCkBAIC00ODYwLDcgKzQ4NjAsMTIgQEAKIAkJIgkgICAgICAgXl5eXlxuIiArIAogCQkiTnVs
bCB0eXBlIG1pc21hdGNoOiByZXF1aXJlZCBcJ0BOb25OdWxsIFRcJyBidXQgdGhlIHByb3ZpZGVk
IHZhbHVlIGlzIG51bGxcbiIgKyAKIAkJIi0tLS0tLS0tLS1cbiIgKyAKLQkJIjIuIEVSUk9SIGlu
IFguamF2YSAoYXQgbGluZSAxMSlcbiIgKyAKKwkJIjIuIEVSUk9SIGluIFguamF2YSAoYXQgbGlu
ZSAxMClcbiIgKyAKKwkJIgl2b2lkIHRlc3QoSW5uZXI8TnVtYmVyPiBpbnVtKSB7XG4iICsgCisJ
CSIJICAgICAgICAgICAgICAgIF5eXl5eXlxuIiArIAorCQkiTnVsbCBjb25zdHJhaW50IG1pc21h
dGNoOiBUaGUgdHlwZSBcJ051bWJlclwnIGlzIG5vdCBhIHZhbGlkIHN1YnN0aXR1dGUgZm9yIHRo
ZSB0eXBlIHBhcmFtZXRlciBcJ0BOb25OdWxsIFRcJ1xuIiArIAorCQkiLS0tLS0tLS0tLVxuIiAr
IAorCQkiMy4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDExKVxuIiArIAogCQkiCUBOb25OdWxs
IE51bWJlciBubm4gPSBpbnVtLnByb2Nlc3MobnVsbCk7IC8vIEVSUiBvbiBhcmd1bWVudFxuIiAr
IAogCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXl5eXlxuIiArIAogCQki
TnVsbCB0eXBlIG1pc21hdGNoOiByZXF1aXJlZCBcJ0BOb25OdWxsIE51bWJlclwnIGJ1dCB0aGUg
cHJvdmlkZWQgdmFsdWUgaXMgbnVsbFxuIiArIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RD
b252ZXJ0ZXIxOFRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3Ny
Yy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEK
aW5kZXggOWQ0YmQ2OS4uZmFjYmJlNSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0
ZXIxOFRlc3QuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhCkBA
IC00OTM4LDcgKzQ5MzgsNyBAQAogICogCiAgKiBAdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbgog
ICovCi1wdWJsaWMgdm9pZCBfdGVzdEJ1ZzQyNTYwMV8wMDEoKSB0aHJvd3MgSmF2YU1vZGVsRXhj
ZXB0aW9uIHsKK3B1YmxpYyB2b2lkIHRlc3RCdWc0MjU2MDFfMDAxKCkgdGhyb3dzIEphdmFNb2Rl
bEV4Y2VwdGlvbiB7CiAJdGhpcy53b3JraW5nQ29weSA9IGdldFdvcmtpbmdDb3B5KCIvQ29udmVy
dGVyMTgvc3JjL3Rlc3RCdWc0MjU2MDFfMDAxL091dGVyLmphdmEiLAogCQkJdHJ1ZS8qIHJlc29s
dmUgKi8pOwogCVN0cmluZyBjb250ZW50cyA9ICJwYWNrYWdlIHRlc3RCdWc0MjU2MDFfMDAxO1xu
IiArCkBAIC00OTgzLDcgKzQ5ODMsNyBAQAogICogCiAgKiBAdGhyb3dzIEphdmFNb2RlbEV4Y2Vw
dGlvbgogICovCi1wdWJsaWMgdm9pZCBfdGVzdEJ1ZzQyNTYwMV8wMDIoKSB0aHJvd3MgSmF2YU1v
ZGVsRXhjZXB0aW9uIHsKK3B1YmxpYyB2b2lkIHRlc3RCdWc0MjU2MDFfMDAyKCkgdGhyb3dzIEph
dmFNb2RlbEV4Y2VwdGlvbiB7CiAJdGhpcy53b3JraW5nQ29weSA9IGdldFdvcmtpbmdDb3B5KCIv
Q29udmVydGVyMTgvc3JjL3Rlc3RCdWc0MjU2MDFfMDAyL091dGVyLmphdmEiLAogCQkJdHJ1ZS8q
IHJlc29sdmUgKi8pOwogCVN0cmluZyBjb250ZW50cyA9ICJwYWNrYWdlIHRlc3RCdWc0MjU2MDFf
MDAyO1xuIiArCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEKaW5kZXggNzQ5ODM3Zi4u
Y2FjY2UwYSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQpAQCAtOTksNyArOTks
OCBAQAogCXByaXZhdGUgaW50IG51bGxuZXNzRGVmYXVsdEluaXRpYWxpemVkID0gMDsgLy8gMDog
bm90aGluZzsgMTogdHlwZTsgMjogcGFja2FnZQogCXByaXZhdGUgaW50IGxhbWJkYU9yZGluYWwg
PSAwOwogCXByaXZhdGUgUmVmZXJlbmNlQmluZGluZyBjb250YWluZXJBbm5vdGF0aW9uVHlwZSA9
IG51bGw7Ci0JCisJcHJpdmF0ZSBib29sZWFuIGRlcHJlY2F0ZWRQcm9jZXNzaW5nRG9uZSA9IGZh
bHNlOworCiBwdWJsaWMgU291cmNlVHlwZUJpbmRpbmcoY2hhcltdW10gY29tcG91bmROYW1lLCBQ
YWNrYWdlQmluZGluZyBmUGFja2FnZSwgQ2xhc3NTY29wZSBzY29wZSkgewogCXRoaXMuY29tcG91
bmROYW1lID0gY29tcG91bmROYW1lOwogCXRoaXMuZlBhY2thZ2UgPSBmUGFja2FnZTsKQEAgLTg0
NiwxOSArODQ3LDI5IEBACiAJcmV0dXJuIHVuaXF1ZUtleTsKIH0KIAotdm9pZCBmYXVsdEluVHlw
ZXNGb3JGaWVsZHNBbmRNZXRob2RzKCkgewotCWlmICghaXNQcm90b3R5cGUoKSkgdGhyb3cgbmV3
IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpOworcHJpdmF0ZSB2b2lkIGNoZWNrRGVwcmVjYXRlZElu
VHlwZXMoKSB7CisJaWYgKHRoaXMuZGVwcmVjYXRlZFByb2Nlc3NpbmdEb25lKSByZXR1cm47CisJ
dGhpcy5kZXByZWNhdGVkUHJvY2Vzc2luZ0RvbmUgPSB0cnVlOwogCS8vIGNoZWNrIEBEZXByZWNh
dGVkIGFubm90YXRpb24KIAlnZXRBbm5vdGF0aW9uVGFnQml0cygpOyAvLyBtYXJrcyBhcyBkZXBy
ZWNhdGVkIGJ5IHNpZGUgZWZmZWN0CiAJUmVmZXJlbmNlQmluZGluZyBlbmNsb3NpbmdUeXBlID0g
ZW5jbG9zaW5nVHlwZSgpOwogCWlmIChlbmNsb3NpbmdUeXBlICE9IG51bGwgJiYgZW5jbG9zaW5n
VHlwZS5pc1ZpZXdlZEFzRGVwcmVjYXRlZCgpICYmICFpc0RlcHJlY2F0ZWQoKSkKIAkJdGhpcy5t
b2RpZmllcnMgfD0gRXh0cmFDb21waWxlck1vZGlmaWVycy5BY2NEZXByZWNhdGVkSW1wbGljaXRs
eTsKKworCWZvciAoaW50IGkgPSAwLCBsZW5ndGggPSB0aGlzLm1lbWJlclR5cGVzLmxlbmd0aDsg
aSA8IGxlbmd0aDsgaSsrKQorCQkoKFNvdXJjZVR5cGVCaW5kaW5nKSB0aGlzLm1lbWJlclR5cGVz
W2ldKS5jaGVja0RlcHJlY2F0ZWRJblR5cGVzKCk7Cit9CisKK3ZvaWQgZmF1bHRJblR5cGVzRm9y
RmllbGRzQW5kTWV0aG9kcygpIHsKKwlpZiAoIWlzUHJvdG90eXBlKCkpIHRocm93IG5ldyBJbGxl
Z2FsU3RhdGVFeGNlcHRpb24oKTsKKwljaGVja0RlcHJlY2F0ZWRJblR5cGVzKCk7CiAJZmllbGRz
KCk7CiAJbWV0aG9kcygpOwogCiAJZm9yIChpbnQgaSA9IDAsIGxlbmd0aCA9IHRoaXMubWVtYmVy
VHlwZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspCiAJCSgoU291cmNlVHlwZUJpbmRpbmcpIHRo
aXMubWVtYmVyVHlwZXNbaV0pLmZhdWx0SW5UeXBlc0ZvckZpZWxkc0FuZE1ldGhvZHMoKTsKIH0K
KwogLy8gTk9URTogdGhlIHR5cGUgb2YgZWFjaCBmaWVsZCBvZiBhIHNvdXJjZSB0eXBlIGlzIHJl
c29sdmVkIHdoZW4gbmVlZGVkCiBwdWJsaWMgRmllbGRCaW5kaW5nW10gZmllbGRzKCkgewogCQ==
</data>

          </attachment>
      

    </bug>

</bugzilla>