<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>405250</bug_id>
          
          <creation_ts>2013-04-09 05:13:00 -0400</creation_ts>
          <short_desc>[1.8][code assist] Annotations getting suggested at import statements</short_desc>
          <delta_ts>2013-11-30 19:57:03 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>402079</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="ANIRBAN CHAKRABORTY">anchakrk</reporter>
          <assigned_to name="ANIRBAN CHAKRABORTY">anchakrk</assigned_to>
          <cc>anchakrk</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="58672"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2241321</commentid>
    <comment_count>0</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-04-09 05:13:30 -0400</bug_when>
    <thetext>import java.util.@&lt;ctrl-space&gt;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2245814</commentid>
    <comment_count>1</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-04-19 02:53:42 -0400</bug_when>
    <thetext>Hello,
I&apos;ll be working on this.
Thanks
Anirban</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2270289</commentid>
    <comment_count>2</comment_count>
      <attachid>232144</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-06-09 11:40:56 -0400</bug_when>
    <thetext>Created attachment 232144
Patch for the fix

Patch for the fix</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2273707</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-06-18 02:15:38 -0400</bug_when>
    <thetext>Here are the review comments:

1. I would remove the test testBug405250a and the associated code in
RecoveredUnit. That test is testing a totally broken scenario and I am
comfortable if we suggest some proposals that are out of line in that
scenario. Adding code to prevent illegitimate proposals in broken
scenarios is a project that would not scale well.

2. Please follow project indentation guidelines/prior usage. Space after
while and if is needed for example.

3. Is K_IMPORT_DELIMITER better named K_INSIDE_IMPORT_STATEMENT ? (like
K_INSIDE_THROW_STATEMENT ? 

4. isInImportSpecification - is it better named isInImportStatement ?

5. I don&apos;t think consumeSingleTypeImportDeclarationName is the best place
to pop K_IMPORT_DELIMITER/K_INSIDE_IMPORT_STATEMENT - there are 4 types of
import statement and only one is covered by consumeSingleTypeImportDeclarationName.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2275247</commentid>
    <comment_count>4</comment_count>
      <attachid>232622</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-06-20 16:41:37 -0400</bug_when>
    <thetext>Created attachment 232622
Patch after accommodating the review comments

Patch after accommodating the review comments</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2276101</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-06-24 04:52:40 -0400</bug_when>
    <thetext>Patch looks good. Released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=2385c0aeda6d8b742ca24edae81655117601babd.

Thanks Anirban.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>232144</attachid>
            <date>2013-06-09 11:40:00 -0400</date>
            <delta_ts>2013-06-20 16:41:37 -0400</delta_ts>
            <desc>Patch for the fix</desc>
            <filename>Bug-405250.patch</filename>
            <type>text/plain</type>
            <size>8657</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9t
b2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQppbmRleCA5ZTU2YzRmLi4yN2VhODZiIDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVs
L0NvbXBsZXRpb25UZXN0cy5qYXZhCkBAIC0xMDYyLDYgKzEwNjIsOSBAQAogCXN1aXRlLmFkZFRl
c3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzM3MDk3MSIpKTsKIAlzdWl0ZS5hZGRUZXN0
KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDY0NjhhIikpOwogCXN1aXRlLmFkZFRlc3Qo
bmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwNjQ2OGIiKSk7CisJc3VpdGUuYWRkVGVzdChu
ZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA1MjUwYSIpKTsKKwlzdWl0ZS5hZGRUZXN0KG5l
dyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDUyNTBiIikpOworCXN1aXRlLmFkZFRlc3QobmV3
IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwNTI1MGMiKSk7CiAJcmV0dXJuIHN1aXRlOwogfQog
cHVibGljIENvbXBsZXRpb25UZXN0cyhTdHJpbmcgbmFtZSkgewpAQCAtMjY0NjQsNCArMjY0Njcs
ODcgQEAKIAkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CQogCX0KIH0K
Ky8vIEJ1ZyA0MDUyNTAgLSBbMS44XVtjb2RlIGFzc2lzdF0gQW5ub3RhdGlvbnMgZ2V0dGluZyBz
dWdnZXN0ZWQgYXQgaW1wb3J0IHN0YXRlbWVudHMKKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9y
Zy9idWdzL3Nob3dfYnVnLmNnaT9pZD00MDUyNTAKK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDUyNTBh
KCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVUSU9O
X1BST0pFQ1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlhbmNl
ID0gb3B0aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlPYmpl
Y3Qgc2F2ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9O
X1NvdXJjZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9D
b21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84
KTsKKwkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMud29y
a2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdDb3Bp
ZXNbMF0gPSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5qYXZh
IiwKKwkJCQkiaW1wb3J0IGphdmFAIFxuIik7CisJCUNvbXBsZXRpb25UZXN0c1JlcXVlc3RvcjIg
cmVxdWVzdG9yID0gbmV3IENvbXBsZXRpb25UZXN0c1JlcXVlc3RvcjIodHJ1ZSk7CisJCVN0cmlu
ZyBzdHIgPSB0aGlzLndvcmtpbmdDb3BpZXNbMF0uZ2V0U291cmNlKCk7CisJCVN0cmluZyBjb21w
bGV0ZUJlaGluZCA9ICJpbXBvcnQgamF2YUAiOworCQlpbnQgY3Vyc29yTG9jYXRpb24gPSBzdHIu
bGFzdEluZGV4T2YoY29tcGxldGVCZWhpbmQpICsgY29tcGxldGVCZWhpbmQubGVuZ3RoKCk7CisJ
CXRoaXMud29ya2luZ0NvcGllc1swXS5jb2RlQ29tcGxldGUoY3Vyc29yTG9jYXRpb24sIHJlcXVl
c3RvciwgdGhpcy53Y093bmVyKTsKKwkJYXNzZXJ0UmVzdWx0cygKKwkJCSIiLAorCQkJcmVxdWVz
dG9yLmdldFJlc3VsdHMoKSk7CisJfSBmaW5hbGx5IHsKKwkJLy8gUmVzdG9yZSBjb21wbGlhbmNl
IHNldHRpbmdzLgorCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFu
Y2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9u
cy5PUFRJT05fU291cmNlLCBzYXZlZE9wdGlvblNvdXJjZSk7CisJCUNPTVBMRVRJT05fUFJPSkVD
VC5zZXRPcHRpb25zKG9wdGlvbnMpOwkKKwl9Cit9CitwdWJsaWMgdm9pZCB0ZXN0QnVnNDA1MjUw
YigpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb24geworCU1hcCBvcHRpb25zID0gQ09NUExFVElP
Tl9QUk9KRUNULmdldE9wdGlvbnModHJ1ZSk7CisJT2JqZWN0IHNhdmVkT3B0aW9uQ29tcGxpYW5j
ZSA9IG9wdGlvbnMuZ2V0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5jZSk7CisJT2Jq
ZWN0IHNhdmVkT3B0aW9uU291cmNlID0gb3B0aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElP
Tl9Tb3VyY2UpOworCXRyeSB7CisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05f
Q29tcGxpYW5jZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84KTsKKwkJb3B0aW9ucy5wdXQo
Q29tcGlsZXJPcHRpb25zLk9QVElPTl9Tb3VyY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFf
OCk7CisJCUNPTVBMRVRJT05fUFJPSkVDVC5zZXRPcHRpb25zKG9wdGlvbnMpOworCQl0aGlzLndv
cmtpbmdDb3BpZXMgPSBuZXcgSUNvbXBpbGF0aW9uVW5pdFsxXTsKKwkJdGhpcy53b3JraW5nQ29w
aWVzWzBdID0gZ2V0V29ya2luZ0NvcHkoCisJCQkJIi9Db21wbGV0aW9uL3NyYy90ZXN0L1guamF2
YSIsCisJCQkJImltcG9ydCBqYXZhLnV0aWwuQCBcbiIpOworCQlDb21wbGV0aW9uVGVzdHNSZXF1
ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOwor
CQlTdHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOworCQlTdHJp
bmcgY29tcGxldGVCZWhpbmQgPSAiaW1wb3J0IGphdmEudXRpbC5AIjsKKwkJaW50IGN1cnNvckxv
Y2F0aW9uID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSArIGNvbXBsZXRlQmVoaW5k
Lmxlbmd0aCgpOworCQl0aGlzLndvcmtpbmdDb3BpZXNbMF0uY29kZUNvbXBsZXRlKGN1cnNvckxv
Y2F0aW9uLCByZXF1ZXN0b3IsIHRoaXMud2NPd25lcik7CisJCWFzc2VydFJlc3VsdHMoCisJCQki
IiwKKwkJCXJlcXVlc3Rvci5nZXRSZXN1bHRzKCkpOworCX0gZmluYWxseSB7CisJCS8vIFJlc3Rv
cmUgY29tcGxpYW5jZSBzZXR0aW5ncy4KKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9Q
VElPTl9Db21wbGlhbmNlLCBzYXZlZE9wdGlvbkNvbXBsaWFuY2UpOworCQlvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgc2F2ZWRPcHRpb25Tb3VyY2UpOworCQlDT01Q
TEVUSU9OX1BST0pFQ1Quc2V0T3B0aW9ucyhvcHRpb25zKTsJCisJfQorfQorcHVibGljIHZvaWQg
dGVzdEJ1ZzQwNTI1MGMoKSB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlNYXAgb3B0aW9u
cyA9IENPTVBMRVRJT05fUFJPSkVDVC5nZXRPcHRpb25zKHRydWUpOworCU9iamVjdCBzYXZlZE9w
dGlvbkNvbXBsaWFuY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBs
aWFuY2UpOworCU9iamVjdCBzYXZlZE9wdGlvblNvdXJjZSA9IG9wdGlvbnMuZ2V0KENvbXBpbGVy
T3B0aW9ucy5PUFRJT05fU291cmNlKTsKKwl0cnkgeworCQlvcHRpb25zLnB1dChDb21waWxlck9w
dGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJ
CW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBDb21waWxlck9wdGlv
bnMuVkVSU0lPTl8xXzgpOworCQlDT01QTEVUSU9OX1BST0pFQ1Quc2V0T3B0aW9ucyhvcHRpb25z
KTsKKwkJdGhpcy53b3JraW5nQ29waWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJCXRo
aXMud29ya2luZ0NvcGllc1swXSA9IGdldFdvcmtpbmdDb3B5KAorCQkJCSIvQ29tcGxldGlvbi9z
cmMvdGVzdC9YLmphdmEiLAorCQkJCSJpbXBvcnQgQCBcbiIpOworCQlDb21wbGV0aW9uVGVzdHNS
ZXF1ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUp
OworCQlTdHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOworCQlT
dHJpbmcgY29tcGxldGVCZWhpbmQgPSAiaW1wb3J0IEAiOworCQlpbnQgY3Vyc29yTG9jYXRpb24g
PSBzdHIubGFzdEluZGV4T2YoY29tcGxldGVCZWhpbmQpICsgY29tcGxldGVCZWhpbmQubGVuZ3Ro
KCk7CisJCXRoaXMud29ya2luZ0NvcGllc1swXS5jb2RlQ29tcGxldGUoY3Vyc29yTG9jYXRpb24s
IHJlcXVlc3RvciwgdGhpcy53Y093bmVyKTsKKwkJYXNzZXJ0UmVzdWx0cygKKwkJCSIiLAorCQkJ
cmVxdWVzdG9yLmdldFJlc3VsdHMoKSk7CisJfSBmaW5hbGx5IHsKKwkJLy8gUmVzdG9yZSBjb21w
bGlhbmNlIHNldHRpbmdzLgorCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0Nv
bXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVy
T3B0aW9ucy5PUFRJT05fU291cmNlLCBzYXZlZE9wdGlvblNvdXJjZSk7CisJCUNPTVBMRVRJT05f
UFJPSkVDVC5zZXRPcHRpb25zKG9wdGlvbnMpOwkKKwl9Cit9CiB9CmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2Rl
YXNzaXN0L2NvbXBsZXRlL0NvbXBsZXRpb25QYXJzZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxl
dGUvQ29tcGxldGlvblBhcnNlci5qYXZhCmluZGV4IDU3ZjRjNjcuLjZmNzkyYjEgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZhCisrKyBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVh
c3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZhCkBAIC04OCw2ICs4OCw3IEBACiAJ
cHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBpbnQgS19JTlNJREVfRk9SX0NPTkRJVElPTkFMID0gQ09N
UExFVElPTl9QQVJTRVIgKyA0MDsKIAkvLyBhZGRlZCBmb3IgaHR0cHM6Ly9idWdzLmVjbGlwc2Uu
b3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTI2MTUzNAogCXByb3RlY3RlZCBzdGF0aWMgZmluYWwg
aW50IEtfQkVUV0VFTl9JTlNUQU5DRU9GX0FORF9SUEFSRU4gPSBDT01QTEVUSU9OX1BBUlNFUiAr
IDQxOworCXByb3RlY3RlZCBzdGF0aWMgZmluYWwgaW50IEtfSU1QT1JUX0RFTElNSVRFUiA9IENP
TVBMRVRJT05fUEFSU0VSICsgNDM7CiAKIAogCXB1YmxpYyBmaW5hbCBzdGF0aWMgY2hhcltdIEZB
S0VfVFlQRV9OQU1FID0gbmV3IGNoYXJbXXsnICd9OwpAQCAtMzE3MSw2ICszMTcyLDkgQEAKIAkJ
cmV0dXJuOwogCX0KIAorCWlmIChpc0luSW1wb3J0U3BlY2lmaWNhdGlvbigpKSB7CisJCXJldHVy
bjsKKwl9CiAJTWFya2VyQW5ub3RhdGlvbiBtYXJrZXJBbm5vdGF0aW9uID0gbnVsbDsKIAlpbnQg
bGVuZ3RoID0gdGhpcy5pZGVudGlmaWVyTGVuZ3RoU3RhY2tbdGhpcy5pZGVudGlmaWVyTGVuZ3Ro
UHRyXTsKIAlUeXBlUmVmZXJlbmNlIHR5cGVSZWZlcmVuY2U7CkBAIC0zMzM2LDYgKzMzNDAsNyBA
QAogcHJvdGVjdGVkIHZvaWQgY29uc3VtZVNpbmdsZVR5cGVJbXBvcnREZWNsYXJhdGlvbk5hbWUo
KSB7CiAJc3VwZXIuY29uc3VtZVNpbmdsZVR5cGVJbXBvcnREZWNsYXJhdGlvbk5hbWUoKTsKIAl0
aGlzLnBlbmRpbmdBbm5vdGF0aW9uID0gbnVsbDsgLy8gdGhlIHBlbmRpbmcgYW5ub3RhdGlvbiBj
YW5ub3QgYmUgYXR0YWNoZWQgdG8gbmV4dCBub2RlcworCXBvcEVsZW1lbnQoS19JTVBPUlRfREVM
SU1JVEVSKTsKIH0KIHByb3RlY3RlZCB2b2lkIGNvbnN1bWVTdGF0ZW1lbnRCcmVha1dpdGhMYWJl
bCgpIHsKIAlzdXBlci5jb25zdW1lU3RhdGVtZW50QnJlYWtXaXRoTGFiZWwoKTsKQEAgLTM0OTQs
NiArMzQ5OSw5IEBACiAJCQkmJiB0aGlzLmN1cnJlbnRFbGVtZW50ID09IG51bGwKIAkJCSYmIGlz
SW5kaXJlY3RseUluc2lkZUZpZWxkSW5pdGlhbGl6YXRpb24oKSkgewogCQl0aGlzLnNjYW5uZXIu
ZW9mUG9zaXRpb24gPSB0aGlzLmN1cnNvckxvY2F0aW9uIDwgSW50ZWdlci5NQVhfVkFMVUUgPyB0
aGlzLmN1cnNvckxvY2F0aW9uKzEgOiB0aGlzLmN1cnNvckxvY2F0aW9uOworCX0KKwlpZiAodG9r
ZW4gPT0gVG9rZW5OYW1laW1wb3J0KSB7CisJCXB1c2hPbkVsZW1lbnRTdGFjayhLX0lNUE9SVF9E
RUxJTUlURVIpOwogCX0KIAogCS8vIGlmIGluIGEgbWV0aG9kIG9yIGlmIGluIGEgZmllbGQgaW5p
dGlhbGl6ZXIKQEAgLTUxNDAsNCArNTE0OCwxMyBAQAogCX0KIAlyZXR1cm4gZmFsc2U7CQogfQor
cHJvdGVjdGVkIGJvb2xlYW4gaXNJbkltcG9ydFNwZWNpZmljYXRpb24oKXsKKwlpbnQgaSA9IHRo
aXMuZWxlbWVudFB0cjsKKwl3aGlsZShpID4gLTEpIHsKKwkJaWYodGhpcy5lbGVtZW50S2luZFN0
YWNrW2ldID09IEtfSU1QT1JUX0RFTElNSVRFUikKKwkJCXJldHVybiB0cnVlOworCQlpLS07CisJ
fQorCXJldHVybiBmYWxzZTsKK30KIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUmVjb3Zl
cmVkVW5pdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9SZWNvdmVyZWRVbml0LmphdmEKaW5kZXggYzRj
MTY4MS4uMDg3NDE0YSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9SZWNvdmVyZWRVbml0Lmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL3BhcnNlci9SZWNvdmVyZWRVbml0LmphdmEKQEAgLTUsNiArNSwxMCBA
QAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFi
bGUgYXQKICAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCiAgKgor
ICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBhbiBlYXJseS1kcmFmdCBzcGVjaWZpY2F0
aW9uIGRldmVsb3BlZCB1bmRlciB0aGUgSmF2YQorICogQ29tbXVuaXR5IFByb2Nlc3MgKEpDUCkg
YW5kIGlzIG1hZGUgYXZhaWxhYmxlIGZvciB0ZXN0aW5nIGFuZCBldmFsdWF0aW9uIHB1cnBvc2Vz
CisgKiBvbmx5LiBUaGUgY29kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGFueSBzcGVjaWZpY2F0
aW9uIG9mIHRoZSBKQ1AuCisgKiAKICAqIENvbnRyaWJ1dG9yczoKICAqICAgICBJQk0gQ29ycG9y
YXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KICAqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqLwpAQCAtMTYsNiArMjAsNyBAQAogaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0OwogaW1w
b3J0IGphdmEudXRpbC5TZXQ7CiAKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29k
ZWFzc2lzdC5jb21wbGV0ZS5Db21wbGV0aW9uT25Bbm5vdGF0aW9uT2ZUeXBlOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3QuQWJzdHJhY3RNZXRob2REZWNsYXJh
dGlvbjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYXN0LkFTVE5v
ZGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmFzdC5CbG9jazsK
QEAgLTE1MCw2ICsxNTUsMTMgQEAKIH0KIHB1YmxpYyBSZWNvdmVyZWRFbGVtZW50IGFkZChUeXBl
RGVjbGFyYXRpb24gdHlwZURlY2xhcmF0aW9uLCBpbnQgYnJhY2tldEJhbGFuY2VWYWx1ZSkgewog
CisJaWYgKHR5cGVEZWNsYXJhdGlvbiBpbnN0YW5jZW9mIENvbXBsZXRpb25PbkFubm90YXRpb25P
ZlR5cGUgJiYgdGhpcy5pbXBvcnRDb3VudCA+IDApIHsKKwkJZm9yIChpbnQgaW5keCA9IDA7IGlu
ZHggPCB0aGlzLmltcG9ydENvdW50OyBpbmR4KyspIHsKKwkJCWlmICh0eXBlRGVjbGFyYXRpb24u
c291cmNlU3RhcnQgLSB0aGlzLmltcG9ydHNbaW5keF0uaW1wb3J0UmVmZXJlbmNlLnNvdXJjZUVu
ZCA9PSAxKSB7CisJCQkJcmV0dXJuIHRoaXM7CisJCQl9CisJCX0KKwl9CiAJaWYgKCh0eXBlRGVj
bGFyYXRpb24uYml0cyAmIEFTVE5vZGUuSXNBbm9ueW1vdXNUeXBlKSAhPSAwKXsKIAkJaWYgKHRo
aXMudHlwZUNvdW50ID4gMCkgewogCQkJLy8gYWRkIGl0IHRvIHRoZSBsYXN0IHR5cGU=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>232622</attachid>
            <date>2013-06-20 16:41:00 -0400</date>
            <delta_ts>2013-06-20 16:41:37 -0400</delta_ts>
            <desc>Patch after accommodating the review comments</desc>
            <filename>Bug405250reviewcommentsaccomodated.patch</filename>
            <type>text/plain</type>
            <size>9517</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9t
b2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQppbmRleCA5ZTU2YzRmLi5jMGYzYzJlIDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVs
L0NvbXBsZXRpb25UZXN0cy5qYXZhCkBAIC0xMDYwLDEwICsxMDYwLDE0IEBACiAJc3VpdGUuYWRk
VGVzdChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyODEyYyIpKTsKIAlzdWl0ZS5hZGRU
ZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDI4MTJkIikpOwogCXN1aXRlLmFkZFRl
c3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzM3MDk3MSIpKTsKIAlzdWl0ZS5hZGRUZXN0
KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDY0NjhhIikpOwogCXN1aXRlLmFkZFRlc3Qo
bmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwNjQ2OGIiKSk7CisJc3VpdGUuYWRkVGVzdChu
ZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA1MjUwYSIpKTsKKwlzdWl0ZS5hZGRUZXN0KG5l
dyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDUyNTBiIikpOworCXN1aXRlLmFkZFRlc3QobmV3
IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwNTI1MGMiKSk7CisJc3VpdGUuYWRkVGVzdChuZXcg
Q29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA1MjUwZCIpKTsKIAlyZXR1cm4gc3VpdGU7CiB9CiBw
dWJsaWMgQ29tcGxldGlvblRlc3RzKFN0cmluZyBuYW1lKSB7CiAJc3VwZXIobmFtZSk7CiB9CkBA
IC0yNjQ2Miw2ICsyNjQ2NiwxMTYgQEAKIAkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9Q
VElPTl9Db21wbGlhbmNlLCBzYXZlZE9wdGlvbkNvbXBsaWFuY2UpOwogCQlvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgc2F2ZWRPcHRpb25Tb3VyY2UpOwogCQlDT01Q
TEVUSU9OX1BST0pFQ1Quc2V0T3B0aW9ucyhvcHRpb25zKTsJCiAJfQogfQorLy8gQnVnIDQwNTI1
MCAtIFsxLjhdW2NvZGUgYXNzaXN0XSBBbm5vdGF0aW9ucyBnZXR0aW5nIHN1Z2dlc3RlZCBhdCBp
bXBvcnQgc3RhdGVtZW50cworLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19i
dWcuY2dpP2lkPTQwNTI1MAorcHVibGljIHZvaWQgdGVzdEJ1ZzQwNTI1MGEoKSB0aHJvd3MgSmF2
YU1vZGVsRXhjZXB0aW9uIHsKKwlNYXAgb3B0aW9ucyA9IENPTVBMRVRJT05fUFJPSkVDVC5nZXRP
cHRpb25zKHRydWUpOworCU9iamVjdCBzYXZlZE9wdGlvbkNvbXBsaWFuY2UgPSBvcHRpb25zLmdl
dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UpOworCU9iamVjdCBzYXZlZE9wdGlv
blNvdXJjZSA9IG9wdGlvbnMuZ2V0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlKTsKKwl0
cnkgeworCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENv
bXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9u
cy5PUFRJT05fU291cmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlDT01QTEVU
SU9OX1BST0pFQ1Quc2V0T3B0aW9ucyhvcHRpb25zKTsKKwkJdGhpcy53b3JraW5nQ29waWVzID0g
bmV3IElDb21waWxhdGlvblVuaXRbMV07CisJCXRoaXMud29ya2luZ0NvcGllc1swXSA9IGdldFdv
cmtpbmdDb3B5KAorCQkJCSIvQ29tcGxldGlvbi9zcmMvdGVzdC9YLmphdmEiLAorCQkJCSJpbXBv
cnQgamF2YS51dGlsLkAgXG4iKTsKKwkJQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMiByZXF1ZXN0
b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsKKwkJU3RyaW5nIHN0ciA9
IHRoaXMud29ya2luZ0NvcGllc1swXS5nZXRTb3VyY2UoKTsKKwkJU3RyaW5nIGNvbXBsZXRlQmVo
aW5kID0gImltcG9ydCBqYXZhLnV0aWwuQCI7CisJCWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5s
YXN0SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBjb21wbGV0ZUJlaGluZC5sZW5ndGgoKTsKKwkJ
dGhpcy53b3JraW5nQ29waWVzWzBdLmNvZGVDb21wbGV0ZShjdXJzb3JMb2NhdGlvbiwgcmVxdWVz
dG9yLCB0aGlzLndjT3duZXIpOworCQlhc3NlcnRSZXN1bHRzKAorCQkJIiIsCisJCQlyZXF1ZXN0
b3IuZ2V0UmVzdWx0cygpKTsKKwl9IGZpbmFsbHkgeworCQkvLyBSZXN0b3JlIGNvbXBsaWFuY2Ug
c2V0dGluZ3MuCisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5j
ZSwgc2F2ZWRPcHRpb25Db21wbGlhbmNlKTsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25z
Lk9QVElPTl9Tb3VyY2UsIHNhdmVkT3B0aW9uU291cmNlKTsKKwkJQ09NUExFVElPTl9QUk9KRUNU
LnNldE9wdGlvbnMob3B0aW9ucyk7CQorCX0KK30KK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDUyNTBi
KCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVUSU9O
X1BST0pFQ1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlhbmNl
ID0gb3B0aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlPYmpl
Y3Qgc2F2ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9O
X1NvdXJjZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9D
b21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84
KTsKKwkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMud29y
a2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdDb3Bp
ZXNbMF0gPSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5qYXZh
IiwKKwkJCQkiaW1wb3J0IEAgXG4iKTsKKwkJQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMiByZXF1
ZXN0b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsKKwkJU3RyaW5nIHN0
ciA9IHRoaXMud29ya2luZ0NvcGllc1swXS5nZXRTb3VyY2UoKTsKKwkJU3RyaW5nIGNvbXBsZXRl
QmVoaW5kID0gImltcG9ydCBAIjsKKwkJaW50IGN1cnNvckxvY2F0aW9uID0gc3RyLmxhc3RJbmRl
eE9mKGNvbXBsZXRlQmVoaW5kKSArIGNvbXBsZXRlQmVoaW5kLmxlbmd0aCgpOworCQl0aGlzLndv
cmtpbmdDb3BpZXNbMF0uY29kZUNvbXBsZXRlKGN1cnNvckxvY2F0aW9uLCByZXF1ZXN0b3IsIHRo
aXMud2NPd25lcik7CisJCWFzc2VydFJlc3VsdHMoCisJCQkiIiwKKwkJCXJlcXVlc3Rvci5nZXRS
ZXN1bHRzKCkpOworCX0gZmluYWxseSB7CisJCS8vIFJlc3RvcmUgY29tcGxpYW5jZSBzZXR0aW5n
cy4KKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlLCBzYXZl
ZE9wdGlvbkNvbXBsaWFuY2UpOworCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9O
X1NvdXJjZSwgc2F2ZWRPcHRpb25Tb3VyY2UpOworCQlDT01QTEVUSU9OX1BST0pFQ1Quc2V0T3B0
aW9ucyhvcHRpb25zKTsJCisJfQorfQorcHVibGljIHZvaWQgdGVzdEJ1ZzQwNTI1MGMoKSB0aHJv
d3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlNYXAgb3B0aW9ucyA9IENPTVBMRVRJT05fUFJPSkVD
VC5nZXRPcHRpb25zKHRydWUpOworCU9iamVjdCBzYXZlZE9wdGlvbkNvbXBsaWFuY2UgPSBvcHRp
b25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UpOworCU9iamVjdCBzYXZl
ZE9wdGlvblNvdXJjZSA9IG9wdGlvbnMuZ2V0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNl
KTsKKwl0cnkgeworCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFu
Y2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVy
T3B0aW9ucy5PUFRJT05fU291cmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlD
T01QTEVUSU9OX1BST0pFQ1Quc2V0T3B0aW9ucyhvcHRpb25zKTsKKwkJdGhpcy53b3JraW5nQ29w
aWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJCXRoaXMud29ya2luZ0NvcGllc1swXSA9
IGdldFdvcmtpbmdDb3B5KAorCQkJCSIvQ29tcGxldGlvbi9zcmMvdGVzdC9YLmphdmEiLAorCQkJ
CSJpbXBvcnQgc3RhdGljIEAgXG4iKTsKKwkJQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMiByZXF1
ZXN0b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsKKwkJU3RyaW5nIHN0
ciA9IHRoaXMud29ya2luZ0NvcGllc1swXS5nZXRTb3VyY2UoKTsKKwkJU3RyaW5nIGNvbXBsZXRl
QmVoaW5kID0gImltcG9ydCBzdGF0aWMgQCI7CisJCWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5s
YXN0SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBjb21wbGV0ZUJlaGluZC5sZW5ndGgoKTsKKwkJ
dGhpcy53b3JraW5nQ29waWVzWzBdLmNvZGVDb21wbGV0ZShjdXJzb3JMb2NhdGlvbiwgcmVxdWVz
dG9yLCB0aGlzLndjT3duZXIpOworCQlhc3NlcnRSZXN1bHRzKAorCQkJIiIsCisJCQlyZXF1ZXN0
b3IuZ2V0UmVzdWx0cygpKTsKKwl9IGZpbmFsbHkgeworCQkvLyBSZXN0b3JlIGNvbXBsaWFuY2Ug
c2V0dGluZ3MuCisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5j
ZSwgc2F2ZWRPcHRpb25Db21wbGlhbmNlKTsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25z
Lk9QVElPTl9Tb3VyY2UsIHNhdmVkT3B0aW9uU291cmNlKTsKKwkJQ09NUExFVElPTl9QUk9KRUNU
LnNldE9wdGlvbnMob3B0aW9ucyk7CQorCX0KK30KK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDUyNTBk
KCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVUSU9O
X1BST0pFQ1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlhbmNl
ID0gb3B0aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlPYmpl
Y3Qgc2F2ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9O
X1NvdXJjZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9D
b21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84
KTsKKwkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMud29y
a2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdDb3Bp
ZXNbMF0gPSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5qYXZh
IiwKKwkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLnV0aWwuQCBcbiIpOworCQlDb21wbGV0aW9uVGVz
dHNSZXF1ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRy
dWUpOworCQlTdHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOwor
CQlTdHJpbmcgY29tcGxldGVCZWhpbmQgPSAiaW1wb3J0IHN0YXRpYyBqYXZhLnV0aWwuQCI7CisJ
CWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5sYXN0SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBj
b21wbGV0ZUJlaGluZC5sZW5ndGgoKTsKKwkJdGhpcy53b3JraW5nQ29waWVzWzBdLmNvZGVDb21w
bGV0ZShjdXJzb3JMb2NhdGlvbiwgcmVxdWVzdG9yLCB0aGlzLndjT3duZXIpOworCQlhc3NlcnRS
ZXN1bHRzKAorCQkJIiIsCisJCQlyZXF1ZXN0b3IuZ2V0UmVzdWx0cygpKTsKKwl9IGZpbmFsbHkg
eworCQkvLyBSZXN0b3JlIGNvbXBsaWFuY2Ugc2V0dGluZ3MuCisJCW9wdGlvbnMucHV0KENvbXBp
bGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5jZSwgc2F2ZWRPcHRpb25Db21wbGlhbmNlKTsKKwkJ
b3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Tb3VyY2UsIHNhdmVkT3B0aW9uU291
cmNlKTsKKwkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CQorCX0KK30K
IH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9jb21wbGV0ZS9Db21wbGV0aW9uUGFyc2VyLmphdmEKaW5kZXggNTdmNGM2
Ny4uYTgyOTM2YiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9jb21wbGV0ZS9Db21wbGV0aW9uUGFy
c2VyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9jb21wbGV0ZS9Db21wbGV0aW9uUGFyc2VyLmphdmEK
QEAgLTg2LDEwICs4NiwxMSBAQAogCXByb3RlY3RlZCBzdGF0aWMgZmluYWwgaW50IEtfQ09OVFJP
TF9TVEFURU1FTlRfREVMSU1JVEVSID0gQ09NUExFVElPTl9QQVJTRVIgKyAzODsKIAlwcm90ZWN0
ZWQgc3RhdGljIGZpbmFsIGludCBLX0lOU0lERV9BU1NFUlRfRVhDRVBUSU9OID0gQ09NUExFVElP
Tl9QQVJTRVIgKyAzOTsKIAlwcm90ZWN0ZWQgc3RhdGljIGZpbmFsIGludCBLX0lOU0lERV9GT1Jf
Q09ORElUSU9OQUwgPSBDT01QTEVUSU9OX1BBUlNFUiArIDQwOwogCS8vIGFkZGVkIGZvciBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MjYxNTM0CiAJcHJvdGVj
dGVkIHN0YXRpYyBmaW5hbCBpbnQgS19CRVRXRUVOX0lOU1RBTkNFT0ZfQU5EX1JQQVJFTiA9IENP
TVBMRVRJT05fUEFSU0VSICsgNDE7CisJcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBpbnQgS19JTlNJ
REVfSU1QT1JUX1NUQVRFTUVOVCA9IENPTVBMRVRJT05fUEFSU0VSICsgNDM7CiAKIAogCXB1Ymxp
YyBmaW5hbCBzdGF0aWMgY2hhcltdIEZBS0VfVFlQRV9OQU1FID0gbmV3IGNoYXJbXXsnICd9Owog
CXB1YmxpYyBmaW5hbCBzdGF0aWMgY2hhcltdIEZBS0VfTUVUSE9EX05BTUUgPSBuZXcgY2hhcltd
eycgJ307CiAJcHVibGljIGZpbmFsIHN0YXRpYyBjaGFyW10gRkFLRV9BUkdVTUVOVF9OQU1FID0g
bmV3IGNoYXJbXXsnICd9OwpAQCAtMzE2OSwxMCArMzE3MCwxMyBAQAogCQlzdXBlci5jb25zdW1l
QW5ub3RhdGlvbk5hbWUoKTsKIAkJdGhpcy5wdXNoT25FbGVtZW50U3RhY2soS19CRVRXRUVOX0FO
Tk9UQVRJT05fTkFNRV9BTkRfUlBBUkVOLCBMUEFSRU5fTk9UX0NPTlNVTUVEKTsKIAkJcmV0dXJu
OwogCX0KIAorCWlmIChpc0luSW1wb3J0U3RhdGVtZW50KCkpIHsKKwkJcmV0dXJuOworCX0KIAlN
YXJrZXJBbm5vdGF0aW9uIG1hcmtlckFubm90YXRpb24gPSBudWxsOwogCWludCBsZW5ndGggPSB0
aGlzLmlkZW50aWZpZXJMZW5ndGhTdGFja1t0aGlzLmlkZW50aWZpZXJMZW5ndGhQdHJdOwogCVR5
cGVSZWZlcmVuY2UgdHlwZVJlZmVyZW5jZTsKIAogCS8qIHJldHJpZXZlIGlkZW50aWZpZXJzIHN1
YnNldCBhbmQgd2hvbGUgcG9zaXRpb25zLCB0aGUgYXNzaXN0IG5vZGUgcG9zaXRpb25zCkBAIC0z
NDkyLDEwICszNDk2LDEzIEBACiAJaWYgKHRva2VuID09IFRva2VuTmFtZUlkZW50aWZpZXIKIAkJ
CSYmIHRoaXMuaWRlbnRpZmllclN0YWNrW3RoaXMuaWRlbnRpZmllclB0cl0gPT0gYXNzaXN0SWRl
bnRpZmllcigpCiAJCQkmJiB0aGlzLmN1cnJlbnRFbGVtZW50ID09IG51bGwKIAkJCSYmIGlzSW5k
aXJlY3RseUluc2lkZUZpZWxkSW5pdGlhbGl6YXRpb24oKSkgewogCQl0aGlzLnNjYW5uZXIuZW9m
UG9zaXRpb24gPSB0aGlzLmN1cnNvckxvY2F0aW9uIDwgSW50ZWdlci5NQVhfVkFMVUUgPyB0aGlz
LmN1cnNvckxvY2F0aW9uKzEgOiB0aGlzLmN1cnNvckxvY2F0aW9uOworCX0KKwlpZiAodG9rZW4g
PT0gVG9rZW5OYW1laW1wb3J0KSB7CisJCXB1c2hPbkVsZW1lbnRTdGFjayhLX0lOU0lERV9JTVBP
UlRfU1RBVEVNRU5UKTsKIAl9CiAKIAkvLyBpZiBpbiBhIG1ldGhvZCBvciBpZiBpbiBhIGZpZWxk
IGluaXRpYWxpemVyCiAJaWYgKGlzSW5zaWRlTWV0aG9kKCkgfHwgaXNJbnNpZGVGaWVsZEluaXRp
YWxpemF0aW9uKCkgfHwgaXNJbnNpZGVBdHRyaWJ1dGVWYWx1ZSgpKSB7CiAJCXN3aXRjaCAodG9r
ZW4pIHsKQEAgLTQwMzIsMTAgKzQwMzksMTQgQEAKIAljbGFzc0hlYWRlckV4dGVuZHNPckltcGxl
bWVudHMoKHR5cGVEZWNsLm1vZGlmaWVycyAmIENsYXNzRmlsZUNvbnN0YW50cy5BY2NJbnRlcmZh
Y2UpICE9IDApOwogfQogcHJvdGVjdGVkIHZvaWQgY29uc3VtZVR5cGVJbXBvcnRPbkRlbWFuZERl
Y2xhcmF0aW9uTmFtZSgpIHsKIAlzdXBlci5jb25zdW1lVHlwZUltcG9ydE9uRGVtYW5kRGVjbGFy
YXRpb25OYW1lKCk7CiAJdGhpcy5wZW5kaW5nQW5ub3RhdGlvbiA9IG51bGw7IC8vIHRoZSBwZW5k
aW5nIGFubm90YXRpb24gY2Fubm90IGJlIGF0dGFjaGVkIHRvIG5leHQgbm9kZXMKK30KK3Byb3Rl
Y3RlZCB2b2lkIGNvbnN1bWVJbXBvcnREZWNsYXJhdGlvbigpIHsKKwlzdXBlci5jb25zdW1lSW1w
b3J0RGVjbGFyYXRpb24oKTsKKwlwb3BFbGVtZW50KEtfSU5TSURFX0lNUE9SVF9TVEFURU1FTlQp
OwogfQogcHJvdGVjdGVkIHZvaWQgY29uc3VtZVR5cGVQYXJhbWV0ZXJzKCkgewogCXN1cGVyLmNv
bnN1bWVUeXBlUGFyYW1ldGVycygpOwogCXBvcEVsZW1lbnQoS19CSU5BUllfT1BFUkFUT1IpOwog
fQpAQCAtNTEzOCw2ICs1MTQ5LDE2IEBACiAJaWYgKGkgPiAtMSAmJiB0aGlzLmVsZW1lbnRLaW5k
U3RhY2tbaV0gPT0gS19BUlJBWV9JTklUSUFMSVpFUikgewogCQlyZXR1cm4gdHJ1ZTsKIAl9CiAJ
cmV0dXJuIGZhbHNlOwkKIH0KK3Byb3RlY3RlZCBib29sZWFuIGlzSW5JbXBvcnRTdGF0ZW1lbnQo
KSB7CisJaW50IGkgPSB0aGlzLmVsZW1lbnRQdHI7CisJd2hpbGUgKGkgPiAtMSkgeworCQlpZiAo
dGhpcy5lbGVtZW50S2luZFN0YWNrW2ldID09IEtfSU5TSURFX0lNUE9SVF9TVEFURU1FTlQpIHsK
KwkJCXJldHVybiB0cnVlOworCQl9CisJCWktLTsKKwl9CisJcmV0dXJuIGZhbHNlOworfQogfQ==
</data>
<flag name="review"
          id="58671"
          type_id="6"
          status="?"
          setter="anchakrk"
    />
          </attachment>
      

    </bug>

</bugzilla>