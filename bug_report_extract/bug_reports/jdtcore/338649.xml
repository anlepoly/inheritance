<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>338649</bug_id>
          
          <creation_ts>2011-03-02 06:16:00 -0500</creation_ts>
          <short_desc>[perfs] Regression on FullSourceWorkspaceModelTests#testInitJDTPlugin</short_desc>
          <delta_ts>2011-03-08 11:54:16 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>performance</keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 M6</target_milestone>
          
          <blocked>313891</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Satyam Kandula">satyam.kandula</reporter>
          <assigned_to name="Satyam Kandula">satyam.kandula</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>eclipse</cc>
    
    <cc>jarthana</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="39732"
          type_id="1"
          status="+"
          setter="jarthana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1891705</commentid>
    <comment_count>0</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-02 06:16:38 -0500</bug_when>
    <thetext>There is more than 100% performance degradation of this test on Windows. It looks good on Linux. This is first seen from I20110222-0800.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1891709</commentid>
    <comment_count>1</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-02 06:21:20 -0500</bug_when>
    <thetext>I will look into this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1891854</commentid>
    <comment_count>2</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-02 10:08:08 -0500</bug_when>
    <thetext>Fix for bug 336046 is causing this performance regression. Jay, any comments/ideas?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1892554</commentid>
    <comment_count>3</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-03 09:38:07 -0500</bug_when>
    <thetext>Patch for bug 336046 includes check for existence of the source attachment. The test case has one project org.eclipse.tomcat which has the source attachment as D:/tomcat4.1.30src and my machine D drive is not ready and a call to File#exists() for this file seems to take considerable amount of time.

Though the regression is because of this particular test case, I think the number of calls to this function could be limited, which needs to be explored.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894100</commentid>
    <comment_count>4</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-07 06:26:44 -0500</bug_when>
    <thetext>(In reply to comment #3)
&gt; Though the regression is because of this particular test case, I think the
&gt; number of calls to this function could be limited, which needs to be explored.
There doesn&apos;t seem to be a way to reduce the number of calls. In this particular test case, it can be reduced but not generally. In this particular case, org.eclipse.tomcat&apos;s class path has references to 22 libraries whose sources lies in D:\. Thus they are 22 calls and hence keeping a list of non-existing directories could help in this case, but it  may not generically. 

Actually there are 22 calls to ExternalFoldersManager#isExternalFolderPath(), but this function first calls File#isFile() and then calls File#exists(). Both of them are taking lot of time because of the unmapped drive. exists() probably can be called before isFile(). Doing this reduces the regression to 50%, but the regression still exists. 

Olivier/Srikanth, What do you think we should do for this bug? 

Option 1: Live with the regression, as the problem is only for unmapped drives. 

Option 2: Change the order of isFile() and isExists(). 

Option 3: Change the test case: Change the source attachment in the classpath of our test plugin to C:\. 

I am inclined for Option 2 and Option 3. What is your take?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894157</commentid>
    <comment_count>5</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-07 08:37:29 -0500</bug_when>
    <thetext>If the test case is pointing to a drive that doesn&apos;t exist, then yes, the test case should be fixed.
Now we could investigate if there is a way to cache the values that don&apos;t map so that we don&apos;t need to test isFile() and exists() many times for the same path.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894164</commentid>
    <comment_count>6</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-07 08:58:53 -0500</bug_when>
    <thetext>(In reply to comment #5)
&gt; If the test case is pointing to a drive that doesn&apos;t exist, then yes, the test
&gt; case should be fixed.
Just some more data to make the decision - The testcase here is a set of Eclipse 3.5 plugins and one of the plugin is having a bad source attachment directory. It is likely that customer&apos;s environment also could have such plugins. 

&gt; Now we could investigate if there is a way to cache the values that don&apos;t map
&gt; so that we don&apos;t need to test isFile() and exists() many times for the same
&gt; path.
Generally, these functions are called once for a classpath entry. Here, as many libraries are pointing to the same directory, there are many calls. May be we could probably keep this in the memory until we finish the resolveClassPath(). I will work on it. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894430</commentid>
    <comment_count>7</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-07 13:05:12 -0500</bug_when>
    <thetext>Satyam, are you saying that the D drive was slow to read because it had spun down and needed time to spin back up?  If so, that seems like it could be fixed by simply making sure the test case reads something from the D drive before timing begins.

But if you are saying that the D drive does not exist on your machine, and therefore the test is slow because it has to wait for the read to time out, that seems like an error condition.  Rather than try to make local optimizations to work around file system problems, in an error condition, I would suggest that the real solution here is to do a better job of reporting the error.  That is, we need to clearly inform the user that we were unable to read from the expected location (and the error message needs to tell them what that location was).  There are probably other consequences beyond just the slowdown, in this situation.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894725</commentid>
    <comment_count>8</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-08 03:24:57 -0500</bug_when>
    <thetext>(In reply to comment #7)
The D drive doesn&apos;t exist and here the problem is for the source attachments of a library. It is not really important but good to have and hence if the drive doesn&apos;t exist, it is no harm in ignoring it. However, File#exists() takes lot of time for a unmapped drive. Hence, the question here could be do we want to cache that info.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894737</commentid>
    <comment_count>9</comment_count>
      <attachid>190629</attachid>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-08 03:36:11 -0500</bug_when>
    <thetext>Created attachment 190629
Proposed patch

I have cached the information of the drives while parsing the classpath for a given project. I didn&apos;t want to cache it for the complete Eclipse session, because it is likely possibly that the drive is mapped after Eclipse comes up and we will loose that information.

There is about 10% regression with this patch. By the way, without the patch, regression is 100%.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894809</commentid>
    <comment_count>10</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-08 05:10:35 -0500</bug_when>
    <thetext>Jay, Can you please review the changes?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894840</commentid>
    <comment_count>11</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2011-03-08 06:13:42 -0500</bug_when>
    <thetext>+1 for the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1894954</commentid>
    <comment_count>12</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-03-08 09:07:05 -0500</bug_when>
    <thetext>Thanks Jay,
Released the patch on HEAD</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1895113</commentid>
    <comment_count>13</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2011-03-08 11:54:16 -0500</bug_when>
    <thetext>Verified for 3.7M6.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>190629</attachid>
            <date>2011-03-08 03:36:00 -0500</date>
            <delta_ts>2011-03-08 03:36:11 -0500</delta_ts>
            <desc>Proposed patch</desc>
            <filename>patch.txt</filename>
            <type>text/plain</type>
            <size>5662</size>
            <attacher name="Satyam Kandula">satyam.kandula</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9KYXZhUHJvamVjdC5q
YXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9KYXZhUHJvamVjdC5q
YXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40NDQNCmRpZmYgLXUgLXIxLjQ0NCBKYXZhUHJv
amVjdC5qYXZhDQotLS0gbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvSmF2YVBy
b2plY3QuamF2YQkyNCBGZWIgMjAxMSAxNjo1MTo1OCAtMDAwMAkxLjQ0NA0KKysrIG1vZGVsL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0phdmFQcm9qZWN0LmphdmEJOCBNYXIgMjAxMSAw
ODoyOTo1MSAtMDAwMA0KQEAgLTI1NzksNiArMjU3OSw3IEBADQogCQlKYXZhTW9kZWxNYW5hZ2Vy
IG1hbmFnZXIgPSBKYXZhTW9kZWxNYW5hZ2VyLmdldEphdmFNb2RlbE1hbmFnZXIoKTsNCiAJCUV4
dGVybmFsRm9sZGVyc01hbmFnZXIgZXh0ZXJuYWxGb2xkZXJzTWFuYWdlciA9IEphdmFNb2RlbE1h
bmFnZXIuZ2V0RXh0ZXJuYWxNYW5hZ2VyKCk7DQogCQlSZXNvbHZlZENsYXNzcGF0aCByZXN1bHQg
PSBuZXcgUmVzb2x2ZWRDbGFzc3BhdGgoKTsNCisJCU1hcCBrbm93bkRyaXZlcyA9IG5ldyBIYXNo
TWFwKCk7DQogDQogCQlNYXAgcmVmZXJlbmNlZEVudHJpZXNNYXAgPSBuZXcgSGFzaE1hcCgpOw0K
IAkJTGlzdCByYXdMaWJyYXJpZXNQYXRoID0gbmV3IEFycmF5TGlzdCgpOw0KQEAgLTI2MzksMTEg
KzI2NDAsMTEgQEANCiAJCQkJCQkJCWlmICghcmF3TGlicmFyaWVzUGF0aC5jb250YWlucyhleHRy
YUVudHJpZXNbal0uZ2V0UGF0aCgpKSkgew0KIAkJCQkJCQkJCS8vIGh0dHBzOi8vYnVncy5lY2xp
cHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zMDUwMzcNCiAJCQkJCQkJCQkvLyByZWZlcmVu
Y2VkIGVudHJpZXMgZm9yIHZhcmlhYmxlIGVudHJpZXMgY291bGQgYWxzbyBiZSBwZXJzaXN0ZWQg
d2l0aCBleHRyYSBhdHRyaWJ1dGVzLCBzbyBhZGRBc0NoYWluZWRFbnRyeSA9IHRydWUNCi0JCQkJ
CQkJCQlhZGRUb1Jlc3VsdChyYXdFbnRyeSwgZXh0cmFFbnRyaWVzW2pdLCByZXN1bHQsIHJlc29s
dmVkRW50cmllcywgZXh0ZXJuYWxGb2xkZXJzTWFuYWdlciwgcmVmZXJlbmNlZEVudHJpZXNNYXAs
IHRydWUpOw0KKwkJCQkJCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCBleHRyYUVudHJpZXNbal0s
IHJlc3VsdCwgcmVzb2x2ZWRFbnRyaWVzLCBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLCByZWZlcmVu
Y2VkRW50cmllc01hcCwgdHJ1ZSwga25vd25Ecml2ZXMpOw0KIAkJCQkJCQkJfQ0KIAkJCQkJCQl9
DQogCQkJCQkJfQ0KLQkJCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCByZXNvbHZlZEVudHJ5LCBy
ZXN1bHQsIHJlc29sdmVkRW50cmllcywgZXh0ZXJuYWxGb2xkZXJzTWFuYWdlciwgcmVmZXJlbmNl
ZEVudHJpZXNNYXAsIGZhbHNlKTsNCisJCQkJCQlhZGRUb1Jlc3VsdChyYXdFbnRyeSwgcmVzb2x2
ZWRFbnRyeSwgcmVzdWx0LCByZXNvbHZlZEVudHJpZXMsIGV4dGVybmFsRm9sZGVyc01hbmFnZXIs
IHJlZmVyZW5jZWRFbnRyaWVzTWFwLCBmYWxzZSwga25vd25Ecml2ZXMpOw0KIAkJCQkJfQ0KIAkJ
CQkJYnJlYWs7DQogDQpAQCAtMjY4NiwxMiArMjY4NywxMiBAQA0KIAkJCQkJCQkJQ2xhc3NwYXRo
RW50cnlbXSBleHRyYUVudHJpZXMgPSBjRW50cnkucmVzb2x2ZWRDaGFpbmVkTGlicmFyaWVzKCk7
DQogCQkJCQkJCQlmb3IgKGludCBrID0gMCwgbGVuZ3RoMiA9IGV4dHJhRW50cmllcy5sZW5ndGg7
IGsgPCBsZW5ndGgyOyBrKyspIHsNCiAJCQkJCQkJCQlpZiAoIXJhd0xpYnJhcmllc1BhdGguY29u
dGFpbnMoZXh0cmFFbnRyaWVzW2tdLmdldFBhdGgoKSkpIHsNCi0JCQkJCQkJCQkJYWRkVG9SZXN1
bHQocmF3RW50cnksIGV4dHJhRW50cmllc1trXSwgcmVzdWx0LCByZXNvbHZlZEVudHJpZXMsIGV4
dGVybmFsRm9sZGVyc01hbmFnZXIsIHJlZmVyZW5jZWRFbnRyaWVzTWFwLCBmYWxzZSk7DQorCQkJ
CQkJCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCBleHRyYUVudHJpZXNba10sIHJlc3VsdCwgcmVz
b2x2ZWRFbnRyaWVzLCBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLCByZWZlcmVuY2VkRW50cmllc01h
cCwgZmFsc2UsIGtub3duRHJpdmVzKTsNCiAJCQkJCQkJCQl9DQogCQkJCQkJCQl9DQogCQkJCQkJ
CX0NCiAJCQkJCQl9DQotCQkJCQkJYWRkVG9SZXN1bHQocmF3RW50cnksIGNFbnRyeSwgcmVzdWx0
LCByZXNvbHZlZEVudHJpZXMsIGV4dGVybmFsRm9sZGVyc01hbmFnZXIsIHJlZmVyZW5jZWRFbnRy
aWVzTWFwLCBmYWxzZSk7DQorCQkJCQkJYWRkVG9SZXN1bHQocmF3RW50cnksIGNFbnRyeSwgcmVz
dWx0LCByZXNvbHZlZEVudHJpZXMsIGV4dGVybmFsRm9sZGVyc01hbmFnZXIsIHJlZmVyZW5jZWRF
bnRyaWVzTWFwLCBmYWxzZSwga25vd25Ecml2ZXMpOw0KIAkJCQkJfQ0KIAkJCQkJYnJlYWs7DQog
DQpAQCAtMjcwNCwxNSArMjcwNSwxNSBAQA0KIAkJCQkJCUNsYXNzcGF0aEVudHJ5W10gZXh0cmFF
bnRyaWVzID0gKChDbGFzc3BhdGhFbnRyeSkgcmVzb2x2ZWRFbnRyeSkucmVzb2x2ZWRDaGFpbmVk
TGlicmFyaWVzKCk7DQogCQkJCQkJZm9yIChpbnQgayA9IDAsIGxlbmd0aDIgPSBleHRyYUVudHJp
ZXMubGVuZ3RoOyBrIDwgbGVuZ3RoMjsgaysrKSB7DQogCQkJCQkJCWlmICghcmF3TGlicmFyaWVz
UGF0aC5jb250YWlucyhleHRyYUVudHJpZXNba10uZ2V0UGF0aCgpKSkgew0KLQkJCQkJCQkJYWRk
VG9SZXN1bHQocmF3RW50cnksIGV4dHJhRW50cmllc1trXSwgcmVzdWx0LCByZXNvbHZlZEVudHJp
ZXMsIGV4dGVybmFsRm9sZGVyc01hbmFnZXIsIHJlZmVyZW5jZWRFbnRyaWVzTWFwLCB0cnVlKTsN
CisJCQkJCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCBleHRyYUVudHJpZXNba10sIHJlc3VsdCwg
cmVzb2x2ZWRFbnRyaWVzLCBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLCByZWZlcmVuY2VkRW50cmll
c01hcCwgdHJ1ZSwga25vd25Ecml2ZXMpOw0KIAkJCQkJCQl9DQogCQkJCQkJfQ0KIAkJCQkJfQ0K
IA0KLQkJCQkJYWRkVG9SZXN1bHQocmF3RW50cnksIHJlc29sdmVkRW50cnksIHJlc3VsdCwgcmVz
b2x2ZWRFbnRyaWVzLCBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLCByZWZlcmVuY2VkRW50cmllc01h
cCwgZmFsc2UpOw0KKwkJCQkJYWRkVG9SZXN1bHQocmF3RW50cnksIHJlc29sdmVkRW50cnksIHJl
c3VsdCwgcmVzb2x2ZWRFbnRyaWVzLCBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLCByZWZlcmVuY2Vk
RW50cmllc01hcCwgZmFsc2UsIGtub3duRHJpdmVzKTsNCiAJCQkJCWJyZWFrOw0KIAkJCQlkZWZh
dWx0IDoNCi0JCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCByZXNvbHZlZEVudHJ5LCByZXN1bHQs
IHJlc29sdmVkRW50cmllcywgZXh0ZXJuYWxGb2xkZXJzTWFuYWdlciwgcmVmZXJlbmNlZEVudHJp
ZXNNYXAsIGZhbHNlKTsNCisJCQkJCWFkZFRvUmVzdWx0KHJhd0VudHJ5LCByZXNvbHZlZEVudHJ5
LCByZXN1bHQsIHJlc29sdmVkRW50cmllcywgZXh0ZXJuYWxGb2xkZXJzTWFuYWdlciwgcmVmZXJl
bmNlZEVudHJpZXNNYXAsIGZhbHNlLCBrbm93bkRyaXZlcyk7DQogCQkJCQlicmVhazsNCiAJCQl9
DQogCQl9DQpAQCAtMjcyMyw3ICsyNzI0LDcgQEANCiANCiAJcHJpdmF0ZSB2b2lkIGFkZFRvUmVz
dWx0KElDbGFzc3BhdGhFbnRyeSByYXdFbnRyeSwgSUNsYXNzcGF0aEVudHJ5IHJlc29sdmVkRW50
cnksIFJlc29sdmVkQ2xhc3NwYXRoIHJlc3VsdCwNCiAJCQlMaW5rZWRIYXNoU2V0IHJlc29sdmVk
RW50cmllcywgRXh0ZXJuYWxGb2xkZXJzTWFuYWdlciBleHRlcm5hbEZvbGRlcnNNYW5hZ2VyLA0K
LQkJCU1hcCBvbGRDaGFpbmVkRW50cmllc01hcCwgYm9vbGVhbiBhZGRBc0NoYWluZWRFbnRyeSkg
ew0KKwkJCU1hcCBvbGRDaGFpbmVkRW50cmllc01hcCwgYm9vbGVhbiBhZGRBc0NoYWluZWRFbnRy
eSwgTWFwIGtub3duRHJpdmVzKSB7DQogDQogCQlJUGF0aCByZXNvbHZlZFBhdGg7DQogCQkvLyBJ
ZiBpdCdzIGFscmVhZHkgYmVlbiByZXNvbHZlZCwgZG8gbm90IGFkZCB0byByZXNvbHZlZEVudHJp
ZXMNCkBAIC0yNzQ3LDcgKzI3NDgsNyBAQA0KIAkJLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTMzNjA0Ng0KIAkJLy8gVGhlIHNvdXJjZSBhdHRhY2htZW50
IHBhdGggY291bGQgYmUgZXh0ZXJuYWwgdG9vIGFuZCBpbiB3aGljaCBjYXNlLCBtdXN0IGJlIGFk
ZGVkLg0KIAkJSVBhdGggc291cmNlUGF0aCA9IHJlc29sdmVkRW50cnkuZ2V0U291cmNlQXR0YWNo
bWVudFBhdGgoKTsNCi0JCWlmIChzb3VyY2VQYXRoICE9IG51bGwgJiYgRXh0ZXJuYWxGb2xkZXJz
TWFuYWdlci5pc0V4dGVybmFsRm9sZGVyUGF0aChzb3VyY2VQYXRoKSkgew0KKwkJaWYgKHNvdXJj
ZVBhdGggIT0gbnVsbCAmJiBkcml2ZUV4aXN0cyhzb3VyY2VQYXRoLCBrbm93bkRyaXZlcykgJiYg
RXh0ZXJuYWxGb2xkZXJzTWFuYWdlci5pc0V4dGVybmFsRm9sZGVyUGF0aChzb3VyY2VQYXRoKSkg
ew0KIAkJCWV4dGVybmFsRm9sZGVyc01hbmFnZXIuYWRkRm9sZGVyKHNvdXJjZVBhdGgsIHRydWUp
Ow0KIAkJfQ0KIAl9DQpAQCAtMjc2OCw2ICsyNzY5LDI2IEBADQogCX0NCiAJDQogCS8qDQorCSAq
IEZpbGUjZXhpc3RzKCkgdGFrZXMgbG90IG9mIHRpbWUgZm9yIGFuIHVubWFwcGVkIGRyaXZlLiBI
ZW5jZSwgY2FjaGUgdGhlIGluZm8uDQorCSAqIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0zMzg2NDkNCisJICovDQorCXByaXZhdGUgYm9vbGVhbiBkcml2ZUV4
aXN0cyhJUGF0aCBzb3VyY2VQYXRoLCBNYXAga25vd25Ecml2ZXMpIHsJDQorCQlTdHJpbmcgZHJp
dmUgPSBzb3VyY2VQYXRoLmdldERldmljZSgpOw0KKwkJaWYgKGRyaXZlID09IG51bGwpIHJldHVy
biB0cnVlOw0KKwkJQm9vbGVhbiBnb29kID0gKEJvb2xlYW4pa25vd25Ecml2ZXMuZ2V0KGRyaXZl
KTsNCisJCWlmIChnb29kID09IG51bGwpIHsNCisJCQlpZiAobmV3IEZpbGUoZHJpdmUpLmV4aXN0
cygpKSB7DQorCQkJCWtub3duRHJpdmVzLnB1dChkcml2ZSwgQm9vbGVhbi5UUlVFKTsNCisJCQkJ
cmV0dXJuIHRydWU7DQorCQkJfSBlbHNlIHsNCisJCQkJa25vd25Ecml2ZXMucHV0KGRyaXZlLCBC
b29sZWFuLkZBTFNFKTsNCisJCQkJcmV0dXJuIGZhbHNlOw0KKwkJCX0NCisJCX0NCisJCXJldHVy
biBnb29kLmJvb2xlYW5WYWx1ZSgpOw0KKwl9DQorCQ0KKwkvKg0KIAkgKiBSZXNvbHZlIHRoZSBn
aXZlbiBwZXJQcm9qZWN0SW5mbydzIHJhdyBjbGFzc3BhdGggYW5kIHN0b3JlIHRoZSByZXNvbHZl
ZCBjbGFzc3BhdGggaW4gdGhlIHBlclByb2plY3RJbmZvLg0KIAkgKi8NCiAJcHVibGljIHZvaWQg
cmVzb2x2ZUNsYXNzcGF0aChQZXJQcm9qZWN0SW5mbyBwZXJQcm9qZWN0SW5mbywgYm9vbGVhbiB1
c2VQcmV2aW91c1Nlc3Npb24sIGJvb2xlYW4gYWRkQ2xhc3NwYXRoQ2hhbmdlKSB0aHJvd3MgSmF2
YU1vZGVsRXhjZXB0aW9uIHsNCg==
</data>
<flag name="review"
          id="39719"
          type_id="6"
          status="?"
          setter="satyam.kandula"
    />
          </attachment>
      

    </bug>

</bugzilla>