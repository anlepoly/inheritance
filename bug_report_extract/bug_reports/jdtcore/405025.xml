<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>405025</bug_id>
          
          <creation_ts>2013-04-05 13:57:00 -0400</creation_ts>
          <short_desc>[1.8][ast rewrite] Add rewrite support for cast with intersection types</short_desc>
          <delta_ts>2013-05-09 12:33:00 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jay Arthanareeswaran">jarthana</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>markus_keller</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="57102"
          type_id="1"
          status="+"
          setter="markus_keller"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2240316</commentid>
    <comment_count>0</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-04-05 13:57:53 -0400</bug_when>
    <thetext>After bug 399792 is released, AST rewrite support should be added to casts with intersection types.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2247693</commentid>
    <comment_count>1</comment_count>
      <attachid>230058</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-04-24 00:25:23 -0400</bug_when>
    <thetext>Created attachment 230058
Proposed fix

Patch with changes to ASTRewriteAnalyzer and new test. The patch also include a fix to DefaultASTVisitor.

Markus, this is a straight forward fix. Could you glance over the patch, please?

Note: The new test is disabled as this is also affected by the formatter bug 401848.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2247694</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-04-24 00:26:54 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; Note: The new test is disabled as this is also affected by the formatter bug
&gt; 401848.

I meant to say, the test is currently failing and has to be disabled if bug 401848 is still open at the time of releasing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2254229</commentid>
    <comment_count>3</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-05-08 12:43:46 -0400</bug_when>
    <thetext>I&apos;ve already fixed the ASTRewriteAnalyzer with bug 399792 comment 15. That fix inserted the visit(IntersectionType) method at the right position.

I copied my implementation from the structurally equivalent visit(UnionType). However, your implementation that unconditionally calls rewriteNodeList(..) is better, since rewriteNodeList already calls doVisit if there&apos;s no change.

We should also remove the same redundant condition check from visit(UnionType), visit(TypeParameter), rewriteExtraDimensionsInfo(..), visit(ExtraDimension), and visit(MethodDeclaration). Basically everywhere where &quot;if (isChanged(&quot; is called and we don&apos;t have to scan for a start position.

I think we should not disable the test, but adapt the expected result to the current reality and add a link to the pending formatter bug. It&apos;s easy to fix a few failing tests when the formatter fix is ready. But if you disable the test, then we don&apos;t have any regression test at all.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2254775</commentid>
    <comment_count>4</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-05-09 12:33:00 -0400</bug_when>
    <thetext>Released the fix with changed suggested by Markus via commit:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=51c6ca3e4dfed3078a1640da7a2ab7f26c899e0a</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>230058</attachid>
            <date>2013-04-24 00:25:00 -0400</date>
            <delta_ts>2013-04-24 00:25:23 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>Fix-for-bug-405025.patch</filename>
            <type>text/plain</type>
            <size>8357</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvQVNUUmV3cml0aW5nRXhwcmVz
c2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3Jn
L2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmliaW5nL0FTVFJld3JpdGluZ0V4
cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IDE5Y2NkOGUuLjYzYzM2NTggMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvQVNUUmV3cml0aW5nRXhwcmVzc2lvbnNUZXN0LmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmluZy9BU1RSZXdyaXRpbmdFeHByZXNzaW9uc1Rl
c3QuamF2YQpAQCAtMjE5MCwzICsyMTkwLDE0OSBAQAogCX0KIAorCXB1YmxpYyB2b2lkIHRlc3RJ
bnRlcnNlY3Rpb25DYXN0RXhwcmVzc2lvbl9zaW5jZV84KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJ
CUlQYWNrYWdlRnJhZ21lbnQgcGFjazE9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VG
cmFnbWVudCgidGVzdDEiLCBmYWxzZSwgbnVsbCk7CisJCVN0cmluZyBjb250ZW50ID0KKwkJCQki
aW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlO1xuIiArCisJCQkJInB1YmxpYyBjbGFzcyBYIHtc
biIgKworCQkJCSIgICAgICBwdWJsaWMgU2VyaWFsaXphYmxlIG1haW4oT2JqZWN0IG9iaikge1xu
IiArCisJCQkJIiAgICAgICAgIFNlcmlhbGl6YWJsZSBvID0gKChATWFya2VyMSBATWFya2VyMiBT
ZXJpYWxpemFibGUgJiBJKSAoKSAtPiB7fSk7XG4iICsKKwkJCQkiICAgIAkgIFNlcmlhbGl6YWJs
ZSBvbyA9IG9iajtcbiIgKworCQkJCSIgICAgICAgICBTZXJpYWxpemFibGUgb29vID0gKFNlcmlh
bGl6YWJsZSkgb2JqO1xuIiArCisJCQkJIiAgICAgIH1cbiIgKworCQkJCSJ9XG4iICsKKwkJCQki
aW50ZXJmYWNlIEkge1xuIiArCisJCQkJIiAgcHVibGljIHZvaWQgZm9vKCk7XG4iICsKKwkJCQki
fVxuIiArCisJCQkJImludGVyZmFjZSBKIHtcbiIgKworCQkJCSIgIHB1YmxpYyB2b2lkIGZvbygp
O1xuIiArCisJCQkJIiAgcHVibGljIHZvaWQgYmFyKCk7XG4iICsKKwkJCQkifVxuIiArCisJCQkJ
ImludGVyZmFjZSBLIHtcbiIgKworCQkJCSIgIHB1YmxpYyB2b2lkIGZvbygpO1xuIiArCisJCQkJ
IiAgcHVibGljIHZvaWQgYmFyKCk7XG4iICsKKwkJCQkifVxuIjsKKwkJSUNvbXBpbGF0aW9uVW5p
dCBjdT0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJYLmphdmEiLCBjb250ZW50LCBmYWxz
ZSwgbnVsbCk7CisKKwkJQ29tcGlsYXRpb25Vbml0IHVuaXQ9IGNyZWF0ZUFTVChjdSk7CisJCUFT
VFJld3JpdGUgcmV3cml0ZT0gQVNUUmV3cml0ZS5jcmVhdGUodW5pdC5nZXRBU1QoKSk7CisJCUFT
VCBhc3Q9IHVuaXQuZ2V0QVNUKCk7CisKKwkJVHlwZURlY2xhcmF0aW9uIHR5cGUgPSAgKFR5cGVE
ZWNsYXJhdGlvbikgdW5pdC50eXBlcygpLmdldCgwKTsKKwkJQVNUTm9kZSBub2RlID0gKEFTVE5v
ZGUpIHR5cGUuYm9keURlY2xhcmF0aW9ucygpLmdldCgwKTsKKwkJTWV0aG9kRGVjbGFyYXRpb24g
bWV0aG9kID0gKE1ldGhvZERlY2xhcmF0aW9uKSBub2RlOworCQkKKwkJVmFyaWFibGVEZWNsYXJh
dGlvblN0YXRlbWVudCBzdGF0ZW1lbnQgPSAoVmFyaWFibGVEZWNsYXJhdGlvblN0YXRlbWVudCkg
bWV0aG9kLmdldEJvZHkoKS5zdGF0ZW1lbnRzKCkuZ2V0KDApOworCQlWYXJpYWJsZURlY2xhcmF0
aW9uRnJhZ21lbnQgZnJhZ21lbnQgPSAoVmFyaWFibGVEZWNsYXJhdGlvbkZyYWdtZW50KSBzdGF0
ZW1lbnQuZnJhZ21lbnRzKCkuZ2V0KDApOworCQlDYXN0RXhwcmVzc2lvbiBjYXN0ID0gKENhc3RF
eHByZXNzaW9uKSAoKFBhcmVudGhlc2l6ZWRFeHByZXNzaW9uKWZyYWdtZW50LmdldEluaXRpYWxp
emVyKCkpLmdldEV4cHJlc3Npb24oKTsKKwkJVHlwZSBjYXN0VHlwZSA9IGNhc3QuZ2V0VHlwZSgp
OworCQlhc3NlcnRFcXVhbHMoIk5vdCBhbiBpbnRlcnNlY3Rpb24gY2FzdCB0eXBlIiwgQVNUTm9k
ZS5JTlRFUlNFQ1RJT05fVFlQRSwgY2FzdFR5cGUuZ2V0Tm9kZVR5cGUoKSk7CisKKwkJeworCQkJ
Ly8gTW9kaWZ5IGludGVyc2VjdGlvbiBjYXN0IHR5cGVzIGJ5IGFkZGluZyBuZXcgdHlwZXMgYW5k
IHJlbW92aW5nIGFuZCBhZGRpbmcgYW5ub3RhdGlvbnMKKwkJCUxpc3RSZXdyaXRlIGxpc3RSZXdy
aXRlID0gcmV3cml0ZS5nZXRMaXN0UmV3cml0ZShjYXN0VHlwZSwgSW50ZXJzZWN0aW9uVHlwZS5U
WVBFU19QUk9QRVJUWSk7CisJCQlTaW1wbGVUeXBlIHNpbXBsZVR5cGUgPSBhc3QubmV3U2ltcGxl
VHlwZShhc3QubmV3U2ltcGxlTmFtZSgiSiIpKTsKKwkJCU1hcmtlckFubm90YXRpb24gYW5ub3Qg
PSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJYW5ub3Quc2V0VHlwZU5hbWUoYXN0Lm5l
d1NpbXBsZU5hbWUoIk1hcmtlcjMiKSk7CisJCQlzaW1wbGVUeXBlLmFubm90YXRpb25zKCkuYWRk
KGFubm90KTsKKwkJCWxpc3RSZXdyaXRlLmluc2VydExhc3Qoc2ltcGxlVHlwZSwgbnVsbCk7CisK
KwkJCXNpbXBsZVR5cGUgPSAoU2ltcGxlVHlwZSkgKChJbnRlcnNlY3Rpb25UeXBlKSBjYXN0VHlw
ZSkudHlwZXMoKS5nZXQoMCk7CisJCQlsaXN0UmV3cml0ZSA9IHJld3JpdGUuZ2V0TGlzdFJld3Jp
dGUoc2ltcGxlVHlwZSwgU2ltcGxlVHlwZS5BTk5PVEFUSU9OU19QUk9QRVJUWSk7CisJCQlsaXN0
UmV3cml0ZS5yZW1vdmUoKEFTVE5vZGUpIHNpbXBsZVR5cGUuYW5ub3RhdGlvbnMoKS5nZXQoMCks
IG51bGwpOworCQkJbGlzdFJld3JpdGUucmVtb3ZlKChBU1ROb2RlKSBzaW1wbGVUeXBlLmFubm90
YXRpb25zKCkuZ2V0KDEpLCBudWxsKTsKKwkJfQorCQl7CisJCQkvLyBDcmVhdGUgbmV3IGludGVy
c2VjdGlvbiBjYXN0IHR5cGVzCisJCQlJbnRlcnNlY3Rpb25UeXBlIGludGVyc2VjdGlvbiA9IGFz
dC5uZXdJbnRlcnNlY3Rpb25UeXBlKCk7CisJCQlTaW1wbGVUeXBlIHNpbXBsZVR5cGUgPSBhc3Qu
bmV3U2ltcGxlVHlwZShhc3QubmV3U2ltcGxlTmFtZSgiSSIpKTsKKwkJCU1hcmtlckFubm90YXRp
b24gYW5ub3QgPSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJYW5ub3Quc2V0VHlwZU5h
bWUoYXN0Lm5ld1NpbXBsZU5hbWUoIk1hcmtlcjEiKSk7CisJCQlzaW1wbGVUeXBlLmFubm90YXRp
b25zKCkuYWRkKGFubm90KTsKKwkJCWludGVyc2VjdGlvbi50eXBlcygpLmFkZChzaW1wbGVUeXBl
KTsKKwkJCQorCQkJc2ltcGxlVHlwZSA9IGFzdC5uZXdTaW1wbGVUeXBlKGFzdC5uZXdTaW1wbGVO
YW1lKCJKIikpOworCQkJYW5ub3QgPSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJYW5u
b3Quc2V0VHlwZU5hbWUoYXN0Lm5ld1NpbXBsZU5hbWUoIk1hcmtlcjIiKSk7CisJCQlzaW1wbGVU
eXBlLmFubm90YXRpb25zKCkuYWRkKGFubm90KTsKKwkJCWludGVyc2VjdGlvbi50eXBlcygpLmFk
ZChzaW1wbGVUeXBlKTsKKwkJCQorCQkJc2ltcGxlVHlwZSA9IGFzdC5uZXdTaW1wbGVUeXBlKGFz
dC5uZXdTaW1wbGVOYW1lKCJTZXJpYWxpemFibGUiKSk7CisJCQlhbm5vdCA9IGFzdC5uZXdNYXJr
ZXJBbm5vdGF0aW9uKCk7CisJCQlhbm5vdC5zZXRUeXBlTmFtZShhc3QubmV3U2ltcGxlTmFtZSgi
TWFya2VyMyIpKTsKKwkJCXNpbXBsZVR5cGUuYW5ub3RhdGlvbnMoKS5hZGQoYW5ub3QpOworCQkJ
aW50ZXJzZWN0aW9uLnR5cGVzKCkuYWRkKHNpbXBsZVR5cGUpOworCQorCQkJIHN0YXRlbWVudCA9
IChWYXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50KSBtZXRob2QuZ2V0Qm9keSgpLnN0YXRlbWVu
dHMoKS5nZXQoMSk7CisJCQlmcmFnbWVudCA9IChWYXJpYWJsZURlY2xhcmF0aW9uRnJhZ21lbnQp
IHN0YXRlbWVudC5mcmFnbWVudHMoKS5nZXQoMCk7CisJCQlDYXN0RXhwcmVzc2lvbiBjYXN0RXhw
ID0gYXN0Lm5ld0Nhc3RFeHByZXNzaW9uKCk7CisJCQljYXN0RXhwLnNldFR5cGUoaW50ZXJzZWN0
aW9uKTsKKwkJCWNhc3RFeHAuc2V0RXhwcmVzc2lvbihhc3QubmV3U2ltcGxlTmFtZSgib2JqIikp
OworCQkJcmV3cml0ZS5zZXQoZnJhZ21lbnQsIFZhcmlhYmxlRGVjbGFyYXRpb25GcmFnbWVudC5J
TklUSUFMSVpFUl9QUk9QRVJUWSwgY2FzdEV4cCwgbnVsbCk7CisJCX0KKwkJeworCQkJSW50ZXJz
ZWN0aW9uVHlwZSBpbnRlcnNlY3Rpb24gPSBhc3QubmV3SW50ZXJzZWN0aW9uVHlwZSgpOworCQkJ
U2ltcGxlVHlwZSBzaW1wbGVUeXBlID0gYXN0Lm5ld1NpbXBsZVR5cGUoYXN0Lm5ld1NpbXBsZU5h
bWUoIkkiKSk7CisJCQlNYXJrZXJBbm5vdGF0aW9uIGFubm90ID0gYXN0Lm5ld01hcmtlckFubm90
YXRpb24oKTsKKwkJCWFubm90LnNldFR5cGVOYW1lKGFzdC5uZXdTaW1wbGVOYW1lKCJNYXJrZXIx
IikpOworCQkJc2ltcGxlVHlwZS5hbm5vdGF0aW9ucygpLmFkZChhbm5vdCk7CisJCQlpbnRlcnNl
Y3Rpb24udHlwZXMoKS5hZGQoc2ltcGxlVHlwZSk7CisJCQkKKwkJCXNpbXBsZVR5cGUgPSBhc3Qu
bmV3U2ltcGxlVHlwZShhc3QubmV3U2ltcGxlTmFtZSgiU2VyaWFsaXphYmxlIikpOworCQkJYW5u
b3QgPSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJYW5ub3Quc2V0VHlwZU5hbWUoYXN0
Lm5ld1NpbXBsZU5hbWUoIk1hcmtlcjIiKSk7CisJCQlzaW1wbGVUeXBlLmFubm90YXRpb25zKCku
YWRkKGFubm90KTsKKwkJCWludGVyc2VjdGlvbi50eXBlcygpLmFkZChzaW1wbGVUeXBlKTsKKwkJ
CQorCQkJc3RhdGVtZW50ID0gKFZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQpIG1ldGhvZC5n
ZXRCb2R5KCkuc3RhdGVtZW50cygpLmdldCgyKTsKKwkJCWZyYWdtZW50ID0gKFZhcmlhYmxlRGVj
bGFyYXRpb25GcmFnbWVudCkgc3RhdGVtZW50LmZyYWdtZW50cygpLmdldCgwKTsKKwkJCUNhc3RF
eHByZXNzaW9uIGNhc3RFeHAgPSAoQ2FzdEV4cHJlc3Npb24pIGZyYWdtZW50LmdldEluaXRpYWxp
emVyKCk7CisJCQlyZXdyaXRlLnNldChjYXN0RXhwLCBDYXN0RXhwcmVzc2lvbi5UWVBFX1BST1BF
UlRZLCBpbnRlcnNlY3Rpb24sIG51bGwpOworCQl9CisJCXsgLy8gQWRkIGEgbmV3IGNhc3QgZXhw
cmVzc2lvbgorCQkJY2FzdCA9IGFzdC5uZXdDYXN0RXhwcmVzc2lvbigpOworCQkJSW50ZXJzZWN0
aW9uVHlwZSBpbnRlcnNlY3Rpb24gPSBhc3QubmV3SW50ZXJzZWN0aW9uVHlwZSgpOworCQkJU2lt
cGxlVHlwZSBzaW1wbGVUeXBlID0gYXN0Lm5ld1NpbXBsZVR5cGUoYXN0Lm5ld1NpbXBsZU5hbWUo
IkkiKSk7CisJCQlNYXJrZXJBbm5vdGF0aW9uIGFubm90ID0gYXN0Lm5ld01hcmtlckFubm90YXRp
b24oKTsKKwkJCWFubm90LnNldFR5cGVOYW1lKGFzdC5uZXdTaW1wbGVOYW1lKCJNYXJrZXIxIikp
OworCQkJc2ltcGxlVHlwZS5hbm5vdGF0aW9ucygpLmFkZChhbm5vdCk7CisJCQlpbnRlcnNlY3Rp
b24udHlwZXMoKS5hZGQoc2ltcGxlVHlwZSk7CisJCQkKKwkJCXNpbXBsZVR5cGUgPSBhc3QubmV3
U2ltcGxlVHlwZShhc3QubmV3U2ltcGxlTmFtZSgiU2VyaWFsaXphYmxlIikpOworCQkJYW5ub3Qg
PSBhc3QubmV3TWFya2VyQW5ub3RhdGlvbigpOworCQkJYW5ub3Quc2V0VHlwZU5hbWUoYXN0Lm5l
d1NpbXBsZU5hbWUoIk1hcmtlcjIiKSk7CisJCQlzaW1wbGVUeXBlLmFubm90YXRpb25zKCkuYWRk
KGFubm90KTsKKwkJCWludGVyc2VjdGlvbi50eXBlcygpLmFkZChzaW1wbGVUeXBlKTsKKwkJCWNh
c3Quc2V0VHlwZShpbnRlcnNlY3Rpb24pOworCQkJY2FzdC5zZXRFeHByZXNzaW9uKGFzdC5uZXdT
aW1wbGVOYW1lKCJvYmoiKSk7CisJCQkKKwkJCVJldHVyblN0YXRlbWVudCByZXR1cm5TdCA9IGFz
dC5uZXdSZXR1cm5TdGF0ZW1lbnQoKTsKKwkJCXJldHVyblN0LnNldEV4cHJlc3Npb24oY2FzdCk7
CisJCQlMaXN0UmV3cml0ZSBsaXN0UmV3cml0ZSA9IHJld3JpdGUuZ2V0TGlzdFJld3JpdGUobWV0
aG9kLmdldEJvZHkoKSwgQmxvY2suU1RBVEVNRU5UU19QUk9QRVJUWSk7CisJCQlsaXN0UmV3cml0
ZS5pbnNlcnRMYXN0KHJldHVyblN0LCBudWxsKTsKKwkJfQorCQlTdHJpbmcgcHJldmlldz0gZXZh
bHVhdGVSZXdyaXRlKGN1LCByZXdyaXRlKTsKKwkJY29udGVudCA9CisJCQkJImltcG9ydCBqYXZh
LmlvLlNlcmlhbGl6YWJsZTtcbiIgKworCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCQki
ICAgICAgcHVibGljIFNlcmlhbGl6YWJsZSBtYWluKE9iamVjdCBvYmopIHtcbiIgKworCQkJCSIg
ICAgICAgICBTZXJpYWxpemFibGUgbyA9ICgoU2VyaWFsaXphYmxlICYgSSAmIEBNYXJrZXIzIEop
ICgpIC0+IHt9KTtcbiIgKworCQkJCSIgICAgCSAgU2VyaWFsaXphYmxlIG9vID0gKEBNYXJrZXIx
IEkgJiBATWFya2VyMiBKICYgQE1hcmtlcjMgU2VyaWFsaXphYmxlKSBvYmo7XG4iICsKKwkJCQki
ICAgIAkgIFNlcmlhbGl6YWJsZSBvb28gPSAoQE1hcmtlcjEgSSAmIEBNYXJrZXIyIFNlcmlhbGl6
YWJsZSkgb2JqO1xuIiArCisJCQkJIiAgICAgICAgIHJldHVybiAoQE1hcmtlcjEgSSAmIEBNYXJr
ZXIyIFNlcmlhbGl6YWJsZSkgb2JqO1xuIiArCisJCQkJIiAgICAgIH1cbiIgKworCQkJCSJ9XG4i
ICsKKwkJCQkiaW50ZXJmYWNlIEkge1xuIiArCisJCQkJIiAgcHVibGljIHZvaWQgZm9vKCk7XG4i
ICsKKwkJCQkifVxuIiArCisJCQkJImludGVyZmFjZSBKIHtcbiIgKworCQkJCSIgIHB1YmxpYyB2
b2lkIGZvbygpO1xuIiArCisJCQkJIiAgcHVibGljIHZvaWQgYmFyKCk7XG4iICsKKwkJCQkifVxu
IiArCisJCQkJImludGVyZmFjZSBLIHtcbiIgKworCQkJCSIgIHB1YmxpYyB2b2lkIGZvbygpO1xu
IiArCisJCQkJIiAgcHVibGljIHZvaWQgYmFyKCk7XG4iICsKKwkJCQkifVxuIjsKKwkJYXNzZXJ0
RXF1YWxTdHJpbmcocHJldmlldywgY29udGVudCk7CisJfQorCiB9CmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL0RlZmF1bHRBU1RW
aXNpdG9yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2Nv
cmUvZG9tL0RlZmF1bHRBU1RWaXNpdG9yLmphdmEKaW5kZXggNTFmMmJmNC4uMDI5ZjNjYyAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2Rv
bS9EZWZhdWx0QVNUVmlzaXRvci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9v
cmcvZWNsaXBzZS9qZHQvY29yZS9kb20vRGVmYXVsdEFTVFZpc2l0b3IuamF2YQpAQCAtMTM5LDUg
KzEzOSw1IEBACiAJfQogCXB1YmxpYyB2b2lkIGVuZFZpc2l0KEludGVyc2VjdGlvblR5cGUgbm9k
ZSkgewotCQllbmRWaXNpdChub2RlKTsKKwkJZW5kVmlzaXROb2RlKG5vZGUpOwogCX0KIAlwdWJs
aWMgdm9pZCBlbmRWaXNpdChKYXZhZG9jIG5vZGUpIHsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9B
U1RSZXdyaXRlQW5hbHl6ZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9BU1RSZXdyaXRlQW5hbHl6ZXIuamF2
YQppbmRleCAzY2QyM2IzLi4xNzQ5MjYwIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvQVNUUmV3cml0
ZUFuYWx5emVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0FTVFJld3JpdGVBbmFseXplci5qYXZhCkBA
IC0yMzExLDQgKzIzMTEsMTQgQEAKIAkJcmV0dXJuIGZhbHNlOwogCX0KKwkvKiAobm9uLUphdmFk
b2MpCisJICogQHNlZSBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUVmlzaXRvciN2aXNpdChJ
bnRlcnNlY3Rpb25UeXBlKQorCSAqLworCXB1YmxpYyBib29sZWFuIHZpc2l0KEludGVyc2VjdGlv
blR5cGUgbm9kZSkgeworCQlpZiAoIWhhc0NoaWxkcmVuQ2hhbmdlcyhub2RlKSkgeworCQkJcmV0
dXJuIGRvVmlzaXRVbmNoYW5nZWRDaGlsZHJlbihub2RlKTsKKwkJfQorCQlyZXdyaXRlTm9kZUxp
c3Qobm9kZSwgSW50ZXJzZWN0aW9uVHlwZS5UWVBFU19QUk9QRVJUWSwgbm9kZS5nZXRTdGFydFBv
c2l0aW9uKCksIFV0aWwuRU1QVFlfU1RSSU5HLCAiICYgIik7IC8vJE5PTi1OTFMtMSQKKwkJcmV0
dXJuIGZhbHNlOworCX0KIAogCS8qIChub24tSmF2YWRvYyk=
</data>

          </attachment>
      

    </bug>

</bugzilla>