<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>433060</bug_id>
          
          <creation_ts>2014-04-17 20:50:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] enum E&lt;T&gt;{I;} causes NPE in AllocationExpression.checkTypeArgumentRedundancy</short_desc>
          <delta_ts>2014-05-03 07:34:36 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 8</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Timo Kinnunen">timo.kinnunen</reporter>
          <assigned_to name="Sasikanth Bharadwaj">saammana</assigned_to>
          <cc>jarthana</cc>
    
    <cc>srikanth_sankaran</cc>
    
    <cc>the.ubik</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="62102"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2390477</commentid>
    <comment_count>0</comment_count>
    <who name="Timo Kinnunen">timo.kinnunen</who>
    <bug_when>2014-04-17 20:50:37 -0400</bug_when>
    <thetext>Trying to write a generic enum leads to error message popup, the file being marked with internal compiler error and lots of errors being logged. To reproduce just uncomment the rest of the line in this test-case:

package npe_oejica_AllocationExpression_checkTypeArgumentRedundancy_line_621;

public enum AutoCloser//&lt;T&gt; 
{
	OBJ;
}

Here&apos;s the full stack trace:
java.lang.NullPointerException
	at org.eclipse.jdt.internal.compiler.ast.AllocationExpression.checkTypeArgumentRedundancy(AllocationExpression.java:621)
	at org.eclipse.jdt.internal.compiler.ast.AllocationExpression.resolvePart3(AllocationExpression.java:548)
	at org.eclipse.jdt.internal.compiler.ast.AllocationExpression.resolveType(AllocationExpression.java:488)
	at org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.resolve(FieldDeclaration.java:264)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1143)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1317)
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:587)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:1204)
	at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:689)
	at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:1183)
	at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:809)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:544)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:537)
	at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:480)
	at org.eclipse.jdt.ui.SharedASTProvider.getAST(SharedASTProvider.java:128)
	at org.eclipse.jdt.internal.ui.text.java.hover.NLSStringHover.internalGetHoverInfo(NLSStringHover.java:135)
	at org.eclipse.jdt.internal.ui.text.java.hover.NLSStringHover.getHoverInfo2(NLSStringHover.java:114)
	at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:163)
	at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:129)
	at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo2(JavaEditorTextHoverProxy.java:85)
	at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:166)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390556</commentid>
    <comment_count>1</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-18 06:50:08 -0400</bug_when>
    <thetext>Srikanth, please take a look.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391098</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-04-22 01:46:03 -0400</bug_when>
    <thetext>Sasi, please take a look. Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391723</commentid>
    <comment_count>3</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-23 04:36:51 -0400</bug_when>
    <thetext>Occurs when the severity level for redundant type arguments is set to error/warning. A null check should suffice. Will add patch after running tests</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391770</commentid>
    <comment_count>4</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-23 06:19:44 -0400</bug_when>
    <thetext>My contribution for this defect fix complies with http://www.eclipse.org/legal/CoO.php</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391782</commentid>
    <comment_count>5</comment_count>
      <attachid>242226</attachid>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-23 06:38:16 -0400</bug_when>
    <thetext>Created attachment 242226
patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391785</commentid>
    <comment_count>6</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-23 06:41:08 -0400</bug_when>
    <thetext>Added null check and a test. All tests pass with the change.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2392224</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-04-24 01:35:44 -0400</bug_when>
    <thetext>Please leave a space after if and (

Fix looks good. Released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=59ccfc02e85b3cb54d1260f0f13d4e77dbe5b35a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2394705</commentid>
    <comment_count>8</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-29 08:46:58 -0400</bug_when>
    <thetext>Verified for 4.4 M7 with build I20140428-2000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2396416</commentid>
    <comment_count>9</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-05-03 07:34:36 -0400</bug_when>
    <thetext>*** Bug 434030 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242226</attachid>
            <date>2014-04-23 06:38:00 -0400</date>
            <delta_ts>2014-04-23 06:38:16 -0400</delta_ts>
            <desc>patch</desc>
            <filename>433060_eclipse.jdt.coreandtests.patch</filename>
            <type>text/plain</type>
            <size>2326</size>
            <attacher name="Sasikanth Bharadwaj">saammana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0VudW1UZXN0LmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9FbnVtVGVzdC5qYXZhCmluZGV4IGFhNWQw
MTcuLmE1YmU4YjIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBp
bGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0Vu
dW1UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vRW51bVRlc3Qu
amF2YQpAQCAtNzA1OSw0ICs3MDU5LDI2IEBACiAJCXRydWUsIC8vIGZsdXNoCiAJCW9wdGlvbnMp
OwogfQorCisvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9
NDMzMDYwIFsxLjhdW2NvbXBpbGVyXSBlbnVtIEU8VD57STt9IGNhdXNlcyBOUEUgaW4gQWxsb2Nh
dGlvbkV4cHJlc3Npb24uY2hlY2tUeXBlQXJndW1lbnRSZWR1bmRhbmN5CitwdWJsaWMgdm9pZCB0
ZXN0NDMzMDYwKCkgeworCU1hcCBvcHRpb25zID0gZ2V0Q29tcGlsZXJPcHRpb25zKCk7CisJb3B0
aW9ucy5wdXQoSmF2YUNvcmUuQ09NUElMRVJfUEJfUkVEVU5EQU5UX1RZUEVfQVJHVU1FTlRTLCBK
YXZhQ29yZS5FUlJPUik7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJpbmdbXSB7
CisJCQkiWC5qYXZhIiwKKwkJCSJwdWJsaWMgZW51bSBYPFQ+IHtcbiIgKyAKKwkJCSIJT0JKO1xu
IiArIAorCQkJIn0iCisJCX0sCisJCSItLS0tLS0tLS0tXG4iICsgCisJCSIxLiBFUlJPUiBpbiBY
LmphdmEgKGF0IGxpbmUgMSlcbiIgKyAKKwkJIglwdWJsaWMgZW51bSBYPFQ+IHtcbiIgKyAKKwkJ
IgkgICAgICAgICAgICAgIF5cbiIgKyAKKwkJIlN5bnRheCBlcnJvciwgZW51bSBkZWNsYXJhdGlv
biBjYW5ub3QgaGF2ZSB0eXBlIHBhcmFtZXRlcnNcbiIgKyAKKwkJIi0tLS0tLS0tLS1cbiIsCisJ
CW51bGwsCisJCXRydWUsCisJCW9wdGlvbnMpOworfQogfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9BbGxvY2F0aW9uRXhwcmVzc2lvbi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BbGxvY2F0aW9uRXhwcmVz
c2lvbi5qYXZhCmluZGV4IDdjMTVhZWQuLjYwZWZlZDUgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
QWxsb2NhdGlvbkV4cHJlc3Npb24uamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0FsbG9jYXRpb25FeHBy
ZXNzaW9uLmphdmEKQEAgLTYwMSw2ICs2MDEsNyBAQAogCWlmICgoc2NvcGUucHJvYmxlbVJlcG9y
dGVyKCkuY29tcHV0ZVNldmVyaXR5KElQcm9ibGVtLlJlZHVuZGFudFNwZWNpZmljYXRpb25PZlR5
cGVBcmd1bWVudHMpID09IFByb2JsZW1TZXZlcml0aWVzLklnbm9yZSkgfHwgc2NvcGUuY29tcGls
ZXJPcHRpb25zKCkuc291cmNlTGV2ZWwgPCBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV83KSByZXR1
cm47CiAJaWYgKGFsbG9jYXRpb25UeXBlLmFyZ3VtZW50cyA9PSBudWxsKSByZXR1cm47ICAvLyBy
YXcgYmluZGluZwogCWlmICh0aGlzLmdlbmVyaWNUeXBlQXJndW1lbnRzICE9IG51bGwpIHJldHVy
bjsgLy8gZGlhbW9uZCBjYW4ndCBvY2N1ciB3aXRoIGV4cGxpY2l0IHR5cGUgYXJncyBmb3IgY29u
c3RydWN0b3IKKwlpZih0aGlzLnR5cGUgPT0gbnVsbCkgcmV0dXJuOwogCWlmIChhcmd1bWVudFR5
cGVzID09IEJpbmRpbmcuTk9fUEFSQU1FVEVSUyAmJiB0aGlzLnR5cGVFeHBlY3RlZCBpbnN0YW5j
ZW9mIFBhcmFtZXRlcml6ZWRUeXBlQmluZGluZykgewogCQlQYXJhbWV0ZXJpemVkVHlwZUJpbmRp
bmcgZXhwZWN0ZWQgPSAoUGFyYW1ldGVyaXplZFR5cGVCaW5kaW5nKSB0aGlzLnR5cGVFeHBlY3Rl
ZDsKIAkJaWYgKGV4cGVjdGVkLmFyZ3VtZW50cyAhPSBudWxsICYmIGFsbG9jYXRpb25UeXBlLmFy
Z3VtZW50cy5sZW5ndGggPT0gZXhwZWN0ZWQuYXJndW1lbnRzLmxlbmd0aCkgew==
</data>

          </attachment>
      

    </bug>

</bugzilla>