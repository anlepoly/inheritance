<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>415860</bug_id>
          
          <creation_ts>2013-08-26 07:51:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] EclipseCompiler should not hard code compliance level</short_desc>
          <delta_ts>2013-09-30 01:07:36 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>WONTFIX</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>414627</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Jay Arthanareeswaran">jarthana</reporter>
          <assigned_to name="ANIRBAN CHAKRABORTY">anchakrk</assigned_to>
          <cc>anchakrk</cc>
    
    <cc>markus_keller</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="59281"
          type_id="1"
          status="+"
          setter="jarthana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2298902</commentid>
    <comment_count>0</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-26 07:51:01 -0400</bug_when>
    <thetext>We have the following code in EclipseCompiler.java, which is our implementation of JavaCompiler:

  eclipseCompiler2.options.put(CompilerOptions.OPTION_Compliance, CompilerOptions.VERSION_1_6);
  eclipseCompiler2.options.put(CompilerOptions.OPTION_Source, CompilerOptions.VERSION_1_6);
  eclipseCompiler2.options.put(CompilerOptions.OPTION_TargetPlatform, CompilerOptions.VERSION_1_6);

There has to be a way clients, at least, JDT core tests that use this, can pass a different compliance level than this.

This is affecting the new tests I am planning to add as part of bug 414627.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2299322</commentid>
    <comment_count>1</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-27 00:22:38 -0400</bug_when>
    <thetext>I also see this EclipseCompiler.java. Looks like this needs to be updated too. But wasn&apos;t touched for Java 7.


// Eclipse compiler supports all possible versions from version 0 to
		// version 6
		// we don&apos;t care about the order
EnumSet&lt;SourceVersion&gt; enumSet = EnumSet.range(SourceVersion.RELEASE_0, SourceVersion.RELEASE_6);

Olivier, can you throw some light on this, esp. the piece of code I shared in comment #0 ? Is it okay to set the compliance and source level to 1.8?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2299335</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-08-27 01:39:09 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; We have the following code in EclipseCompiler.java, which is our
&gt; implementation of JavaCompiler:
&gt; 
&gt;   eclipseCompiler2.options.put(CompilerOptions.OPTION_Compliance,
&gt; CompilerOptions.VERSION_1_6);
&gt;   eclipseCompiler2.options.put(CompilerOptions.OPTION_Source,
&gt; CompilerOptions.VERSION_1_6);
&gt;   eclipseCompiler2.options.put(CompilerOptions.OPTION_TargetPlatform,
&gt; CompilerOptions.VERSION_1_6);
&gt; 
&gt; There has to be a way clients, at least, JDT core tests that use this, can
&gt; pass a different compliance level than this.

Via org.eclipse.jdt.internal.compiler.tool.EclipseCompiler.run(InputStream, OutputStream, OutputStream, String...) ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2299508</commentid>
    <comment_count>3</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2013-08-27 09:07:31 -0400</bug_when>
    <thetext>If I remember well, this is related to the fact that this compiler had to be able to consume 1.6 annotation processors. As is it had to be at least 1.6 compliant. Any value above 1.6 should work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2299778</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-08-27 19:20:40 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; If I remember well, this is related to the fact that this compiler had to be
&gt; able to consume 1.6 annotation processors. As is it had to be at least 1.6
&gt; compliant. Any value above 1.6 should work.

I agree. Jay, we can fix this beginning Java 8 - since it is not material to
Java 7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301084</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-08-30 00:59:08 -0400</bug_when>
    <thetext>Jay, Anirban is looking for compiler items, assign this to him ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301085</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-30 01:07:00 -0400</bug_when>
    <thetext>Anirban, please take this forward. This should take only couple of hours including testing. Let me know if you need any information on testing the fix.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301180</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-30 05:20:47 -0400</bug_when>
    <thetext>As Anirban just found out, SourceVersion.RELEASE_8 is available only in JDK 8 and to access the same, we need JDK 8 in the build path. I am not sure if there&apos;s another way.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301187</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-08-30 05:33:51 -0400</bug_when>
    <thetext>We should not hardcode again: See javax.lang.model.SourceVersion.latest() and javax.lang.model.SourceVersion.latestSupported()</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301202</commentid>
    <comment_count>9</comment_count>
      <attachid>235027</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-30 06:08:48 -0400</bug_when>
    <thetext>Created attachment 235027
Testcase

Patch that can be used as a test case. When this patch is applied on BETA_JAVA and org.eclipse.jdt.compiler.apt.tests.AllTests is run with b100, there should be just one failure. But now you would see an additional failure, which should go away when the fix is in place.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301239</commentid>
    <comment_count>10</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-08-30 08:23:55 -0400</bug_when>
    <thetext>(In reply to comment #9)
&gt; Created attachment 235027 [details]
&gt; Testcase
&gt; 
&gt; Patch that can be used as a test case. When this patch is applied on
&gt; BETA_JAVA and org.eclipse.jdt.compiler.apt.tests.AllTests is run with b100,
&gt; there should be just one failure. But now you would see an additional
&gt; failure, which should go away when the fix is in place.

Forgot to mention this:
Whenever you make changes to the test files or the test APT processors in compiler.apt.tests, you must recreate a certain jar by running compiler.apt.tests\apttestprocessors.jardesc.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301436</commentid>
    <comment_count>11</comment_count>
      <attachid>235055</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-08-30 16:56:33 -0400</bug_when>
    <thetext>Created attachment 235055
Patch for the fix

Hello,
Jay uploaded the testcase in the previous patch.
This patch represents the code change.
Thanks
Anirban</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301665</commentid>
    <comment_count>12</comment_count>
      <attachid>235063</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-09-01 14:41:23 -0400</bug_when>
    <thetext>Created attachment 235063
Patch for the fix

Hello,
Patch with dynamic assignment of latest supported source version.
Thanks
Anirban</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301737</commentid>
    <comment_count>13</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-02 05:32:45 -0400</bug_when>
    <thetext>(In reply to ANIRBAN CHAKRABORTY from comment #12)
&gt; Created attachment 235063 [details]
&gt; Patch for the fix

Anirban, since you are not hard-coding the latest supported version, I think the move from JavaSE1.6 to JavaSE1.8 to the compiler.tool project is not necessary. Can you please remove that classpath change from the patch? Also please include the test case in the same patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2301807</commentid>
    <comment_count>14</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-09-02 10:11:59 -0400</bug_when>
    <thetext>I thought I added this comment earlier, but it seems to be missing:

Please update the comment:

 		// Eclipse compiler supports all possible versions from version 0 to
 		// version 6
 		// we don&apos;t care about the order

that exists one line before the place which is changed by the patch, TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2302404</commentid>
    <comment_count>15</comment_count>
      <attachid>235124</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-09-03 18:03:53 -0400</bug_when>
    <thetext>Created attachment 235124
Patch accommodating review comments.

Patch accommodating review comments.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2302457</commentid>
    <comment_count>16</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-04 02:32:52 -0400</bug_when>
    <thetext>Pushed to BETA_JAVA8:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=b40a58ab0876d24632a275ef1be808b26bd863a5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303350</commentid>
    <comment_count>17</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-09-05 14:24:17 -0400</bug_when>
    <thetext>This change broke org.eclipse.jdt.compiler.tool.tests.AllTests.

You also have to update the bundle version in MANIFEST.MF and pom.xml to 1.0.300 (for both the production and the test bundle), and you should add the 1.8/8/8.0 to the static initializer in org.eclipse.jdt.internal.compiler.tool.Options


(In reply to Srikanth Sankaran from comment #8)
&gt; We should not hardcode again: See javax.lang.model.SourceVersion.latest()
&gt; and javax.lang.model.SourceVersion.latestSupported()

I don&apos;t think that change was correct. Doesn&apos;t that mean a org.eclipse.jdt.compiler.tool.jar compiled today will include 1.9 when it is run with a 1.9 EE? And it would say it&apos;s not able to compile 1.8 source code if it&apos;s running on a 1.7 EE.

The org.eclipse.jdt.compiler.tool bundle should stay at BREE 1.6, and the EclipseCompiler should use other means to find the latest supported releases &gt; 6. The EnumSet.range(..) is also a bit scary, since it assumes the order of enum constants is immutable. JLS7 13.4.26 explicitly allows reordering of constants, so I wouldn&apos;t say it&apos;s safe to rely on the declaration order.

We should use explicit references to SourceVersion.RELEASE_0-6 and use SourceVersion.valueOf(&quot;RELEASE_7&quot;) etc. for later versions (catch the IAE if we&apos;re running on a 1.6 EE).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303497</commentid>
    <comment_count>18</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-06 00:52:21 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #17)
&gt; The EnumSet.range(..) is also a bit scary, since it assumes the order
&gt; of enum constants is immutable. JLS7 13.4.26 explicitly allows reordering of
&gt; constants, so I wouldn&apos;t say it&apos;s safe to rely on the declaration order.


The EnumSet&apos;s javadoc has this:

&quot;The iterator returned by the iterator method traverses the elements in their natural order (the order in which the enum constants are declared). &quot;

This combined with the unmodifiable collection should be good enough, isn&apos;t it?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303500</commentid>
    <comment_count>19</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-06 01:14:31 -0400</bug_when>
    <thetext>Looks like the following code has problem too:

eclipseCompiler2.options.put(CompilerOptions.OPTION_Compliance, CompilerOptions.VERSION_1_8);

We need something like this:

		String compilerVersion = null;
		try {
			SourceVersion.valueOf(&quot;RELEASE_8&quot;); //$NON-NLS-1$
			compilerVersion = CompilerOptions.VERSION_1_8;
			
		} catch (IllegalArgumentException iae) {
			compilerVersion = CompilerOptions.VERSION_1_6;
		}
		eclipseCompiler2.options.put(CompilerOptions.OPTION_Compliance, compilerVersion);
		....

But even that&apos;s not going to be enough because some of the tests are hard-coding the JDK level, like this:

assertEquals(&quot;Wrong value&quot;, ClassFileConstants.JDK1_6, reader.getVersion());</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303503</commentid>
    <comment_count>20</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-06 01:32:44 -0400</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #2)
&gt; &gt; There has to be a way clients, at least, JDT core tests that use this, can
&gt; &gt; pass a different compliance level than this.
&gt; 
&gt; Via org.eclipse.jdt.internal.compiler.tool.EclipseCompiler.run(InputStream,
&gt; OutputStream, OutputStream, String...) ?

Looks like the tests are not passing the compliance level at all and relying on the EclipseCompiler to set it to 1_6. And as I mentioned in comment #19, the always expect the code to be compiled at 1.6 :(</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303612</commentid>
    <comment_count>21</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-06 06:21:44 -0400</bug_when>
    <thetext>I have reverted the changes made by commit b40a58ab0876d24632a275ef1be808b26bd863a5 to avoid the failures. I figured we can force the compliance level from the tests directly (even though we are not doing it at the moment and relying on EclipseCompiler to hard-code 1.6). We will run into this problem pretty soon when we have to add annotation processors with 1.8 support.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2303624</commentid>
    <comment_count>22</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-09-06 06:55:18 -0400</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #18)
If you assume that the order of declarations in the SourceVersion enum won&apos;t change, then everything is safe. But my point is that nothing prevents the maintainers of that class from changing the declaration order (neither a Javadoc contract nor binary compatibility rules). Therefore, EnumSet.range(..) is unsafe, unless the order of declarations is guaranteed to be stable.

Like the Oracle Java 7 JRE could &quot;legally&quot; change the order in Class#getDeclaredMethods(), this could also apply here (without breaking any rules). Or they could add RELEASE_7_JIGSAW between RELEASE_7 and RELEASE_8, and if we use a range, we would wrongly include it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2312227</commentid>
    <comment_count>23</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-09-29 12:59:02 -0400</bug_when>
    <thetext>Jay, what do you recommend as the way forward ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2312337</commentid>
    <comment_count>24</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-09-30 01:07:36 -0400</bug_when>
    <thetext>Earlier, I thought there is no way for our tests to override the 1.6 level that is set as default. But I figured there is a way the tests can override this by just adding &quot;-1.8&quot; to the options before invoking the compiler.

So, I guess we don&apos;t need do anything here, at least for the time being.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>235027</attachid>
            <date>2013-08-30 06:08:00 -0400</date>
            <delta_ts>2013-08-30 06:08:48 -0400</delta_ts>
            <desc>Testcase</desc>
            <filename>Temp.patch</filename>
            <type>text/plain</type>
            <size>413</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29tcGls
ZXIuYXB0LnRlc3RzCmRpZmYgLS1naXQgcmVzb3VyY2VzL3RhcmdldHMvZGlzcGF0Y2gvWC5qYXZh
IHJlc291cmNlcy90YXJnZXRzL2Rpc3BhdGNoL1guamF2YQppbmRleCA2YWQ0NTUxLi40MzhiOWI5
IDEwMDY0NAotLS0gcmVzb3VyY2VzL3RhcmdldHMvZGlzcGF0Y2gvWC5qYXZhCisrKyByZXNvdXJj
ZXMvdGFyZ2V0cy9kaXNwYXRjaC9YLmphdmEKQEAgLTE3LDMgKzE3LDggQEAKIAkJU3lzdGVtLm91
dC5wcmludGxuKG5ldyBaKCkpOwogCX0KK30KK2ludGVyZmFjZSBJIHsKKwlkZWZhdWx0IFN0cmlu
ZyBkZWZhdWx0TWV0aG9kICgpIHsKKwkJcmV0dXJuIG51bGw7CisJfQogfQpcIE5vIG5ld2xpbmUg
YXQgZW5kIG9mIGZpbGU=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>235055</attachid>
            <date>2013-08-30 16:56:00 -0400</date>
            <delta_ts>2013-09-01 14:41:23 -0400</delta_ts>
            <desc>Patch for the fix</desc>
            <filename>Bug-415860-new.patch</filename>
            <type>text/plain</type>
            <size>3744</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sLy5jbGFzc3BhdGggYi9v
cmcuZWNsaXBzZS5qZHQuY29tcGlsZXIudG9vbC8uY2xhc3NwYXRoCmluZGV4IGRlYjY3MzYuLjAx
ODM2YzQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sLy5jbGFzc3Bh
dGgKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRvb2wvLmNsYXNzcGF0aApAQCAtMSw3
ICsxLDcgQEAKIDw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+CiA8Y2xhc3Nw
YXRoPgogCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJzcmMiIHBhdGg9InNyYyIvPgogCTxjbGFzc3Bh
dGhlbnRyeSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLnBkZS5jb3JlLnJlcXVpcmVkUGx1
Z2lucyIvPgotCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLmpk
dC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5FUi9vcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuZGVidWcu
dWkubGF1bmNoZXIuU3RhbmRhcmRWTVR5cGUvSmF2YVNFLTEuNiIvPgorCTxjbGFzc3BhdGhlbnRy
eSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLmpkdC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5F
Ui9vcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuZGVidWcudWkubGF1bmNoZXIuU3RhbmRhcmRWTVR5
cGUvSmF2YVNFLTEuOCIvPgogCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJvdXRwdXQiIHBhdGg9ImJp
biIvPgogPC9jbGFzc3BhdGg+CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIu
dG9vbC9zcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Rvb2wvRWNsaXBzZUNv
bXBpbGVyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIudG9vbC9zcmMvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Rvb2wvRWNsaXBzZUNvbXBpbGVyLmphdmEKaW5kZXgg
NTJhY2U2Zi4uOWZmMGEwMCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRv
b2wvc3JjL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci90b29sL0VjbGlwc2VDb21w
aWxlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sL3NyYy9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvdG9vbC9FY2xpcHNlQ29tcGlsZXIuamF2YQpAQCAt
MSwxMiArMSwxNiBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykg
MjAwNiwgMjAxMCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykg
MjAwNiwgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFy
ZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExp
Y2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBp
cyBhdmFpbGFibGUgYXQKICAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5o
dG1sCiAgKgorICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBhbiBlYXJseS1kcmFmdCBz
cGVjaWZpY2F0aW9uIGRldmVsb3BlZCB1bmRlciB0aGUgSmF2YQorICogQ29tbXVuaXR5IFByb2Nl
c3MgKEpDUCkgYW5kIGlzIG1hZGUgYXZhaWxhYmxlIGZvciB0ZXN0aW5nIGFuZCBldmFsdWF0aW9u
IHB1cnBvc2VzCisgKiBvbmx5LiBUaGUgY29kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGFueSBz
cGVjaWZpY2F0aW9uIG9mIHRoZSBKQ1AuCisgKiAKICAqIENvbnRyaWJ1dG9yczoKICAqICAgICBJ
Qk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KICAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGls
ZXIudG9vbDsKIApAQCAtNDYsMTEgKzUwLDExIEBACiAJcHJpdmF0ZSBzdGF0aWMgU2V0PFNvdXJj
ZVZlcnNpb24+IFN1cHBvcnRlZFNvdXJjZVZlcnNpb25zOwogCXN0YXRpYyB7CiAJCS8vIEVjbGlw
c2UgY29tcGlsZXIgc3VwcG9ydHMgYWxsIHBvc3NpYmxlIHZlcnNpb25zIGZyb20gdmVyc2lvbiAw
IHRvCiAJCS8vIHZlcnNpb24gNgogCQkvLyB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSBvcmRlcgot
CQlFbnVtU2V0PFNvdXJjZVZlcnNpb24+IGVudW1TZXQgPSBFbnVtU2V0LnJhbmdlKFNvdXJjZVZl
cnNpb24uUkVMRUFTRV8wLCBTb3VyY2VWZXJzaW9uLlJFTEVBU0VfNik7CisJCUVudW1TZXQ8U291
cmNlVmVyc2lvbj4gZW51bVNldCA9IEVudW1TZXQucmFuZ2UoU291cmNlVmVyc2lvbi5SRUxFQVNF
XzAsIFNvdXJjZVZlcnNpb24uUkVMRUFTRV84KTsKIAkJLy8gd2UgZG9uJ3Qgd2FudCBhbnlib2R5
IHRvIG1vZGlmeSB0aGlzIGxpc3QKIAkJRWNsaXBzZUNvbXBpbGVyLlN1cHBvcnRlZFNvdXJjZVZl
cnNpb25zID0gQ29sbGVjdGlvbnMudW5tb2RpZmlhYmxlU2V0KGVudW1TZXQpOwogCX0KIAogCVdl
YWtIYXNoTWFwPFRocmVhZCwgRWNsaXBzZUNvbXBpbGVySW1wbD4gdGhyZWFkQ2FjaGU7CkBAIC0x
MTMsMTMgKzExNywxMyBAQAogCQkJZWNsaXBzZUNvbXBpbGVyMi5maWxlTWFuYWdlciA9IGZpbGVN
YW5hZ2VyOwogCQl9IGVsc2UgewogCQkJZWNsaXBzZUNvbXBpbGVyMi5maWxlTWFuYWdlciA9IHRo
aXMuZ2V0U3RhbmRhcmRGaWxlTWFuYWdlcihzb21lRGlhZ25vc3RpY0xpc3RlbmVyLCBudWxsLCBu
dWxsKTsKIAkJfQogCi0JCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRp
b25zLk9QVElPTl9Db21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzYpOwotCQll
Y2xpcHNlQ29tcGlsZXIyLm9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNl
LCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzYpOwotCQllY2xpcHNlQ29tcGlsZXIyLm9wdGlv
bnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fVGFyZ2V0UGxhdGZvcm0sIENvbXBpbGVyT3B0
aW9ucy5WRVJTSU9OXzFfNik7CisJCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGls
ZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgp
OworCQllY2xpcHNlQ29tcGlsZXIyLm9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05f
U291cmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQllY2xpcHNlQ29tcGlsZXIy
Lm9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fVGFyZ2V0UGxhdGZvcm0sIENvbXBp
bGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CiAKIAkJQXJyYXlMaXN0PFN0cmluZz4gYWxsT3B0aW9u
cyA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOwogCQlpZiAob3B0aW9ucyAhPSBudWxsKSB7CiAJ
CQlmb3IgKEl0ZXJhdG9yPFN0cmluZz4gaXRlcmF0b3IgPSBvcHRpb25zLml0ZXJhdG9yKCk7IGl0
ZXJhdG9yLmhhc05leHQoKTsgKSB7CiAJCQkJZWNsaXBzZUNvbXBpbGVyMi5maWxlTWFuYWdlci5o
YW5kbGVPcHRpb24oaXRlcmF0b3IubmV4dCgpLCBpdGVyYXRvcik7
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>235063</attachid>
            <date>2013-09-01 14:41:00 -0400</date>
            <delta_ts>2013-09-03 18:03:53 -0400</delta_ts>
            <desc>Patch for the fix</desc>
            <filename>Bug-415860.patch</filename>
            <type>text/plain</type>
            <size>3752</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sLy5jbGFzc3BhdGggYi9v
cmcuZWNsaXBzZS5qZHQuY29tcGlsZXIudG9vbC8uY2xhc3NwYXRoCmluZGV4IGRlYjY3MzYuLjAx
ODM2YzQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sLy5jbGFzc3Bh
dGgKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRvb2wvLmNsYXNzcGF0aApAQCAtMSw3
ICsxLDcgQEAKIDw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+CiA8Y2xhc3Nw
YXRoPgogCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJzcmMiIHBhdGg9InNyYyIvPgogCTxjbGFzc3Bh
dGhlbnRyeSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLnBkZS5jb3JlLnJlcXVpcmVkUGx1
Z2lucyIvPgotCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLmpk
dC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5FUi9vcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuZGVidWcu
dWkubGF1bmNoZXIuU3RhbmRhcmRWTVR5cGUvSmF2YVNFLTEuNiIvPgorCTxjbGFzc3BhdGhlbnRy
eSBraW5kPSJjb24iIHBhdGg9Im9yZy5lY2xpcHNlLmpkdC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5F
Ui9vcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuZGVidWcudWkubGF1bmNoZXIuU3RhbmRhcmRWTVR5
cGUvSmF2YVNFLTEuOCIvPgogCTxjbGFzc3BhdGhlbnRyeSBraW5kPSJvdXRwdXQiIHBhdGg9ImJp
biIvPgogPC9jbGFzc3BhdGg+CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIu
dG9vbC9zcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Rvb2wvRWNsaXBzZUNv
bXBpbGVyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIudG9vbC9zcmMvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Rvb2wvRWNsaXBzZUNvbXBpbGVyLmphdmEKaW5kZXgg
NTJhY2U2Zi4uY2Y2NTBiZSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRv
b2wvc3JjL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci90b29sL0VjbGlwc2VDb21w
aWxlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sL3NyYy9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvdG9vbC9FY2xpcHNlQ29tcGlsZXIuamF2YQpAQCAt
MSwxMiArMSwxNiBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykg
MjAwNiwgMjAxMCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykg
MjAwNiwgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFy
ZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExp
Y2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBp
cyBhdmFpbGFibGUgYXQKICAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5o
dG1sCiAgKgorICogVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBhbiBlYXJseS1kcmFmdCBz
cGVjaWZpY2F0aW9uIGRldmVsb3BlZCB1bmRlciB0aGUgSmF2YQorICogQ29tbXVuaXR5IFByb2Nl
c3MgKEpDUCkgYW5kIGlzIG1hZGUgYXZhaWxhYmxlIGZvciB0ZXN0aW5nIGFuZCBldmFsdWF0aW9u
IHB1cnBvc2VzCisgKiBvbmx5LiBUaGUgY29kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGFueSBz
cGVjaWZpY2F0aW9uIG9mIHRoZSBKQ1AuCisgKiAKICAqIENvbnRyaWJ1dG9yczoKICAqICAgICBJ
Qk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KICAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGls
ZXIudG9vbDsKIApAQCAtNDYsMTEgKzUwLDExIEBACiAJcHJpdmF0ZSBzdGF0aWMgU2V0PFNvdXJj
ZVZlcnNpb24+IFN1cHBvcnRlZFNvdXJjZVZlcnNpb25zOwogCXN0YXRpYyB7CiAJCS8vIEVjbGlw
c2UgY29tcGlsZXIgc3VwcG9ydHMgYWxsIHBvc3NpYmxlIHZlcnNpb25zIGZyb20gdmVyc2lvbiAw
IHRvCiAJCS8vIHZlcnNpb24gNgogCQkvLyB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSBvcmRlcgot
CQlFbnVtU2V0PFNvdXJjZVZlcnNpb24+IGVudW1TZXQgPSBFbnVtU2V0LnJhbmdlKFNvdXJjZVZl
cnNpb24uUkVMRUFTRV8wLCBTb3VyY2VWZXJzaW9uLlJFTEVBU0VfNik7CisJCUVudW1TZXQ8U291
cmNlVmVyc2lvbj4gZW51bVNldCA9IEVudW1TZXQucmFuZ2UoU291cmNlVmVyc2lvbi5SRUxFQVNF
XzAsIFNvdXJjZVZlcnNpb24ubGF0ZXN0U3VwcG9ydGVkKCkpOwogCQkvLyB3ZSBkb24ndCB3YW50
IGFueWJvZHkgdG8gbW9kaWZ5IHRoaXMgbGlzdAogCQlFY2xpcHNlQ29tcGlsZXIuU3VwcG9ydGVk
U291cmNlVmVyc2lvbnMgPSBDb2xsZWN0aW9ucy51bm1vZGlmaWFibGVTZXQoZW51bVNldCk7CiAJ
fQogCiAJV2Vha0hhc2hNYXA8VGhyZWFkLCBFY2xpcHNlQ29tcGlsZXJJbXBsPiB0aHJlYWRDYWNo
ZTsKQEAgLTExMywxMyArMTE3LDEzIEBACiAJCQllY2xpcHNlQ29tcGlsZXIyLmZpbGVNYW5hZ2Vy
ID0gZmlsZU1hbmFnZXI7CiAJCX0gZWxzZSB7CiAJCQllY2xpcHNlQ29tcGlsZXIyLmZpbGVNYW5h
Z2VyID0gdGhpcy5nZXRTdGFuZGFyZEZpbGVNYW5hZ2VyKHNvbWVEaWFnbm9zdGljTGlzdGVuZXIs
IG51bGwsIG51bGwpOwogCQl9CiAKLQkJZWNsaXBzZUNvbXBpbGVyMi5vcHRpb25zLnB1dChDb21w
aWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFf
Nik7Ci0JCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElP
Tl9Tb3VyY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfNik7Ci0JCWVjbGlwc2VDb21waWxl
cjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9UYXJnZXRQbGF0Zm9ybSwgQ29t
cGlsZXJPcHRpb25zLlZFUlNJT05fMV82KTsKKwkJZWNsaXBzZUNvbXBpbGVyMi5vcHRpb25zLnB1
dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJT
SU9OXzFfOCk7CisJCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25z
Lk9QVElPTl9Tb3VyY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCWVjbGlwc2VD
b21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9UYXJnZXRQbGF0Zm9y
bSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84KTsKIAogCQlBcnJheUxpc3Q8U3RyaW5nPiBh
bGxPcHRpb25zID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAJCWlmIChvcHRpb25zICE9IG51
bGwpIHsKIAkJCWZvciAoSXRlcmF0b3I8U3RyaW5nPiBpdGVyYXRvciA9IG9wdGlvbnMuaXRlcmF0
b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgpOyApIHsKIAkJCQllY2xpcHNlQ29tcGlsZXIyLmZpbGVN
YW5hZ2VyLmhhbmRsZU9wdGlvbihpdGVyYXRvci5uZXh0KCksIGl0ZXJhdG9yKTs=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>235124</attachid>
            <date>2013-09-03 18:03:00 -0400</date>
            <delta_ts>2013-09-04 01:23:48 -0400</delta_ts>
            <desc>Patch accommodating review comments.</desc>
            <filename>Bug-415860--review-comments.patch</filename>
            <type>text/plain</type>
            <size>4241</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQudGVzdHMvcmVzb3VyY2Vz
L3RhcmdldHMvZGlzcGF0Y2gvWC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50
ZXN0cy9yZXNvdXJjZXMvdGFyZ2V0cy9kaXNwYXRjaC9YLmphdmEKaW5kZXggNmFkNDU1MS4uMGVh
ZGExNiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy9yZXNv
dXJjZXMvdGFyZ2V0cy9kaXNwYXRjaC9YLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvbXBp
bGVyLmFwdC50ZXN0cy9yZXNvdXJjZXMvdGFyZ2V0cy9kaXNwYXRjaC9YLmphdmEKQEAgLTEsMTIg
KzEsMTggQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDct
MjAwOSBCRUEgU3lzdGVtcywgSW5jLiBhbmQgb3RoZXJzCisgKiBDb3B5cmlnaHQgKGMpIDIwMDct
MjAxMyBCRUEgU3lzdGVtcywgSW5jLiBhbmQgb3RoZXJzCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFk
ZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNl
IHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0CiAgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAog
ICogCisgKiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIGFuIGVhcmx5LWRyYWZ0IHNwZWNp
ZmljYXRpb24gZGV2ZWxvcGVkIHVuZGVyIHRoZSBKYXZhCisgKiBDb21tdW5pdHkgUHJvY2VzcyAo
SkNQKSBhbmQgaXMgbWFkZSBhdmFpbGFibGUgZm9yIHRlc3RpbmcgYW5kIGV2YWx1YXRpb24gcHVy
cG9zZXMKKyAqIG9ubHkuIFRoZSBjb2RlIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggYW55IHNwZWNp
ZmljYXRpb24gb2YgdGhlIEpDUC4KKyAqIAogICogQ29udHJpYnV0b3JzOgogICogICAgIHdoYXJs
ZXlAYmVhLmNvbSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICogICAgIElCTSBD
b250cmlidXRpb24gOgorICogICAgIAkJQnVnIDQxNTg2MCAtIFsxLjhdW2NvbXBpbGVyXSBFY2xp
cHNlQ29tcGlsZXIgc2hvdWxkIG5vdCBoYXJkIGNvZGUgY29tcGxpYW5jZSBsZXZlbAogICoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKiovCiBpbXBvcnQgcC5ZOwogaW1wb3J0IHAuWjsKQEAgLTE2LDQgKzIy
LDkgQEAKIAkJU3lzdGVtLm91dC5wcmludGxuKG5ldyBZKCkpOwogCQlTeXN0ZW0ub3V0LnByaW50
bG4obmV3IFooKSk7CiAJfQorfQoraW50ZXJmYWNlIEkgeworCWRlZmF1bHQgU3RyaW5nIGRlZmF1
bHRNZXRob2QgKCkgeworCQlyZXR1cm4gbnVsbDsKKwl9CiB9ClwgTm8gbmV3bGluZSBhdCBlbmQg
b2YgZmlsZQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRvb2wvc3JjL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci90b29sL0VjbGlwc2VDb21waWxlci5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLnRvb2wvc3JjL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci90b29sL0VjbGlwc2VDb21waWxlci5qYXZhCmluZGV4IDUyYWNlNmYuLjAx
MDYzZDggMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci50b29sL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvdG9vbC9FY2xpcHNlQ29tcGlsZXIuamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIudG9vbC9zcmMvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL3Rvb2wvRWNsaXBzZUNvbXBpbGVyLmphdmEKQEAgLTEsMTAgKzEsMTQg
QEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDYsIDIwMTAg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDYsIDIwMTMg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
ICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0CiAgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAogICoKKyAq
IFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYW4gZWFybHktZHJhZnQgc3BlY2lmaWNhdGlv
biBkZXZlbG9wZWQgdW5kZXIgdGhlIEphdmEKKyAqIENvbW11bml0eSBQcm9jZXNzIChKQ1ApIGFu
ZCBpcyBtYWRlIGF2YWlsYWJsZSBmb3IgdGVzdGluZyBhbmQgZXZhbHVhdGlvbiBwdXJwb3Nlcwor
ICogb25seS4gVGhlIGNvZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBhbnkgc3BlY2lmaWNhdGlv
biBvZiB0aGUgSkNQLgorICogCiAgKiBDb250cmlidXRvcnM6CiAgKiAgICAgSUJNIENvcnBvcmF0
aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8KQEAgLTQ2LDkgKzUwLDkgQEAKIAlwcml2YXRlIHN0YXRpYyBTZXQ8U291cmNlVmVyc2lv
bj4gU3VwcG9ydGVkU291cmNlVmVyc2lvbnM7CiAJc3RhdGljIHsKIAkJLy8gRWNsaXBzZSBjb21w
aWxlciBzdXBwb3J0cyBhbGwgcG9zc2libGUgdmVyc2lvbnMgZnJvbSB2ZXJzaW9uIDAgdG8KLQkJ
Ly8gdmVyc2lvbiA2CisJCS8vIGxhdGVzdCBzdXBwb3J0ZWQgdmVyc2lvbgogCQkvLyB3ZSBkb24n
dCBjYXJlIGFib3V0IHRoZSBvcmRlcgotCQlFbnVtU2V0PFNvdXJjZVZlcnNpb24+IGVudW1TZXQg
PSBFbnVtU2V0LnJhbmdlKFNvdXJjZVZlcnNpb24uUkVMRUFTRV8wLCBTb3VyY2VWZXJzaW9uLlJF
TEVBU0VfNik7CisJCUVudW1TZXQ8U291cmNlVmVyc2lvbj4gZW51bVNldCA9IEVudW1TZXQucmFu
Z2UoU291cmNlVmVyc2lvbi5SRUxFQVNFXzAsIFNvdXJjZVZlcnNpb24ubGF0ZXN0U3VwcG9ydGVk
KCkpOwogCQkvLyB3ZSBkb24ndCB3YW50IGFueWJvZHkgdG8gbW9kaWZ5IHRoaXMgbGlzdAogCQlF
Y2xpcHNlQ29tcGlsZXIuU3VwcG9ydGVkU291cmNlVmVyc2lvbnMgPSBDb2xsZWN0aW9ucy51bm1v
ZGlmaWFibGVTZXQoZW51bVNldCk7CiAJfQpAQCAtMTE1LDkgKzExOSw5IEBACiAJCQllY2xpcHNl
Q29tcGlsZXIyLmZpbGVNYW5hZ2VyID0gdGhpcy5nZXRTdGFuZGFyZEZpbGVNYW5hZ2VyKHNvbWVE
aWFnbm9zdGljTGlzdGVuZXIsIG51bGwsIG51bGwpOwogCQl9CiAKLQkJZWNsaXBzZUNvbXBpbGVy
Mi5vcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENvbXBpbGVy
T3B0aW9ucy5WRVJTSU9OXzFfNik7Ci0JCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29t
cGlsZXJPcHRpb25zLk9QVElPTl9Tb3VyY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfNik7
Ci0JCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9U
YXJnZXRQbGF0Zm9ybSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV82KTsKKwkJZWNsaXBzZUNv
bXBpbGVyMi5vcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENv
bXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5w
dXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Tb3VyY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9O
XzFfOCk7CisJCWVjbGlwc2VDb21waWxlcjIub3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9Q
VElPTl9UYXJnZXRQbGF0Zm9ybSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84KTsKIAogCQlB
cnJheUxpc3Q8U3RyaW5nPiBhbGxPcHRpb25zID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAJ
CWlmIChvcHRpb25zICE9IG51bGwpIHs=
</data>

          </attachment>
      

    </bug>

</bugzilla>