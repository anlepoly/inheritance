<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>343865</bug_id>
          
          <creation_ts>2011-04-26 11:01:00 -0400</creation_ts>
          <short_desc>[assist] CompletionContext token start and end incorrectly returning 0</short_desc>
          <delta_ts>2011-05-12 02:40:04 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 RC1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Paul Fullbright">paul.fullbright</reporter>
          <assigned_to name="Ayushman Jain">amj87.iitr</assigned_to>
          <cc>brian.vosburgh</cc>
    
    <cc>daniel_megert</cc>
    
    <cc>markus_keller</cc>
    
    <cc>neil.hauge</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="41233"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1919091</commentid>
    <comment_count>0</comment_count>
      <attachid>194065</attachid>
    <who name="Paul Fullbright">paul.fullbright</who>
    <bug_when>2011-04-26 11:01:58 -0400</bug_when>
    <thetext>Created attachment 194065
test project

Occurs in 3.7 M6

In the attached test project, in the type TestType, if the cursor is placed inside the first quote of &quot;element&quot;, the CompletionContext accessible from the completion proposal computer has token start and end of 0, rather than the actual text location.  This seems to be wholly caused by the presence of the package-info.java file.  If this file is removed, the CompletionContext has the proper start and end tokens.


To determine the start and end token, you can simply place a breakpoint in any computeCompletionProposals(ContentAssistInvocationTarget, IProgressMonitor) method in any appropriate completion proposal computer and look at the context object.  I put mine at line 206 in JavaCompletionProposalComputer and inspected the javaContext object.


This is causing problems because it causes completion inserts to be placed at the beginning of the document rather than where the cursor is.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919168</commentid>
    <comment_count>1</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2011-04-26 12:12:13 -0400</bug_when>
    <thetext>Can reproduce in I20110425-1800.

Please verify whether this is a regression compared to 3.6.2. If so, please fix for 3.7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919476</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-04-26 22:05:12 -0400</bug_when>
    <thetext>Ayush, please follow up - TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919604</commentid>
    <comment_count>3</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-27 08:02:21 -0400</bug_when>
    <thetext>I could not validate your claim about the source start and end, because the &apos;context&apos; object in the computeCompletionProposals(..) method does not contain this info (Let me know if this info is indirectly available through it though, I may have missed that out).

However, I do see that content assist throws an exception when i try to invoke it at @XmlElement(&lt;CTRL-SPACE&gt;name = &quot;element&quot;), and this only happens in the presence of the pacakge-info.java file. 

I&apos;ll investigate.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919628</commentid>
    <comment_count>4</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2011-04-27 08:44:59 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; I could not validate your claim about the source start and end, because the
&gt; &apos;context&apos; object in the computeCompletionProposals(..) method does not contain
&gt; this info (Let me know if this info is indirectly available through it though,
&gt; I may have missed that out).
It does for me. Try adding a breakpoint to
JavaContentAssistInvocationContext.getCoreContext().</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919675</commentid>
    <comment_count>5</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-27 09:51:37 -0400</bug_when>
    <thetext>Btw, this is a regression over 3.6.2 and has been exposed by the fix for bug 337868, since we did not get a type for pakage-info.java earlier, but now we do.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919723</commentid>
    <comment_count>6</comment_count>
      <attachid>194161</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-27 10:35:14 -0400</bug_when>
    <thetext>Created attachment 194161
patch under test

This patch fixes the problem. Testing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1919788</commentid>
    <comment_count>7</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-27 11:52:23 -0400</bug_when>
    <thetext>In fact, I could see that content assist behaves differently at many places where the assist node parent is required to compute the expected type, build context, etc. , when the package-info.java is present.
A similar case is

public class TestType {
	
	String abc = &quot;hi&quot;;
        String element = &lt;CTRL-SPC&gt;;

    
}

We should get abc as the first proposal but we don&apos;t, since the expected type is not correctly calculated in the absence of assist node parent.


With the above patch, the behaviour will return to normal</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1920375</commentid>
    <comment_count>8</comment_count>
      <attachid>194242</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-28 04:38:07 -0400</bug_when>
    <thetext>Created attachment 194242
proposed fix v1.0 + regression tests

The patch just makes sure that the type created for package-info.java for the compiler is not accepted by the requestor during completion i.e. the CompletionEngine. 

The problem without the patch is that the call to org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.buildTypeBindings(..) at CompletionEngine.java:1845 finds the package-info as a type from the NameEnvironment and at LookupEnvironment.java:142, this dummy type is accepted by the CompletionEngine(Engine), which leads to resetting of the parser and also the assistNodeParent ( see org.eclipse.jdt.internal.codeassist.impl.Engine.accept(ICompilationUnit, AccessRestriction)). So by the time org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(ASTNode, ASTNode, ASTNode, CompilationUnitDeclaration, Binding, Scope, boolean) is reached,
the assistNode has been resetted to null and the parser is parsing package-info.java

The patch alleviates these problems. Also, debugging ahead to org.eclipse.jdt.ui.text.java.JavaContentAssistInvocationContext.getCoreContext() now shows the correct token start and end.

All tests pass</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1920378</commentid>
    <comment_count>9</comment_count>
      <attachid>194243</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-28 04:40:30 -0400</bug_when>
    <thetext>Created attachment 194243
proposed fix v1.0 complete + regression tests

The above patch missed a few files</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1920380</commentid>
    <comment_count>10</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-28 04:41:18 -0400</bug_when>
    <thetext>Srikanth, please review for RC1. Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1920477</commentid>
    <comment_count>11</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-28 08:26:33 -0400</bug_when>
    <thetext>Deepak confirmed that all UI tests pass.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1923410</commentid>
    <comment_count>12</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-05-04 03:02:31 -0400</bug_when>
    <thetext>Patch looks good. One suggestion is to refer to the bug 337868
in the comment for the new method.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1923838</commentid>
    <comment_count>13</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-05-04 10:44:19 -0400</bug_when>
    <thetext>Released in HEAD for 3.7RC1.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1928685</commentid>
    <comment_count>14</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-05-12 02:40:04 -0400</bug_when>
    <thetext>Verified for 3.7 RC1 using build I20110511-0800</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>194065</attachid>
            <date>2011-04-26 11:01:00 -0400</date>
            <delta_ts>2011-04-26 11:01:58 -0400</delta_ts>
            <desc>test project</desc>
            <filename>TestJava.zip</filename>
            <type>application/zip</type>
            <size>3193</size>
            <attacher name="Paul Fullbright">paul.fullbright</attacher>
            
              <data encoding="base64">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
c3QvcGFja2FnZS1pbmZvLmNsYXNzUEsBAhQAFAAAAAgAiFaaPkyh+coWAQAAhwEAACAAAAAAAAAA
AAAgAAAAtQQAAFRlc3RKYXZhL2Jpbi90ZXN0L1Rlc3RUeXBlLmNsYXNzUEsBAhQACgAAAAAA1FOa
PgAAAAAAAAAAAAAAAA0AAAAAAAAAAAAQAAAACQYAAFRlc3RKYXZhL3NyYy9QSwECFAAKAAAAAACP
VZo+AAAAAAAAAAAAAAAAEgAAAAAAAAAAABAAAAA0BgAAVGVzdEphdmEvc3JjL3Rlc3QvUEsBAhQA
FAAAAAgAoYiZPgCqwpZSAQAACgIAACMAAAAAAAAAAQAgAAAAZAYAAFRlc3RKYXZhL3NyYy90ZXN0
L3BhY2thZ2UtaW5mby5qYXZhUEsBAhQAFAAAAAgAiFaaPkyzoJKBAAAAqgAAAB8AAAAAAAAAAQAg
AAAA9wcAAFRlc3RKYXZhL3NyYy90ZXN0L1Rlc3RUeXBlLmphdmFQSwECFAAKAAAAAAD2eZk+AAAA
AAAAAAAAAAAACQAAAAAAAAAAABAAAAC1CAAAVGVzdEphdmEvUEsFBgAAAAANAA0AhwMAANwIAAAA
AA==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>194161</attachid>
            <date>2011-04-27 10:35:00 -0400</date>
            <delta_ts>2011-04-28 04:38:07 -0400</delta_ts>
            <desc>patch under test</desc>
            <filename>patch343865.txt</filename>
            <type>text/plain</type>
            <size>990</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L0Nv
bXBsZXRpb25FbmdpbmUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlw
c2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjQyOQ0KZGlmZiAtdSAtcjEuNDI5IENvbXBsZXRpb25FbmdpbmUuamF2YQ0KLS0tIGNvZGVh
c3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvQ29tcGxldGlvbkVuZ2lu
ZS5qYXZhCTIxIEFwciAyMDExIDA5OjQwOjMwIC0wMDAwCTEuNDI5DQorKysgY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEJ
MjcgQXByIDIwMTEgMTQ6MzQ6MjEgLTAwMDANCkBAIC02NzAsNiArNjcwLDEyIEBADQogCQl0aGlz
Lm1vbml0b3IgPSBtb25pdG9yOw0KIAl9DQogCQ0KKwlwdWJsaWMgdm9pZCBhY2NlcHQoSUNvbXBp
bGF0aW9uVW5pdCBzb3VyY2VVbml0LCBBY2Nlc3NSZXN0cmljdGlvbiBhY2Nlc3NSZXN0cmljdGlv
bikgew0KKwkJaWYgKCFDaGFyT3BlcmF0aW9uLmVxdWFscyhzb3VyY2VVbml0LmdldE1haW5UeXBl
TmFtZSgpLCBUeXBlQ29uc3RhbnRzLlBBQ0tBR0VfSU5GT19OQU1FKSkgew0KKwkJCXN1cGVyLmFj
Y2VwdChzb3VyY2VVbml0LCBhY2Nlc3NSZXN0cmljdGlvbik7DQorCQl9DQorCX0NCisJDQogCXB1
YmxpYyB2b2lkIGFjY2VwdENvbnN0cnVjdG9yKA0KIAkJCWludCBtb2RpZmllcnMsDQogCQkJY2hh
cltdIHNpbXBsZVR5cGVOYW1lLA0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>194242</attachid>
            <date>2011-04-28 04:38:00 -0400</date>
            <delta_ts>2011-04-28 04:40:30 -0400</delta_ts>
            <desc>proposed fix v1.0 + regression tests</desc>
            <filename>patch343865.txt</filename>
            <type>text/plain</type>
            <size>6630</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L0Nv
bXBsZXRpb25FbmdpbmUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlw
c2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjQyOQ0KZGlmZiAtdSAtcjEuNDI5IENvbXBsZXRpb25FbmdpbmUuamF2YQ0KLS0tIGNvZGVh
c3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvQ29tcGxldGlvbkVuZ2lu
ZS5qYXZhCTIxIEFwciAyMDExIDA5OjQwOjMwIC0wMDAwCTEuNDI5DQorKysgY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEJ
MjggQXByIDIwMTEgMDg6MzE6MDMgLTAwMDANCkBAIC02NzAsNiArNjcwLDE1IEBADQogCQl0aGlz
Lm1vbml0b3IgPSBtb25pdG9yOw0KIAl9DQogCQ0KKwlwdWJsaWMgdm9pZCBhY2NlcHQoSUNvbXBp
bGF0aW9uVW5pdCBzb3VyY2VVbml0LCBBY2Nlc3NSZXN0cmljdGlvbiBhY2Nlc3NSZXN0cmljdGlv
bikgew0KKwkJaWYgKCFDaGFyT3BlcmF0aW9uLmVxdWFscyhzb3VyY2VVbml0LmdldE1haW5UeXBl
TmFtZSgpLCBUeXBlQ29uc3RhbnRzLlBBQ0tBR0VfSU5GT19OQU1FKSkgew0KKwkJCS8vIGRvIG5v
dCBhY2NlcHQgcGFja2FnZS1pbmZvLmphdmEgYXMgYSB0eXBlIGZvciBjb21wbGV0aW9uIGVuZ2lu
ZQ0KKwkJCS8vIGJlY2F1c2UgaXQgY29udGFpbnMgbm8gZXh0cmEgaW5mbyB0aGF0IHdpbGwgaGVs
cCBpbiBjb21wbGV0aW9uDQorCQkJLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hv
d19idWcuY2dpP2lkPTM0Mzg2NQ0KKwkJCXN1cGVyLmFjY2VwdChzb3VyY2VVbml0LCBhY2Nlc3NS
ZXN0cmljdGlvbik7DQorCQl9DQorCX0NCisJDQogCXB1YmxpYyB2b2lkIGFjY2VwdENvbnN0cnVj
dG9yKA0KIAkJCWludCBtb2RpZmllcnMsDQogCQkJY2hhcltdIHNpbXBsZVR5cGVOYW1lLA0KI1Ag
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2Uv
amR0L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzXzFfNS5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5t
b2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3Rz
XzFfNS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMjINCmRpZmYgLXUgLXIxLjEyMiBD
b21wbGV0aW9uVGVzdHNfMV81LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvQ29tcGxldGlvblRlc3RzXzFfNS5qYXZhCTI1IE5vdiAyMDEwIDA4OjQzOjI3IC0w
MDAwCTEuMTIyDQorKysgc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0NvbXBs
ZXRpb25UZXN0c18xXzUuamF2YQkyOCBBcHIgMjAxMSAwODozMTowNSAtMDAwMA0KQEAgLTEsNSAr
MSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAs
IDIwMTAgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDAw
LCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlz
IGF2YWlsYWJsZSBhdA0KQEAgLTI0MjMsNiArMjQyMyw3IEBADQogCX0gZWxzZSB7DQogCQlhc3Nl
cnRSZXN1bHRzKA0KIAkJCQkiaW50ZXJmYWNlW0tFWVdPUkRde2ludGVyZmFjZSwgbnVsbCwgbnVs
bCwgaW50ZXJmYWNlLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBSX0lOVEVS
RVNUSU5HICsgUl9DQVNFICsgUl9BTk5PVEFUSU9OICsgUl9OT05fUkVTVFJJQ1RFRCkgKyAifVxu
IiArDQorCQkJCSJZQUFubm90W1RZUEVfUkVGXXt0ZXN0eHh4LllBQW5ub3QsIHRlc3R4eHgsIEx0
ZXN0eHh4LllBQW5ub3Q7LCBudWxsLCBudWxsLCAiICsgKFJfTkFNRV9QUkVGSVggKyBSX0RFRkFV
TFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiAr
IFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCQkiX0NvbmZpZ3VyYXRpb25EYXRhW1RZ
UEVfUkVGXXt0ZXN0MzI1NDgxLl9Db25maWd1cmF0aW9uRGF0YSwgdGVzdDMyNTQ4MSwgTHRlc3Qz
MjU0ODEuX0NvbmZpZ3VyYXRpb25EYXRhOywgbnVsbCwgbnVsbCwgIiArIChSX05BTUVfUFJFRklY
ICsgUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FO
Tk9UQVRJT04gKyBSX05PTl9SRVNUUklDVEVEKSArICJ9XG4iICsNCiAJCQkJIl9QYXRoW1RZUEVf
UkVGXXt0ZXN0MzI1NDgxLl9QYXRoLCB0ZXN0MzI1NDgxLCBMdGVzdDMyNTQ4MS5fUGF0aDssIG51
bGwsIG51bGwsICIgKyAoUl9OQU1FX1BSRUZJWCArIFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBS
X0lOVEVSRVNUSU5HICsgUl9DQVNFICsgUl9BTk5PVEFUSU9OICsgUl9OT05fUkVTVFJJQ1RFRCkg
KyAifVxuIiArDQogCQkJCSJEZXByZWNhdGVkW1RZUEVfUkVGXXtEZXByZWNhdGVkLCBqYXZhLmxh
bmcsIExqYXZhLmxhbmcuRGVwcmVjYXRlZDssIG51bGwsIG51bGwsICIgKyAoUl9ERUZBVUxUICsg
Ul9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJT04gKyBSX1RB
UkdFVCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX1VOUVVBTElGSUVEKSArICJ9XG4iICsNCkBAIC05
MDIxLDYgKzkwMjIsNyBAQA0KIAlhc3NlcnRSZXN1bHRzKA0KIAkJCSJpbnRlcmZhY2VbS0VZV09S
RF17aW50ZXJmYWNlLCBudWxsLCBudWxsLCBpbnRlcmZhY2UsIG51bGwsICIgKyAoUl9ERUZBVUxU
ICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJT04gKyBS
X05PTl9SRVNUUklDVEVEKSArICJ9XG4iICsNCiAJCQkiUVFBbm5vdGF0aW9uW1RZUEVfUkVGXXtw
a2dhbm5vdGF0aW9ucy5RUUFubm90YXRpb24sIHBrZ2Fubm90YXRpb25zLCBMcGtnYW5ub3RhdGlv
bnMuUVFBbm5vdGF0aW9uOywgbnVsbCwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVE
ICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfVEFSR0VUICsgUl9O
T05fUkVTVFJJQ1RFRCkgKyAifVxuIiArDQorCQkJIllBQW5ub3RbVFlQRV9SRUZde3Rlc3R4eHgu
WUFBbm5vdCwgdGVzdHh4eCwgTHRlc3R4eHguWUFBbm5vdDssIG51bGwsIG51bGwsICIgKyAoUl9E
RUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJ
T04gKyBSX1RBUkdFVCArIFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCSJfQ29uZmln
dXJhdGlvbkRhdGFbVFlQRV9SRUZde3Rlc3QzMjU0ODEuX0NvbmZpZ3VyYXRpb25EYXRhLCB0ZXN0
MzI1NDgxLCBMdGVzdDMyNTQ4MS5fQ29uZmlndXJhdGlvbkRhdGE7LCBudWxsLCBudWxsLCAiICsg
KFJfTkFNRV9QUkVGSVggKyBSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyAr
IFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJ
CSJfUGF0aFtUWVBFX1JFRl17dGVzdDMyNTQ4MS5fUGF0aCwgdGVzdDMyNTQ4MSwgTHRlc3QzMjU0
ODEuX1BhdGg7LCBudWxsLCBudWxsLCAiICsgKFJfTkFNRV9QUkVGSVggKyBSX0RFRkFVTFQgKyBS
X1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfTk9O
X1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCSJEZXByZWNhdGVkW1RZUEVfUkVGXXtEZXByZWNh
dGVkLCBqYXZhLmxhbmcsIExqYXZhLmxhbmcuRGVwcmVjYXRlZDssIG51bGwsIG51bGwsICIgKyAo
Ul9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9U
QVRJT04gKyBSX1RBUkdFVCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX1VOUVVBTElGSUVEKSArICJ9
IiwNCkBAIC0xMzg3NCw0ICsxMzg3Niw0MyBAQA0KIAkJCSJJbm4uSW5uM1tUWVBFX1JFRl17SW5u
MywgbGFiZWwsIExsYWJlbC5Jbm4kSW5uMzssIG51bGwsIG51bGwsIDQ0fSIsDQogCQkJcmVxdWVz
dG9yLmdldFJlc3VsdHMoKSk7DQogfQ0KKw0KKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9i
dWdzL3Nob3dfYnVnLmNnaT9pZD0zNDM4NjUNCisvLyBWZXJpZnkgdGhhdCBubyBOUEUgaXMgdGhy
b3duIGFuZCB3ZSBnZXQgY29ycmVjdCBwcm9wb3NhbHMNCitwdWJsaWMgdm9pZCB0ZXN0QnVnMzQz
ODY1YSgpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb24gew0KKwlDb21wbGV0aW9uVGVzdHNSZXF1
ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOw0K
KwlJQ29tcGlsYXRpb25Vbml0IGN1ID0gZ2V0Q29tcGlsYXRpb25Vbml0KCJDb21wbGV0aW9uIiwg
InNyYzMiLCAidGVzdHh4eCIsICJUZXN0VHlwZS5qYXZhIik7DQorDQorCVN0cmluZyBzdHIgPSBj
dS5nZXRTb3VyY2UoKTsNCisJU3RyaW5nIGNvbXBsZXRlQmVoaW5kID0gIkBZQUFubm90KCI7DQor
CWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5sYXN0SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBj
b21wbGV0ZUJlaGluZC5sZW5ndGgoKTsNCisJY3UuY29kZUNvbXBsZXRlKGN1cnNvckxvY2F0aW9u
LCByZXF1ZXN0b3IpOw0KKw0KKwlhc3NlcnRSZXN1bHRzKA0KKwkJIm5hbWVbQU5OT1RBVElPTl9B
VFRSSUJVVEVfUkVGXXtuYW1lLCBMdGVzdHh4eC5ZQUFubm90OywgTGphdmEubGFuZy5TdHJpbmc7
LCBuYW1lLCBudWxsLCAiICsgKFJfTkFNRV9GSVJTVF9QUkVGSVggKyBSX0VYUEVDVEVEX1RZUEUg
KyBSX1JFU09MVkVEKSArICJ9XG4iICsNCisJCSJ2YWxbQU5OT1RBVElPTl9BVFRSSUJVVEVfUkVG
XXt2YWwsIEx0ZXN0eHh4LllBQW5ub3Q7LCBJLCB2YWwsIG51bGwsICIgKyAoUl9OQU1FX0ZJUlNU
X1BSRUZJWCArIFJfRVhQRUNURURfVFlQRSArIFJfUkVTT0xWRUQpICsgIn0iLA0KKwkJcmVxdWVz
dG9yLmdldFJlc3VsdHMoKSk7DQorfQ0KKw0KKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9i
dWdzL3Nob3dfYnVnLmNnaT9pZD0zNDM4NjUNCisvLyBWZXJpZnkgdGhhdCB0aGUgY29ycmVjdCBl
eHBlY3RlZCB0eXBlIGlzIGNvbXB1dGVkDQorcHVibGljIHZvaWQgdGVzdEJ1ZzM0Mzg2NWIoKSB0
aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsNCisJQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMiBy
ZXF1ZXN0b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsNCisJSUNvbXBp
bGF0aW9uVW5pdCBjdSA9IGdldENvbXBpbGF0aW9uVW5pdCgiQ29tcGxldGlvbiIsICJzcmMzIiwg
InRlc3R4eHgiLCAiVGVzdFR5cGUyLmphdmEiKTsNCisNCisJU3RyaW5nIHN0ciA9IGN1LmdldFNv
dXJjZSgpOw0KKwlTdHJpbmcgY29tcGxldGVCZWhpbmQgPSAiU3RyaW5nIHh4eXkyID0geHh5IjsN
CisJaW50IGN1cnNvckxvY2F0aW9uID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSAr
IGNvbXBsZXRlQmVoaW5kLmxlbmd0aCgpOw0KKwljdS5jb2RlQ29tcGxldGUoY3Vyc29yTG9jYXRp
b24sIHJlcXVlc3Rvcik7DQorDQorCWFzc2VydFJlc3VsdHMoDQorCQkJImV4cGVjdGVkVHlwZXNT
aWduYXR1cmVzPXtMamF2YS5sYW5nLlN0cmluZzt9XG4iICsNCisJCQkiZXhwZWN0ZWRUeXBlc0tl
eXM9e0xqYXZhL2xhbmcvU3RyaW5nO30iLA0KKwkJCXJlcXVlc3Rvci5nZXRDb250ZXh0KCkpOw0K
KwkNCisJYXNzZXJ0UmVzdWx0cygNCisJCSJ4eHl5W0ZJRUxEX1JFRl17eHh5eSwgTHRlc3R4eHgu
VGVzdFR5cGUyOywgSSwgeHh5eSwgbnVsbCwgIiArIChSX05BTUVfRklSU1RfUFJFRklYICsgUl9F
WFBFQ1RFRF9UWVBFICsgUl9SRVNPTFZFRCkgKyAifVxuIiArDQorCQkieHh5eTFbRklFTERfUkVG
XXt4eHl5MSwgTHRlc3R4eHguVGVzdFR5cGUyOywgTGphdmEubGFuZy5TdHJpbmc7LCB4eHl5MSwg
bnVsbCwgIiArIChSX05BTUVfRklSU1RfUFJFRklYICsgUl9FWFBFQ1RFRF9UWVBFICsgUl9SRVNP
TFZFRCArIFJfRVhBQ1RfRVhQRUNURURfVFlQRSkgKyAifSIsDQorCQlyZXF1ZXN0b3IuZ2V0UmVz
dWx0cygpKTsNCit9DQogfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>194243</attachid>
            <date>2011-04-28 04:40:00 -0400</date>
            <delta_ts>2011-04-28 04:40:30 -0400</delta_ts>
            <desc>proposed fix v1.0 complete + regression tests</desc>
            <filename>patch343865.txt</filename>
            <type>text/plain</type>
            <size>8602</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L0Nv
bXBsZXRpb25FbmdpbmUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlw
c2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjQyOQ0KZGlmZiAtdSAtcjEuNDI5IENvbXBsZXRpb25FbmdpbmUuamF2YQ0KLS0tIGNvZGVh
c3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvQ29tcGxldGlvbkVuZ2lu
ZS5qYXZhCTIxIEFwciAyMDExIDA5OjQwOjMwIC0wMDAwCTEuNDI5DQorKysgY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEJ
MjggQXByIDIwMTEgMDg6Mzk6MzMgLTAwMDANCkBAIC02NzAsNiArNjcwLDE1IEBADQogCQl0aGlz
Lm1vbml0b3IgPSBtb25pdG9yOw0KIAl9DQogCQ0KKwlwdWJsaWMgdm9pZCBhY2NlcHQoSUNvbXBp
bGF0aW9uVW5pdCBzb3VyY2VVbml0LCBBY2Nlc3NSZXN0cmljdGlvbiBhY2Nlc3NSZXN0cmljdGlv
bikgew0KKwkJaWYgKCFDaGFyT3BlcmF0aW9uLmVxdWFscyhzb3VyY2VVbml0LmdldE1haW5UeXBl
TmFtZSgpLCBUeXBlQ29uc3RhbnRzLlBBQ0tBR0VfSU5GT19OQU1FKSkgew0KKwkJCS8vIGRvIG5v
dCBhY2NlcHQgcGFja2FnZS1pbmZvLmphdmEgYXMgYSB0eXBlIGZvciBjb21wbGV0aW9uIGVuZ2lu
ZQ0KKwkJCS8vIGJlY2F1c2UgaXQgY29udGFpbnMgbm8gZXh0cmEgaW5mbyB0aGF0IHdpbGwgaGVs
cCBpbiBjb21wbGV0aW9uDQorCQkJLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hv
d19idWcuY2dpP2lkPTM0Mzg2NQ0KKwkJCXN1cGVyLmFjY2VwdChzb3VyY2VVbml0LCBhY2Nlc3NS
ZXN0cmljdGlvbik7DQorCQl9DQorCX0NCisJDQogCXB1YmxpYyB2b2lkIGFjY2VwdENvbnN0cnVj
dG9yKA0KIAkJCWludCBtb2RpZmllcnMsDQogCQkJY2hhcltdIHNpbXBsZVR5cGVOYW1lLA0KI1Ag
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2Uv
amR0L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzXzFfNS5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5t
b2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3Rz
XzFfNS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMjINCmRpZmYgLXUgLXIxLjEyMiBD
b21wbGV0aW9uVGVzdHNfMV81LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvQ29tcGxldGlvblRlc3RzXzFfNS5qYXZhCTI1IE5vdiAyMDEwIDA4OjQzOjI3IC0w
MDAwCTEuMTIyDQorKysgc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0NvbXBs
ZXRpb25UZXN0c18xXzUuamF2YQkyOCBBcHIgMjAxMSAwODozOTozNSAtMDAwMA0KQEAgLTEsNSAr
MSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAs
IDIwMTAgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDAw
LCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlz
IGF2YWlsYWJsZSBhdA0KQEAgLTI0MjMsNiArMjQyMyw3IEBADQogCX0gZWxzZSB7DQogCQlhc3Nl
cnRSZXN1bHRzKA0KIAkJCQkiaW50ZXJmYWNlW0tFWVdPUkRde2ludGVyZmFjZSwgbnVsbCwgbnVs
bCwgaW50ZXJmYWNlLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBSX0lOVEVS
RVNUSU5HICsgUl9DQVNFICsgUl9BTk5PVEFUSU9OICsgUl9OT05fUkVTVFJJQ1RFRCkgKyAifVxu
IiArDQorCQkJCSJZQUFubm90W1RZUEVfUkVGXXt0ZXN0eHh4LllBQW5ub3QsIHRlc3R4eHgsIEx0
ZXN0eHh4LllBQW5ub3Q7LCBudWxsLCBudWxsLCAiICsgKFJfTkFNRV9QUkVGSVggKyBSX0RFRkFV
TFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiAr
IFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCQkiX0NvbmZpZ3VyYXRpb25EYXRhW1RZ
UEVfUkVGXXt0ZXN0MzI1NDgxLl9Db25maWd1cmF0aW9uRGF0YSwgdGVzdDMyNTQ4MSwgTHRlc3Qz
MjU0ODEuX0NvbmZpZ3VyYXRpb25EYXRhOywgbnVsbCwgbnVsbCwgIiArIChSX05BTUVfUFJFRklY
ICsgUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FO
Tk9UQVRJT04gKyBSX05PTl9SRVNUUklDVEVEKSArICJ9XG4iICsNCiAJCQkJIl9QYXRoW1RZUEVf
UkVGXXt0ZXN0MzI1NDgxLl9QYXRoLCB0ZXN0MzI1NDgxLCBMdGVzdDMyNTQ4MS5fUGF0aDssIG51
bGwsIG51bGwsICIgKyAoUl9OQU1FX1BSRUZJWCArIFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBS
X0lOVEVSRVNUSU5HICsgUl9DQVNFICsgUl9BTk5PVEFUSU9OICsgUl9OT05fUkVTVFJJQ1RFRCkg
KyAifVxuIiArDQogCQkJCSJEZXByZWNhdGVkW1RZUEVfUkVGXXtEZXByZWNhdGVkLCBqYXZhLmxh
bmcsIExqYXZhLmxhbmcuRGVwcmVjYXRlZDssIG51bGwsIG51bGwsICIgKyAoUl9ERUZBVUxUICsg
Ul9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJT04gKyBSX1RB
UkdFVCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX1VOUVVBTElGSUVEKSArICJ9XG4iICsNCkBAIC05
MDIxLDYgKzkwMjIsNyBAQA0KIAlhc3NlcnRSZXN1bHRzKA0KIAkJCSJpbnRlcmZhY2VbS0VZV09S
RF17aW50ZXJmYWNlLCBudWxsLCBudWxsLCBpbnRlcmZhY2UsIG51bGwsICIgKyAoUl9ERUZBVUxU
ICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJT04gKyBS
X05PTl9SRVNUUklDVEVEKSArICJ9XG4iICsNCiAJCQkiUVFBbm5vdGF0aW9uW1RZUEVfUkVGXXtw
a2dhbm5vdGF0aW9ucy5RUUFubm90YXRpb24sIHBrZ2Fubm90YXRpb25zLCBMcGtnYW5ub3RhdGlv
bnMuUVFBbm5vdGF0aW9uOywgbnVsbCwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVE
ICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfVEFSR0VUICsgUl9O
T05fUkVTVFJJQ1RFRCkgKyAifVxuIiArDQorCQkJIllBQW5ub3RbVFlQRV9SRUZde3Rlc3R4eHgu
WUFBbm5vdCwgdGVzdHh4eCwgTHRlc3R4eHguWUFBbm5vdDssIG51bGwsIG51bGwsICIgKyAoUl9E
RUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9UQVRJ
T04gKyBSX1RBUkdFVCArIFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCSJfQ29uZmln
dXJhdGlvbkRhdGFbVFlQRV9SRUZde3Rlc3QzMjU0ODEuX0NvbmZpZ3VyYXRpb25EYXRhLCB0ZXN0
MzI1NDgxLCBMdGVzdDMyNTQ4MS5fQ29uZmlndXJhdGlvbkRhdGE7LCBudWxsLCBudWxsLCAiICsg
KFJfTkFNRV9QUkVGSVggKyBSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyAr
IFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfTk9OX1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJ
CSJfUGF0aFtUWVBFX1JFRl17dGVzdDMyNTQ4MS5fUGF0aCwgdGVzdDMyNTQ4MSwgTHRlc3QzMjU0
ODEuX1BhdGg7LCBudWxsLCBudWxsLCAiICsgKFJfTkFNRV9QUkVGSVggKyBSX0RFRkFVTFQgKyBS
X1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfQU5OT1RBVElPTiArIFJfTk9O
X1JFU1RSSUNURUQpICsgIn1cbiIgKw0KIAkJCSJEZXByZWNhdGVkW1RZUEVfUkVGXXtEZXByZWNh
dGVkLCBqYXZhLmxhbmcsIExqYXZhLmxhbmcuRGVwcmVjYXRlZDssIG51bGwsIG51bGwsICIgKyAo
Ul9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX0FOTk9U
QVRJT04gKyBSX1RBUkdFVCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX1VOUVVBTElGSUVEKSArICJ9
IiwNCkBAIC0xMzg3NCw0ICsxMzg3Niw0MyBAQA0KIAkJCSJJbm4uSW5uM1tUWVBFX1JFRl17SW5u
MywgbGFiZWwsIExsYWJlbC5Jbm4kSW5uMzssIG51bGwsIG51bGwsIDQ0fSIsDQogCQkJcmVxdWVz
dG9yLmdldFJlc3VsdHMoKSk7DQogfQ0KKw0KKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9i
dWdzL3Nob3dfYnVnLmNnaT9pZD0zNDM4NjUNCisvLyBWZXJpZnkgdGhhdCBubyBOUEUgaXMgdGhy
b3duIGFuZCB3ZSBnZXQgY29ycmVjdCBwcm9wb3NhbHMNCitwdWJsaWMgdm9pZCB0ZXN0QnVnMzQz
ODY1YSgpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb24gew0KKwlDb21wbGV0aW9uVGVzdHNSZXF1
ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOw0K
KwlJQ29tcGlsYXRpb25Vbml0IGN1ID0gZ2V0Q29tcGlsYXRpb25Vbml0KCJDb21wbGV0aW9uIiwg
InNyYzMiLCAidGVzdHh4eCIsICJUZXN0VHlwZS5qYXZhIik7DQorDQorCVN0cmluZyBzdHIgPSBj
dS5nZXRTb3VyY2UoKTsNCisJU3RyaW5nIGNvbXBsZXRlQmVoaW5kID0gIkBZQUFubm90KCI7DQor
CWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5sYXN0SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBj
b21wbGV0ZUJlaGluZC5sZW5ndGgoKTsNCisJY3UuY29kZUNvbXBsZXRlKGN1cnNvckxvY2F0aW9u
LCByZXF1ZXN0b3IpOw0KKw0KKwlhc3NlcnRSZXN1bHRzKA0KKwkJIm5hbWVbQU5OT1RBVElPTl9B
VFRSSUJVVEVfUkVGXXtuYW1lLCBMdGVzdHh4eC5ZQUFubm90OywgTGphdmEubGFuZy5TdHJpbmc7
LCBuYW1lLCBudWxsLCAiICsgKFJfTkFNRV9GSVJTVF9QUkVGSVggKyBSX0VYUEVDVEVEX1RZUEUg
KyBSX1JFU09MVkVEKSArICJ9XG4iICsNCisJCSJ2YWxbQU5OT1RBVElPTl9BVFRSSUJVVEVfUkVG
XXt2YWwsIEx0ZXN0eHh4LllBQW5ub3Q7LCBJLCB2YWwsIG51bGwsICIgKyAoUl9OQU1FX0ZJUlNU
X1BSRUZJWCArIFJfRVhQRUNURURfVFlQRSArIFJfUkVTT0xWRUQpICsgIn0iLA0KKwkJcmVxdWVz
dG9yLmdldFJlc3VsdHMoKSk7DQorfQ0KKw0KKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9i
dWdzL3Nob3dfYnVnLmNnaT9pZD0zNDM4NjUNCisvLyBWZXJpZnkgdGhhdCB0aGUgY29ycmVjdCBl
eHBlY3RlZCB0eXBlIGlzIGNvbXB1dGVkDQorcHVibGljIHZvaWQgdGVzdEJ1ZzM0Mzg2NWIoKSB0
aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsNCisJQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMiBy
ZXF1ZXN0b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsNCisJSUNvbXBp
bGF0aW9uVW5pdCBjdSA9IGdldENvbXBpbGF0aW9uVW5pdCgiQ29tcGxldGlvbiIsICJzcmMzIiwg
InRlc3R4eHgiLCAiVGVzdFR5cGUyLmphdmEiKTsNCisNCisJU3RyaW5nIHN0ciA9IGN1LmdldFNv
dXJjZSgpOw0KKwlTdHJpbmcgY29tcGxldGVCZWhpbmQgPSAiU3RyaW5nIHh4eXkyID0geHh5IjsN
CisJaW50IGN1cnNvckxvY2F0aW9uID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSAr
IGNvbXBsZXRlQmVoaW5kLmxlbmd0aCgpOw0KKwljdS5jb2RlQ29tcGxldGUoY3Vyc29yTG9jYXRp
b24sIHJlcXVlc3Rvcik7DQorDQorCWFzc2VydFJlc3VsdHMoDQorCQkJImV4cGVjdGVkVHlwZXNT
aWduYXR1cmVzPXtMamF2YS5sYW5nLlN0cmluZzt9XG4iICsNCisJCQkiZXhwZWN0ZWRUeXBlc0tl
eXM9e0xqYXZhL2xhbmcvU3RyaW5nO30iLA0KKwkJCXJlcXVlc3Rvci5nZXRDb250ZXh0KCkpOw0K
KwkNCisJYXNzZXJ0UmVzdWx0cygNCisJCSJ4eHl5W0ZJRUxEX1JFRl17eHh5eSwgTHRlc3R4eHgu
VGVzdFR5cGUyOywgSSwgeHh5eSwgbnVsbCwgIiArIChSX05BTUVfRklSU1RfUFJFRklYICsgUl9F
WFBFQ1RFRF9UWVBFICsgUl9SRVNPTFZFRCkgKyAifVxuIiArDQorCQkieHh5eTFbRklFTERfUkVG
XXt4eHl5MSwgTHRlc3R4eHguVGVzdFR5cGUyOywgTGphdmEubGFuZy5TdHJpbmc7LCB4eHl5MSwg
bnVsbCwgIiArIChSX05BTUVfRklSU1RfUFJFRklYICsgUl9FWFBFQ1RFRF9UWVBFICsgUl9SRVNP
TFZFRCArIFJfRVhBQ1RfRVhQRUNURURfVFlQRSkgKyAifSIsDQorCQlyZXF1ZXN0b3IuZ2V0UmVz
dWx0cygpKTsNCit9DQogfQ0KSW5kZXg6IHdvcmtzcGFjZS9Db21wbGV0aW9uL3NyYzMvdGVzdHh4
eC9Bbm5vdC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogd29ya3NwYWNlL0NvbXBsZXRpb24v
c3JjMy90ZXN0eHh4L0Fubm90LmphdmENCmRpZmYgLU4gd29ya3NwYWNlL0NvbXBsZXRpb24vc3Jj
My90ZXN0eHh4L0Fubm90LmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAt
MDAwMA0KKysrIHdvcmtzcGFjZS9Db21wbGV0aW9uL3NyYzMvdGVzdHh4eC9Bbm5vdC5qYXZhCTEg
SmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsOCBAQA0KK3BhY2thZ2UgdGVzdHh4
eDsNCisNCitAaW50ZXJmYWNlIFlBQW5ub3Qgew0KKwkNCisJaW50IHZhbCgpOw0KKwlTdHJpbmcg
bmFtZSgpOw0KKw0KK30NCkluZGV4OiB3b3Jrc3BhY2UvQ29tcGxldGlvbi9zcmMzL3Rlc3R4eHgv
VGVzdFR5cGUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHdvcmtzcGFjZS9Db21wbGV0aW9u
L3NyYzMvdGVzdHh4eC9UZXN0VHlwZS5qYXZhDQpkaWZmIC1OIHdvcmtzcGFjZS9Db21wbGV0aW9u
L3NyYzMvdGVzdHh4eC9UZXN0VHlwZS5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6
MDA6MDAgLTAwMDANCisrKyB3b3Jrc3BhY2UvQ29tcGxldGlvbi9zcmMzL3Rlc3R4eHgvVGVzdFR5
cGUuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDExIEBADQorDQor
cGFja2FnZSB0ZXN0eHh4Ow0KKw0KK3B1YmxpYyBjbGFzcyBUZXN0VHlwZSB7DQorCQ0KKwlTdHJp
bmcgYWJjID0gImhpIjsNCisJDQorCUBZQUFubm90KCkNCisgICAgcHJvdGVjdGVkIFN0cmluZyBl
bGVtZW50ID0gYWJjOw0KKyAgICANCit9DQpJbmRleDogd29ya3NwYWNlL0NvbXBsZXRpb24vc3Jj
My90ZXN0eHh4L1Rlc3RUeXBlMi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogd29ya3NwYWNl
L0NvbXBsZXRpb24vc3JjMy90ZXN0eHh4L1Rlc3RUeXBlMi5qYXZhDQpkaWZmIC1OIHdvcmtzcGFj
ZS9Db21wbGV0aW9uL3NyYzMvdGVzdHh4eC9UZXN0VHlwZTIuamF2YQ0KLS0tIC9kZXYvbnVsbAkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgd29ya3NwYWNlL0NvbXBsZXRpb24vc3JjMy90
ZXN0eHh4L1Rlc3RUeXBlMi5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAg
KzEsOCBAQA0KK3BhY2thZ2UgdGVzdHh4eDsNCisNCitwdWJsaWMgY2xhc3MgVGVzdFR5cGUyIHsN
CisJaW50IHh4eXkgPSAxOw0KKwlTdHJpbmcgeHh5eTEgPSAiaGkiOw0KKyAgICBTdHJpbmcgeHh5
eTIgPSB4eHkNCisgICAgDQorfQ0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlDQpJbmRleDog
d29ya3NwYWNlL0NvbXBsZXRpb24vc3JjMy90ZXN0eHh4L3BhY2thZ2UtaW5mby5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogd29ya3NwYWNlL0NvbXBsZXRpb24vc3JjMy90ZXN0eHh4L3BhY2th
Z2UtaW5mby5qYXZhDQpkaWZmIC1OIHdvcmtzcGFjZS9Db21wbGV0aW9uL3NyYzMvdGVzdHh4eC9w
YWNrYWdlLWluZm8uamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQorKysgd29ya3NwYWNlL0NvbXBsZXRpb24vc3JjMy90ZXN0eHh4L3BhY2thZ2UtaW5mby5qYXZh
CTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMyBAQA0KK0BEZXByZWNhdGVk
DQorQFlBQW5ub3QobmFtZSA9ICIiLCB2YWwgPSAwKQ0KK3BhY2thZ2UgdGVzdHh4eDsNCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>