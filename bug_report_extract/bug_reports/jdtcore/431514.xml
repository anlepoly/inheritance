<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>431514</bug_id>
          
          <creation_ts>2014-03-28 12:35:00 -0400</creation_ts>
          <short_desc>[1.8] Incorrect compilation error in lambda expression</short_desc>
          <delta_ts>2014-04-30 00:47:12 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Noopur Gupta">noopur_gupta</reporter>
          <assigned_to name="Sasikanth Bharadwaj">saammana</assigned_to>
          <cc>manpalat</cc>
    
    <cc>markus_keller</cc>
    
    <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="62120"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2381843</commentid>
    <comment_count>0</comment_count>
    <who name="Noopur Gupta">noopur_gupta</who>
    <bug_when>2014-03-28 12:35:32 -0400</bug_when>
    <thetext>package test1;

class C1 {
	void fun1(int x) {
		int c;
		class Inner {
			FI test = () -&gt; {
				try {
				} catch (Exception c) {
					int x;
				}
			};
		}
	}
}

interface FI {
	void foo();
}
--------------------------------------------------------------------------

The above code compiles with b132 but gives compilation error with ECJ at &quot;int x;&quot; in catch clause: Lambda expression&apos;s local variable x cannot redeclare another local variable defined in an enclosing scope.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2384054</commentid>
    <comment_count>1</comment_count>
    <who name="Noopur Gupta">noopur_gupta</who>
    <bug_when>2014-04-03 08:20:45 -0400</bug_when>
    <thetext>Another example: ECJ gives error at [1] but b132 compiles it.

interface FI {
	void foo();
}

class C1 {
	void fun1(int x) {
		class Local {
			class L1 { }
			int y;
			FI test= () -&gt; {
				class L1 { } // [1] Error
				int y;
			};
		}
	}
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2384084</commentid>
    <comment_count>2</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-04-03 09:07:02 -0400</bug_when>
    <thetext>(In reply to Noopur Gupta from comment #1)
&gt; Another example: ECJ gives error at [1] but b132 compiles it.

It seems we apply this rule from 6.4:

&quot;It is a compile-time error if the name of a local class C is used to declare a new local class within the scope of C, unless the new local class is declared within another class whose declaration is within the scope of C.&quot;

However, the first L1 is not a local class, so if we go by the letter, we should probably accept that program.

Thanks, Noopur.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2384085</commentid>
    <comment_count>3</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-04-03 09:08:07 -0400</bug_when>
    <thetext>Pulling into 4.4 since both problems should be easy to fix, I hope.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2392372</commentid>
    <comment_count>4</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-24 05:58:03 -0400</bug_when>
    <thetext>My contribution for this defect fix complies with http://www.eclipse.org/legal/CoO.php</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2392374</commentid>
    <comment_count>5</comment_count>
      <attachid>242276</attachid>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-24 05:58:42 -0400</bug_when>
    <thetext>Created attachment 242276
patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2392377</commentid>
    <comment_count>6</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-24 06:01:31 -0400</bug_when>
    <thetext>Patch with changes and tests attached, all tests pass with these changes. Srikanth, please review</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2392383</commentid>
    <comment_count>7</comment_count>
      <attachid>242278</attachid>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-04-24 06:10:13 -0400</bug_when>
    <thetext>Created attachment 242278
Correct patch with updated comments in tests</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2394394</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-04-29 02:16:40 -0400</bug_when>
    <thetext>Patch looks good to me: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=d1752db0fdb22200a0abc280c6604c3cd3de8e50

Thanks Sasi.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2395156</commentid>
    <comment_count>9</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-04-30 00:47:12 -0400</bug_when>
    <thetext>Verified for Eclipse Luna 4.4M7 Build id: I20140429-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242276</attachid>
            <date>2014-04-24 05:58:00 -0400</date>
            <delta_ts>2014-04-24 06:09:35 -0400</delta_ts>
            <desc>patch</desc>
            <filename>431514_eclipse.jdt.coreandtests.patch</filename>
            <type>text/plain</type>
            <size>5673</size>
            <attacher name="Sasikanth Bharadwaj">saammana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0xhbWJkYUV4cHJlc3Np
b25zVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVz
c2lvbnNUZXN0LmphdmEKaW5kZXggZDExZGEwMi4uNTZlN2IwMSAxMDA2NDQKLS0tIGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEK
QEAgLTQzMTUsNiArNDMxNSw0OSBAQAogCQl9LAogCQkiIik7CiB9CitwdWJsaWMgdm9pZCB0ZXN0
NDMxNTE0KCkgeworCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQluZXcgU3RyaW5nW10geworCQkJ
CSJYLmphdmEiLAorCQkJCSJjbGFzcyBYIHtcbiIgKyAKKwkJCQkiCXZvaWQgZnVuMShpbnQgeCkg
e1xuIiArIAorCQkJCSIJCWNsYXNzIExvY2FsIHtcbiIgKyAKKwkJCQkiCQkJRkkgdGVzdD0gKCkg
LT4ge1xuIiArIAorCQkJCSIJCQkJdHJ5IHtcbiIgKyAKKwkJCQkiCQkJCX0gY2F0Y2ggKEV4Y2Vw
dGlvbiBlKSB7XG4iICsKKwkJCQkiCQkJCQlpbnQgeDtcbiIgKworCQkJCSIJCQkJfTtcbiIgKyAK
KwkJCQkiCQkJfTtcbiIgKyAKKwkJCQkiCQl9XG4iICsgCisJCQkJIgl9XG4iICsgCisJCQkJIn1c
biIgKyAKKwkJCQkiaW50ZXJmYWNlIEZJIHtcbiIgKyAKKwkJCQkiCXZvaWQgZm9vKCk7XG4iICsg
CisJCQkJIn0iCisJCX0pOworfQorcHVibGljIHZvaWQgdGVzdDQzMTUxNGEoKSB7CisJdGhpcy5y
dW5Db25mb3JtVGVzdCgKKwkJbmV3IFN0cmluZ1tdIHsKKwkJCSJYLmphdmEiLAorCQkJImNsYXNz
IFgge1xuIiArIAorCQkJIgl2b2lkIGZ1bjEoaW50IHgpIHtcbiIgKyAKKwkJCSIJCWNsYXNzIExv
Y2FsIHtcbiIgKyAKKwkJCSIJCQljbGFzcyBMMSB7IH1cbiIgKyAKKwkJCSIJCQlpbnQgeTtcbiIg
KyAKKwkJCSIJCQlGSSB0ZXN0PSAoKSAtPiB7XG4iICsgCisJCQkiCQkJCWNsYXNzIEwxIHsgfSBc
biIgKyAKKwkJCSIJCQkJaW50IHk7IFxuIiArIAorCQkJIgkJCX07XG4iICsgCisJCQkiCQl9XG4i
ICsgCisJCQkiCX1cbiIgKyAKKwkJCSIJXG4iICsgCisJCQkifVxuIiArIAorCQkJImludGVyZmFj
ZSBGSSB7XG4iICsgCisJCQkiCXZvaWQgZm9vKCk7XG4iICsgCisJCQkifSIKKwl9KTsKK30KIHB1
YmxpYyBzdGF0aWMgQ2xhc3MgdGVzdENsYXNzKCkgewogCXJldHVybiBMYW1iZGFFeHByZXNzaW9u
c1Rlc3QuY2xhc3M7CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5j
b21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lv
bi9OZWdhdGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVy
L3JlZ3Jlc3Npb24vTmVnYXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuamF2YQppbmRleCBhYzI3
N2RlLi41Mzc4YTlkIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21w
aWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9O
ZWdhdGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxl
ci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEKQEAgLTkwNDEs
NiArOTA0MSwzMSBAQAogCQkiTGFtYmRhIGV4cHJlc3Npb24ncyBwYXJhbWV0ZXIgeCBpcyBleHBl
Y3RlZCB0byBiZSBvZiB0eXBlIGludFxuIiArCiAJCSItLS0tLS0tLS0tXG4iKTsKIH0KK3B1Ymxp
YyB2b2lkIHRlc3Q0MzE1MTQoKSB7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJp
bmdbXSB7CisJCQkiWC5qYXZhIiwKKwkJCSJpbXBvcnQgamF2YS51dGlsLmZ1bmN0aW9uLlN1cHBs
aWVyO1xuIiArIAorCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIgKyAKKwkJCSIJcHVibGljIHZvaWQg
Zm9vKCkge1xuIiArIAorCQkJIgkJY2xhc3MgWiB7XG4iICsgCisJCQkiCQkJcHVibGljIFN1cHBs
aWVyPE9iamVjdD4gZ2V0KCkge1xuIiArIAorCQkJIgkJCQlyZXR1cm4gKCkgLT4ge1xuIiArIAor
CQkJIgkJCQkJY2xhc3MgWiB7IH1cbiIgKyAKKwkJCSIJCQkJCXJldHVybiBuZXcgWigpO1xuIiAr
IAorCQkJIgkJCQl9O1xuIiArIAorCQkJIgkJCX1cbiIgKyAKKwkJCSIJCX1cbiIgKyAKKwkJCSIJ
fVxuIiArIAorCQkJIn0iCisJCX0sCisJCSItLS0tLS0tLS0tXG4iICsKKwkJIjEuIEVSUk9SIGlu
IFguamF2YSAoYXQgbGluZSA3KVxuIiArCisJCSIJY2xhc3MgWiB7IH1cbiIgKworCQkiCSAgICAg
IF5cbiIgKworCQkiVGhlIG5lc3RlZCB0eXBlIFogY2Fubm90IGhpZGUgYW4gZW5jbG9zaW5nIHR5
cGVcbiIgKworCQkiLS0tLS0tLS0tLVxuIik7Cit9CiBwdWJsaWMgc3RhdGljIENsYXNzIHRlc3RD
bGFzcygpIHsKIAlyZXR1cm4gTmVnYXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuY2xhc3M7CiB9
CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0xvY2FsRGVjbGFyYXRpb24uamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9h
c3QvTG9jYWxEZWNsYXJhdGlvbi5qYXZhCmluZGV4IDNmMWY1ODQuLmVhN2NhNWYgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9hc3QvTG9jYWxEZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvTG9j
YWxEZWNsYXJhdGlvbi5qYXZhCkBAIC0yMDksNyArMjA5LDcgQEAKIAkJQmluZGluZyBleGlzdGlu
Z1ZhcmlhYmxlID0gc2NvcGUuZ2V0QmluZGluZyh0aGlzLm5hbWUsIEJpbmRpbmcuVkFSSUFCTEUs
IHRoaXMsIGZhbHNlIC8qZG8gbm90IHJlc29sdmUgaGlkZGVuIGZpZWxkKi8pOwogCQlpZiAoZXhp
c3RpbmdWYXJpYWJsZSAhPSBudWxsICYmIGV4aXN0aW5nVmFyaWFibGUuaXNWYWxpZEJpbmRpbmco
KSl7CiAJCQlib29sZWFuIGxvY2FsRXhpc3RzID0gZXhpc3RpbmdWYXJpYWJsZSBpbnN0YW5jZW9m
IExvY2FsVmFyaWFibGVCaW5kaW5nOyAKLQkJCWlmIChsb2NhbEV4aXN0cyAmJiAodGhpcy5iaXRz
ICYgQVNUTm9kZS5TaGFkb3dzT3V0ZXJMb2NhbCkgIT0gMCAmJiBzY29wZS5pc0xhbWJkYVN1YnNj
b3BlKCkpIHsKKwkJCWlmIChsb2NhbEV4aXN0cyAmJiAodGhpcy5iaXRzICYgQVNUTm9kZS5TaGFk
b3dzT3V0ZXJMb2NhbCkgIT0gMCAmJiBzY29wZS5pc0xhbWJkYVN1YnNjb3BlKCkgJiYgdGhpcy5o
aWRkZW5WYXJpYWJsZURlcHRoID09IDApIHsKIAkJCQkJc2NvcGUucHJvYmxlbVJlcG9ydGVyKCku
bGFtYmRhUmVkZWNsYXJlc0xvY2FsKHRoaXMpOwogCQkJfSBlbHNlIGlmIChsb2NhbEV4aXN0cyAm
JiB0aGlzLmhpZGRlblZhcmlhYmxlRGVwdGggPT0gMCkgewogCQkJCQlzY29wZS5wcm9ibGVtUmVw
b3J0ZXIoKS5yZWRlZmluZUxvY2FsKHRoaXMpOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UeXBl
RGVjbGFyYXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZURlY2xhcmF0aW9uLmphdmEKaW5kZXgg
Y2Y2ODRmMi4uOTA1NjZhNiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UeXBlRGVjbGFyYXRpb24u
amF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvYXN0L1R5cGVEZWNsYXJhdGlvbi5qYXZhCkBAIC0xLDUgKzEsNSBA
QAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWls
YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAog
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQKQEAgLTEyNzAsOSArMTI3MCwxMiBAQAogCQkJCQlvdXRlclNjb3BlID0gb3V0ZXJTY29wZS5w
YXJlbnQ7CiAJCQkJfQogCQkJfSBlbHNlIGlmIChleGlzdGluZ1R5cGUgaW5zdGFuY2VvZiBMb2Nh
bFR5cGVCaW5kaW5nCi0JCQkJCQkmJiAoKChMb2NhbFR5cGVCaW5kaW5nKSBleGlzdGluZ1R5cGUp
LnNjb3BlLm1ldGhvZFNjb3BlKCkgPT0gYmxvY2tTY29wZS5tZXRob2RTY29wZSgpIHx8IGJsb2Nr
U2NvcGUuaXNMYW1iZGFTdWJzY29wZSgpKSkgeworCQkJCQkJJiYgKChMb2NhbFR5cGVCaW5kaW5n
KSBleGlzdGluZ1R5cGUpLnNjb3BlLm1ldGhvZFNjb3BlKCkgPT0gYmxvY2tTY29wZS5tZXRob2RT
Y29wZSgpKSB7CiAJCQkJCS8vIGR1cCBpbiBzYW1lIG1ldGhvZAogCQkJCQlibG9ja1Njb3BlLnBy
b2JsZW1SZXBvcnRlcigpLmR1cGxpY2F0ZU5lc3RlZFR5cGUodGhpcyk7CisJCQl9IGVsc2UgaWYg
KGV4aXN0aW5nVHlwZSBpbnN0YW5jZW9mIExvY2FsVHlwZUJpbmRpbmcgJiYgYmxvY2tTY29wZS5p
c0xhbWJkYVN1YnNjb3BlKCkKKwkJCQkJJiYgYmxvY2tTY29wZS5lbmNsb3NpbmdMYW1iZGFTY29w
ZSgpLmVuY2xvc2luZ01ldGhvZFNjb3BlKCkgPT0gKChMb2NhbFR5cGVCaW5kaW5nKSBleGlzdGlu
Z1R5cGUpLnNjb3BlLm1ldGhvZFNjb3BlKCkpIHsKKwkJCQlibG9ja1Njb3BlLnByb2JsZW1SZXBv
cnRlcigpLmR1cGxpY2F0ZU5lc3RlZFR5cGUodGhpcyk7CiAJCQl9IGVsc2UgaWYgKGJsb2NrU2Nv
cGUuaXNEZWZpbmVkSW5UeXBlKGV4aXN0aW5nVHlwZSkpIHsKIAkJCQkvLwljb2xsaXNpb24gd2l0
aCBlbmNsb3NpbmcgdHlwZQogCQkJCWJsb2NrU2NvcGUucHJvYmxlbVJlcG9ydGVyKCkudHlwZUNv
bGxpZGVzV2l0aEVuY2xvc2luZ1R5cGUodGhpcyk7
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242278</attachid>
            <date>2014-04-24 06:10:00 -0400</date>
            <delta_ts>2014-04-24 06:10:13 -0400</delta_ts>
            <desc>Correct patch with updated comments in tests</desc>
            <filename>431514_eclipse.jdt.coreandtests.patch</filename>
            <type>text/plain</type>
            <size>6009</size>
            <attacher name="Sasikanth Bharadwaj">saammana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0xhbWJkYUV4cHJlc3Np
b25zVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVz
c2lvbnNUZXN0LmphdmEKaW5kZXggZDExZGEwMi4uNjE5ZmRmMSAxMDA2NDQKLS0tIGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEK
QEAgLTQzMTUsNiArNDMxNSw1MSBAQAogCQl9LAogCQkiIik7CiB9CisvLyBodHRwczovL2J1Z3Mu
ZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDMxNTE0IFsxLjhdIEluY29ycmVjdCBj
b21waWxhdGlvbiBlcnJvciBpbiBsYW1iZGEgZXhwcmVzc2lvbgorcHVibGljIHZvaWQgdGVzdDQz
MTUxNCgpIHsKKwl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJbmV3IFN0cmluZ1tdIHsKKwkJCQki
WC5qYXZhIiwKKwkJCQkiY2xhc3MgWCB7XG4iICsgCisJCQkJIgl2b2lkIGZ1bjEoaW50IHgpIHtc
biIgKyAKKwkJCQkiCQljbGFzcyBMb2NhbCB7XG4iICsgCisJCQkJIgkJCUZJIHRlc3Q9ICgpIC0+
IHtcbiIgKyAKKwkJCQkiCQkJCXRyeSB7XG4iICsgCisJCQkJIgkJCQl9IGNhdGNoIChFeGNlcHRp
b24gZSkge1xuIiArCisJCQkJIgkJCQkJaW50IHg7XG4iICsKKwkJCQkiCQkJCX07XG4iICsgCisJ
CQkJIgkJCX07XG4iICsgCisJCQkJIgkJfVxuIiArIAorCQkJCSIJfVxuIiArIAorCQkJCSJ9XG4i
ICsgCisJCQkJImludGVyZmFjZSBGSSB7XG4iICsgCisJCQkJIgl2b2lkIGZvbygpO1xuIiArIAor
CQkJCSJ9IgorCQl9KTsKK30KKy8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3df
YnVnLmNnaT9pZD00MzE1MTQgWzEuOF0gSW5jb3JyZWN0IGNvbXBpbGF0aW9uIGVycm9yIGluIGxh
bWJkYSBleHByZXNzaW9uCitwdWJsaWMgdm9pZCB0ZXN0NDMxNTE0YSgpIHsKKwl0aGlzLnJ1bkNv
bmZvcm1UZXN0KAorCQluZXcgU3RyaW5nW10geworCQkJIlguamF2YSIsCisJCQkiY2xhc3MgWCB7
XG4iICsgCisJCQkiCXZvaWQgZnVuMShpbnQgeCkge1xuIiArIAorCQkJIgkJY2xhc3MgTG9jYWwg
e1xuIiArIAorCQkJIgkJCWNsYXNzIEwxIHsgfVxuIiArIAorCQkJIgkJCWludCB5O1xuIiArIAor
CQkJIgkJCUZJIHRlc3Q9ICgpIC0+IHtcbiIgKyAKKwkJCSIJCQkJY2xhc3MgTDEgeyB9IFxuIiAr
IAorCQkJIgkJCQlpbnQgeTsgXG4iICsgCisJCQkiCQkJfTtcbiIgKyAKKwkJCSIJCX1cbiIgKyAK
KwkJCSIJfVxuIiArIAorCQkJIglcbiIgKyAKKwkJCSJ9XG4iICsgCisJCQkiaW50ZXJmYWNlIEZJ
IHtcbiIgKyAKKwkJCSIJdm9pZCBmb28oKTtcbiIgKyAKKwkJCSJ9IgorCX0pOworfQogcHVibGlj
IHN0YXRpYyBDbGFzcyB0ZXN0Q2xhc3MoKSB7CiAJcmV0dXJuIExhbWJkYUV4cHJlc3Npb25zVGVz
dC5jbGFzczsKIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBp
bGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05l
Z2F0aXZlTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVn
cmVzc2lvbi9OZWdhdGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IGFjMjc3ZGUu
LjI1ZWM2YTEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVy
L3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0
aXZlTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3Jl
Z3Jlc3Npb24vTmVnYXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuamF2YQpAQCAtOTA0MSw2ICs5
MDQxLDMyIEBACiAJCSJMYW1iZGEgZXhwcmVzc2lvbidzIHBhcmFtZXRlciB4IGlzIGV4cGVjdGVk
IHRvIGJlIG9mIHR5cGUgaW50XG4iICsKIAkJIi0tLS0tLS0tLS1cbiIpOwogfQorLy8gaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQzMTUxNCBbMS44XSBJbmNv
cnJlY3QgY29tcGlsYXRpb24gZXJyb3IgaW4gbGFtYmRhIGV4cHJlc3Npb24KK3B1YmxpYyB2b2lk
IHRlc3Q0MzE1MTQoKSB7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJpbmdbXSB7
CisJCQkiWC5qYXZhIiwKKwkJCSJpbXBvcnQgamF2YS51dGlsLmZ1bmN0aW9uLlN1cHBsaWVyO1xu
IiArIAorCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIgKyAKKwkJCSIJcHVibGljIHZvaWQgZm9vKCkg
e1xuIiArIAorCQkJIgkJY2xhc3MgWiB7XG4iICsgCisJCQkiCQkJcHVibGljIFN1cHBsaWVyPE9i
amVjdD4gZ2V0KCkge1xuIiArIAorCQkJIgkJCQlyZXR1cm4gKCkgLT4ge1xuIiArIAorCQkJIgkJ
CQkJY2xhc3MgWiB7IH1cbiIgKyAKKwkJCSIJCQkJCXJldHVybiBuZXcgWigpO1xuIiArIAorCQkJ
IgkJCQl9O1xuIiArIAorCQkJIgkJCX1cbiIgKyAKKwkJCSIJCX1cbiIgKyAKKwkJCSIJfVxuIiAr
IAorCQkJIn0iCisJCX0sCisJCSItLS0tLS0tLS0tXG4iICsKKwkJIjEuIEVSUk9SIGluIFguamF2
YSAoYXQgbGluZSA3KVxuIiArCisJCSIJY2xhc3MgWiB7IH1cbiIgKworCQkiCSAgICAgIF5cbiIg
KworCQkiVGhlIG5lc3RlZCB0eXBlIFogY2Fubm90IGhpZGUgYW4gZW5jbG9zaW5nIHR5cGVcbiIg
KworCQkiLS0tLS0tLS0tLVxuIik7Cit9CiBwdWJsaWMgc3RhdGljIENsYXNzIHRlc3RDbGFzcygp
IHsKIAlyZXR1cm4gTmVnYXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuY2xhc3M7CiB9CmRpZmYg
LS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvYXN0L0xvY2FsRGVjbGFyYXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvTG9j
YWxEZWNsYXJhdGlvbi5qYXZhCmluZGV4IDNmMWY1ODQuLmVhN2NhNWYgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9hc3QvTG9jYWxEZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvTG9jYWxEZWNs
YXJhdGlvbi5qYXZhCkBAIC0yMDksNyArMjA5LDcgQEAKIAkJQmluZGluZyBleGlzdGluZ1Zhcmlh
YmxlID0gc2NvcGUuZ2V0QmluZGluZyh0aGlzLm5hbWUsIEJpbmRpbmcuVkFSSUFCTEUsIHRoaXMs
IGZhbHNlIC8qZG8gbm90IHJlc29sdmUgaGlkZGVuIGZpZWxkKi8pOwogCQlpZiAoZXhpc3RpbmdW
YXJpYWJsZSAhPSBudWxsICYmIGV4aXN0aW5nVmFyaWFibGUuaXNWYWxpZEJpbmRpbmcoKSl7CiAJ
CQlib29sZWFuIGxvY2FsRXhpc3RzID0gZXhpc3RpbmdWYXJpYWJsZSBpbnN0YW5jZW9mIExvY2Fs
VmFyaWFibGVCaW5kaW5nOyAKLQkJCWlmIChsb2NhbEV4aXN0cyAmJiAodGhpcy5iaXRzICYgQVNU
Tm9kZS5TaGFkb3dzT3V0ZXJMb2NhbCkgIT0gMCAmJiBzY29wZS5pc0xhbWJkYVN1YnNjb3BlKCkp
IHsKKwkJCWlmIChsb2NhbEV4aXN0cyAmJiAodGhpcy5iaXRzICYgQVNUTm9kZS5TaGFkb3dzT3V0
ZXJMb2NhbCkgIT0gMCAmJiBzY29wZS5pc0xhbWJkYVN1YnNjb3BlKCkgJiYgdGhpcy5oaWRkZW5W
YXJpYWJsZURlcHRoID09IDApIHsKIAkJCQkJc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkubGFtYmRh
UmVkZWNsYXJlc0xvY2FsKHRoaXMpOwogCQkJfSBlbHNlIGlmIChsb2NhbEV4aXN0cyAmJiB0aGlz
LmhpZGRlblZhcmlhYmxlRGVwdGggPT0gMCkgewogCQkJCQlzY29wZS5wcm9ibGVtUmVwb3J0ZXIo
KS5yZWRlZmluZUxvY2FsKHRoaXMpOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UeXBlRGVjbGFy
YXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9hc3QvVHlwZURlY2xhcmF0aW9uLmphdmEKaW5kZXggY2Y2ODRm
Mi4uOTA1NjZhNiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9UeXBlRGVjbGFyYXRpb24uamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L1R5cGVEZWNsYXJhdGlvbi5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJQk0gQ29y
cG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJQk0gQ29y
cG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3Jh
bSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1
bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hp
Y2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAg
LTEyNzAsOSArMTI3MCwxMiBAQAogCQkJCQlvdXRlclNjb3BlID0gb3V0ZXJTY29wZS5wYXJlbnQ7
CiAJCQkJfQogCQkJfSBlbHNlIGlmIChleGlzdGluZ1R5cGUgaW5zdGFuY2VvZiBMb2NhbFR5cGVC
aW5kaW5nCi0JCQkJCQkmJiAoKChMb2NhbFR5cGVCaW5kaW5nKSBleGlzdGluZ1R5cGUpLnNjb3Bl
Lm1ldGhvZFNjb3BlKCkgPT0gYmxvY2tTY29wZS5tZXRob2RTY29wZSgpIHx8IGJsb2NrU2NvcGUu
aXNMYW1iZGFTdWJzY29wZSgpKSkgeworCQkJCQkJJiYgKChMb2NhbFR5cGVCaW5kaW5nKSBleGlz
dGluZ1R5cGUpLnNjb3BlLm1ldGhvZFNjb3BlKCkgPT0gYmxvY2tTY29wZS5tZXRob2RTY29wZSgp
KSB7CiAJCQkJCS8vIGR1cCBpbiBzYW1lIG1ldGhvZAogCQkJCQlibG9ja1Njb3BlLnByb2JsZW1S
ZXBvcnRlcigpLmR1cGxpY2F0ZU5lc3RlZFR5cGUodGhpcyk7CisJCQl9IGVsc2UgaWYgKGV4aXN0
aW5nVHlwZSBpbnN0YW5jZW9mIExvY2FsVHlwZUJpbmRpbmcgJiYgYmxvY2tTY29wZS5pc0xhbWJk
YVN1YnNjb3BlKCkKKwkJCQkJJiYgYmxvY2tTY29wZS5lbmNsb3NpbmdMYW1iZGFTY29wZSgpLmVu
Y2xvc2luZ01ldGhvZFNjb3BlKCkgPT0gKChMb2NhbFR5cGVCaW5kaW5nKSBleGlzdGluZ1R5cGUp
LnNjb3BlLm1ldGhvZFNjb3BlKCkpIHsKKwkJCQlibG9ja1Njb3BlLnByb2JsZW1SZXBvcnRlcigp
LmR1cGxpY2F0ZU5lc3RlZFR5cGUodGhpcyk7CiAJCQl9IGVsc2UgaWYgKGJsb2NrU2NvcGUuaXNE
ZWZpbmVkSW5UeXBlKGV4aXN0aW5nVHlwZSkpIHsKIAkJCQkvLwljb2xsaXNpb24gd2l0aCBlbmNs
b3NpbmcgdHlwZQogCQkJCWJsb2NrU2NvcGUucHJvYmxlbVJlcG9ydGVyKCkudHlwZUNvbGxpZGVz
V2l0aEVuY2xvc2luZ1R5cGUodGhpcyk7
</data>

          </attachment>
      

    </bug>

</bugzilla>