<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>403735</bug_id>
          
          <creation_ts>2013-03-19 05:45:00 -0400</creation_ts>
          <short_desc>NaiveASTFlattener does not flatten Javadoc correctly (missed an important whitespace)</short_desc>
          <delta_ts>2013-04-30 06:38:42 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7.2</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.3 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Dongqing Hu">dawnstar</reporter>
          <assigned_to name="Markus Keller">markus_keller</assigned_to>
          <cc>jarthana</cc>
    
    <cc>markus_keller</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2233469</commentid>
    <comment_count>0</comment_count>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 05:45:07 -0400</bug_when>
    <thetext>For javadoc written like this:
  /**
   * Initialization for adminRatingScaleController.
   * @throws AjaxServiceException
   *           when AjaxServiceException
   */

The output of ASTNode.toString() makes it &quot;@throws AjaxServiceExceptionwhen AjaxServiceException&quot;, missing an important whitespace. 


The below is my fix for your information (diff to master HEAD)
                        // assume text elements include necessary leading and trailing whitespace
                        // but Name, MemberRef, MethodRef, and nested TagElement do not include white space
                        boolean currentIncludesWhiteSpace = (e instanceof TextElement);
+                       if ((TextElement) e).getText.charAt(0) != &apos; &apos;) {
+                               currentIncludesWhiteSpace = false;
+                       }
                        if (previousRequiresNewLine &amp;&amp; currentIncludesWhiteSpace) {
                                this.buffer.append(&quot;\n * &quot;);//$NON-NLS-1$
                        }

For the javadoc I&apos;m working on, the TextElement does not have leading whitespace, so the assuming failed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233516</commentid>
    <comment_count>1</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-03-19 07:16:21 -0400</bug_when>
    <thetext>Hello, thanks for the fix. Could you please attach the fix as a patch? A regression case would be welcome too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233556</commentid>
    <comment_count>2</comment_count>
      <attachid>228626</attachid>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 08:13:59 -0400</bug_when>
    <thetext>Created attachment 228626
git diff patch for it</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233558</commentid>
    <comment_count>3</comment_count>
      <attachid>228627</attachid>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 08:17:13 -0400</bug_when>
    <thetext>Created attachment 228627
A sample file which can reproduce this bug

This file contains the javadoc which can reproduce the symptom.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233559</commentid>
    <comment_count>4</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-03-19 08:18:39 -0400</bug_when>
    <thetext>Note that the code needs proper boundary condition checks, since TextElement.getText() can be empty. And we should use CharOperation.isWhitespace(..) to test for whitespace.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233562</commentid>
    <comment_count>5</comment_count>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 08:24:53 -0400</bug_when>
    <thetext>(In reply to comment #4)
&gt; Note that the code needs proper boundary condition checks, since
&gt; TextElement.getText() can be empty. And we should use
&gt; CharOperation.isWhitespace(..) to test for whitespace.

Yes, I submitted a better one as patch. I used Character.isWhitespace(...).
Do I need to use CharOperation instead?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233572</commentid>
    <comment_count>6</comment_count>
      <attachid>228628</attachid>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 08:47:51 -0400</bug_when>
    <thetext>Created attachment 228628
A safer version according to Markus Keller&apos;s advice</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233573</commentid>
    <comment_count>7</comment_count>
      <attachid>228629</attachid>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 08:52:42 -0400</bug_when>
    <thetext>Created attachment 228629
A safer version according to Markus Keller&apos;s advice (Sorry, the previous uploaded is wrong)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233678</commentid>
    <comment_count>8</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-03-19 10:57:10 -0400</bug_when>
    <thetext>(In reply to comment #7)
No, attachment 228628 is actually better. As per [1], the null check is unnecessary, since getText() doesn&apos;t specify that it can return null.

For the whitespace detection, most code actually uses ScannerHelper.isWhitespace(..), so let&apos;s also use that one here.


[1] http://help.eclipse.org/juno/topic/org.eclipse.jdt.doc.isv/reference/misc/api-usage-rules.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2233800</commentid>
    <comment_count>9</comment_count>
      <attachid>228667</attachid>
    <who name="Dongqing Hu">dawnstar</who>
    <bug_when>2013-03-19 12:51:05 -0400</bug_when>
    <thetext>Created attachment 228667
patch version using ScannerHelper

OK. 
ScannerHelper.isWhitespace(...) includes non-JLS whitespaces, which is more meaningful as to HTML. 

Hope it would also work on something like Checkstyle.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2238451</commentid>
    <comment_count>10</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-04-02 01:36:08 -0400</bug_when>
    <thetext>Markus, is this something we can consider for 4.3?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2240331</commentid>
    <comment_count>11</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-04-05 14:30:22 -0400</bug_when>
    <thetext>The underlying problem is bug 206518.

But since that would be a bigger change and NaiveASTFlattener doesn&apos;t make any guarantees, I&apos;ve just adapted the comment and released this workaround: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=6e4128f5cd06f71535503e1d8c2cddb98551d7a4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2250335</commentid>
    <comment_count>12</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-04-30 06:38:42 -0400</bug_when>
    <thetext>Verified for 4.3 M7 by code inspection</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>228626</attachid>
            <date>2013-03-19 08:13:00 -0400</date>
            <delta_ts>2013-03-19 08:47:51 -0400</delta_ts>
            <desc>git diff patch for it</desc>
            <filename>NaiveASTFlattener.patch</filename>
            <type>text/plain</type>
            <size>1095</size>
            <attacher name="Dongqing Hu">dawnstar</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVuZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVu
ZXIuamF2YQppbmRleCBhNmJmMTUxLi4yMjY4ZjEzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL05haXZlQVNURmxh
dHRlbmVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9OYWl2ZUFTVEZsYXR0ZW5lci5qYXZhCkBAIC0xNDgwLDcgKzE0
ODAsMTMgQEAgcHVibGljIGNsYXNzIE5haXZlQVNURmxhdHRlbmVyIGV4dGVuZHMgQVNUVmlzaXRv
ciB7CiAJCQlBU1ROb2RlIGUgPSAoQVNUTm9kZSkgaXQubmV4dCgpOwogCQkJLy8gYXNzdW1lIHRl
eHQgZWxlbWVudHMgaW5jbHVkZSBuZWNlc3NhcnkgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVz
cGFjZQogCQkJLy8gYnV0IE5hbWUsIE1lbWJlclJlZiwgTWV0aG9kUmVmLCBhbmQgbmVzdGVkIFRh
Z0VsZW1lbnQgZG8gbm90IGluY2x1ZGUgd2hpdGUgc3BhY2UKLQkJCWJvb2xlYW4gY3VycmVudElu
Y2x1ZGVzV2hpdGVTcGFjZSA9IChlIGluc3RhbmNlb2YgVGV4dEVsZW1lbnQpOworCQkJYm9vbGVh
biBjdXJyZW50SW5jbHVkZXNXaGl0ZVNwYWNlID0gZmFsc2U7CisJCQlpZiAoZSBpbnN0YW5jZW9m
IFRleHRFbGVtZW50KSB7CisJCQkJY2hhciBsZWFkaW5nQ2hhciA9ICgoVGV4dEVsZW1lbnQpIGUp
LmdldFRleHQoKS5jaGFyQXQoMCk7CisJCQkJaWYgKENoYXJhY3Rlci5pc1doaXRlc3BhY2UobGVh
ZGluZ0NoYXIpKSB7CisJCQkJCWN1cnJlbnRJbmNsdWRlc1doaXRlU3BhY2UgPSB0cnVlOworCQkJ
CX0KKwkJCX0KIAkJCWlmIChwcmV2aW91c1JlcXVpcmVzTmV3TGluZSAmJiBjdXJyZW50SW5jbHVk
ZXNXaGl0ZVNwYWNlKSB7CiAJCQkJdGhpcy5idWZmZXIuYXBwZW5kKCJcbiAqICIpOy8vJE5PTi1O
TFMtMSQKIAkJCX0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>228627</attachid>
            <date>2013-03-19 08:17:00 -0400</date>
            <delta_ts>2013-03-19 08:17:13 -0400</delta_ts>
            <desc>A sample file which can reproduce this bug</desc>
            <filename>JavadocSample.java</filename>
            <type>text/x-java</type>
            <size>274</size>
            <attacher name="Dongqing Hu">dawnstar</attacher>
            
              <data encoding="base64">cGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZS5kb207CgppbXBvcnQgY29tLnN1
Y2Nlc3NmYWN0b3JzLmFqYXhzZXJ2aWNlLnVpLmNvbnRyb2xsZXIudXRpbC5BamF4U2VydmljZUV4
Y2VwdGlvbjsKCnB1YmxpYyBjbGFzcyBKYXZhZG9jU2FtcGxlIHsKCQoJICAvKioKCSAgICogQ29u
c3RydWN0b3IuCgkgICAqIEB0aHJvd3MgRXhjZXB0aW9uCgkgICAqICAgICAgICAgICB0aGUgZXhj
ZXB0aW9uCgkgICAqLwoJcHVibGljIEphdmFkb2NTYW1wbGUoKSB7Cgl9Cgp9Cg==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>228628</attachid>
            <date>2013-03-19 08:47:00 -0400</date>
            <delta_ts>2013-03-19 12:51:05 -0400</delta_ts>
            <desc>A safer version according to Markus Keller&apos;s advice</desc>
            <filename>NaiveASTFlattener-safe.patch</filename>
            <type>text/plain</type>
            <size>1401</size>
            <attacher name="Dongqing Hu">dawnstar</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVuZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVu
ZXIuamF2YQppbmRleCBhNmJmMTUxLi40ZDRlMDMzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL05haXZlQVNURmxh
dHRlbmVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9OYWl2ZUFTVEZsYXR0ZW5lci5qYXZhCkBAIC0xMyw2ICsxMyw3
IEBAIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmUuZG9tOwogaW1wb3J0IGph
dmEudXRpbC5JdGVyYXRvcjsKIGltcG9ydCBqYXZhLnV0aWwuTGlzdDsKIAoraW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLmNvbXBpbGVyLkNoYXJPcGVyYXRpb247CiBpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUuZG9tLkFTVDsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNU
Tm9kZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUVmlzaXRvcjsKQEAgLTE0
ODAsNyArMTQ4MSwxMyBAQCBwdWJsaWMgY2xhc3MgTmFpdmVBU1RGbGF0dGVuZXIgZXh0ZW5kcyBB
U1RWaXNpdG9yIHsKIAkJCUFTVE5vZGUgZSA9IChBU1ROb2RlKSBpdC5uZXh0KCk7CiAJCQkvLyBh
c3N1bWUgdGV4dCBlbGVtZW50cyBpbmNsdWRlIG5lY2Vzc2FyeSBsZWFkaW5nIGFuZCB0cmFpbGlu
ZyB3aGl0ZXNwYWNlCiAJCQkvLyBidXQgTmFtZSwgTWVtYmVyUmVmLCBNZXRob2RSZWYsIGFuZCBu
ZXN0ZWQgVGFnRWxlbWVudCBkbyBub3QgaW5jbHVkZSB3aGl0ZSBzcGFjZQotCQkJYm9vbGVhbiBj
dXJyZW50SW5jbHVkZXNXaGl0ZVNwYWNlID0gKGUgaW5zdGFuY2VvZiBUZXh0RWxlbWVudCk7CisJ
CQlib29sZWFuIGN1cnJlbnRJbmNsdWRlc1doaXRlU3BhY2UgPSBmYWxzZTsKKwkJCWlmIChlIGlu
c3RhbmNlb2YgVGV4dEVsZW1lbnQpIHsKKwkJCQlTdHJpbmcgdGV4dCA9ICgoVGV4dEVsZW1lbnQp
IGUpLmdldFRleHQoKTsKKwkJCQlpZiAodGV4dC5sZW5ndGgoKSA+IDAgJiYgQ2hhck9wZXJhdGlv
bi5pc1doaXRlc3BhY2UodGV4dC5jaGFyQXQoMCkpKSB7CisJCQkJCWN1cnJlbnRJbmNsdWRlc1do
aXRlU3BhY2UgPSB0cnVlOworCQkJCX0KKwkJCX0KIAkJCWlmIChwcmV2aW91c1JlcXVpcmVzTmV3
TGluZSAmJiBjdXJyZW50SW5jbHVkZXNXaGl0ZVNwYWNlKSB7CiAJCQkJdGhpcy5idWZmZXIuYXBw
ZW5kKCJcbiAqICIpOy8vJE5PTi1OTFMtMSQKIAkJCX0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>228629</attachid>
            <date>2013-03-19 08:52:00 -0400</date>
            <delta_ts>2013-03-19 11:02:56 -0400</delta_ts>
            <desc>A safer version according to Markus Keller&apos;s advice (Sorry, the previous uploaded is wrong)</desc>
            <filename>NaiveASTFlattener-safer.patch</filename>
            <type>text/plain</type>
            <size>1417</size>
            <attacher name="Dongqing Hu">dawnstar</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVuZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVu
ZXIuamF2YQppbmRleCBhNmJmMTUxLi5lZTY3ZjBmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL05haXZlQVNURmxh
dHRlbmVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9OYWl2ZUFTVEZsYXR0ZW5lci5qYXZhCkBAIC0xMyw2ICsxMyw3
IEBAIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmUuZG9tOwogaW1wb3J0IGph
dmEudXRpbC5JdGVyYXRvcjsKIGltcG9ydCBqYXZhLnV0aWwuTGlzdDsKIAoraW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLmNvbXBpbGVyLkNoYXJPcGVyYXRpb247CiBpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUuZG9tLkFTVDsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNU
Tm9kZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUVmlzaXRvcjsKQEAgLTE0
ODAsNyArMTQ4MSwxMyBAQCBwdWJsaWMgY2xhc3MgTmFpdmVBU1RGbGF0dGVuZXIgZXh0ZW5kcyBB
U1RWaXNpdG9yIHsKIAkJCUFTVE5vZGUgZSA9IChBU1ROb2RlKSBpdC5uZXh0KCk7CiAJCQkvLyBh
c3N1bWUgdGV4dCBlbGVtZW50cyBpbmNsdWRlIG5lY2Vzc2FyeSBsZWFkaW5nIGFuZCB0cmFpbGlu
ZyB3aGl0ZXNwYWNlCiAJCQkvLyBidXQgTmFtZSwgTWVtYmVyUmVmLCBNZXRob2RSZWYsIGFuZCBu
ZXN0ZWQgVGFnRWxlbWVudCBkbyBub3QgaW5jbHVkZSB3aGl0ZSBzcGFjZQotCQkJYm9vbGVhbiBj
dXJyZW50SW5jbHVkZXNXaGl0ZVNwYWNlID0gKGUgaW5zdGFuY2VvZiBUZXh0RWxlbWVudCk7CisJ
CQlib29sZWFuIGN1cnJlbnRJbmNsdWRlc1doaXRlU3BhY2UgPSBmYWxzZTsKKwkJCWlmIChlIGlu
c3RhbmNlb2YgVGV4dEVsZW1lbnQpIHsKKwkJCQlTdHJpbmcgdGV4dCA9ICgoVGV4dEVsZW1lbnQp
IGUpLmdldFRleHQoKTsKKwkJCQlpZiAodGV4dCAhPSBudWxsICYmIHRleHQubGVuZ3RoKCkgPiAw
ICYmIENoYXJPcGVyYXRpb24uaXNXaGl0ZXNwYWNlKHRleHQuY2hhckF0KDApKSkgeworCQkJCQlj
dXJyZW50SW5jbHVkZXNXaGl0ZVNwYWNlID0gdHJ1ZTsKKwkJCQl9CisJCQl9CiAJCQlpZiAocHJl
dmlvdXNSZXF1aXJlc05ld0xpbmUgJiYgY3VycmVudEluY2x1ZGVzV2hpdGVTcGFjZSkgewogCQkJ
CXRoaXMuYnVmZmVyLmFwcGVuZCgiXG4gKiAiKTsvLyROT04tTkxTLTEkCiAJCQl9Cg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>228667</attachid>
            <date>2013-03-19 12:51:00 -0400</date>
            <delta_ts>2013-04-05 14:30:37 -0400</delta_ts>
            <desc>patch version using ScannerHelper</desc>
            <filename>usingScannerHelper.patch</filename>
            <type>text/plain</type>
            <size>1497</size>
            <attacher name="Dongqing Hu">dawnstar</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVuZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVu
ZXIuamF2YQppbmRleCBhNmJmMTUxLi5kYTAyYTg0IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL05haXZlQVNURmxh
dHRlbmVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9OYWl2ZUFTVEZsYXR0ZW5lci5qYXZhCkBAIC0xMDcsNiArMTA3
LDcgQEAgaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5WYXJpYWJsZURlY2xhcmF0aW9u
RnJhZ21lbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlZhcmlhYmxlRGVjbGFy
YXRpb25TdGF0ZW1lbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLldoaWxlU3Rh
dGVtZW50OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5XaWxkY2FyZFR5cGU7Citp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLnBhcnNlci5TY2FubmVySGVs
cGVyOwogCiAvKioKICAqIEludGVybmFsIEFTVCB2aXNpdG9yIGZvciBzZXJpYWxpemluZyBhbiBB
U1QgaW4gYSBxdWljayBhbmQgZGlydHkgZmFzaGlvbi4KQEAgLTE0ODAsNyArMTQ4MSwxMyBAQCBw
dWJsaWMgY2xhc3MgTmFpdmVBU1RGbGF0dGVuZXIgZXh0ZW5kcyBBU1RWaXNpdG9yIHsKIAkJCUFT
VE5vZGUgZSA9IChBU1ROb2RlKSBpdC5uZXh0KCk7CiAJCQkvLyBhc3N1bWUgdGV4dCBlbGVtZW50
cyBpbmNsdWRlIG5lY2Vzc2FyeSBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlCiAJCQkv
LyBidXQgTmFtZSwgTWVtYmVyUmVmLCBNZXRob2RSZWYsIGFuZCBuZXN0ZWQgVGFnRWxlbWVudCBk
byBub3QgaW5jbHVkZSB3aGl0ZSBzcGFjZQotCQkJYm9vbGVhbiBjdXJyZW50SW5jbHVkZXNXaGl0
ZVNwYWNlID0gKGUgaW5zdGFuY2VvZiBUZXh0RWxlbWVudCk7CisJCQlib29sZWFuIGN1cnJlbnRJ
bmNsdWRlc1doaXRlU3BhY2UgPSBmYWxzZTsKKwkJCWlmIChlIGluc3RhbmNlb2YgVGV4dEVsZW1l
bnQpIHsKKwkJCQlTdHJpbmcgdGV4dCA9ICgoVGV4dEVsZW1lbnQpIGUpLmdldFRleHQoKTsKKwkJ
CQlpZiAodGV4dC5sZW5ndGgoKSA+IDAgJiYgU2Nhbm5lckhlbHBlci5pc1doaXRlc3BhY2UodGV4
dC5jaGFyQXQoMCkpKSB7CisJCQkJCWN1cnJlbnRJbmNsdWRlc1doaXRlU3BhY2UgPSB0cnVlOwor
CQkJCX0KKwkJCX0KIAkJCWlmIChwcmV2aW91c1JlcXVpcmVzTmV3TGluZSAmJiBjdXJyZW50SW5j
bHVkZXNXaGl0ZVNwYWNlKSB7CiAJCQkJdGhpcy5idWZmZXIuYXBwZW5kKCJcbiAqICIpOy8vJE5P
Ti1OTFMtMSQKIAkJCX0K
</data>
<flag name="iplog"
          id="56437"
          type_id="7"
          status="+"
          setter="markus_keller"
    />
          </attachment>
      

    </bug>

</bugzilla>