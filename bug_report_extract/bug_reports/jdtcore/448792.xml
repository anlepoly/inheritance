<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>448792</bug_id>
          
          <creation_ts>2014-10-24 23:22:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] More robust &amp; fast captures needed for wildcards.</short_desc>
          <delta_ts>2014-12-10 00:29:44 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M4</target_milestone>
          
          <blocked>448791</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>jarthana</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="63739"
          type_id="1"
          status="?"
          setter="jarthana"
          requestee="stephan.herrmann"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2471590</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-24 23:22:55 -0400</bug_when>
    <thetext>https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444 introduces
interned captures:

This still needs follow up in three areas:

    - To make it more robust we should capture using both the capturing
expression&apos;s source start and source end (along with CUD) not just the
source end as some times source ends are seen to be identical for the
containing and the contained expression (cast, assignment ...)

    - TypeSystem.getCapturedWildcard may introduce performance problems as we
just maintain a linear list of captures across all files input to compiler.
These should be hashed somehow on a CUD basis.

    - We need to see whether we need ATS.getCapturedWildcard and what it
would look like.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475378</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 20:58:04 -0500</bug_when>
    <thetext>Fix and tests are here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=4e5b524e8fed0a2f038362e79ac7bed8b62bd551</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2475379</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-02 21:00:45 -0500</bug_when>
    <thetext>Stephan, could you comment on the two assumptions in this fix ? TIA.

    - TypeSystem.getCapturedWildcard() comment at header:
// No need for an override in ATS, since interning is position specific and 
either the wildcard there is annotated or not.

    - TypeSystem.getCapturedWildcard():
// Searching further to the left is futile, exit the loop.

See also comment above loop.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2478469</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-07 02:48:02 -0500</bug_when>
    <thetext>Setting the review flag so Stephan can track this easily.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2494946</commentid>
    <comment_count>4</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-12-10 00:29:44 -0500</bug_when>
    <thetext>Verified for 4.5 M4 using build I20141208-2000</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>