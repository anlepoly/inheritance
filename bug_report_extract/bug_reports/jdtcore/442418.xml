<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>442418</bug_id>
          
          <creation_ts>2014-08-22 15:56:00 -0400</creation_ts>
          <short_desc>$deserializeLambda$ off-by-one error when deserializing the captured arguments of a lambda that also capture this</short_desc>
          <delta_ts>2015-01-29 00:06:29 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>Macintosh</rep_platform>
          <op_sys>Mac OS X</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4.2</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Olivier Tardieu">tardieu</reporter>
          <assigned_to name="Andrew Clement">aclement</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>ronald.tetsuo</cc>
    
    <cc>shankhba</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2442636</commentid>
    <comment_count>0</comment_count>
      <attachid>246271</attachid>
    <who name="Olivier Tardieu">tardieu</who>
    <bug_when>2014-08-22 15:56:40 -0400</bug_when>
    <thetext>Created attachment 246271
Code triggering the bug.

When $deserializeLambda$ deserializes the captured arguments of a serializable lambda that captures the enclosing instance, it does not account for the captured instance when computing argument indexes.

The $deserializeLambda$ method for example code attached passes twice index 0 to  java.lang.invoke.SerializedLambda.getCapturedArg to obtain either the capture instance or the captured integer.

It looks like a simple coding mistake in org.eclipse.jdt.internal.compiler.codegen.CodeStream. In method generateSyntheticBodyForDeserializeLambda, in loop &quot;for (int p=0,max=outerLocalVariables.length;p&lt;max;p++)&quot; the loop index &quot;p&quot; is used in place of the argument index &quot;index&quot; to generated the argument to &quot;java.lang.invoke.SerializedLambda.getCapturedArg&quot;.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2442637</commentid>
    <comment_count>1</comment_count>
      <attachid>246272</attachid>
    <who name="Olivier Tardieu">tardieu</who>
    <bug_when>2014-08-22 16:00:33 -0400</bug_when>
    <thetext>Created attachment 246272
Tentative patch.

This patch simply substitutes variable &quot;index&quot; to variable &quot;p&quot; in &quot;loadInt(p)&quot; in the captured argument loop in generateSyntheticBodyForDeserializeLambda in org.eclipse.jdt.internal.compiler.codegen.CodeStream.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2442676</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-08-22 23:31:09 -0400</bug_when>
    <thetext>Andy, could you please take this to completion ? Olivier, thanks for the
patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2445100</commentid>
    <comment_count>3</comment_count>
    <who name="Andrew Clement">aclement</who>
    <bug_when>2014-08-28 14:41:22 -0400</bug_when>
    <thetext>Olivier, per Srikanths comment on bug 442416, please can you complete the CLA then I can progress the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2446144</commentid>
    <comment_count>4</comment_count>
    <who name="Olivier Tardieu">tardieu</who>
    <bug_when>2014-09-01 16:55:55 -0400</bug_when>
    <thetext>Andy, I will as soon as I get formal approval.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2451137</commentid>
    <comment_count>5</comment_count>
    <who name="Olivier Tardieu">tardieu</who>
    <bug_when>2014-09-12 13:50:08 -0400</bug_when>
    <thetext>I have completed the CLA on 2017-09-12.

My contribution for this defect fix complies with http://www.eclipse.org/legal/CoO.php.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2451267</commentid>
    <comment_count>6</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-12 19:43:11 -0400</bug_when>
    <thetext>(In reply to Olivier Tardieu from comment #5)
&gt; I have completed the CLA on 2017-09-12.
&gt; 
&gt; My contribution for this defect fix complies with
&gt; http://www.eclipse.org/legal/CoO.php.

Thanks Olivier, Andy, it would be nice to get this into 4.5 M2 if your schedule
would allow - M2 builds for SDK components are happening the week of Sep 15th
with Sep 19th being the milestone release day. A day or preferably two days
before 19th would make it to the build.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2451278</commentid>
    <comment_count>7</comment_count>
    <who name="tetsuo Mising name">ronald.tetsuo</who>
    <bug_when>2014-09-12 22:11:22 -0400</bug_when>
    <thetext>Will this patch be backported to 4.4?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2451280</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-12 22:33:31 -0400</bug_when>
    <thetext>(In reply to tetsuo Mising name from comment #7)
&gt; Will this patch be backported to 4.4?

It is too late for SR1, we will consider this for SR2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2452003</commentid>
    <comment_count>9</comment_count>
      <attachid>247090</attachid>
    <who name="Andrew Clement">aclement</who>
    <bug_when>2014-09-15 16:52:42 -0400</bug_when>
    <thetext>Created attachment 247090
patch to add test case and fix

Converts the attached test snippet into a real regression test and also includes the fix.  Please apply AFTER the patch in 442416 since these patches touch the same areas in the test code.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2452081</commentid>
    <comment_count>10</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-15 21:39:02 -0400</bug_when>
    <thetext>Fix and test released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=a506df2c94cb2bca7d7c1b85ea67255a52fd0117.

Thanks Olivier and Andy.

Olivier, if you would like to continue to contribute to JDT, drop us a note
(hint, hint :))</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2452100</commentid>
    <comment_count>11</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-09-16 00:27:44 -0400</bug_when>
    <thetext>Reopening for back port.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2477686</commentid>
    <comment_count>12</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-06 03:47:37 -0500</bug_when>
    <thetext>Released in R4_4_maintenance via commit(s):

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R4_4_maintenance&amp;id=90986cf484d5028b5c73aec47b476b23334ce28c</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2477740</commentid>
    <comment_count>13</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-11-06 04:45:17 -0500</bug_when>
    <thetext>Verified for 4.5M3 using  I20141029-2000 build.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2507824</commentid>
    <comment_count>14</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-01-20 08:49:51 -0500</bug_when>
    <thetext>Verified for 4.4.2 RC1 with build M20150114-1500</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2511237</commentid>
    <comment_count>15</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-01-28 05:10:17 -0500</bug_when>
    <thetext>Verified for 4.5 M5 using I20150127-0900 build (by inspecting the class file)</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>246271</attachid>
            <date>2014-08-22 15:56:00 -0400</date>
            <delta_ts>2014-08-22 15:56:40 -0400</delta_ts>
            <desc>Code triggering the bug.</desc>
            <filename>Bar.java</filename>
            <type>application/octet-stream</type>
            <size>117</size>
            <attacher name="Olivier Tardieu">tardieu</attacher>
            
              <data encoding="base64">cHVibGljIGNsYXNzIEJhciB7Cgl2b2lkIG0oaW50IGkpIHsKCQlSdW5uYWJsZSBsYW1iZGEgPSAo
amF2YS5pby5TZXJpYWxpemFibGUgJiBSdW5uYWJsZSkgKCkgLT4geyB0aGlzLm0oaSk7IH07Cgl9
Cn0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>246272</attachid>
            <date>2014-08-22 16:00:00 -0400</date>
            <delta_ts>2014-08-22 16:00:33 -0400</delta_ts>
            <desc>Tentative patch.</desc>
            <filename>patch.txt</filename>
            <type>text/plain</type>
            <size>1056</size>
            <attacher name="Olivier Tardieu">tardieu</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2oKaW5kZXggN2FmZGRjZi4uNDQ2NmY1OSAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2NvZGVnZW4vQ29kZVN0cmVhbS5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9j
b2RlZ2VuL0NvZGVTdHJlYW0uamF2YQpAQCAtMjcwNyw3ICsyNzA3LDcgQEAgcHVibGljIHZvaWQg
Z2VuZXJhdGVTeW50aGV0aWNCb2R5Rm9yRGVzZXJpYWxpemVMYW1iZGEoU3ludGhldGljTWV0aG9k
QmluZGluZyBtZXQKICAgICAgICAgICAgICAgIFN5bnRoZXRpY0FyZ3VtZW50QmluZGluZ1tdIG91
dGVyTG9jYWxWYXJpYWJsZXMgPSBsYW1iZGFFeC5vdXRlckxvY2FsVmFyaWFibGVzOwogICAgICAg
ICAgICAgICAgZm9yIChpbnQgcD0wLG1heD1vdXRlckxvY2FsVmFyaWFibGVzLmxlbmd0aDtwPG1h
eDtwKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxvYWRfMCgpOwotICAgICAgICAgICAg
ICAgICAgICAgICBsb2FkSW50KHApOworICAgICAgICAgICAgICAgICAgICAgICBsb2FkSW50KGlu
ZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZp
cnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFD
b25zdGFudFBvb2xOYW1lLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IENvbnN0YW50UG9vbC5HZXRDYXB0dXJlZEFyZywgQ29uc3RhbnRQb29sLkdldENhcHR1cmVkQXJn
U2lnbmF0dXJlKTsKICAgICAgICAgICAgICAgICAgICAgICAgVHlwZUJpbmRpbmcgdmFyVHlwZSA9
IG91dGVyTG9jYWxWYXJpYWJsZXNbcF0udHlwZTsK
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>247090</attachid>
            <date>2014-09-15 16:52:00 -0400</date>
            <delta_ts>2014-09-15 16:52:42 -0400</delta_ts>
            <desc>patch to add test case and fix</desc>
            <filename>0001-Fixed-Bug-442418-1.8-off-by-one-error-when-deseriali.patch</filename>
            <type>text/plain</type>
            <size>5658</size>
            <attacher name="Andrew Clement">aclement</attacher>
            
              <data encoding="base64">RnJvbSAxMTVlMzhkOTk0MWJhOGNjOGJiOGUwMzIzMTIwOGVmMGI1OTdmZmY0IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBBbmR5IENsZW1lbnQgPGFjbGVtZW50QGdvcGl2b3RhbC5jb20+
CkRhdGU6IE1vbiwgMTUgU2VwIDIwMTQgMTM6NTA6NTIgLTA3MDAKU3ViamVjdDogW1BBVENIXSBG
aXhlZCBCdWcgNDQyNDE4IC0gWzEuOF0gJCBvZmYtYnktb25lIGVycm9yIHdoZW4KIGRlc2VyaWFs
aXppbmcgdGhlIGNhcHR1cmVkIGFyZ3VtZW50cyBvZiBhIGxhbWJkYSB0aGF0IGFsc28gY2FwdHVy
ZSB0aGlzCgotLS0KIC4uLi9yZWdyZXNzaW9uL1NlcmlhbGl6YWJsZUxhbWJkYVRlc3QuamF2YSAg
ICAgICAgIHwgNDQgKysrKysrKysrKysrKysrKysrKysrKwogLi4uL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSAgfCAgNCArLQogMiBmaWxlcyBjaGFuZ2VkLCA0
NyBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9uKC0pCgpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Nv
bXBpbGVyL3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L2NvbXBpbGVyL3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCmluZGV4IDE2
YzM3NzAuLmQ1OGNlMGEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNv
bXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9u
L1NlcmlhbGl6YWJsZUxhbWJkYVRlc3QuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVn
cmVzc2lvbi9TZXJpYWxpemFibGVMYW1iZGFUZXN0LmphdmEKQEAgLTEwLDggKzEwLDEwIEBACiAg
KiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtj
b2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKiAg
ICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQzOTg4OSAtIFsxLjhdW2NvbXBpbGVyXSBbbGFt
YmRhXSBEZXNlcmlhbGl6aW5nIGxhbWJkYSBmYWlscyB3aXRoIElsbGVnYWxBcmd1bWVudEV4Y2Vw
dGlvbjogIkludmFsaWQgbGFtYmRhIGRlc2VyaWFsaXphdGlvbiIKICAqICAgICAgICAgICAgICAg
ICAgICAgICAgICBCdWcgNDQyNDE2IC0gJGRlc2VyaWFsaXplTGFtYmRhJCBtaXNzaW5nIGNhc2Vz
IGZvciBuZXN0ZWQgbGFtYmRhcworICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0NDI0
MTggLSAkZGVzZXJpYWxpemVMYW1iZGEkIG9mZi1ieS1vbmUgZXJyb3Igd2hlbiBkZXNlcmlhbGl6
aW5nIHRoZSBjYXB0dXJlZCBhcmd1bWVudHMgb2YgYSBsYW1iZGEgdGhhdCBhbHNvIGNhcHR1cmUg
dGhpcwogICogICAgICAgIE9saXZpZXIgVGFyZGlldSB0YXJkaWV1QHVzLmlibS5jb20gLSBDb250
cmlidXRpb25zIGZvcgogICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0NDI0MTYgLSAk
ZGVzZXJpYWxpemVMYW1iZGEkIG1pc3NpbmcgY2FzZXMgZm9yIG5lc3RlZCBsYW1iZGFzCisgKiAg
ICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQ0MjQxOCAtICRkZXNlcmlhbGl6ZUxhbWJkYSQg
b2ZmLWJ5LW9uZSBlcnJvciB3aGVuIGRlc2VyaWFsaXppbmcgdGhlIGNhcHR1cmVkIGFyZ3VtZW50
cyBvZiBhIGxhbWJkYSB0aGF0IGFsc28gY2FwdHVyZSB0aGlzCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVz
c2lvbjsKIApAQCAtMTM2Nyw2ICsxMzY5LDQ4IEBAIHB1YmxpYyBjbGFzcyBTZXJpYWxpemFibGVM
YW1iZGFUZXN0IGV4dGVuZHMgQWJzdHJhY3RSZWdyZXNzaW9uVGVzdCB7CiAJCQkJbmV3IFN0cmlu
Z1tdeyItRGR1bW15In0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBu
b3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQg
cHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KIAl9CiAJCisJcHVi
bGljIHZvaWQgdGVzdEJpbmRpbmdUaGlzXzQ0MjQxOCgpIHRocm93cyBFeGNlcHRpb24geworCQl0
aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIkZvby5qYXZhIiwK
KwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNzIEZvbyBpbXBs
ZW1lbnRzIFNlcmlhbGl6YWJsZSB7XG4iKworCQkJCQkiICAgc3RhdGljIGJ5dGVbXSB0b1NlcihP
YmplY3Qgbykge1xuIisKKwkJCQkJIiAgICAgICB0cnkge1xuIisKKwkJCQkJIgkJCWZpbmFsIEJ5
dGVBcnJheU91dHB1dFN0cmVhbSBidWZmZXIgPSBuZXcgQnl0ZUFycmF5T3V0cHV0U3RyZWFtKCk7
XG4iKworCQkJCQkiCQkJdHJ5IChPYmplY3RPdXRwdXRTdHJlYW0gb3V0ID0gbmV3IE9iamVjdE91
dHB1dFN0cmVhbShidWZmZXIpICkge1xuIisKKwkJCQkJIgkJCQlvdXQud3JpdGVPYmplY3Qobyk7
XG4iKworCQkJCQkiCQkJfVxuIisKKwkJCQkJIgkJCXJldHVybiBidWZmZXIudG9CeXRlQXJyYXko
KTtcbiIrCisJCQkJCSIJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7ZS5wcmludFN0YWNrVHJhY2Uo
KTtyZXR1cm4gbnVsbDt9XG4iKworCQkJCQkiCX1cbiIrCisJCQkJCSIJc3RhdGljIE9iamVjdCBm
cm9tU2VyKGJ5dGVbXSBicykge1xuIisKKwkJCQkJIgl0cnkge1xuIisKKwkJCQkJIgkJCXRyeSAo
T2JqZWN0SW5wdXRTdHJlYW0gaW4gPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0oIG5ldyBCeXRlQXJy
YXlJbnB1dFN0cmVhbShicykpKSB7XG4iKworCQkJCQkiCQkJCWZpbmFsIE9iamVjdCBzID0gaW4u
cmVhZE9iamVjdCgpO1xuIisKKwkJCQkJIgkJCQlyZXR1cm4gcztcbiIrCisJCQkJCSIJCQl9XG4i
KworCQkJCQkiICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7ZS5wcmludFN0YWNrVHJhY2Uo
KTtyZXR1cm4gbnVsbDt9XG4iKworCQkJCQkiICAgfVxuIisKKwkJCQkJIgkJdm9pZCBtKGludCBp
KSB7XG4iKworCQkJCQkiCQkJU3lzdGVtLm91dC5wcmludGxuKGkpO1xuIisKKwkJCQkJIgkJfVxu
IisKKwkJCQkJIgkJdm9pZCBuKGludCBpKSB7XG4iKworCQkJCQkiCQkJUnVubmFibGUgbGFtYmRh
ID0gKGphdmEuaW8uU2VyaWFsaXphYmxlICYgUnVubmFibGUpICgpIC0+IHsgdGhpcy5tKGkpOyB9
O1xuIisKKwkJCQkJIgkJCWJ5dGVbXSBicyA9IHRvU2VyKGxhbWJkYSk7XG4iKworCQkJCQkiCQkJ
UnVubmFibGUgciA9IChSdW5uYWJsZSlmcm9tU2VyKGJzKTtcbiIrCisJCQkJCSIJCQlyLnJ1bigp
O1xuIisKKwkJCQkJIgkJfVxuIisKKwkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJp
bmdbXSBhcmdzKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiIrCisJCQkJCSIJCW5ldyBGb28oKS5uKDQy
KTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJfSwKKwkJCQkiNDIiLAorCQkJ
CW51bGwsdHJ1ZSwKKwkJCQluZXcgU3RyaW5nW117Ii1EZHVtbXkifSk7IC8vIE5vdCBzdXJlLCB1
bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2
bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBp
dHMgZXhlY3V0aW9uLgorCX0KKwkKIAkvLyAtLS0KIAkKIAlwcml2YXRlIHZvaWQgY2hlY2tFeHBl
Y3RlZChTdHJpbmcgZXhwZWN0ZWQsIFN0cmluZyBhY3R1YWwpIHsKZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2
YQppbmRleCA3YWZkZGNmLi5lMmU0ZDYzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db2Rl
U3RyZWFtLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NvZGVnZW4vQ29kZVN0cmVhbS5qYXZhCkBAIC0xOSw2
ICsxOSw4IEBACiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwOTIzNiAtIFsxLjhd
W2NvbXBpbGVyXSBUeXBlIGFubm90YXRpb25zIG9uIGludGVyc2VjdGlvbiBjYXN0IHR5cGVzIGRy
b3BwZWQgYnkgY29kZSBnZW5lcmF0b3IKICAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcg
NDA5MjUwIC0gWzEuOF1bY29tcGlsZXJdIFZhcmlvdXMgbG9vc2UgZW5kcyBpbiAzMDggY29kZSBn
ZW5lcmF0aW9uCiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhd
W2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBs
YW1iZGFzCisgKiAgICAgICAgT2xpdmllciBUYXJkaWV1ICh0YXJkaWV1QHVzLmlibS5jb20pIC0g
Q29udHJpYnV0aW9ucyBmb3IKKyAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDQyNDE4
IC0gJGRlc2VyaWFsaXplTGFtYmRhJCBvZmYtYnktb25lIGVycm9yIHdoZW4gZGVzZXJpYWxpemlu
ZyB0aGUgY2FwdHVyZWQgYXJndW1lbnRzIG9mIGEgbGFtYmRhIHRoYXQgYWxzbyBjYXB0dXJlIHRo
aXMKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50
ZXJuYWwuY29tcGlsZXIuY29kZWdlbjsKIApAQCAtMjcwNyw3ICsyNzA5LDcgQEAgcHVibGljIHZv
aWQgZ2VuZXJhdGVTeW50aGV0aWNCb2R5Rm9yRGVzZXJpYWxpemVMYW1iZGEoU3ludGhldGljTWV0
aG9kQmluZGluZyBtZXQKIAkJU3ludGhldGljQXJndW1lbnRCaW5kaW5nW10gb3V0ZXJMb2NhbFZh
cmlhYmxlcyA9IGxhbWJkYUV4Lm91dGVyTG9jYWxWYXJpYWJsZXM7CiAJCWZvciAoaW50IHA9MCxt
YXg9b3V0ZXJMb2NhbFZhcmlhYmxlcy5sZW5ndGg7cDxtYXg7cCsrKSB7CiAJCQlhbG9hZF8wKCk7
Ci0JCQlsb2FkSW50KHApOworCQkJbG9hZEludChpbmRleCk7CiAJCQlpbnZva2UoT3Bjb2Rlcy5P
UENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5nSW52b2tlU2VyaWFs
aXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIAogCQkJCQlDb25zdGFudFBvb2wuR2V0Q2FwdHVy
ZWRBcmcsIENvbnN0YW50UG9vbC5HZXRDYXB0dXJlZEFyZ1NpZ25hdHVyZSk7CiAJCQlUeXBlQmlu
ZGluZyB2YXJUeXBlID0gb3V0ZXJMb2NhbFZhcmlhYmxlc1twXS50eXBlOwotLSAKMS44LjUuMiAo
QXBwbGUgR2l0LTQ4KQoK
</data>

          </attachment>
      

    </bug>

</bugzilla>