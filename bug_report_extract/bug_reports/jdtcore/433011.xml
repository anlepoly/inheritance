<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>433011</bug_id>
          
          <creation_ts>2014-04-17 10:39:00 -0400</creation_ts>
          <short_desc>[1.8][search] for references to method reference expression: match range too long</short_desc>
          <delta_ts>2014-04-28 07:55:49 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M7</target_milestone>
          
          <blocked>432515</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>jarthana</cc>
    
    <cc>manpalat</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2390249</commentid>
    <comment_count>0</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-04-17 10:39:58 -0400</bug_when>
    <thetext>Blocker for bug 432515. Search for references to method reference expressions should report a MethodReferenceMatch whose range starts with the method name and doesn&apos;t include the qualifier. That&apos;s how all other kinds of method reference matches are reported.

package com.test;

import java.util.function.*;

public class Snippet&lt;E&gt; {
    String searchForRefs() {
        return &quot;&quot;;
    }
    /**
     * @see Snippet#searchForRefs()
     */
    public void bar() {
        this.searchForRefs();
        Supplier&lt;String&gt; v1 = new Snippet&lt;Integer&gt;()::searchForRefs;
        Supplier&lt;String&gt; v2 = this::searchForRefs;
        Function&lt;Snippet&lt;Integer&gt;, String&gt; v3 = Snippet&lt;Integer&gt;::searchForRefs;
        Function&lt;Snippet&lt;Integer&gt;, String&gt; v4 = Snippet::searchForRefs;
    }
}
class Sub extends Snippet&lt;Object&gt; {
    Supplier&lt;String&gt; hexer3 = super::searchForRefs;
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390267</commentid>
    <comment_count>1</comment_count>
      <attachid>242098</attachid>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-04-17 10:52:43 -0400</bug_when>
    <thetext>Created attachment 242098
Fix

The fix has only been tested manually, and I didn&apos;t run the search engine tests. But it&apos;s trivial (adds ReferenceExpression#nameSourcePosition just like in MessageSend), and it fixes bug 432515.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390510</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-18 02:34:59 -0400</bug_when>
    <thetext>I will take a look at the patch for M7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390516</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-18 03:35:17 -0400</bug_when>
    <thetext>Markus, if I understand it right, we use ReferenceExpression#nameSourcePosition only for the offset, in which case we can just have an int field for that purpose, no?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390548</commentid>
    <comment_count>4</comment_count>
      <attachid>242114</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-18 05:51:34 -0400</bug_when>
    <thetext>Created attachment 242114
Updated patch with adjusted tests

Couple of minor changes along with modified tests.

One observation is, the search results include the qualifier for constructors. So, this fix doesn&apos;t do anything for constructor references, so it will be consistent with other constructor invocations, such as this one:

new Y().new Z(10)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2390568</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-18 07:56:57 -0400</bug_when>
    <thetext>Released the fix (only for method references) in master:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e25e05f313fe0e8cf47abe127e89db464a1d8bc4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2391177</commentid>
    <comment_count>6</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-04-22 05:19:51 -0400</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #4)
&gt; One observation is, the search results include the qualifier for
&gt; constructors. So, this fix doesn&apos;t do anything for constructor references,
&gt; so it will be consistent with other constructor invocations, such as this
&gt; one:
&gt; 
&gt; new Y().new Z(10)

That looks like an old inconsistency, but I agree we should not touch this now without a practical use case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2393900</commentid>
    <comment_count>7</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-04-28 07:55:49 -0400</bug_when>
    <thetext>Verified for Lun 4.4M7 Build id: I20140427-2030</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242098</attachid>
            <date>2014-04-17 10:52:00 -0400</date>
            <delta_ts>2014-04-18 05:51:34 -0400</delta_ts>
            <desc>Fix</desc>
            <filename>eclipse.jdt.core.patch</filename>
            <type>text/plain</type>
            <size>3187</size>
            <attacher name="Markus Keller">markus_keller</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29yZQpk
aWZmIC0tZ2l0IGNvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
UmVmZXJlbmNlRXhwcmVzc2lvbi5qYXZhIGNvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9hc3QvUmVmZXJlbmNlRXhwcmVzc2lvbi5qYXZhCmluZGV4IGEyMTBhN2MuLjhh
MjgxN2QgMTAwNjQ0Ci0tLSBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvYXN0L1JlZmVyZW5jZUV4cHJlc3Npb24uamF2YQorKysgY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9SZWZlcmVuY2VFeHByZXNzaW9uLmphdmEKQEAgLTcz
LDYgKzczLDggQEAKIAlwdWJsaWMgVHlwZVJlZmVyZW5jZSBbXSB0eXBlQXJndW1lbnRzOwogCXB1
YmxpYyBjaGFyIFtdIHNlbGVjdG9yOwogCQorCXB1YmxpYyBsb25nIG5hbWVTb3VyY2VQb3NpdGlv
bjsgLy8oc3RhcnQ8PDMyKStlbmQKKwkKIAlwdWJsaWMgVHlwZUJpbmRpbmcgcmVjZWl2ZXJUeXBl
OwogCXByaXZhdGUgYm9vbGVhbiBoYXZlUmVjZWl2ZXI7CiAJcHVibGljIFR5cGVCaW5kaW5nW10g
cmVzb2x2ZWRUeXBlQXJndW1lbnRzOwpkaWZmIC0tZ2l0IGNvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEgY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQppbmRleCAzYzU0NGE0
Li4yNjgwYzM2IDEwMDY0NAotLS0gY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQorKysgY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQpAQCAtODA5Miw3ICs4MDkyLDcgQEAK
IAljaGFyIFtdIHNlbGVjdG9yOwogCWludCBzb3VyY2VFbmQ7CiAKLQlzb3VyY2VFbmQgPSAoaW50
KSB0aGlzLmlkZW50aWZpZXJQb3NpdGlvblN0YWNrW3RoaXMuaWRlbnRpZmllclB0cl07CisJc291
cmNlRW5kID0gKGludCkgKHJlZmVyZW5jZUV4cHJlc3Npb24ubmFtZVNvdXJjZVBvc2l0aW9uID0g
dGhpcy5pZGVudGlmaWVyUG9zaXRpb25TdGFja1t0aGlzLmlkZW50aWZpZXJQdHJdKTsKIAlzZWxl
Y3RvciA9IHRoaXMuaWRlbnRpZmllclN0YWNrW3RoaXMuaWRlbnRpZmllclB0ci0tXTsKIAl0aGlz
LmlkZW50aWZpZXJMZW5ndGhQdHItLTsKIAkKQEAgLTgxMzIsNyArODEzMiw3IEBACiAJY2hhciBb
XSBzZWxlY3RvcjsKIAlpbnQgc291cmNlRW5kOwogCi0Jc291cmNlRW5kID0gKGludCkgdGhpcy5p
ZGVudGlmaWVyUG9zaXRpb25TdGFja1t0aGlzLmlkZW50aWZpZXJQdHJdOworCXNvdXJjZUVuZCA9
IChpbnQpIChyZWZlcmVuY2VFeHByZXNzaW9uLm5hbWVTb3VyY2VQb3NpdGlvbiA9IHRoaXMuaWRl
bnRpZmllclBvc2l0aW9uU3RhY2tbdGhpcy5pZGVudGlmaWVyUHRyXSk7CiAJc2VsZWN0b3IgPSB0
aGlzLmlkZW50aWZpZXJTdGFja1t0aGlzLmlkZW50aWZpZXJQdHItLV07CiAJdGhpcy5pZGVudGlm
aWVyTGVuZ3RoUHRyLS07CiAKQEAgLTgxNTYsNyArODE1Niw3IEBACiAJY2hhciBbXSBzZWxlY3Rv
cjsKIAlpbnQgc291cmNlRW5kOwogCi0Jc291cmNlRW5kID0gKGludCkgdGhpcy5pZGVudGlmaWVy
UG9zaXRpb25TdGFja1t0aGlzLmlkZW50aWZpZXJQdHJdOworCXNvdXJjZUVuZCA9IChpbnQpIChy
ZWZlcmVuY2VFeHByZXNzaW9uLm5hbWVTb3VyY2VQb3NpdGlvbiA9IHRoaXMuaWRlbnRpZmllclBv
c2l0aW9uU3RhY2tbdGhpcy5pZGVudGlmaWVyUHRyXSk7CiAJc2VsZWN0b3IgPSB0aGlzLmlkZW50
aWZpZXJTdGFja1t0aGlzLmlkZW50aWZpZXJQdHItLV07CiAJdGhpcy5pZGVudGlmaWVyTGVuZ3Ro
UHRyLS07CiAKQEAgLTgxOTUsNyArODE5NSw3IEBACiAJY2hhciBbXSBzZWxlY3RvcjsKIAlpbnQg
c291cmNlRW5kOwogCi0Jc291cmNlRW5kID0gKGludCkgdGhpcy5pZGVudGlmaWVyUG9zaXRpb25T
dGFja1t0aGlzLmlkZW50aWZpZXJQdHJdOworCXNvdXJjZUVuZCA9IChpbnQpIChyZWZlcmVuY2VF
eHByZXNzaW9uLm5hbWVTb3VyY2VQb3NpdGlvbiA9IHRoaXMuaWRlbnRpZmllclBvc2l0aW9uU3Rh
Y2tbdGhpcy5pZGVudGlmaWVyUHRyXSk7CiAJc2VsZWN0b3IgPSB0aGlzLmlkZW50aWZpZXJTdGFj
a1t0aGlzLmlkZW50aWZpZXJQdHItLV07CiAJdGhpcy5pZGVudGlmaWVyTGVuZ3RoUHRyLS07CiAK
ZGlmZiAtLWdpdCBzZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNoL21h
dGNoaW5nL01ldGhvZExvY2F0b3IuamF2YSBzZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvc2VhcmNoL21hdGNoaW5nL01ldGhvZExvY2F0b3IuamF2YQppbmRleCA3OTc4YzM4Li4y
ZGMwNWUyIDEwMDY0NAotLS0gc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3Nl
YXJjaC9tYXRjaGluZy9NZXRob2RMb2NhdG9yLmphdmEKKysrIHNlYXJjaC9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhCkBAIC00
NDYsNyArNDQ2LDEzIEBACiAJCQkJcmVmZXJlbmNlID0gKChTaW5nbGVNZW1iZXJBbm5vdGF0aW9u
KXJlZmVyZW5jZSkubWVtYmVyVmFsdWVQYWlycygpWzBdOwogCQkJCXRoaXMubWF0Y2guc2V0SW1w
bGljaXQodHJ1ZSk7CiAJCQl9Ci0JCQlpbnQgb2Zmc2V0ID0gcmVmZXJlbmNlLnNvdXJjZVN0YXJ0
OworCQkJaW50IG9mZnNldDsKKwkJCWlmIChyZWZlcmVuY2UgaW5zdGFuY2VvZiBSZWZlcmVuY2VF
eHByZXNzaW9uKSB7CisJCQkJUmVmZXJlbmNlRXhwcmVzc2lvbiByZWZlcmVuY2VFeHByZXNzaW9u
ID0gKFJlZmVyZW5jZUV4cHJlc3Npb24pIHJlZmVyZW5jZTsKKwkJCQlvZmZzZXQgPSAoaW50KSAo
cmVmZXJlbmNlRXhwcmVzc2lvbi5uYW1lU291cmNlUG9zaXRpb24gPj4+IDMyKTsKKwkJCX0gZWxz
ZSB7CisJCQkJb2Zmc2V0ID0gcmVmZXJlbmNlLnNvdXJjZVN0YXJ0OworCQkJfQogCQkJaW50IGxl
bmd0aCA9ICByZWZlcmVuY2Uuc291cmNlRW5kIC0gb2Zmc2V0ICsgMTsKIAkJCXRoaXMubWF0Y2gu
c2V0T2Zmc2V0KG9mZnNldCk7CiAJCQl0aGlzLm1hdGNoLnNldExlbmd0aChsZW5ndGgpOw==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>242114</attachid>
            <date>2014-04-18 05:51:00 -0400</date>
            <delta_ts>2014-04-18 05:51:34 -0400</delta_ts>
            <desc>Updated patch with adjusted tests</desc>
            <filename>Fix-for-Bug-433011.patch</filename>
            <type>text/plain</type>
            <size>10195</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnczhUZXN0cy5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKaW5kZXggOGU3ZjEyNi4uMjI3ZDM4
NyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzOFRlc3RzLmphdmEKQEAgLTE4MTQsNSArMTgx
NCw1IEBACiAJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNzZXJ0
U2VhcmNoUmVzdWx0cygKLQkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0LlguZG9p
dCgpIFtzdXBlcjo6Zm9vXSBFWEFDVF9NQVRDSCIKKwkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9p
ZCBiNDAwOTA0LlguZG9pdCgpIFtmb29dIEVYQUNUX01BVENIIgogCSk7CQogfQpAQCAtMTg0Myw1
ICsxODQzLDUgQEAKIAlzZWFyY2gobWV0aG9kLCBTVVBFUl9SRUZFUkVOQ0UpOwogCWFzc2VydFNl
YXJjaFJlc3VsdHMoCi0JCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLmRvaXQo
KSBbc3VwZXI6OmZvb10gRVhBQ1RfTUFUQ0giCisJCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQg
YjQwMDkwNC5YLmRvaXQoKSBbZm9vXSBFWEFDVF9NQVRDSCIKIAkpOwkKIH0KQEAgLTE4NzksNSAr
MTg3OSw1IEBACiAJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNz
ZXJ0U2VhcmNoUmVzdWx0cygKLQkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0Llgu
ZG9pdCgpIFtzdXBlcjo6PFN0cmluZz5mb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9iNDAwOTA0
L1guamF2YSB2b2lkIGI0MDA5MDQuWC5kb2l0KCkgW2Zvb10gRVhBQ1RfTUFUQ0giCiAJKTsJCiB9
CkBAIC0xOTE3LDUgKzE5MTcsNSBAQAogCXNlYXJjaChtZXRob2QsIFJFRkVSRU5DRVMsIEVYQUNU
X1JVTEUpOwogCWFzc2VydFNlYXJjaFJlc3VsdHMoCi0JCQkic3JjL2I0MDA5MDQvWC5qYXZhIGI0
MDA5MDQuWC5pIFtYIDo6IGZvb10gRVhBQ1RfTUFUQ0hcbiIgKyAKKwkJCSJzcmMvYjQwMDkwNC9Y
LmphdmEgYjQwMDkwNC5YLmkgW2Zvb10gRVhBQ1RfTUFUQ0hcbiIgKyAKIAkJCSJzcmMvYjQwMDkw
NC9YLmphdmEgdm9pZCBiNDAwOTA0LlgubWFpbigpIFtmb28oKV0gRVhBQ1RfTUFUQ0giCiAJKTsJ
CkBAIC0xOTUxLDUgKzE5NTEsNSBAQAogCXNlYXJjaChtZXRob2QsIFJFRkVSRU5DRVMsIEVYQUNU
X1JVTEUpOwogCWFzc2VydFNlYXJjaFJlc3VsdHMoCi0JCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZv
aWQgYjQwMDkwNC5YLm1haW4oU3RyaW5nW10pIFtZOjo8U3RyaW5nPmZvb10gRVhBQ1RfTUFUQ0gi
CisJCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLm1haW4oU3RyaW5nW10pIFtm
b29dIEVYQUNUX01BVENIIgogCSk7CQogfQpAQCAtMTk4Niw1ICsxOTg2LDUgQEAKIAlzZWFyY2go
bWV0aG9kLCBSRUZFUkVOQ0VTLCBFWEFDVF9SVUxFKTsKIAlhc3NlcnRTZWFyY2hSZXN1bHRzKAot
CQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbWS5a
Ojpmb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQu
WC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9NQVRDSCIKIAkpOwkKIH0KQEAgLTIwMjEsNSAr
MjAyMSw1IEBACiAJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNz
ZXJ0U2VhcmNoUmVzdWx0cygKLQkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0Llgu
bWFpbihTdHJpbmdbXSkgW1kuWjo6PFN0cmluZz5mb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9i
NDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9N
QVRDSCIKIAkpOwkKIH0KQEAgLTIwNTQsNSArMjA1NCw1IEBACiAJc2VhcmNoKG1ldGhvZCwgUkVG
RVJFTkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNzZXJ0U2VhcmNoUmVzdWx0cygKLQkJCSJzcmMvYjQw
MDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0LlgubWFpbihTdHJpbmdbXSkgW25ldyBZKCk6OmZvb10g
RVhBQ1RfTUFUQ0giCisJCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLm1haW4o
U3RyaW5nW10pIFtmb29dIEVYQUNUX01BVENIIgogCSk7CQogfQpAQCAtMjA4Nyw1ICsyMDg3LDUg
QEAKIAlzZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFWEFDVF9SVUxFKTsKIAlhc3NlcnRTZWFy
Y2hSZXN1bHRzKAotCQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0
cmluZ1tdKSBbbmV3IFkoKTo6PFN0cmluZz5mb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9iNDAw
OTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9NQVRD
SCIKIAkpOwkKIH0KQEAgLTIxMjYsNSArMjEyNiw1IEBACiAJc2VhcmNoKG1ldGhvZCwgUkVGRVJF
TkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNzZXJ0U2VhcmNoUmVzdWx0cygKLQkJCSJzcmMvYjQwMDkw
NC9YLmphdmEgdm9pZCBiNDAwOTA0LlgubWFpbihTdHJpbmdbXSkgW1k8U3RyaW5nPjo6Zm9vXSBF
WEFDVF9NQVRDSCIKKwkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0LlgubWFpbihT
dHJpbmdbXSkgW2Zvb10gRVhBQ1RfTUFUQ0giCiAJKTsKIH0KQEAgLTIxNjYsNSArMjE2Niw1IEBA
CiAJc2VhcmNoKG1ldGhvZCwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSk7CiAJYXNzZXJ0U2VhcmNo
UmVzdWx0cygKLQkJCSJzcmMvYjQwMDkwNC9YLmphdmEgdm9pZCBiNDAwOTA0LlgubWFpbihTdHJp
bmdbXSkgW1k8U3RyaW5nPjo6PFN0cmluZz5mb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9iNDAw
OTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9NQVRD
SCIKIAkpOwogfQpAQCAtMjIwNCw1ICsyMjA0LDUgQEAKIAlzZWFyY2gobWV0aG9kLCBSRUZFUkVO
Q0VTLCBFWEFDVF9SVUxFKTsKIAlhc3NlcnRTZWFyY2hSZXN1bHRzKAotCQkJInNyYy9iNDAwOTA0
L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbWTxTdHJpbmc+Llo6OmZvb10g
RVhBQ1RfTUFUQ0giCisJCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLm1haW4o
U3RyaW5nW10pIFtmb29dIEVYQUNUX01BVENIIgogCSk7CiB9CkBAIC0yMjQyLDUgKzIyNDIsNSBA
QAogCXNlYXJjaChtZXRob2QsIFJFRkVSRU5DRVMsIEVYQUNUX1JVTEUpOwogCWFzc2VydFNlYXJj
aFJlc3VsdHMoCi0JCQkic3JjL2I0MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLm1haW4oU3Ry
aW5nW10pIFtZPFN0cmluZz4uWjo6PFN0cmluZz5mb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9i
NDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9N
QVRDSCIKIAkpOwogfQpAQCAtMjI3OSw1ICsyMjc5LDUgQEAKIAlzZWFyY2gobWV0aG9kLCBSRUZF
UkVOQ0VTLCBFUkFTVVJFX1JVTEUpOwogCWFzc2VydFNlYXJjaFJlc3VsdHMoCi0JCQkic3JjL2I0
MDA5MDQvWC5qYXZhIHZvaWQgYjQwMDkwNC5YLm1haW4oU3RyaW5nW10pIFtZPFN0cmluZz4uWjxT
dHJpbmc+Ojpmb29dIEVYQUNUX01BVENIIgorCQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0
MDA5MDQuWC5tYWluKFN0cmluZ1tdKSBbZm9vXSBFWEFDVF9NQVRDSCIKIAkpOwogfQpAQCAtMjMx
Niw1ICsyMzE2LDUgQEAKIAlzZWFyY2gobWV0aG9kLCBSRUZFUkVOQ0VTLCBFWEFDVF9SVUxFKTsK
IAlhc3NlcnRTZWFyY2hSZXN1bHRzKAotCQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0MDA5
MDQuWC5tYWluKFN0cmluZ1tdKSBbWTxTdHJpbmc+Llo8U3RyaW5nPjo6PFN0cmluZz5mb29dIEVY
QUNUX01BVENIIgorCQkJInNyYy9iNDAwOTA0L1guamF2YSB2b2lkIGI0MDA5MDQuWC5tYWluKFN0
cmluZ1tdKSBbZm9vXSBFWEFDVF9NQVRDSCIKIAkpOwogfQpAQCAtMjY4MCw1ICsyNjgwLDUgQEAK
IAkJSU1ldGhvZCBtZXRob2QgPSBnZXRDb21waWxhdGlvblVuaXQoIi9QL3NyYy9ZLmphdmEiKS5n
ZXRUeXBlKCJZIikuZ2V0TWV0aG9kKCJnb28iLCBuZXcgU3RyaW5nWzBdKTsKIAkJc2VhcmNoKG1l
dGhvZCwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSwgU2VhcmNoRW5naW5lLmNyZWF0ZUphdmFTZWFy
Y2hTY29wZShuZXcgSUphdmFQcm9qZWN0W10ge3Byb2plY3R9KSwgdGhpcy5yZXN1bHRDb2xsZWN0
b3IpOwotCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJzcmMvWC5qYXZhIHZvaWQgWC5tYWluKFN0cmlu
Z1tdKSBbWTo6Z29vXSBFWEFDVF9NQVRDSCIpOworCQlhc3NlcnRTZWFyY2hSZXN1bHRzKCJzcmMv
WC5qYXZhIHZvaWQgWC5tYWluKFN0cmluZ1tdKSBbZ29vXSBFWEFDVF9NQVRDSCIpOwogCX0KIAlm
aW5hbGx5IHsKQEAgLTI3NDgsNiArMjc0OCw2IEBACiAJCUlNZXRob2QgbWV0aG9kID0gZ2V0Q29t
cGlsYXRpb25Vbml0KCIvUC9zcmMvWS5qYXZhIikuZ2V0VHlwZSgiWSIpLmdldE1ldGhvZCgiZ29v
IiwgbmV3IFN0cmluZ1swXSk7CiAJCXNlYXJjaChtZXRob2QsIFJFRkVSRU5DRVMsIEVYQUNUX1JV
TEUsIFNlYXJjaEVuZ2luZS5jcmVhdGVKYXZhU2VhcmNoU2NvcGUobmV3IElKYXZhUHJvamVjdFtd
IHtwcm9qZWN0fSksIHRoaXMucmVzdWx0Q29sbGVjdG9yKTsKLQkJYXNzZXJ0U2VhcmNoUmVzdWx0
cygic3JjL0ouamF2YSB2b2lkIEoubWFpbihTdHJpbmdbXSkgW1k6Omdvb10gRVhBQ1RfTUFUQ0hc
biIgKyAKLQkJCQkic3JjL0ouamF2YSB2b2lkIEouZm9vKCkgW1k6Omdvb10gRVhBQ1RfTUFUQ0gi
KTsKKwkJYXNzZXJ0U2VhcmNoUmVzdWx0cygic3JjL0ouamF2YSB2b2lkIEoubWFpbihTdHJpbmdb
XSkgW2dvb10gRVhBQ1RfTUFUQ0hcbiIgKyAKKwkJCQkic3JjL0ouamF2YSB2b2lkIEouZm9vKCkg
W2dvb10gRVhBQ1RfTUFUQ0giKTsKIAl9CiAJZmluYWxseSB7CkBAIC0zNDAyLDUgKzM0MDIsNSBA
QAogCQogCXNlYXJjaCh0aGlzLndvcmtpbmdDb3BpZXNbMF0uZ2V0VHlwZSgiWSIpLmdldE1ldGhv
ZCgiZ29vIiwgbmV3IFN0cmluZ1tdIHsgIkkiIH0pLCBUSElTX1JFRkVSRU5DRSk7Ci0JYXNzZXJ0
U2VhcmNoUmVzdWx0cygic3JjL3Rlc3QvVGVzdC5qYXZhIHZvaWQgdGVzdC5YLm1haW4oU3RyaW5n
W10pIFt0aGlzOjpnb29dIEVYQUNUX01BVENIIik7CisJYXNzZXJ0U2VhcmNoUmVzdWx0cygic3Jj
L3Rlc3QvVGVzdC5qYXZhIHZvaWQgdGVzdC5YLm1haW4oU3RyaW5nW10pIFtnb29dIEVYQUNUX01B
VENIIik7CiB9CiBwdWJsaWMgdm9pZCB0ZXN0QnVnNDAwOTA1XzAwMjYoKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiB7CkBAIC0zNDIyLDUgKzM0MjIsNSBAQAogCQogCXNlYXJjaCh0aGlzLndvcmtpbmdD
b3BpZXNbMF0uZ2V0VHlwZSgiWSIpLmdldE1ldGhvZCgiZ29vIiwgbmV3IFN0cmluZ1tdIHsgIkki
IH0pLCBTVVBFUl9SRUZFUkVOQ0UpOwotCWFzc2VydFNlYXJjaFJlc3VsdHMoInNyYy90ZXN0L1Rl
c3QuamF2YSB2b2lkIHRlc3QuWC5tYWluKFN0cmluZ1tdKSBbc3VwZXI6Omdvb10gRVhBQ1RfTUFU
Q0giKTsKKwlhc3NlcnRTZWFyY2hSZXN1bHRzKCJzcmMvdGVzdC9UZXN0LmphdmEgdm9pZCB0ZXN0
LlgubWFpbihTdHJpbmdbXSkgW2dvb10gRVhBQ1RfTUFUQ0giKTsKIH0KIHB1YmxpYyB2b2lkIHRl
c3RCdWc0MDA5MDVfMDAyNygpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKQEAgLTM0NjQsNSArMzQ2
NCw1IEBACiAJCiAJc2VhcmNoKHRoaXMud29ya2luZ0NvcGllc1swXS5nZXRUeXBlKCJZIikuZ2V0
VHlwZSgiWiIpLmdldE1ldGhvZCgiZ29vIiwgbmV3IFN0cmluZ1tdIHsgIkkiIH0pLCBUSElTX1JF
RkVSRU5DRSB8IFNVUEVSX1JFRkVSRU5DRSB8IFFVQUxJRklFRF9SRUZFUkVOQ0UpOwotCWFzc2Vy
dFNlYXJjaFJlc3VsdHMoInNyYy90ZXN0L1Rlc3QuamF2YSB2b2lkIHRlc3QuWC5tYWluKFN0cmlu
Z1tdKSBbWS5aOjpnb29dIEVYQUNUX01BVENIIik7CisJYXNzZXJ0U2VhcmNoUmVzdWx0cygic3Jj
L3Rlc3QvVGVzdC5qYXZhIHZvaWQgdGVzdC5YLm1haW4oU3RyaW5nW10pIFtnb29dIEVYQUNUX01B
VENIIik7CiB9CiBwdWJsaWMgdm9pZCB0ZXN0QnVnNDAwOTA1XzAwMjkoKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiB7CkBAIC0zNDg2LDYgKzM0ODYsNiBAQAogCQogCXNlYXJjaCh0aGlzLndvcmtpbmdD
b3BpZXNbMF0uZ2V0VHlwZSgiWSIpLmdldFR5cGUoIloiKS5nZXRNZXRob2QoImdvbyIsIG5ldyBT
dHJpbmdbXSB7ICJJIiB9KSwgUkVGRVJFTkNFUywgRVhBQ1RfUlVMRSk7Ci0JYXNzZXJ0U2VhcmNo
UmVzdWx0cygic3JjL3Rlc3QvVGVzdC5qYXZhIHRlc3QuWSRaLmkgW1o6Omdvb10gRVhBQ1RfTUFU
Q0hcbiIgKyAKLQkJCSJzcmMvdGVzdC9UZXN0LmphdmEgdm9pZCB0ZXN0LlgubWFpbihTdHJpbmdb
XSkgW1kuWjo6Z29vXSBFWEFDVF9NQVRDSCIpOworCWFzc2VydFNlYXJjaFJlc3VsdHMoInNyYy90
ZXN0L1Rlc3QuamF2YSB0ZXN0LlkkWi5pIFtnb29dIEVYQUNUX01BVENIXG4iICsgCisJCQkic3Jj
L3Rlc3QvVGVzdC5qYXZhIHZvaWQgdGVzdC5YLm1haW4oU3RyaW5nW10pIFtnb29dIEVYQUNUX01B
VENIIik7CiB9CiBwdWJsaWMgdm9pZCB0ZXN0QnVnNDAwOTA1XzAwMzAoKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiB7CkBAIC0zNzMwLDUgKzM3MzAsNSBAQAogCWFzc2VydFNlYXJjaFJlc3VsdHMoCiAJ
CSJzcmMvYjQyOTQ5OC9YLmphdmEgdm9pZCBiNDI5NDk4LkkuZG9pdCgpIFtkb2l0XSBFWEFDVF9N
QVRDSFxuIiArIAotCQkic3JjL2I0Mjk0OTgvWC5qYXZhIGI0Mjk0OTguWC5pIFtYIDo6IGZvb10g
RVhBQ1RfTUFUQ0hcbiIgKyAKKwkJInNyYy9iNDI5NDk4L1guamF2YSBiNDI5NDk4LlguaSBbZm9v
XSBFWEFDVF9NQVRDSFxuIiArIAogCQkic3JjL2I0Mjk0OTgvWC5qYXZhIHZvaWQgYjQyOTQ5OC5Y
LmZvbygpIFtmb29dIEVYQUNUX01BVENIIgogCSk7CQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9S
ZWZlcmVuY2VFeHByZXNzaW9uLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1JlZmVyZW5jZUV4cHJlc3Npb24u
amF2YQppbmRleCBhMjEwYTdjLi5iYjBkZWUwIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1JlZmVy
ZW5jZUV4cHJlc3Npb24uamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1JlZmVyZW5jZUV4cHJlc3Npb24u
amF2YQpAQCAtNzQsNCArNzQsNiBAQAogCXB1YmxpYyBjaGFyIFtdIHNlbGVjdG9yOwogCQorCXB1
YmxpYyBpbnQgbmFtZVNvdXJjZVN0YXJ0OworCQogCXB1YmxpYyBUeXBlQmluZGluZyByZWNlaXZl
clR5cGU7CiAJcHJpdmF0ZSBib29sZWFuIGhhdmVSZWNlaXZlcjsKZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9wYXJzZXIvUGFyc2VyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCmluZGV4IDNj
NTQ0YTQuLjY3YjIxOWYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQpAQCAtODA5NCw0ICs4MDk0LDUgQEAKIAogCXNv
dXJjZUVuZCA9IChpbnQpIHRoaXMuaWRlbnRpZmllclBvc2l0aW9uU3RhY2tbdGhpcy5pZGVudGlm
aWVyUHRyXTsKKwlyZWZlcmVuY2VFeHByZXNzaW9uLm5hbWVTb3VyY2VTdGFydCA9IChpbnQpICh0
aGlzLmlkZW50aWZpZXJQb3NpdGlvblN0YWNrW3RoaXMuaWRlbnRpZmllclB0cl0gPj4+IDMyKTsK
IAlzZWxlY3RvciA9IHRoaXMuaWRlbnRpZmllclN0YWNrW3RoaXMuaWRlbnRpZmllclB0ci0tXTsK
IAl0aGlzLmlkZW50aWZpZXJMZW5ndGhQdHItLTsKQEAgLTgxMzQsNCArODEzNSw1IEBACiAKIAlz
b3VyY2VFbmQgPSAoaW50KSB0aGlzLmlkZW50aWZpZXJQb3NpdGlvblN0YWNrW3RoaXMuaWRlbnRp
ZmllclB0cl07CisJcmVmZXJlbmNlRXhwcmVzc2lvbi5uYW1lU291cmNlU3RhcnQgPSAoaW50KSAo
dGhpcy5pZGVudGlmaWVyUG9zaXRpb25TdGFja1t0aGlzLmlkZW50aWZpZXJQdHJdID4+PiAzMik7
CiAJc2VsZWN0b3IgPSB0aGlzLmlkZW50aWZpZXJTdGFja1t0aGlzLmlkZW50aWZpZXJQdHItLV07
CiAJdGhpcy5pZGVudGlmaWVyTGVuZ3RoUHRyLS07CkBAIC04MTU4LDQgKzgxNjAsNSBAQAogCiAJ
c291cmNlRW5kID0gKGludCkgdGhpcy5pZGVudGlmaWVyUG9zaXRpb25TdGFja1t0aGlzLmlkZW50
aWZpZXJQdHJdOworCXJlZmVyZW5jZUV4cHJlc3Npb24ubmFtZVNvdXJjZVN0YXJ0ID0gKGludCkg
KHRoaXMuaWRlbnRpZmllclBvc2l0aW9uU3RhY2tbdGhpcy5pZGVudGlmaWVyUHRyXSA+Pj4gMzIp
OwogCXNlbGVjdG9yID0gdGhpcy5pZGVudGlmaWVyU3RhY2tbdGhpcy5pZGVudGlmaWVyUHRyLS1d
OwogCXRoaXMuaWRlbnRpZmllckxlbmd0aFB0ci0tOwpAQCAtODE5Nyw0ICs4MjAwLDUgQEAKIAog
CXNvdXJjZUVuZCA9IChpbnQpIHRoaXMuaWRlbnRpZmllclBvc2l0aW9uU3RhY2tbdGhpcy5pZGVu
dGlmaWVyUHRyXTsKKwlyZWZlcmVuY2VFeHByZXNzaW9uLm5hbWVTb3VyY2VTdGFydCA9IChpbnQp
ICh0aGlzLmlkZW50aWZpZXJQb3NpdGlvblN0YWNrW3RoaXMuaWRlbnRpZmllclB0cl0gPj4+IDMy
KTsKIAlzZWxlY3RvciA9IHRoaXMuaWRlbnRpZmllclN0YWNrW3RoaXMuaWRlbnRpZmllclB0ci0t
XTsKIAl0aGlzLmlkZW50aWZpZXJMZW5ndGhQdHItLTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9zZWFyY2gvbWF0
Y2hpbmcvTWV0aG9kTG9jYXRvci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvc2VhcmNoL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9tYXRjaGluZy9NZXRob2RMb2NhdG9y
LmphdmEKaW5kZXggNzk3OGMzOC4uZDNiZmZjMSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9tYXRjaGlu
Zy9NZXRob2RMb2NhdG9yLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvc2VhcmNoL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9tYXRjaGluZy9NZXRob2RMb2NhdG9y
LmphdmEKQEAgLTQ0Nyw1ICs0NDcsMTEgQEAKIAkJCQl0aGlzLm1hdGNoLnNldEltcGxpY2l0KHRy
dWUpOwogCQkJfQotCQkJaW50IG9mZnNldCA9IHJlZmVyZW5jZS5zb3VyY2VTdGFydDsKKwkJCWlu
dCBvZmZzZXQ7CisJCQlpZiAocmVmZXJlbmNlIGluc3RhbmNlb2YgUmVmZXJlbmNlRXhwcmVzc2lv
bikgeworCQkJCVJlZmVyZW5jZUV4cHJlc3Npb24gcmVmZXJlbmNlRXhwcmVzc2lvbiA9IChSZWZl
cmVuY2VFeHByZXNzaW9uKSByZWZlcmVuY2U7CisJCQkJb2Zmc2V0ID0gcmVmZXJlbmNlRXhwcmVz
c2lvbi5uYW1lU291cmNlU3RhcnQ7CisJCQl9IGVsc2UgeworCQkJCW9mZnNldCA9IHJlZmVyZW5j
ZS5zb3VyY2VTdGFydDsKKwkJCX0KIAkJCWludCBsZW5ndGggPSAgcmVmZXJlbmNlLnNvdXJjZUVu
ZCAtIG9mZnNldCArIDE7CiAJCQl0aGlzLm1hdGNoLnNldE9mZnNldChvZmZzZXQpOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>