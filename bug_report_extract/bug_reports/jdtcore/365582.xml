<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>365582</bug_id>
          
          <creation_ts>2011-12-05 08:30:00 -0500</creation_ts>
          <short_desc>FUP of bug 361938: Other error code pattern</short_desc>
          <delta_ts>2012-01-24 10:06:17 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>3.8 M5</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Satyam Kandula">satyam.kandula</reporter>
          <assigned_to name="Olivier Thomann">Olivier_Thomann</assigned_to>
          <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2035646</commentid>
    <comment_count>0</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-12-05 08:30:51 -0500</bug_when>
    <thetext>They are two minor errors in the code though they don&apos;t seem to impact any functionality. 
1. In org.eclipse.jdt.internal.core.dom.NaiveASTFlattener.visit(TryStatement), the call to resources should have been in the if-block of AST.JLS4. 
2. Some calls to org.eclipse.jdt.core.dom.ASTNode.unsupportedIn2() have similar error code patterns found to the one causing problems in bug 361938. 
Eg:  org.eclipse.jdt.core.dom.ASTNode.unsupportedIn2()</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2053130</commentid>
    <comment_count>1</comment_count>
      <attachid>209772</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2012-01-19 14:48:19 -0500</bug_when>
    <thetext>Created attachment 209772
Proposed fix + regression test</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2053200</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-19 16:44:43 -0500</bug_when>
    <thetext>Sorry, I didn&apos;t pay closer attention to earlier.
The fix for bug 361938 is not appropriate and
works only because there are two bugs now that
somewhat cancel out each other.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2053269</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-19 19:22:05 -0500</bug_when>
    <thetext>Patch &amp; tests released for 3.8 M5 via
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=eb40a119cd5ecacf8e90c38261ec37c99b5a07b7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2053270</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-19 19:24:18 -0500</bug_when>
    <thetext>I&apos;ll leave the maintenance branches as they are. The API
doesn&apos;t do what the javadoc claims in the case of a badly
broken client that looks up resources in pre java mode,
but that is unlikely scenario and it is late for 3.7.2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2055137</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-24 10:06:17 -0500</bug_when>
    <thetext>Verified for 3.8 M5 by code inspection.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>209772</attachid>
            <date>2012-01-19 14:48:00 -0500</date>
            <delta_ts>2012-01-19 14:48:19 -0500</delta_ts>
            <desc>Proposed fix + regression test</desc>
            <filename>patch_365582.txt</filename>
            <type>text/plain</type>
            <size>3877</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RUZXN0
LmphdmEKaW5kZXggNWJiNTczMy4uODk3MGU4ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RU
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RUZXN0LmphdmEKQEAgLTEsNSArMSw1IEBACiAv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEyIElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9n
cmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3
aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApA
QCAtNTI2NSw2ICs1MjY1LDE2IEBAIHB1YmxpYyBjbGFzcyBBU1RUZXN0IGV4dGVuZHMgb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMuanVuaXQuZXh0ZW5zaW9uLlRlc3RDYXNlCiAJICogQGRlcHJl
Y2F0ZWQgKFVzZXMgZ2V0TGVhZGluZ0NvbW1lbnQoKSB3aGljaCBpcyBkZXByZWNhdGVkKQogCSAq
LwogCXB1YmxpYyB2b2lkIHRlc3RUcnlTdGF0ZW1lbnQoKSB7CisJCWlmICh0aGlzLmFzdC5hcGlM
ZXZlbCgpIDw9IEFTVC5KTFMzKSB7CisJCQkvLyBub2RlIHR5cGUgaW50cm9kdWNlZCBpbiA0LjAg
QVBJCisJCQl0cnkgeworCQkJCWZpbmFsIFRyeVN0YXRlbWVudCB4ID0gdGhpcy5hc3QubmV3VHJ5
U3RhdGVtZW50KCk7CisJCQkJeC5yZXNvdXJjZXMoKTsKKwkJCQlhc3NlcnRUcnVlKCJzaG91bGQg
bm90IGJlIHJlYWNoZWQgaWYgamxzIGxldmVsIDw9IEpMUzMiLCBmYWxzZSk7CisJCQl9IGNhdGNo
IChVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiBlKSB7CisJCQkJLy8gcGFzcworCQkJfQor
CQl9CiAJCWxvbmcgcHJldmlvdXNDb3VudCA9IHRoaXMuYXN0Lm1vZGlmaWNhdGlvbkNvdW50KCk7
CiAJCWZpbmFsIFRyeVN0YXRlbWVudCB4ID0gdGhpcy5hc3QubmV3VHJ5U3RhdGVtZW50KCk7CiAJ
CWFzc2VydFRydWUodGhpcy5hc3QubW9kaWZpY2F0aW9uQ291bnQoKSA+IHByZXZpb3VzQ291bnQp
OwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9j
b3JlL2RvbS9UcnlTdGF0ZW1lbnQuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcv
ZWNsaXBzZS9qZHQvY29yZS9kb20vVHJ5U3RhdGVtZW50LmphdmEKaW5kZXggYmI0YjMyMi4uNzk1
NzVlMSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9jb3JlL2RvbS9UcnlTdGF0ZW1lbnQuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9k
b20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL1RyeVN0YXRlbWVudC5qYXZhCkBAIC0xLDUgKzEs
NSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAx
MSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAx
MiBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRo
aXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2
YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEu
MAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFi
bGUgYXQKQEAgLTM1Miw3ICszNTIsNyBAQCBwdWJsaWMgY2xhc3MgVHJ5U3RhdGVtZW50IGV4dGVu
ZHMgU3RhdGVtZW50IHsKIAkgKi8KIAlwdWJsaWMgTGlzdCByZXNvdXJjZXMoKSB7CiAJCS8vIG1v
cmUgZWZmaWNpZW50IHRoYW4ganVzdCBjYWxsaW5nIHVuc3VwcG9ydGVkSW4yXzMoKSB0byBjaGVj
awotCQlpZiAodGhpcy5yZXNvdXJjZXMgIT0gbnVsbCkgeworCQlpZiAodGhpcy5yZXNvdXJjZXMg
PT0gbnVsbCkgewogCQkJdW5zdXBwb3J0ZWRJbjJfMygpOwogCQl9CiAJCXJldHVybiB0aGlzLnJl
c291cmNlczsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVBU1RGbGF0dGVuZXIuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vTmFpdmVB
U1RGbGF0dGVuZXIuamF2YQppbmRleCA5Mzk0YWYxLi5iNTNlNDE4IDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL05h
aXZlQVNURmxhdHRlbmVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL2RvbS9OYWl2ZUFTVEZsYXR0ZW5lci5qYXZhCkBAIC0x
LDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAw
MCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAw
MCwgMjAxMiBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBt
YWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vu
c2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBh
dmFpbGFibGUgYXQKQEAgLTE1MjgsOSArMTUyOCw5IEBAIHB1YmxpYyBjbGFzcyBOYWl2ZUFTVEZs
YXR0ZW5lciBleHRlbmRzIEFTVFZpc2l0b3IgewogCXB1YmxpYyBib29sZWFuIHZpc2l0KFRyeVN0
YXRlbWVudCBub2RlKSB7CiAJCXByaW50SW5kZW50KCk7CiAJCXRoaXMuYnVmZmVyLmFwcGVuZCgi
dHJ5ICIpOy8vJE5PTi1OTFMtMSQKLQkJTGlzdCByZXNvdXJjZXMgPSBub2RlLnJlc291cmNlcygp
OwogCQlpZiAobm9kZS5nZXRBU1QoKS5hcGlMZXZlbCgpID49IEFTVC5KTFM0KSB7Ci0JCQlpZiAo
IW5vZGUucmVzb3VyY2VzKCkuaXNFbXB0eSgpKSB7CisJCQlMaXN0IHJlc291cmNlcyA9IG5vZGUu
cmVzb3VyY2VzKCk7CisJCQlpZiAoIXJlc291cmNlcy5pc0VtcHR5KCkpIHsKIAkJCQl0aGlzLmJ1
ZmZlci5hcHBlbmQoJygnKTsKIAkJCQlmb3IgKEl0ZXJhdG9yIGl0ID0gcmVzb3VyY2VzLml0ZXJh
dG9yKCk7IGl0Lmhhc05leHQoKTsgKSB7CiAJCQkJCVZhcmlhYmxlRGVjbGFyYXRpb25FeHByZXNz
aW9uIHZhcmlhYmxlID0gKFZhcmlhYmxlRGVjbGFyYXRpb25FeHByZXNzaW9uKSBpdC5uZXh0KCk7
Cg==
</data>

          </attachment>
      

    </bug>

</bugzilla>