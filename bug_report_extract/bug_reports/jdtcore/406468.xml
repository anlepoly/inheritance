<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>406468</bug_id>
          
          <creation_ts>2013-04-24 13:02:00 -0400</creation_ts>
          <short_desc>[1.8][code assist] No completion proposals after the use of a constructor reference</short_desc>
          <delta_ts>2013-11-30 19:57:04 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>402079</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="ANIRBAN CHAKRABORTY">anchakrk</assigned_to>
          
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="57777"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2248023</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-04-24 13:02:37 -0400</bug_when>
    <thetext>BETA_JAVA8: 

interface I {
	X [][][] copy (int x);
}
public class X  {
	public static void main(String[] args) {
		I i = X[][][]::new;
		X[][][] x = i.copy(136);
		System.out.println(x.length);
                |  // - no completion proposals here.		
	}
	
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2252429</commentid>
    <comment_count>1</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-05-05 03:02:39 -0400</bug_when>
    <thetext>I&apos;m working on this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2256476</commentid>
    <comment_count>2</comment_count>
      <attachid>230924</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-05-14 01:59:30 -0400</bug_when>
    <thetext>Created attachment 230924
Applicable regression clean patch

Applicable regression clean patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2257157</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-05-15 02:10:07 -0400</bug_when>
    <thetext>Anirban, Why won&apos;t similar changes be required in consumeReferenceExpressionGenericTypeForm ? Won&apos;t we leaving the
data structures dirty by not popping K_BETWEEN_NEW_AND_LEFT_BRACKET at
the right point ? 

I wonder if consumeIdentifierOrNew is a better place to pop this.

Alternately, if we don&apos;t push K_BETWEEN_NEW_AND_LEFT_BRACKET at all
for reference expressions, it would be better - after all we are NOT
between new and [</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2257258</commentid>
    <comment_count>4</comment_count>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-05-15 05:42:35 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; Anirban, Why won&apos;t similar changes be required in
&gt; consumeReferenceExpressionGenericTypeForm ? Won&apos;t we leaving the
&gt; data structures dirty by not popping K_BETWEEN_NEW_AND_LEFT_BRACKET at
&gt; the right point ? 
&gt; 
&gt; I wonder if consumeIdentifierOrNew is a better place to pop this.
&gt; 
&gt; Alternately, if we don&apos;t push K_BETWEEN_NEW_AND_LEFT_BRACKET at all
&gt; for reference expressions, it would be better - after all we are NOT
&gt; between new and [

Hello,
I&apos;ll re-submit a patch, in short time, by removing the token at after IdentifierOrNew is seen (and, ofcourse, ensuring the sanity of the patch).
Thanks
Anirban</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2257697</commentid>
    <comment_count>5</comment_count>
      <attachid>231044</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-05-15 16:17:03 -0400</bug_when>
    <thetext>Created attachment 231044
Patch after accommodating the review comments

Patch after accommodating the review comments. K_BETWEEN_NEW_AND_LEFT_BRACKET is popped at consumeIdentifierOrNew.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2262144</commentid>
    <comment_count>6</comment_count>
      <attachid>231428</attachid>
    <who name="ANIRBAN CHAKRABORTY">anchakrk</who>
    <bug_when>2013-05-24 00:53:26 -0400</bug_when>
    <thetext>Created attachment 231428
Patch restraining irrelevant activities in reference expression scope

Patch restraining irrelevant activities in reference expression scope</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2262146</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-05-24 01:12:25 -0400</bug_when>
    <thetext>I made some simplifications:

    - Renamed inReferenceExpressionScope to be inReferenceExpression since these
constructs do not introduce a scope per se.
    - Localized the management of this state variable to CompletionParser.
There is no need for the main parser to be involved in what is only a completion
issue.
    - Centralized the state management by introducing a new override in 
CompletionParser rather than have the state managed in 4 different places.
    - Restructured the switch just a little bit to minimize the diffs and
have the delta stand out.

Released fix and test here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=f0cc0529135fe43e5b6252dca937651f0a04d49c

Thanks Anirban.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>230924</attachid>
            <date>2013-05-14 01:59:00 -0400</date>
            <delta_ts>2013-05-15 16:17:03 -0400</delta_ts>
            <desc>Applicable regression clean patch</desc>
            <filename>Bug-406468.patch</filename>
            <type>text/plain</type>
            <size>4046</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9t
b2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQppbmRleCAzMTVlZDRhLi4wMzRjNzA0IDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVs
L0NvbXBsZXRpb25UZXN0cy5qYXZhCkBAIC0xMDU3LDEwICsxMDU3LDExIEBACiAJc3VpdGUuYWRk
VGVzdChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyNTc0IikpOwogCXN1aXRlLmFkZFRl
c3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwMjgxMmEiKSk7CiAJc3VpdGUuYWRkVGVz
dChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyODEyYiIpKTsKIAlzdWl0ZS5hZGRUZXN0
KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDI4MTJjIikpOwogCXN1aXRlLmFkZFRlc3Qo
bmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwMjgxMmQiKSk7CisJc3VpdGUuYWRkVGVzdChu
ZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA2NDY4IikpOwogCiAJcmV0dXJuIHN1aXRlOwog
fQogcHVibGljIENvbXBsZXRpb25UZXN0cyhTdHJpbmcgbmFtZSkgewogCXN1cGVyKG5hbWUpOwpA
QCAtMjYzMDEsNiArMjYzMDIsNTAgQEAKIAkJY29tcGxldGlvblByb2plY3RPcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7
CiAJCWNvbXBsZXRpb25Qcm9qZWN0T3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9T
b3VyY2UsIHNhdmVkT3B0aW9uU291cmNlKTsKIAkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlv
bnMoY29tcGxldGlvblByb2plY3RPcHRpb25zKTsJCiAJfQogfQorLy8gQnVnIDQwNjQ2OCAtIFsx
LjhdW2NvZGUgYXNzaXN0XSBObyBjb21wbGV0aW9uIHByb3Bvc2FscyBhZnRlciB0aGUgdXNlIG9m
IGEgY29uc3RydWN0b3IgcmVmZXJlbmNlCisvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVn
cy9zaG93X2J1Zy5jZ2k/aWQ9NDA2NDY4CitwdWJsaWMgdm9pZCB0ZXN0QnVnNDA2NDY4KCkgdGhy
b3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVUSU9OX1BST0pF
Q1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlhbmNlID0gb3B0
aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlPYmplY3Qgc2F2
ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJj
ZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlh
bmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1dChDb21waWxl
ck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84KTsKKwkJ
Q09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMud29ya2luZ0Nv
cGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdDb3BpZXNbMF0g
PSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5qYXZhIiwKKwkJ
CQkiaW50ZXJmYWNlIEkge1xuIiArCisJCQkJIglYIFtdW11bXSBjb3B5IChpbnQgeCk7XG4iICsK
KwkJCQkifVxuIiArCisJCQkJInB1YmxpYyBjbGFzcyBYICB7XG4iICsKKwkJCQkiCXB1YmxpYyBz
dGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKworCQkJCSIJCUkgaSA9IFhbXVtd
W106Om5ldztcbiIgKworCQkJCSIJCVhbXVtdW10geCA9IGkuY29weSgxMzYpO1xuIiArCisJCQkJ
IgkJU3lzdGVtLm91dC5wcmludGxuKHgubGVuZ3RoKTtcbiIgKworCQkJCSIgICAgICAgICAgIFxu
IiArCQorCQkJCSIJfVxuIiArCisJCQkJIn1cbiIpOworCQlDb21wbGV0aW9uVGVzdHNSZXF1ZXN0
b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOworCQlT
dHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOworCQlTdHJpbmcg
Y29tcGxldGVCZWhpbmQgPSAiU3lzdGVtLm91dC5wcmludGxuKHgubGVuZ3RoKTsiOworCQlpbnQg
Y3Vyc29yTG9jYXRpb24gPSBzdHIubGFzdEluZGV4T2YoY29tcGxldGVCZWhpbmQpICsgY29tcGxl
dGVCZWhpbmQubGVuZ3RoKCk7CisJCXRoaXMud29ya2luZ0NvcGllc1swXS5jb2RlQ29tcGxldGUo
Y3Vyc29yTG9jYXRpb24sIHJlcXVlc3RvciwgdGhpcy53Y093bmVyKTsKKwkJYXNzZXJ0UmVzdWx0
cygKKwkJCSJJW1RZUEVfUkVGXXtJLCB0ZXN0LCBMdGVzdC5JOywgbnVsbCwgbnVsbCwgMjd9XG4i
ICsKKwkJCSJYW1RZUEVfUkVGXXtYLCB0ZXN0LCBMdGVzdC5YOywgbnVsbCwgbnVsbCwgMjd9XG4i
ICsKKwkJCSJhcmdzW0xPQ0FMX1ZBUklBQkxFX1JFRl17YXJncywgbnVsbCwgW0xqYXZhLmxhbmcu
U3RyaW5nOywgYXJncywgbnVsbCwgMjd9XG4iICsKKwkJCSJpW0xPQ0FMX1ZBUklBQkxFX1JFRl17
aSwgbnVsbCwgTHRlc3QuSTssIGksIG51bGwsIDI3fVxuIiArCisJCQkibWFpbltNRVRIT0RfUkVG
XXttYWluKCksIEx0ZXN0Llg7LCAoW0xqYXZhLmxhbmcuU3RyaW5nOylWLCBtYWluLCAoYXJncyks
IDI3fVxuIiArCisJCQkieFtMT0NBTF9WQVJJQUJMRV9SRUZde3gsIG51bGwsIFtbW0x0ZXN0Llg7
LCB4LCBudWxsLCAyN30iLAorCQkJcmVxdWVzdG9yLmdldFJlc3VsdHMoKSk7CisJfSBmaW5hbGx5
IHsKKwkJLy8gUmVzdG9yZSBjb21wbGlhbmNlIHNldHRpbmdzLgorCQlvcHRpb25zLnB1dChDb21w
aWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7CisJ
CW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBzYXZlZE9wdGlvblNv
dXJjZSk7CisJCUNPTVBMRVRJT05fUFJPSkVDVC5zZXRPcHRpb25zKG9wdGlvbnMpOwkKKwl9Cit9
CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb2RlYXNzaXN0L29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L2NvbXBsZXRlL0NvbXBsZXRpb25QYXJzZXIuamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZhCmluZGV4IGMzM2Nj
OTYuLmEyMjM2MTIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBh
cnNlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZh
CkBAIC01MTMwLDYgKzUxMzAsMTAgQEAKIAlpZiAoaSA+IC0xICYmIHRoaXMuZWxlbWVudEtpbmRT
dGFja1tpXSA9PSBLX0FSUkFZX0lOSVRJQUxJWkVSKSB7CiAJCXJldHVybiB0cnVlOwogCX0KIAly
ZXR1cm4gZmFsc2U7CQogfQorcHJvdGVjdGVkIHZvaWQgY29uc3VtZVJlZmVyZW5jZUV4cHJlc3Np
b25UeXBlRm9ybShib29sZWFuIGlzUHJpbWl0aXZlKSB7CisJc3VwZXIuY29uc3VtZVJlZmVyZW5j
ZUV4cHJlc3Npb25UeXBlRm9ybShpc1ByaW1pdGl2ZSk7CisJcG9wRWxlbWVudChLX0JFVFdFRU5f
TkVXX0FORF9MRUZUX0JSQUNLRVQpOworfQogfQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGU=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>231044</attachid>
            <date>2013-05-15 16:17:00 -0400</date>
            <delta_ts>2013-05-24 00:53:26 -0400</delta_ts>
            <desc>Patch after accommodating the review comments</desc>
            <filename>Bug-406468-Review-comments.patch</filename>
            <type>text/plain</type>
            <size>4014</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9t
b2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQppbmRleCAzMTVlZDRhLi4wMzRjNzA0IDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVs
L0NvbXBsZXRpb25UZXN0cy5qYXZhCkBAIC0xMDU3LDEwICsxMDU3LDExIEBACiAJc3VpdGUuYWRk
VGVzdChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyNTc0IikpOwogCXN1aXRlLmFkZFRl
c3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwMjgxMmEiKSk7CiAJc3VpdGUuYWRkVGVz
dChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyODEyYiIpKTsKIAlzdWl0ZS5hZGRUZXN0
KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDI4MTJjIikpOwogCXN1aXRlLmFkZFRlc3Qo
bmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwMjgxMmQiKSk7CisJc3VpdGUuYWRkVGVzdChu
ZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA2NDY4IikpOwogCiAJcmV0dXJuIHN1aXRlOwog
fQogcHVibGljIENvbXBsZXRpb25UZXN0cyhTdHJpbmcgbmFtZSkgewogCXN1cGVyKG5hbWUpOwpA
QCAtMjYzMDEsNiArMjYzMDIsNTAgQEAKIAkJY29tcGxldGlvblByb2plY3RPcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7
CiAJCWNvbXBsZXRpb25Qcm9qZWN0T3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9T
b3VyY2UsIHNhdmVkT3B0aW9uU291cmNlKTsKIAkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlv
bnMoY29tcGxldGlvblByb2plY3RPcHRpb25zKTsJCiAJfQogfQorLy8gQnVnIDQwNjQ2OCAtIFsx
LjhdW2NvZGUgYXNzaXN0XSBObyBjb21wbGV0aW9uIHByb3Bvc2FscyBhZnRlciB0aGUgdXNlIG9m
IGEgY29uc3RydWN0b3IgcmVmZXJlbmNlCisvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVn
cy9zaG93X2J1Zy5jZ2k/aWQ9NDA2NDY4CitwdWJsaWMgdm9pZCB0ZXN0QnVnNDA2NDY4KCkgdGhy
b3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVUSU9OX1BST0pF
Q1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlhbmNlID0gb3B0
aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlPYmplY3Qgc2F2
ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJj
ZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlh
bmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1dChDb21waWxl
ck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84KTsKKwkJ
Q09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMud29ya2luZ0Nv
cGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdDb3BpZXNbMF0g
PSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5qYXZhIiwKKwkJ
CQkiaW50ZXJmYWNlIEkge1xuIiArCisJCQkJIglYIFtdW11bXSBjb3B5IChpbnQgeCk7XG4iICsK
KwkJCQkifVxuIiArCisJCQkJInB1YmxpYyBjbGFzcyBYICB7XG4iICsKKwkJCQkiCXB1YmxpYyBz
dGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKworCQkJCSIJCUkgaSA9IFhbXVtd
W106Om5ldztcbiIgKworCQkJCSIJCVhbXVtdW10geCA9IGkuY29weSgxMzYpO1xuIiArCisJCQkJ
IgkJU3lzdGVtLm91dC5wcmludGxuKHgubGVuZ3RoKTtcbiIgKworCQkJCSIgICAgICAgICAgIFxu
IiArCQorCQkJCSIJfVxuIiArCisJCQkJIn1cbiIpOworCQlDb21wbGV0aW9uVGVzdHNSZXF1ZXN0
b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOworCQlT
dHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOworCQlTdHJpbmcg
Y29tcGxldGVCZWhpbmQgPSAiU3lzdGVtLm91dC5wcmludGxuKHgubGVuZ3RoKTsiOworCQlpbnQg
Y3Vyc29yTG9jYXRpb24gPSBzdHIubGFzdEluZGV4T2YoY29tcGxldGVCZWhpbmQpICsgY29tcGxl
dGVCZWhpbmQubGVuZ3RoKCk7CisJCXRoaXMud29ya2luZ0NvcGllc1swXS5jb2RlQ29tcGxldGUo
Y3Vyc29yTG9jYXRpb24sIHJlcXVlc3RvciwgdGhpcy53Y093bmVyKTsKKwkJYXNzZXJ0UmVzdWx0
cygKKwkJCSJJW1RZUEVfUkVGXXtJLCB0ZXN0LCBMdGVzdC5JOywgbnVsbCwgbnVsbCwgMjd9XG4i
ICsKKwkJCSJYW1RZUEVfUkVGXXtYLCB0ZXN0LCBMdGVzdC5YOywgbnVsbCwgbnVsbCwgMjd9XG4i
ICsKKwkJCSJhcmdzW0xPQ0FMX1ZBUklBQkxFX1JFRl17YXJncywgbnVsbCwgW0xqYXZhLmxhbmcu
U3RyaW5nOywgYXJncywgbnVsbCwgMjd9XG4iICsKKwkJCSJpW0xPQ0FMX1ZBUklBQkxFX1JFRl17
aSwgbnVsbCwgTHRlc3QuSTssIGksIG51bGwsIDI3fVxuIiArCisJCQkibWFpbltNRVRIT0RfUkVG
XXttYWluKCksIEx0ZXN0Llg7LCAoW0xqYXZhLmxhbmcuU3RyaW5nOylWLCBtYWluLCAoYXJncyks
IDI3fVxuIiArCisJCQkieFtMT0NBTF9WQVJJQUJMRV9SRUZde3gsIG51bGwsIFtbW0x0ZXN0Llg7
LCB4LCBudWxsLCAyN30iLAorCQkJcmVxdWVzdG9yLmdldFJlc3VsdHMoKSk7CisJfSBmaW5hbGx5
IHsKKwkJLy8gUmVzdG9yZSBjb21wbGlhbmNlIHNldHRpbmdzLgorCQlvcHRpb25zLnB1dChDb21w
aWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29tcGxpYW5jZSk7CisJ
CW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBzYXZlZE9wdGlvblNv
dXJjZSk7CisJCUNPTVBMRVRJT05fUFJPSkVDVC5zZXRPcHRpb25zKG9wdGlvbnMpOwkKKwl9Cit9
CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb2RlYXNzaXN0L29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L2NvbXBsZXRlL0NvbXBsZXRpb25QYXJzZXIuamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZhCmluZGV4IGMzM2Nj
OTYuLmFhOTQwYjIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBh
cnNlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZh
CkBAIC01MTMwLDYgKzUxMzAsMTAgQEAKIAlpZiAoaSA+IC0xICYmIHRoaXMuZWxlbWVudEtpbmRT
dGFja1tpXSA9PSBLX0FSUkFZX0lOSVRJQUxJWkVSKSB7CiAJCXJldHVybiB0cnVlOwogCX0KIAly
ZXR1cm4gZmFsc2U7CQogfQorcHJvdGVjdGVkIHZvaWQgY29uc3VtZUlkZW50aWZpZXJPck5ldyhi
b29sZWFuIG5ld0Zvcm0pIHsKKwlzdXBlci5jb25zdW1lSWRlbnRpZmllck9yTmV3KG5ld0Zvcm0p
OworCXBvcEVsZW1lbnQoS19CRVRXRUVOX05FV19BTkRfTEVGVF9CUkFDS0VUKTsKK30KIH0KXCBO
byBuZXdsaW5lIGF0IGVuZCBvZiBmaWxl
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>231428</attachid>
            <date>2013-05-24 00:53:00 -0400</date>
            <delta_ts>2013-05-24 00:53:26 -0400</delta_ts>
            <desc>Patch restraining irrelevant activities in reference expression scope</desc>
            <filename>Bug406468--commit-23rd-May.patch</filename>
            <type>text/plain</type>
            <size>15814</size>
            <attacher name="ANIRBAN CHAKRABORTY">anchakrk</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YSBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9t
b2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQppbmRleCBiNzNkMTNkLi45ZTU2YzRmIDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdGVzdHMvbW9kZWwvQ29tcGxldGlvblRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVs
L0NvbXBsZXRpb25UZXN0cy5qYXZhCkBAIC0xMDUzLDIwICsxMDUzLDIyIEBACiAJc3VpdGUuYWRk
VGVzdChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnMzg1ODU4YSIpKTsKIAlzdWl0ZS5hZGRU
ZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWczODU4NThiIikpOwogCXN1aXRlLmFkZFRl
c3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzM4NTg1OGMiKSk7CiAJc3VpdGUuYWRkVGVz
dChuZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnMzg1ODU4ZCIpKTsKIAlzdWl0ZS5hZGRUZXN0
KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDI1NzQiKSk7CiAJc3VpdGUuYWRkVGVzdChu
ZXcgQ29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyODEyYSIpKTsKIAlzdWl0ZS5hZGRUZXN0KG5l
dyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWc0MDI4MTJiIikpOwogCXN1aXRlLmFkZFRlc3QobmV3
IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzQwMjgxMmMiKSk7CiAJc3VpdGUuYWRkVGVzdChuZXcg
Q29tcGxldGlvblRlc3RzKCJ0ZXN0QnVnNDAyODEyZCIpKTsKIAlzdWl0ZS5hZGRUZXN0KG5ldyBD
b21wbGV0aW9uVGVzdHMoInRlc3RCdWczNzA5NzEiKSk7CisJc3VpdGUuYWRkVGVzdChuZXcgQ29t
cGxldGlvblRlc3RzKCJ0ZXN0QnVnNDA2NDY4YSIpKTsKKwlzdWl0ZS5hZGRUZXN0KG5ldyBDb21w
bGV0aW9uVGVzdHMoInRlc3RCdWc0MDY0NjhiIikpOwogCXJldHVybiBzdWl0ZTsKIH0KIHB1Ymxp
YyBDb21wbGV0aW9uVGVzdHMoU3RyaW5nIG5hbWUpIHsKIAlzdXBlcihuYW1lKTsKIH0KIHB1Ymxp
YyB2b2lkIHNldFVwU3VpdGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKIAlpZiAoQ09NUExFVElPTl9Q
Uk9KRUNUID09IG51bGwpICB7CiAJCUNPTVBMRVRJT05fUFJPSkVDVCA9IHNldFVwSmF2YVByb2pl
Y3QoIkNvbXBsZXRpb24iKTsKIAl9IGVsc2UgewogCQlzZXRVcFByb2plY3RDb21wbGlhbmNlKENP
TVBMRVRJT05fUFJPSkVDVCwgIjEuNCIpOwpAQCAtMjYzNjgsMTEgKzI2MzcwLDk4IEBACiAJCQkJ
InRvU3RyaW5nW01FVEhPRF9SRUZde3RvU3RyaW5nKCksIExqYXZhLmxhbmcuT2JqZWN0OywgKClM
amF2YS5sYW5nLlN0cmluZzssIHRvU3RyaW5nLCBudWxsLCA2NX0iLAogCQkJCXJlcXVlc3Rvci5n
ZXRSZXN1bHRzKCkpOwogCQlhc3NlcnRFcXVhbHMoZmFsc2UsCiAJCQlyZXF1ZXN0b3IuY2FuVXNl
RGlhbW9uZCgwKSk7CiAJfSBmaW5hbGx5IHsKIAkJLy8gUmVzdG9yZSBjb21wbGlhbmNlIHNldHRp
bmdzLgogCQlvcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgc2F2ZWRP
cHRpb25Db21wbGlhbmNlKTsKIAkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9u
cyk7CQogCX0KIH0KKy8vIEJ1ZyA0MDY0NjggLSBbMS44XVtjb2RlIGFzc2lzdF0gTm8gY29tcGxl
dGlvbiBwcm9wb3NhbHMgYWZ0ZXIgdGhlIHVzZSBvZiBhIGNvbnN0cnVjdG9yIHJlZmVyZW5jZQor
Ly8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQwNjQ2OAor
cHVibGljIHZvaWQgdGVzdEJ1ZzQwNjQ2OGEoKSB0aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsK
KwlNYXAgb3B0aW9ucyA9IENPTVBMRVRJT05fUFJPSkVDVC5nZXRPcHRpb25zKHRydWUpOworCU9i
amVjdCBzYXZlZE9wdGlvbkNvbXBsaWFuY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMu
T1BUSU9OX0NvbXBsaWFuY2UpOworCU9iamVjdCBzYXZlZE9wdGlvblNvdXJjZSA9IG9wdGlvbnMu
Z2V0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlKTsKKwl0cnkgeworCQlvcHRpb25zLnB1
dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJT
SU9OXzFfOCk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBD
b21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlDT01QTEVUSU9OX1BST0pFQ1Quc2V0T3B0
aW9ucyhvcHRpb25zKTsKKwkJdGhpcy53b3JraW5nQ29waWVzID0gbmV3IElDb21waWxhdGlvblVu
aXRbMV07CisJCXRoaXMud29ya2luZ0NvcGllc1swXSA9IGdldFdvcmtpbmdDb3B5KAorCQkJCSIv
Q29tcGxldGlvbi9zcmMvdGVzdC9YLmphdmEiLAorCQkJCSJpbnRlcmZhY2UgSSB7XG4iICsKKwkJ
CQkiCVggW11bXVtdIGNvcHkgKGludCB4KTtcbiIgKworCQkJCSJ9XG4iICsKKwkJCQkicHVibGlj
IGNsYXNzIFggIHtcbiIgKworCQkJCSIJcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g
YXJncykge1xuIiArCisJCQkJIgkJSSBpID0gWFtdW11bXTo6bmV3O1xuIiArCisJCQkJIgkJWFtd
W11bXSB4ID0gaS5jb3B5KDEzNik7XG4iICsKKwkJCQkiCQlTeXN0ZW0ub3V0LnByaW50bG4oeC5s
ZW5ndGgpO1xuIiArCisJCQkJIiAgICAgICAgICAgXG4iICsJCisJCQkJIgl9XG4iICsKKwkJCQki
fVxuIik7CisJCUNvbXBsZXRpb25UZXN0c1JlcXVlc3RvcjIgcmVxdWVzdG9yID0gbmV3IENvbXBs
ZXRpb25UZXN0c1JlcXVlc3RvcjIodHJ1ZSk7CisJCVN0cmluZyBzdHIgPSB0aGlzLndvcmtpbmdD
b3BpZXNbMF0uZ2V0U291cmNlKCk7CisJCVN0cmluZyBjb21wbGV0ZUJlaGluZCA9ICJTeXN0ZW0u
b3V0LnByaW50bG4oeC5sZW5ndGgpOyI7CisJCWludCBjdXJzb3JMb2NhdGlvbiA9IHN0ci5sYXN0
SW5kZXhPZihjb21wbGV0ZUJlaGluZCkgKyBjb21wbGV0ZUJlaGluZC5sZW5ndGgoKTsKKwkJdGhp
cy53b3JraW5nQ29waWVzWzBdLmNvZGVDb21wbGV0ZShjdXJzb3JMb2NhdGlvbiwgcmVxdWVzdG9y
LCB0aGlzLndjT3duZXIpOworCQlhc3NlcnRSZXN1bHRzKAorCQkJIklbVFlQRV9SRUZde0ksIHRl
c3QsIEx0ZXN0Lkk7LCBudWxsLCBudWxsLCAyN31cbiIgKworCQkJIlhbVFlQRV9SRUZde1gsIHRl
c3QsIEx0ZXN0Llg7LCBudWxsLCBudWxsLCAyN31cbiIgKworCQkJImFyZ3NbTE9DQUxfVkFSSUFC
TEVfUkVGXXthcmdzLCBudWxsLCBbTGphdmEubGFuZy5TdHJpbmc7LCBhcmdzLCBudWxsLCAyN31c
biIgKworCQkJImlbTE9DQUxfVkFSSUFCTEVfUkVGXXtpLCBudWxsLCBMdGVzdC5JOywgaSwgbnVs
bCwgMjd9XG4iICsKKwkJCSJtYWluW01FVEhPRF9SRUZde21haW4oKSwgTHRlc3QuWDssIChbTGph
dmEubGFuZy5TdHJpbmc7KVYsIG1haW4sIChhcmdzKSwgMjd9XG4iICsKKwkJCSJ4W0xPQ0FMX1ZB
UklBQkxFX1JFRl17eCwgbnVsbCwgW1tbTHRlc3QuWDssIHgsIG51bGwsIDI3fSIsCisJCQlyZXF1
ZXN0b3IuZ2V0UmVzdWx0cygpKTsKKwl9IGZpbmFsbHkgeworCQkvLyBSZXN0b3JlIGNvbXBsaWFu
Y2Ugc2V0dGluZ3MuCisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fQ29tcGxp
YW5jZSwgc2F2ZWRPcHRpb25Db21wbGlhbmNlKTsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRp
b25zLk9QVElPTl9Tb3VyY2UsIHNhdmVkT3B0aW9uU291cmNlKTsKKwkJQ09NUExFVElPTl9QUk9K
RUNULnNldE9wdGlvbnMob3B0aW9ucyk7CQorCX0KK30KK3B1YmxpYyB2b2lkIHRlc3RCdWc0MDY0
NjhiKCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7CisJTWFwIG9wdGlvbnMgPSBDT01QTEVU
SU9OX1BST0pFQ1QuZ2V0T3B0aW9ucyh0cnVlKTsKKwlPYmplY3Qgc2F2ZWRPcHRpb25Db21wbGlh
bmNlID0gb3B0aW9ucy5nZXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9Db21wbGlhbmNlKTsKKwlP
YmplY3Qgc2F2ZWRPcHRpb25Tb3VyY2UgPSBvcHRpb25zLmdldChDb21waWxlck9wdGlvbnMuT1BU
SU9OX1NvdXJjZSk7CisJdHJ5IHsKKwkJb3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElP
Tl9Db21wbGlhbmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlvcHRpb25zLnB1
dChDb21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05f
MV84KTsKKwkJQ09NUExFVElPTl9QUk9KRUNULnNldE9wdGlvbnMob3B0aW9ucyk7CisJCXRoaXMu
d29ya2luZ0NvcGllcyA9IG5ldyBJQ29tcGlsYXRpb25Vbml0WzFdOworCQl0aGlzLndvcmtpbmdD
b3BpZXNbMF0gPSBnZXRXb3JraW5nQ29weSgKKwkJCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvWC5q
YXZhIiwKKwkJCQkiaW50ZXJmYWNlIEkge1xuIiArCisJCQkJIglYPGphdmEubGFuZy5TdHJpbmc+
IGNvcHkgKCk7XG4iICsKKwkJCQkifVxuIiArCisJCQkJInB1YmxpYyBjbGFzcyBYPFM+ICB7XG4i
ICsKKwkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKwor
CQkJCSIJCUkgaSA9IFg8amF2YS5sYW5nLlN0cmluZz46Om5ldztcbiIgKworCQkJCSIJCVggeCA9
IGkuY29weSgpO1xuIiArCisJCQkJIgkJU3lzdGVtLm91dC5wcmludGxuKHgpO1xuIiArCisJCQkJ
IiAgICAgICAgICAgXG4iICsJCisJCQkJIgl9XG4iICsKKwkJCQkifVxuIik7CisJCUNvbXBsZXRp
b25UZXN0c1JlcXVlc3RvcjIgcmVxdWVzdG9yID0gbmV3IENvbXBsZXRpb25UZXN0c1JlcXVlc3Rv
cjIodHJ1ZSk7CisJCVN0cmluZyBzdHIgPSB0aGlzLndvcmtpbmdDb3BpZXNbMF0uZ2V0U291cmNl
KCk7CisJCVN0cmluZyBjb21wbGV0ZUJlaGluZCA9ICJTeXN0ZW0ub3V0LnByaW50bG4oeCk7IjsK
KwkJaW50IGN1cnNvckxvY2F0aW9uID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSAr
IGNvbXBsZXRlQmVoaW5kLmxlbmd0aCgpOworCQl0aGlzLndvcmtpbmdDb3BpZXNbMF0uY29kZUNv
bXBsZXRlKGN1cnNvckxvY2F0aW9uLCByZXF1ZXN0b3IsIHRoaXMud2NPd25lcik7CisJCWFzc2Vy
dFJlc3VsdHMoCisJCQkiSVtUWVBFX1JFRl17SSwgdGVzdCwgTHRlc3QuSTssIG51bGwsIG51bGws
IDI3fVxuIiArCisJCQkiU1tUWVBFX1JFRl17UywgbnVsbCwgVFM7LCBudWxsLCBudWxsLCAyN31c
biIgKworCQkJIlg8Uz5bVFlQRV9SRUZde1gsIHRlc3QsIEx0ZXN0Llg8VFM7PjssIG51bGwsIG51
bGwsIDI3fVxuIiArCisJCQkiYXJnc1tMT0NBTF9WQVJJQUJMRV9SRUZde2FyZ3MsIG51bGwsIFtM
amF2YS5sYW5nLlN0cmluZzssIGFyZ3MsIG51bGwsIDI3fVxuIiArCisJCQkiaVtMT0NBTF9WQVJJ
QUJMRV9SRUZde2ksIG51bGwsIEx0ZXN0Lkk7LCBpLCBudWxsLCAyN31cbiIgKworCQkJIm1haW5b
TUVUSE9EX1JFRl17bWFpbigpLCBMdGVzdC5YPFRTOz47LCAoW0xqYXZhLmxhbmcuU3RyaW5nOylW
LCBtYWluLCAoYXJncyksIDI3fVxuIiArCisJCQkieFtMT0NBTF9WQVJJQUJMRV9SRUZde3gsIG51
bGwsIEx0ZXN0Llg7LCB4LCBudWxsLCAyN30iLAorCQkJcmVxdWVzdG9yLmdldFJlc3VsdHMoKSk7
CisJfSBmaW5hbGx5IHsKKwkJLy8gUmVzdG9yZSBjb21wbGlhbmNlIHNldHRpbmdzLgorCQlvcHRp
b25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBsaWFuY2UsIHNhdmVkT3B0aW9uQ29t
cGxpYW5jZSk7CisJCW9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBz
YXZlZE9wdGlvblNvdXJjZSk7CisJCUNPTVBMRVRJT05fUFJPSkVDVC5zZXRPcHRpb25zKG9wdGlv
bnMpOwkKKwl9Cit9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb2RlYXNz
aXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L2NvbXBsZXRlL0NvbXBsZXRp
b25QYXJzZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Npc3Qvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlvblBhcnNlci5qYXZh
CmluZGV4IDllMDM1ZWQuLjVmOTEyNTQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvZGVhc3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUv
Q29tcGxldGlvblBhcnNlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvZGVhc3Np
c3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvY29tcGxldGUvQ29tcGxldGlv
blBhcnNlci5qYXZhCkBAIC0zNTExLDUwICszNTExLDU0IEBACiAJCQkJCQkJaWYgKHRoaXMuaWRl
bnRpZmllclB0ciAhPSBwcmV2SWRlbnRpZmllclB0cikgeyAvLyBpZiBpZGVudGlmaWVyIGhhcyBi
ZWVuIGNvbnN1bWVkLCBlLmcuIHRoaXMueFsuXWZyZWQoKQogCQkJCQkJCQl0aGlzLmludm9jYXRp
b25UeXBlID0gRVhQTElDSVRfUkVDRUlWRVI7CiAJCQkJCQkJfSBlbHNlIHsKIAkJCQkJCQkJdGhp
cy5pbnZvY2F0aW9uVHlwZSA9IE5BTUVfUkVDRUlWRVI7CiAJCQkJCQkJfQogCQkJCQkJfQogCQkJ
CQkJYnJlYWs7CiAJCQkJfQogCQkJCWJyZWFrOwogCQkJY2FzZSBUb2tlbk5hbWVJZGVudGlmaWVy
OgotCQkJCWlmIChwcmV2aW91cyA9PSBUb2tlbk5hbWVET1QpIHsgLy8gZS5nLiBmb28oKS5bZnJl
ZF0oKQotCQkJCQlpZiAodGhpcy5pbnZvY2F0aW9uVHlwZSAhPSBTVVBFUl9SRUNFSVZFUiAvLyBl
LmcuIG5vdCBzdXBlci5bZnJlZF0oKQotCQkJCQkJJiYgdGhpcy5pbnZvY2F0aW9uVHlwZSAhPSBO
QU1FX1JFQ0VJVkVSIC8vIGUuZy4gbm90IGJhci5bZnJlZF0oKQotCQkJCQkJJiYgdGhpcy5pbnZv
Y2F0aW9uVHlwZSAhPSBBTExPQ0FUSU9OIC8vIGUuZy4gbm90IG5ldyBmb28uW0Jhcl0oKQotCQkJ
CQkJJiYgdGhpcy5pbnZvY2F0aW9uVHlwZSAhPSBRVUFMSUZJRURfQUxMT0NBVElPTikgeyAvLyBl
LmcuIG5vdCBmcmVkKCkubmV3IGZvby5bQmFyXSgpCisJCQkJaWYoIXRoaXMuaW5SZWZlcmVuY2VF
eHByZXNzaW9uU2NvcGUpIHsKKwkJCQkJaWYgKHByZXZpb3VzID09IFRva2VuTmFtZURPVCkgeyAv
LyBlLmcuIGZvbygpLltmcmVkXSgpCisJCQkJCQlpZiAodGhpcy5pbnZvY2F0aW9uVHlwZSAhPSBT
VVBFUl9SRUNFSVZFUiAvLyBlLmcuIG5vdCBzdXBlci5bZnJlZF0oKQorCQkJCQkJCSYmIHRoaXMu
aW52b2NhdGlvblR5cGUgIT0gTkFNRV9SRUNFSVZFUiAvLyBlLmcuIG5vdCBiYXIuW2ZyZWRdKCkK
KwkJCQkJCQkmJiB0aGlzLmludm9jYXRpb25UeXBlICE9IEFMTE9DQVRJT04gLy8gZS5nLiBub3Qg
bmV3IGZvby5bQmFyXSgpCisJCQkJCQkJJiYgdGhpcy5pbnZvY2F0aW9uVHlwZSAhPSBRVUFMSUZJ
RURfQUxMT0NBVElPTikgeyAvLyBlLmcuIG5vdCBmcmVkKCkubmV3IGZvby5bQmFyXSgpCiAKLQkJ
CQkJCXRoaXMuaW52b2NhdGlvblR5cGUgPSBFWFBMSUNJVF9SRUNFSVZFUjsKLQkJCQkJCXRoaXMu
cXVhbGlmaWVyID0gdGhpcy5leHByZXNzaW9uUHRyOwotCQkJCQl9Ci0JCQkJfQotCQkJCWlmIChw
cmV2aW91cyA9PSBUb2tlbk5hbWVHUkVBVEVSKSB7IC8vIGUuZy4gZm9vKCkuPFg+W2ZyZWRdKCkK
LQkJCQkJaWYgKHRoaXMuaW52b2NhdGlvblR5cGUgIT0gU1VQRVJfUkVDRUlWRVIgLy8gZS5nLiBu
b3Qgc3VwZXIuPFg+W2ZyZWRdKCkKLQkJCQkJCSYmIHRoaXMuaW52b2NhdGlvblR5cGUgIT0gTkFN
RV9SRUNFSVZFUiAvLyBlLmcuIG5vdCBiYXIuPFg+W2ZyZWRdKCkKLQkJCQkJCSYmIHRoaXMuaW52
b2NhdGlvblR5cGUgIT0gQUxMT0NBVElPTiAvLyBlLmcuIG5vdCBuZXcgZm9vLjxYPltCYXJdKCkK
LQkJCQkJCSYmIHRoaXMuaW52b2NhdGlvblR5cGUgIT0gUVVBTElGSUVEX0FMTE9DQVRJT04pIHsg
Ly8gZS5nLiBub3QgZnJlZCgpLm5ldyBmb28uPFg+W0Jhcl0oKQotCi0JCQkJCQlpZiAodG9wS25v
d25FbGVtZW50S2luZChDT01QTEVUSU9OX09SX0FTU0lTVF9QQVJTRVIpID09IEtfUEFSQU1FVEVS
SVpFRF9NRVRIT0RfSU5WT0NBVElPTikgewogCQkJCQkJCXRoaXMuaW52b2NhdGlvblR5cGUgPSBF
WFBMSUNJVF9SRUNFSVZFUjsKIAkJCQkJCQl0aGlzLnF1YWxpZmllciA9IHRoaXMuZXhwcmVzc2lv
blB0cjsKKwkJCQkJCX0KKwkJCQkJfQorCQkJCQlpZiAocHJldmlvdXMgPT0gVG9rZW5OYW1lR1JF
QVRFUikgeyAvLyBlLmcuIGZvbygpLjxYPltmcmVkXSgpCisJCQkJCQlpZiAodGhpcy5pbnZvY2F0
aW9uVHlwZSAhPSBTVVBFUl9SRUNFSVZFUiAvLyBlLmcuIG5vdCBzdXBlci48WD5bZnJlZF0oKQor
CQkJCQkJCSYmIHRoaXMuaW52b2NhdGlvblR5cGUgIT0gTkFNRV9SRUNFSVZFUiAvLyBlLmcuIG5v
dCBiYXIuPFg+W2ZyZWRdKCkKKwkJCQkJCQkmJiB0aGlzLmludm9jYXRpb25UeXBlICE9IEFMTE9D
QVRJT04gLy8gZS5nLiBub3QgbmV3IGZvby48WD5bQmFyXSgpCisJCQkJCQkJJiYgdGhpcy5pbnZv
Y2F0aW9uVHlwZSAhPSBRVUFMSUZJRURfQUxMT0NBVElPTikgeyAvLyBlLmcuIG5vdCBmcmVkKCku
bmV3IGZvby48WD5bQmFyXSgpCisKKwkJCQkJCQlpZiAodG9wS25vd25FbGVtZW50S2luZChDT01Q
TEVUSU9OX09SX0FTU0lTVF9QQVJTRVIpID09IEtfUEFSQU1FVEVSSVpFRF9NRVRIT0RfSU5WT0NB
VElPTikgeworCQkJCQkJCQl0aGlzLmludm9jYXRpb25UeXBlID0gRVhQTElDSVRfUkVDRUlWRVI7
CisJCQkJCQkJCXRoaXMucXVhbGlmaWVyID0gdGhpcy5leHByZXNzaW9uUHRyOworCQkJCQkJCX0K
IAkJCQkJCX0KIAkJCQkJfQogCQkJCX0KIAkJCQlicmVhazsKIAkJCWNhc2UgVG9rZW5OYW1lbmV3
OgotCQkJCXB1c2hPbkVsZW1lbnRTdGFjayhLX0JFVFdFRU5fTkVXX0FORF9MRUZUX0JSQUNLRVQp
OwotCQkJCXRoaXMucXVhbGlmaWVyID0gdGhpcy5leHByZXNzaW9uUHRyOyAvLyBOQjogZXZlbiBp
ZiB0aGVyZSBpcyBubyBxdWFsaWZpY2F0aW9uLCBzZXQgaXQgdG8gdGhlIGV4cHJlc3Npb24gcHRy
IHNvIHRoYXQgdGhlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIGNvcnJlY3RseSBjb21wdXRlZAot
CQkJCWlmIChwcmV2aW91cyA9PSBUb2tlbk5hbWVET1QpIHsgLy8gZS5nLiBmcmVkKCkuW25ld10g
WCgpCi0JCQkJCXRoaXMuaW52b2NhdGlvblR5cGUgPSBRVUFMSUZJRURfQUxMT0NBVElPTjsKLQkJ
CQl9IGVsc2UgeyAvLyBlLmcuIFtuZXddIFgoKQotCQkJCQl0aGlzLmludm9jYXRpb25UeXBlID0g
QUxMT0NBVElPTjsKKwkJCQlpZighdGhpcy5pblJlZmVyZW5jZUV4cHJlc3Npb25TY29wZSkgewor
CQkJCQlwdXNoT25FbGVtZW50U3RhY2soS19CRVRXRUVOX05FV19BTkRfTEVGVF9CUkFDS0VUKTsK
KwkJCQkJdGhpcy5xdWFsaWZpZXIgPSB0aGlzLmV4cHJlc3Npb25QdHI7IC8vIE5COiBldmVuIGlm
IHRoZXJlIGlzIG5vIHF1YWxpZmljYXRpb24sIHNldCBpdCB0byB0aGUgZXhwcmVzc2lvbiBwdHIg
c28gdGhhdCB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgY29ycmVjdGx5IGNvbXB1dGVkCisJ
CQkJCWlmIChwcmV2aW91cyA9PSBUb2tlbk5hbWVET1QpIHsgLy8gZS5nLiBmcmVkKCkuW25ld10g
WCgpCisJCQkJCQl0aGlzLmludm9jYXRpb25UeXBlID0gUVVBTElGSUVEX0FMTE9DQVRJT047CisJ
CQkJCX0gZWxzZSB7IC8vIGUuZy4gW25ld10gWCgpCisJCQkJCQl0aGlzLmludm9jYXRpb25UeXBl
ID0gQUxMT0NBVElPTjsKKwkJCQkJfQogCQkJCX0KIAkJCQlicmVhazsKIAkJCWNhc2UgVG9rZW5O
YW1ldGhpczoKIAkJCQlpZiAocHJldmlvdXMgPT0gVG9rZW5OYW1lRE9UKSB7IC8vIGUuZy4gZnJl
ZCgpLlt0aGlzXSgpCiAJCQkJCXRoaXMuaW52b2NhdGlvblR5cGUgPSBRVUFMSUZJRURfQUxMT0NB
VElPTjsKIAkJCQkJdGhpcy5xdWFsaWZpZXIgPSB0aGlzLmV4cHJlc3Npb25QdHI7CiAJCQkJfQog
CQkJCWJyZWFrOwogCQkJY2FzZSBUb2tlbk5hbWVzdXBlcjoKIAkJCQlpZiAocHJldmlvdXMgPT0g
VG9rZW5OYW1lRE9UKSB7IC8vIGUuZy4gZnJlZCgpLltzdXBlcl0oKQpkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL3BhcnNlci9QYXJzZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKaW5kZXgg
MGZkODkyYy4uZDM5MGYzOCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCkBAIC0yMTksMjAgKzIxOSwyMSBAQAogCS8v
aW50ZXJuYWwgZGF0YSBmb3IgdGhlIGF1dG9tYXQKIAlwcm90ZWN0ZWQgZmluYWwgc3RhdGljIGlu
dCBTdGFja0luY3JlbWVudCA9IDI1NTsKIAogCXB1YmxpYyBzdGF0aWMgY2hhciB0ZXJtX2FjdGlv
bltdID0gbnVsbDsKIAlwdWJsaWMgc3RhdGljIGJ5dGUgdGVybV9jaGVja1tdID0gbnVsbDsKIAog
CXB1YmxpYyBzdGF0aWMgY2hhciB0ZXJtaW5hbF9pbmRleFtdID0gbnVsbDsKIAogCXByaXZhdGUg
c3RhdGljIGZpbmFsIFN0cmluZyBVTkVYUEVDVEVEX0VPRiA9ICJVbmV4cGVjdGVkIEVuZCBPZiBG
aWxlIiA7IC8vJE5PTi1OTFMtMSQKIAlwdWJsaWMgc3RhdGljIGJvb2xlYW4gVkVSQk9TRV9SRUNP
VkVSWSA9IGZhbHNlOworCXByb3RlY3RlZCBib29sZWFuIGluUmVmZXJlbmNlRXhwcmVzc2lvblNj
b3BlID0gZmFsc2U7CiAKIAlzdGF0aWMgewogCQl0cnl7CiAJCQlpbml0VGFibGVzKCk7CiAJCX0g
Y2F0Y2goamF2YS5pby5JT0V4Y2VwdGlvbiBleCl7CiAJCQl0aHJvdyBuZXcgRXhjZXB0aW9uSW5J
bml0aWFsaXplckVycm9yKGV4LmdldE1lc3NhZ2UoKSk7CiAJCX0KIAl9CiAJcHVibGljIHN0YXRp
YyBpbnQgYXNpKGludCBzdGF0ZSkgewogCQpAQCAtODAzNiwyMCArODAzNywyMSBAQAogCQl9CiAJ
CXJlZmVyZW5jZUV4cHJlc3Npb24gPSBuZXcgUmVmZXJlbmNlRXhwcmVzc2lvbih0aGlzLmNvbXBp
bGF0aW9uVW5pdC5jb21waWxhdGlvblJlc3VsdCwgZ2V0VHlwZVJlZmVyZW5jZShkaW1lbnNpb24p
LCB0eXBlQXJndW1lbnRzLCBzZWxlY3Rvciwgc291cmNlRW5kKTsKIAl9IGVsc2UgewogCQlyZWZl
cmVuY2VFeHByZXNzaW9uID0gbmV3IFJlZmVyZW5jZUV4cHJlc3Npb24odGhpcy5jb21waWxhdGlv
blVuaXQuY29tcGlsYXRpb25SZXN1bHQsIGdldFVuc3BlY2lmaWVkUmVmZXJlbmNlKCksIHR5cGVB
cmd1bWVudHMsIHNlbGVjdG9yLCBzb3VyY2VFbmQpOwogCX0KIAlwdXNoT25FeHByZXNzaW9uU3Rh
Y2socmVmZXJlbmNlRXhwcmVzc2lvbik7CiAKIAlpZiAoIXRoaXMucGFyc2luZ0phdmE4UGx1cykg
ewogCQlwcm9ibGVtUmVwb3J0ZXIoKS5yZWZlcmVuY2VFeHByZXNzaW9uc05vdEJlbG93MTgocmVm
ZXJlbmNlRXhwcmVzc2lvbik7CiAJfQorCXRoaXMuaW5SZWZlcmVuY2VFeHByZXNzaW9uU2NvcGUg
PSBmYWxzZTsKIH0KIHByb3RlY3RlZCB2b2lkIGNvbnN1bWVSZWZlcmVuY2VFeHByZXNzaW9uUHJp
bWFyeUZvcm0oKSB7CiAJLy8gUmVmZXJlbmNlRXhwcmVzc2lvbiA6Oj0gUHJpbWFyeSAnOjonIE5v
bldpbGRUeXBlQXJndW1lbnRzb3B0IElkZW50aWZpZXIKIAogCVJlZmVyZW5jZUV4cHJlc3Npb24g
cmVmZXJlbmNlRXhwcmVzc2lvbjsKIAlUeXBlUmVmZXJlbmNlIFtdIHR5cGVBcmd1bWVudHMgPSBu
dWxsOwogCWNoYXIgW10gc2VsZWN0b3I7CiAJaW50IHNvdXJjZUVuZDsKIAogCXNvdXJjZUVuZCA9
IChpbnQpIHRoaXMuaWRlbnRpZmllclBvc2l0aW9uU3RhY2tbdGhpcy5pZGVudGlmaWVyUHRyXTsK
QEAgLTgwNjMsMjAgKzgwNjUsMjEgQEAKIAkJdGhpcy5pbnRQdHItLTsgIC8vIHBvcCB0eXBlIGFy
Z3VtZW50cyBzb3VyY2Ugc3RhcnQuCiAJfQogCQogCUV4cHJlc3Npb24gcHJpbWFyeSA9IHRoaXMu
ZXhwcmVzc2lvblN0YWNrW3RoaXMuZXhwcmVzc2lvblB0ci0tXTsKIAl0aGlzLmV4cHJlc3Npb25M
ZW5ndGhQdHItLTsKIAlyZWZlcmVuY2VFeHByZXNzaW9uID0gbmV3IFJlZmVyZW5jZUV4cHJlc3Np
b24odGhpcy5jb21waWxhdGlvblVuaXQuY29tcGlsYXRpb25SZXN1bHQsIHByaW1hcnksIHR5cGVB
cmd1bWVudHMsIHNlbGVjdG9yLCBzb3VyY2VFbmQpOwogCXB1c2hPbkV4cHJlc3Npb25TdGFjayhy
ZWZlcmVuY2VFeHByZXNzaW9uKTsKIAlpZiAoIXRoaXMucGFyc2luZ0phdmE4UGx1cykgewogCQlw
cm9ibGVtUmVwb3J0ZXIoKS5yZWZlcmVuY2VFeHByZXNzaW9uc05vdEJlbG93MTgocmVmZXJlbmNl
RXhwcmVzc2lvbik7CiAJfQorCXRoaXMuaW5SZWZlcmVuY2VFeHByZXNzaW9uU2NvcGUgPSBmYWxz
ZTsKIH0KIHByb3RlY3RlZCB2b2lkIGNvbnN1bWVSZWZlcmVuY2VFeHByZXNzaW9uU3VwZXJGb3Jt
KCkgewogCS8vIFJlZmVyZW5jZUV4cHJlc3Npb24gOjo9ICdzdXBlcicgJzo6JyBOb25XaWxkVHlw
ZUFyZ3VtZW50c29wdCBJZGVudGlmaWVyCiAKIAlSZWZlcmVuY2VFeHByZXNzaW9uIHJlZmVyZW5j
ZUV4cHJlc3Npb247CiAJVHlwZVJlZmVyZW5jZSBbXSB0eXBlQXJndW1lbnRzID0gbnVsbDsKIAlj
aGFyIFtdIHNlbGVjdG9yOwogCWludCBzb3VyY2VFbmQ7CiAKIAlzb3VyY2VFbmQgPSAoaW50KSB0
aGlzLmlkZW50aWZpZXJQb3NpdGlvblN0YWNrW3RoaXMuaWRlbnRpZmllclB0cl07CkBAIC04MDg5
LDIwICs4MDkyLDIxIEBACiAJCVN5c3RlbS5hcnJheWNvcHkodGhpcy5nZW5lcmljc1N0YWNrLCB0
aGlzLmdlbmVyaWNzUHRyICsgMSwgdHlwZUFyZ3VtZW50cyA9IG5ldyBUeXBlUmVmZXJlbmNlW2xl
bmd0aF0sIDAsIGxlbmd0aCk7CiAJCXRoaXMuaW50UHRyLS07ICAvLyBwb3AgdHlwZSBhcmd1bWVu
dHMgc291cmNlIHN0YXJ0LgogCX0KIAkKIAlTdXBlclJlZmVyZW5jZSBzdXBlclJlZmVyZW5jZSA9
IG5ldyBTdXBlclJlZmVyZW5jZSh0aGlzLmludFN0YWNrW3RoaXMuaW50UHRyLS1dLCB0aGlzLmVu
ZFBvc2l0aW9uKTsKIAlyZWZlcmVuY2VFeHByZXNzaW9uID0gbmV3IFJlZmVyZW5jZUV4cHJlc3Np
b24odGhpcy5jb21waWxhdGlvblVuaXQuY29tcGlsYXRpb25SZXN1bHQsIHN1cGVyUmVmZXJlbmNl
LCB0eXBlQXJndW1lbnRzLCBzZWxlY3Rvciwgc291cmNlRW5kKTsKIAlwdXNoT25FeHByZXNzaW9u
U3RhY2socmVmZXJlbmNlRXhwcmVzc2lvbik7CiAJaWYgKCF0aGlzLnBhcnNpbmdKYXZhOFBsdXMp
IHsKIAkJcHJvYmxlbVJlcG9ydGVyKCkucmVmZXJlbmNlRXhwcmVzc2lvbnNOb3RCZWxvdzE4KHJl
ZmVyZW5jZUV4cHJlc3Npb24pOwogCX0KKwl0aGlzLmluUmVmZXJlbmNlRXhwcmVzc2lvblNjb3Bl
ID0gZmFsc2U7CiB9CiBwcm90ZWN0ZWQgdm9pZCBjb25zdW1lUmVmZXJlbmNlRXhwcmVzc2lvblR5
cGVBcmd1bWVudHNBbmRUcnVuayhib29sZWFuIHF1YWxpZmllZCkgewogCS8vIFJlZmVyZW5jZUV4
cHJlc3Npb25UeXBlQXJndW1lbnRzQW5kVHJ1bmsgOjo9IE9ubHlUeXBlQXJndW1lbnRzIERpbXNv
cHQgPT0+IHF1YWxpZmllZCA9PSBmYWxzZQogCS8vIFJlZmVyZW5jZUV4cHJlc3Npb25UeXBlQXJn
dW1lbnRzQW5kVHJ1bmsgOjo9IE9ubHlUeXBlQXJndW1lbnRzICcuJyBDbGFzc09ySW50ZXJmYWNl
VHlwZSBEaW1zb3B0ID09PiBxdWFsaWZpZWQgPT0gdHJ1ZQogCXB1c2hPbkludFN0YWNrKHF1YWxp
ZmllZCA/IDEgOiAwKTsKIAlwdXNoT25JbnRTdGFjayh0aGlzLnNjYW5uZXIuc3RhcnRQb3NpdGlv
biAtIDEpOyAvLyBtYXJrIHBvc2l0aW9uIG9mIDo6IGFzIHRoZSBlbmQgb2YgdHlwZQogfQogcHJv
dGVjdGVkIHZvaWQgY29uc3VtZVJlZmVyZW5jZUV4cHJlc3Npb25HZW5lcmljVHlwZUZvcm0oKSB7
CiAKIAkvLyBSZWZlcmVuY2VFeHByZXNzaW9uIDo6PSBOYW1lIEJlZ2luVHlwZUFyZ3VtZW50cyBS
ZWZlcmVuY2VFeHByZXNzaW9uVHlwZUFyZ3VtZW50c0FuZFRydW5rICc6OicgTm9uV2lsZFR5cGVB
cmd1bWVudHNvcHQgSWRlbnRpZmllck9yTmV3CkBAIC04MTM3LDIwICs4MTQxLDIxIEBACiAJfQog
CXRoaXMuaW50UHRyLS07IC8vIHBvcCAnPCcgcG9zaXRpb24KIAl0eXBlLnNvdXJjZUVuZCA9IHR5
cGVTb3VyY2VFbmQ7CiAJCiAJcmVmZXJlbmNlRXhwcmVzc2lvbiA9IG5ldyBSZWZlcmVuY2VFeHBy
ZXNzaW9uKHRoaXMuY29tcGlsYXRpb25Vbml0LmNvbXBpbGF0aW9uUmVzdWx0LCB0eXBlLCB0eXBl
QXJndW1lbnRzLCBzZWxlY3Rvciwgc291cmNlRW5kKTsKIAogCXB1c2hPbkV4cHJlc3Npb25TdGFj
ayhyZWZlcmVuY2VFeHByZXNzaW9uKTsKIAlpZiAoIXRoaXMucGFyc2luZ0phdmE4UGx1cykgewog
CQlwcm9ibGVtUmVwb3J0ZXIoKS5yZWZlcmVuY2VFeHByZXNzaW9uc05vdEJlbG93MTgocmVmZXJl
bmNlRXhwcmVzc2lvbik7CiAJfQorCXRoaXMuaW5SZWZlcmVuY2VFeHByZXNzaW9uU2NvcGUgPSBm
YWxzZTsKIH0KIHByb3RlY3RlZCB2b2lkIGNvbnN1bWVFbnRlckluc3RhbmNlQ3JlYXRpb25Bcmd1
bWVudExpc3QoKSB7CiAJdGhpcy5zaG91bGREZWZlclJlY292ZXJ5ID0gdHJ1ZTsKIH0KIHByb3Rl
Y3RlZCB2b2lkIGNvbnN1bWVTaW1wbGVBc3NlcnRTdGF0ZW1lbnQoKSB7CiAJLy8gQXNzZXJ0U3Rh
dGVtZW50IDo6PSAnYXNzZXJ0JyBFeHByZXNzaW9uICc7JwogCXRoaXMuZXhwcmVzc2lvbkxlbmd0
aFB0ci0tOwogCXB1c2hPbkFzdFN0YWNrKG5ldyBBc3NlcnRTdGF0ZW1lbnQodGhpcy5leHByZXNz
aW9uU3RhY2tbdGhpcy5leHByZXNzaW9uUHRyLS1dLCB0aGlzLmludFN0YWNrW3RoaXMuaW50UHRy
LS1dKSk7CiB9CiBwcm90ZWN0ZWQgdm9pZCBjb25zdW1lU2luZ2xlTWVtYmVyQW5ub3RhdGlvbihi
b29sZWFuIGlzVHlwZUFubm90YXRpb24pIHsKQEAgLTg5OTMsMjAgKzg5OTgsMjMgQEAKIAkJCXB1
c2hPbkludFN0YWNrKHRoaXMuc2Nhbm5lci5jdXJyZW50UG9zaXRpb24gLSAxKTsKIAkJCWJyZWFr
OwogCQljYXNlIFRva2VuTmFtZUVRVUFMICA6CiAJCQlpZiAodGhpcy5jdXJyZW50RWxlbWVudCAh
PSBudWxsICYmIHRoaXMuY3VycmVudEVsZW1lbnQgaW5zdGFuY2VvZiBSZWNvdmVyZWRBbm5vdGF0
aW9uKSB7CiAJCQkJUmVjb3ZlcmVkQW5ub3RhdGlvbiByZWNvdmVyZWRBbm5vdGF0aW9uID0gKFJl
Y292ZXJlZEFubm90YXRpb24pIHRoaXMuY3VycmVudEVsZW1lbnQ7CiAJCQkJaWYgKHJlY292ZXJl
ZEFubm90YXRpb24ubWVtYmVyVmFsdVBhaXJFcXVhbEVuZCA9PSAtMSkgewogCQkJCQlyZWNvdmVy
ZWRBbm5vdGF0aW9uLm1lbWJlclZhbHVQYWlyRXF1YWxFbmQgPSB0aGlzLnNjYW5uZXIuY3VycmVu
dFBvc2l0aW9uIC0gMTsKIAkJCQl9CiAJCQl9CiAJCQlicmVhazsKKwkJY2FzZSBUb2tlbk5hbWVD
T0xPTl9DT0xPTiA6CisJCQl0aGlzLmluUmVmZXJlbmNlRXhwcmVzc2lvblNjb3BlID0gdHJ1ZTsK
KwkJCWJyZWFrOwogCQljYXNlIFRva2VuTmFtZU1VTFRJUExZIDoKIAkJCS8vIHN0YXIgZW5kIHBv
c2l0aW9uCiAJCQlwdXNoT25JbnRTdGFjayh0aGlzLnNjYW5uZXIuY3VycmVudFBvc2l0aW9uIC0g
MSk7CiAJCQlicmVhazsKIAkJCS8vICBjYXNlIFRva2VuTmFtZUNPTU1BIDoKIAkJCS8vICBjYXNl
IFRva2VuTmFtZUNPTE9OICA6CiAJCQkvLyAgY2FzZSBUb2tlbk5hbWVMQlJBQ0tFVCAgOgogCQkJ
Ly8gIGNhc2UgVG9rZW5OYW1lRE9UIDoKIAkJCS8vICBjYXNlIFRva2VuTmFtZUVSUk9SIDoKIAkJ
CS8vICBjYXNlIFRva2VuTmFtZUVPRiAgOg==
</data>
<flag name="review"
          id="57776"
          type_id="6"
          status="?"
          setter="anchakrk"
    />
          </attachment>
      

    </bug>

</bugzilla>