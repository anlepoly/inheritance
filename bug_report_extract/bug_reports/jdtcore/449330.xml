<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>449330</bug_id>
          
          <creation_ts>2014-10-30 06:11:00 -0400</creation_ts>
          <short_desc>[1.6] Eclipse compiler doesn&apos;t compile annotations in class files</short_desc>
          <delta_ts>2015-03-17 23:59:01 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4.1</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 8</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>4.5 M6</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Pal Vojacsek">voji</reporter>
          <assigned_to name="shankha banerjee">shankhba</assigned_to>
          <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>saammana</cc>
    
    <cc>shankhba</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>2</votes>

      

      

      <flag name="review"
          id="63908"
          type_id="1"
          status="+"
          setter="saammana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2474015</commentid>
    <comment_count>0</comment_count>
      <attachid>248272</attachid>
    <who name="Pal Vojacsek">voji</who>
    <bug_when>2014-10-30 06:11:05 -0400</bug_when>
    <thetext>Created attachment 248272
ant and eclipse builded class files

I using class files, with hibernate annotations, and after 4.3 to 4.4 upgrade i found this annoying bug. 

The host os using java 7 (&quot;1.7.0_60&quot;) and inside eclipse i define different java runtime (windows - preferences - java - installed jre): jdk1.6.0_39

I configure default compilance settings to 1.6 and doesn&apos;t using any project specific setup. 

The project contains all the required dependencies on the classpath, and build successfuly by and and eclipse internal compiler, but...

The example java file is: 
@javax.persistence.SequenceGenerator(
		name=&quot;AOK_AGENT_LOG_SEQ&quot;, sequenceName=&quot;HB_AOK_AGENT_LOG_SEQ&quot;, allocationSize=100)
package hu.ardinsys.det.dal.hibernate.aokagentlog.dao;


The eclipse builded class file is java 6 versioned class file, but doesn&apos;t contain any of AOK_AGENT_LOG_SEQ, HB_AOK_AGENT_LOG_SEQ etc., and my project doesnt work... 

When i build the classes with ant javac compiler, the classes contains all the required notations...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2474023</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-30 06:36:14 -0400</bug_when>
    <thetext>Shankha, can you take a look ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2488053</commentid>
    <comment_count>2</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-11-24 07:30:25 -0500</bug_when>
    <thetext>Hi Pal,
Can you please help out with a test case. 
I have wrote few test cases with 1.6 compliance settings and hibernate enabled examples. I could see the Strings AOK_AGENT_LOG_SEQ and HB_AOK_AGENT_LOG_SEQ in the generated class file.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2489367</commentid>
    <comment_count>3</comment_count>
    <who name="Pal Vojacsek">voji</who>
    <bug_when>2014-11-26 10:36:48 -0500</bug_when>
    <thetext>Dear Shankha

Thank you, for your quick response. I created a zip file, containing the java runtimes, eclipse, and workspace.

https://www.dropbox.com/s/hgwblrdf8aemhhr/ebug.zip?dl=0

This setup requires windows environment, but if it&apos;s a problem, i can upload a fully configured virtualbox image, with windows, java, and eclipse installation.

Best,
Pal</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2492746</commentid>
    <comment_count>4</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-04 09:40:17 -0500</bug_when>
    <thetext>Hi Paul,
The eclipse instance started of after running the script.
The instance needs 1.7 32 bit JDK.

I ran the build.xml file and the build was successful. 
The build file does have:
&lt;target name=&quot;compile_release&quot;

I am not sure how to perform this step:
3. execute compile_release ant task and check the result:   

Sorry. My response has not been very good. I will work on this on priority.

Thanks,
Shankha</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2492764</commentid>
    <comment_count>5</comment_count>
    <who name="Pal Vojacsek">voji</who>
    <bug_when>2014-12-04 09:53:17 -0500</bug_when>
    <thetext>Hi

I check the result from a following (not so sophisticated) method: 

Locating the class file in total commander app, and view it with internal viewer (F3 View). This is a very small binary file: 

c:\ebug\missingnot_workspace\detp\bin\hu\ardinsys\det\dal\hibernate\aokagentlog\dao\package-info.class 

When the ant compiled the file, you can find it the following two string: 
- AOK_AGENT_LOG_SEQ
- HB_AOK_AGENT_LOG_SEQ


After clean up the workspace and let the eclipse internal compiler compile the class file, you can&apos;t find this two strings in it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493029</commentid>
    <comment_count>6</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-05 02:05:37 -0500</bug_when>
    <thetext>I can reproduce the bug.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493166</commentid>
    <comment_count>7</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-05 06:52:13 -0500</bug_when>
    <thetext>Steps to reproduce:

1) Pick a 4.4.1 build.
Version: Luna SR1 (4.4.1)
Build id: M20140925-0400

2) Create a project.
3) Add 1.6 JDK to the Installed JRE list and make it default. 
4) Add a package (hello) to the project with package-info.

@SequenceGenerator2(
		name=&quot;AOK_AGENT_LOG_SEQ&quot;, sequenceName=&quot;HB_AOK_AGENT_LOG_SEQ&quot;, allocationSize=100)
package hello;

5) SequenceGenerator2.java 

package hello;
@java.lang.annotation.Target(value={java.lang.annotation.ElementType.TYPE,java.lang.annotation.ElementType.METHOD,java.lang.annotation.ElementType.FIELD})
@java.lang.annotation.Retention(value=java.lang.annotation.RetentionPolicy.RUNTIME)
public abstract @interface SequenceGenerator2 {
  
  // Method descriptor #24 ()Ljava/lang/String;
  public abstract java.lang.String name();
  
  // Method descriptor #24 ()Ljava/lang/String;
  public abstract java.lang.String sequenceName() default &quot;&quot;;
  
  // Method descriptor #2 ()I
  public abstract int initialValue() default (int) 1;
  
  // Method descriptor #2 ()I
  public abstract int allocationSize() default (int) 50;

}

===

Same example with 4.5 M3 build and above steps gives the following error:
The annotation @SequenceGenerator2 is disallowed for this location

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493189</commentid>
    <comment_count>8</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-05 07:31:26 -0500</bug_when>
    <thetext>The example in Comment 7 compiles fine with 4.5 M3  with the target being set to PACKAGE:
@java.lang.annotation.Target(value={java.lang.annotation.ElementType.TYPE,
java.lang.annotation.ElementType.METHOD,java.lang.annotation.ElementType.FIELD,

java.lang.annotation.ElementType.PACKAGE})

===

The annotation values which are being missed for 4.4.1 appear in the class files
with the target set to PACKAGE.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493658</commentid>
    <comment_count>9</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-08 00:36:33 -0500</bug_when>
    <thetext>Please see Bug 433747 Comment 5 for the difference in behavior on 4_4_1 (R4_4_maintenance) and master.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493701</commentid>
    <comment_count>10</comment_count>
      <attachid>249225</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-08 02:49:13 -0500</bug_when>
    <thetext>Created attachment 249225
WIP: Patch

This is a very simple fix which solves the issue.

Set the tag bits to Package for 1.6. This leads to generation of the annotation
values in the .class file.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2496298</commentid>
    <comment_count>11</comment_count>
      <attachid>249380</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-12 07:09:13 -0500</bug_when>
    <thetext>Created attachment 249380
Patch

Patch.
All test results are good.
I have checked the test results with javac at 1.6 - 1.8. They match the corresponding behavior in javac.

There are two issues addressed in this bug.
a) The regression caused by Bug 433747 Comment 5. (see Comment 9) for 1.6.
b) The generation of annotation values at 1.6 (where it is a valid program)
in class files.

Jay,
Could you please review. The patch also needs to be ported to 4.4.2.
Could you please grant permission for that?

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2497390</commentid>
    <comment_count>12</comment_count>
      <attachid>249456</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-16 03:52:20 -0500</bug_when>
    <thetext>Created attachment 249456
Patch

Patch with updated code. 
Please have a look at Comment 11 regarding the patch.

Hi Sasi,
Could you please review.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2497941</commentid>
    <comment_count>13</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-12-17 04:26:19 -0500</bug_when>
    <thetext>Changes look good to me</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2497977</commentid>
    <comment_count>14</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-17 05:22:47 -0500</bug_when>
    <thetext>Hi Jay,
Can you please give permission to put in the code for 4.4.2.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2497995</commentid>
    <comment_count>15</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-17 05:34:10 -0500</bug_when>
    <thetext>Release on Master: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=fe7c59b2b32a0d542adaf2c2d848dcfd7c5b93b2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2497997</commentid>
    <comment_count>16</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-17 05:35:30 -0500</bug_when>
    <thetext>Hi Pal,
Could you please check with next nightly build if your hibernate project works fine without any issues.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2498176</commentid>
    <comment_count>17</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-12-17 11:52:45 -0500</bug_when>
    <thetext>What&apos;s the status of this bug? Open but released?
Please check the comment in https://git.eclipse.org/r/#/c/37875/
(it&apos;s Szymon&apos;s comment on Patch Set 4).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2498325</commentid>
    <comment_count>18</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-12-17 19:04:46 -0500</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #17)
&gt; What&apos;s the status of this bug? Open but released?
&gt; Please check the comment in https://git.eclipse.org/r/#/c/37875/
&gt; (it&apos;s Szymon&apos;s comment on Patch Set 4).

It&apos;s open for back porting, I suppose, which I am not yet sure it needs.

Shankha, please look at the failures. We either need to fix them or revert the commit.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2498415</commentid>
    <comment_count>19</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-12-18 02:42:06 -0500</bug_when>
    <thetext>Failures are visible here: http://download.eclipse.org/eclipse/downloads/drops4/N20141217-2000/testresults/html/org.eclipse.jdt.core.tests.compiler_linux.gtk.x86_64_8.0.html</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2498437</commentid>
    <comment_count>20</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-18 03:13:47 -0500</bug_when>
    <thetext>I am very sorry for the regression. This should not have happened.

I have a patch where I have backed out my fix. My local test results are fine.
I will run it on gerrit and update the bug report. 

Hi Pal,
Please ignore Comment 16. I had requested you to run it on your test case. No need for that.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2498465</commentid>
    <comment_count>21</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-18 04:08:27 -0500</bug_when>
    <thetext>Fixed the regression with:
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=da9e0d747989149b2294ed35e495d24e9b87d1b6

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2499752</commentid>
    <comment_count>22</comment_count>
      <attachid>249583</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-12-22 00:42:38 -0500</bug_when>
    <thetext>Created attachment 249583
Patch

Hi Sasi,
Could you please review the patch. Test results look fine(https://git.eclipse.org/r/#/c/38614/). Local test results are also good.

Problem:
If a annotation without the annotation target being set to PACKAGE is used on package-info.java we should allow that in 1.6 and below and generate the annotation in the class file based on the runtime policy. 

I have moved most changes from Annotation.java(resolveType) to 
internal/Compiler/ClassFile.java

A different solution other than the patch would have been to set the TagBits of 
the annotation to TagBits.AnnotationForPackage and put special checks inside 
Annotation#isAnnotationTargetAllowed ( I missed this part in my last patch). 
There are lot of special checks needed for every Annotation target and the function Annotation#isAnnotationTargetAllowed did not look good after the changes.

Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2513000</commentid>
    <comment_count>23</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-02-02 01:29:49 -0500</bug_when>
    <thetext>(In reply to comment #22)
&gt; Created attachment 249583
&gt; Patch
&gt; 
&gt; Hi Sasi,
&gt; Could you please review the patch. Test results look
&gt; fine(https://git.eclipse.org/r/#/c/38614/). Local test results are also good.
&gt; 
Looked at the patch, looks ok to me, but I have some questions to better understand the patch. Will sit with Shankha and get this done once he is back</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2515716</commentid>
    <comment_count>24</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-02-09 03:44:21 -0500</bug_when>
    <thetext>(In reply to comment #23)
&gt; (In reply to comment #22)
&gt; &gt; Created attachment 249583
&gt; &gt; Patch
&gt; &gt;
&gt; &gt; Hi Sasi,
&gt; &gt; Could you please review the patch. Test results look
&gt; &gt; fine(https://git.eclipse.org/r/#/c/38614/). Local test results are also good.
&gt; &gt;
&gt; Looked at the patch, looks ok to me, but I have some questions to better
&gt; understand the patch. Will sit with Shankha and get this done once he is back
Changes look fine to me, but the intention would probably be clearer if we interchange the if statements</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2516292</commentid>
    <comment_count>25</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-02-10 00:41:04 -0500</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/41485</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2516293</commentid>
    <comment_count>26</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-02-10 00:41:06 -0500</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/41485</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2516329</commentid>
    <comment_count>27</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2015-02-10 03:27:14 -0500</bug_when>
    <thetext>Please consider the test case in comment 7:
With the fix [1] this example compiles fine at 1.6.

The example compiles fine with javac 1.6.0_39.

[1] http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=c56ed3bd74492c5179e95d29b48fda6c6cba2ca8

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2518410</commentid>
    <comment_count>28</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2015-02-13 04:07:36 -0500</bug_when>
    <thetext>Hi Pal,
Can you please check with build I20150210-0800 or later if your hibernate project works fine.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2521610</commentid>
    <comment_count>29</comment_count>
    <who name="Pal Vojacsek">voji</who>
    <bug_when>2015-02-20 07:31:06 -0500</bug_when>
    <thetext>(In reply to shankha banerjee from comment #28)
&gt; Hi Pal,
&gt; Can you please check with build I20150210-0800 or later if your hibernate
&gt; project works fine.
&gt; 
&gt; Thanks


Hi

I tested on eclipse-SDK-I20150217-0800-win32 build, and the hibernate annotations compiled with JDK 1.6 and compliance level 1.6. On higher compliance levels (1.7, 1.8) gives &quot;The annotation @SequenceGenerator is disallowed for this location&quot; error.

Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2521681</commentid>
    <comment_count>30</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2015-02-20 09:27:33 -0500</bug_when>
    <thetext>Please See Comment 29.
The issue is resolved.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2522230</commentid>
    <comment_count>31</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2015-02-23 00:26:21 -0500</bug_when>
    <thetext>Hi Jay,
Could you please give us permission to port the patch to R4_4_maintenance.
The user is currently on 4.4 and would like to continue on 4.4.

Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2522231</commentid>
    <comment_count>32</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-02-23 00:32:32 -0500</bug_when>
    <thetext>(In reply to shankha banerjee from comment #31)
&gt; Hi Jay,
&gt; Could you please give us permission to port the patch to R4_4_maintenance.
&gt; The user is currently on 4.4 and would like to continue on 4.4.

Shankha, we ran out of time as 4.4.2 is already out.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2533295</commentid>
    <comment_count>33</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2015-03-17 23:59:01 -0400</bug_when>
    <thetext>Verified for Eclipse Mars 4.5 M6 Build id: I20150316-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>248272</attachid>
            <date>2014-10-30 06:11:00 -0400</date>
            <delta_ts>2014-10-30 06:11:05 -0400</delta_ts>
            <desc>ant and eclipse builded class files</desc>
            <filename>src_class.zip</filename>
            <type>application/x-zip-compressed</type>
            <size>912</size>
            <attacher name="Pal Vojacsek">voji</attacher>
            
              <data encoding="base64">UEsDBBQAAgAIAFdYXkUsVQZuAAEAAE0BAAAWAAAAYW50X3BhY2thZ2UtaW5mby5jbGFzc22PQU7D
QAxF/7SFQCkFJEDiACxhJJawKlIJiKoRBLGNnMSkU6YzJTNBwNFYcAAOhUgCCxZ4YVv+T7b/59f7
B4ATbAXYDDAU6Me2KjO+UJoFdpaUPVLBR8o82OM5PZPAwW1lvFrwvXIq1TwyxnryyhoncDhpmBe5
5NIp59lkLGN+qpomZMMleVueCfQMLZr1o+g6GYXj6V0yicIkHt8IDNwvP22R3cvz5B9qSFrbrD0b
qzfu1h5ygdNZJanMlXGvTubsZU5azlTKpSHPkmzjxXhti1qx8q85ge3mdanJFDJK55z5fUCgg5/o
oNvmHlbqulcrq/UkcFjDukMfG1cYfANQSwMEFAACAAgAUldeRRbQ1HKDAAAAlwAAABoAAABlY2xp
cHNlX3BhY2thZ2UtaW5mby5jbGFzc02LOw7CMBBEx+FjiQoabgErpeQAtBScYGMvjoNlI8dB4moU
HIBDIRLRMMUUb968P88XgBpao1I4tANxtj72j56sFLIcqPWN5MhFiNOVncQSkhuXRDc2E9j5eEka
c4V1x3emwNHRqenEFIXVOQ3ZyNEHUdj8P/aTvAUUZvhFYTF2heUXUEsDBBQAAgAIAFRYXkW3mOHy
kQAAALUAAAARAAAAcGFja2FnZS1pbmZvLmphdmFtysEKgkAQgOGzgu8gngpisHMIGcgGhRJ2XyYd
dGubtd01qqcvo2O3H/5vfcY7PmAg65TzxA1BTbdxCkFMFr2xsygMAsYrZUle7WQuivIo95WQdXFI
FrH7+fIrthv5D6HWpkGvDNfqRdkyTedROGBzwY7ifgS0rWL3dNCShxY19OpEltEToJkQe226zzGr
KHwDUEsBAhQAFAACAAgAV1heRSxVBm4AAQAATQEAABYAAAAAAAAAAAAgAAAAAAAAAGFudF9wYWNr
YWdlLWluZm8uY2xhc3NQSwECFAAUAAIACABSV15FFtDUcoMAAACXAAAAGgAAAAAAAAAAACAAAAA0
AQAAZWNsaXBzZV9wYWNrYWdlLWluZm8uY2xhc3NQSwECFAAUAAIACABUWF5Ft5jh8pEAAAC1AAAA
EQAAAAAAAAABACAAAADvAQAAcGFja2FnZS1pbmZvLmphdmFQSwUGAAAAAAMAAwDLAAAArwIAAAAA
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>249225</attachid>
            <date>2014-12-08 02:49:00 -0500</date>
            <delta_ts>2014-12-12 07:09:13 -0500</delta_ts>
            <desc>WIP: Patch</desc>
            <filename>patch.patch</filename>
            <type>text/plain</type>
            <size>866</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9hc3QvQW5ub3RhdGlvbi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9Bbm5v
dGF0aW9uLmphdmEKaW5kZXggYjlmZGVjYi4uMzRkZGJjOCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9Bbm5vdGF0aW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9Bbm5vdGF0aW9uLmphdmEKQEAgLTk1
Myw2ICs5NTMsOCBAQCBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQW5ub3RhdGlvbiBleHRlbmRzIEV4
cHJlc3Npb24gewogCQkJCVNvdXJjZVR5cGVCaW5kaW5nIHNvdXJjZVR5cGUgPSAoU291cmNlVHlw
ZUJpbmRpbmcpIHRoaXMucmVjaXBpZW50OwogCQkJCWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhz
b3VyY2VUeXBlLnNvdXJjZU5hbWUsIFR5cGVDb25zdGFudHMuUEFDS0FHRV9JTkZPX05BTUUpKQog
CQkJCQlraW5kID0gQmluZGluZy5QQUNLQUdFOworCQkJCWlmIChzY29wZS5jb21waWxlck9wdGlv
bnMoKS5zb3VyY2VMZXZlbCA9PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV82KQorCQkJCQlhbm5v
dGF0aW9uVHlwZS50YWdCaXRzIHw9IFRhZ0JpdHMuQW5ub3RhdGlvbkZvclBhY2thZ2U7CiAJCQl9
CiAJCQljaGVja0Fubm90YXRpb25UYXJnZXQodGhpcywgc2NvcGUsIGFubm90YXRpb25UeXBlLCBr
aW5kKTsKIAkJfQo=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>249380</attachid>
            <date>2014-12-12 07:09:00 -0500</date>
            <delta_ts>2014-12-16 03:52:20 -0500</delta_ts>
            <desc>Patch</desc>
            <filename>patch.patch</filename>
            <type>text/plain</type>
            <size>5940</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9Bbm5vdGF0aW9uVGVzdC5qYXZh
CmluZGV4IGY5ZDRhZTcuLjQ0MDRmMzQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
LnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9y
ZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3Jl
Z3Jlc3Npb24vQW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTEyMzIsMTAgKzExMjMyLDkgQEAgcHVi
bGljIHZvaWQgdGVzdDQzMzc0NygpIHRocm93cyBFeGNlcHRpb24gewogCWlmICh0aGlzLmNvbXBs
aWFuY2VMZXZlbCA8IENsYXNzRmlsZUNvbnN0YW50cy5KREsxXzUpIHsKIAkJcmV0dXJuOwogCX0K
LQl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgKLQkJbmV3IFN0cmluZ1tdIHsKKwlTdHJpbmdbXSBzcmMg
PSBuZXcgU3RyaW5nW10gewogCQkJInAvcGFja2FnZS1pbmZvLmphdmEiLAotCQkJIkBQYWNrYWdl
QW5ub3QoXCJwXCIpXG4iICsKKwkJCSJAUGFja2FnZUFubm90KFwicDEyMzQ1NlwiKVxuIiArCiAJ
CQkicGFja2FnZSBwO1xuIiArCiAJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkVsZW1l
bnRUeXBlO1xuIiArCiAJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIg
KwpAQCAtMTEyNDMsMTggKzExMjQyLDk1IEBAIHB1YmxpYyB2b2lkIHRlc3Q0MzM3NDcoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKIAkJCSJAaW50ZXJmYWNlIFBhY2thZ2VBbm5vdCB7XG4iICsKIAkJCSIJ
U3RyaW5nIHZhbHVlKCk7XG4iICsKIAkJCSJ9XG4iCi0JCX0sCi0JCSItLS0tLS0tLS0tXG4iICsg
Ci0JCSIxLiBFUlJPUiBpbiBwXFxwYWNrYWdlLWluZm8uamF2YSAoYXQgbGluZSAxKVxuIiArIAot
CQkiCUBQYWNrYWdlQW5ub3QoXCJwXCIpXG4iICsgCi0JCSIJXl5eXl5eXl5eXl5eXlxuIiArIAot
CQkiVGhlIGFubm90YXRpb24gQFBhY2thZ2VBbm5vdCBpcyBkaXNhbGxvd2VkIGZvciB0aGlzIGxv
Y2F0aW9uXG4iICsgCi0JCSItLS0tLS0tLS0tXG4iLAotCQludWxsLAotCQl0cnVlLAotCQludWxs
LAotCQl0cnVlLCAvLyBnZW5lcmF0ZSBvdXRwdXQKLQkJZmFsc2UsCi0JCWZhbHNlKTsKKwl9Owor
CWlmICh0aGlzLmNvbXBsaWFuY2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV82KSB7
CisJCXRoaXMucnVuQ29uZm9ybVRlc3Qoc3JjKTsKKwkJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0Zp
bGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwg
IiIsICJwMTIzNDU2Iik7CisJfSBlbHNlIHsKKwkJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCQlz
cmMsCisJCQkiLS0tLS0tLS0tLVxuIiArCisJCQkiMS4gRVJST1IgaW4gcFxccGFja2FnZS1pbmZv
LmphdmEgKGF0IGxpbmUgMSlcbiIgKworCQkJIglAUGFja2FnZUFubm90KFwicDEyMzQ1NlwiKVxu
IiArCisJCQkiCV5eXl5eXl5eXl5eXl5cbiIgKworCQkJIlRoZSBhbm5vdGF0aW9uIEBQYWNrYWdl
QW5ub3QgaXMgZGlzYWxsb3dlZCBmb3IgdGhpcyBsb2NhdGlvblxuIiArCisJCQkiLS0tLS0tLS0t
LVxuIiwKKwkJCW51bGwsCisJCQl0cnVlLAorCQkJbnVsbCwKKwkJCXRydWUsIC8vIGdlbmVyYXRl
IG91dHB1dAorCQkJZmFsc2UsCisJCQlmYWxzZSk7CisJfQorfQorLy8gaHR0cHM6Ly9idWdzLmVj
bGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQ0OTMzMCAtIFsxLjZdRWNsaXBzZSBjb21w
aWxlciBkb2Vzbid0IGNvbXBpbGUgYW5ub3RhdGlvbnMgaW4gY2xhc3MgZmlsZXMKK3B1YmxpYyB2
b2lkIHRlc3Q0NDkzMzAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwlTdHJpbmdbXSB0ZXN0RmlsZXMg
PSBuZXcgU3RyaW5nW10geworCQkicC9YLmphdmEiLAorCQkicGFja2FnZSBwO1xuIiArCisJCSJA
amF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KHZhbHVlPXtqYXZhLmxhbmcuYW5ub3RhdGlvbi5F
bGVtZW50VHlwZS5UWVBFfSlcbiIgKworCQkiQGphdmEubGFuZy5hbm5vdGF0aW9uLlJldGVudGlv
bih2YWx1ZT1qYXZhLmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb25Qb2xpY3kuUlVOVElNRSlcbiIg
KworCQkiQGludGVyZmFjZSBYIHsgcHVibGljIGphdmEubGFuZy5TdHJpbmcgbmFtZSgpOyB9XG4i
LAorCQkicC9wYWNrYWdlLWluZm8uamF2YSIsCisJCSJAWChuYW1lPVwiSEVMTE9cIilcbiIgKwor
CQkicGFja2FnZSBwO1xuIgorCX07CisJaWYgKHRoaXMuY29tcGxpYW5jZUxldmVsIDw9IENsYXNz
RmlsZUNvbnN0YW50cy5KREsxXzYpIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCh0ZXN0RmlsZXMs
ICIiKTsKKwkJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0ZpbGUoT1VUUFVUX0RJUiArIEZpbGUuc2Vw
YXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwgIiIsICJIRUxMTyIpOworCX0gZWxzZSB7
CisJCXRoaXMucnVuTmVnYXRpdmVUZXN0KHRlc3RGaWxlcywKKwkJCSItLS0tLS0tLS0tXG4iICsK
KwkJCSIxLiBFUlJPUiBpbiBwXFxwYWNrYWdlLWluZm8uamF2YSAoYXQgbGluZSAxKVxuIiArCisJ
CQkiCUBYKG5hbWU9XCJIRUxMT1wiKVxuIiArCisJCQkiCV5eXG4iICsKKwkJCSJUaGUgYW5ub3Rh
dGlvbiBAWCBpcyBkaXNhbGxvd2VkIGZvciB0aGlzIGxvY2F0aW9uXG4iICsKKwkJCSItLS0tLS0t
LS0tXG4iKTsKIAl9CiB9CisvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVn
LmNnaT9pZD00NDkzMzAgLSBbMS42XUVjbGlwc2UgY29tcGlsZXIgZG9lc24ndCBjb21waWxlIGFu
bm90YXRpb25zIGluIGNsYXNzIGZpbGVzCisvLyBBbm5vdGF0aW9uIHRhcmdldCBub3Qgc2V0Citw
dWJsaWMgdm9pZCB0ZXN0NDQ5MzMwYSgpIHRocm93cyBFeGNlcHRpb24geworCVN0cmluZ1tdIHRl
c3RGaWxlcyA9IG5ldyBTdHJpbmdbXSB7CisJCSJwL1guamF2YSIsCisJCSJwYWNrYWdlIHA7XG4i
ICsKKwkJIkBqYXZhLmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb24odmFsdWU9amF2YS5sYW5nLmFu
bm90YXRpb24uUmV0ZW50aW9uUG9saWN5LlJVTlRJTUUpXG4iICsKKwkJIkBpbnRlcmZhY2UgWCB7
IHB1YmxpYyBqYXZhLmxhbmcuU3RyaW5nIG5hbWUoKTsgfVxuIiwKKwkJInAvcGFja2FnZS1pbmZv
LmphdmEiLAorCQkiQFgobmFtZT1cIkhFTExPXCIpXG4iICsKKwkJInBhY2thZ2UgcDtcbiIKKwl9
OworCXRoaXMucnVuQ29uZm9ybVRlc3QodGVzdEZpbGVzLCAiIik7CisJY2hlY2tEaXNhc3NlbWJs
ZWRDbGFzc0ZpbGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZv
LmNsYXNzIiwgIiIsICJIRUxMTyIpOworfQorLy9odHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVn
cy9zaG93X2J1Zy5jZ2k/aWQ9NDQ5MzMwIC0gWzEuNl1FY2xpcHNlIGNvbXBpbGVyIGRvZXNuJ3Qg
Y29tcGlsZSBhbm5vdGF0aW9ucyBpbiBjbGFzcyBmaWxlcworLy8gQW5ub3RhdGlvbiB0YXJnZXQg
c2V0IGFzIFBBQ0tBR0UKK3B1YmxpYyB2b2lkIHRlc3Q0NDkzMzBiKCkgdGhyb3dzIEV4Y2VwdGlv
biB7CisJU3RyaW5nW10gdGVzdEZpbGVzID0gbmV3IFN0cmluZ1tdIHsKKwkJInAvWC5qYXZhIiwK
KwkJInBhY2thZ2UgcDtcbiIgKworCQkiQGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldCh2YWx1
ZT17amF2YS5sYW5nLmFubm90YXRpb24uRWxlbWVudFR5cGUuUEFDS0FHRX0pXG4iICsKKwkJIkBq
YXZhLmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb24odmFsdWU9amF2YS5sYW5nLmFubm90YXRpb24u
UmV0ZW50aW9uUG9saWN5LlJVTlRJTUUpXG4iICsKKwkJIkBpbnRlcmZhY2UgWCB7IHB1YmxpYyBq
YXZhLmxhbmcuU3RyaW5nIG5hbWUoKTsgfVxuIiwKKwkJInAvcGFja2FnZS1pbmZvLmphdmEiLAor
CQkiQFgobmFtZT1cIkhFTExPXCIpXG4iICsKKwkJInBhY2thZ2UgcDtcbiIKKwl9OworCXRoaXMu
cnVuQ29uZm9ybVRlc3QodGVzdEZpbGVzLCAiIik7CisJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0Zp
bGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwg
IiIsICJIRUxMTyIpOworfQorLy9odHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1
Zy5jZ2k/aWQ9NDQ5MzMwIC0gWzEuNl1FY2xpcHNlIGNvbXBpbGVyIGRvZXNuJ3QgY29tcGlsZSBh
bm5vdGF0aW9ucyBpbiBjbGFzcyBmaWxlcworLy9Bbm5vdGF0aW9uIE5vIFRBUkdFVCwgTm8gUmV0
ZW50aW9uIFBvbGljeQorcHVibGljIHZvaWQgdGVzdDQ0OTMzMGMoKSB0aHJvd3MgRXhjZXB0aW9u
IHsKKwlTdHJpbmdbXSB0ZXN0RmlsZXMgPSBuZXcgU3RyaW5nW10geworCQkicC9YLmphdmEiLAor
CQkicGFja2FnZSBwO1xuIiArCisJCSJAaW50ZXJmYWNlIFggeyBwdWJsaWMgamF2YS5sYW5nLlN0
cmluZyBuYW1lKCk7IH1cbiIsCisJCSJwL3BhY2thZ2UtaW5mby5qYXZhIiwKKwkJIkBYKG5hbWU9
XCJIRUxMT1wiKVxuIiArCisJCSJwYWNrYWdlIHA7XG4iCisJfTsKKwl0aGlzLnJ1bkNvbmZvcm1U
ZXN0KHRlc3RGaWxlcywgIiIpOworCWNoZWNrRGlzYXNzZW1ibGVkQ2xhc3NGaWxlKE9VVFBVVF9E
SVIgKyBGaWxlLnNlcGFyYXRvciArICJwL3BhY2thZ2UtaW5mby5jbGFzcyIsICIiLCAiSEVMTE8i
KTsKK30KK30KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQW5ub3RhdGlvbi5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2FzdC9Bbm5vdGF0aW9uLmphdmEKaW5kZXggYjlmZGVjYi4uM2MyMzdmYyAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2FzdC9Bbm5vdGF0aW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9Bbm5vdGF0aW9uLmph
dmEKQEAgLTk1MSw4ICs5NTEsMTMgQEAgcHVibGljIGFic3RyYWN0IGNsYXNzIEFubm90YXRpb24g
ZXh0ZW5kcyBFeHByZXNzaW9uIHsKIAkJCX0gCiAJCQlpZiAoa2luZCA9PSBCaW5kaW5nLlRZUEUp
IHsKIAkJCQlTb3VyY2VUeXBlQmluZGluZyBzb3VyY2VUeXBlID0gKFNvdXJjZVR5cGVCaW5kaW5n
KSB0aGlzLnJlY2lwaWVudDsKLQkJCQlpZiAoQ2hhck9wZXJhdGlvbi5lcXVhbHMoc291cmNlVHlw
ZS5zb3VyY2VOYW1lLCBUeXBlQ29uc3RhbnRzLlBBQ0tBR0VfSU5GT19OQU1FKSkKKwkJCQlpZiAo
Q2hhck9wZXJhdGlvbi5lcXVhbHMoc291cmNlVHlwZS5zb3VyY2VOYW1lLCBUeXBlQ29uc3RhbnRz
LlBBQ0tBR0VfSU5GT19OQU1FKSkgewogCQkJCQlraW5kID0gQmluZGluZy5QQUNLQUdFOworCQkJ
CQlpZiAoc2NvcGUuY29tcGlsZXJPcHRpb25zKCkuc291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29u
c3RhbnRzLkpESzFfNiAmJgorCQkJCQkJCShhbm5vdGF0aW9uVHlwZS50YWdCaXRzICYgVGFnQml0
cy5Bbm5vdGF0aW9uRm9yUGFja2FnZSkgPT0gMCkgeworCQkJCQkJYW5ub3RhdGlvblR5cGUudGFn
Qml0cyB8PSBUYWdCaXRzLkFubm90YXRpb25Gb3JQYWNrYWdlOworCQkJCQl9CisJCQkJfQogCQkJ
fQogCQkJY2hlY2tBbm5vdGF0aW9uVGFyZ2V0KHRoaXMsIHNjb3BlLCBhbm5vdGF0aW9uVHlwZSwg
a2luZCk7CiAJCX0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>249456</attachid>
            <date>2014-12-16 03:52:00 -0500</date>
            <delta_ts>2014-12-22 00:42:38 -0500</delta_ts>
            <desc>Patch</desc>
            <filename>patch.patch</filename>
            <type>text/plain</type>
            <size>4463</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9Bbm5vdGF0aW9uVGVzdC5qYXZh
CmluZGV4IGY5ZDRhZTcuLjVhMTg0MzMgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
LnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9y
ZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3Jl
Z3Jlc3Npb24vQW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTEyMzIsMTAgKzExMjMyLDkgQEAgcHVi
bGljIHZvaWQgdGVzdDQzMzc0NygpIHRocm93cyBFeGNlcHRpb24gewogCWlmICh0aGlzLmNvbXBs
aWFuY2VMZXZlbCA8IENsYXNzRmlsZUNvbnN0YW50cy5KREsxXzUpIHsKIAkJcmV0dXJuOwogCX0K
LQl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgKLQkJbmV3IFN0cmluZ1tdIHsKKwlTdHJpbmdbXSBzcmMg
PSBuZXcgU3RyaW5nW10gewogCQkJInAvcGFja2FnZS1pbmZvLmphdmEiLAotCQkJIkBQYWNrYWdl
QW5ub3QoXCJwXCIpXG4iICsKKwkJCSJAUGFja2FnZUFubm90KFwicDEyMzQ1NlwiKVxuIiArCiAJ
CQkicGFja2FnZSBwO1xuIiArCiAJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLkVsZW1l
bnRUeXBlO1xuIiArCiAJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIg
KwpAQCAtMTEyNDMsMTggKzExMjQyLDYzIEBAIHB1YmxpYyB2b2lkIHRlc3Q0MzM3NDcoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKIAkJCSJAaW50ZXJmYWNlIFBhY2thZ2VBbm5vdCB7XG4iICsKIAkJCSIJ
U3RyaW5nIHZhbHVlKCk7XG4iICsKIAkJCSJ9XG4iCi0JCX0sCi0JCSItLS0tLS0tLS0tXG4iICsg
Ci0JCSIxLiBFUlJPUiBpbiBwXFxwYWNrYWdlLWluZm8uamF2YSAoYXQgbGluZSAxKVxuIiArIAot
CQkiCUBQYWNrYWdlQW5ub3QoXCJwXCIpXG4iICsgCi0JCSIJXl5eXl5eXl5eXl5eXlxuIiArIAot
CQkiVGhlIGFubm90YXRpb24gQFBhY2thZ2VBbm5vdCBpcyBkaXNhbGxvd2VkIGZvciB0aGlzIGxv
Y2F0aW9uXG4iICsgCi0JCSItLS0tLS0tLS0tXG4iLAotCQludWxsLAotCQl0cnVlLAotCQludWxs
LAotCQl0cnVlLCAvLyBnZW5lcmF0ZSBvdXRwdXQKLQkJZmFsc2UsCi0JCWZhbHNlKTsKKwl9Owor
CWlmICh0aGlzLmNvbXBsaWFuY2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV82KSB7
CisJCXRoaXMucnVuQ29uZm9ybVRlc3Qoc3JjKTsKKwkJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0Zp
bGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwg
IiIsICJwMTIzNDU2Iik7CisJfSBlbHNlIHsKKwkJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCQlz
cmMsCisJCQkiLS0tLS0tLS0tLVxuIiArCisJCQkiMS4gRVJST1IgaW4gcFxccGFja2FnZS1pbmZv
LmphdmEgKGF0IGxpbmUgMSlcbiIgKworCQkJIglAUGFja2FnZUFubm90KFwicDEyMzQ1NlwiKVxu
IiArCisJCQkiCV5eXl5eXl5eXl5eXl5cbiIgKworCQkJIlRoZSBhbm5vdGF0aW9uIEBQYWNrYWdl
QW5ub3QgaXMgZGlzYWxsb3dlZCBmb3IgdGhpcyBsb2NhdGlvblxuIiArCisJCQkiLS0tLS0tLS0t
LVxuIiwKKwkJCW51bGwsCisJCQl0cnVlLAorCQkJbnVsbCwKKwkJCXRydWUsIC8vIGdlbmVyYXRl
IG91dHB1dAorCQkJZmFsc2UsCisJCQlmYWxzZSk7CisJfQorfQorLy8gaHR0cHM6Ly9idWdzLmVj
bGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQ0OTMzMCAtIFsxLjZdRWNsaXBzZSBjb21w
aWxlciBkb2Vzbid0IGNvbXBpbGUgYW5ub3RhdGlvbnMgaW4gY2xhc3MgZmlsZXMKK3B1YmxpYyB2
b2lkIHRlc3Q0NDkzMzAoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwlTdHJpbmdbXSB0ZXN0RmlsZXMg
PSBuZXcgU3RyaW5nW10geworCQkicC9YLmphdmEiLAorCQkicGFja2FnZSBwO1xuIiArCisJCSJA
amF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KHZhbHVlPXtqYXZhLmxhbmcuYW5ub3RhdGlvbi5F
bGVtZW50VHlwZS5UWVBFfSlcbiIgKworCQkiQGludGVyZmFjZSBYIHsgcHVibGljIGphdmEubGFu
Zy5TdHJpbmcgbmFtZSgpOyB9XG4iLAorCQkicC9wYWNrYWdlLWluZm8uamF2YSIsCisJCSJAWChu
YW1lPVwiSEVMTE9cIilcbiIgKworCQkicGFja2FnZSBwO1xuIgorCX07CisJaWYgKHRoaXMuY29t
cGxpYW5jZUxldmVsIDw9IENsYXNzRmlsZUNvbnN0YW50cy5KREsxXzYpIHsKKwkJdGhpcy5ydW5D
b25mb3JtVGVzdCh0ZXN0RmlsZXMsICIiKTsKKwkJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0ZpbGUo
T1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwgIiIs
ICJIRUxMTyIpOworCX0gZWxzZSB7CisJCXRoaXMucnVuTmVnYXRpdmVUZXN0KHRlc3RGaWxlcywK
KwkJCSItLS0tLS0tLS0tXG4iICsKKwkJCSIxLiBFUlJPUiBpbiBwXFxwYWNrYWdlLWluZm8uamF2
YSAoYXQgbGluZSAxKVxuIiArCisJCQkiCUBYKG5hbWU9XCJIRUxMT1wiKVxuIiArCisJCQkiCV5e
XG4iICsKKwkJCSJUaGUgYW5ub3RhdGlvbiBAWCBpcyBkaXNhbGxvd2VkIGZvciB0aGlzIGxvY2F0
aW9uXG4iICsKKwkJCSItLS0tLS0tLS0tXG4iKTsKIAl9CiB9CisvL2h0dHBzOi8vYnVncy5lY2xp
cHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD00NDkzMzAgLSBbMS42XUVjbGlwc2UgY29tcGls
ZXIgZG9lc24ndCBjb21waWxlIGFubm90YXRpb25zIGluIGNsYXNzIGZpbGVzCisvLyBBbm5vdGF0
aW9uIHRhcmdldCBub3Qgc2V0CitwdWJsaWMgdm9pZCB0ZXN0NDQ5MzMwYSgpIHRocm93cyBFeGNl
cHRpb24geworCVN0cmluZ1tdIHRlc3RGaWxlcyA9IG5ldyBTdHJpbmdbXSB7CisJCSJwL1guamF2
YSIsCisJCSJwYWNrYWdlIHA7XG4iICsKKwkJIkBpbnRlcmZhY2UgWCB7IHB1YmxpYyBqYXZhLmxh
bmcuU3RyaW5nIG5hbWUoKTsgfVxuIiwKKwkJInAvcGFja2FnZS1pbmZvLmphdmEiLAorCQkiQFgo
bmFtZT1cIkhFTExPXCIpXG4iICsKKwkJInBhY2thZ2UgcDtcbiIKKwl9OworCXRoaXMucnVuQ29u
Zm9ybVRlc3QodGVzdEZpbGVzLCAiIik7CisJY2hlY2tEaXNhc3NlbWJsZWRDbGFzc0ZpbGUoT1VU
UFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgInAvcGFja2FnZS1pbmZvLmNsYXNzIiwgIiIsICJI
RUxMTyIpOworfQorfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9Bbm5vdGF0aW9uLmphdmEgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29t
cGlsZXIvYXN0L0Fubm90YXRpb24uamF2YQppbmRleCBiOWZkZWNiLi4zYzIzN2ZjIDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L0Fubm90YXRpb24uamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0Fubm90YXRp
b24uamF2YQpAQCAtOTUxLDggKzk1MSwxMyBAQCBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQW5ub3Rh
dGlvbiBleHRlbmRzIEV4cHJlc3Npb24gewogCQkJfSAKIAkJCWlmIChraW5kID09IEJpbmRpbmcu
VFlQRSkgewogCQkJCVNvdXJjZVR5cGVCaW5kaW5nIHNvdXJjZVR5cGUgPSAoU291cmNlVHlwZUJp
bmRpbmcpIHRoaXMucmVjaXBpZW50OwotCQkJCWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhzb3Vy
Y2VUeXBlLnNvdXJjZU5hbWUsIFR5cGVDb25zdGFudHMuUEFDS0FHRV9JTkZPX05BTUUpKQorCQkJ
CWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhzb3VyY2VUeXBlLnNvdXJjZU5hbWUsIFR5cGVDb25z
dGFudHMuUEFDS0FHRV9JTkZPX05BTUUpKSB7CiAJCQkJCWtpbmQgPSBCaW5kaW5nLlBBQ0tBR0U7
CisJCQkJCWlmIChzY29wZS5jb21waWxlck9wdGlvbnMoKS5zb3VyY2VMZXZlbCA8PSBDbGFzc0Zp
bGVDb25zdGFudHMuSkRLMV82ICYmCisJCQkJCQkJKGFubm90YXRpb25UeXBlLnRhZ0JpdHMgJiBU
YWdCaXRzLkFubm90YXRpb25Gb3JQYWNrYWdlKSA9PSAwKSB7CisJCQkJCQlhbm5vdGF0aW9uVHlw
ZS50YWdCaXRzIHw9IFRhZ0JpdHMuQW5ub3RhdGlvbkZvclBhY2thZ2U7CisJCQkJCX0KKwkJCQl9
CiAJCQl9CiAJCQljaGVja0Fubm90YXRpb25UYXJnZXQodGhpcywgc2NvcGUsIGFubm90YXRpb25U
eXBlLCBraW5kKTsKIAkJfQo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>249583</attachid>
            <date>2014-12-22 00:42:00 -0500</date>
            <delta_ts>2014-12-22 00:42:38 -0500</delta_ts>
            <desc>Patch</desc>
            <filename>patch.patch</filename>
            <type>text/plain</type>
            <size>7091</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9Bbm5vdGF0aW9uVGVzdC5qYXZh
CmluZGV4IGEyYzU5MTguLmU5ZWZmN2MgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
LnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9y
ZWdyZXNzaW9uL0Fubm90YXRpb25UZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3Jl
Z3Jlc3Npb24vQW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTEyNDQsNiArMTEyNDQsMTAgQEAgcHVi
bGljIHZvaWQgdGVzdDQzMzc0NygpIHRocm93cyBFeGNlcHRpb24gewogCQkJIglTdHJpbmcgdmFs
dWUoKTtcbiIgKwogCQkJIn1cbiIKIAl9OworCWlmICh0aGlzLmNvbXBsaWFuY2VMZXZlbCA8PSBD
bGFzc0ZpbGVDb25zdGFudHMuSkRLMV82KSB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3Qoc3JjLCAi
Iik7CisJCWNoZWNrRGlzYXNzZW1ibGVkQ2xhc3NGaWxlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFy
YXRvciArICJwL3BhY2thZ2UtaW5mby5jbGFzcyIsICIiLCAicDEyMzQ1NiIpOworCX0gZWxzZSB7
CiAJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCiAJCQlzcmMsCiAJCQkiLS0tLS0tLS0tLVxuIiArCkBA
IC0xMTI1OCwxMyArMTEyNjIsNDAgQEAgcHVibGljIHZvaWQgdGVzdDQzMzc0NygpIHRocm93cyBF
eGNlcHRpb24gewogCQkJdHJ1ZSwgLy8gZ2VuZXJhdGUgb3V0cHV0CiAJCQlmYWxzZSwKIAkJCWZh
bHNlKTsKKwl9CiB9CiAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5j
Z2k/aWQ9NDQ5MzMwIC0gWzEuNl1FY2xpcHNlIGNvbXBpbGVyIGRvZXNuJ3QgY29tcGlsZSBhbm5v
dGF0aW9ucyBpbiBjbGFzcyBmaWxlcwotcHVibGljIHZvaWQgX3Rlc3Q0NDkzMzAoKSB0aHJvd3Mg
RXhjZXB0aW9uIHsKK3B1YmxpYyB2b2lkIHRlc3Q0NDkzMzAoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KwlTdHJpbmdbXSB0ZXN0RmlsZXMgPSBuZXcgU3RyaW5nW10geworCQkicC9YLmphdmEiLAorCQki
cGFja2FnZSBwO1xuIiArCisJCSJAamF2YS5sYW5nLmFubm90YXRpb24uVGFyZ2V0KHZhbHVlPXtq
YXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS5UWVBFfSlcbiIgKworCQkiQGludGVyZmFj
ZSBYIHsgcHVibGljIGphdmEubGFuZy5TdHJpbmcgbmFtZSgpOyB9XG4iLAorCQkicC9wYWNrYWdl
LWluZm8uamF2YSIsCisJCSJAWChuYW1lPVwiSEVMTE9cIilcbiIgKworCQkicGFja2FnZSBwO1xu
IgorCX07CisJaWYgKHRoaXMuY29tcGxpYW5jZUxldmVsIDw9IENsYXNzRmlsZUNvbnN0YW50cy5K
REsxXzYpIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCh0ZXN0RmlsZXMpOworCQljaGVja0Rpc2Fz
c2VtYmxlZENsYXNzRmlsZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAicC9wYWNrYWdl
LWluZm8uY2xhc3MiLCAiIiwgIkhFTExPIik7CisJfSBlbHNlIHsKKwkJdGhpcy5ydW5OZWdhdGl2
ZVRlc3QodGVzdEZpbGVzLAorCQkJIi0tLS0tLS0tLS1cbiIgKworCQkJIjEuIEVSUk9SIGluIHBc
XHBhY2thZ2UtaW5mby5qYXZhIChhdCBsaW5lIDEpXG4iICsKKwkJCSIJQFgobmFtZT1cIkhFTExP
XCIpXG4iICsKKwkJCSIJXl5cbiIgKworCQkJIlRoZSBhbm5vdGF0aW9uIEBYIGlzIGRpc2FsbG93
ZWQgZm9yIHRoaXMgbG9jYXRpb25cbiIgKworCQkJIi0tLS0tLS0tLS1cbiIpOworCX0KK30KKy8v
aHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQ0OTMzMCAtIFsx
LjZdRWNsaXBzZSBjb21waWxlciBkb2Vzbid0IGNvbXBpbGUgYW5ub3RhdGlvbnMgaW4gY2xhc3Mg
ZmlsZXMKKy8vUmV0ZW50aW9uIFBvbGljeSBzZXQgdG8gUlVOVElNRQorcHVibGljIHZvaWQgdGVz
dDQ0OTMzMGEoKSB0aHJvd3MgRXhjZXB0aW9uIHsKIAlTdHJpbmdbXSB0ZXN0RmlsZXMgPSBuZXcg
U3RyaW5nW10gewogCQkicC9YLmphdmEiLAogCQkicGFja2FnZSBwO1xuIiArCiAJCSJAamF2YS5s
YW5nLmFubm90YXRpb24uVGFyZ2V0KHZhbHVlPXtqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50
VHlwZS5UWVBFfSlcbiIgKworCQkiQGphdmEubGFuZy5hbm5vdGF0aW9uLlJldGVudGlvbihqYXZh
LmxhbmcuYW5ub3RhdGlvbi5SZXRlbnRpb25Qb2xpY3kuUlVOVElNRSlcbiIgKwkKIAkJIkBpbnRl
cmZhY2UgWCB7IHB1YmxpYyBqYXZhLmxhbmcuU3RyaW5nIG5hbWUoKTsgfVxuIiwKIAkJInAvcGFj
a2FnZS1pbmZvLmphdmEiLAogCQkiQFgobmFtZT1cIkhFTExPXCIpXG4iICsKQEAgLTExMjg1LDcg
KzExMzE2LDcgQEAgcHVibGljIHZvaWQgX3Rlc3Q0NDkzMzAoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
IH0KIC8vaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTQ0OTMz
MCAtIFsxLjZdRWNsaXBzZSBjb21waWxlciBkb2Vzbid0IGNvbXBpbGUgYW5ub3RhdGlvbnMgaW4g
Y2xhc3MgZmlsZXMKIC8vIEFubm90YXRpb24gdGFyZ2V0IG5vdCBzZXQKLXB1YmxpYyB2b2lkIF90
ZXN0NDQ5MzMwYSgpIHRocm93cyBFeGNlcHRpb24geworcHVibGljIHZvaWQgdGVzdDQ0OTMzMGIo
KSB0aHJvd3MgRXhjZXB0aW9uIHsKIAlTdHJpbmdbXSB0ZXN0RmlsZXMgPSBuZXcgU3RyaW5nW10g
ewogCQkicC9YLmphdmEiLAogCQkicGFja2FnZSBwO1xuIiArCmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
Q2xhc3NGaWxlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvQ2xhc3NGaWxlLmphdmEKaW5kZXggMzJkOWY1MS4uMWE0
ZGExMCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL0NsYXNzRmlsZS5qYXZhCisrKyBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9DbGFz
c0ZpbGUuamF2YQpAQCAtMzU3NSw2ICszNTc1LDE0IEBAIHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGUg
aW1wbGVtZW50cyBUeXBlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkJfQogCX0KIAorCXByaXZhdGUg
Ym9vbGVhbiBqZGsxNnBhY2thZ2VJbmZvQW5ub3RhdGlvbihmaW5hbCBsb25nIGFubm90YXRpb25N
YXNrLCBmaW5hbCBsb25nIHRhcmdldE1hc2spIHsKKwkJaWYgKHRoaXMudGFyZ2V0SkRLIDw9IENs
YXNzRmlsZUNvbnN0YW50cy5KREsxXzYgJiYKKwkJCQl0YXJnZXRNYXNrID09IFRhZ0JpdHMuQW5u
b3RhdGlvbkZvclBhY2thZ2UgJiYgYW5ub3RhdGlvbk1hc2sgIT0gMCAmJgorCQkJCShhbm5vdGF0
aW9uTWFzayAmIFRhZ0JpdHMuQW5ub3RhdGlvbkZvclBhY2thZ2UpID09IDApIHsKKwkJCXJldHVy
biB0cnVlOworCQl9CisJCXJldHVybiBmYWxzZTsKKwl9CiAJLyoqCiAJICogQHBhcmFtIGFubm90
YXRpb25zCiAJICogQHBhcmFtIHRhcmdldE1hc2sgYWxsb3dlZCB0YXJnZXRzCkBAIC0zNTg5LDcg
KzM1OTcsOSBAQCBwdWJsaWMgY2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVudHMgVHlwZUNvbnN0YW50
cywgVHlwZUlkcyB7CiAJCQlBbm5vdGF0aW9uIGFubm90YXRpb247CiAJCQlpZiAoKGFubm90YXRp
b24gPSBhbm5vdGF0aW9uc1tpXS5nZXRQZXJzaXN0aWJsZUFubm90YXRpb24oKSkgPT0gbnVsbCkg
Y29udGludWU7IC8vIGFscmVhZHkgcGFja2FnZWQgaW50byBjb250YWluZXIuCiAJCQlsb25nIGFu
bm90YXRpb25NYXNrID0gYW5ub3RhdGlvbi5yZXNvbHZlZFR5cGUgIT0gbnVsbCA/IGFubm90YXRp
b24ucmVzb2x2ZWRUeXBlLmdldEFubm90YXRpb25UYWdCaXRzKCkgJiBUYWdCaXRzLkFubm90YXRp
b25UYXJnZXRNQVNLIDogMDsKLQkJCWlmIChhbm5vdGF0aW9uTWFzayAhPSAwICYmIChhbm5vdGF0
aW9uTWFzayAmIHRhcmdldE1hc2spID09IDApIGNvbnRpbnVlOworCQkJaWYgKCFqZGsxNnBhY2th
Z2VJbmZvQW5ub3RhdGlvbihhbm5vdGF0aW9uTWFzaywgdGFyZ2V0TWFzaykpIHsKKwkJCQlpZiAo
YW5ub3RhdGlvbk1hc2sgIT0gMCAmJiAoYW5ub3RhdGlvbk1hc2sgJiB0YXJnZXRNYXNrKSA9PSAw
KSBjb250aW51ZTsKKwkJCX0KIAkJCWlmIChhbm5vdGF0aW9uLmlzUnVudGltZUludmlzaWJsZSgp
IHx8IGFubm90YXRpb24uaXNSdW50aW1lVHlwZUludmlzaWJsZSgpKSB7CiAJCQkJaW52aXNpYmxl
QW5ub3RhdGlvbnNDb3VudGVyKys7CiAJCQl9IGVsc2UgaWYgKGFubm90YXRpb24uaXNSdW50aW1l
VmlzaWJsZSgpIHx8IGFubm90YXRpb24uaXNSdW50aW1lVHlwZVZpc2libGUoKSkgewpAQCAtMzYy
MCw3ICszNjMwLDkgQEAgcHVibGljIGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5cGVDb25z
dGFudHMsIFR5cGVJZHMgewogCQkJCUFubm90YXRpb24gYW5ub3RhdGlvbjsKIAkJCQlpZiAoKGFu
bm90YXRpb24gPSBhbm5vdGF0aW9uc1tpXS5nZXRQZXJzaXN0aWJsZUFubm90YXRpb24oKSkgPT0g
bnVsbCkgY29udGludWU7IC8vIGFscmVhZHkgcGFja2FnZWQgaW50byBjb250YWluZXIuCiAJCQkJ
bG9uZyBhbm5vdGF0aW9uTWFzayA9IGFubm90YXRpb24ucmVzb2x2ZWRUeXBlICE9IG51bGwgPyBh
bm5vdGF0aW9uLnJlc29sdmVkVHlwZS5nZXRBbm5vdGF0aW9uVGFnQml0cygpICYgVGFnQml0cy5B
bm5vdGF0aW9uVGFyZ2V0TUFTSyA6IDA7Ci0JCQkJaWYgKGFubm90YXRpb25NYXNrICE9IDAgJiYg
KGFubm90YXRpb25NYXNrICYgdGFyZ2V0TWFzaykgPT0gMCkgY29udGludWU7CisJCQkJaWYgKCFq
ZGsxNnBhY2thZ2VJbmZvQW5ub3RhdGlvbihhbm5vdGF0aW9uTWFzaywgdGFyZ2V0TWFzaykpIHsK
KwkJCQkJaWYgKGFubm90YXRpb25NYXNrICE9IDAgJiYgKGFubm90YXRpb25NYXNrICYgdGFyZ2V0
TWFzaykgPT0gMCkgY29udGludWU7CisJCQkJfQogCQkJCWlmIChhbm5vdGF0aW9uLmlzUnVudGlt
ZUludmlzaWJsZSgpIHx8IGFubm90YXRpb24uaXNSdW50aW1lVHlwZUludmlzaWJsZSgpKSB7CiAJ
CQkJCWludCBjdXJyZW50QW5ub3RhdGlvbk9mZnNldCA9IHRoaXMuY29udGVudHNPZmZzZXQ7CiAJ
CQkJCWdlbmVyYXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uLCBjdXJyZW50QW5ub3RhdGlvbk9mZnNl
dCk7CkBAIC0zNjcwLDcgKzM2ODIsOSBAQCBwdWJsaWMgY2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVu
dHMgVHlwZUNvbnN0YW50cywgVHlwZUlkcyB7CiAJCQkJQW5ub3RhdGlvbiBhbm5vdGF0aW9uOwog
CQkJCWlmICgoYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2ldLmdldFBlcnNpc3RpYmxlQW5ub3Rh
dGlvbigpKSA9PSBudWxsKSBjb250aW51ZTsgLy8gYWxyZWFkeSBwYWNrYWdlZCBpbnRvIGNvbnRh
aW5lci4KIAkJCQlsb25nIGFubm90YXRpb25NYXNrID0gYW5ub3RhdGlvbi5yZXNvbHZlZFR5cGUg
IT0gbnVsbCA/IGFubm90YXRpb24ucmVzb2x2ZWRUeXBlLmdldEFubm90YXRpb25UYWdCaXRzKCkg
JiBUYWdCaXRzLkFubm90YXRpb25UYXJnZXRNQVNLIDogMDsKLQkJCQlpZiAoYW5ub3RhdGlvbk1h
c2sgIT0gMCAmJiAoYW5ub3RhdGlvbk1hc2sgJiB0YXJnZXRNYXNrKSA9PSAwKSBjb250aW51ZTsK
KwkJCQlpZiAoIWpkazE2cGFja2FnZUluZm9Bbm5vdGF0aW9uKGFubm90YXRpb25NYXNrLCB0YXJn
ZXRNYXNrKSkgeworCQkJCQlpZiAoYW5ub3RhdGlvbk1hc2sgIT0gMCAmJiAoYW5ub3RhdGlvbk1h
c2sgJiB0YXJnZXRNYXNrKSA9PSAwKSBjb250aW51ZTsKKwkJCQl9CiAJCQkJaWYgKGFubm90YXRp
b24uaXNSdW50aW1lVmlzaWJsZSgpIHx8IGFubm90YXRpb24uaXNSdW50aW1lVHlwZVZpc2libGUo
KSkgewogCQkJCQl2aXNpYmxlQW5ub3RhdGlvbnNDb3VudGVyLS07CiAJCQkJCWludCBjdXJyZW50
QW5ub3RhdGlvbk9mZnNldCA9IHRoaXMuY29udGVudHNPZmZzZXQ7CmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvYXN0L0Fubm90YXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQW5ub3RhdGlvbi5qYXZhCmluZGV4
IGI5ZmRlY2IuLjljNDkwNTIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQW5ub3RhdGlvbi5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9hc3QvQW5ub3RhdGlvbi5qYXZhCkBAIC05ODgsNiArOTg4LDExIEBAIHB1
YmxpYyBhYnN0cmFjdCBjbGFzcyBBbm5vdGF0aW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7CiAJCQlj
YXNlIEJpbmRpbmcuUEFDS0FHRSA6CiAJCQkJaWYgKChtZXRhVGFnQml0cyAmIFRhZ0JpdHMuQW5u
b3RhdGlvbkZvclBhY2thZ2UpICE9IDApCiAJCQkJCXJldHVybiB0cnVlOworCQkJCWVsc2UgaWYg
KHNjb3BlLmNvbXBpbGVyT3B0aW9ucygpLnNvdXJjZUxldmVsIDw9IENsYXNzRmlsZUNvbnN0YW50
cy5KREsxXzYpIHsKKwkJCQkJU291cmNlVHlwZUJpbmRpbmcgc291cmNlVHlwZSA9IChTb3VyY2VU
eXBlQmluZGluZykgYW5ub3RhdGlvbi5yZWNpcGllbnQ7CisJCQkJCWlmIChDaGFyT3BlcmF0aW9u
LmVxdWFscyhzb3VyY2VUeXBlLnNvdXJjZU5hbWUsIFR5cGVDb25zdGFudHMuUEFDS0FHRV9JTkZP
X05BTUUpKQorCQkJCQkJcmV0dXJuIHRydWU7CisJCQkJfQogCQkJCWJyZWFrOwogCQkJY2FzZSBC
aW5kaW5nLlRZUEVfVVNFIDoKIAkJCQlpZiAoKG1ldGFUYWdCaXRzICYgVGFnQml0cy5Bbm5vdGF0
aW9uRm9yVHlwZVVzZSkgIT0gMCkgewo=
</data>
<flag name="review"
          id="63907"
          type_id="6"
          status="?"
          setter="shankhba"
    />
          </attachment>
      

    </bug>

</bugzilla>