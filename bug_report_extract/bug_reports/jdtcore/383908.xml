<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>383908</bug_id>
          
          <creation_ts>2012-06-29 10:26:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] Explicit this parameter interferes with method overloading/resolution.</short_desc>
          <delta_ts>2012-08-21 02:51:21 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>287648</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>markus_keller</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2131069</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-06-29 10:26:20 -0400</bug_when>
    <thetext>BETA_JAVA8:

Post support for explicit this parameter as a holder for receiver annotations,
we now accept this program which we should not:

// ------
public class X {
  void foo(X this) {
  }
  void foo() {
  }
}

The other side of the coin is that the following should compile,
but doesn&apos;t anymore:

// --------
public class X {
  void foo(X this) {
  }
  public static void main(String[] args) {
    new X().foo();
  }
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2131071</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-06-29 10:27:15 -0400</bug_when>
    <thetext>Jay, please follow up, thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2131072</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-06-29 10:28:52 -0400</bug_when>
    <thetext>Earlier communication from Markus:

&gt; I suggest we treat this parameter extra in the MethodDeclaration 
&gt; API, i.e. don&apos;t include it in the parameters() list, but add a new 
&gt; property get/setThisParameter(..). Then most of the extra code can 
&gt; be confined to the ASTRewrite.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2131693</commentid>
    <comment_count>3</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2012-07-02 10:34:16 -0400</bug_when>
    <thetext>(In reply to comment #0)
Sounds like the &apos;this&apos; parameter should be treated specially even earlier in the food chain (i.e. as early as possible). E.g. compile error messages also shouldn&apos;t contain the &apos;this&apos; parameter. 

When implementing this support, I suggest you never consider the &apos;this&apos; parameter as a parameter at all and don&apos;t ever include it in a parameter list. To make the perspective switch easier, assume the syntax would be something like this where it&apos;s clear that &apos;this&apos; is not a parameter:

  void foo [@ReceiverAnnotation X this] () { //syntax from a parallel universe
  }</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2131883</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-07-02 19:59:43 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; (In reply to comment #0)
&gt; Sounds like the &apos;this&apos; parameter should be treated specially even earlier in
&gt; the food chain (i.e. as early as possible). E.g. compile error messages also
&gt; shouldn&apos;t contain the &apos;this&apos; parameter. 
&gt; 
&gt; When implementing this support, I suggest you never consider the &apos;this&apos;
&gt; parameter as a parameter at all and don&apos;t ever include it in a parameter list.

Yes, Jay, just after the AbstractMethodDeclaration.arguments&apos;s types are
resolved and any errors are reported, if argument.isReceiver(), it should be 
moved out of AbstractMethodDeclaration.arguments into a separate decoration
say `receiver&apos; and the original array be shrunk. 

Remember to change print methods so as to include this decoration in the 
output.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145049</commentid>
    <comment_count>5</comment_count>
      <attachid>219564</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-05 13:06:37 -0400</bug_when>
    <thetext>Created attachment 219564
Proposed fix

All current tests pass. The new tests will have to be adjusted once we will be able to resolve ElementType.TYPE_USE.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145088</commentid>
    <comment_count>6</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-06 02:05:50 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; Created attachment 219564 [details]
&gt; Proposed fix

Jay, I am not sure this is the simplest fix. We are perhaps moving the receiver
our rather early. It is going to be painful to move it out too early as well as
too late.

What happens in you discriminate just at the point in STB where the
code on BETA_JAVA8 reads:

		// only assign parameters if no problems are found
		if (!foundArgProblem) {
			method.parameters = newParameters;
		}

In here, check if newParameters[0] is a receiver and if so move it out
and assign a shrunk array to method.parameters ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145218</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-06 08:46:58 -0400</bug_when>
    <thetext>(In reply to comment #6)
&gt; What happens in you discriminate just at the point in STB where the
&gt; code on BETA_JAVA8 reads:
&gt; 
&gt; 		// only assign parameters if no problems are found
&gt; 		if (!foundArgProblem) {
&gt; 			method.parameters = newParameters;
&gt; 		}

This was my first choice too. But for things like search, open declaration it was too late and they won&apos;t work.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145251</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-06 09:46:24 -0400</bug_when>
    <thetext>(In reply to comment #7)

&gt; This was my first choice too. But for things like search, open declaration
&gt; it was too late and they won&apos;t work.

What exactly happens when you say it won&apos;t work ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145252</commentid>
    <comment_count>9</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-06 09:50:34 -0400</bug_when>
    <thetext>Can you point me to some tests that fail ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145292</commentid>
    <comment_count>10</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-06 11:11:44 -0400</bug_when>
    <thetext>(In reply to comment #9)
&gt; Can you point me to some tests that fail ?

I don&apos;t recall any tests failing. But when I delay the separation of the receiver, the open declaration of a method with a receiver doesn&apos;t work. Other scenarios that don&apos;t work are searching for the same method (ctrl+shift+G) don&apos;t produce any results. In both these cases, the cause is that the method binding can&apos;t be associated with a valid JavaElement because of the additional &apos;this&apos; param. The missing JavaElement can be seen on the ASTViewer as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145316</commentid>
    <comment_count>11</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2012-08-06 12:46:44 -0400</bug_when>
    <thetext>Please read comment 3 again. I still think the &apos;this&apos; parameter should be separated as early as possible, i.e. in Parser#consumeMethodHeaderRightParen().
Neither the ASTs nor bindings nor Java elements should treat &apos;this&apos; as a regular parameter.

The first step should just be to make the existing infrastructure work regardless of whether the &apos;this&apos; parameter is present or not.

The second step will be to add support for the new feature, but this can IMO wait until the rest of the jsr308 has been implemented, so that existing implementation can be reused.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2145390</commentid>
    <comment_count>12</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-06 21:00:44 -0400</bug_when>
    <thetext>(In reply to comment #11)
&gt; Please read comment 3 again. I still think the &apos;this&apos; parameter should be
&gt; separated as early as possible, i.e. in
&gt; Parser#consumeMethodHeaderRightParen().

Markus, I would like it separated as early as possible, but no earlier.
It could still turn out that Parser#consumeMethodHeaderRightParen() is
the right place to do it - It leads to code changes that don&apos;t look the
simplest - which is why this is being discussed.

&gt; Neither the ASTs nor bindings nor Java elements should treat &apos;this&apos; as a
&gt; regular parameter.

I would with be fine with an approach that slightly defers the separation 
if all observers see the separation. I am not sure this is possible, but I
want this explored.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2147273</commentid>
    <comment_count>13</comment_count>
      <attachid>219801</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-13 07:15:31 -0400</bug_when>
    <thetext>Created attachment 219801
Updated patch

This patch minimizes the numbers of changes lines comparing with the previous patch as suggested by Srikanth.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2147835</commentid>
    <comment_count>14</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-14 09:46:15 -0400</bug_when>
    <thetext>Here are some review comments:

   1. Parser.java: A few nits: (a) Our coding convention is that
we use either:

     if (a  &gt; b) c = 10;     // all in one line or
     
                 or

     if (length &gt; 1) {
	System.arraycopy(
	this.astStack,
	this.astPtr + 2,
	md.arguments = new Argument[length - 1],
	0,
	length - 1);
    }

    (b) Likewise it is:

        if (a &gt; b) {
        } else {
        } and NOT

        if (a &gt; b) {
        }
        else {
        }

    (c) If else has a { block }, we also bracket if in { block }

Please apply these comments everywhere.

(2) SourceTypeBinding.java:

I would push the block:

if (methodDecl.receiver != null) 
    method.receiver = newParameters[0];

inside the if (methodDecl.receiver != null) { just below.
This has the effect of assigning the receiver field only
if there are no arg problems, but that is just fine. What
is good for real parameters is good enough for the explicit
this parameter.

(3) MethodBinding.java: Add a comment on the field receiver // JSR308 - explicit this parameter

(4) methodScope.java:

The block: (which occurs in two places)

if (CharOperation.equals(argument.name, ConstantPool.This)) {
	if (argLength != 0) {
		problemReporter().illegalThis(argument, method, sourceLevel);
	}
	else if (argument.annotations != null) {
        	method.receiverAnnotations = argument.annotations;
		method.bits |= ASTNode.HasTypeAnnotations;
	}
}

looks wrong. It should simply read:
if (CharOperation.equals(argument.name, ConstantPool.This)) {
	problemReporter().illegalThis(argument, method, sourceLevel);
}

(5) We are not transferring annotations from method.receiver into
method.receiverAnnotations. This latter decoration is the one that
is resolved by existing code. The best place to do this would be
the 3rd diff in MethodScope.java

(6) It would appear to make up for this not transfer of annotations,
there is additional code put in place. For example, do we really
need the diffs 2-6 in AbstractMethodDeclaration ? If you implement
(1) through (5) and get rid of the diffs 2-6 in AMD.java, what breaks ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2147931</commentid>
    <comment_count>15</comment_count>
      <attachid>219875</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-14 11:32:38 -0400</bug_when>
    <thetext>Created attachment 219875
Updated patch

This patch includes suggestions from Srikanth.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2147935</commentid>
    <comment_count>16</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-14 11:41:49 -0400</bug_when>
    <thetext>(In reply to comment #14)
&gt; (2) SourceTypeBinding.java:
&gt; 
&gt; I would push the block:
&gt; 
&gt; if (methodDecl.receiver != null) 
&gt;     method.receiver = newParameters[0];
&gt; 
&gt; inside the if (methodDecl.receiver != null) { just below.
&gt; This has the effect of assigning the receiver field only
&gt; if there are no arg problems, but that is just fine. What
&gt; is good for real parameters is good enough for the explicit
&gt; this parameter.

I thought I could come up with a test case that this change would break. But couldn&apos;t. Only case I found where foundArgProblem is true is when I use a void as a argument type. But that doesn&apos;t make a difference because we end up with a null binding for the method itself.

Another point w.r.t to the patch is, we set the receiverAnnotations and HasTypeAnnotations flag even if the source level is less than 1.8, just to keep the previous behavior, though I am not absolutely sure receiverAnnotations needs to be set.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2148111</commentid>
    <comment_count>17</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-14 20:41:39 -0400</bug_when>
    <thetext>(In reply to comment #15)
&gt; Created attachment 219875 [details]
&gt; Updated patch
&gt; 
&gt; This patch includes suggestions from Srikanth.

Thanks, this looks *significantly* simpler.

More comments:

(0) Fix indentation issues with if-else in SourceTypeBinding.java 2nd diff.
HOWEVER,

(1) This much simpler patch allows me to better understand the code and this
understanding raises the following question: By merging explicit this
into arguments array temporarily, we are causing certain processing to
happen on this which we should not: (a) We should NOT be setting HasParameterAnnotations on account of the &apos;this&apos; parameter having 
annotations. (b) We should not be creating a LVB for &apos;this&apos;. We never used
to earlier and should not now.

So if we look at the for loop that iterates over the arguments, the only
relevant processing there is the line

parameterType = arg.type.resolveType(methodDecl.scope, true /* check bounds*/);

which means we are better off not doing the dance we do in STB to merge
and separate, but we are better off with a separate block ahead of the
argument processing code that reads:

if (methodDecl.receiver != null) {
    method.receiver = methodDecl.receiver.type.resolveType(methodDecl.scope, true /* check bounds*/);
}

I suspect this is ALL the change required in STB.
 
(2) SourceTypeBinding.java second diff could have been shortened into:
if (methodDecl.receiver != null) {
	method.receiver = newParameters[0];
	int length = newParameters.length;

I&apos;ll attach a patch shortly.
	if (length == 1) {
	    newParameters = NO_PARAMETERS;
	} else {
	    System.arraycopy(newParameters, 1, newParameters = new TypeBinding[length - 1], 0, length - 1);
	}
	method.parameters = newParameters;

BUT it is irrelevant if suggestion (1) works out for us.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2148113</commentid>
    <comment_count>18</comment_count>
      <attachid>219890</attachid>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-14 20:43:06 -0400</bug_when>
    <thetext>Created attachment 219890
Simpler patch ??

Jay, see if this patch is simpler. It passes all the Java8 tests except the one that uses TYPE_USE.

If you agree with this patch, please release after testing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2148622</commentid>
    <comment_count>19</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-08-15 09:58:02 -0400</bug_when>
    <thetext>(In reply to comment #18)
&gt; Created attachment 219890 [details]
&gt; Simpler patch ??
&gt; 
&gt; Jay, see if this patch is simpler. It passes all the Java8 tests except the
&gt; one that uses TYPE_USE.
&gt; 
&gt; If you agree with this patch, please release after testing.

I ran all the tests - Except for NegativeTypeAnnotationTest.test0383913d()
which uses TYPE_USE, all tests are green.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2150367</commentid>
    <comment_count>20</comment_count>
      <attachid>220088</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-21 02:40:07 -0400</bug_when>
    <thetext>Created attachment 220088
Updated patch

Same as the last one from Srikanth with couple of minor changes:

1. Removed the reference to TYPE_USE to make the NegativeTypeAnnotationTest.test0383913d() test pass for the time being.
2. Some minor changes in the Problem Reporter to remove unused parameters.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2150375</commentid>
    <comment_count>21</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2012-08-21 02:51:21 -0400</bug_when>
    <thetext>Released the fix in BETA_JAVA8:
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=cedc325f2a935c759cba1f1e5e6c7415bee87a4f</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>219564</attachid>
            <date>2012-08-05 13:06:00 -0400</date>
            <delta_ts>2012-08-13 07:15:31 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>Fix-for-bug-383908.patch</filename>
            <type>text/plain</type>
            <size>20626</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFu
bm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9z
cmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2
ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmluZGV4IDZhZGI0MmQuLjgyZDk0YTUgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBl
QW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTA4Myw3ICsxMDgzLDcgQEAKIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgT3V0ZXIuSW5uZXIudGhpcywgaW50IGksIGZsb2F0
IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVyIE91dGVyLnRo
aXMsIGZsb2F0IGYpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVy
LklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IE91dGVyLklubmVyLklubmVyTW9zdC50aGlzKSB7fVxu
IiArDQorCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVy
TW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKw0K
IAkJCQkJCSIgICAgICAgICAgICBJbm5lck1vc3QoSW5uZXI8SyxWPiBPdXRlci5Jbm5lci5Jbm5l
ck1vc3QudGhpcywgaW50IGkpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0
KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJCQkJCQkiICAgICAg
ICAgICAgSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYsIGludCBpKSB7
fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+IElu
bmVyLnRoaXMsIGxvbmcgbCkge31cbiIgKw0KIAkJCQkJCSIgICAgICAgIH1cbiIgKw0KQEAgLTEx
MzcsMTAgKzExMzcsMTAgQEAKIAkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQogCQkJCQkJIjEwLiBF
UlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQotCQkJCQkJIglJbm5lck1vc3Qo
T3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMp
IHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8
VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBvYmopIHt9XG4iICsgDQogCQkJ
CQkJIgkgICAgICAgICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiIgKyANCiAJCQkJCQki
VGhlIGRlY2xhcmVkIHR5cGUgb2YgdGhlIGV4cGxpY2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhw
ZWN0ZWQgdG8gYmUgT3V0ZXIuSW5uZXI8SyxWPlxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4i
ICsgDQogCQkJCQkJIjExLiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQot
CQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5u
ZXIuSW5uZXJNb3N0LnRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5u
ZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBv
YmopIHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCiAJCQkJCQkiVGhlIGV4cGxp
Y2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgdG8gYmUgcXVhbGlmaWVkIHdpdGggT3V0
ZXIuSW5uZXJcbiIgKyANCkBAIC0xMTUyLDUgKzExNTIsNSBAQAogCQkJCQkJIi0tLS0tLS0tLS1c
biIgKyANCiAJCQkJCQkiMTMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTEpXG4iICsg
DQotCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SywgVj4gdGhpcywgZmxvYXQgZikge31c
biIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLCBWPiB0aGlzLCBmbG9hdCBm
LCBpbnQgaSkge31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBe
Xl5eXG4iICsgDQogCQkJCQkJIlRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlzIGV4cGVj
dGVkIHRvIGJlIHF1YWxpZmllZCB3aXRoIE91dGVyLklubmVyXG4iICsgDQpAQCAtMTE2Nyw5ICsx
MTY3LDkgQEAKIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oT3V0ZXIgT3V0ZXIu
dGhpcykge31cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXI8
SyxWPiBJbm5lci50aGlzLCBpbnQgaSkge31cbiIgKw0KLQkJCQkJCSIgICAgICAgICAgICBwdWJs
aWMgdm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGopIHt9XG4iICsNCiAJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyLklubmVyTW9zdDxUPiB0aGlz
LCBPYmplY3Qgb2JqKSB7fVxuIiArDQotCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZv
byhJbm5lck1vc3Q8VD4gdGhpcywgaW50IGkpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiB0aGlzLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJ
CQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lcjxLLFY+LklubmVyTW9zdDxUPiB0
aGlzLCBsb25nIGwpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9v
KE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKE91dGVyLklubmVyPEssVj4uSW5uZXJN
b3N0PFQ+IHRoaXMsIGZsb2F0IGYsIGZsb2F0IGZmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAg
ICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRo
aXMsIGludCBpLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAgfVxuIiArDQpAQCAt
MTE5OCwxMCArMTE5OCwxMCBAQAogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNS4g
V0FSTklORyBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDYpXG4iICsgDQotCQkJCQkJIglwdWJsaWMg
dm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglwdWJsaWMgdm9pZCBm
b28oSW5uZXJNb3N0IHRoaXMsIGludCBpLCBpbnQgaikge31cbiIgKyANCiAJCQkJCQkiCSAgICAg
ICAgICAgICAgICBeXl5eXl5eXl5cbiIgKyANCiAJCQkJCQkiT3V0ZXIuSW5uZXIuSW5uZXJNb3N0
IGlzIGEgcmF3IHR5cGUuIFJlZmVyZW5jZXMgdG8gZ2VuZXJpYyB0eXBlIE91dGVyLklubmVyPEss
Vj4uSW5uZXJNb3N0PFQ+IHNob3VsZCBiZSBwYXJhbWV0ZXJpemVkXG4iICsgDQogCQkJCQkJIi0t
LS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSA2
KVxuIiArIA0KLQkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzKSB7fVxuIiAr
IA0KKwkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGop
IHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgXl5eXl5eXl5eXG4iICsgDQogCQkJ
CQkJIlRoZSBkZWNsYXJlZCB0eXBlIG9mIHRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlz
IGV4cGVjdGVkIHRvIGJlIE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+XG4iICsgDQpAQCAt
MTIyMyw0ICsxMjIzLDYgQEAKIAkJCQluZXcgU3RyaW5nW10gew0KIAkJCQkJCSJPdXRlci5qYXZh
IiwNCisJCQkJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIgKyANCisJ
CQkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS4qO1xu
IiArIA0KIAkJCQkJCSJwdWJsaWMgY2xhc3MgT3V0ZXIge1xuIiArDQogCQkJCQkJIiAgICBjbGFz
cyBJbm5lcjxLLFY+IHtcbiIgKw0KQEAgLTEyMzQsNSArMTIzNiw1IEBACiAJCQkJCQkiICAgICAg
ICAgICAgdm9pZCBiYXIoaW50IGkpIHtcbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgY2xh
c3MgTG9jYWwge1xuIiArDQotCQkJCQkJIiAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBo
YXNoQ29kZShMb2NhbCB0aGlzKSB7IHJldHVybiAwOyB9XG4iICsNCisJCQkJCQkiICAgICAgICAg
ICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKExvY2FsIHRoaXMsIGludCBrKSB7IHJldHVy
biAwOyB9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hD
b2RlKE91dGVyLkxvY2FsIHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKw0KIAkJCQkJCSIgICAgICAg
ICAgICAgICAgfVxuIiArDQpAQCAtMTI0OSwzMiArMTI1MSwzMyBAQAogCQkJCQkJIiAgICBwdWJs
aWMgdm9pZCBmb29iYXIoQW5vbnltb3VzSW5uZXIgdGhpcyk7XG4iICsNCiAJCQkJCQkifVxuIiAr
DQorCQkJCQkJIkBUYXJnZXQoVFlQRV9VU0UpXG4iICsgDQogCQkJCQkJIkBpbnRlcmZhY2UgTWFy
a2VyIHt9In0sDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIxLiBFUlJPUiBp
biBPdXRlci5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCQkJCSIxLiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDUpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIElubmVyKEBNaXNzaW5n
IE91dGVyIE91dGVyLnRoaXMpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICBeXl5e
Xl5eXG4iICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVc
biIgKyANCiAJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCi0JCQkJCQkJIjIuIEVSUk9SIGluIE91
dGVyLmphdmEgKGF0IGxpbmUgNylcbiIgKyANCisJCQkJCQkJIjIuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgOSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb29iYXIoQW5vbnlt
b3VzSW5uZXIgdGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRl
ciBpcyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNs
YXNzZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0t
LS0tLVxuIiArIA0KLQkJCQkJCQkiMy4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAxMylc
biIgKyANCisJCQkJCQkJIjMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTUpXG4iICsg
DQogCQkJCQkJCSIJcHVibGljIGludCBoYXNoQ29kZShPdXRlci5Mb2NhbCB0aGlzKSB7IHJldHVy
biAwOyB9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICAgICAgICBeXl5eXl5eXl5eXlxu
IiArIA0KIAkJCQkJCQkiT3V0ZXIuTG9jYWwgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxu
IiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KLQkJCQkJCQkiNC4gRVJST1IgaW4gT3V0
ZXIuamF2YSAoYXQgbGluZSAxOSlcbiIgKyANCisJCQkJCQkJIjQuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgMjEpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIFN0YXRpY05lc3RlZChATWFy
a2VyIE91dGVyLlN0YXRpY05lc3RlZCBPdXRlci5TdGF0aWNOZXN0ZWQudGhpcykge31cbiIgKyAN
CiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBeXl5eXG4iICsgDQogCQkJCQkJCSJFeHBsaWNpdCAndGhpcycg
cGFyYW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2RzIG9mIG5vbi1hbm9u
eW1vdXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4iICsgDQogCQkJCQkJ
CSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSI1LiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBs
aW5lIDIxKVxuIiArIA0KKwkJCQkJCQkiNS4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAy
MylcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgZm9vKEBNYXJrZXIgT3V0ZXIg
dGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBh
bGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMg
YW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxu
IiArIA0KLQkJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMilcbiIgKyAN
CisJCQkJCQkJIjYuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMjQpXG4iICsgDQogCQkJ
CQkJCSIJcHVibGljIHZvaWQgZm9vKEBNaXNzaW5nIE91dGVyIHRoaXMsIGludCBpKSB7fVxuIiAr
IA0KIAkJCQkJCQkiCSAgICAgICAgICAgICAgICAgXl5eXl5eXlxuIiArIA0KQEAgLTEyODIsMyAr
MTI4NSwyOCBAQAogCQkJCQkJCSItLS0tLS0tLS0tXG4iKTsNCiAJfQ0KKwlwdWJsaWMgdm9pZCB0
ZXN0MDM4MzkwOCgpIHsNCisJCXRoaXMucnVuTmVnYXRpdmVUZXN0KA0KKwkJCQluZXcgU3RyaW5n
W117IlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xhc3MgWCB7IFxuIiArDQorCQkJCSIJdm9pZCBm
b28oWCB0aGlzKSB7fVxuIiArDQorCQkJCSIgICB2b2lkIGZvbygpIHt9XG4iICsNCisJCQkJIn1c
biIgKw0KKwkJCQkiY2xhc3MgWSB7XG4iICsNCisJCQkJIgl2b2lkIGZvbyhZIHRoaXMpIHt9XG4i
ICsNCisJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsN
CisJCQkJIgkJbmV3IFkoKS5mb28oKTtcbiIgKw0KKwkJCQkiCX1cbiIgKw0KKwkJCQkifSJ9LCAN
CisJCQkJIi0tLS0tLS0tLS1cbiIgKyANCisJCQkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGlu
ZSAyKVxuIiArIA0KKwkJCQkiCXZvaWQgZm9vKFggdGhpcykge31cbiIgKyANCisJCQkJIgkgICAg
IF5eXl5eXl5eXl5eXG4iICsgDQorCQkJCSJEdXBsaWNhdGUgbWV0aG9kIGZvbygpIGluIHR5cGUg
WFxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZh
IChhdCBsaW5lIDMpXG4iICsgDQorCQkJCSIJdm9pZCBmb28oKSB7fVxuIiArIA0KKwkJCQkiCSAg
ICAgXl5eXl5cbiIgKyANCisJCQkJIkR1cGxpY2F0ZSBtZXRob2QgZm9vKCkgaW4gdHlwZSBYXG4i
ICsgDQorCQkJCSItLS0tLS0tLS0tXG4iKTsNCisJfQ0KIH0NCmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
YXN0L0Fic3RyYWN0TWV0aG9kRGVjbGFyYXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RN
ZXRob2REZWNsYXJhdGlvbi5qYXZhCmluZGV4IGZkMzY0NTkuLmQ2NjM5Y2YgMTAwNjQ0Ci0tLSBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b21waWxlci9hc3QvQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9h
c3QvQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5qYXZhCkBAIC00OCw0ICs0OCw1IEBACiAJcHVi
bGljIEFubm90YXRpb25bXSBhbm5vdGF0aW9uczsKIAkvLyBqc3IgMzA4CisJcHVibGljIFJlY2Vp
dmVyIHJlY2VpdmVyOwogCXB1YmxpYyBBbm5vdGF0aW9uW10gcmVjZWl2ZXJBbm5vdGF0aW9uczsK
IAlwdWJsaWMgQXJndW1lbnRbXSBhcmd1bWVudHM7CkBAIC0xMDAsNCArMTAxLDcgQEAKIAkJCX0K
IAkJfQorCQlpZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJCQl0aGlzLnJlY2VpdmVyLmNy
ZWF0ZUJpbmRpbmcodGhpcy5zY29wZSwgdGhpcy5iaW5kaW5nLnJlY2VpdmVyKTsKKwkJfQogCX0K
IApAQCAtMTA3LDQgKzExMSw4IEBACiAJcHVibGljIHZvaWQgYmluZEFyZ3VtZW50cygpIHsKIAor
CQlpZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJCQkvLyBObyBuZWVkIHRvIGNvbnNpZGVy
IHRoZSBwYXJhbSBhbm5vdGF0aW9ucyBmb3IgcmVjZWl2ZXJzCisJCQl0aGlzLnJlY2VpdmVyLmJp
bmQodGhpcy5zY29wZSwgdGhpcy5iaW5kaW5nID09IG51bGwgPyBudWxsIDogdGhpcy5iaW5kaW5n
LnJlY2VpdmVyLCB0cnVlKTsKKwkJfQogCQlpZiAodGhpcy5hcmd1bWVudHMgIT0gbnVsbCkgewog
CQkJLy8gYnkgZGVmYXVsdCBhcmd1bWVudHMgaW4gYWJzdHJhY3QvbmF0aXZlIG1ldGhvZHMgYXJl
IGNvbnNpZGVyZWQgdG8gYmUgdXNlZCAobm8gY29tcGxhaW50IGlzIGV4cGVjdGVkKQpAQCAtMjY0
LDQgKzI3Miw5IEBACiAJfQogCisJcHJpdmF0ZSB2b2lkIHJlY29yZEluaXRpYWxpemF0aW9uKEFy
Z3VtZW50IGFyZywgQ29kZVN0cmVhbSBjb2RlU3RyZWFtKSB7CisJCUxvY2FsVmFyaWFibGVCaW5k
aW5nIGFyZ0JpbmRpbmc7CisJCWNvZGVTdHJlYW0uYWRkVmlzaWJsZUxvY2FsVmFyaWFibGUoYXJn
QmluZGluZyA9IGFyZy5iaW5kaW5nKTsKKwkJYXJnQmluZGluZy5yZWNvcmRJbml0aWFsaXphdGlv
blN0YXJ0UEMoMCk7CisJfQogCXB1YmxpYyB2b2lkIGdlbmVyYXRlQ29kZShDbGFzc0ZpbGUgY2xh
c3NGaWxlKSB7CiAKQEAgLTI4MCw4ICsyOTMsOSBAQAogCQkJaWYgKHRoaXMuYXJndW1lbnRzICE9
IG51bGwpIHsKIAkJCQlmb3IgKGludCBpID0gMCwgbWF4ID0gdGhpcy5hcmd1bWVudHMubGVuZ3Ro
OyBpIDwgbWF4OyBpKyspIHsKLQkJCQkJTG9jYWxWYXJpYWJsZUJpbmRpbmcgYXJnQmluZGluZzsK
LQkJCQkJY29kZVN0cmVhbS5hZGRWaXNpYmxlTG9jYWxWYXJpYWJsZShhcmdCaW5kaW5nID0gdGhp
cy5hcmd1bWVudHNbaV0uYmluZGluZyk7Ci0JCQkJCWFyZ0JpbmRpbmcucmVjb3JkSW5pdGlhbGl6
YXRpb25TdGFydFBDKDApOworCQkJCQlyZWNvcmRJbml0aWFsaXphdGlvbih0aGlzLmFyZ3VtZW50
c1tpXSwgY29kZVN0cmVhbSk7CiAJCQkJfQorCQkJfQorCQkJaWYgKHRoaXMucmVjZWl2ZXIgIT0g
bnVsbCkgeworCQkJCXJlY29yZEluaXRpYWxpemF0aW9uKHRoaXMucmVjZWl2ZXIsIGNvZGVTdHJl
YW0pOwogCQkJfQogCQkJaWYgKHRoaXMuc3RhdGVtZW50cyAhPSBudWxsKSB7CkBAIC00MzIsNyAr
NDQ2LDEwIEBACiAKIAkJcHJpbnRSZXR1cm5UeXBlKDAsIG91dHB1dCkuYXBwZW5kKHRoaXMuc2Vs
ZWN0b3IpLmFwcGVuZCgnKCcpOworCQlpZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJCQl0
aGlzLnJlY2VpdmVyLnByaW50KDAsIG91dHB1dCk7CisJCX0KIAkJaWYgKHRoaXMuYXJndW1lbnRz
ICE9IG51bGwpIHsKIAkJCWZvciAoaW50IGkgPSAwOyBpIDwgdGhpcy5hcmd1bWVudHMubGVuZ3Ro
OyBpKyspIHsKLQkJCQlpZiAoaSA+IDApIG91dHB1dC5hcHBlbmQoIiwgIik7IC8vJE5PTi1OTFMt
MSQKKwkJCQlpZiAoaSA+IDAgfHwgdGhpcy5yZWNlaXZlciAhPSBudWxsKSBvdXRwdXQuYXBwZW5k
KCIsICIpOyAvLyROT04tTkxTLTEkCiAJCQkJdGhpcy5hcmd1bWVudHNbaV0ucHJpbnQoMCwgb3V0
cHV0KTsKIAkJCX0KQEAgLTUwNiwzOCArNTIzLDM1IEBACiAKIAlwdWJsaWMgdm9pZCByZXNvbHZl
UmVjZWl2ZXIoKSB7Ci0JCWlmICh0aGlzLmFyZ3VtZW50cyAhPSBudWxsICYmIHRoaXMuYXJndW1l
bnRzLmxlbmd0aCA+IDApIHsKLQkJCWlmICh0aGlzLmFyZ3VtZW50c1swXS5pc1JlY2VpdmVyKCkp
IHsKLQkJCQlSZWNlaXZlciByZWNlaXZlciA9IChSZWNlaXZlcikgdGhpcy5hcmd1bWVudHNbMF07
CisJCWlmICh0aGlzLnJlY2VpdmVyID09IG51bGwpCisJCQlyZXR1cm47CisJCQorCQlUeXBlQmlu
ZGluZyByZXNvbHZlZFJlY2VpdmVyVHlwZSA9IHRoaXMucmVjZWl2ZXIudHlwZS5yZXNvbHZlZFR5
cGU7CisJCWlmICh0aGlzLmJpbmRpbmcgPT0gbnVsbCB8fCByZXNvbHZlZFJlY2VpdmVyVHlwZSA9
PSBudWxsIHx8ICFyZXNvbHZlZFJlY2VpdmVyVHlwZS5pc1ZhbGlkQmluZGluZygpKQorCQkJcmV0
dXJuOwogCi0JCQkJVHlwZUJpbmRpbmcgcmVzb2x2ZWRSZWNlaXZlclR5cGUgPSByZWNlaXZlci50
eXBlLnJlc29sdmVkVHlwZTsKLQkJCQlpZiAodGhpcy5iaW5kaW5nID09IG51bGwgfHwgcmVzb2x2
ZWRSZWNlaXZlclR5cGUgPT0gbnVsbCB8fCAhcmVzb2x2ZWRSZWNlaXZlclR5cGUuaXNWYWxpZEJp
bmRpbmcoKSkKLQkJCQkJcmV0dXJuOworCQlSZWZlcmVuY2VCaW5kaW5nIGRlY2xhcmluZ0NsYXNz
ID0gdGhpcy5iaW5kaW5nLmRlY2xhcmluZ0NsYXNzOworCQkvKiBuZWl0aGVyIHN0YXRpYyBtZXRo
b2RzIG5vciBtZXRob2RzIGluIGFub255bW91cyB0eXBlcyBjYW4gaGF2ZSBleHBsaWNpdCAndGhp
cycgKi8KKwkJaWYgKHRoaXMuaXNTdGF0aWMoKSB8fCBkZWNsYXJpbmdDbGFzcy5pc0Fub255bW91
c1R5cGUoKSkgeworCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5kaXNhbGxvd2VkVGhp
c1BhcmFtZXRlcih0aGlzLnJlY2VpdmVyKTsKKwkJCXJldHVybjsgLy8gTm8gbmVlZCB0byBkbyBm
dXJ0aGVyIHZhbGlkYXRpb24KKwkJfQogCi0JCQkJUmVmZXJlbmNlQmluZGluZyBkZWNsYXJpbmdD
bGFzcyA9IHRoaXMuYmluZGluZy5kZWNsYXJpbmdDbGFzczsKLQkJCQkvKiBuZWl0aGVyIHN0YXRp
YyBtZXRob2RzIG5vciBtZXRob2RzIGluIGFub255bW91cyB0eXBlcyBjYW4gaGF2ZSBleHBsaWNp
dCAndGhpcycgKi8KLQkJCQlpZiAodGhpcy5pc1N0YXRpYygpIHx8IGRlY2xhcmluZ0NsYXNzLmlz
QW5vbnltb3VzVHlwZSgpKSB7Ci0JCQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuZGlz
YWxsb3dlZFRoaXNQYXJhbWV0ZXIocmVjZWl2ZXIpOwotCQkJCQlyZXR1cm47IC8vIE5vIG5lZWQg
dG8gZG8gZnVydGhlciB2YWxpZGF0aW9uCi0JCQkJfQotCi0JCQkJUmVmZXJlbmNlQmluZGluZyBl
bmNsb3NpbmdSZWNlaXZlciA9IHRoaXMuc2NvcGUuZW5jbG9zaW5nUmVjZWl2ZXJUeXBlKCk7Ci0J
CQkJaWYgKHRoaXMuaXNDb25zdHJ1Y3RvcigpKSB7Ci0JCQkJCS8qIE9ubHkgbm9uIHN0YXRpYyBt
ZW1iZXIgdHlwZXMgb3IgbG9jYWwgdHlwZXMgY2FuIGRlY2xhcmUgZXhwbGljaXQgJ3RoaXMnIHBh
cmFtcyBpbiBjb25zdHJ1Y3RvcnMgKi8KLQkJCQkJaWYgKGRlY2xhcmluZ0NsYXNzLmlzU3RhdGlj
KCkKLQkJCQkJCQl8fCAoZGVjbGFyaW5nQ2xhc3MudGFnQml0cyAmIChUYWdCaXRzLklzTG9jYWxU
eXBlIHwgVGFnQml0cy5Jc01lbWJlclR5cGUpKSA9PSAwKSB7IC8qIG5laXRoZXIgbWVtYmVyIG5v
ciBsb2NhbCB0eXBlICovCi0JCQkJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmRpc2Fs
bG93ZWRUaGlzUGFyYW1ldGVyKHJlY2VpdmVyKTsKLQkJCQkJCXJldHVybjsgLy8gTm8gbmVlZCB0
byBkbyBmdXJ0aGVyIHZhbGlkYXRpb24KLQkJCQkJfQotCQkJCQllbmNsb3NpbmdSZWNlaXZlciA9
IGVuY2xvc2luZ1JlY2VpdmVyLmVuY2xvc2luZ1R5cGUoKTsKLQkJCQl9Ci0KLQkJCQlpZiAoZW5j
bG9zaW5nUmVjZWl2ZXIgIT0gcmVzb2x2ZWRSZWNlaXZlclR5cGUpIHsKLQkJCQkJdGhpcy5zY29w
ZS5wcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVHlwZUZvckV4cGxpY2l0VGhpcyhyZWNlaXZlciwg
ZW5jbG9zaW5nUmVjZWl2ZXIpOwotCQkJCX0KLQotCQkJCWlmICgocmVjZWl2ZXIucXVhbGlmeWlu
Z05hbWUgPT0gbnVsbCkgPyB0aGlzLmlzQ29uc3RydWN0b3IoKSA6ICFpc1F1YWxpZmllclZhbGlk
Rm9yVHlwZShyZWNlaXZlci5xdWFsaWZ5aW5nTmFtZS5nZXROYW1lKCksIGVuY2xvc2luZ1JlY2Vp
dmVyKSkgewotCQkJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxRdWFsaWZp
ZXJGb3JFeHBsaWNpdFRoaXMocmVjZWl2ZXIsIGVuY2xvc2luZ1JlY2VpdmVyKTsJCQkJCQotCQkJ
CX0KKwkJUmVmZXJlbmNlQmluZGluZyBlbmNsb3NpbmdSZWNlaXZlciA9IHRoaXMuc2NvcGUuZW5j
bG9zaW5nUmVjZWl2ZXJUeXBlKCk7CisJCWlmICh0aGlzLmlzQ29uc3RydWN0b3IoKSkgeworCQkJ
LyogT25seSBub24gc3RhdGljIG1lbWJlciB0eXBlcyBvciBsb2NhbCB0eXBlcyBjYW4gZGVjbGFy
ZSBleHBsaWNpdCAndGhpcycgcGFyYW1zIGluIGNvbnN0cnVjdG9ycyAqLworCQkJaWYgKGRlY2xh
cmluZ0NsYXNzLmlzU3RhdGljKCkKKwkJCQkJfHwgKGRlY2xhcmluZ0NsYXNzLnRhZ0JpdHMgJiAo
VGFnQml0cy5Jc0xvY2FsVHlwZSB8IFRhZ0JpdHMuSXNNZW1iZXJUeXBlKSkgPT0gMCkgeyAvKiBu
ZWl0aGVyIG1lbWJlciBub3IgbG9jYWwgdHlwZSAqLworCQkJCXRoaXMuc2NvcGUucHJvYmxlbVJl
cG9ydGVyKCkuZGlzYWxsb3dlZFRoaXNQYXJhbWV0ZXIodGhpcy5yZWNlaXZlcik7CisJCQkJcmV0
dXJuOyAvLyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFsaWRhdGlvbgogCQkJfQorCQkJZW5jbG9z
aW5nUmVjZWl2ZXIgPSBlbmNsb3NpbmdSZWNlaXZlci5lbmNsb3NpbmdUeXBlKCk7CisJCX0KKwor
CQlpZiAoZW5jbG9zaW5nUmVjZWl2ZXIgIT0gcmVzb2x2ZWRSZWNlaXZlclR5cGUpIHsKKwkJCXRo
aXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFR5cGVGb3JFeHBsaWNpdFRoaXModGhp
cy5yZWNlaXZlciwgZW5jbG9zaW5nUmVjZWl2ZXIpOworCQl9CisKKwkJaWYgKCh0aGlzLnJlY2Vp
dmVyLnF1YWxpZnlpbmdOYW1lID09IG51bGwpID8gdGhpcy5pc0NvbnN0cnVjdG9yKCkgOiAhaXNR
dWFsaWZpZXJWYWxpZEZvclR5cGUodGhpcy5yZWNlaXZlci5xdWFsaWZ5aW5nTmFtZS5nZXROYW1l
KCksIGVuY2xvc2luZ1JlY2VpdmVyKSkgeworCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIo
KS5pbGxlZ2FsUXVhbGlmaWVyRm9yRXhwbGljaXRUaGlzKHRoaXMucmVjZWl2ZXIsIGVuY2xvc2lu
Z1JlY2VpdmVyKTsJCQkJCQogCQl9CiAJfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRo
b2RCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQppbmRleCBj
ZTI1ZTU3Li43YTk1NjZkIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcu
amF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQpAQCAtMzUsNCArMzUs
NSBAQAogCXB1YmxpYyBUeXBlQmluZGluZyByZXR1cm5UeXBlOwogCXB1YmxpYyBUeXBlQmluZGlu
Z1tdIHBhcmFtZXRlcnM7CisJcHVibGljIFR5cGVCaW5kaW5nIHJlY2VpdmVyOwogCXB1YmxpYyBS
ZWZlcmVuY2VCaW5kaW5nW10gdGhyb3duRXhjZXB0aW9uczsKIAlwdWJsaWMgUmVmZXJlbmNlQmlu
ZGluZyBkZWNsYXJpbmdDbGFzczsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Nv
bXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2Nv
cGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2NvcGUuamF2YQppbmRleCA4YjVmODIwLi5l
NWU4MTg3IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZFNjb3BlLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL2xvb2t1cC9NZXRob2RTY29wZS5qYXZhCkBAIC0zNTQsOCArMzU0LDggQEAKIAkJCW1l
dGhvZC5iaW5kaW5nLm1vZGlmaWVycyB8PSBDbGFzc0ZpbGVDb25zdGFudHMuQWNjVmFyYXJnczsK
IAkJaWYgKENoYXJPcGVyYXRpb24uZXF1YWxzKGFyZ3VtZW50Lm5hbWUsIENvbnN0YW50UG9vbC5U
aGlzKSkgewotCQkJaWYgKGFyZ0xlbmd0aCAhPSAwIHx8IHNvdXJjZUxldmVsIDw9IENsYXNzRmls
ZUNvbnN0YW50cy5KREsxXzcpIHsKKwkJCWlmIChhcmdMZW5ndGggIT0gMCkgewogCQkJCXByb2Js
ZW1SZXBvcnRlcigpLmlsbGVnYWxUaGlzKGFyZ3VtZW50LCBtZXRob2QsIHNvdXJjZUxldmVsKTsK
IAkJCX0KLQkJCWlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQllbHNlIGlm
IChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CiAJCQkJbWV0aG9kLnJlY2VpdmVyQW5u
b3RhdGlvbnMgPSBhcmd1bWVudC5hbm5vdGF0aW9uczsKIAkJCQltZXRob2QuYml0cyB8PSBBU1RO
b2RlLkhhc1R5cGVBbm5vdGF0aW9uczsKQEAgLTM3Nyw0ICszNzcsNyBAQAogCQl9CiAJfQorCWlm
IChtZXRob2QucmVjZWl2ZXIgIT0gbnVsbCAmJiBzb3VyY2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25z
dGFudHMuSkRLMV83KSB7CisJCXByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxUaGlzKG1ldGhvZC5y
ZWNlaXZlciwgbWV0aG9kLCBzb3VyY2VMZXZlbCk7CisJfQogCiAJVHlwZVBhcmFtZXRlcltdIHR5
cGVQYXJhbWV0ZXJzID0gbWV0aG9kLnR5cGVQYXJhbWV0ZXJzKCk7CmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9j
b21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5
cGVCaW5kaW5nLmphdmEKaW5kZXggOTAxNzY5Yy4uODI5ZDJjOSAxMDA2NDQKLS0tIGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNl
VHlwZUJpbmRpbmcuamF2YQpAQCAtMTUwNyw1ICsxNTA3LDUgQEAKIAkJaW50IHNpemUgPSBhcmd1
bWVudHMubGVuZ3RoOwogCQltZXRob2QucGFyYW1ldGVycyA9IEJpbmRpbmcuTk9fUEFSQU1FVEVS
UzsKLQkJVHlwZUJpbmRpbmdbXSBuZXdQYXJhbWV0ZXJzID0gbmV3IFR5cGVCaW5kaW5nW3NpemVd
OworCQlUeXBlQmluZGluZ1tdIHBhcmFtZXRlcnMgPSBuZXcgVHlwZUJpbmRpbmdbc2l6ZV07CiAJ
CWZvciAoaW50IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7CiAJCQlBcmd1bWVudCBhcmcgPSBhcmd1
bWVudHNbaV07CkBAIC0xNTE0LDM3ICsxNTE0LDE0IEBACiAJCQl9CiAJCQkvLyBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzIyODE3Ci0JCQlib29sZWFuIGRl
ZmVyUmF3VHlwZUNoZWNrID0gIXJlcG9ydFVuYXZvaWRhYmxlR2VuZXJpY1R5cGVQcm9ibGVtcyAm
JiAhbWV0aG9kLmlzQ29uc3RydWN0b3IoKSAmJiAoYXJnLnR5cGUuYml0cyAmIEFTVE5vZGUuSWdu
b3JlUmF3VHlwZUNoZWNrKSA9PSAwOwotCQkJVHlwZUJpbmRpbmcgcGFyYW1ldGVyVHlwZTsKLQkJ
CWlmIChkZWZlclJhd1R5cGVDaGVjaykgewotCQkJCWFyZy50eXBlLmJpdHMgfD0gQVNUTm9kZS5J
Z25vcmVSYXdUeXBlQ2hlY2s7Ci0JCQl9Ci0JCQl0cnkgewotCQkJCXBhcmFtZXRlclR5cGUgPSBh
cmcudHlwZS5yZXNvbHZlVHlwZShtZXRob2REZWNsLnNjb3BlLCB0cnVlIC8qIGNoZWNrIGJvdW5k
cyovKTsKLQkJCX0gZmluYWxseSB7Ci0JCQkJaWYgKGRlZmVyUmF3VHlwZUNoZWNrKSB7IAotCQkJ
CQlhcmcudHlwZS5iaXRzICY9IH5BU1ROb2RlLklnbm9yZVJhd1R5cGVDaGVjazsKLQkJCQl9Ci0J
CQl9Ci0JCQotCQkJaWYgKHBhcmFtZXRlclR5cGUgPT0gbnVsbCkgewotCQkJCWZvdW5kQXJnUHJv
YmxlbSA9IHRydWU7Ci0JCQl9IGVsc2UgaWYgKHBhcmFtZXRlclR5cGUgPT0gVHlwZUJpbmRpbmcu
Vk9JRCkgewotCQkJCW1ldGhvZERlY2wuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuYXJndW1lbnRU
eXBlQ2Fubm90QmVWb2lkKHRoaXMsIG1ldGhvZERlY2wsIGFyZyk7Ci0JCQkJZm91bmRBcmdQcm9i
bGVtID0gdHJ1ZTsKLQkJCX0gZWxzZSB7Ci0JCQkJaWYgKChwYXJhbWV0ZXJUeXBlLnRhZ0JpdHMg
JiBUYWdCaXRzLkhhc01pc3NpbmdUeXBlKSAhPSAwKSB7Ci0JCQkJCW1ldGhvZC50YWdCaXRzIHw9
IFRhZ0JpdHMuSGFzTWlzc2luZ1R5cGU7Ci0JCQkJfQotCQkJCVR5cGVCaW5kaW5nIGxlYWZUeXBl
ID0gcGFyYW1ldGVyVHlwZS5sZWFmQ29tcG9uZW50VHlwZSgpOwotCQkJCWlmIChsZWFmVHlwZSBp
bnN0YW5jZW9mIFJlZmVyZW5jZUJpbmRpbmcgJiYgKCgoUmVmZXJlbmNlQmluZGluZykgbGVhZlR5
cGUpLm1vZGlmaWVycyAmIEV4dHJhQ29tcGlsZXJNb2RpZmllcnMuQWNjR2VuZXJpY1NpZ25hdHVy
ZSkgIT0gMCkKLQkJCQkJbWV0aG9kLm1vZGlmaWVycyB8PSBFeHRyYUNvbXBpbGVyTW9kaWZpZXJz
LkFjY0dlbmVyaWNTaWduYXR1cmU7Ci0JCQkJbmV3UGFyYW1ldGVyc1tpXSA9IHBhcmFtZXRlclR5
cGU7Ci0JCQkJYXJnLmJpbmRpbmcgPSBuZXcgTG9jYWxWYXJpYWJsZUJpbmRpbmcoYXJnLCBwYXJh
bWV0ZXJUeXBlLCBhcmcubW9kaWZpZXJzLCB0cnVlIC8qaXNBcmd1bWVudCovKTsKLQkJCX0KKwkJ
CWZvdW5kQXJnUHJvYmxlbSA9IHJlc29sdmVBcmd1bWVudHMobWV0aG9kLCBtZXRob2REZWNsLCBw
YXJhbWV0ZXJzLCBpLCBhcmcsIHJlcG9ydFVuYXZvaWRhYmxlR2VuZXJpY1R5cGVQcm9ibGVtcyk7
CiAJCX0KLQkJLy8gb25seSBhc3NpZ24gcGFyYW1ldGVycyBpZiBubyBwcm9ibGVtcyBhcmUgZm91
bmQKLQkJaWYgKCFmb3VuZEFyZ1Byb2JsZW0pIHsKLQkJCW1ldGhvZC5wYXJhbWV0ZXJzID0gbmV3
UGFyYW1ldGVyczsKKwkJaWYgKCFmb3VuZEFyZ1Byb2JsZW0pIHsgLy8gb25seSBhc3NpZ24gcGFy
YW1ldGVycyBpZiBubyBwcm9ibGVtcyBhcmUgZm91bmQKKwkJCW1ldGhvZC5wYXJhbWV0ZXJzID0g
cGFyYW1ldGVyczsKIAkJfQorCX0KKwlpZiAobWV0aG9kRGVjbC5yZWNlaXZlciAhPSBudWxsKSB7
IAorCQlUeXBlQmluZGluZ1tdIHJlY2VpdmVycyA9IG5ldyBUeXBlQmluZGluZ1sxXTsKKwkJcmVz
b2x2ZUFyZ3VtZW50cyhtZXRob2QsIG1ldGhvZERlY2wsIHJlY2VpdmVycywgMCwgbWV0aG9kRGVj
bC5yZWNlaXZlciwgcmVwb3J0VW5hdm9pZGFibGVHZW5lcmljVHlwZVByb2JsZW1zKTsKKwkJbWV0
aG9kLnJlY2VpdmVyID0gcmVjZWl2ZXJzWzBdOwogCX0KIApAQCAtMTYyMSw0ICsxNTk4LDQwIEBA
CiAJcmV0dXJuIG1ldGhvZDsKIH0KKworcHJpdmF0ZSBib29sZWFuIHJlc29sdmVBcmd1bWVudHMo
TWV0aG9kQmluZGluZyBtZXRob2QsIEFic3RyYWN0TWV0aG9kRGVjbGFyYXRpb24gbWV0aG9kRGVj
bCwgVHlwZUJpbmRpbmdbXSBwYXJhbWV0ZXJzLCAKKwkJCQkJaW50IGksIEFyZ3VtZW50IGFyZywg
Ym9vbGVhbiByZXBvcnRVbmF2b2lkYWJsZUdlbmVyaWNUeXBlUHJvYmxlbXMpIHsKKwlib29sZWFu
IGZvdW5kQXJnUHJvYmxlbSA9IGZhbHNlOworCVR5cGVCaW5kaW5nIHBhcmFtZXRlclR5cGU7CisJ
CisJYm9vbGVhbiBkZWZlclJhd1R5cGVDaGVjayA9ICFyZXBvcnRVbmF2b2lkYWJsZUdlbmVyaWNU
eXBlUHJvYmxlbXMgJiYgIW1ldGhvZC5pc0NvbnN0cnVjdG9yKCkgJiYgKGFyZy50eXBlLmJpdHMg
JiBBU1ROb2RlLklnbm9yZVJhd1R5cGVDaGVjaykgPT0gMDsKKworCWlmIChkZWZlclJhd1R5cGVD
aGVjaykgeworCQlhcmcudHlwZS5iaXRzIHw9IEFTVE5vZGUuSWdub3JlUmF3VHlwZUNoZWNrOwor
CX0KKwl0cnkgeworCQlwYXJhbWV0ZXJUeXBlID0gYXJnLnR5cGUucmVzb2x2ZVR5cGUobWV0aG9k
RGVjbC5zY29wZSwgdHJ1ZSAvKiBjaGVjayBib3VuZHMqLyk7CisJfSBmaW5hbGx5IHsKKwkJaWYg
KGRlZmVyUmF3VHlwZUNoZWNrKSB7IAorCQkJYXJnLnR5cGUuYml0cyAmPSB+QVNUTm9kZS5JZ25v
cmVSYXdUeXBlQ2hlY2s7CisJCX0KKwl9CisKKwlpZiAocGFyYW1ldGVyVHlwZSA9PSBudWxsKSB7
CisJCWZvdW5kQXJnUHJvYmxlbSA9IHRydWU7CisJfSBlbHNlIGlmIChwYXJhbWV0ZXJUeXBlID09
IFR5cGVCaW5kaW5nLlZPSUQpIHsKKwkJbWV0aG9kRGVjbC5zY29wZS5wcm9ibGVtUmVwb3J0ZXIo
KS5hcmd1bWVudFR5cGVDYW5ub3RCZVZvaWQodGhpcywgbWV0aG9kRGVjbCwgYXJnKTsKKwkJZm91
bmRBcmdQcm9ibGVtID0gdHJ1ZTsKKwl9IGVsc2UgeworCQlpZiAoKHBhcmFtZXRlclR5cGUudGFn
Qml0cyAmIFRhZ0JpdHMuSGFzTWlzc2luZ1R5cGUpICE9IDApIHsKKwkJCW1ldGhvZC50YWdCaXRz
IHw9IFRhZ0JpdHMuSGFzTWlzc2luZ1R5cGU7CisJCX0KKwkJVHlwZUJpbmRpbmcgbGVhZlR5cGUg
PSBwYXJhbWV0ZXJUeXBlLmxlYWZDb21wb25lbnRUeXBlKCk7CisJCWlmIChsZWFmVHlwZSBpbnN0
YW5jZW9mIFJlZmVyZW5jZUJpbmRpbmcgJiYgKCgoUmVmZXJlbmNlQmluZGluZykgbGVhZlR5cGUp
Lm1vZGlmaWVycyAmIEV4dHJhQ29tcGlsZXJNb2RpZmllcnMuQWNjR2VuZXJpY1NpZ25hdHVyZSkg
IT0gMCkKKwkJCW1ldGhvZC5tb2RpZmllcnMgfD0gRXh0cmFDb21waWxlck1vZGlmaWVycy5BY2NH
ZW5lcmljU2lnbmF0dXJlOworCQlwYXJhbWV0ZXJzW2ldID0gcGFyYW1ldGVyVHlwZTsKKwkJYXJn
LmJpbmRpbmcgPSBuZXcgTG9jYWxWYXJpYWJsZUJpbmRpbmcoYXJnLCBwYXJhbWV0ZXJUeXBlLCBh
cmcubW9kaWZpZXJzLCB0cnVlIC8qaXNBcmd1bWVudCovKTsKKwl9CisJcmV0dXJuIGZvdW5kQXJn
UHJvYmxlbTsKK30KIHByaXZhdGUgdm9pZCBjcmVhdGVBcmd1bWVudEJpbmRpbmdzKE1ldGhvZEJp
bmRpbmcgbWV0aG9kKSB7CiAJLy8gZW5zdXJlIG51bGxuZXNzIGRlZmF1bHRzIGFyZSBpbml0aWFs
aXplZCBhdCBhbGwgZW5jbG9zaW5nIGxldmVsczoKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIv
UGFyc2VyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCmluZGV4IDNhZmRjY2YuLmVh
MTMxNTAgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L3BhcnNlci9QYXJzZXIuamF2YQpAQCAtNTIyMywxMCArNTIyMywyMyBAQAogCS8vYXJndW1lbnRz
CiAJaWYgKGxlbmd0aCAhPSAwKSB7Ci0JCVN5c3RlbS5hcnJheWNvcHkoCi0JCQl0aGlzLmFzdFN0
YWNrLAotCQkJdGhpcy5hc3RQdHIgKyAxLAotCQkJbWQuYXJndW1lbnRzID0gbmV3IEFyZ3VtZW50
W2xlbmd0aF0sCi0JCQkwLAotCQkJbGVuZ3RoKTsKKwkJQXJndW1lbnQgYXJnID0gKEFyZ3VtZW50
KSB0aGlzLmFzdFN0YWNrW3RoaXMuYXN0UHRyICsgMV07CisJCWlmIChhcmcuaXNSZWNlaXZlcigp
KSB7IAorCQkJbWQucmVjZWl2ZXIgPSAoUmVjZWl2ZXIpIGFyZzsKKwkJCWlmIChsZW5ndGggPiAx
KQorCQkJU3lzdGVtLmFycmF5Y29weSgKKwkJCQkJdGhpcy5hc3RTdGFjaywKKwkJCQkJdGhpcy5h
c3RQdHIgKyAyLAorCQkJCQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoIC0gMV0s
CisJCQkJCTAsCisJCQkJCWxlbmd0aCAtIDEpOworCQl9CisJCWVsc2UgeworCQkJU3lzdGVtLmFy
cmF5Y29weSgKKwkJCQkJdGhpcy5hc3RTdGFjaywKKwkJCQkJdGhpcy5hc3RQdHIgKyAxLAorCQkJ
CQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoXSwKKwkJCQkJMCwKKwkJCQkJbGVu
Z3RoKTsKKwkJfQogCX0KIAltZC5ib2R5U3RhcnQgPSB0aGlzLnJQYXJlblBvcysxOw==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>219801</attachid>
            <date>2012-08-13 07:15:00 -0400</date>
            <delta_ts>2012-08-14 11:32:38 -0400</delta_ts>
            <desc>Updated patch</desc>
            <filename>Fix-for-bug-383908.patch</filename>
            <type>text/plain</type>
            <size>19273</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFu
bm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9z
cmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2
ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmluZGV4IDZhZGI0MmQuLjgyZDk0YTUgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBl
QW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTA4Myw3ICsxMDgzLDcgQEAKIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgT3V0ZXIuSW5uZXIudGhpcywgaW50IGksIGZsb2F0
IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVyIE91dGVyLnRo
aXMsIGZsb2F0IGYpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVy
LklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IE91dGVyLklubmVyLklubmVyTW9zdC50aGlzKSB7fVxu
IiArDQorCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVy
TW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKw0K
IAkJCQkJCSIgICAgICAgICAgICBJbm5lck1vc3QoSW5uZXI8SyxWPiBPdXRlci5Jbm5lci5Jbm5l
ck1vc3QudGhpcywgaW50IGkpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0
KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJCQkJCQkiICAgICAg
ICAgICAgSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYsIGludCBpKSB7
fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+IElu
bmVyLnRoaXMsIGxvbmcgbCkge31cbiIgKw0KIAkJCQkJCSIgICAgICAgIH1cbiIgKw0KQEAgLTEx
MzcsMTAgKzExMzcsMTAgQEAKIAkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQogCQkJCQkJIjEwLiBF
UlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQotCQkJCQkJIglJbm5lck1vc3Qo
T3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMp
IHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8
VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBvYmopIHt9XG4iICsgDQogCQkJ
CQkJIgkgICAgICAgICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiIgKyANCiAJCQkJCQki
VGhlIGRlY2xhcmVkIHR5cGUgb2YgdGhlIGV4cGxpY2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhw
ZWN0ZWQgdG8gYmUgT3V0ZXIuSW5uZXI8SyxWPlxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4i
ICsgDQogCQkJCQkJIjExLiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQot
CQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5u
ZXIuSW5uZXJNb3N0LnRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5u
ZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBv
YmopIHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCiAJCQkJCQkiVGhlIGV4cGxp
Y2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgdG8gYmUgcXVhbGlmaWVkIHdpdGggT3V0
ZXIuSW5uZXJcbiIgKyANCkBAIC0xMTUyLDUgKzExNTIsNSBAQAogCQkJCQkJIi0tLS0tLS0tLS1c
biIgKyANCiAJCQkJCQkiMTMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTEpXG4iICsg
DQotCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SywgVj4gdGhpcywgZmxvYXQgZikge31c
biIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLCBWPiB0aGlzLCBmbG9hdCBm
LCBpbnQgaSkge31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBe
Xl5eXG4iICsgDQogCQkJCQkJIlRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlzIGV4cGVj
dGVkIHRvIGJlIHF1YWxpZmllZCB3aXRoIE91dGVyLklubmVyXG4iICsgDQpAQCAtMTE2Nyw5ICsx
MTY3LDkgQEAKIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oT3V0ZXIgT3V0ZXIu
dGhpcykge31cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXI8
SyxWPiBJbm5lci50aGlzLCBpbnQgaSkge31cbiIgKw0KLQkJCQkJCSIgICAgICAgICAgICBwdWJs
aWMgdm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGopIHt9XG4iICsNCiAJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyLklubmVyTW9zdDxUPiB0aGlz
LCBPYmplY3Qgb2JqKSB7fVxuIiArDQotCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZv
byhJbm5lck1vc3Q8VD4gdGhpcywgaW50IGkpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiB0aGlzLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJ
CQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lcjxLLFY+LklubmVyTW9zdDxUPiB0
aGlzLCBsb25nIGwpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9v
KE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKE91dGVyLklubmVyPEssVj4uSW5uZXJN
b3N0PFQ+IHRoaXMsIGZsb2F0IGYsIGZsb2F0IGZmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAg
ICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRo
aXMsIGludCBpLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAgfVxuIiArDQpAQCAt
MTE5OCwxMCArMTE5OCwxMCBAQAogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNS4g
V0FSTklORyBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDYpXG4iICsgDQotCQkJCQkJIglwdWJsaWMg
dm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglwdWJsaWMgdm9pZCBm
b28oSW5uZXJNb3N0IHRoaXMsIGludCBpLCBpbnQgaikge31cbiIgKyANCiAJCQkJCQkiCSAgICAg
ICAgICAgICAgICBeXl5eXl5eXl5cbiIgKyANCiAJCQkJCQkiT3V0ZXIuSW5uZXIuSW5uZXJNb3N0
IGlzIGEgcmF3IHR5cGUuIFJlZmVyZW5jZXMgdG8gZ2VuZXJpYyB0eXBlIE91dGVyLklubmVyPEss
Vj4uSW5uZXJNb3N0PFQ+IHNob3VsZCBiZSBwYXJhbWV0ZXJpemVkXG4iICsgDQogCQkJCQkJIi0t
LS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSA2
KVxuIiArIA0KLQkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzKSB7fVxuIiAr
IA0KKwkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGop
IHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgXl5eXl5eXl5eXG4iICsgDQogCQkJ
CQkJIlRoZSBkZWNsYXJlZCB0eXBlIG9mIHRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlz
IGV4cGVjdGVkIHRvIGJlIE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+XG4iICsgDQpAQCAt
MTIyMyw0ICsxMjIzLDYgQEAKIAkJCQluZXcgU3RyaW5nW10gew0KIAkJCQkJCSJPdXRlci5qYXZh
IiwNCisJCQkJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIgKyANCisJ
CQkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS4qO1xu
IiArIA0KIAkJCQkJCSJwdWJsaWMgY2xhc3MgT3V0ZXIge1xuIiArDQogCQkJCQkJIiAgICBjbGFz
cyBJbm5lcjxLLFY+IHtcbiIgKw0KQEAgLTEyMzQsNSArMTIzNiw1IEBACiAJCQkJCQkiICAgICAg
ICAgICAgdm9pZCBiYXIoaW50IGkpIHtcbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgY2xh
c3MgTG9jYWwge1xuIiArDQotCQkJCQkJIiAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBo
YXNoQ29kZShMb2NhbCB0aGlzKSB7IHJldHVybiAwOyB9XG4iICsNCisJCQkJCQkiICAgICAgICAg
ICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKExvY2FsIHRoaXMsIGludCBrKSB7IHJldHVy
biAwOyB9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hD
b2RlKE91dGVyLkxvY2FsIHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKw0KIAkJCQkJCSIgICAgICAg
ICAgICAgICAgfVxuIiArDQpAQCAtMTI0OSwzMiArMTI1MSwzMyBAQAogCQkJCQkJIiAgICBwdWJs
aWMgdm9pZCBmb29iYXIoQW5vbnltb3VzSW5uZXIgdGhpcyk7XG4iICsNCiAJCQkJCQkifVxuIiAr
DQorCQkJCQkJIkBUYXJnZXQoVFlQRV9VU0UpXG4iICsgDQogCQkJCQkJIkBpbnRlcmZhY2UgTWFy
a2VyIHt9In0sDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIxLiBFUlJPUiBp
biBPdXRlci5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCQkJCSIxLiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDUpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIElubmVyKEBNaXNzaW5n
IE91dGVyIE91dGVyLnRoaXMpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICBeXl5e
Xl5eXG4iICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVc
biIgKyANCiAJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCi0JCQkJCQkJIjIuIEVSUk9SIGluIE91
dGVyLmphdmEgKGF0IGxpbmUgNylcbiIgKyANCisJCQkJCQkJIjIuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgOSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb29iYXIoQW5vbnlt
b3VzSW5uZXIgdGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRl
ciBpcyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNs
YXNzZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0t
LS0tLVxuIiArIA0KLQkJCQkJCQkiMy4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAxMylc
biIgKyANCisJCQkJCQkJIjMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTUpXG4iICsg
DQogCQkJCQkJCSIJcHVibGljIGludCBoYXNoQ29kZShPdXRlci5Mb2NhbCB0aGlzKSB7IHJldHVy
biAwOyB9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICAgICAgICBeXl5eXl5eXl5eXlxu
IiArIA0KIAkJCQkJCQkiT3V0ZXIuTG9jYWwgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxu
IiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KLQkJCQkJCQkiNC4gRVJST1IgaW4gT3V0
ZXIuamF2YSAoYXQgbGluZSAxOSlcbiIgKyANCisJCQkJCQkJIjQuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgMjEpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIFN0YXRpY05lc3RlZChATWFy
a2VyIE91dGVyLlN0YXRpY05lc3RlZCBPdXRlci5TdGF0aWNOZXN0ZWQudGhpcykge31cbiIgKyAN
CiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBeXl5eXG4iICsgDQogCQkJCQkJCSJFeHBsaWNpdCAndGhpcycg
cGFyYW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2RzIG9mIG5vbi1hbm9u
eW1vdXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4iICsgDQogCQkJCQkJ
CSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSI1LiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBs
aW5lIDIxKVxuIiArIA0KKwkJCQkJCQkiNS4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAy
MylcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgZm9vKEBNYXJrZXIgT3V0ZXIg
dGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBh
bGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMg
YW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxu
IiArIA0KLQkJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMilcbiIgKyAN
CisJCQkJCQkJIjYuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMjQpXG4iICsgDQogCQkJ
CQkJCSIJcHVibGljIHZvaWQgZm9vKEBNaXNzaW5nIE91dGVyIHRoaXMsIGludCBpKSB7fVxuIiAr
IA0KIAkJCQkJCQkiCSAgICAgICAgICAgICAgICAgXl5eXl5eXlxuIiArIA0KQEAgLTEyODIsMyAr
MTI4NSwyOCBAQAogCQkJCQkJCSItLS0tLS0tLS0tXG4iKTsNCiAJfQ0KKwlwdWJsaWMgdm9pZCB0
ZXN0MDM4MzkwOCgpIHsNCisJCXRoaXMucnVuTmVnYXRpdmVUZXN0KA0KKwkJCQluZXcgU3RyaW5n
W117IlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xhc3MgWCB7IFxuIiArDQorCQkJCSIJdm9pZCBm
b28oWCB0aGlzKSB7fVxuIiArDQorCQkJCSIgICB2b2lkIGZvbygpIHt9XG4iICsNCisJCQkJIn1c
biIgKw0KKwkJCQkiY2xhc3MgWSB7XG4iICsNCisJCQkJIgl2b2lkIGZvbyhZIHRoaXMpIHt9XG4i
ICsNCisJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsN
CisJCQkJIgkJbmV3IFkoKS5mb28oKTtcbiIgKw0KKwkJCQkiCX1cbiIgKw0KKwkJCQkifSJ9LCAN
CisJCQkJIi0tLS0tLS0tLS1cbiIgKyANCisJCQkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGlu
ZSAyKVxuIiArIA0KKwkJCQkiCXZvaWQgZm9vKFggdGhpcykge31cbiIgKyANCisJCQkJIgkgICAg
IF5eXl5eXl5eXl5eXG4iICsgDQorCQkJCSJEdXBsaWNhdGUgbWV0aG9kIGZvbygpIGluIHR5cGUg
WFxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZh
IChhdCBsaW5lIDMpXG4iICsgDQorCQkJCSIJdm9pZCBmb28oKSB7fVxuIiArIA0KKwkJCQkiCSAg
ICAgXl5eXl5cbiIgKyANCisJCQkJIkR1cGxpY2F0ZSBtZXRob2QgZm9vKCkgaW4gdHlwZSBYXG4i
ICsgDQorCQkJCSItLS0tLS0tLS0tXG4iKTsNCisJfQ0KIH0NCmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
bW9kZWwvSmF2YVNlYXJjaFRlc3RzLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5t
b2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvSmF2YVNlYXJjaFRlc3Rz
LmphdmEKaW5kZXggMzE2YjFjNy4uMWI2NjRmMyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0ph
dmFTZWFyY2hUZXN0cy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVs
L3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoVGVzdHMuamF2
YQpAQCAtNDQ2NSwzICs0NDY1LDMyIEBACiAJYXNzZXJ0RXF1YWxzKCJGb3VuZCB0eXBlcyBzb3Vu
ZHMgbm90IHRvIGJlIGNvcnJlY3QiLCByZXF1ZXN0b3IudG9TdHJpbmcoKSwgY29sbGVjdG9yLnRv
U3RyaW5nKCkpOwogfQorLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcu
Y2dpP2lkPTM4MzkwOAorcHVibGljIHZvaWQgdGVzdEJ1ZzM4MzkwOCgpIHRocm93cyBDb3JlRXhj
ZXB0aW9uIHsKKwl0cnkgeworCQlTdHJpbmcgZmlsZUNvbnRlbnQgPSAicGFja2FnZSBwO1xuIiAr
CisJCQkJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCQkJCQkJIiAgcHVibGljIHZvaWQg
Zm9vYmFyKFggdGhpcywgU3RyaW5nIHN0cikge1xuIiArCisJCQkJCQkJCSIgIH1cbiIgKworCQkJ
CQkJCQkifSI7CisJCWNyZWF0ZUphdmFQcm9qZWN0KCJQIiwgbmV3IFN0cmluZ1tdIHsic3JjIn0s
IG5ldyBTdHJpbmdbMF0sICJiaW4iKTsKKwkJY3JlYXRlRm9sZGVyKCIvUC9zcmMvcCIpOworCQlj
cmVhdGVGaWxlKCIvUC9zcmMvcC9YLmphdmEiLCBmaWxlQ29udGVudCk7CisKKwkJSVR5cGUgdHlw
ZSA9IGdldENvbXBpbGF0aW9uVW5pdCgiUCIsICJzcmMiLCAicCIsICJYLmphdmEiKS5nZXRUeXBl
KCJYIik7CisJCUlNZXRob2RbXSBtZXRob2RzID0gdHlwZS5nZXRNZXRob2RzKCk7CisJCXNlYXJj
aCgKKwkJCQltZXRob2RzWzBdLAorCQkJCURFQ0xBUkFUSU9OUywKKwkJCQlTZWFyY2hFbmdpbmUu
Y3JlYXRlSmF2YVNlYXJjaFNjb3BlKG5ldyBJSmF2YUVsZW1lbnRbXSB7dHlwZX0pLAorCQkJCXRo
aXMucmVzdWx0Q29sbGVjdG9yKTsKKwkJCisJCWFzc2VydFNlYXJjaFJlc3VsdHMoCisJCQkJInNy
Yy9wL1guamF2YSB2b2lkIHAuWC5mb29iYXIoU3RyaW5nKSBbZm9vYmFyXSIsCisJCQkJdGhpcy5y
ZXN1bHRDb2xsZWN0b3IpOworCQkKKwl9IGZpbmFsbHkgeworCQlkZWxldGVQcm9qZWN0KCJQIik7
CisJfQorfQorCiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0Fic3RyYWN0TWV0aG9kRGVjbGFy
YXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5qYXZhCmlu
ZGV4IGZkMzY0NTkuLmQ2NjM5Y2YgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Nv
bXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RNZXRo
b2REZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RNZXRob2REZWNsYXJh
dGlvbi5qYXZhCkBAIC00OCw0ICs0OCw1IEBACiAJcHVibGljIEFubm90YXRpb25bXSBhbm5vdGF0
aW9uczsKIAkvLyBqc3IgMzA4CisJcHVibGljIFJlY2VpdmVyIHJlY2VpdmVyOwogCXB1YmxpYyBB
bm5vdGF0aW9uW10gcmVjZWl2ZXJBbm5vdGF0aW9uczsKIAlwdWJsaWMgQXJndW1lbnRbXSBhcmd1
bWVudHM7CkBAIC0xMDAsNCArMTAxLDcgQEAKIAkJCX0KIAkJfQorCQlpZiAodGhpcy5yZWNlaXZl
ciAhPSBudWxsKSB7CisJCQl0aGlzLnJlY2VpdmVyLmNyZWF0ZUJpbmRpbmcodGhpcy5zY29wZSwg
dGhpcy5iaW5kaW5nLnJlY2VpdmVyKTsKKwkJfQogCX0KIApAQCAtMTA3LDQgKzExMSw4IEBACiAJ
cHVibGljIHZvaWQgYmluZEFyZ3VtZW50cygpIHsKIAorCQlpZiAodGhpcy5yZWNlaXZlciAhPSBu
dWxsKSB7CisJCQkvLyBObyBuZWVkIHRvIGNvbnNpZGVyIHRoZSBwYXJhbSBhbm5vdGF0aW9ucyBm
b3IgcmVjZWl2ZXJzCisJCQl0aGlzLnJlY2VpdmVyLmJpbmQodGhpcy5zY29wZSwgdGhpcy5iaW5k
aW5nID09IG51bGwgPyBudWxsIDogdGhpcy5iaW5kaW5nLnJlY2VpdmVyLCB0cnVlKTsKKwkJfQog
CQlpZiAodGhpcy5hcmd1bWVudHMgIT0gbnVsbCkgewogCQkJLy8gYnkgZGVmYXVsdCBhcmd1bWVu
dHMgaW4gYWJzdHJhY3QvbmF0aXZlIG1ldGhvZHMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgdXNlZCAo
bm8gY29tcGxhaW50IGlzIGV4cGVjdGVkKQpAQCAtMjY0LDQgKzI3Miw5IEBACiAJfQogCisJcHJp
dmF0ZSB2b2lkIHJlY29yZEluaXRpYWxpemF0aW9uKEFyZ3VtZW50IGFyZywgQ29kZVN0cmVhbSBj
b2RlU3RyZWFtKSB7CisJCUxvY2FsVmFyaWFibGVCaW5kaW5nIGFyZ0JpbmRpbmc7CisJCWNvZGVT
dHJlYW0uYWRkVmlzaWJsZUxvY2FsVmFyaWFibGUoYXJnQmluZGluZyA9IGFyZy5iaW5kaW5nKTsK
KwkJYXJnQmluZGluZy5yZWNvcmRJbml0aWFsaXphdGlvblN0YXJ0UEMoMCk7CisJfQogCXB1Ymxp
YyB2b2lkIGdlbmVyYXRlQ29kZShDbGFzc0ZpbGUgY2xhc3NGaWxlKSB7CiAKQEAgLTI4MCw4ICsy
OTMsOSBAQAogCQkJaWYgKHRoaXMuYXJndW1lbnRzICE9IG51bGwpIHsKIAkJCQlmb3IgKGludCBp
ID0gMCwgbWF4ID0gdGhpcy5hcmd1bWVudHMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKLQkJCQkJ
TG9jYWxWYXJpYWJsZUJpbmRpbmcgYXJnQmluZGluZzsKLQkJCQkJY29kZVN0cmVhbS5hZGRWaXNp
YmxlTG9jYWxWYXJpYWJsZShhcmdCaW5kaW5nID0gdGhpcy5hcmd1bWVudHNbaV0uYmluZGluZyk7
Ci0JCQkJCWFyZ0JpbmRpbmcucmVjb3JkSW5pdGlhbGl6YXRpb25TdGFydFBDKDApOworCQkJCQly
ZWNvcmRJbml0aWFsaXphdGlvbih0aGlzLmFyZ3VtZW50c1tpXSwgY29kZVN0cmVhbSk7CiAJCQkJ
fQorCQkJfQorCQkJaWYgKHRoaXMucmVjZWl2ZXIgIT0gbnVsbCkgeworCQkJCXJlY29yZEluaXRp
YWxpemF0aW9uKHRoaXMucmVjZWl2ZXIsIGNvZGVTdHJlYW0pOwogCQkJfQogCQkJaWYgKHRoaXMu
c3RhdGVtZW50cyAhPSBudWxsKSB7CkBAIC00MzIsNyArNDQ2LDEwIEBACiAKIAkJcHJpbnRSZXR1
cm5UeXBlKDAsIG91dHB1dCkuYXBwZW5kKHRoaXMuc2VsZWN0b3IpLmFwcGVuZCgnKCcpOworCQlp
ZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJCQl0aGlzLnJlY2VpdmVyLnByaW50KDAsIG91
dHB1dCk7CisJCX0KIAkJaWYgKHRoaXMuYXJndW1lbnRzICE9IG51bGwpIHsKIAkJCWZvciAoaW50
IGkgPSAwOyBpIDwgdGhpcy5hcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKLQkJCQlpZiAoaSA+IDAp
IG91dHB1dC5hcHBlbmQoIiwgIik7IC8vJE5PTi1OTFMtMSQKKwkJCQlpZiAoaSA+IDAgfHwgdGhp
cy5yZWNlaXZlciAhPSBudWxsKSBvdXRwdXQuYXBwZW5kKCIsICIpOyAvLyROT04tTkxTLTEkCiAJ
CQkJdGhpcy5hcmd1bWVudHNbaV0ucHJpbnQoMCwgb3V0cHV0KTsKIAkJCX0KQEAgLTUwNiwzOCAr
NTIzLDM1IEBACiAKIAlwdWJsaWMgdm9pZCByZXNvbHZlUmVjZWl2ZXIoKSB7Ci0JCWlmICh0aGlz
LmFyZ3VtZW50cyAhPSBudWxsICYmIHRoaXMuYXJndW1lbnRzLmxlbmd0aCA+IDApIHsKLQkJCWlm
ICh0aGlzLmFyZ3VtZW50c1swXS5pc1JlY2VpdmVyKCkpIHsKLQkJCQlSZWNlaXZlciByZWNlaXZl
ciA9IChSZWNlaXZlcikgdGhpcy5hcmd1bWVudHNbMF07CisJCWlmICh0aGlzLnJlY2VpdmVyID09
IG51bGwpCisJCQlyZXR1cm47CisJCQorCQlUeXBlQmluZGluZyByZXNvbHZlZFJlY2VpdmVyVHlw
ZSA9IHRoaXMucmVjZWl2ZXIudHlwZS5yZXNvbHZlZFR5cGU7CisJCWlmICh0aGlzLmJpbmRpbmcg
PT0gbnVsbCB8fCByZXNvbHZlZFJlY2VpdmVyVHlwZSA9PSBudWxsIHx8ICFyZXNvbHZlZFJlY2Vp
dmVyVHlwZS5pc1ZhbGlkQmluZGluZygpKQorCQkJcmV0dXJuOwogCi0JCQkJVHlwZUJpbmRpbmcg
cmVzb2x2ZWRSZWNlaXZlclR5cGUgPSByZWNlaXZlci50eXBlLnJlc29sdmVkVHlwZTsKLQkJCQlp
ZiAodGhpcy5iaW5kaW5nID09IG51bGwgfHwgcmVzb2x2ZWRSZWNlaXZlclR5cGUgPT0gbnVsbCB8
fCAhcmVzb2x2ZWRSZWNlaXZlclR5cGUuaXNWYWxpZEJpbmRpbmcoKSkKLQkJCQkJcmV0dXJuOwor
CQlSZWZlcmVuY2VCaW5kaW5nIGRlY2xhcmluZ0NsYXNzID0gdGhpcy5iaW5kaW5nLmRlY2xhcmlu
Z0NsYXNzOworCQkvKiBuZWl0aGVyIHN0YXRpYyBtZXRob2RzIG5vciBtZXRob2RzIGluIGFub255
bW91cyB0eXBlcyBjYW4gaGF2ZSBleHBsaWNpdCAndGhpcycgKi8KKwkJaWYgKHRoaXMuaXNTdGF0
aWMoKSB8fCBkZWNsYXJpbmdDbGFzcy5pc0Fub255bW91c1R5cGUoKSkgeworCQkJdGhpcy5zY29w
ZS5wcm9ibGVtUmVwb3J0ZXIoKS5kaXNhbGxvd2VkVGhpc1BhcmFtZXRlcih0aGlzLnJlY2VpdmVy
KTsKKwkJCXJldHVybjsgLy8gTm8gbmVlZCB0byBkbyBmdXJ0aGVyIHZhbGlkYXRpb24KKwkJfQog
Ci0JCQkJUmVmZXJlbmNlQmluZGluZyBkZWNsYXJpbmdDbGFzcyA9IHRoaXMuYmluZGluZy5kZWNs
YXJpbmdDbGFzczsKLQkJCQkvKiBuZWl0aGVyIHN0YXRpYyBtZXRob2RzIG5vciBtZXRob2RzIGlu
IGFub255bW91cyB0eXBlcyBjYW4gaGF2ZSBleHBsaWNpdCAndGhpcycgKi8KLQkJCQlpZiAodGhp
cy5pc1N0YXRpYygpIHx8IGRlY2xhcmluZ0NsYXNzLmlzQW5vbnltb3VzVHlwZSgpKSB7Ci0JCQkJ
CXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuZGlzYWxsb3dlZFRoaXNQYXJhbWV0ZXIocmVj
ZWl2ZXIpOwotCQkJCQlyZXR1cm47IC8vIE5vIG5lZWQgdG8gZG8gZnVydGhlciB2YWxpZGF0aW9u
Ci0JCQkJfQotCi0JCQkJUmVmZXJlbmNlQmluZGluZyBlbmNsb3NpbmdSZWNlaXZlciA9IHRoaXMu
c2NvcGUuZW5jbG9zaW5nUmVjZWl2ZXJUeXBlKCk7Ci0JCQkJaWYgKHRoaXMuaXNDb25zdHJ1Y3Rv
cigpKSB7Ci0JCQkJCS8qIE9ubHkgbm9uIHN0YXRpYyBtZW1iZXIgdHlwZXMgb3IgbG9jYWwgdHlw
ZXMgY2FuIGRlY2xhcmUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtcyBpbiBjb25zdHJ1Y3RvcnMgKi8K
LQkJCQkJaWYgKGRlY2xhcmluZ0NsYXNzLmlzU3RhdGljKCkKLQkJCQkJCQl8fCAoZGVjbGFyaW5n
Q2xhc3MudGFnQml0cyAmIChUYWdCaXRzLklzTG9jYWxUeXBlIHwgVGFnQml0cy5Jc01lbWJlclR5
cGUpKSA9PSAwKSB7IC8qIG5laXRoZXIgbWVtYmVyIG5vciBsb2NhbCB0eXBlICovCi0JCQkJCQl0
aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmRpc2FsbG93ZWRUaGlzUGFyYW1ldGVyKHJlY2Vp
dmVyKTsKLQkJCQkJCXJldHVybjsgLy8gTm8gbmVlZCB0byBkbyBmdXJ0aGVyIHZhbGlkYXRpb24K
LQkJCQkJfQotCQkJCQllbmNsb3NpbmdSZWNlaXZlciA9IGVuY2xvc2luZ1JlY2VpdmVyLmVuY2xv
c2luZ1R5cGUoKTsKLQkJCQl9Ci0KLQkJCQlpZiAoZW5jbG9zaW5nUmVjZWl2ZXIgIT0gcmVzb2x2
ZWRSZWNlaXZlclR5cGUpIHsKLQkJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5pbGxl
Z2FsVHlwZUZvckV4cGxpY2l0VGhpcyhyZWNlaXZlciwgZW5jbG9zaW5nUmVjZWl2ZXIpOwotCQkJ
CX0KLQotCQkJCWlmICgocmVjZWl2ZXIucXVhbGlmeWluZ05hbWUgPT0gbnVsbCkgPyB0aGlzLmlz
Q29uc3RydWN0b3IoKSA6ICFpc1F1YWxpZmllclZhbGlkRm9yVHlwZShyZWNlaXZlci5xdWFsaWZ5
aW5nTmFtZS5nZXROYW1lKCksIGVuY2xvc2luZ1JlY2VpdmVyKSkgewotCQkJCQl0aGlzLnNjb3Bl
LnByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxRdWFsaWZpZXJGb3JFeHBsaWNpdFRoaXMocmVjZWl2
ZXIsIGVuY2xvc2luZ1JlY2VpdmVyKTsJCQkJCQotCQkJCX0KKwkJUmVmZXJlbmNlQmluZGluZyBl
bmNsb3NpbmdSZWNlaXZlciA9IHRoaXMuc2NvcGUuZW5jbG9zaW5nUmVjZWl2ZXJUeXBlKCk7CisJ
CWlmICh0aGlzLmlzQ29uc3RydWN0b3IoKSkgeworCQkJLyogT25seSBub24gc3RhdGljIG1lbWJl
ciB0eXBlcyBvciBsb2NhbCB0eXBlcyBjYW4gZGVjbGFyZSBleHBsaWNpdCAndGhpcycgcGFyYW1z
IGluIGNvbnN0cnVjdG9ycyAqLworCQkJaWYgKGRlY2xhcmluZ0NsYXNzLmlzU3RhdGljKCkKKwkJ
CQkJfHwgKGRlY2xhcmluZ0NsYXNzLnRhZ0JpdHMgJiAoVGFnQml0cy5Jc0xvY2FsVHlwZSB8IFRh
Z0JpdHMuSXNNZW1iZXJUeXBlKSkgPT0gMCkgeyAvKiBuZWl0aGVyIG1lbWJlciBub3IgbG9jYWwg
dHlwZSAqLworCQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuZGlzYWxsb3dlZFRoaXNQ
YXJhbWV0ZXIodGhpcy5yZWNlaXZlcik7CisJCQkJcmV0dXJuOyAvLyBObyBuZWVkIHRvIGRvIGZ1
cnRoZXIgdmFsaWRhdGlvbgogCQkJfQorCQkJZW5jbG9zaW5nUmVjZWl2ZXIgPSBlbmNsb3NpbmdS
ZWNlaXZlci5lbmNsb3NpbmdUeXBlKCk7CisJCX0KKworCQlpZiAoZW5jbG9zaW5nUmVjZWl2ZXIg
IT0gcmVzb2x2ZWRSZWNlaXZlclR5cGUpIHsKKwkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVy
KCkuaWxsZWdhbFR5cGVGb3JFeHBsaWNpdFRoaXModGhpcy5yZWNlaXZlciwgZW5jbG9zaW5nUmVj
ZWl2ZXIpOworCQl9CisKKwkJaWYgKCh0aGlzLnJlY2VpdmVyLnF1YWxpZnlpbmdOYW1lID09IG51
bGwpID8gdGhpcy5pc0NvbnN0cnVjdG9yKCkgOiAhaXNRdWFsaWZpZXJWYWxpZEZvclR5cGUodGhp
cy5yZWNlaXZlci5xdWFsaWZ5aW5nTmFtZS5nZXROYW1lKCksIGVuY2xvc2luZ1JlY2VpdmVyKSkg
eworCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsUXVhbGlmaWVyRm9yRXhw
bGljaXRUaGlzKHRoaXMucmVjZWl2ZXIsIGVuY2xvc2luZ1JlY2VpdmVyKTsJCQkJCQogCQl9CiAJ
fQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RCaW5kaW5nLmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
bG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQppbmRleCBjZTI1ZTU3Li43YTk1NjZkIDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQorKysgYi9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3Vw
L01ldGhvZEJpbmRpbmcuamF2YQpAQCAtMzUsNCArMzUsNSBAQAogCXB1YmxpYyBUeXBlQmluZGlu
ZyByZXR1cm5UeXBlOwogCXB1YmxpYyBUeXBlQmluZGluZ1tdIHBhcmFtZXRlcnM7CisJcHVibGlj
IFR5cGVCaW5kaW5nIHJlY2VpdmVyOwogCXB1YmxpYyBSZWZlcmVuY2VCaW5kaW5nW10gdGhyb3du
RXhjZXB0aW9uczsKIAlwdWJsaWMgUmVmZXJlbmNlQmluZGluZyBkZWNsYXJpbmdDbGFzczsKZGlm
ZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2NvcGUuamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAv
TWV0aG9kU2NvcGUuamF2YQppbmRleCA4YjVmODIwLi5lNWU4MTg3IDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvbG9va3VwL01ldGhvZFNjb3BlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RTY29w
ZS5qYXZhCkBAIC0zNTQsOCArMzU0LDggQEAKIAkJCW1ldGhvZC5iaW5kaW5nLm1vZGlmaWVycyB8
PSBDbGFzc0ZpbGVDb25zdGFudHMuQWNjVmFyYXJnczsKIAkJaWYgKENoYXJPcGVyYXRpb24uZXF1
YWxzKGFyZ3VtZW50Lm5hbWUsIENvbnN0YW50UG9vbC5UaGlzKSkgewotCQkJaWYgKGFyZ0xlbmd0
aCAhPSAwIHx8IHNvdXJjZUxldmVsIDw9IENsYXNzRmlsZUNvbnN0YW50cy5KREsxXzcpIHsKKwkJ
CWlmIChhcmdMZW5ndGggIT0gMCkgewogCQkJCXByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxUaGlz
KGFyZ3VtZW50LCBtZXRob2QsIHNvdXJjZUxldmVsKTsKIAkJCX0KLQkJCWlmIChhcmd1bWVudC5h
bm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQllbHNlIGlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAh
PSBudWxsKSB7CiAJCQkJbWV0aG9kLnJlY2VpdmVyQW5ub3RhdGlvbnMgPSBhcmd1bWVudC5hbm5v
dGF0aW9uczsKIAkJCQltZXRob2QuYml0cyB8PSBBU1ROb2RlLkhhc1R5cGVBbm5vdGF0aW9uczsK
QEAgLTM3Nyw0ICszNzcsNyBAQAogCQl9CiAJfQorCWlmIChtZXRob2QucmVjZWl2ZXIgIT0gbnVs
bCAmJiBzb3VyY2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV83KSB7CisJCXByb2Js
ZW1SZXBvcnRlcigpLmlsbGVnYWxUaGlzKG1ldGhvZC5yZWNlaXZlciwgbWV0aG9kLCBzb3VyY2VM
ZXZlbCk7CisJfQogCiAJVHlwZVBhcmFtZXRlcltdIHR5cGVQYXJhbWV0ZXJzID0gbWV0aG9kLnR5
cGVQYXJhbWV0ZXJzKCk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5k
aW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEKaW5kZXggYThm
YmM1OS4uMDZiZmEzOSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGlu
Zy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQpAQCAtMTUw
OSw1ICsxNTA5LDEyIEBACiAJYm9vbGVhbiBmb3VuZEFyZ1Byb2JsZW0gPSBmYWxzZTsKIAlBcmd1
bWVudFtdIGFyZ3VtZW50cyA9IG1ldGhvZERlY2wuYXJndW1lbnRzOwotCWlmIChhcmd1bWVudHMg
IT0gbnVsbCkgeworCWlmIChhcmd1bWVudHMgIT0gbnVsbCB8fCBtZXRob2REZWNsLnJlY2VpdmVy
ICE9IG51bGwpIHsKKwkJaWYgKG1ldGhvZERlY2wucmVjZWl2ZXIgIT0gbnVsbCkgeworCQkJaW50
IGxlbmd0aCA9IGFyZ3VtZW50cyA9PSBudWxsID8gMCA6IGFyZ3VtZW50cy5sZW5ndGg7CisJCQlh
cmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoICsgMV07CisJCQlpZiAobGVuZ3RoID4gMCkg
U3lzdGVtLmFycmF5Y29weShtZXRob2REZWNsLmFyZ3VtZW50cywgMCwgYXJndW1lbnRzLCAxLCBs
ZW5ndGgpOworCQkJYXJndW1lbnRzWzBdID0gbWV0aG9kRGVjbC5yZWNlaXZlcjsKKwkJfQorCiAJ
CWludCBzaXplID0gYXJndW1lbnRzLmxlbmd0aDsKIAkJbWV0aG9kLnBhcmFtZXRlcnMgPSBCaW5k
aW5nLk5PX1BBUkFNRVRFUlM7CkBAIC0xNTQ4LDcgKzE1NTUsMjAgQEAKIAkJCX0KIAkJfQorCQlp
ZiAobWV0aG9kRGVjbC5yZWNlaXZlciAhPSBudWxsKSAKKwkJCW1ldGhvZC5yZWNlaXZlciA9IG5l
d1BhcmFtZXRlcnNbMF07CiAJCS8vIG9ubHkgYXNzaWduIHBhcmFtZXRlcnMgaWYgbm8gcHJvYmxl
bXMgYXJlIGZvdW5kCiAJCWlmICghZm91bmRBcmdQcm9ibGVtKSB7Ci0JCQltZXRob2QucGFyYW1l
dGVycyA9IG5ld1BhcmFtZXRlcnM7CisJCQlpZiAobWV0aG9kRGVjbC5yZWNlaXZlciAhPSBudWxs
KSB7CisJCQkJaW50IGxlbmd0aCA9IG5ld1BhcmFtZXRlcnMubGVuZ3RoOworCQkJCWlmIChsZW5n
dGggPT0gMSkKKwkJCQkJbWV0aG9kLnBhcmFtZXRlcnMgPSBOT19QQVJBTUVURVJTOworCQkJCWVs
c2UgeworCQkJCQltZXRob2QucGFyYW1ldGVycyA9IG5ldyBUeXBlQmluZGluZ1tsZW5ndGggLSAx
XTsKKwkJCQkJU3lzdGVtLmFycmF5Y29weShuZXdQYXJhbWV0ZXJzLCAxLCBtZXRob2QucGFyYW1l
dGVycywgMCwgbGVuZ3RoIC0gMSk7CisJCQkJfQorCQkJfQorCQkJZWxzZSB7CisJCQkJbWV0aG9k
LnBhcmFtZXRlcnMgPSBuZXdQYXJhbWV0ZXJzOworCQkJfQogCQl9CiAJfQpkaWZmIC0tZ2l0IGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKaW5k
ZXggM2FmZGNjZi4uMWY0ZjNlZCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2
YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCkBAIC01MjIzLDEwICs1MjIzLDIzIEBA
CiAJLy9hcmd1bWVudHMKIAlpZiAobGVuZ3RoICE9IDApIHsKLQkJU3lzdGVtLmFycmF5Y29weSgK
LQkJCXRoaXMuYXN0U3RhY2ssCi0JCQl0aGlzLmFzdFB0ciArIDEsCi0JCQltZC5hcmd1bWVudHMg
PSBuZXcgQXJndW1lbnRbbGVuZ3RoXSwKLQkJCTAsCi0JCQlsZW5ndGgpOworCQlBcmd1bWVudCBh
cmcgPSAoQXJndW1lbnQpIHRoaXMuYXN0U3RhY2tbdGhpcy5hc3RQdHIgKyAxXTsKKwkJaWYgKGFy
Zy5pc1JlY2VpdmVyKCkpIHsgCisJCQltZC5yZWNlaXZlciA9IChSZWNlaXZlcikgYXJnOworCQkJ
aWYgKGxlbmd0aCA+IDEpCisJCQkJU3lzdGVtLmFycmF5Y29weSgKKwkJCQkJdGhpcy5hc3RTdGFj
aywKKwkJCQkJdGhpcy5hc3RQdHIgKyAyLAorCQkJCQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1l
bnRbbGVuZ3RoIC0gMV0sCisJCQkJCTAsCisJCQkJCWxlbmd0aCAtIDEpOworCQl9CisJCWVsc2Ug
eworCQkJU3lzdGVtLmFycmF5Y29weSgKKwkJCQkJdGhpcy5hc3RTdGFjaywKKwkJCQkJdGhpcy5h
c3RQdHIgKyAxLAorCQkJCQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoXSwKKwkJ
CQkJMCwKKwkJCQkJbGVuZ3RoKTsKKwkJfQogCX0KIAltZC5ib2R5U3RhcnQgPSB0aGlzLnJQYXJl
blBvcysxOw==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>219875</attachid>
            <date>2012-08-14 11:32:00 -0400</date>
            <delta_ts>2012-08-14 11:32:38 -0400</delta_ts>
            <desc>Updated patch</desc>
            <filename>Fix-for-bug-383908.patch</filename>
            <type>text/plain</type>
            <size>18597</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFu
bm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9z
cmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2
ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmluZGV4IDZhZGI0MmQuLjgyZDk0YTUgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBl
QW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTA4Myw3ICsxMDgzLDcgQEAKIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgT3V0ZXIuSW5uZXIudGhpcywgaW50IGksIGZsb2F0
IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVyIE91dGVyLnRo
aXMsIGZsb2F0IGYpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVy
LklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IE91dGVyLklubmVyLklubmVyTW9zdC50aGlzKSB7fVxu
IiArDQorCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVy
TW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKw0K
IAkJCQkJCSIgICAgICAgICAgICBJbm5lck1vc3QoSW5uZXI8SyxWPiBPdXRlci5Jbm5lci5Jbm5l
ck1vc3QudGhpcywgaW50IGkpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0
KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJCQkJCQkiICAgICAg
ICAgICAgSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYsIGludCBpKSB7
fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+IElu
bmVyLnRoaXMsIGxvbmcgbCkge31cbiIgKw0KIAkJCQkJCSIgICAgICAgIH1cbiIgKw0KQEAgLTEx
MzcsMTAgKzExMzcsMTAgQEAKIAkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQogCQkJCQkJIjEwLiBF
UlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQotCQkJCQkJIglJbm5lck1vc3Qo
T3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMp
IHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8
VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBvYmopIHt9XG4iICsgDQogCQkJ
CQkJIgkgICAgICAgICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiIgKyANCiAJCQkJCQki
VGhlIGRlY2xhcmVkIHR5cGUgb2YgdGhlIGV4cGxpY2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhw
ZWN0ZWQgdG8gYmUgT3V0ZXIuSW5uZXI8SyxWPlxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4i
ICsgDQogCQkJCQkJIjExLiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQot
CQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5u
ZXIuSW5uZXJNb3N0LnRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5u
ZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBv
YmopIHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCiAJCQkJCQkiVGhlIGV4cGxp
Y2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgdG8gYmUgcXVhbGlmaWVkIHdpdGggT3V0
ZXIuSW5uZXJcbiIgKyANCkBAIC0xMTUyLDUgKzExNTIsNSBAQAogCQkJCQkJIi0tLS0tLS0tLS1c
biIgKyANCiAJCQkJCQkiMTMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTEpXG4iICsg
DQotCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SywgVj4gdGhpcywgZmxvYXQgZikge31c
biIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLCBWPiB0aGlzLCBmbG9hdCBm
LCBpbnQgaSkge31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBe
Xl5eXG4iICsgDQogCQkJCQkJIlRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlzIGV4cGVj
dGVkIHRvIGJlIHF1YWxpZmllZCB3aXRoIE91dGVyLklubmVyXG4iICsgDQpAQCAtMTE2Nyw5ICsx
MTY3LDkgQEAKIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oT3V0ZXIgT3V0ZXIu
dGhpcykge31cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXI8
SyxWPiBJbm5lci50aGlzLCBpbnQgaSkge31cbiIgKw0KLQkJCQkJCSIgICAgICAgICAgICBwdWJs
aWMgdm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGopIHt9XG4iICsNCiAJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyLklubmVyTW9zdDxUPiB0aGlz
LCBPYmplY3Qgb2JqKSB7fVxuIiArDQotCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZv
byhJbm5lck1vc3Q8VD4gdGhpcywgaW50IGkpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiB0aGlzLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJ
CQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lcjxLLFY+LklubmVyTW9zdDxUPiB0
aGlzLCBsb25nIGwpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9v
KE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKE91dGVyLklubmVyPEssVj4uSW5uZXJN
b3N0PFQ+IHRoaXMsIGZsb2F0IGYsIGZsb2F0IGZmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAg
ICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRo
aXMsIGludCBpLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAgfVxuIiArDQpAQCAt
MTE5OCwxMCArMTE5OCwxMCBAQAogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNS4g
V0FSTklORyBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDYpXG4iICsgDQotCQkJCQkJIglwdWJsaWMg
dm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglwdWJsaWMgdm9pZCBm
b28oSW5uZXJNb3N0IHRoaXMsIGludCBpLCBpbnQgaikge31cbiIgKyANCiAJCQkJCQkiCSAgICAg
ICAgICAgICAgICBeXl5eXl5eXl5cbiIgKyANCiAJCQkJCQkiT3V0ZXIuSW5uZXIuSW5uZXJNb3N0
IGlzIGEgcmF3IHR5cGUuIFJlZmVyZW5jZXMgdG8gZ2VuZXJpYyB0eXBlIE91dGVyLklubmVyPEss
Vj4uSW5uZXJNb3N0PFQ+IHNob3VsZCBiZSBwYXJhbWV0ZXJpemVkXG4iICsgDQogCQkJCQkJIi0t
LS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSA2
KVxuIiArIA0KLQkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzKSB7fVxuIiAr
IA0KKwkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGop
IHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgXl5eXl5eXl5eXG4iICsgDQogCQkJ
CQkJIlRoZSBkZWNsYXJlZCB0eXBlIG9mIHRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlz
IGV4cGVjdGVkIHRvIGJlIE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+XG4iICsgDQpAQCAt
MTIyMyw0ICsxMjIzLDYgQEAKIAkJCQluZXcgU3RyaW5nW10gew0KIAkJCQkJCSJPdXRlci5qYXZh
IiwNCisJCQkJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIgKyANCisJ
CQkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS4qO1xu
IiArIA0KIAkJCQkJCSJwdWJsaWMgY2xhc3MgT3V0ZXIge1xuIiArDQogCQkJCQkJIiAgICBjbGFz
cyBJbm5lcjxLLFY+IHtcbiIgKw0KQEAgLTEyMzQsNSArMTIzNiw1IEBACiAJCQkJCQkiICAgICAg
ICAgICAgdm9pZCBiYXIoaW50IGkpIHtcbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgY2xh
c3MgTG9jYWwge1xuIiArDQotCQkJCQkJIiAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBo
YXNoQ29kZShMb2NhbCB0aGlzKSB7IHJldHVybiAwOyB9XG4iICsNCisJCQkJCQkiICAgICAgICAg
ICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKExvY2FsIHRoaXMsIGludCBrKSB7IHJldHVy
biAwOyB9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hD
b2RlKE91dGVyLkxvY2FsIHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKw0KIAkJCQkJCSIgICAgICAg
ICAgICAgICAgfVxuIiArDQpAQCAtMTI0OSwzMiArMTI1MSwzMyBAQAogCQkJCQkJIiAgICBwdWJs
aWMgdm9pZCBmb29iYXIoQW5vbnltb3VzSW5uZXIgdGhpcyk7XG4iICsNCiAJCQkJCQkifVxuIiAr
DQorCQkJCQkJIkBUYXJnZXQoVFlQRV9VU0UpXG4iICsgDQogCQkJCQkJIkBpbnRlcmZhY2UgTWFy
a2VyIHt9In0sDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIxLiBFUlJPUiBp
biBPdXRlci5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCQkJCSIxLiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDUpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIElubmVyKEBNaXNzaW5n
IE91dGVyIE91dGVyLnRoaXMpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICBeXl5e
Xl5eXG4iICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVc
biIgKyANCiAJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCi0JCQkJCQkJIjIuIEVSUk9SIGluIE91
dGVyLmphdmEgKGF0IGxpbmUgNylcbiIgKyANCisJCQkJCQkJIjIuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgOSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb29iYXIoQW5vbnlt
b3VzSW5uZXIgdGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRl
ciBpcyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNs
YXNzZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0t
LS0tLVxuIiArIA0KLQkJCQkJCQkiMy4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAxMylc
biIgKyANCisJCQkJCQkJIjMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTUpXG4iICsg
DQogCQkJCQkJCSIJcHVibGljIGludCBoYXNoQ29kZShPdXRlci5Mb2NhbCB0aGlzKSB7IHJldHVy
biAwOyB9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICAgICAgICBeXl5eXl5eXl5eXlxu
IiArIA0KIAkJCQkJCQkiT3V0ZXIuTG9jYWwgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxu
IiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KLQkJCQkJCQkiNC4gRVJST1IgaW4gT3V0
ZXIuamF2YSAoYXQgbGluZSAxOSlcbiIgKyANCisJCQkJCQkJIjQuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgMjEpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIFN0YXRpY05lc3RlZChATWFy
a2VyIE91dGVyLlN0YXRpY05lc3RlZCBPdXRlci5TdGF0aWNOZXN0ZWQudGhpcykge31cbiIgKyAN
CiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBeXl5eXG4iICsgDQogCQkJCQkJCSJFeHBsaWNpdCAndGhpcycg
cGFyYW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2RzIG9mIG5vbi1hbm9u
eW1vdXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4iICsgDQogCQkJCQkJ
CSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSI1LiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBs
aW5lIDIxKVxuIiArIA0KKwkJCQkJCQkiNS4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAy
MylcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgZm9vKEBNYXJrZXIgT3V0ZXIg
dGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBh
bGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMg
YW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxu
IiArIA0KLQkJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMilcbiIgKyAN
CisJCQkJCQkJIjYuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMjQpXG4iICsgDQogCQkJ
CQkJCSIJcHVibGljIHZvaWQgZm9vKEBNaXNzaW5nIE91dGVyIHRoaXMsIGludCBpKSB7fVxuIiAr
IA0KIAkJCQkJCQkiCSAgICAgICAgICAgICAgICAgXl5eXl5eXlxuIiArIA0KQEAgLTEyODIsMyAr
MTI4NSwyOCBAQAogCQkJCQkJCSItLS0tLS0tLS0tXG4iKTsNCiAJfQ0KKwlwdWJsaWMgdm9pZCB0
ZXN0MDM4MzkwOCgpIHsNCisJCXRoaXMucnVuTmVnYXRpdmVUZXN0KA0KKwkJCQluZXcgU3RyaW5n
W117IlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xhc3MgWCB7IFxuIiArDQorCQkJCSIJdm9pZCBm
b28oWCB0aGlzKSB7fVxuIiArDQorCQkJCSIgICB2b2lkIGZvbygpIHt9XG4iICsNCisJCQkJIn1c
biIgKw0KKwkJCQkiY2xhc3MgWSB7XG4iICsNCisJCQkJIgl2b2lkIGZvbyhZIHRoaXMpIHt9XG4i
ICsNCisJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsN
CisJCQkJIgkJbmV3IFkoKS5mb28oKTtcbiIgKw0KKwkJCQkiCX1cbiIgKw0KKwkJCQkifSJ9LCAN
CisJCQkJIi0tLS0tLS0tLS1cbiIgKyANCisJCQkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGlu
ZSAyKVxuIiArIA0KKwkJCQkiCXZvaWQgZm9vKFggdGhpcykge31cbiIgKyANCisJCQkJIgkgICAg
IF5eXl5eXl5eXl5eXG4iICsgDQorCQkJCSJEdXBsaWNhdGUgbWV0aG9kIGZvbygpIGluIHR5cGUg
WFxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZh
IChhdCBsaW5lIDMpXG4iICsgDQorCQkJCSIJdm9pZCBmb28oKSB7fVxuIiArIA0KKwkJCQkiCSAg
ICAgXl5eXl5cbiIgKyANCisJCQkJIkR1cGxpY2F0ZSBtZXRob2QgZm9vKCkgaW4gdHlwZSBYXG4i
ICsgDQorCQkJCSItLS0tLS0tLS0tXG4iKTsNCisJfQ0KIH0NCmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
bW9kZWwvSmF2YVNlYXJjaFRlc3RzLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5t
b2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvSmF2YVNlYXJjaFRlc3Rz
LmphdmEKaW5kZXggMzE2YjFjNy4uZjM5NzY3MSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0ph
dmFTZWFyY2hUZXN0cy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVs
L3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoVGVzdHMuamF2
YQpAQCAtNDQ2NSwzICs0NDY1LDMyIEBACiAJYXNzZXJ0RXF1YWxzKCJGb3VuZCB0eXBlcyBzb3Vu
ZHMgbm90IHRvIGJlIGNvcnJlY3QiLCByZXF1ZXN0b3IudG9TdHJpbmcoKSwgY29sbGVjdG9yLnRv
U3RyaW5nKCkpOwogfQorLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcu
Y2dpP2lkPTM4MzkwOAorcHVibGljIHZvaWQgdGVzdEJ1ZzM4MzkwOCgpIHRocm93cyBDb3JlRXhj
ZXB0aW9uIHsKKwl0cnkgeworCQlTdHJpbmcgZmlsZUNvbnRlbnQgPSAicGFja2FnZSBwO1xuIiAr
CisJCQkJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iICsKKwkJCQkJCQkJIiAgcHVibGljIHZvaWQg
Zm9vYmFyKFggdGhpcywgU3RyaW5nIHN0cikge1xuIiArCisJCQkJCQkJCSIgIH1cbiIgKworCQkJ
CQkJCQkifSI7CisJCWNyZWF0ZUphdmFQcm9qZWN0KCJQIiwgbmV3IFN0cmluZ1tdIHsic3JjIn0s
IG5ldyBTdHJpbmdbMF0sICJiaW4iKTsKKwkJY3JlYXRlRm9sZGVyKCIvUC9zcmMvcCIpOworCQlj
cmVhdGVGaWxlKCIvUC9zcmMvcC9YLmphdmEiLCBmaWxlQ29udGVudCk7CisKKwkJSVR5cGUgdHlw
ZSA9IGdldENvbXBpbGF0aW9uVW5pdCgiUCIsICJzcmMiLCAicCIsICJYLmphdmEiKS5nZXRUeXBl
KCJYIik7CisJCUlNZXRob2RbXSBtZXRob2RzID0gdHlwZS5nZXRNZXRob2RzKCk7CisJCXNlYXJj
aCgKKwkJCQltZXRob2RzWzBdLAorCQkJCURFQ0xBUkFUSU9OUywKKwkJCQlTZWFyY2hFbmdpbmUu
Y3JlYXRlSmF2YVNlYXJjaFNjb3BlKG5ldyBJSmF2YUVsZW1lbnRbXSB7dHlwZX0pLAorCQkJCXRo
aXMucmVzdWx0Q29sbGVjdG9yKTsKKworCQlhc3NlcnRTZWFyY2hSZXN1bHRzKAorCQkJCSJzcmMv
cC9YLmphdmEgdm9pZCBwLlguZm9vYmFyKFN0cmluZykgW2Zvb2Jhcl0iLAorCQkJCXRoaXMucmVz
dWx0Q29sbGVjdG9yKTsKKworCX0gZmluYWxseSB7CisJCWRlbGV0ZVByb2plY3QoIlAiKTsKKwl9
Cit9CisKIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RNZXRob2REZWNsYXJhdGlv
bi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL2FzdC9BYnN0cmFjdE1ldGhvZERlY2xhcmF0aW9uLmphdmEKaW5kZXgg
ZmQzNjQ1OS4uOWRmMTI3YyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BYnN0cmFjdE1ldGhvZERl
Y2xhcmF0aW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BYnN0cmFjdE1ldGhvZERlY2xhcmF0aW9u
LmphdmEKQEAgLTQ4LDQgKzQ4LDUgQEAKIAlwdWJsaWMgQW5ub3RhdGlvbltdIGFubm90YXRpb25z
OwogCS8vIGpzciAzMDgKKwlwdWJsaWMgUmVjZWl2ZXIgcmVjZWl2ZXI7CiAJcHVibGljIEFubm90
YXRpb25bXSByZWNlaXZlckFubm90YXRpb25zOwogCXB1YmxpYyBBcmd1bWVudFtdIGFyZ3VtZW50
czsKQEAgLTQzMiw3ICs0MzMsMTAgQEAKIAogCQlwcmludFJldHVyblR5cGUoMCwgb3V0cHV0KS5h
cHBlbmQodGhpcy5zZWxlY3RvcikuYXBwZW5kKCcoJyk7CisJCWlmICh0aGlzLnJlY2VpdmVyICE9
IG51bGwpIHsKKwkJCXRoaXMucmVjZWl2ZXIucHJpbnQoMCwgb3V0cHV0KTsKKwkJfQogCQlpZiAo
dGhpcy5hcmd1bWVudHMgIT0gbnVsbCkgewogCQkJZm9yIChpbnQgaSA9IDA7IGkgPCB0aGlzLmFy
Z3VtZW50cy5sZW5ndGg7IGkrKykgewotCQkJCWlmIChpID4gMCkgb3V0cHV0LmFwcGVuZCgiLCAi
KTsgLy8kTk9OLU5MUy0xJAorCQkJCWlmIChpID4gMCB8fCB0aGlzLnJlY2VpdmVyICE9IG51bGwp
IG91dHB1dC5hcHBlbmQoIiwgIik7IC8vJE5PTi1OTFMtMSQKIAkJCQl0aGlzLmFyZ3VtZW50c1tp
XS5wcmludCgwLCBvdXRwdXQpOwogCQkJfQpAQCAtNTA2LDM4ICs1MTAsMzUgQEAKIAogCXB1Ymxp
YyB2b2lkIHJlc29sdmVSZWNlaXZlcigpIHsKLQkJaWYgKHRoaXMuYXJndW1lbnRzICE9IG51bGwg
JiYgdGhpcy5hcmd1bWVudHMubGVuZ3RoID4gMCkgewotCQkJaWYgKHRoaXMuYXJndW1lbnRzWzBd
LmlzUmVjZWl2ZXIoKSkgewotCQkJCVJlY2VpdmVyIHJlY2VpdmVyID0gKFJlY2VpdmVyKSB0aGlz
LmFyZ3VtZW50c1swXTsKKwkJaWYgKHRoaXMucmVjZWl2ZXIgPT0gbnVsbCkgcmV0dXJuOwogCi0J
CQkJVHlwZUJpbmRpbmcgcmVzb2x2ZWRSZWNlaXZlclR5cGUgPSByZWNlaXZlci50eXBlLnJlc29s
dmVkVHlwZTsKLQkJCQlpZiAodGhpcy5iaW5kaW5nID09IG51bGwgfHwgcmVzb2x2ZWRSZWNlaXZl
clR5cGUgPT0gbnVsbCB8fCAhcmVzb2x2ZWRSZWNlaXZlclR5cGUuaXNWYWxpZEJpbmRpbmcoKSkK
LQkJCQkJcmV0dXJuOworCQlUeXBlQmluZGluZyByZXNvbHZlZFJlY2VpdmVyVHlwZSA9IHRoaXMu
cmVjZWl2ZXIudHlwZS5yZXNvbHZlZFR5cGU7CisJCWlmICh0aGlzLmJpbmRpbmcgPT0gbnVsbCB8
fCByZXNvbHZlZFJlY2VpdmVyVHlwZSA9PSBudWxsIHx8ICFyZXNvbHZlZFJlY2VpdmVyVHlwZS5p
c1ZhbGlkQmluZGluZygpKSB7CisJCQlyZXR1cm47CisJCX0KIAotCQkJCVJlZmVyZW5jZUJpbmRp
bmcgZGVjbGFyaW5nQ2xhc3MgPSB0aGlzLmJpbmRpbmcuZGVjbGFyaW5nQ2xhc3M7Ci0JCQkJLyog
bmVpdGhlciBzdGF0aWMgbWV0aG9kcyBub3IgbWV0aG9kcyBpbiBhbm9ueW1vdXMgdHlwZXMgY2Fu
IGhhdmUgZXhwbGljaXQgJ3RoaXMnICovCi0JCQkJaWYgKHRoaXMuaXNTdGF0aWMoKSB8fCBkZWNs
YXJpbmdDbGFzcy5pc0Fub255bW91c1R5cGUoKSkgewotCQkJCQl0aGlzLnNjb3BlLnByb2JsZW1S
ZXBvcnRlcigpLmRpc2FsbG93ZWRUaGlzUGFyYW1ldGVyKHJlY2VpdmVyKTsKLQkJCQkJcmV0dXJu
OyAvLyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFsaWRhdGlvbgotCQkJCX0KKwkJUmVmZXJlbmNl
QmluZGluZyBkZWNsYXJpbmdDbGFzcyA9IHRoaXMuYmluZGluZy5kZWNsYXJpbmdDbGFzczsKKwkJ
LyogbmVpdGhlciBzdGF0aWMgbWV0aG9kcyBub3IgbWV0aG9kcyBpbiBhbm9ueW1vdXMgdHlwZXMg
Y2FuIGhhdmUgZXhwbGljaXQgJ3RoaXMnICovCisJCWlmICh0aGlzLmlzU3RhdGljKCkgfHwgZGVj
bGFyaW5nQ2xhc3MuaXNBbm9ueW1vdXNUeXBlKCkpIHsKKwkJCXRoaXMuc2NvcGUucHJvYmxlbVJl
cG9ydGVyKCkuZGlzYWxsb3dlZFRoaXNQYXJhbWV0ZXIodGhpcy5yZWNlaXZlcik7CisJCQlyZXR1
cm47IC8vIE5vIG5lZWQgdG8gZG8gZnVydGhlciB2YWxpZGF0aW9uCisJCX0KIAotCQkJCVJlZmVy
ZW5jZUJpbmRpbmcgZW5jbG9zaW5nUmVjZWl2ZXIgPSB0aGlzLnNjb3BlLmVuY2xvc2luZ1JlY2Vp
dmVyVHlwZSgpOwotCQkJCWlmICh0aGlzLmlzQ29uc3RydWN0b3IoKSkgewotCQkJCQkvKiBPbmx5
IG5vbiBzdGF0aWMgbWVtYmVyIHR5cGVzIG9yIGxvY2FsIHR5cGVzIGNhbiBkZWNsYXJlIGV4cGxp
Y2l0ICd0aGlzJyBwYXJhbXMgaW4gY29uc3RydWN0b3JzICovCi0JCQkJCWlmIChkZWNsYXJpbmdD
bGFzcy5pc1N0YXRpYygpCi0JCQkJCQkJfHwgKGRlY2xhcmluZ0NsYXNzLnRhZ0JpdHMgJiAoVGFn
Qml0cy5Jc0xvY2FsVHlwZSB8IFRhZ0JpdHMuSXNNZW1iZXJUeXBlKSkgPT0gMCkgeyAvKiBuZWl0
aGVyIG1lbWJlciBub3IgbG9jYWwgdHlwZSAqLwotCQkJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVw
b3J0ZXIoKS5kaXNhbGxvd2VkVGhpc1BhcmFtZXRlcihyZWNlaXZlcik7Ci0JCQkJCQlyZXR1cm47
IC8vIE5vIG5lZWQgdG8gZG8gZnVydGhlciB2YWxpZGF0aW9uCi0JCQkJCX0KLQkJCQkJZW5jbG9z
aW5nUmVjZWl2ZXIgPSBlbmNsb3NpbmdSZWNlaXZlci5lbmNsb3NpbmdUeXBlKCk7Ci0JCQkJfQot
Ci0JCQkJaWYgKGVuY2xvc2luZ1JlY2VpdmVyICE9IHJlc29sdmVkUmVjZWl2ZXJUeXBlKSB7Ci0J
CQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFR5cGVGb3JFeHBsaWNpdFRo
aXMocmVjZWl2ZXIsIGVuY2xvc2luZ1JlY2VpdmVyKTsKLQkJCQl9Ci0KLQkJCQlpZiAoKHJlY2Vp
dmVyLnF1YWxpZnlpbmdOYW1lID09IG51bGwpID8gdGhpcy5pc0NvbnN0cnVjdG9yKCkgOiAhaXNR
dWFsaWZpZXJWYWxpZEZvclR5cGUocmVjZWl2ZXIucXVhbGlmeWluZ05hbWUuZ2V0TmFtZSgpLCBl
bmNsb3NpbmdSZWNlaXZlcikpIHsKLQkJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5p
bGxlZ2FsUXVhbGlmaWVyRm9yRXhwbGljaXRUaGlzKHJlY2VpdmVyLCBlbmNsb3NpbmdSZWNlaXZl
cik7CQkJCQkKLQkJCQl9CisJCVJlZmVyZW5jZUJpbmRpbmcgZW5jbG9zaW5nUmVjZWl2ZXIgPSB0
aGlzLnNjb3BlLmVuY2xvc2luZ1JlY2VpdmVyVHlwZSgpOworCQlpZiAodGhpcy5pc0NvbnN0cnVj
dG9yKCkpIHsKKwkJCS8qIE9ubHkgbm9uIHN0YXRpYyBtZW1iZXIgdHlwZXMgb3IgbG9jYWwgdHlw
ZXMgY2FuIGRlY2xhcmUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtcyBpbiBjb25zdHJ1Y3RvcnMgKi8K
KwkJCWlmIChkZWNsYXJpbmdDbGFzcy5pc1N0YXRpYygpCisJCQkJCXx8IChkZWNsYXJpbmdDbGFz
cy50YWdCaXRzICYgKFRhZ0JpdHMuSXNMb2NhbFR5cGUgfCBUYWdCaXRzLklzTWVtYmVyVHlwZSkp
ID09IDApIHsgLyogbmVpdGhlciBtZW1iZXIgbm9yIGxvY2FsIHR5cGUgKi8KKwkJCQl0aGlzLnNj
b3BlLnByb2JsZW1SZXBvcnRlcigpLmRpc2FsbG93ZWRUaGlzUGFyYW1ldGVyKHRoaXMucmVjZWl2
ZXIpOworCQkJCXJldHVybjsgLy8gTm8gbmVlZCB0byBkbyBmdXJ0aGVyIHZhbGlkYXRpb24KIAkJ
CX0KKwkJCWVuY2xvc2luZ1JlY2VpdmVyID0gZW5jbG9zaW5nUmVjZWl2ZXIuZW5jbG9zaW5nVHlw
ZSgpOworCQl9CisKKwkJaWYgKGVuY2xvc2luZ1JlY2VpdmVyICE9IHJlc29sdmVkUmVjZWl2ZXJU
eXBlKSB7CisJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxUeXBlRm9yRXhw
bGljaXRUaGlzKHRoaXMucmVjZWl2ZXIsIGVuY2xvc2luZ1JlY2VpdmVyKTsKKwkJfQorCisJCWlm
ICgodGhpcy5yZWNlaXZlci5xdWFsaWZ5aW5nTmFtZSA9PSBudWxsKSA/IHRoaXMuaXNDb25zdHJ1
Y3RvcigpIDogIWlzUXVhbGlmaWVyVmFsaWRGb3JUeXBlKHRoaXMucmVjZWl2ZXIucXVhbGlmeWlu
Z05hbWUuZ2V0TmFtZSgpLCBlbmNsb3NpbmdSZWNlaXZlcikpIHsKKwkJCXRoaXMuc2NvcGUucHJv
YmxlbVJlcG9ydGVyKCkuaWxsZWdhbFF1YWxpZmllckZvckV4cGxpY2l0VGhpcyh0aGlzLnJlY2Vp
dmVyLCBlbmNsb3NpbmdSZWNlaXZlcik7CQkJCQkKIAkJfQogCX0KZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9sb29rdXAvTWV0aG9kQmluZGluZy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RCaW5kaW5n
LmphdmEKaW5kZXggY2UyNWU1Ny4uMjgzNDg2NCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9N
ZXRob2RCaW5kaW5nLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RCaW5kaW5nLmphdmEK
QEAgLTM1LDQgKzM1LDUgQEAKIAlwdWJsaWMgVHlwZUJpbmRpbmcgcmV0dXJuVHlwZTsKIAlwdWJs
aWMgVHlwZUJpbmRpbmdbXSBwYXJhbWV0ZXJzOworCXB1YmxpYyBUeXBlQmluZGluZyByZWNlaXZl
cjsgIC8vIEpTUjMwOCAtIGV4cGxpY2l0IHRoaXMgcGFyYW1ldGVyCiAJcHVibGljIFJlZmVyZW5j
ZUJpbmRpbmdbXSB0aHJvd25FeGNlcHRpb25zOwogCXB1YmxpYyBSZWZlcmVuY2VCaW5kaW5nIGRl
Y2xhcmluZ0NsYXNzOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RTY29wZS5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2xvb2t1cC9NZXRob2RTY29wZS5qYXZhCmluZGV4IDhiNWY4MjAuLjE5MmQwOWQg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2NvcGUuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
bG9va3VwL01ldGhvZFNjb3BlLmphdmEKQEAgLTM1NCwxMSArMzU0LDUgQEAKIAkJCW1ldGhvZC5i
aW5kaW5nLm1vZGlmaWVycyB8PSBDbGFzc0ZpbGVDb25zdGFudHMuQWNjVmFyYXJnczsKIAkJaWYg
KENoYXJPcGVyYXRpb24uZXF1YWxzKGFyZ3VtZW50Lm5hbWUsIENvbnN0YW50UG9vbC5UaGlzKSkg
ewotCQkJaWYgKGFyZ0xlbmd0aCAhPSAwIHx8IHNvdXJjZUxldmVsIDw9IENsYXNzRmlsZUNvbnN0
YW50cy5KREsxXzcpIHsKLQkJCQlwcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVGhpcyhhcmd1bWVu
dCwgbWV0aG9kLCBzb3VyY2VMZXZlbCk7Ci0JCQl9Ci0JCQlpZiAoYXJndW1lbnQuYW5ub3RhdGlv
bnMgIT0gbnVsbCkgewotCQkJCW1ldGhvZC5yZWNlaXZlckFubm90YXRpb25zID0gYXJndW1lbnQu
YW5ub3RhdGlvbnM7Ci0JCQkJbWV0aG9kLmJpdHMgfD0gQVNUTm9kZS5IYXNUeXBlQW5ub3RhdGlv
bnM7Ci0JCQl9CisJCQlwcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVGhpcyhhcmd1bWVudCwgbWV0
aG9kLCBzb3VyY2VMZXZlbCk7CiAJCX0KIAkJd2hpbGUgKC0tYXJnTGVuZ3RoID49IDApIHsKQEAg
LTM2NywxMiArMzYxLDE1IEBACiAJCQkJcHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFZhcmFyZyhh
cmd1bWVudCwgbWV0aG9kKTsKIAkJCWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhhcmd1bWVudC5u
YW1lLCBDb25zdGFudFBvb2wuVGhpcykpIHsKLQkJCQlpZiAoYXJnTGVuZ3RoICE9IDAgfHwgc291
cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgewotCQkJCQlwcm9ibGVtUmVw
b3J0ZXIoKS5pbGxlZ2FsVGhpcyhhcmd1bWVudCwgbWV0aG9kLCBzb3VyY2VMZXZlbCk7Ci0JCQkJ
fQotCQkJCWlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7Ci0JCQkJCW1ldGhvZC5y
ZWNlaXZlckFubm90YXRpb25zID0gYXJndW1lbnQuYW5ub3RhdGlvbnM7Ci0JCQkJCW1ldGhvZC5i
aXRzIHw9IEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zOwotCQkJCX0KLQkJCX0JCisJCQkJcHJv
YmxlbVJlcG9ydGVyKCkuaWxsZWdhbFRoaXMoYXJndW1lbnQsIG1ldGhvZCwgc291cmNlTGV2ZWwp
OworCQkJfQorCQl9CisJfQorCWlmIChtZXRob2QucmVjZWl2ZXIgIT0gbnVsbCkgeworCQlpZiAo
c291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgeworCQkJcHJvYmxlbVJl
cG9ydGVyKCkuaWxsZWdhbFRoaXMobWV0aG9kLnJlY2VpdmVyLCBtZXRob2QsIHNvdXJjZUxldmVs
KTsKKwkJfQorCQlpZiAobWV0aG9kLnJlY2VpdmVyLmFubm90YXRpb25zICE9IG51bGwpIHsKKwkJ
CW1ldGhvZC5yZWNlaXZlckFubm90YXRpb25zID0gbWV0aG9kLnJlY2VpdmVyLmFubm90YXRpb25z
OworCQkJbWV0aG9kLmJpdHMgfD0gQVNUTm9kZS5IYXNUeXBlQW5ub3RhdGlvbnM7CiAJCX0KIAl9
CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEKaW5kZXggYThmYmM1OS4uNzk2YjRmNyAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQpAQCAtMTUwOSw1ICsxNTA5LDEyIEBA
CiAJYm9vbGVhbiBmb3VuZEFyZ1Byb2JsZW0gPSBmYWxzZTsKIAlBcmd1bWVudFtdIGFyZ3VtZW50
cyA9IG1ldGhvZERlY2wuYXJndW1lbnRzOwotCWlmIChhcmd1bWVudHMgIT0gbnVsbCkgeworCWlm
IChhcmd1bWVudHMgIT0gbnVsbCB8fCBtZXRob2REZWNsLnJlY2VpdmVyICE9IG51bGwpIHsKKwkJ
aWYgKG1ldGhvZERlY2wucmVjZWl2ZXIgIT0gbnVsbCkgeworCQkJaW50IGxlbmd0aCA9IGFyZ3Vt
ZW50cyA9PSBudWxsID8gMCA6IGFyZ3VtZW50cy5sZW5ndGg7CisJCQlhcmd1bWVudHMgPSBuZXcg
QXJndW1lbnRbbGVuZ3RoICsgMV07CisJCQlpZiAobGVuZ3RoID4gMCkgU3lzdGVtLmFycmF5Y29w
eShtZXRob2REZWNsLmFyZ3VtZW50cywgMCwgYXJndW1lbnRzLCAxLCBsZW5ndGgpOworCQkJYXJn
dW1lbnRzWzBdID0gbWV0aG9kRGVjbC5yZWNlaXZlcjsKKwkJfQorCiAJCWludCBzaXplID0gYXJn
dW1lbnRzLmxlbmd0aDsKIAkJbWV0aG9kLnBhcmFtZXRlcnMgPSBCaW5kaW5nLk5PX1BBUkFNRVRF
UlM7CkBAIC0xNTUwLDUgKzE1NTcsMTggQEAKIAkJLy8gb25seSBhc3NpZ24gcGFyYW1ldGVycyBp
ZiBubyBwcm9ibGVtcyBhcmUgZm91bmQKIAkJaWYgKCFmb3VuZEFyZ1Byb2JsZW0pIHsKLQkJCW1l
dGhvZC5wYXJhbWV0ZXJzID0gbmV3UGFyYW1ldGVyczsKKwkJCWlmIChtZXRob2REZWNsLnJlY2Vp
dmVyICE9IG51bGwpIHsKKwkJCQltZXRob2QucmVjZWl2ZXIgPSBuZXdQYXJhbWV0ZXJzWzBdOwor
CQkJCWludCBsZW5ndGggPSBuZXdQYXJhbWV0ZXJzLmxlbmd0aDsKKwkJCQlpZiAobGVuZ3RoID09
IDEpIHsKKwkJCQkJbWV0aG9kLnBhcmFtZXRlcnMgPSBOT19QQVJBTUVURVJTOworCQkJCX0KKwkJ
CQllbHNlIHsKKwkJCQkJbWV0aG9kLnBhcmFtZXRlcnMgPSBuZXcgVHlwZUJpbmRpbmdbbGVuZ3Ro
IC0gMV07CisJCQkJCVN5c3RlbS5hcnJheWNvcHkobmV3UGFyYW1ldGVycywgMSwgbWV0aG9kLnBh
cmFtZXRlcnMsIDAsIGxlbmd0aCAtIDEpOworCQkJCX0KKwkJCX0KKwkJCWVsc2UgeworCQkJCW1l
dGhvZC5wYXJhbWV0ZXJzID0gbmV3UGFyYW1ldGVyczsKKwkJCX0KIAkJfQogCX0KZGlmZiAtLWdp
dCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZh
CmluZGV4IDNhZmRjY2YuLmJhNTg1YmYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2Vy
LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQpAQCAtNTIyMywxMCArNTIyMywy
MyBAQAogCS8vYXJndW1lbnRzCiAJaWYgKGxlbmd0aCAhPSAwKSB7Ci0JCVN5c3RlbS5hcnJheWNv
cHkoCi0JCQl0aGlzLmFzdFN0YWNrLAotCQkJdGhpcy5hc3RQdHIgKyAxLAotCQkJbWQuYXJndW1l
bnRzID0gbmV3IEFyZ3VtZW50W2xlbmd0aF0sCi0JCQkwLAotCQkJbGVuZ3RoKTsKKwkJQXJndW1l
bnQgYXJnID0gKEFyZ3VtZW50KSB0aGlzLmFzdFN0YWNrW3RoaXMuYXN0UHRyICsgMV07CisJCWlm
IChhcmcuaXNSZWNlaXZlcigpKSB7CisJCQltZC5yZWNlaXZlciA9IChSZWNlaXZlcikgYXJnOwor
CQkJaWYgKGxlbmd0aCA+IDEpIHsKKwkJCQlTeXN0ZW0uYXJyYXljb3B5KAorCQkJCQl0aGlzLmFz
dFN0YWNrLAorCQkJCQl0aGlzLmFzdFB0ciArIDIsCisJCQkJCW1kLmFyZ3VtZW50cyA9IG5ldyBB
cmd1bWVudFtsZW5ndGggLSAxXSwKKwkJCQkJMCwKKwkJCQkJbGVuZ3RoIC0gMSk7CisJCQl9CisJ
CX0gZWxzZSB7CisJCQlTeXN0ZW0uYXJyYXljb3B5KAorCQkJCQl0aGlzLmFzdFN0YWNrLAorCQkJ
CQl0aGlzLmFzdFB0ciArIDEsCisJCQkJCW1kLmFyZ3VtZW50cyA9IG5ldyBBcmd1bWVudFtsZW5n
dGhdLAorCQkJCQkwLAorCQkJCQlsZW5ndGgpOworCQl9CiAJfQogCW1kLmJvZHlTdGFydCA9IHRo
aXMuclBhcmVuUG9zKzE7
</data>
<flag name="review"
          id="52907"
          type_id="6"
          status="?"
          setter="jarthana"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>219890</attachid>
            <date>2012-08-14 20:43:00 -0400</date>
            <delta_ts>2012-08-14 20:43:49 -0400</delta_ts>
            <desc>Simpler patch ??</desc>
            <filename>Blah.patch</filename>
            <type>text/plain</type>
            <size>19333</size>
            <attacher name="Srikanth Sankaran">srikanth_sankaran</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFu
bm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9z
cmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2
ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmluZGV4IDZhZGI0MmQuLjgyZDk0YTUgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBl
QW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTA4Miw5ICsxMDgyLDkgQEAKIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgdGhpcykge31cbiIgKw0KIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgT3V0ZXIuSW5uZXIudGhpcywgaW50IGksIGZsb2F0
IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVyIE91dGVyLnRo
aXMsIGZsb2F0IGYpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVy
LklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IE91dGVyLklubmVyLklubmVyTW9zdC50aGlzKSB7fVxu
IiArDQorCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVy
TW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKw0K
IAkJCQkJCSIgICAgICAgICAgICBJbm5lck1vc3QoSW5uZXI8SyxWPiBPdXRlci5Jbm5lci5Jbm5l
ck1vc3QudGhpcywgaW50IGkpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0
KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJCQkJCQkiICAgICAg
ICAgICAgSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYsIGludCBpKSB7
fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+IElu
bmVyLnRoaXMsIGxvbmcgbCkge31cbiIgKw0KIAkJCQkJCSIgICAgICAgIH1cbiIgKw0KIAkJCQkJ
CSIgICAgfVxuIiArDQpAQCAtMTEzNiwxMiArMTEzNiwxMiBAQAogCQkJCQkJIlRoZSBleHBsaWNp
dCAndGhpcycgcGFyYW1ldGVyIGlzIGV4cGVjdGVkIHRvIGJlIHF1YWxpZmllZCB3aXRoIE91dGVy
LklubmVyXG4iICsgDQogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiMTAuIEVSUk9S
IGluIE91dGVyLmphdmEgKGF0IGxpbmUgOSlcbiIgKyANCi0JCQkJCQkiCUlubmVyTW9zdChPdXRl
ci5Jbm5lcjxLLFY+LklubmVyTW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcykge31c
biIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVyTW9zdDxUPiBP
dXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKyANCiAJCQkJCQki
CSAgICAgICAgICBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXlxuIiArIA0KIAkJCQkJCSJUaGUg
ZGVjbGFyZWQgdHlwZSBvZiB0aGUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBleHBlY3Rl
ZCB0byBiZSBPdXRlci5Jbm5lcjxLLFY+XG4iICsgDQogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyAN
CiAJCQkJCQkiMTEuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgOSlcbiIgKyANCi0JCQkJ
CQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVyTW9zdDxUPiBPdXRlci5Jbm5lci5J
bm5lck1vc3QudGhpcykge31cbiIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxL
LFY+LklubmVyTW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikg
e31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCSJUaGUgZXhwbGljaXQg
J3RoaXMnIHBhcmFtZXRlciBpcyBleHBlY3RlZCB0byBiZSBxdWFsaWZpZWQgd2l0aCBPdXRlci5J
bm5lclxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQpAQCAtMTE1MSw3ICsxMTUxLDcg
QEAKIAkJCQkJCSJUaGUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBleHBlY3RlZCB0byBi
ZSBxdWFsaWZpZWQgd2l0aCBPdXRlci5Jbm5lclxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4i
ICsgDQogCQkJCQkJIjEzLiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDExKVxuIiArIA0K
LQkJCQkJCSIJSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4i
ICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SywgVj4gdGhpcywgZmxvYXQgZiwg
aW50IGkpIHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXl5e
XlxuIiArIA0KIAkJCQkJCSJUaGUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBleHBlY3Rl
ZCB0byBiZSBxdWFsaWZpZWQgd2l0aCBPdXRlci5Jbm5lclxuIiArIA0KIAkJCQkJCSItLS0tLS0t
LS0tXG4iKTsNCkBAIC0xMTY2LDExICsxMTY2LDExIEBACiAJCQkJCQkiICAgICAgICBjbGFzcyBJ
bm5lck1vc3Q8VD4ge1xuIiArDQogCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZvbyhP
dXRlciBPdXRlci50aGlzKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lk
IGZvbyhJbm5lcjxLLFY+IElubmVyLnRoaXMsIGludCBpKSB7fVxuIiArDQotCQkJCQkJIiAgICAg
ICAgICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3QgdGhpcykge31cbiIgKw0KKwkJCQkJCSIg
ICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXJNb3N0IHRoaXMsIGludCBpLCBpbnQgaikg
e31cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXIuSW5uZXJN
b3N0PFQ+IHRoaXMsIE9iamVjdCBvYmopIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgcHVi
bGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiB0aGlzLCBpbnQgaSkge31cbiIgKw0KKwkJCQkJCSIg
ICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXJNb3N0PFQ+IHRoaXMsIGZsb2F0IGYpIHt9
XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyPEssVj4uSW5u
ZXJNb3N0PFQ+IHRoaXMsIGxvbmcgbCkge31cbiIgKw0KLQkJCQkJCSIgICAgICAgICAgICBwdWJs
aWMgdm9pZCBmb28oT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gdGhpcywgZmxvYXQgZikg
e31cbiIgKw0KKwkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oT3V0ZXIuSW5uZXI8
SyxWPi5Jbm5lck1vc3Q8VD4gdGhpcywgZmxvYXQgZiwgZmxvYXQgZmYpIHt9XG4iICsNCiAJCQkJ
CQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiBPdXRlci5Jbm5lci5J
bm5lck1vc3QudGhpcywgaW50IGksIGZsb2F0IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICB9
XG4iICsNCiAJCQkJCQkiICAgIH1cbiIgKw0KQEAgLTExOTcsMTIgKzExOTcsMTIgQEAKIAkJCQkJ
CSJUaGUgZXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBleHBlY3RlZCB0byBiZSBxdWFsaWZp
ZWQgd2l0aCBPdXRlci5Jbm5lci5Jbm5lck1vc3RcbiIgKyANCiAJCQkJCQkiLS0tLS0tLS0tLVxu
IiArIA0KIAkJCQkJCSI1LiBXQVJOSU5HIGluIE91dGVyLmphdmEgKGF0IGxpbmUgNilcbiIgKyAN
Ci0JCQkJCQkiCXB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3QgdGhpcykge31cbiIgKyANCisJCQkJ
CQkiCXB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3QgdGhpcywgaW50IGksIGludCBqKSB7fVxuIiAr
IA0KIAkJCQkJCSIJICAgICAgICAgICAgICAgIF5eXl5eXl5eXlxuIiArIA0KIAkJCQkJCSJPdXRl
ci5Jbm5lci5Jbm5lck1vc3QgaXMgYSByYXcgdHlwZS4gUmVmZXJlbmNlcyB0byBnZW5lcmljIHR5
cGUgT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gc2hvdWxkIGJlIHBhcmFtZXRlcml6ZWRc
biIgKyANCiAJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KIAkJCQkJCSI2LiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDYpXG4iICsgDQotCQkJCQkJIglwdWJsaWMgdm9pZCBmb28oSW5uZXJN
b3N0IHRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglwdWJsaWMgdm9pZCBmb28oSW5uZXJNb3N0IHRo
aXMsIGludCBpLCBpbnQgaikge31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICBeXl5e
Xl5eXl5cbiIgKyANCiAJCQkJCQkiVGhlIGRlY2xhcmVkIHR5cGUgb2YgdGhlIGV4cGxpY2l0ICd0
aGlzJyBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgdG8gYmUgT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1v
c3Q8VD5cbiIgKyANCiAJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KQEAgLTEyMjIsNiArMTIyMiw4
IEBACiAJCXRoaXMucnVuTmVnYXRpdmVUZXN0KA0KIAkJCQluZXcgU3RyaW5nW10gew0KIAkJCQkJ
CSJPdXRlci5qYXZhIiwNCisJCQkJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdl
dDtcbiIgKyANCisJCQkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVt
ZW50VHlwZS4qO1xuIiArIA0KIAkJCQkJCSJwdWJsaWMgY2xhc3MgT3V0ZXIge1xuIiArDQogCQkJ
CQkJIiAgICBjbGFzcyBJbm5lcjxLLFY+IHtcbiIgKw0KIAkJCQkJCSIJCXB1YmxpYyBJbm5lcihA
TWlzc2luZyBPdXRlciBPdXRlci50aGlzKSB7fVxuIiArDQpAQCAtMTIzMyw3ICsxMjM1LDcgQEAK
IAkJCQkJCSIgICAgICAgICAgICB9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgdm9pZCBiYXIo
aW50IGkpIHtcbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgY2xhc3MgTG9jYWwge1xuIiAr
DQotCQkJCQkJIiAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBoYXNoQ29kZShMb2NhbCB0
aGlzKSB7IHJldHVybiAwOyB9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJs
aWMgaW50IGhhc2hDb2RlKExvY2FsIHRoaXMsIGludCBrKSB7IHJldHVybiAwOyB9XG4iICsNCiAJ
CQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKE91dGVyLkxvY2Fs
IHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgfVxuIiAr
DQogCQkJCQkJIiAgICAgICAgICAgIH1cbiIgKw0KQEAgLTEyNDgsMzcgKzEyNTAsNjMgQEAKIAkJ
CQkJCSJpbnRlcmZhY2UgQW5vbnltb3VzSW5uZXIge1xuIiArDQogCQkJCQkJIiAgICBwdWJsaWMg
dm9pZCBmb29iYXIoQW5vbnltb3VzSW5uZXIgdGhpcyk7XG4iICsNCiAJCQkJCQkifVxuIiArDQor
CQkJCQkJIkBUYXJnZXQoVFlQRV9VU0UpXG4iICsgDQogCQkJCQkJIkBpbnRlcmZhY2UgTWFya2Vy
IHt9In0sDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIxLiBFUlJPUiBpbiBP
dXRlci5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCQkJCSIxLiBFUlJPUiBpbiBPdXRlci5q
YXZhIChhdCBsaW5lIDUpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIElubmVyKEBNaXNzaW5nIE91
dGVyIE91dGVyLnRoaXMpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICBeXl5eXl5e
XG4iICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVcbiIg
KyANCiAJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCi0JCQkJCQkJIjIuIEVSUk9SIGluIE91dGVy
LmphdmEgKGF0IGxpbmUgNylcbiIgKyANCisJCQkJCQkJIjIuIEVSUk9SIGluIE91dGVyLmphdmEg
KGF0IGxpbmUgOSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb29iYXIoQW5vbnltb3Vz
SW5uZXIgdGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBp
cyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNz
ZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0t
LVxuIiArIA0KLQkJCQkJCQkiMy4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAxMylcbiIg
KyANCisJCQkJCQkJIjMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTUpXG4iICsgDQog
CQkJCQkJCSIJcHVibGljIGludCBoYXNoQ29kZShPdXRlci5Mb2NhbCB0aGlzKSB7IHJldHVybiAw
OyB9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICAgICAgICBeXl5eXl5eXl5eXlxuIiAr
IA0KIAkJCQkJCQkiT3V0ZXIuTG9jYWwgY2Fubm90IGJlIHJlc29sdmVkIHRvIGEgdHlwZVxuIiAr
IA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KLQkJCQkJCQkiNC4gRVJST1IgaW4gT3V0ZXIu
amF2YSAoYXQgbGluZSAxOSlcbiIgKyANCisJCQkJCQkJIjQuIEVSUk9SIGluIE91dGVyLmphdmEg
KGF0IGxpbmUgMjEpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIFN0YXRpY05lc3RlZChATWFya2Vy
IE91dGVyLlN0YXRpY05lc3RlZCBPdXRlci5TdGF0aWNOZXN0ZWQudGhpcykge31cbiIgKyANCiAJ
CQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBeXl5eXG4iICsgDQogCQkJCQkJCSJFeHBsaWNpdCAndGhpcycgcGFy
YW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2RzIG9mIG5vbi1hbm9ueW1v
dXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4iICsgDQogCQkJCQkJCSIt
LS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSI1LiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5l
IDIxKVxuIiArIA0KKwkJCQkJCQkiNS4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMylc
biIgKyANCiAJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgZm9vKEBNYXJrZXIgT3V0ZXIgdGhp
cykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgXl5eXlxuIiArIA0KIAkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBhbGxv
d2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMgYW5k
IGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiAr
IA0KLQkJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMilcbiIgKyANCisJ
CQkJCQkJIjYuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMjQpXG4iICsgDQogCQkJCQkJ
CSIJcHVibGljIHZvaWQgZm9vKEBNaXNzaW5nIE91dGVyIHRoaXMsIGludCBpKSB7fVxuIiArIA0K
IAkJCQkJCQkiCSAgICAgICAgICAgICAgICAgXl5eXl5eXlxuIiArIA0KIAkJCQkJCQkiTWlzc2lu
ZyBjYW5ub3QgYmUgcmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgDQogCQkJCQkJCSItLS0tLS0tLS0t
XG4iKTsNCiAJfQ0KKwlwdWJsaWMgdm9pZCB0ZXN0MDM4MzkwOCgpIHsNCisJCXRoaXMucnVuTmVn
YXRpdmVUZXN0KA0KKwkJCQluZXcgU3RyaW5nW117IlguamF2YSIsDQorCQkJCSJwdWJsaWMgY2xh
c3MgWCB7IFxuIiArDQorCQkJCSIJdm9pZCBmb28oWCB0aGlzKSB7fVxuIiArDQorCQkJCSIgICB2
b2lkIGZvbygpIHt9XG4iICsNCisJCQkJIn1cbiIgKw0KKwkJCQkiY2xhc3MgWSB7XG4iICsNCisJ
CQkJIgl2b2lkIGZvbyhZIHRoaXMpIHt9XG4iICsNCisJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsNCisJCQkJIgkJbmV3IFkoKS5mb28oKTtcbiIgKw0K
KwkJCQkiCX1cbiIgKw0KKwkJCQkifSJ9LCANCisJCQkJIi0tLS0tLS0tLS1cbiIgKyANCisJCQkJ
IjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAyKVxuIiArIA0KKwkJCQkiCXZvaWQgZm9vKFgg
dGhpcykge31cbiIgKyANCisJCQkJIgkgICAgIF5eXl5eXl5eXl5eXG4iICsgDQorCQkJCSJEdXBs
aWNhdGUgbWV0aG9kIGZvbygpIGluIHR5cGUgWFxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIiAr
IA0KKwkJCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCSIJdm9p
ZCBmb28oKSB7fVxuIiArIA0KKwkJCQkiCSAgICAgXl5eXl5cbiIgKyANCisJCQkJIkR1cGxpY2F0
ZSBtZXRob2QgZm9vKCkgaW4gdHlwZSBYXG4iICsgDQorCQkJCSItLS0tLS0tLS0tXG4iKTsNCisJ
fQ0KIH0NCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvbW9kZWwvSmF2YVNlYXJjaFRlc3RzLmphdmEgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUv
dGVzdHMvbW9kZWwvSmF2YVNlYXJjaFRlc3RzLmphdmEKaW5kZXggMzE2YjFjNy4uZjM5NzY3MSAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hUZXN0cy5qYXZhCisrKyBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0
cy9tb2RlbC9KYXZhU2VhcmNoVGVzdHMuamF2YQpAQCAtNDQ2NCw0ICs0NDY0LDMzIEBACiAJLy8g
U2hvdWxkIGhhdmUgc2FtZSB0eXBlcyB3aXRoIHRoZXNlIDIgc2VhcmNoZXMKIAlhc3NlcnRFcXVh
bHMoIkZvdW5kIHR5cGVzIHNvdW5kcyBub3QgdG8gYmUgY29ycmVjdCIsIHJlcXVlc3Rvci50b1N0
cmluZygpLCBjb2xsZWN0b3IudG9TdHJpbmcoKSk7CiB9CisvLyBodHRwczovL2J1Z3MuZWNsaXBz
ZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzgzOTA4CitwdWJsaWMgdm9pZCB0ZXN0QnVnMzgz
OTA4KCkgdGhyb3dzIENvcmVFeGNlcHRpb24geworCXRyeSB7CisJCVN0cmluZyBmaWxlQ29udGVu
dCA9ICJwYWNrYWdlIHA7XG4iICsKKwkJCQkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIgKworCQkJ
CQkJCQkiICBwdWJsaWMgdm9pZCBmb29iYXIoWCB0aGlzLCBTdHJpbmcgc3RyKSB7XG4iICsKKwkJ
CQkJCQkJIiAgfVxuIiArCisJCQkJCQkJCSJ9IjsKKwkJY3JlYXRlSmF2YVByb2plY3QoIlAiLCBu
ZXcgU3RyaW5nW10geyJzcmMifSwgbmV3IFN0cmluZ1swXSwgImJpbiIpOworCQljcmVhdGVGb2xk
ZXIoIi9QL3NyYy9wIik7CisJCWNyZWF0ZUZpbGUoIi9QL3NyYy9wL1guamF2YSIsIGZpbGVDb250
ZW50KTsKKworCQlJVHlwZSB0eXBlID0gZ2V0Q29tcGlsYXRpb25Vbml0KCJQIiwgInNyYyIsICJw
IiwgIlguamF2YSIpLmdldFR5cGUoIlgiKTsKKwkJSU1ldGhvZFtdIG1ldGhvZHMgPSB0eXBlLmdl
dE1ldGhvZHMoKTsKKwkJc2VhcmNoKAorCQkJCW1ldGhvZHNbMF0sCisJCQkJREVDTEFSQVRJT05T
LAorCQkJCVNlYXJjaEVuZ2luZS5jcmVhdGVKYXZhU2VhcmNoU2NvcGUobmV3IElKYXZhRWxlbWVu
dFtdIHt0eXBlfSksCisJCQkJdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCisJCWFzc2VydFNlYXJj
aFJlc3VsdHMoCisJCQkJInNyYy9wL1guamF2YSB2b2lkIHAuWC5mb29iYXIoU3RyaW5nKSBbZm9v
YmFyXSIsCisJCQkJdGhpcy5yZXN1bHRDb2xsZWN0b3IpOworCisJfSBmaW5hbGx5IHsKKwkJZGVs
ZXRlUHJvamVjdCgiUCIpOworCX0KK30KKwogfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9BYnN0
cmFjdE1ldGhvZERlY2xhcmF0aW9uLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0Fic3RyYWN0TWV0aG9kRGVj
bGFyYXRpb24uamF2YQppbmRleCBmZDM2NDU5Li45ZGYxMjdjIDEwMDY0NAotLS0gYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
YXN0L0Fic3RyYWN0TWV0aG9kRGVjbGFyYXRpb24uamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0Fic3Ry
YWN0TWV0aG9kRGVjbGFyYXRpb24uamF2YQpAQCAtNDcsNiArNDcsNyBAQAogCXB1YmxpYyBpbnQg
bW9kaWZpZXJzU291cmNlU3RhcnQ7CiAJcHVibGljIEFubm90YXRpb25bXSBhbm5vdGF0aW9uczsK
IAkvLyBqc3IgMzA4CisJcHVibGljIFJlY2VpdmVyIHJlY2VpdmVyOwogCXB1YmxpYyBBbm5vdGF0
aW9uW10gcmVjZWl2ZXJBbm5vdGF0aW9uczsKIAlwdWJsaWMgQXJndW1lbnRbXSBhcmd1bWVudHM7
CiAJcHVibGljIFR5cGVSZWZlcmVuY2VbXSB0aHJvd25FeGNlcHRpb25zOwpAQCAtNDMxLDkgKzQz
MiwxMiBAQAogCQl9CiAKIAkJcHJpbnRSZXR1cm5UeXBlKDAsIG91dHB1dCkuYXBwZW5kKHRoaXMu
c2VsZWN0b3IpLmFwcGVuZCgnKCcpOworCQlpZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJ
CQl0aGlzLnJlY2VpdmVyLnByaW50KDAsIG91dHB1dCk7CisJCX0KIAkJaWYgKHRoaXMuYXJndW1l
bnRzICE9IG51bGwpIHsKIAkJCWZvciAoaW50IGkgPSAwOyBpIDwgdGhpcy5hcmd1bWVudHMubGVu
Z3RoOyBpKyspIHsKLQkJCQlpZiAoaSA+IDApIG91dHB1dC5hcHBlbmQoIiwgIik7IC8vJE5PTi1O
TFMtMSQKKwkJCQlpZiAoaSA+IDAgfHwgdGhpcy5yZWNlaXZlciAhPSBudWxsKSBvdXRwdXQuYXBw
ZW5kKCIsICIpOyAvLyROT04tTkxTLTEkCiAJCQkJdGhpcy5hcmd1bWVudHNbaV0ucHJpbnQoMCwg
b3V0cHV0KTsKIAkJCX0KIAkJfQpAQCAtNTA1LDQwICs1MDksMzcgQEAKIAl9CiAKIAlwdWJsaWMg
dm9pZCByZXNvbHZlUmVjZWl2ZXIoKSB7Ci0JCWlmICh0aGlzLmFyZ3VtZW50cyAhPSBudWxsICYm
IHRoaXMuYXJndW1lbnRzLmxlbmd0aCA+IDApIHsKLQkJCWlmICh0aGlzLmFyZ3VtZW50c1swXS5p
c1JlY2VpdmVyKCkpIHsKLQkJCQlSZWNlaXZlciByZWNlaXZlciA9IChSZWNlaXZlcikgdGhpcy5h
cmd1bWVudHNbMF07CisJCWlmICh0aGlzLnJlY2VpdmVyID09IG51bGwpIHJldHVybjsKIAotCQkJ
CVR5cGVCaW5kaW5nIHJlc29sdmVkUmVjZWl2ZXJUeXBlID0gcmVjZWl2ZXIudHlwZS5yZXNvbHZl
ZFR5cGU7Ci0JCQkJaWYgKHRoaXMuYmluZGluZyA9PSBudWxsIHx8IHJlc29sdmVkUmVjZWl2ZXJU
eXBlID09IG51bGwgfHwgIXJlc29sdmVkUmVjZWl2ZXJUeXBlLmlzVmFsaWRCaW5kaW5nKCkpCi0J
CQkJCXJldHVybjsKKwkJVHlwZUJpbmRpbmcgcmVzb2x2ZWRSZWNlaXZlclR5cGUgPSB0aGlzLnJl
Y2VpdmVyLnR5cGUucmVzb2x2ZWRUeXBlOworCQlpZiAodGhpcy5iaW5kaW5nID09IG51bGwgfHwg
cmVzb2x2ZWRSZWNlaXZlclR5cGUgPT0gbnVsbCB8fCAhcmVzb2x2ZWRSZWNlaXZlclR5cGUuaXNW
YWxpZEJpbmRpbmcoKSkgeworCQkJcmV0dXJuOworCQl9CiAKLQkJCQlSZWZlcmVuY2VCaW5kaW5n
IGRlY2xhcmluZ0NsYXNzID0gdGhpcy5iaW5kaW5nLmRlY2xhcmluZ0NsYXNzOwotCQkJCS8qIG5l
aXRoZXIgc3RhdGljIG1ldGhvZHMgbm9yIG1ldGhvZHMgaW4gYW5vbnltb3VzIHR5cGVzIGNhbiBo
YXZlIGV4cGxpY2l0ICd0aGlzJyAqLwotCQkJCWlmICh0aGlzLmlzU3RhdGljKCkgfHwgZGVjbGFy
aW5nQ2xhc3MuaXNBbm9ueW1vdXNUeXBlKCkpIHsKLQkJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVw
b3J0ZXIoKS5kaXNhbGxvd2VkVGhpc1BhcmFtZXRlcihyZWNlaXZlcik7Ci0JCQkJCXJldHVybjsg
Ly8gTm8gbmVlZCB0byBkbyBmdXJ0aGVyIHZhbGlkYXRpb24KLQkJCQl9CisJCVJlZmVyZW5jZUJp
bmRpbmcgZGVjbGFyaW5nQ2xhc3MgPSB0aGlzLmJpbmRpbmcuZGVjbGFyaW5nQ2xhc3M7CisJCS8q
IG5laXRoZXIgc3RhdGljIG1ldGhvZHMgbm9yIG1ldGhvZHMgaW4gYW5vbnltb3VzIHR5cGVzIGNh
biBoYXZlIGV4cGxpY2l0ICd0aGlzJyAqLworCQlpZiAodGhpcy5pc1N0YXRpYygpIHx8IGRlY2xh
cmluZ0NsYXNzLmlzQW5vbnltb3VzVHlwZSgpKSB7CisJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBv
cnRlcigpLmRpc2FsbG93ZWRUaGlzUGFyYW1ldGVyKHRoaXMucmVjZWl2ZXIpOworCQkJcmV0dXJu
OyAvLyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFsaWRhdGlvbgorCQl9CiAKLQkJCQlSZWZlcmVu
Y2VCaW5kaW5nIGVuY2xvc2luZ1JlY2VpdmVyID0gdGhpcy5zY29wZS5lbmNsb3NpbmdSZWNlaXZl
clR5cGUoKTsKLQkJCQlpZiAodGhpcy5pc0NvbnN0cnVjdG9yKCkpIHsKLQkJCQkJLyogT25seSBu
b24gc3RhdGljIG1lbWJlciB0eXBlcyBvciBsb2NhbCB0eXBlcyBjYW4gZGVjbGFyZSBleHBsaWNp
dCAndGhpcycgcGFyYW1zIGluIGNvbnN0cnVjdG9ycyAqLwotCQkJCQlpZiAoZGVjbGFyaW5nQ2xh
c3MuaXNTdGF0aWMoKQotCQkJCQkJCXx8IChkZWNsYXJpbmdDbGFzcy50YWdCaXRzICYgKFRhZ0Jp
dHMuSXNMb2NhbFR5cGUgfCBUYWdCaXRzLklzTWVtYmVyVHlwZSkpID09IDApIHsgLyogbmVpdGhl
ciBtZW1iZXIgbm9yIGxvY2FsIHR5cGUgKi8KLQkJCQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9y
dGVyKCkuZGlzYWxsb3dlZFRoaXNQYXJhbWV0ZXIocmVjZWl2ZXIpOwotCQkJCQkJcmV0dXJuOyAv
LyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFsaWRhdGlvbgotCQkJCQl9Ci0JCQkJCWVuY2xvc2lu
Z1JlY2VpdmVyID0gZW5jbG9zaW5nUmVjZWl2ZXIuZW5jbG9zaW5nVHlwZSgpOwotCQkJCX0KLQot
CQkJCWlmIChlbmNsb3NpbmdSZWNlaXZlciAhPSByZXNvbHZlZFJlY2VpdmVyVHlwZSkgewotCQkJ
CQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxUeXBlRm9yRXhwbGljaXRUaGlz
KHJlY2VpdmVyLCBlbmNsb3NpbmdSZWNlaXZlcik7Ci0JCQkJfQotCi0JCQkJaWYgKChyZWNlaXZl
ci5xdWFsaWZ5aW5nTmFtZSA9PSBudWxsKSA/IHRoaXMuaXNDb25zdHJ1Y3RvcigpIDogIWlzUXVh
bGlmaWVyVmFsaWRGb3JUeXBlKHJlY2VpdmVyLnF1YWxpZnlpbmdOYW1lLmdldE5hbWUoKSwgZW5j
bG9zaW5nUmVjZWl2ZXIpKSB7Ci0JCQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuaWxs
ZWdhbFF1YWxpZmllckZvckV4cGxpY2l0VGhpcyhyZWNlaXZlciwgZW5jbG9zaW5nUmVjZWl2ZXIp
OwkJCQkJCi0JCQkJfQorCQlSZWZlcmVuY2VCaW5kaW5nIGVuY2xvc2luZ1JlY2VpdmVyID0gdGhp
cy5zY29wZS5lbmNsb3NpbmdSZWNlaXZlclR5cGUoKTsKKwkJaWYgKHRoaXMuaXNDb25zdHJ1Y3Rv
cigpKSB7CisJCQkvKiBPbmx5IG5vbiBzdGF0aWMgbWVtYmVyIHR5cGVzIG9yIGxvY2FsIHR5cGVz
IGNhbiBkZWNsYXJlIGV4cGxpY2l0ICd0aGlzJyBwYXJhbXMgaW4gY29uc3RydWN0b3JzICovCisJ
CQlpZiAoZGVjbGFyaW5nQ2xhc3MuaXNTdGF0aWMoKQorCQkJCQl8fCAoZGVjbGFyaW5nQ2xhc3Mu
dGFnQml0cyAmIChUYWdCaXRzLklzTG9jYWxUeXBlIHwgVGFnQml0cy5Jc01lbWJlclR5cGUpKSA9
PSAwKSB7IC8qIG5laXRoZXIgbWVtYmVyIG5vciBsb2NhbCB0eXBlICovCisJCQkJdGhpcy5zY29w
ZS5wcm9ibGVtUmVwb3J0ZXIoKS5kaXNhbGxvd2VkVGhpc1BhcmFtZXRlcih0aGlzLnJlY2VpdmVy
KTsKKwkJCQlyZXR1cm47IC8vIE5vIG5lZWQgdG8gZG8gZnVydGhlciB2YWxpZGF0aW9uCiAJCQl9
CisJCQllbmNsb3NpbmdSZWNlaXZlciA9IGVuY2xvc2luZ1JlY2VpdmVyLmVuY2xvc2luZ1R5cGUo
KTsKKwkJfQorCisJCWlmIChlbmNsb3NpbmdSZWNlaXZlciAhPSByZXNvbHZlZFJlY2VpdmVyVHlw
ZSkgeworCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVHlwZUZvckV4cGxp
Y2l0VGhpcyh0aGlzLnJlY2VpdmVyLCBlbmNsb3NpbmdSZWNlaXZlcik7CisJCX0KKworCQlpZiAo
KHRoaXMucmVjZWl2ZXIucXVhbGlmeWluZ05hbWUgPT0gbnVsbCkgPyB0aGlzLmlzQ29uc3RydWN0
b3IoKSA6ICFpc1F1YWxpZmllclZhbGlkRm9yVHlwZSh0aGlzLnJlY2VpdmVyLnF1YWxpZnlpbmdO
YW1lLmdldE5hbWUoKSwgZW5jbG9zaW5nUmVjZWl2ZXIpKSB7CisJCQl0aGlzLnNjb3BlLnByb2Js
ZW1SZXBvcnRlcigpLmlsbGVnYWxRdWFsaWZpZXJGb3JFeHBsaWNpdFRoaXModGhpcy5yZWNlaXZl
ciwgZW5jbG9zaW5nUmVjZWl2ZXIpOwkJCQkJCiAJCX0KIAl9CiAJcHJpdmF0ZSBib29sZWFuIGlz
UXVhbGlmaWVyVmFsaWRGb3JUeXBlKGNoYXJbXVtdIHRva2VucywgVHlwZUJpbmRpbmcgZW5jbG9z
aW5nVHlwZSkgewpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RCaW5kaW5nLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQppbmRleCBjZTI1ZTU3Li4yODM0ODY0
IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQorKysgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YQpAQCAtMzQsNiArMzQsNyBAQAogCXB1YmxpYyBj
aGFyW10gc2VsZWN0b3I7CiAJcHVibGljIFR5cGVCaW5kaW5nIHJldHVyblR5cGU7CiAJcHVibGlj
IFR5cGVCaW5kaW5nW10gcGFyYW1ldGVyczsKKwlwdWJsaWMgVHlwZUJpbmRpbmcgcmVjZWl2ZXI7
ICAvLyBKU1IzMDggLSBleHBsaWNpdCB0aGlzIHBhcmFtZXRlcgogCXB1YmxpYyBSZWZlcmVuY2VC
aW5kaW5nW10gdGhyb3duRXhjZXB0aW9uczsKIAlwdWJsaWMgUmVmZXJlbmNlQmluZGluZyBkZWNs
YXJpbmdDbGFzczsKIAlwdWJsaWMgVHlwZVZhcmlhYmxlQmluZGluZ1tdIHR5cGVWYXJpYWJsZXMg
PSBCaW5kaW5nLk5PX1RZUEVfVkFSSUFCTEVTOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9N
ZXRob2RTY29wZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RTY29wZS5qYXZhCmluZGV4IDhi
NWY4MjAuLjE5MmQwOWQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2NvcGUuamF2
YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZFNjb3BlLmphdmEKQEAgLTM1MywyNyArMzUzLDI0
IEBACiAJCWlmIChhcmd1bWVudC5pc1ZhckFyZ3MoKSAmJiBzb3VyY2VMZXZlbCA+PSBDbGFzc0Zp
bGVDb25zdGFudHMuSkRLMV81KQogCQkJbWV0aG9kLmJpbmRpbmcubW9kaWZpZXJzIHw9IENsYXNz
RmlsZUNvbnN0YW50cy5BY2NWYXJhcmdzOwogCQlpZiAoQ2hhck9wZXJhdGlvbi5lcXVhbHMoYXJn
dW1lbnQubmFtZSwgQ29uc3RhbnRQb29sLlRoaXMpKSB7Ci0JCQlpZiAoYXJnTGVuZ3RoICE9IDAg
fHwgc291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgewotCQkJCXByb2Js
ZW1SZXBvcnRlcigpLmlsbGVnYWxUaGlzKGFyZ3VtZW50LCBtZXRob2QsIHNvdXJjZUxldmVsKTsK
LQkJCX0KLQkJCWlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7Ci0JCQkJbWV0aG9k
LnJlY2VpdmVyQW5ub3RhdGlvbnMgPSBhcmd1bWVudC5hbm5vdGF0aW9uczsKLQkJCQltZXRob2Qu
Yml0cyB8PSBBU1ROb2RlLkhhc1R5cGVBbm5vdGF0aW9uczsKLQkJCX0KKwkJCXByb2JsZW1SZXBv
cnRlcigpLmlsbGVnYWxUaGlzKGFyZ3VtZW50LCBtZXRob2QsIHNvdXJjZUxldmVsKTsKIAkJfQog
CQl3aGlsZSAoLS1hcmdMZW5ndGggPj0gMCkgewogCQkJYXJndW1lbnQgPSBhcmdUeXBlc1thcmdM
ZW5ndGhdOwogCQkJaWYgKGFyZ3VtZW50LmlzVmFyQXJncygpICYmIHNvdXJjZUxldmVsID49IENs
YXNzRmlsZUNvbnN0YW50cy5KREsxXzUpCiAJCQkJcHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFZh
cmFyZyhhcmd1bWVudCwgbWV0aG9kKTsKIAkJCWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhhcmd1
bWVudC5uYW1lLCBDb25zdGFudFBvb2wuVGhpcykpIHsKLQkJCQlpZiAoYXJnTGVuZ3RoICE9IDAg
fHwgc291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgewotCQkJCQlwcm9i
bGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVGhpcyhhcmd1bWVudCwgbWV0aG9kLCBzb3VyY2VMZXZlbCk7
Ci0JCQkJfQotCQkJCWlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7Ci0JCQkJCW1l
dGhvZC5yZWNlaXZlckFubm90YXRpb25zID0gYXJndW1lbnQuYW5ub3RhdGlvbnM7Ci0JCQkJCW1l
dGhvZC5iaXRzIHw9IEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zOwotCQkJCX0KLQkJCX0JCisJ
CQkJcHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFRoaXMoYXJndW1lbnQsIG1ldGhvZCwgc291cmNl
TGV2ZWwpOworCQkJfQorCQl9CisJfQorCWlmIChtZXRob2QucmVjZWl2ZXIgIT0gbnVsbCkgewor
CQlpZiAoc291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgeworCQkJcHJv
YmxlbVJlcG9ydGVyKCkuaWxsZWdhbFRoaXMobWV0aG9kLnJlY2VpdmVyLCBtZXRob2QsIHNvdXJj
ZUxldmVsKTsKKwkJfQorCQlpZiAobWV0aG9kLnJlY2VpdmVyLmFubm90YXRpb25zICE9IG51bGwp
IHsKKwkJCW1ldGhvZC5yZWNlaXZlckFubm90YXRpb25zID0gbWV0aG9kLnJlY2VpdmVyLmFubm90
YXRpb25zOworCQkJbWV0aG9kLmJpdHMgfD0gQVNUTm9kZS5IYXNUeXBlQW5ub3RhdGlvbnM7CiAJ
CX0KIAl9CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQppbmRleCBhOGZiYzU5Li5i
ODJhZmM1IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCkBAIC0xNTA1LDYgKzE1
MDUsMTAgQEAKIAkJaWYgKGNvdW50IDwgc2l6ZSkKIAkJCVN5c3RlbS5hcnJheWNvcHkobWV0aG9k
LnRocm93bkV4Y2VwdGlvbnMsIDAsIG1ldGhvZC50aHJvd25FeGNlcHRpb25zID0gbmV3IFJlZmVy
ZW5jZUJpbmRpbmdbY291bnRdLCAwLCBjb3VudCk7CiAJfQorCQorCWlmIChtZXRob2REZWNsLnJl
Y2VpdmVyICE9IG51bGwpIHsKKwkJbWV0aG9kLnJlY2VpdmVyID0gbWV0aG9kRGVjbC5yZWNlaXZl
ci50eXBlLnJlc29sdmVUeXBlKG1ldGhvZERlY2wuc2NvcGUsIHRydWUgLyogY2hlY2sgYm91bmRz
Ki8pOworCX0KIAlmaW5hbCBib29sZWFuIHJlcG9ydFVuYXZvaWRhYmxlR2VuZXJpY1R5cGVQcm9i
bGVtcyA9IHRoaXMuc2NvcGUuY29tcGlsZXJPcHRpb25zKCkucmVwb3J0VW5hdm9pZGFibGVHZW5l
cmljVHlwZVByb2JsZW1zOwogCWJvb2xlYW4gZm91bmRBcmdQcm9ibGVtID0gZmFsc2U7CiAJQXJn
dW1lbnRbXSBhcmd1bWVudHMgPSBtZXRob2REZWNsLmFyZ3VtZW50czsKZGlmZiAtLWdpdCBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9wYXJzZXIvUGFyc2VyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCmluZGV4
IDNhZmRjY2YuLmJhNTg1YmYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQpAQCAtNTIyMiwxMiArNTIyMiwyNSBAQAog
CW1kLnNvdXJjZUVuZCA9IAl0aGlzLnJQYXJlblBvczsKIAkvL2FyZ3VtZW50cwogCWlmIChsZW5n
dGggIT0gMCkgewotCQlTeXN0ZW0uYXJyYXljb3B5KAotCQkJdGhpcy5hc3RTdGFjaywKLQkJCXRo
aXMuYXN0UHRyICsgMSwKLQkJCW1kLmFyZ3VtZW50cyA9IG5ldyBBcmd1bWVudFtsZW5ndGhdLAot
CQkJMCwKLQkJCWxlbmd0aCk7CisJCUFyZ3VtZW50IGFyZyA9IChBcmd1bWVudCkgdGhpcy5hc3RT
dGFja1t0aGlzLmFzdFB0ciArIDFdOworCQlpZiAoYXJnLmlzUmVjZWl2ZXIoKSkgeworCQkJbWQu
cmVjZWl2ZXIgPSAoUmVjZWl2ZXIpIGFyZzsKKwkJCWlmIChsZW5ndGggPiAxKSB7CisJCQkJU3lz
dGVtLmFycmF5Y29weSgKKwkJCQkJdGhpcy5hc3RTdGFjaywKKwkJCQkJdGhpcy5hc3RQdHIgKyAy
LAorCQkJCQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoIC0gMV0sCisJCQkJCTAs
CisJCQkJCWxlbmd0aCAtIDEpOworCQkJfQorCQl9IGVsc2UgeworCQkJU3lzdGVtLmFycmF5Y29w
eSgKKwkJCQkJdGhpcy5hc3RTdGFjaywKKwkJCQkJdGhpcy5hc3RQdHIgKyAxLAorCQkJCQltZC5h
cmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoXSwKKwkJCQkJMCwKKwkJCQkJbGVuZ3RoKTsK
KwkJfQogCX0KIAltZC5ib2R5U3RhcnQgPSB0aGlzLnJQYXJlblBvcysxOwogCXRoaXMubGlzdExl
bmd0aCA9IDA7IC8vIHJlc2V0IHRoaXMubGlzdExlbmd0aCBhZnRlciBoYXZpbmcgcmVhZCBhbGwg
cGFyYW1ldGVycw==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>220088</attachid>
            <date>2012-08-21 02:40:00 -0400</date>
            <delta_ts>2012-08-21 02:40:07 -0400</delta_ts>
            <desc>Updated patch</desc>
            <filename>Fix-for-bug-383908.patch</filename>
            <type>text/plain</type>
            <size>20266</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFu
bm90YXRpb25UZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9z
cmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdhdGl2
ZVR5cGVBbm5vdGF0aW9uVGVzdC5qYXZhCmluZGV4IDZhZGI0MmQuLmJlMzEzN2YgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlVHlwZUFubm90YXRpb25U
ZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVnYXRpdmVUeXBl
QW5ub3RhdGlvblRlc3QuamF2YQpAQCAtMTA4Myw3ICsxMDgzLDcgQEAKIAkJCQkJCSIgICAgICAg
ICAgICBJbm5lck1vc3QoT3V0ZXIuSW5uZXIgT3V0ZXIuSW5uZXIudGhpcywgaW50IGksIGZsb2F0
IGYpIHt9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVyIE91dGVyLnRo
aXMsIGZsb2F0IGYpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0KE91dGVy
LklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IE91dGVyLklubmVyLklubmVyTW9zdC50aGlzKSB7fVxu
IiArDQorCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+LklubmVy
TW9zdDxUPiBPdXRlci5Jbm5lci5Jbm5lck1vc3QudGhpcywgT2JqZWN0IG9iaikge31cbiIgKw0K
IAkJCQkJCSIgICAgICAgICAgICBJbm5lck1vc3QoSW5uZXI8SyxWPiBPdXRlci5Jbm5lci5Jbm5l
ck1vc3QudGhpcywgaW50IGkpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgSW5uZXJNb3N0
KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJCQkJCQkiICAgICAg
ICAgICAgSW5uZXJNb3N0KE91dGVyLklubmVyPEssIFY+IHRoaXMsIGZsb2F0IGYsIGludCBpKSB7
fVxuIiArDQogCQkJCQkJIiAgICAgICAgICAgIElubmVyTW9zdChPdXRlci5Jbm5lcjxLLFY+IElu
bmVyLnRoaXMsIGxvbmcgbCkge31cbiIgKw0KIAkJCQkJCSIgICAgICAgIH1cbiIgKw0KQEAgLTEx
MzcsMTAgKzExMzcsMTAgQEAKIAkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQogCQkJCQkJIjEwLiBF
UlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQotCQkJCQkJIglJbm5lck1vc3Qo
T3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMp
IHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8
VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBvYmopIHt9XG4iICsgDQogCQkJ
CQkJIgkgICAgICAgICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cbiIgKyANCiAJCQkJCQki
VGhlIGRlY2xhcmVkIHR5cGUgb2YgdGhlIGV4cGxpY2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhw
ZWN0ZWQgdG8gYmUgT3V0ZXIuSW5uZXI8SyxWPlxuIiArIA0KIAkJCQkJCSItLS0tLS0tLS0tXG4i
ICsgDQogCQkJCQkJIjExLiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDkpXG4iICsgDQot
CQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5u
ZXIuSW5uZXJNb3N0LnRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5u
ZXI8SyxWPi5Jbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRoaXMsIE9iamVjdCBv
YmopIHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCiAJCQkJCQkiVGhlIGV4cGxp
Y2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgdG8gYmUgcXVhbGlmaWVkIHdpdGggT3V0
ZXIuSW5uZXJcbiIgKyANCkBAIC0xMTUyLDUgKzExNTIsNSBAQAogCQkJCQkJIi0tLS0tLS0tLS1c
biIgKyANCiAJCQkJCQkiMTMuIEVSUk9SIGluIE91dGVyLmphdmEgKGF0IGxpbmUgMTEpXG4iICsg
DQotCQkJCQkJIglJbm5lck1vc3QoT3V0ZXIuSW5uZXI8SywgVj4gdGhpcywgZmxvYXQgZikge31c
biIgKyANCisJCQkJCQkiCUlubmVyTW9zdChPdXRlci5Jbm5lcjxLLCBWPiB0aGlzLCBmbG9hdCBm
LCBpbnQgaSkge31cbiIgKyANCiAJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBe
Xl5eXG4iICsgDQogCQkJCQkJIlRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlzIGV4cGVj
dGVkIHRvIGJlIHF1YWxpZmllZCB3aXRoIE91dGVyLklubmVyXG4iICsgDQpAQCAtMTE2Nyw5ICsx
MTY3LDkgQEAKIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oT3V0ZXIgT3V0ZXIu
dGhpcykge31cbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICBwdWJsaWMgdm9pZCBmb28oSW5uZXI8
SyxWPiBJbm5lci50aGlzLCBpbnQgaSkge31cbiIgKw0KLQkJCQkJCSIgICAgICAgICAgICBwdWJs
aWMgdm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGopIHt9XG4iICsNCiAJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKElubmVyLklubmVyTW9zdDxUPiB0aGlz
LCBPYmplY3Qgb2JqKSB7fVxuIiArDQotCQkJCQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZv
byhJbm5lck1vc3Q8VD4gdGhpcywgaW50IGkpIHt9XG4iICsNCisJCQkJCQkiICAgICAgICAgICAg
cHVibGljIHZvaWQgZm9vKElubmVyTW9zdDxUPiB0aGlzLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJ
CQkJIiAgICAgICAgICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lcjxLLFY+LklubmVyTW9zdDxUPiB0
aGlzLCBsb25nIGwpIHt9XG4iICsNCi0JCQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9v
KE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+IHRoaXMsIGZsb2F0IGYpIHt9XG4iICsNCisJ
CQkJCQkiICAgICAgICAgICAgcHVibGljIHZvaWQgZm9vKE91dGVyLklubmVyPEssVj4uSW5uZXJN
b3N0PFQ+IHRoaXMsIGZsb2F0IGYsIGZsb2F0IGZmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAg
ICAgIHB1YmxpYyB2b2lkIGZvbyhJbm5lck1vc3Q8VD4gT3V0ZXIuSW5uZXIuSW5uZXJNb3N0LnRo
aXMsIGludCBpLCBmbG9hdCBmKSB7fVxuIiArDQogCQkJCQkJIiAgICAgICAgfVxuIiArDQpAQCAt
MTE5OCwxMCArMTE5OCwxMCBAQAogCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNS4g
V0FSTklORyBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDYpXG4iICsgDQotCQkJCQkJIglwdWJsaWMg
dm9pZCBmb28oSW5uZXJNb3N0IHRoaXMpIHt9XG4iICsgDQorCQkJCQkJIglwdWJsaWMgdm9pZCBm
b28oSW5uZXJNb3N0IHRoaXMsIGludCBpLCBpbnQgaikge31cbiIgKyANCiAJCQkJCQkiCSAgICAg
ICAgICAgICAgICBeXl5eXl5eXl5cbiIgKyANCiAJCQkJCQkiT3V0ZXIuSW5uZXIuSW5uZXJNb3N0
IGlzIGEgcmF3IHR5cGUuIFJlZmVyZW5jZXMgdG8gZ2VuZXJpYyB0eXBlIE91dGVyLklubmVyPEss
Vj4uSW5uZXJNb3N0PFQ+IHNob3VsZCBiZSBwYXJhbWV0ZXJpemVkXG4iICsgDQogCQkJCQkJIi0t
LS0tLS0tLS1cbiIgKyANCiAJCQkJCQkiNi4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSA2
KVxuIiArIA0KLQkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzKSB7fVxuIiAr
IA0KKwkJCQkJCSIJcHVibGljIHZvaWQgZm9vKElubmVyTW9zdCB0aGlzLCBpbnQgaSwgaW50IGop
IHt9XG4iICsgDQogCQkJCQkJIgkgICAgICAgICAgICAgICAgXl5eXl5eXl5eXG4iICsgDQogCQkJ
CQkJIlRoZSBkZWNsYXJlZCB0eXBlIG9mIHRoZSBleHBsaWNpdCAndGhpcycgcGFyYW1ldGVyIGlz
IGV4cGVjdGVkIHRvIGJlIE91dGVyLklubmVyPEssVj4uSW5uZXJNb3N0PFQ+XG4iICsgDQpAQCAt
MTIyMyw0ICsxMjIzLDYgQEAKIAkJCQluZXcgU3RyaW5nW10gew0KIAkJCQkJCSJPdXRlci5qYXZh
IiwNCisJCQkJCQkiaW1wb3J0IGphdmEubGFuZy5hbm5vdGF0aW9uLlRhcmdldDtcbiIgKyANCisJ
CQkJCQkiaW1wb3J0IHN0YXRpYyBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZS4qO1xu
IiArIA0KIAkJCQkJCSJwdWJsaWMgY2xhc3MgT3V0ZXIge1xuIiArDQogCQkJCQkJIiAgICBjbGFz
cyBJbm5lcjxLLFY+IHtcbiIgKw0KQEAgLTEyMzQsNSArMTIzNiw1IEBACiAJCQkJCQkiICAgICAg
ICAgICAgdm9pZCBiYXIoaW50IGkpIHtcbiIgKw0KIAkJCQkJCSIgICAgICAgICAgICAgICAgY2xh
c3MgTG9jYWwge1xuIiArDQotCQkJCQkJIiAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBo
YXNoQ29kZShMb2NhbCB0aGlzKSB7IHJldHVybiAwOyB9XG4iICsNCisJCQkJCQkiICAgICAgICAg
ICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hDb2RlKExvY2FsIHRoaXMsIGludCBrKSB7IHJldHVy
biAwOyB9XG4iICsNCiAJCQkJCQkiICAgICAgICAgICAgICAgICAgICBwdWJsaWMgaW50IGhhc2hD
b2RlKE91dGVyLkxvY2FsIHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKw0KIAkJCQkJCSIgICAgICAg
ICAgICAgICAgfVxuIiArDQpAQCAtMTI0OSwzNiArMTI1MSw3NyBAQAogCQkJCQkJIiAgICBwdWJs
aWMgdm9pZCBmb29iYXIoQW5vbnltb3VzSW5uZXIgdGhpcyk7XG4iICsNCiAJCQkJCQkifVxuIiAr
DQorCQkJCQkJIkBUYXJnZXQoVFlQRV9VU0UpXG4iICsgDQogCQkJCQkJIkBpbnRlcmZhY2UgTWFy
a2VyIHt9In0sDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIxLiBFUlJPUiBp
biBPdXRlci5qYXZhIChhdCBsaW5lIDMpXG4iICsgDQorCQkJCQkJCSIxLiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDUpXG4iICsgDQogCQkJCQkJCSIJcHVibGljIElubmVyKEBNaXNzaW5n
IE91dGVyIE91dGVyLnRoaXMpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICBeXl5e
Xl5eXG4iICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVc
biIgKyANCiAJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCi0JCQkJCQkJIjIuIEVSUk9SIGluIE91
dGVyLmphdmEgKGF0IGxpbmUgNylcbiIgKyANCisJCQkJCQkJIjIuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgOSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb29iYXIoQW5vbnlt
b3VzSW5uZXIgdGhpcykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXl5eXlxuIiArIA0KLQkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRl
ciBpcyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNs
YXNzZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KKwkJCQkJCQkiRXhwbGlj
aXQgXCd0aGlzXCcgcGFyYW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2Rz
IG9mIG5vbi1hbm9ueW1vdXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4i
ICsgDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSIzLiBFUlJPUiBpbiBPdXRl
ci5qYXZhIChhdCBsaW5lIDEzKVxuIiArIA0KKwkJCQkJCQkiMy4gRVJST1IgaW4gT3V0ZXIuamF2
YSAoYXQgbGluZSAxNSlcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgaW50IGhhc2hDb2RlKE91dGVy
LkxvY2FsIHRoaXMpIHsgcmV0dXJuIDA7IH1cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAg
ICAgICAgIF5eXl5eXl5eXl5eXG4iICsgDQogCQkJCQkJCSJPdXRlci5Mb2NhbCBjYW5ub3QgYmUg
cmVzb2x2ZWQgdG8gYSB0eXBlXG4iICsgDQogCQkJCQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJ
CQkJCSI0LiBFUlJPUiBpbiBPdXRlci5qYXZhIChhdCBsaW5lIDE5KVxuIiArIA0KKwkJCQkJCQki
NC4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMSlcbiIgKyANCiAJCQkJCQkJIglwdWJs
aWMgU3RhdGljTmVzdGVkKEBNYXJrZXIgT3V0ZXIuU3RhdGljTmVzdGVkIE91dGVyLlN0YXRpY05l
c3RlZC50aGlzKSB7fVxuIiArIA0KLQkJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCi0JCQkJ
CQkJIkV4cGxpY2l0ICd0aGlzJyBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBvbmx5IGluIGluc3RhbmNl
IG1ldGhvZHMgb2Ygbm9uLWFub255bW91cyBjbGFzc2VzIGFuZCBpbm5lciBjbGFzcyBjb25zdHJ1
Y3RvcnNcbiIgKyANCisJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgIF5eXl5eXl5cbiIgKyAN
CisJCQkJCQkJIlRoZSBhbm5vdGF0aW9uIEBNYXJrZXIgaXMgZGlzYWxsb3dlZCBmb3IgdGhpcyBs
b2NhdGlvblxuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KIAkJCQkJCQkiNS4gRVJS
T1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMSlcbiIgKyANCisJCQkJCQkJIglwdWJsaWMgU3Rh
dGljTmVzdGVkKEBNYXJrZXIgT3V0ZXIuU3RhdGljTmVzdGVkIE91dGVyLlN0YXRpY05lc3RlZC50
aGlzKSB7fVxuIiArIA0KKwkJCQkJCQkiCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5eXl5cbiIgKyANCisJCQkJCQkJIkV4
cGxpY2l0IFwndGhpc1wnIHBhcmFtZXRlciBpcyBhbGxvd2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0
aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMgYW5kIGlubmVyIGNsYXNzIGNvbnN0cnVjdG9y
c1xuIiArIA0KKwkJCQkJCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJCQkJCQkiNi4gRVJST1IgaW4g
T3V0ZXIuamF2YSAoYXQgbGluZSAyMylcbiIgKyANCisJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZv
aWQgZm9vKEBNYXJrZXIgT3V0ZXIgdGhpcykge31cbiIgKyANCisJCQkJCQkJIgkgICAgICAgICAg
ICAgICAgICAgICAgIF5eXl5eXl5cbiIgKyANCisJCQkJCQkJIlRoZSBhbm5vdGF0aW9uIEBNYXJr
ZXIgaXMgZGlzYWxsb3dlZCBmb3IgdGhpcyBsb2NhdGlvblxuIiArIA0KKwkJCQkJCQkiLS0tLS0t
LS0tLVxuIiArIA0KKwkJCQkJCQkiNy4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGluZSAyMylc
biIgKyANCiAJCQkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgZm9vKEBNYXJrZXIgT3V0ZXIgdGhp
cykge31cbiIgKyANCiAJCQkJCQkJIgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgXl5eXlxuIiArIA0KLQkJCQkJCQkiRXhwbGljaXQgJ3RoaXMnIHBhcmFtZXRlciBpcyBhbGxv
d2VkIG9ubHkgaW4gaW5zdGFuY2UgbWV0aG9kcyBvZiBub24tYW5vbnltb3VzIGNsYXNzZXMgYW5k
IGlubmVyIGNsYXNzIGNvbnN0cnVjdG9yc1xuIiArIA0KKwkJCQkJCQkiRXhwbGljaXQgXCd0aGlz
XCcgcGFyYW1ldGVyIGlzIGFsbG93ZWQgb25seSBpbiBpbnN0YW5jZSBtZXRob2RzIG9mIG5vbi1h
bm9ueW1vdXMgY2xhc3NlcyBhbmQgaW5uZXIgY2xhc3MgY29uc3RydWN0b3JzXG4iICsgDQogCQkJ
CQkJCSItLS0tLS0tLS0tXG4iICsgDQotCQkJCQkJCSI2LiBFUlJPUiBpbiBPdXRlci5qYXZhIChh
dCBsaW5lIDIyKVxuIiArIA0KKwkJCQkJCQkiOC4gRVJST1IgaW4gT3V0ZXIuamF2YSAoYXQgbGlu
ZSAyNClcbiIgKyANCiAJCQkJCQkJIglwdWJsaWMgdm9pZCBmb28oQE1pc3NpbmcgT3V0ZXIgdGhp
cywgaW50IGkpIHt9XG4iICsgDQogCQkJCQkJCSIJICAgICAgICAgICAgICAgICBeXl5eXl5eXG4i
ICsgDQogCQkJCQkJCSJNaXNzaW5nIGNhbm5vdCBiZSByZXNvbHZlZCB0byBhIHR5cGVcbiIgKyAN
CisJCQkJCQkJIi0tLS0tLS0tLS1cbiIgKyANCisJCQkJCQkJIjkuIEVSUk9SIGluIE91dGVyLmph
dmEgKGF0IGxpbmUgMjkpXG4iICsgDQorCQkJCQkJCSIJQFRhcmdldChUWVBFX1VTRSlcbiIgKyAN
CisJCQkJCQkJIgkgICAgICAgIF5eXl5eXl5eXG4iICsgDQorCQkJCQkJCSJUWVBFX1VTRSBjYW5u
b3QgYmUgcmVzb2x2ZWQgdG8gYSB2YXJpYWJsZVxuIiArIA0KIAkJCQkJCQkiLS0tLS0tLS0tLVxu
Iik7DQogCX0NCisJcHVibGljIHZvaWQgdGVzdDAzODM5MDgoKSB7DQorCQl0aGlzLnJ1bk5lZ2F0
aXZlVGVzdCgNCisJCQkJbmV3IFN0cmluZ1tdeyJYLmphdmEiLA0KKwkJCQkicHVibGljIGNsYXNz
IFggeyBcbiIgKw0KKwkJCQkiCXZvaWQgZm9vKFggdGhpcykge31cbiIgKw0KKwkJCQkiICAgdm9p
ZCBmb28oKSB7fVxuIiArDQorCQkJCSJ9XG4iICsNCisJCQkJImNsYXNzIFkge1xuIiArDQorCQkJ
CSIJdm9pZCBmb28oWSB0aGlzKSB7fVxuIiArDQorCQkJCSIJcHVibGljIHN0YXRpYyB2b2lkIG1h
aW4oU3RyaW5nW10gYXJncykge1xuIiArDQorCQkJCSIJCW5ldyBZKCkuZm9vKCk7XG4iICsNCisJ
CQkJIgl9XG4iICsNCisJCQkJIn0ifSwgDQorCQkJCSItLS0tLS0tLS0tXG4iICsgDQorCQkJCSIx
LiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUgMilcbiIgKyANCisJCQkJIgl2b2lkIGZvbyhYIHRo
aXMpIHt9XG4iICsgDQorCQkJCSIJICAgICBeXl5eXl5eXl5eXlxuIiArIA0KKwkJCQkiRHVwbGlj
YXRlIG1ldGhvZCBmb28oKSBpbiB0eXBlIFhcbiIgKyANCisJCQkJIi0tLS0tLS0tLS1cbiIgKyAN
CisJCQkJIjIuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAzKVxuIiArIA0KKwkJCQkiCXZvaWQg
Zm9vKCkge31cbiIgKyANCisJCQkJIgkgICAgIF5eXl5eXG4iICsgDQorCQkJCSJEdXBsaWNhdGUg
bWV0aG9kIGZvbygpIGluIHR5cGUgWFxuIiArIA0KKwkJCQkiLS0tLS0tLS0tLVxuIik7DQorCX0N
CiB9DQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0phdmFTZWFyY2hUZXN0cy5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL21vZGVsL0phdmFTZWFyY2hUZXN0cy5qYXZhCmluZGV4IDMxNmIxYzcuLmYzOTc2NzEgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBz
ZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoVGVzdHMuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
bW9kZWwvSmF2YVNlYXJjaFRlc3RzLmphdmEKQEAgLTQ0NjUsMyArNDQ2NSwzMiBAQAogCWFzc2Vy
dEVxdWFscygiRm91bmQgdHlwZXMgc291bmRzIG5vdCB0byBiZSBjb3JyZWN0IiwgcmVxdWVzdG9y
LnRvU3RyaW5nKCksIGNvbGxlY3Rvci50b1N0cmluZygpKTsKIH0KKy8vIGh0dHBzOi8vYnVncy5l
Y2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zODM5MDgKK3B1YmxpYyB2b2lkIHRlc3RC
dWczODM5MDgoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdHJ5IHsKKwkJU3RyaW5nIGZpbGVD
b250ZW50ID0gInBhY2thZ2UgcDtcbiIgKworCQkJCQkJCQkicHVibGljIGNsYXNzIFgge1xuIiAr
CisJCQkJCQkJCSIgIHB1YmxpYyB2b2lkIGZvb2JhcihYIHRoaXMsIFN0cmluZyBzdHIpIHtcbiIg
KworCQkJCQkJCQkiICB9XG4iICsKKwkJCQkJCQkJIn0iOworCQljcmVhdGVKYXZhUHJvamVjdCgi
UCIsIG5ldyBTdHJpbmdbXSB7InNyYyJ9LCBuZXcgU3RyaW5nWzBdLCAiYmluIik7CisJCWNyZWF0
ZUZvbGRlcigiL1Avc3JjL3AiKTsKKwkJY3JlYXRlRmlsZSgiL1Avc3JjL3AvWC5qYXZhIiwgZmls
ZUNvbnRlbnQpOworCisJCUlUeXBlIHR5cGUgPSBnZXRDb21waWxhdGlvblVuaXQoIlAiLCAic3Jj
IiwgInAiLCAiWC5qYXZhIikuZ2V0VHlwZSgiWCIpOworCQlJTWV0aG9kW10gbWV0aG9kcyA9IHR5
cGUuZ2V0TWV0aG9kcygpOworCQlzZWFyY2goCisJCQkJbWV0aG9kc1swXSwKKwkJCQlERUNMQVJB
VElPTlMsCisJCQkJU2VhcmNoRW5naW5lLmNyZWF0ZUphdmFTZWFyY2hTY29wZShuZXcgSUphdmFF
bGVtZW50W10ge3R5cGV9KSwKKwkJCQl0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisKKwkJYXNzZXJ0
U2VhcmNoUmVzdWx0cygKKwkJCQkic3JjL3AvWC5qYXZhIHZvaWQgcC5YLmZvb2JhcihTdHJpbmcp
IFtmb29iYXJdIiwKKwkJCQl0aGlzLnJlc3VsdENvbGxlY3Rvcik7CisKKwl9IGZpbmFsbHkgewor
CQlkZWxldGVQcm9qZWN0KCJQIik7CisJfQorfQorCiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0
L0Fic3RyYWN0TWV0aG9kRGVjbGFyYXRpb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Nv
bXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvQWJzdHJhY3RNZXRo
b2REZWNsYXJhdGlvbi5qYXZhCmluZGV4IGZkMzY0NTkuLjlkZjEyN2MgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9hc3QvQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5qYXZhCisrKyBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
QWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5qYXZhCkBAIC00OCw0ICs0OCw1IEBACiAJcHVibGlj
IEFubm90YXRpb25bXSBhbm5vdGF0aW9uczsKIAkvLyBqc3IgMzA4CisJcHVibGljIFJlY2VpdmVy
IHJlY2VpdmVyOwogCXB1YmxpYyBBbm5vdGF0aW9uW10gcmVjZWl2ZXJBbm5vdGF0aW9uczsKIAlw
dWJsaWMgQXJndW1lbnRbXSBhcmd1bWVudHM7CkBAIC00MzIsNyArNDMzLDEwIEBACiAKIAkJcHJp
bnRSZXR1cm5UeXBlKDAsIG91dHB1dCkuYXBwZW5kKHRoaXMuc2VsZWN0b3IpLmFwcGVuZCgnKCcp
OworCQlpZiAodGhpcy5yZWNlaXZlciAhPSBudWxsKSB7CisJCQl0aGlzLnJlY2VpdmVyLnByaW50
KDAsIG91dHB1dCk7CisJCX0KIAkJaWYgKHRoaXMuYXJndW1lbnRzICE9IG51bGwpIHsKIAkJCWZv
ciAoaW50IGkgPSAwOyBpIDwgdGhpcy5hcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKLQkJCQlpZiAo
aSA+IDApIG91dHB1dC5hcHBlbmQoIiwgIik7IC8vJE5PTi1OTFMtMSQKKwkJCQlpZiAoaSA+IDAg
fHwgdGhpcy5yZWNlaXZlciAhPSBudWxsKSBvdXRwdXQuYXBwZW5kKCIsICIpOyAvLyROT04tTkxT
LTEkCiAJCQkJdGhpcy5hcmd1bWVudHNbaV0ucHJpbnQoMCwgb3V0cHV0KTsKIAkJCX0KQEAgLTUw
NiwzOCArNTEwLDM1IEBACiAKIAlwdWJsaWMgdm9pZCByZXNvbHZlUmVjZWl2ZXIoKSB7Ci0JCWlm
ICh0aGlzLmFyZ3VtZW50cyAhPSBudWxsICYmIHRoaXMuYXJndW1lbnRzLmxlbmd0aCA+IDApIHsK
LQkJCWlmICh0aGlzLmFyZ3VtZW50c1swXS5pc1JlY2VpdmVyKCkpIHsKLQkJCQlSZWNlaXZlciBy
ZWNlaXZlciA9IChSZWNlaXZlcikgdGhpcy5hcmd1bWVudHNbMF07CisJCWlmICh0aGlzLnJlY2Vp
dmVyID09IG51bGwpIHJldHVybjsKIAotCQkJCVR5cGVCaW5kaW5nIHJlc29sdmVkUmVjZWl2ZXJU
eXBlID0gcmVjZWl2ZXIudHlwZS5yZXNvbHZlZFR5cGU7Ci0JCQkJaWYgKHRoaXMuYmluZGluZyA9
PSBudWxsIHx8IHJlc29sdmVkUmVjZWl2ZXJUeXBlID09IG51bGwgfHwgIXJlc29sdmVkUmVjZWl2
ZXJUeXBlLmlzVmFsaWRCaW5kaW5nKCkpCi0JCQkJCXJldHVybjsKKwkJVHlwZUJpbmRpbmcgcmVz
b2x2ZWRSZWNlaXZlclR5cGUgPSB0aGlzLnJlY2VpdmVyLnR5cGUucmVzb2x2ZWRUeXBlOworCQlp
ZiAodGhpcy5iaW5kaW5nID09IG51bGwgfHwgcmVzb2x2ZWRSZWNlaXZlclR5cGUgPT0gbnVsbCB8
fCAhcmVzb2x2ZWRSZWNlaXZlclR5cGUuaXNWYWxpZEJpbmRpbmcoKSkgeworCQkJcmV0dXJuOwor
CQl9CiAKLQkJCQlSZWZlcmVuY2VCaW5kaW5nIGRlY2xhcmluZ0NsYXNzID0gdGhpcy5iaW5kaW5n
LmRlY2xhcmluZ0NsYXNzOwotCQkJCS8qIG5laXRoZXIgc3RhdGljIG1ldGhvZHMgbm9yIG1ldGhv
ZHMgaW4gYW5vbnltb3VzIHR5cGVzIGNhbiBoYXZlIGV4cGxpY2l0ICd0aGlzJyAqLwotCQkJCWlm
ICh0aGlzLmlzU3RhdGljKCkgfHwgZGVjbGFyaW5nQ2xhc3MuaXNBbm9ueW1vdXNUeXBlKCkpIHsK
LQkJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5kaXNhbGxvd2VkVGhpc1BhcmFtZXRl
cihyZWNlaXZlcik7Ci0JCQkJCXJldHVybjsgLy8gTm8gbmVlZCB0byBkbyBmdXJ0aGVyIHZhbGlk
YXRpb24KLQkJCQl9CisJCVJlZmVyZW5jZUJpbmRpbmcgZGVjbGFyaW5nQ2xhc3MgPSB0aGlzLmJp
bmRpbmcuZGVjbGFyaW5nQ2xhc3M7CisJCS8qIG5laXRoZXIgc3RhdGljIG1ldGhvZHMgbm9yIG1l
dGhvZHMgaW4gYW5vbnltb3VzIHR5cGVzIGNhbiBoYXZlIGV4cGxpY2l0ICd0aGlzJyAqLworCQlp
ZiAodGhpcy5pc1N0YXRpYygpIHx8IGRlY2xhcmluZ0NsYXNzLmlzQW5vbnltb3VzVHlwZSgpKSB7
CisJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmRpc2FsbG93ZWRUaGlzUGFyYW1ldGVy
KHRoaXMucmVjZWl2ZXIpOworCQkJcmV0dXJuOyAvLyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFs
aWRhdGlvbgorCQl9CiAKLQkJCQlSZWZlcmVuY2VCaW5kaW5nIGVuY2xvc2luZ1JlY2VpdmVyID0g
dGhpcy5zY29wZS5lbmNsb3NpbmdSZWNlaXZlclR5cGUoKTsKLQkJCQlpZiAodGhpcy5pc0NvbnN0
cnVjdG9yKCkpIHsKLQkJCQkJLyogT25seSBub24gc3RhdGljIG1lbWJlciB0eXBlcyBvciBsb2Nh
bCB0eXBlcyBjYW4gZGVjbGFyZSBleHBsaWNpdCAndGhpcycgcGFyYW1zIGluIGNvbnN0cnVjdG9y
cyAqLwotCQkJCQlpZiAoZGVjbGFyaW5nQ2xhc3MuaXNTdGF0aWMoKQotCQkJCQkJCXx8IChkZWNs
YXJpbmdDbGFzcy50YWdCaXRzICYgKFRhZ0JpdHMuSXNMb2NhbFR5cGUgfCBUYWdCaXRzLklzTWVt
YmVyVHlwZSkpID09IDApIHsgLyogbmVpdGhlciBtZW1iZXIgbm9yIGxvY2FsIHR5cGUgKi8KLQkJ
CQkJCXRoaXMuc2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuZGlzYWxsb3dlZFRoaXNQYXJhbWV0ZXIo
cmVjZWl2ZXIpOwotCQkJCQkJcmV0dXJuOyAvLyBObyBuZWVkIHRvIGRvIGZ1cnRoZXIgdmFsaWRh
dGlvbgotCQkJCQl9Ci0JCQkJCWVuY2xvc2luZ1JlY2VpdmVyID0gZW5jbG9zaW5nUmVjZWl2ZXIu
ZW5jbG9zaW5nVHlwZSgpOwotCQkJCX0KLQotCQkJCWlmIChlbmNsb3NpbmdSZWNlaXZlciAhPSBy
ZXNvbHZlZFJlY2VpdmVyVHlwZSkgewotCQkJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigp
LmlsbGVnYWxUeXBlRm9yRXhwbGljaXRUaGlzKHJlY2VpdmVyLCBlbmNsb3NpbmdSZWNlaXZlcik7
Ci0JCQkJfQotCi0JCQkJaWYgKChyZWNlaXZlci5xdWFsaWZ5aW5nTmFtZSA9PSBudWxsKSA/IHRo
aXMuaXNDb25zdHJ1Y3RvcigpIDogIWlzUXVhbGlmaWVyVmFsaWRGb3JUeXBlKHJlY2VpdmVyLnF1
YWxpZnlpbmdOYW1lLmdldE5hbWUoKSwgZW5jbG9zaW5nUmVjZWl2ZXIpKSB7Ci0JCQkJCXRoaXMu
c2NvcGUucHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFF1YWxpZmllckZvckV4cGxpY2l0VGhpcyhy
ZWNlaXZlciwgZW5jbG9zaW5nUmVjZWl2ZXIpOwkJCQkJCi0JCQkJfQorCQlSZWZlcmVuY2VCaW5k
aW5nIGVuY2xvc2luZ1JlY2VpdmVyID0gdGhpcy5zY29wZS5lbmNsb3NpbmdSZWNlaXZlclR5cGUo
KTsKKwkJaWYgKHRoaXMuaXNDb25zdHJ1Y3RvcigpKSB7CisJCQkvKiBPbmx5IG5vbiBzdGF0aWMg
bWVtYmVyIHR5cGVzIG9yIGxvY2FsIHR5cGVzIGNhbiBkZWNsYXJlIGV4cGxpY2l0ICd0aGlzJyBw
YXJhbXMgaW4gY29uc3RydWN0b3JzICovCisJCQlpZiAoZGVjbGFyaW5nQ2xhc3MuaXNTdGF0aWMo
KQorCQkJCQl8fCAoZGVjbGFyaW5nQ2xhc3MudGFnQml0cyAmIChUYWdCaXRzLklzTG9jYWxUeXBl
IHwgVGFnQml0cy5Jc01lbWJlclR5cGUpKSA9PSAwKSB7IC8qIG5laXRoZXIgbWVtYmVyIG5vciBs
b2NhbCB0eXBlICovCisJCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVwb3J0ZXIoKS5kaXNhbGxvd2Vk
VGhpc1BhcmFtZXRlcih0aGlzLnJlY2VpdmVyKTsKKwkJCQlyZXR1cm47IC8vIE5vIG5lZWQgdG8g
ZG8gZnVydGhlciB2YWxpZGF0aW9uCiAJCQl9CisJCQllbmNsb3NpbmdSZWNlaXZlciA9IGVuY2xv
c2luZ1JlY2VpdmVyLmVuY2xvc2luZ1R5cGUoKTsKKwkJfQorCisJCWlmIChlbmNsb3NpbmdSZWNl
aXZlciAhPSByZXNvbHZlZFJlY2VpdmVyVHlwZSkgeworCQkJdGhpcy5zY29wZS5wcm9ibGVtUmVw
b3J0ZXIoKS5pbGxlZ2FsVHlwZUZvckV4cGxpY2l0VGhpcyh0aGlzLnJlY2VpdmVyLCBlbmNsb3Np
bmdSZWNlaXZlcik7CisJCX0KKworCQlpZiAoKHRoaXMucmVjZWl2ZXIucXVhbGlmeWluZ05hbWUg
PT0gbnVsbCkgPyB0aGlzLmlzQ29uc3RydWN0b3IoKSA6ICFpc1F1YWxpZmllclZhbGlkRm9yVHlw
ZSh0aGlzLnJlY2VpdmVyLnF1YWxpZnlpbmdOYW1lLmdldE5hbWUoKSwgZW5jbG9zaW5nUmVjZWl2
ZXIpKSB7CisJCQl0aGlzLnNjb3BlLnByb2JsZW1SZXBvcnRlcigpLmlsbGVnYWxRdWFsaWZpZXJG
b3JFeHBsaWNpdFRoaXModGhpcy5yZWNlaXZlciwgZW5jbG9zaW5nUmVjZWl2ZXIpOwkJCQkJCiAJ
CX0KIAl9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhvZEJpbmRpbmcuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9sb29rdXAvTWV0aG9kQmluZGluZy5qYXZhCmluZGV4IGNlMjVlNTcuLjI4MzQ4NjQgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kQmluZGluZy5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9s
b29rdXAvTWV0aG9kQmluZGluZy5qYXZhCkBAIC0zNSw0ICszNSw1IEBACiAJcHVibGljIFR5cGVC
aW5kaW5nIHJldHVyblR5cGU7CiAJcHVibGljIFR5cGVCaW5kaW5nW10gcGFyYW1ldGVyczsKKwlw
dWJsaWMgVHlwZUJpbmRpbmcgcmVjZWl2ZXI7ICAvLyBKU1IzMDggLSBleHBsaWNpdCB0aGlzIHBh
cmFtZXRlcgogCXB1YmxpYyBSZWZlcmVuY2VCaW5kaW5nW10gdGhyb3duRXhjZXB0aW9uczsKIAlw
dWJsaWMgUmVmZXJlbmNlQmluZGluZyBkZWNsYXJpbmdDbGFzczsKZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9sb29rdXAvTWV0aG9kU2NvcGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvTWV0aG9kU2NvcGUuamF2
YQppbmRleCA4YjVmODIwLi4yYTA1MjBkIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL01ldGhv
ZFNjb3BlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9NZXRob2RTY29wZS5qYXZhCkBAIC0zNTQs
MTEgKzM1NCw1IEBACiAJCQltZXRob2QuYmluZGluZy5tb2RpZmllcnMgfD0gQ2xhc3NGaWxlQ29u
c3RhbnRzLkFjY1ZhcmFyZ3M7CiAJCWlmIChDaGFyT3BlcmF0aW9uLmVxdWFscyhhcmd1bWVudC5u
YW1lLCBDb25zdGFudFBvb2wuVGhpcykpIHsKLQkJCWlmIChhcmdMZW5ndGggIT0gMCB8fCBzb3Vy
Y2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV83KSB7Ci0JCQkJcHJvYmxlbVJlcG9y
dGVyKCkuaWxsZWdhbFRoaXMoYXJndW1lbnQsIG1ldGhvZCwgc291cmNlTGV2ZWwpOwotCQkJfQot
CQkJaWYgKGFyZ3VtZW50LmFubm90YXRpb25zICE9IG51bGwpIHsKLQkJCQltZXRob2QucmVjZWl2
ZXJBbm5vdGF0aW9ucyA9IGFyZ3VtZW50LmFubm90YXRpb25zOwotCQkJCW1ldGhvZC5iaXRzIHw9
IEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zOwotCQkJfQorCQkJcHJvYmxlbVJlcG9ydGVyKCku
aWxsZWdhbFRoaXNEZWNsYXJhdGlvbihhcmd1bWVudCk7CiAJCX0KIAkJd2hpbGUgKC0tYXJnTGVu
Z3RoID49IDApIHsKQEAgLTM2NywxMiArMzYxLDE1IEBACiAJCQkJcHJvYmxlbVJlcG9ydGVyKCku
aWxsZWdhbFZhcmFyZyhhcmd1bWVudCwgbWV0aG9kKTsKIAkJCWlmIChDaGFyT3BlcmF0aW9uLmVx
dWFscyhhcmd1bWVudC5uYW1lLCBDb25zdGFudFBvb2wuVGhpcykpIHsKLQkJCQlpZiAoYXJnTGVu
Z3RoICE9IDAgfHwgc291cmNlTGV2ZWwgPD0gQ2xhc3NGaWxlQ29uc3RhbnRzLkpESzFfNykgewot
CQkJCQlwcm9ibGVtUmVwb3J0ZXIoKS5pbGxlZ2FsVGhpcyhhcmd1bWVudCwgbWV0aG9kLCBzb3Vy
Y2VMZXZlbCk7Ci0JCQkJfQotCQkJCWlmIChhcmd1bWVudC5hbm5vdGF0aW9ucyAhPSBudWxsKSB7
Ci0JCQkJCW1ldGhvZC5yZWNlaXZlckFubm90YXRpb25zID0gYXJndW1lbnQuYW5ub3RhdGlvbnM7
Ci0JCQkJCW1ldGhvZC5iaXRzIHw9IEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zOwotCQkJCX0K
LQkJCX0JCisJCQkJcHJvYmxlbVJlcG9ydGVyKCkuaWxsZWdhbFRoaXNEZWNsYXJhdGlvbihhcmd1
bWVudCk7CisJCQl9CisJCX0KKwl9CisJaWYgKG1ldGhvZC5yZWNlaXZlciAhPSBudWxsKSB7CisJ
CWlmIChzb3VyY2VMZXZlbCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV83KSB7CisJCQlwcm9i
bGVtUmVwb3J0ZXIoKS5pbGxlZ2FsU291cmNlTGV2ZWxGb3JUaGlzKG1ldGhvZC5yZWNlaXZlcik7
CisJCX0KKwkJaWYgKG1ldGhvZC5yZWNlaXZlci5hbm5vdGF0aW9ucyAhPSBudWxsKSB7CisJCQlt
ZXRob2QucmVjZWl2ZXJBbm5vdGF0aW9ucyA9IG1ldGhvZC5yZWNlaXZlci5hbm5vdGF0aW9uczsK
KwkJCW1ldGhvZC5iaXRzIHw9IEFTVE5vZGUuSGFzVHlwZUFubm90YXRpb25zOwogCQl9CiAJfQpk
aWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCmluZGV4IGI2ZWM4YmYuLjNmNDBhOTMgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQorKysgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEKQEAgLTE1MDUsNCArMTUwNSw4IEBACiAJ
CQlTeXN0ZW0uYXJyYXljb3B5KG1ldGhvZC50aHJvd25FeGNlcHRpb25zLCAwLCBtZXRob2QudGhy
b3duRXhjZXB0aW9ucyA9IG5ldyBSZWZlcmVuY2VCaW5kaW5nW2NvdW50XSwgMCwgY291bnQpOwog
CX0KKwkKKwlpZiAobWV0aG9kRGVjbC5yZWNlaXZlciAhPSBudWxsKSB7CisJCW1ldGhvZC5yZWNl
aXZlciA9IG1ldGhvZERlY2wucmVjZWl2ZXIudHlwZS5yZXNvbHZlVHlwZShtZXRob2REZWNsLnNj
b3BlLCB0cnVlIC8qIGNoZWNrIGJvdW5kcyovKTsKKwl9CiAJZmluYWwgYm9vbGVhbiByZXBvcnRV
bmF2b2lkYWJsZUdlbmVyaWNUeXBlUHJvYmxlbXMgPSB0aGlzLnNjb3BlLmNvbXBpbGVyT3B0aW9u
cygpLnJlcG9ydFVuYXZvaWRhYmxlR2VuZXJpY1R5cGVQcm9ibGVtczsKIAlib29sZWFuIGZvdW5k
QXJnUHJvYmxlbSA9IGZhbHNlOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKaW5kZXggYWE3ZDMxNS4uYWFmYWNlNCAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJzZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1Bh
cnNlci5qYXZhCkBAIC01MjIzLDEwICs1MjIzLDIzIEBACiAJLy9hcmd1bWVudHMKIAlpZiAobGVu
Z3RoICE9IDApIHsKLQkJU3lzdGVtLmFycmF5Y29weSgKLQkJCXRoaXMuYXN0U3RhY2ssCi0JCQl0
aGlzLmFzdFB0ciArIDEsCi0JCQltZC5hcmd1bWVudHMgPSBuZXcgQXJndW1lbnRbbGVuZ3RoXSwK
LQkJCTAsCi0JCQlsZW5ndGgpOworCQlBcmd1bWVudCBhcmcgPSAoQXJndW1lbnQpIHRoaXMuYXN0
U3RhY2tbdGhpcy5hc3RQdHIgKyAxXTsKKwkJaWYgKGFyZy5pc1JlY2VpdmVyKCkpIHsKKwkJCW1k
LnJlY2VpdmVyID0gKFJlY2VpdmVyKSBhcmc7CisJCQlpZiAobGVuZ3RoID4gMSkgeworCQkJCVN5
c3RlbS5hcnJheWNvcHkoCisJCQkJCXRoaXMuYXN0U3RhY2ssCisJCQkJCXRoaXMuYXN0UHRyICsg
MiwKKwkJCQkJbWQuYXJndW1lbnRzID0gbmV3IEFyZ3VtZW50W2xlbmd0aCAtIDFdLAorCQkJCQkw
LAorCQkJCQlsZW5ndGggLSAxKTsKKwkJCX0KKwkJfSBlbHNlIHsKKwkJCVN5c3RlbS5hcnJheWNv
cHkoCisJCQkJCXRoaXMuYXN0U3RhY2ssCisJCQkJCXRoaXMuYXN0UHRyICsgMSwKKwkJCQkJbWQu
YXJndW1lbnRzID0gbmV3IEFyZ3VtZW50W2xlbmd0aF0sCisJCQkJCTAsCisJCQkJCWxlbmd0aCk7
CisJCX0KIAl9CiAJbWQuYm9keVN0YXJ0ID0gdGhpcy5yUGFyZW5Qb3MrMTsKZGlmZiAtLWdpdCBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b21waWxlci9wcm9ibGVtL1Byb2JsZW1SZXBvcnRlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Byb2JsZW0vUHJv
YmxlbVJlcG9ydGVyLmphdmEKaW5kZXggNWFhZjU3MC4uNzU1Y2U0MSAxMDA2NDQKLS0tIGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL3Byb2JsZW0vUHJvYmxlbVJlcG9ydGVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3Byb2JsZW0vUHJv
YmxlbVJlcG9ydGVyLmphdmEKQEAgLTI2NzMsOCArMjY3MywxNyBAQAogCQlhcmdUeXBlLnNvdXJj
ZUVuZCk7CiB9Ci1wdWJsaWMgdm9pZCBpbGxlZ2FsVGhpcyhBcmd1bWVudCBhcmd1bWVudCwgQWJz
dHJhY3RNZXRob2REZWNsYXJhdGlvbiBtZXRob2QsIGxvbmcgc291cmNlTGV2ZWwpIHsKK3B1Ymxp
YyB2b2lkIGlsbGVnYWxUaGlzRGVjbGFyYXRpb24oQXJndW1lbnQgYXJndW1lbnQpIHsKIAlTdHJp
bmdbXSBhcmd1bWVudHMgPSBOb0FyZ3VtZW50OwogCXRoaXMuaGFuZGxlKAotCQlzb3VyY2VMZXZl
bCA8PSBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV83ID8gIElQcm9ibGVtLkV4cGxpY2l0VGhpc1Bh
cmFtZXRlck5vdEJlbG93MTggOiBJUHJvYmxlbS5JbGxlZ2FsRGVjbGFyYXRpb25PZlRoaXNQYXJh
bWV0ZXIsCisJCUlQcm9ibGVtLklsbGVnYWxEZWNsYXJhdGlvbk9mVGhpc1BhcmFtZXRlciwKKwkJ
YXJndW1lbnRzLAorCQlhcmd1bWVudHMsCisJCWFyZ3VtZW50LnNvdXJjZVN0YXJ0LAorCQlhcmd1
bWVudC5zb3VyY2VFbmQpOworfQorcHVibGljIHZvaWQgaWxsZWdhbFNvdXJjZUxldmVsRm9yVGhp
cyhBcmd1bWVudCBhcmd1bWVudCkgeworCVN0cmluZ1tdIGFyZ3VtZW50cyA9IE5vQXJndW1lbnQ7
CisJdGhpcy5oYW5kbGUoCisJCUlQcm9ibGVtLkV4cGxpY2l0VGhpc1BhcmFtZXRlck5vdEJlbG93
MTgsCiAJCWFyZ3VtZW50cywKIAkJYXJndW1lbnRzLA==
</data>

          </attachment>
      

    </bug>

</bugzilla>