<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>409765</bug_id>
          
          <creation_ts>2013-06-03 13:41:00 -0400</creation_ts>
          <short_desc>Extracting Javadoc from 1.7-style generated doc doesn&apos;t work reliably</short_desc>
          <delta_ts>2013-08-29 12:45:00 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P2</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>4.3.1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jacobglass1</cc>
    
    <cc>jarthana</cc>
    
    <cc>manpalat</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="58396"
          type_id="1"
          status="+"
          setter="jarthana"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2267220</commentid>
    <comment_count>0</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-06-03 13:41:51 -0400</bug_when>
    <thetext>Extracting Javadoc from Java-SE-7-style generated doc doesn&apos;t work reliably. 

In some cases, only parts of the main description are shown (classes, enums, interfaces). In some cases (annotations, methods), there are unnecessary bullets.

Example:

package p;

import java.util.ArrayList;
import java.util.List;
import javax.annotation.Generated;

public class P {
	@Generated(value = { &quot;meee&quot; })
	ArrayList&lt;Integer&gt; f = new ArrayList&lt;&gt;((List&lt;Integer&gt;) null);
	@Deprecated
	Thread.State s;
	{
		s.equals(f);
	}
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2269323</commentid>
    <comment_count>1</comment_count>
      <attachid>232049</attachid>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-06-06 11:03:36 -0400</bug_when>
    <thetext>Created attachment 232049
Fix

For the wrong start of type docs, the problem is that Javadoc tool now generates &apos;&lt;div class=&quot;block&quot;&gt;&apos; at the beginning of the main description. Before, it generated &apos;&lt;P&gt;&apos;. We have to support both styles.

I first thought another possible heuristic would be to start after the first &lt;/pre&gt;. But that doesn&apos;t work, since the old style generated two &lt;pre&gt; blocks, but the new style only generates one.


I&apos;ve filed bug 410077 for the unnecessary bullets. It&apos;s easier to take care of them via CSS.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2277405</commentid>
    <comment_count>2</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-06-26 10:50:58 -0400</bug_when>
    <thetext>I&apos;ve released the fix to master: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=cc88b1426c452c5cff46c8e175553c1f137ac328</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2277777</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-06-27 03:31:58 -0400</bug_when>
    <thetext>(In reply to comment #2)
&gt; I&apos;ve released the fix to master:
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=cc88b1426c452c5cff46c8e175553c1f137ac328

Fix is good. Of course, I still see the bullets at the end. Will be able to verify in the next build when fix for bug 410077 is included.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2278147</commentid>
    <comment_count>4</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-06-27 08:15:59 -0400</bug_when>
    <thetext>*** Bug 411647 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2287794</commentid>
    <comment_count>5</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-07-24 08:19:22 -0400</bug_when>
    <thetext>Now is a good time to put this into 4.3.1.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2289163</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-07-29 09:40:10 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; Now is a good time to put this into 4.3.1.

Done:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R4_3_maintenance&amp;id=aed03906e7d2f17f49e54e89e6351371507226f9</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2291735</commentid>
    <comment_count>7</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-08-06 04:55:31 -0400</bug_when>
    <thetext>
Verified for Eclipse Version: 4.4 M1 Build id: I20130805-0800</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>232049</attachid>
            <date>2013-06-06 11:03:00 -0400</date>
            <delta_ts>2013-06-06 11:03:36 -0400</delta_ts>
            <desc>Fix</desc>
            <filename>eclipse.jdt.core.patch</filename>
            <type>text/plain</type>
            <size>4281</size>
            <attacher name="Markus Keller">markus_keller</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbApkaWZmIC0tZ2l0IHdvcmtzcGFjZS9BdHRhY2hlZEphdmFkb2NQcm9qZWN0L1VU
Rjhkb2MvcC9UZXN0QnVnMzk0MzgyLnR4dCB3b3Jrc3BhY2UvQXR0YWNoZWRKYXZhZG9jUHJvamVj
dC9VVEY4ZG9jL3AvVGVzdEJ1ZzM5NDM4Mi50eHQKaW5kZXggM2IyMDVjMi4uMThhNTQwYSAxMDA2
NDQKLS0tIHdvcmtzcGFjZS9BdHRhY2hlZEphdmFkb2NQcm9qZWN0L1VURjhkb2MvcC9UZXN0QnVn
Mzk0MzgyLnR4dAorKysgd29ya3NwYWNlL0F0dGFjaGVkSmF2YWRvY1Byb2plY3QvVVRGOGRvYy9w
L1Rlc3RCdWczOTQzODIudHh0CkBAIC0xLDI0ICsxLDMgQEAKLQotPGRpdiBjbGFzcz0iaGVhZGVy
Ij4KLTxkaXYgY2xhc3M9InN1YlRpdGxlIj5wPC9kaXY+Ci08aDIgdGl0bGU9IkNsYXNzIFRlc3RC
dWczOTQzODIiIGNsYXNzPSJ0aXRsZSI+Q2xhc3MgVGVzdEJ1ZzM5NDM4MjwvaDI+Ci08L2Rpdj4K
LTxkaXYgY2xhc3M9ImNvbnRlbnRDb250YWluZXIiPgotPHVsIGNsYXNzPSJpbmhlcml0YW5jZSI+
Ci08bGk+amF2YS5sYW5nLk9iamVjdDwvbGk+Ci08bGk+Ci08dWwgY2xhc3M9ImluaGVyaXRhbmNl
Ij4KLTxsaT5wLlRlc3RCdWczOTQzODI8L2xpPgotPC91bD4KLTwvbGk+Ci08L3VsPgotPGRpdiBj
bGFzcz0iZGVzY3JpcHRpb24iPgotPHVsIGNsYXNzPSJibG9ja0xpc3QiPgotPGxpIGNsYXNzPSJi
bG9ja0xpc3QiPgotPGhyPgotPGJyPgotPHByZT5wdWJsaWMgY2xhc3MgPHNwYW4gY2xhc3M9InN0
cm9uZyI+VGVzdEJ1ZzM5NDM4Mjwvc3Bhbj4KLWV4dGVuZHMgamF2YS5sYW5nLk9iamVjdDwvcHJl
PgogPGRpdiBjbGFzcz0iYmxvY2siPuM/k+OCk+M/q+M/oeM/r+S4lueVjCAhIFRoaXMgY2xhc3Mg
PGNvZGU+VGVzdEJ1ZzM5NDM4MjwvY29kZT4gaXMgdG8gdGVzdCBidWcgMzk0MzgyPC9kaXY+CiA8
ZGw+PGR0PjxzcGFuIGNsYXNzPSJzdHJvbmciPlNlZSBBbHNvOjwvc3Bhbj48L2R0PjxkZD48Y29k
ZT5odHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzk0MzgyPC9j
b2RlPjwvZGQ+PC9kbD4KIDwvbGk+CiNQIG9yZy5lY2xpcHNlLmpkdC5jb3JlCmRpZmYgLS1naXQg
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvSmF2YWRvY0NvbnN0YW50cy5qYXZh
IG1vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0phdmFkb2NDb25zdGFudHMuamF2
YQppbmRleCA2YzFlYjc3Li4zODE1ZDhhIDEwMDY0NAotLS0gbW9kZWwvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvcmUvSmF2YWRvY0NvbnN0YW50cy5qYXZhCisrKyBtb2RlbC9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZS9KYXZhZG9jQ29uc3RhbnRzLmphdmEKQEAgLTEsNSArMSw1IEBA
CiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDA1LCAyMDEyIElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDA1LCAyMDEzIElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBw
cm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAg
KiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBh
dApAQCAtMzksNCArMzksNiBAQAogCWNoYXJbXSBTRVBBUkFUT1JfU1RBUlQgPSAiPCEtLSA9Ii50
b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJY2hhcltdIFNUQVJUX09GX0NMQVNTX0RBVEEg
PSAiPCEtLSA9PT09PT09PSBTVEFSVCBPRiBDTEFTUyBEQVRBID09PT09PT09IC0tPiIudG9DaGFy
QXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCWludCBTVEFSVF9PRl9DTEFTU19EQVRBX0xFTkdUSCA9
IEphdmFkb2NDb25zdGFudHMuU1RBUlRfT0ZfQ0xBU1NfREFUQS5sZW5ndGg7CisJU3RyaW5nIFAg
PSAiPFA+IjsgLy8kTk9OLU5MUy0xJAorCVN0cmluZyBESVZfQ0xBU1NfQkxPQ0sgPSAiPERJViBD
TEFTUz1cIkJMT0NLXCI+IjsgLy8kTk9OLU5MUy0xJAogfQpkaWZmIC0tZ2l0IG1vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0phdmFkb2NDb250ZW50cy5qYXZhIG1vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL0phdmFkb2NDb250ZW50cy5qYXZhCmluZGV4IGIwZGYz
NzkuLjhiYjM2MTcgMTAwNjQ0Ci0tLSBtb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9KYXZhZG9jQ29udGVudHMuamF2YQorKysgbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvSmF2YWRvY0NvbnRlbnRzLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDA5LCAyMDEyIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDA5LCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtNDc5LDEzICs0
NzksMjIgQEAKIAkJCXJldHVybjsKIAkJfQogCQkvKgotCQkgKiBDaGVjayBvdXQgdG8gY3V0IG9m
ZiB0aGUgaGllcmFyY2h5IHNlZSAxMTk4NDQKLQkJICogV2UgcmVtb3ZlIHdoYXQgdGhlIGNvbnRl
bnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGNsYXNzIGRhdGEgYW5kIHRoZSBmaXJzdCA8UD4KKwkJ
ICogQ3V0IG9mZiB0aGUgdHlwZSBoaWVyYXJjaHksIHNlZSBidWcgMTE5ODQ0LgorCQkgKiBXZSBy
ZW1vdmUgdGhlIGNvbnRlbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGNsYXNzIGRhdGEgYW5kIHdo
ZXJlCisJCSAqIHdlIGd1ZXNzIHRoZSBhY3R1YWwgY2xhc3MgY29tbWVudCBzdGFydHMuCiAJCSAq
LwogCQlpbnQgc3RhcnQgPSBpbmRleE9mU3RhcnRPZkNsYXNzRGF0YSArIEphdmFkb2NDb25zdGFu
dHMuU1RBUlRfT0ZfQ0xBU1NfREFUQV9MRU5HVEg7Ci0JCWludCBpbmRleE9mRmlyc3RQYXJhZ3Jh
cGggPSBDaGFyT3BlcmF0aW9uLmluZGV4T2YoIjxQPiIudG9DaGFyQXJyYXkoKSwgdGhpcy5jb250
ZW50LCBmYWxzZSwgc3RhcnQpOyAvLyROT04tTkxTLTEkCi0JCWlmIChpbmRleE9mRmlyc3RQYXJh
Z3JhcGggIT0gLTEgJiYgaW5kZXhPZkZpcnN0UGFyYWdyYXBoIDwgaW5kZXhPZk5leHRTdW1tYXJ5
KSB7Ci0JCQlzdGFydCA9IGluZGV4T2ZGaXJzdFBhcmFncmFwaDsKKwkJaW50IGluZGV4T2ZGaXJz
dFBhcmFncmFwaCA9IENoYXJPcGVyYXRpb24uaW5kZXhPZihKYXZhZG9jQ29uc3RhbnRzLlAudG9D
aGFyQXJyYXkoKSwgdGhpcy5jb250ZW50LCBmYWxzZSwgc3RhcnQsIGluZGV4T2ZOZXh0U3VtbWFy
eSk7CisJCWludCBpbmRleE9mRmlyc3REaXYgPSBDaGFyT3BlcmF0aW9uLmluZGV4T2YoSmF2YWRv
Y0NvbnN0YW50cy5ESVZfQ0xBU1NfQkxPQ0sudG9DaGFyQXJyYXkoKSwgdGhpcy5jb250ZW50LCBm
YWxzZSwgc3RhcnQsIGluZGV4T2ZOZXh0U3VtbWFyeSk7CisJCWludCBhZnRlckhpZXJhcmNoeSA9
IGluZGV4T2ZOZXh0U3VtbWFyeTsKKwkJaWYgKGluZGV4T2ZGaXJzdFBhcmFncmFwaCAhPSAtMSAm
JiBpbmRleE9mRmlyc3RQYXJhZ3JhcGggPCBhZnRlckhpZXJhcmNoeSkgeworCQkJYWZ0ZXJIaWVy
YXJjaHkgPSBpbmRleE9mRmlyc3RQYXJhZ3JhcGg7CisJCX0KKwkJaWYgKGluZGV4T2ZGaXJzdERp
diAhPSAtMSAmJiBpbmRleE9mRmlyc3REaXYgPCBhZnRlckhpZXJhcmNoeSkgeworCQkJYWZ0ZXJI
aWVyYXJjaHkgPSBpbmRleE9mRmlyc3REaXY7CisJCX0KKwkJaWYgKGFmdGVySGllcmFyY2h5ICE9
IGluZGV4T2ZOZXh0U3VtbWFyeSkgeworCQkJc3RhcnQgPSBhZnRlckhpZXJhcmNoeTsKIAkJfQog
CQkKIAkJdGhpcy50eXBlRG9jUmFuZ2UgPSBuZXcgaW50W117c3RhcnQsIGluZGV4T2ZOZXh0U3Vt
bWFyeX07
</data>

          </attachment>
      

    </bug>

</bugzilla>