<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>419971</bug_id>
          
          <creation_ts>2013-10-21 09:23:00 -0400</creation_ts>
          <short_desc>[1.8][compiler] Regression in org.eclipse.jdt.core.tests.dom.ASTConverter15JLS8Test</short_desc>
          <delta_ts>2014-12-09 06:48:17 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M4</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>jarthana</cc>
    
    <cc>ktsao</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2321037</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-10-21 09:23:14 -0400</bug_when>
    <thetext>A recent commit that addressed the need for hashCode and equals method to be defined for AnnotationBinding is causing a failure in this test which has
been temporarily disabled.

org.eclipse.jdt.core.tests.dom.ASTConverter15JLS8Test._test0276

The state is restored somewhat to what it was before https://bugs.eclipse.org/bugs/show_bug.cgi?id=192774.

Needs investigation.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2321422</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-10-21 22:30:28 -0400</bug_when>
    <thetext>Via commit, http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=13badd688be686ebb5ba17a06b5117d9f7db22e6
I disabled two more clones of the same test already disabled.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2471940</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-26 08:05:23 -0400</bug_when>
    <thetext>I won&apos;t be able to finish this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2478468</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-07 02:43:57 -0500</bug_when>
    <thetext>Manoj, thanks for following up!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479851</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-09 22:26:12 -0500</bug_when>
    <thetext>Jay, is org.eclipse.jdt.apt.core.internal.declaration old or new APT ? 
If this problem affects only the old APT I would not worry about this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479852</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-09 22:33:08 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #4)
&gt; Jay, is org.eclipse.jdt.apt.core.internal.declaration old or new APT ? 
&gt; If this problem affects only the old APT I would not worry about this.

Just to be sure we need to look at every use of CompilationUnit.findDeclaringNode()  from APT to see if they originate from
old or new or both</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479853</commentid>
    <comment_count>6</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-11-09 22:33:56 -0500</bug_when>
    <thetext>Root cause is similar to bug 192774 - two dom ast annotation nodes share the same compiler annotationBinding although in this case the compiler annotationBindings are created but the map is unable to differentiate due to hashCode() and equals() functions introduced in org.eclipse.jdt.internal.compiler.lookup.AnnotationBinding.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479854</commentid>
    <comment_count>7</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-09 23:40:48 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #4)
&gt; Jay, is org.eclipse.jdt.apt.core.internal.declaration old or new APT ? 

It&apos;s the Java 5 (old) APT.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479857</commentid>
    <comment_count>8</comment_count>
      <attachid>248529</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-11-10 00:26:56 -0500</bug_when>
    <thetext>Created attachment 248529
Proposed Patch

tentative fix. as hashCode() has been replaced - need a review from internal compiler perspective if this bug needs to be fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479858</commentid>
    <comment_count>9</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-10 00:32:51 -0500</bug_when>
    <thetext>Does this obey the contract for hashCode ? 

/**
 * Answers an integer hash code for the receiver. Any two
 * objects which answer &lt;code&gt;true&lt;/code&gt; when passed to
 * &lt;code&gt;.equals&lt;/code&gt; must answer the same value for this
 * method.
 *
 * @return	the receiver&apos;s hash.
 *
 * @see	#equals
 */
public native int hashCode();</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2479860</commentid>
    <comment_count>10</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-11-10 00:38:32 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #9)
&gt; Does this obey the contract for hashCode ? 
&gt; 
&gt; /**
&gt;  * Answers an integer hash code for the receiver. Any two
&gt;  * objects which answer &lt;code&gt;true&lt;/code&gt; when passed to
&gt;  * &lt;code&gt;.equals&lt;/code&gt; must answer the same value for this
&gt;  * method.
&gt;  *
&gt;  * @return	the receiver&apos;s hash.
&gt;  *
&gt;  * @see	#equals
&gt;  */
&gt; public native int hashCode();

Basically if you override equals, you must override hashCode.

By calling super.hashCode you cease to override hashCode. (you may
have as well deleted the method)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2491936</commentid>
    <comment_count>11</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-12-03 02:07:06 -0500</bug_when>
    <thetext>*** Bug 453945 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2492543</commentid>
    <comment_count>12</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-12-04 04:15:43 -0500</bug_when>
    <thetext>Fixed via commit http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=9fd5428ce736a6251b7049cd29424ae48e74034b</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2492548</commentid>
    <comment_count>13</comment_count>
      <attachid>249158</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-12-04 04:23:32 -0500</bug_when>
    <thetext>Created attachment 249158
Proposed Patch

(In reply to Manoj Palat from comment #12)
&gt; Fixed via commit
&gt; http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/
&gt; ?id=9fd5428ce736a6251b7049cd29424ae48e74034b

This fix does not poke compiler code and self-contained in dom by adding a wrapper class over-riding  both equals() and hashCode() to differentiate between different instances instead of relying on the logical equals provided by the compiler.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2493649</commentid>
    <comment_count>14</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-12-07 22:21:44 -0500</bug_when>
    <thetext>Fixed</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2494450</commentid>
    <comment_count>15</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2014-12-09 06:48:17 -0500</bug_when>
    <thetext>Verified for 4.5 M4 using build I20141208-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>248529</attachid>
            <date>2014-11-10 00:26:00 -0500</date>
            <delta_ts>2014-12-04 04:23:32 -0500</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-419971-18compiler-Regression-in-orgeclip.patch</filename>
            <type>text/plain</type>
            <size>3130</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMTVKTFM0VGVzdC5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKaW5kZXggZTI3Y2JjMi4uMzlkMjEw
ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKQEAgLTkzODksNyArOTM4
OSw3IEBACiAKIAkvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9p
ZD0xOTI3NzQKIAkvL1Rlc3QgYWJpbGl0eSB0byBkaXN0aW5ndWlzaCBBU1Qgbm9kZXMgb2YgbXVs
dGlwbGUgc2ltaWxhciBhbm5vdGF0aW9ucy4KLQlwdWJsaWMgdm9pZCBfdGVzdDAyNzYoKSB0aHJv
d3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlwdWJsaWMgdm9pZCB0ZXN0MDI3NigpIHRocm93cyBK
YXZhTW9kZWxFeGNlcHRpb24gewogCQl0aGlzLndvcmtpbmdDb3B5ID0gZ2V0V29ya2luZ0NvcHko
Ii9Db252ZXJ0ZXIxNS9zcmMvWC5qYXZhIiwgdHJ1ZS8qcmVzb2x2ZSovKTsKIAkJU3RyaW5nIGNv
bnRlbnRzID0KIAkJCSJAaW50ZXJmYWNlIEFubm90IHtcbiIgKwpkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzhUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRl
cjE1SkxTOFRlc3QuamF2YQppbmRleCA1NzI1Mzc1Li40MjJiYzJlIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvZG9tL0FTVENvbnZlcnRlcjE1SkxTOFRlc3QuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENv
bnZlcnRlcjE1SkxTOFRlc3QuamF2YQpAQCAtOTM3Niw3ICs5Mzc2LDcgQEAKIAogCS8vaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTE5Mjc3NAogCS8vVGVzdCBh
YmlsaXR5IHRvIGRpc3Rpbmd1aXNoIEFTVCBub2RlcyBvZiBtdWx0aXBsZSBzaW1pbGFyIGFubm90
YXRpb25zLgotCXB1YmxpYyB2b2lkIF90ZXN0MDI3NigpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRp
b24geworCXB1YmxpYyB2b2lkIHRlc3QwMjc2KCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7
CiAJCXRoaXMud29ya2luZ0NvcHkgPSBnZXRXb3JraW5nQ29weSgiL0NvbnZlcnRlcjE1L3NyYy9Y
LmphdmEiLCB0cnVlLypyZXNvbHZlKi8pOwogCQlTdHJpbmcgY29udGVudHMgPQogCQkJIkBpbnRl
cmZhY2UgQW5ub3Qge1xuIiArCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0
cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE1
VGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNVRlc3QuamF2YQppbmRleCAyMmFj
ODAxLi45MDY5M2Q3IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2Rl
bC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE1VGVzdC5q
YXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBz
ZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMTVUZXN0LmphdmEKQEAgLTk0MDAsNyAr
OTQwMCw3IEBACiAKIAkvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNn
aT9pZD0xOTI3NzQKIAkvL1Rlc3QgYWJpbGl0eSB0byBkaXN0aW5ndWlzaCBBU1Qgbm9kZXMgb2Yg
bXVsdGlwbGUgc2ltaWxhciBhbm5vdGF0aW9ucy4KLQlwdWJsaWMgdm9pZCBfdGVzdDAyNzYoKSB0
aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlwdWJsaWMgdm9pZCB0ZXN0MDI3NigpIHRocm93
cyBKYXZhTW9kZWxFeGNlcHRpb24gewogCQl0aGlzLndvcmtpbmdDb3B5ID0gZ2V0V29ya2luZ0Nv
cHkoIi9Db252ZXJ0ZXIxNS9zcmMvWC5qYXZhIiwgdHJ1ZS8qcmVzb2x2ZSovKTsKIAkJU3RyaW5n
IGNvbnRlbnRzID0KIAkJCSJAaW50ZXJmYWNlIEFubm90IHtcbiIgKwpkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL2xvb2t1cC9Bbm5vdGF0aW9uQmluZGluZy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Bbm5vdGF0
aW9uQmluZGluZy5qYXZhCmluZGV4IDAyMDcwYmQuLjY4NTk4NTIgMTAwNjQ0Ci0tLSBhL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9sb29rdXAvQW5ub3RhdGlvbkJpbmRpbmcuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0Fubm90
YXRpb25CaW5kaW5nLmphdmEKQEAgLTI0NSw3ICsyNDUsOCBAQAogfQogCiBwdWJsaWMgaW50IGhh
c2hDb2RlKCkgewotCXJldHVybiB0aGlzLnR5cGUuaGFzaENvZGUoKTsKKy8vCXJldHVybiB0aGlz
LnR5cGUuaGFzaENvZGUoKTsKKwlyZXR1cm4gc3VwZXIuaGFzaENvZGUoKTsKIH0KIHB1YmxpYyBi
b29sZWFuIGVxdWFscyhPYmplY3Qgb2JqZWN0KSB7CiAJaWYgKHRoaXMgPT0gb2JqZWN0KQ==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>249158</attachid>
            <date>2014-12-04 04:23:00 -0500</date>
            <delta_ts>2014-12-04 04:23:32 -0500</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-419971-18compiler-Regression-in-orgeclip.patch</filename>
            <type>text/plain</type>
            <size>5455</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMTVKTFM0VGVzdC5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKaW5kZXggZTI3Y2JjMi4uMzlkMjEw
ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzRUZXN0LmphdmEKQEAgLTkzODksNyArOTM4
OSw3IEBACiAKIAkvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9p
ZD0xOTI3NzQKIAkvL1Rlc3QgYWJpbGl0eSB0byBkaXN0aW5ndWlzaCBBU1Qgbm9kZXMgb2YgbXVs
dGlwbGUgc2ltaWxhciBhbm5vdGF0aW9ucy4KLQlwdWJsaWMgdm9pZCBfdGVzdDAyNzYoKSB0aHJv
d3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlwdWJsaWMgdm9pZCB0ZXN0MDI3NigpIHRocm93cyBK
YXZhTW9kZWxFeGNlcHRpb24gewogCQl0aGlzLndvcmtpbmdDb3B5ID0gZ2V0V29ya2luZ0NvcHko
Ii9Db252ZXJ0ZXIxNS9zcmMvWC5qYXZhIiwgdHJ1ZS8qcmVzb2x2ZSovKTsKIAkJU3RyaW5nIGNv
bnRlbnRzID0KIAkJCSJAaW50ZXJmYWNlIEFubm90IHtcbiIgKwpkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L2RvbS9BU1RDb252ZXJ0ZXIxNUpMUzhUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRl
cjE1SkxTOFRlc3QuamF2YQppbmRleCA1NzI1Mzc1Li40MjJiYzJlIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvZG9tL0FTVENvbnZlcnRlcjE1SkxTOFRlc3QuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENv
bnZlcnRlcjE1SkxTOFRlc3QuamF2YQpAQCAtOTM3Niw3ICs5Mzc2LDcgQEAKIAogCS8vaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTE5Mjc3NAogCS8vVGVzdCBh
YmlsaXR5IHRvIGRpc3Rpbmd1aXNoIEFTVCBub2RlcyBvZiBtdWx0aXBsZSBzaW1pbGFyIGFubm90
YXRpb25zLgotCXB1YmxpYyB2b2lkIF90ZXN0MDI3NigpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRp
b24geworCXB1YmxpYyB2b2lkIHRlc3QwMjc2KCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7
CiAJCXRoaXMud29ya2luZ0NvcHkgPSBnZXRXb3JraW5nQ29weSgiL0NvbnZlcnRlcjE1L3NyYy9Y
LmphdmEiLCB0cnVlLypyZXNvbHZlKi8pOwogCQlTdHJpbmcgY29udGVudHMgPQogCQkJIkBpbnRl
cmZhY2UgQW5ub3Qge1xuIiArCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0
cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE1
VGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXIxNVRlc3QuamF2YQppbmRleCAyMmFj
ODAxLi45MDY5M2Q3IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2Rl
bC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlcjE1VGVzdC5q
YXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBz
ZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMTVUZXN0LmphdmEKQEAgLTk0MDAsNyAr
OTQwMCw3IEBACiAKIAkvL2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNn
aT9pZD0xOTI3NzQKIAkvL1Rlc3QgYWJpbGl0eSB0byBkaXN0aW5ndWlzaCBBU1Qgbm9kZXMgb2Yg
bXVsdGlwbGUgc2ltaWxhciBhbm5vdGF0aW9ucy4KLQlwdWJsaWMgdm9pZCBfdGVzdDAyNzYoKSB0
aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsKKwlwdWJsaWMgdm9pZCB0ZXN0MDI3NigpIHRocm93
cyBKYXZhTW9kZWxFeGNlcHRpb24gewogCQl0aGlzLndvcmtpbmdDb3B5ID0gZ2V0V29ya2luZ0Nv
cHkoIi9Db252ZXJ0ZXIxNS9zcmMvWC5qYXZhIiwgdHJ1ZS8qcmVzb2x2ZSovKTsKIAkJU3RyaW5n
IGNvbnRlbnRzID0KIAkJCSJAaW50ZXJmYWNlIEFubm90IHtcbiIgKwpkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2RvbS9EZWZhdWx0Qmlu
ZGluZ1Jlc29sdmVyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2Uv
amR0L2NvcmUvZG9tL0RlZmF1bHRCaW5kaW5nUmVzb2x2ZXIuamF2YQppbmRleCA4ZGJjMDJiLi45
NTcwZmIzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2Uv
amR0L2NvcmUvZG9tL0RlZmF1bHRCaW5kaW5nUmVzb2x2ZXIuamF2YQorKysgYi9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL0RlZmF1bHRCaW5kaW5nUmVz
b2x2ZXIuamF2YQpAQCAtOTIsMTQgKzkyLDIxIEBACiAJCSAqLwogCQlNYXAgYmluZGluZ0tleXNU
b0JpbmRpbmdzOwogCQkvKioKLQkJICogVGhpcyBtYXAgaXMgdXNlZCB0byBrZWVwIHRoZSBjb3Jy
ZXNwb25kYW5jZSBiZXR3ZWVuIG5ldyBiaW5kaW5ncyBhbmQgdGhlCi0JCSAqIGNvbXBpbGVyIGJp
bmRpbmdzIGFzIHdlbGwgYXMgbmV3IGFubm90YXRpb24gaW5zdGFuY2VzIHRvIHRoZWlyIGludGVy
bmFsIGNvdW50ZXJwYXJ0LgotCQkgKiBUaGlzIGlzIGFuIGlkZW50aXR5IG1hcC4gV2Ugc2hvdWxk
IG9ubHkgY3JlYXRlIG9uZSBvYmplY3QgZm9yIG9uZSBiaW5kaW5nIG9yIGFubm90YXRpb24uCisJ
CSAqIFRoaXMgbWFwIGlzIHVzZWQgdG8ga2VlcCB0aGUgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBu
ZXcgYmluZGluZ3MgYW5kIHRoZQorCQkgKiBjb21waWxlciBiaW5kaW5ncyB0byB0aGVpciBpbnRl
cm5hbCBjb3VudGVycGFydC4KKwkJICogVGhpcyBpcyBhbiBpZGVudGl0eSBtYXAuIFdlIHNob3Vs
ZCBvbmx5IGNyZWF0ZSBvbmUgb2JqZWN0IGZvciBvbmUgYmluZGluZy4KIAkJICovCiAJCU1hcCBj
b21waWxlckJpbmRpbmdzVG9BU1RCaW5kaW5nczsKIAorCQkvKioKKwkJICogVGhpcyBtYXAgaXMg
dXNlZCB0byBrZWVwIHRoZSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIG5ldyBhbm5vdGF0aW9uIGlu
c3RhbmNlcyB0byB0aGVpciBpbnRlcm5hbCBjb3VudGVycGFydC4KKwkJICogVGhpcyBpcyBhbiBp
ZGVudGl0eSBtYXAuIFdlIHNob3VsZCBvbmx5IGNyZWF0ZSBvbmUgb2JqZWN0IGZvciBvbmUgYW5u
b3RhdGlvbi4KKwkJICovCisJCU1hcCBjb21waWxlckFubm90YXRpb25CaW5kaW5nc1RvQVNUQmlu
ZGluZ3M7CisKIAkJQmluZGluZ1RhYmxlcygpIHsKIAkJCXRoaXMuY29tcGlsZXJCaW5kaW5nc1Rv
QVNUQmluZGluZ3MgPSBuZXcgQ29uY3VycmVudEhhc2hNYXAoKTsKKwkJCXRoaXMuY29tcGlsZXJB
bm5vdGF0aW9uQmluZGluZ3NUb0FTVEJpbmRpbmdzID0gbmV3IENvbmN1cnJlbnRIYXNoTWFwKCk7
CiAJCQl0aGlzLmJpbmRpbmdLZXlzVG9CaW5kaW5ncyA9IG5ldyBDb25jdXJyZW50SGFzaE1hcCgp
OwogCQl9CiAKQEAgLTUwNiw2ICs1MTMsMjEgQEAKIAkJcmV0dXJuIG51bGw7CiAJfQogCisJY2xh
c3MgQW5ub3RhdGlvbklkZW50aXR5QmluZGluZyB7CisJCW9yZy5lY2xpcHNlLmpkdC5pbnRlcm5h
bC5jb21waWxlci5sb29rdXAuQW5ub3RhdGlvbkJpbmRpbmcgaW50ZXJuYWxJbnN0YW5jZTsKKwkJ
QW5ub3RhdGlvbklkZW50aXR5QmluZGluZyhvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGls
ZXIubG9va3VwLkFubm90YXRpb25CaW5kaW5nIGludGVybmFsSW5zdGFuY2UpIHsKKwkJCXRoaXMu
aW50ZXJuYWxJbnN0YW5jZSA9IGludGVybmFsSW5zdGFuY2U7CisJCX0KKwkJQE92ZXJyaWRlCisJ
CXB1YmxpYyBib29sZWFuIGVxdWFscyhPYmplY3QgbykgeworCQkJcmV0dXJuIG8gaW5zdGFuY2Vv
ZiBBbm5vdGF0aW9uSWRlbnRpdHlCaW5kaW5nICYmIHRoaXMuaW50ZXJuYWxJbnN0YW5jZSA9PSAo
KEFubm90YXRpb25JZGVudGl0eUJpbmRpbmcpbykuaW50ZXJuYWxJbnN0YW5jZTsKKwkJfQorCQlA
T3ZlcnJpZGUKKwkJcHVibGljIGludCBoYXNoQ29kZSgpIHsKKwkJCXJldHVybiB0aGlzLmludGVy
bmFsSW5zdGFuY2UuaGFzaENvZGUoKTsKKwkJfQorCX0KKwogCXN5bmNocm9uaXplZCBJQW5ub3Rh
dGlvbkJpbmRpbmcgZ2V0QW5ub3RhdGlvbkluc3RhbmNlKG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5h
bC5jb21waWxlci5sb29rdXAuQW5ub3RhdGlvbkJpbmRpbmcgaW50ZXJuYWxJbnN0YW5jZSkgewog
CQlpZiAoaW50ZXJuYWxJbnN0YW5jZSA9PSBudWxsKSByZXR1cm4gbnVsbDsKIAkJUmVmZXJlbmNl
QmluZGluZyBhbm5vdGF0aW9uVHlwZSA9IGludGVybmFsSW5zdGFuY2UuZ2V0QW5ub3RhdGlvblR5
cGUoKTsKQEAgLTUxNCwxMiArNTM2LDEzIEBACiAJCQkJcmV0dXJuIG51bGw7CiAJCQl9CiAJCX0K
KwkJT2JqZWN0IGtleSA9ICBuZXcgQW5ub3RhdGlvbklkZW50aXR5QmluZGluZyhpbnRlcm5hbElu
c3RhbmNlKTsKIAkJSUFubm90YXRpb25CaW5kaW5nIGRvbUluc3RhbmNlID0KLQkJCShJQW5ub3Rh
dGlvbkJpbmRpbmcpIHRoaXMuYmluZGluZ1RhYmxlcy5jb21waWxlckJpbmRpbmdzVG9BU1RCaW5k
aW5ncy5nZXQoaW50ZXJuYWxJbnN0YW5jZSk7CisJCQkoSUFubm90YXRpb25CaW5kaW5nKSB0aGlz
LmJpbmRpbmdUYWJsZXMuY29tcGlsZXJBbm5vdGF0aW9uQmluZGluZ3NUb0FTVEJpbmRpbmdzLmdl
dChrZXkpOwogCQlpZiAoZG9tSW5zdGFuY2UgIT0gbnVsbCkKIAkJCXJldHVybiBkb21JbnN0YW5j
ZTsKIAkJZG9tSW5zdGFuY2UgPSBuZXcgQW5ub3RhdGlvbkJpbmRpbmcoaW50ZXJuYWxJbnN0YW5j
ZSwgdGhpcyk7Ci0JCXRoaXMuYmluZGluZ1RhYmxlcy5jb21waWxlckJpbmRpbmdzVG9BU1RCaW5k
aW5ncy5wdXQoaW50ZXJuYWxJbnN0YW5jZSwgZG9tSW5zdGFuY2UpOworCQl0aGlzLmJpbmRpbmdU
YWJsZXMuY29tcGlsZXJBbm5vdGF0aW9uQmluZGluZ3NUb0FTVEJpbmRpbmdzLnB1dChrZXksIGRv
bUluc3RhbmNlKTsKIAkJcmV0dXJuIGRvbUluc3RhbmNlOwogCX0KIA==
</data>

          </attachment>
      

    </bug>

</bugzilla>