<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>343342</bug_id>
          
          <creation_ts>2011-04-20 02:58:00 -0400</creation_ts>
          <short_desc>[assist] Non constant variables, strings and methods are proposed inside case statements</short_desc>
          <delta_ts>2011-04-26 09:56:44 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ayushman Jain">amj87.iitr</reporter>
          <assigned_to name="Ayushman Jain">amj87.iitr</assigned_to>
          <cc>deepakazad</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>remy.suen</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="40961"
          type_id="1"
          status="+"
          setter="Olivier_Thomann"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1916324</commentid>
    <comment_count>0</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-20 02:58:18 -0400</bug_when>
    <thetext>HEAD

class Test {
    void f(int a) {
            String str = null;
	    final String ss = &quot;&quot;;
	    switch (a){
		case s[CTRL-SPC]: break;
	   }
     }
}

In the above snippet str and ss are proposed. But theyre not allowed in java 1.6 and below</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1916540</commentid>
    <comment_count>1</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-20 08:38:43 -0400</bug_when>
    <thetext>There are more cases that should be brought under the ambit of this bug. We should also not propose any non constant variable/field, or methods.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1916638</commentid>
    <comment_count>2</comment_count>
      <attachid>193702</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-20 10:23:28 -0400</bug_when>
    <thetext>Created attachment 193702
proposed fix v1.0 + regression tests

The patch makes sure no non-constant variable, string, or method is proposed inside the case statement since JLS says only constant expressions can be used inside a case. It makes the use of CompletionEngine.isAssistNodeInsideCase field from bug 195346.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1916640</commentid>
    <comment_count>3</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-20 10:25:17 -0400</bug_when>
    <thetext>Olivier, can you please review? Its a small fix. Thanks!

The motivation behind this fix is to make sure strings are proposed only in 1.7 compliance. I&apos;ll open another bug for the BETA_JAVA7 branch for that once this is fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1916798</commentid>
    <comment_count>4</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-04-20 12:59:23 -0400</bug_when>
    <thetext>Looks good. I guess the fix for compliance 1.7 will be different.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1917068</commentid>
    <comment_count>5</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-21 01:48:47 -0400</bug_when>
    <thetext>Released in HEAD for 3.7M7</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1917206</commentid>
    <comment_count>6</comment_count>
      <attachid>193792</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-21 05:40:02 -0400</bug_when>
    <thetext>Created attachment 193792
minor update

Just noticed that instead of calling the org.eclipse.jdt.internal.codeassist.CompletionEngine.assistNodeIsInsideCase(ASTNode, ASTNode) method in each of completionOn* methods, we can call it once at CompletionEngine#computeExpectedTypes(..). Also, the check for whether to find methods, instead of being done at the call site for findMethods(..) should be done inside findMethods(..) itself, so as to catch all cases where methods are being proposed inside case.

This patch consists of just these minor changes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1917207</commentid>
    <comment_count>7</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-04-21 05:40:50 -0400</bug_when>
    <thetext>Released above patch also in HEAD.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1918999</commentid>
    <comment_count>8</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-04-26 09:56:44 -0400</bug_when>
    <thetext>Verified.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>193702</attachid>
            <date>2011-04-20 10:23:00 -0400</date>
            <delta_ts>2011-04-20 10:23:28 -0400</delta_ts>
            <desc>proposed fix v1.0 + regression tests</desc>
            <filename>patch343342.txt</filename>
            <type>text/plain</type>
            <size>13050</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L0Nv
bXBsZXRpb25FbmdpbmUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlw
c2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjQyNw0KZGlmZiAtdSAtcjEuNDI3IENvbXBsZXRpb25FbmdpbmUuamF2YQ0KLS0tIGNvZGVh
c3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvQ29tcGxldGlvbkVuZ2lu
ZS5qYXZhCTI4IEZlYiAyMDExIDE4OjI3OjQ4IC0wMDAwCTEuNDI3DQorKysgY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEJ
MjAgQXByIDIwMTEgMTQ6MjE6NDIgLTAwMDANCkBAIC02MDQ1LDEwICs2MDQ1LDE3IEBADQogCQkJ
aWYgKHRoaXMub3B0aW9ucy5jaGVja1Zpc2liaWxpdHkNCiAJCQkJJiYgIWZpZWxkLmNhbkJlU2Vl
bkJ5KHJlY2VpdmVyVHlwZSwgaW52b2NhdGlvblNpdGUsIHNjb3BlKSkJY29udGludWUgbmV4dDsN
CiAJCQkNCi0JCQkvLyBkb24ndCBwcm9wb3NlIGFycmF5IHR5cGVzIGluIGNhc2UgZXhwcmVzc2lv
bg0KKwkJCS8vIGRvbid0IHByb3Bvc2Ugbm9uIGNvbnN0YW50IGZpZWxkcyBvciBzdHJpbmdzICgx
LjYgb3IgYmVsb3cpIGluIGNhc2UgZXhwcmVzc2lvbg0KIAkJCS8vIGh0dHBzOi8vYnVncy5lY2xp
cHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0xOTUzNDYNCi0JCQlpZiAodGhpcy5hc3Npc3RO
b2RlSXNJbnNpZGVDYXNlICYmIGZpZWxkLnR5cGUgaW5zdGFuY2VvZiBBcnJheUJpbmRpbmcpDQot
CQkJCWNvbnRpbnVlIG5leHQ7DQorCQkJLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM0MzM0Mg0KKwkJCWlmICh0aGlzLmFzc2lzdE5vZGVJc0luc2lkZUNh
c2UpIHsNCisJCQkJaWYgKGZpZWxkLmlzRmluYWwoKSAmJiBmaWVsZC5pc1N0YXRpYygpKSB7DQor
CQkJCQlpZiAoIShmaWVsZC50eXBlIGluc3RhbmNlb2YgQmFzZVR5cGVCaW5kaW5nKSkNCisJCQkJ
CQljb250aW51ZSBuZXh0OyANCisJCQkJfSBlbHNlIHsNCisJCQkJCWNvbnRpbnVlIG5leHQ7IC8v
IG5vbi1jb25zdGFudHMgbm90IGFsbG93ZWQgaW4gY2FzZS4JDQorCQkJCX0NCisJCQl9DQogDQog
CQkJYm9vbGVhbiBwcmVmaXhSZXF1aXJlZCA9IGZhbHNlOw0KIA0KQEAgLTExNDI2LDEwICsxMTQz
MywxNyBAQA0KIAkJCQkJCQkJY29udGludWUgbmV4dDsNCiAJCQkJCQkJfQ0KIAkJCQkJCQkJCQkJ
CQ0KLQkJCQkJCQkvLyBkb24ndCBwcm9wb3NlIGFycmF5IHR5cGVzIGluIGNhc2UgZXhwcmVzc2lv
bg0KKwkJCQkJCQkvLyBkb24ndCBwcm9wb3NlIG5vbiBjb25zdGFudCB2YXJpYWJsZXMgb3Igc3Ry
aW5ncyAoMS42IG9yIGJlbG93KSBpbiBjYXNlIGV4cHJlc3Npb24NCiAJCQkJCQkJLy8gaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTE5NTM0Ng0KLQkJCQkJCQlp
ZiAodGhpcy5hc3Npc3ROb2RlSXNJbnNpZGVDYXNlICYmIGxvY2FsLnR5cGUgaW5zdGFuY2VvZiBB
cnJheUJpbmRpbmcpDQotCQkJCQkJCQljb250aW51ZSBuZXh0Ow0KKwkJCQkJCQkvLyBodHRwczov
L2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MzQzMzQyDQorCQkJCQkJCWlm
ICh0aGlzLmFzc2lzdE5vZGVJc0luc2lkZUNhc2UpIHsNCisJCQkJCQkJCWlmIChsb2NhbC5pc0Zp
bmFsKCkpIHsNCisJCQkJCQkJCQlpZiAoIShsb2NhbC50eXBlIGluc3RhbmNlb2YgQmFzZVR5cGVC
aW5kaW5nKSkNCisJCQkJCQkJCQkJY29udGludWUgbmV4dDsgDQorCQkJCQkJCQl9IGVsc2Ugew0K
KwkJCQkJCQkJCWNvbnRpbnVlIG5leHQ7IC8vIG5vbi1jb25zdGFudHMgbm90IGFsbG93ZWQgaW4g
Y2FzZS4JDQorCQkJCQkJCQl9DQorCQkJCQkJCX0NCiAJCQkJCQkJDQogCQkJCQkJCWludCBwdHIg
PSB0aGlzLnVuaW50ZXJlc3RpbmdCaW5kaW5nc1B0cjsNCiAJCQkJCQkJLy8gQ2FzZXMgd2hlcmUg
dGhlIGJpbmRpbmcgaXMgdW5pbnRlcmVzdGluZyBlZy4gZm9yIGNvbXBsZXRpb24gb2NjdXJyaW5n
IGluc2lkZSBhIGxvY2FsIHZhcg0KQEAgLTExNTQxLDcgKzExNTU1LDcgQEANCiAJCQkJCQkJCQkt
MSwNCiAJCQkJCQkJCQktMSk7DQogCQkJCQkJCX0NCi0JCQkJCQkJaWYocHJvcG9zZU1ldGhvZCAm
JiAhaW5zaWRlQW5ub3RhdGlvbkF0dHJpYnV0ZSkgew0KKwkJCQkJCQlpZihwcm9wb3NlTWV0aG9k
ICYmICFpbnNpZGVBbm5vdGF0aW9uQXR0cmlidXRlICYmICF0aGlzLmFzc2lzdE5vZGVJc0luc2lk
ZUNhc2UpIHsNCiAJCQkJCQkJCWZpbmRNZXRob2RzKA0KIAkJCQkJCQkJCXRva2VuLA0KIAkJCQkJ
CQkJCW51bGwsDQojUCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbA0KSW5kZXg6IHNy
Yy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UuamR0LmNv
cmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0NvbXBs
ZXRpb25UZXN0cy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4yMzgNCmRpZmYgLXUgLXIx
LjIzOCBDb21wbGV0aW9uVGVzdHMuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQkyNCBGZWIgMjAxMSAwMjo0ODowMyAtMDAw
MAkxLjIzOA0KKysrIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0
aW9uVGVzdHMuamF2YQkyMCBBcHIgMjAxMSAxNDoyMTo0NiAtMDAwMA0KQEAgLTk4NCw2ICs5ODQs
OSBAQA0KIAlzdWl0ZS5hZGRUZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3QzMjU0ODFiIikp
Ow0KIAlzdWl0ZS5hZGRUZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWczMzIyNjhhIikp
Ow0KIAlzdWl0ZS5hZGRUZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWczMzIyNjhiIikp
Ow0KKwlzdWl0ZS5hZGRUZXN0KG5ldyBDb21wbGV0aW9uVGVzdHMoInRlc3RCdWczNDMzNDIiKSk7
DQorCXN1aXRlLmFkZFRlc3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzM0MzM0MmEiKSk7
DQorCXN1aXRlLmFkZFRlc3QobmV3IENvbXBsZXRpb25UZXN0cygidGVzdEJ1ZzM0MzM0MmIiKSk7
DQogCXJldHVybiBzdWl0ZTsNCiB9DQogcHVibGljIENvbXBsZXRpb25UZXN0cyhTdHJpbmcgbmFt
ZSkgew0KQEAgLTI4OTgsNyArMjkwMSw2IEBADQogCWFzc2VydFJlc3VsdHMoDQogCQkJIlpaWjJb
RklFTERfUkVGXXtaWloyLCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJDYXNlMjssIEosIFpaWjIsIG51
bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0Ug
KyBSX1VOUVVBTElGSUVEICsgUl9OT05fUkVTVFJJQ1RFRCArIFJfRklOQUwpICsgIn1cbiIgKw0K
IAkJCSJaWlozW0ZJRUxEX1JFRl17WlpaMywgTHRlc3QuQ29tcGxldGlvbkFmdGVyQ2FzZTI7LCBE
LCBaWlozLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBSX0lOVEVSRVNUSU5H
ICsgUl9DQVNFICsgUl9VTlFVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0ZJTkFMKSAr
ICJ9XG4iICsNCi0JCQkiWlpaNFtGSUVMRF9SRUZde1paWjQsIEx0ZXN0LkNvbXBsZXRpb25BZnRl
ckNhc2UyOywgTGphdmEubGFuZy5PYmplY3Q7LCBaWlo0LCBudWxsLCAiICsgKFJfREVGQVVMVCAr
IFJfUkVTT0xWRUQgKyBSX0lOVEVSRVNUSU5HICsgUl9DQVNFICsgUl9VTlFVQUxJRklFRCArIFJf
Tk9OX1JFU1RSSUNURUQgKyBSX0ZJTkFMKSArICJ9XG4iICsNCiAJCQkiWlpaN1tGSUVMRF9SRUZd
e1paWjcsIEx0ZXN0LkNvbXBsZXRpb25BZnRlckNhc2UyOywgUywgWlpaNywgbnVsbCwgIiArIChS
X0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfRVhQRUNURURfVFlQRSAr
IFJfQ0FTRSArIFJfVU5RVUFMSUZJRUQgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5BTCkgKyAi
fVxuIiArDQogCQkJIlpaWjFbRklFTERfUkVGXXtaWloxLCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJD
YXNlMjssIEksIFpaWjEsIG51bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5U
RVJFU1RJTkcgKyBSX0VYQUNUX0VYUEVDVEVEX1RZUEUgKyBSX0NBU0UgKyBSX1VOUVVBTElGSUVE
ICsgUl9OT05fUkVTVFJJQ1RFRCArIFJfRklOQUwpICsgIn0iLA0KIAkJCXJlcXVlc3Rvci5nZXRS
ZXN1bHRzKCkpOw0KQEAgLTI5MzksNyArMjk0MSw2IEBADQogCWFzc2VydFJlc3VsdHMoDQogCQkJ
IlpaWjJbRklFTERfUkVGXXtaWloyLCBMdGVzdC5UZXN0Q29uc3RhbnRzOywgSiwgWlpaMiwgbnVs
bCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSAr
IFJfUVVBTElGSUVEICsgUl9OT05fUkVTVFJJQ1RFRCArIFJfRklOQUwpICsgIn1cbiIgKw0KIAkJ
CSJaWlozW0ZJRUxEX1JFRl17WlpaMywgTHRlc3QuVGVzdENvbnN0YW50czssIEQsIFpaWjMsIG51
bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0Ug
KyBSX1FVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0ZJTkFMKSArICJ9XG4iICsNCi0J
CQkiWlpaNFtGSUVMRF9SRUZde1paWjQsIEx0ZXN0LlRlc3RDb25zdGFudHM7LCBMamF2YS5sYW5n
Lk9iamVjdDssIFpaWjQsIG51bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5U
RVJFU1RJTkcgKyBSX0NBU0UgKyBSX1FVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0ZJ
TkFMKSArICJ9XG4iICsNCiAJCQkiWlpaN1tGSUVMRF9SRUZde1paWjcsIEx0ZXN0LlRlc3RDb25z
dGFudHM7LCBTLCBaWlo3LCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBSX0lO
VEVSRVNUSU5HICsgUl9FWFBFQ1RFRF9UWVBFICsgUl9DQVNFICsgUl9RVUFMSUZJRUQgKyBSX05P
Tl9SRVNUUklDVEVEICsgUl9GSU5BTCkgKyAifVxuIiArDQogCQkJIlpaWjFbRklFTERfUkVGXXta
WloxLCBMdGVzdC5UZXN0Q29uc3RhbnRzOywgSSwgWlpaMSwgbnVsbCwgIiArIChSX0RFRkFVTFQg
KyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfRVhBQ1RfRVhQRUNURURfVFlQRSArIFJf
Q0FTRSArIFJfUVVBTElGSUVEICsgUl9OT05fUkVTVFJJQ1RFRCArIFJfRklOQUwpICsgIn0iLA0K
IAkJCXJlcXVlc3Rvci5nZXRSZXN1bHRzKCkpOw0KQEAgLTIyNDY1LDggKzIyNDY2LDYgQEANCiAJ
dGhpcy53b3JraW5nQ29waWVzWzBdLmNvZGVDb21wbGV0ZShjdXJzb3JMb2NhdGlvbiwgcmVxdWVz
dG9yLCB0aGlzLndjT3duZXIpOw0KIA0KIAlhc3NlcnRSZXN1bHRzKA0KLQkJCSJBTl9JTlRfVkFM
VUVbRklFTERfUkVGXXtBTl9JTlRfVkFMVUUsIEx0ZXN0LkNvbXBsZXRpb25BZnRlckNhc2UyOywg
SSwgQU5fSU5UX1ZBTFVFLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQgKyBSX0lO
VEVSRVNUSU5HICsgUl9DQVNFICsgUl9VTlFVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNURUQgKyBS
X0VYQUNUX0VYUEVDVEVEX1RZUEUpICsgIn1cbiIgKw0KLQkJCSJBTl9JTlRfVkFSMltMT0NBTF9W
QVJJQUJMRV9SRUZde0FOX0lOVF9WQVIyLCBudWxsLCBJLCBBTl9JTlRfVkFSMiwgbnVsbCwgIiAr
IChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfVU5R
VUFMSUZJRUQgKyBSX05PTl9SRVNUUklDVEVEICsgUl9FWEFDVF9FWFBFQ1RFRF9UWVBFKSArICJ9
XG4iICsNCiAJCQkiQU5fSU5UX1ZBTFVFMltGSUVMRF9SRUZde0FOX0lOVF9WQUxVRTIsIEx0ZXN0
LkNvbXBsZXRpb25BZnRlckNhc2UyOywgSSwgQU5fSU5UX1ZBTFVFMiwgbnVsbCwgIiArIChSX0RF
RkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfVU5RVUFMSUZJ
RUQgKyBSX05PTl9SRVNUUklDVEVEICsgUl9FWEFDVF9FWFBFQ1RFRF9UWVBFICsgUl9GSU5BTCkg
KyAifVxuIiArDQogCQkJIkFOX0lOVF9WQVJbTE9DQUxfVkFSSUFCTEVfUkVGXXtBTl9JTlRfVkFS
LCBudWxsLCBJLCBBTl9JTlRfVkFSLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVTT0xWRUQg
KyBSX0lOVEVSRVNUSU5HICsgUl9DQVNFICsgUl9VTlFVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNU
RUQgKyBSX0VYQUNUX0VYUEVDVEVEX1RZUEUgKyBSX0ZJTkFMKSArICJ9IiwNCiAJCQlyZXF1ZXN0
b3IuZ2V0UmVzdWx0cygpKTsNCkBAIC0yMjUwOCw3ICsyMjUwNyw2IEBADQogDQogCWFzc2VydFJl
c3VsdHMoDQogCQkJIkNvbXBsZXRpb25BZnRlckNhc2UyLkFOX0lOTkVSX0NMQVNTW1RZUEVfUkVG
XXtBTl9JTk5FUl9DTEFTUywgdGVzdCwgTHRlc3QuQ29tcGxldGlvbkFmdGVyQ2FzZTIkQU5fSU5O
RVJfQ0xBU1M7LCBudWxsLCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfSU5URVJFU1RJTkcgKyBS
X0NBU0UgKyBSX1VOUVVBTElGSUVEICsgUl9OT05fUkVTVFJJQ1RFRCkgKyAifVxuIiArDQotCQkJ
IkFOX0lOVF9WQUxVRVtGSUVMRF9SRUZde0FOX0lOVF9WQUxVRSwgTHRlc3QuQ29tcGxldGlvbkFm
dGVyQ2FzZTI7LCBJLCBBTl9JTlRfVkFMVUUsIG51bGwsICIgKyAoUl9ERUZBVUxUICsgUl9JTlRF
UkVTVElORyArIFJfQ0FTRSArIFJfVU5RVUFMSUZJRUQgKyBSX05PTl9SRVNUUklDVEVEICsgUl9F
WEFDVF9FWFBFQ1RFRF9UWVBFKSArICJ9XG4iICsNCiAJCQkiQU5fSU5UX1ZBTFVFMltGSUVMRF9S
RUZde0FOX0lOVF9WQUxVRTIsIEx0ZXN0LkNvbXBsZXRpb25BZnRlckNhc2UyOywgSSwgQU5fSU5U
X1ZBTFVFMiwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX0lOVEVSRVNUSU5HICsgUl9DQVNFICsg
Ul9VTlFVQUxJRklFRCArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0VYQUNUX0VYUEVDVEVEX1RZUEUg
KyBSX0ZJTkFMKSArICJ9IiwNCiAJCQlyZXF1ZXN0b3IuZ2V0UmVzdWx0cygpKTsNCiB9DQpAQCAt
MjI5NDcsNCArMjI5NDUsMTEwIEBADQogCQkJIm15VmFyMVtGSUVMRF9SRUZde215VmFyMSwgTHRl
c3QuVGVzdDssIEksIG15VmFyMSwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsg
Ul9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfVU5RVUFMSUZJRUQgKyBSX05PTl9SRVNUUklDVEVE
ICsgUl9FWEFDVF9FWFBFQ1RFRF9UWVBFKSArICJ9IiwNCiAJCQlyZXF1ZXN0b3IuZ2V0UmVzdWx0
cygpKTsNCiB9DQorLy9odHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/
aWQ9MzQzMzQyDQorcHVibGljIHZvaWQgdGVzdEJ1ZzM0MzM0MigpIHRocm93cyBKYXZhTW9kZWxF
eGNlcHRpb24gew0KKwl0aGlzLndvcmtpbmdDb3BpZXMgPSBuZXcgSUNvbXBpbGF0aW9uVW5pdFsx
XTsNCisJdGhpcy53b3JraW5nQ29waWVzWzBdID0gZ2V0V29ya2luZ0NvcHkoDQorCQkJIi9Db21w
bGV0aW9uL3NyYy90ZXN0L1RyeS5qYXZhIiwNCisJCQkicGFja2FnZSB0ZXN0O1xuIiArDQorCQkJ
InB1YmxpYyBjbGFzcyBUcnkge1xuIiArDQorCQkJIgl2b2lkIGYoaW50IGEpe1xuIiArDQorCQkJ
IgkJU3RyaW5nIHh5eiA9IG51bGw7XG4iICsNCisJCQkiCQlmaW5hbCBTdHJpbmcgeHl6eiA9IG51
bGw7XG4iICsNCisJCQkiCQlzd2l0Y2ggKGEpe1xuIiArDQorCQkJIgkJCWNhc2UgeHkgOiBicmVh
aztcbiIgKw0KKwkJCSIJCX1cbiIgKw0KKwkJCSIJfVxuIiArDQorCQkJIn1cbiIpOw0KKw0KKwlD
b21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0aW9uVGVzdHNS
ZXF1ZXN0b3IyKHRydWUpOw0KKwlyZXF1ZXN0b3IuYWxsb3dBbGxSZXF1aXJlZFByb3Bvc2Fscygp
Ow0KKwlTdHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29waWVzWzBdLmdldFNvdXJjZSgpOw0KKwlT
dHJpbmcgY29tcGxldGVCZWhpbmQgPSAiY2FzZSB4eSovIjsNCisJaW50IGN1cnNvckxvY2F0aW9u
ID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSArIGNvbXBsZXRlQmVoaW5kLmxlbmd0
aCgpOw0KKwl0aGlzLndvcmtpbmdDb3BpZXNbMF0uY29kZUNvbXBsZXRlKGN1cnNvckxvY2F0aW9u
LCByZXF1ZXN0b3IsIHRoaXMud2NPd25lcik7DQorCWFzc2VydFJlc3VsdHMoDQorCQkJIiIsDQor
CQkJcmVxdWVzdG9yLmdldFJlc3VsdHMoKSk7DQorfQ0KKy8vaHR0cHM6Ly9idWdzLmVjbGlwc2Uu
b3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM0MzM0Mg0KK3B1YmxpYyB2b2lkIHRlc3RCdWczNDMz
NDJhKCkgdGhyb3dzIEphdmFNb2RlbEV4Y2VwdGlvbiB7DQorCXRoaXMud29ya2luZ0NvcGllcyA9
IG5ldyBJQ29tcGlsYXRpb25Vbml0WzJdOw0KKwl0aGlzLndvcmtpbmdDb3BpZXNbMF0gPSBnZXRX
b3JraW5nQ29weSgNCisJCSIvQ29tcGxldGlvbi9zcmMvdGVzdC9Db21wbGV0aW9uQWZ0ZXJDYXNl
Mi5qYXZhIiwNCisJCSJwYWNrYWdlIHRlc3Q7XG4iICsNCisJCSJwdWJsaWMgY2xhc3MgQ29tcGxl
dGlvbkFmdGVyQ2FzZTIge1xuIiArDQorCQkiCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFpaWjEg
PSA1O1xuIiArDQorCQkiCXB1YmxpYyBzdGF0aWMgZmluYWwgbG9uZyBaWloyID0gNTtcbiIgKw0K
KwkJIglwdWJsaWMgc3RhdGljIGZpbmFsIGRvdWJsZSBaWlozID0gMDtcbiIgKw0KKwkJIglwdWJs
aWMgc3RhdGljIGZpbmFsIE9iamVjdCBaWlo0ID0gbnVsbDtcbiIgKw0KKwkJIglwdWJsaWMgc3Rh
dGljIGZpbmFsIGludFtdIFpaWjUgPSBudWxsO1xuIiArDQorCQkiCXB1YmxpYyBzdGF0aWMgZmlu
YWwgT2JqZWN0W10gWlpaNiA9IG51bGw7XG4iICsNCisJCSIJcHVibGljIHN0YXRpYyBmaW5hbCBz
aG9ydCBaWlo3ID0gMDtcbiIgKw0KKwkJIglpbnQgWlpaOCgpe3JldHVybiAxO31cbiIgKw0KKwkJ
Igl2b2lkIGZvbyhpbnQgaSl7XG4iICsNCisJCSIJCWZpbmFsIGludCBaWlowMSA9IDE7XG4iICsN
CisJCSIJCWludCBaWlowMiA9IDE7XG4iICsNCisJCSIJCWZpbmFsIGNoYXIgWlpaMDM7XG4iICsN
CisJCSIJCWZpbmFsIFN0cmluZyBaWlowNDtcbiIgKw0KKwkJIgkJc3dpdGNoKGkpIHtcbiIgKw0K
KwkJIgkJCWNhc2UgWlpcbiIgKw0KKwkJIgkJfVxuIiArDQorCQkiCX1cbiIgKw0KKwkJIn1cbiIp
Ow0KKw0KKwlDb21wbGV0aW9uVGVzdHNSZXF1ZXN0b3IyIHJlcXVlc3RvciA9IG5ldyBDb21wbGV0
aW9uVGVzdHNSZXF1ZXN0b3IyKHRydWUpOw0KKwlTdHJpbmcgc3RyID0gdGhpcy53b3JraW5nQ29w
aWVzWzBdLmdldFNvdXJjZSgpOw0KKwlTdHJpbmcgY29tcGxldGVCZWhpbmQgPSAiWloiOw0KKwlp
bnQgY3Vyc29yTG9jYXRpb24gPSBzdHIubGFzdEluZGV4T2YoY29tcGxldGVCZWhpbmQpICsgY29t
cGxldGVCZWhpbmQubGVuZ3RoKCk7DQorCXRoaXMud29ya2luZ0NvcGllc1swXS5jb2RlQ29tcGxl
dGUoY3Vyc29yTG9jYXRpb24sIHJlcXVlc3RvciwgdGhpcy53Y093bmVyKTsNCisNCisJYXNzZXJ0
UmVzdWx0cygNCisJCQkiWlpaMltGSUVMRF9SRUZde1paWjIsIEx0ZXN0LkNvbXBsZXRpb25BZnRl
ckNhc2UyOywgSiwgWlpaMiwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9J
TlRFUkVTVElORyArIFJfQ0FTRSArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0ZJTkFMICsgUl9VTlFV
QUxJRklFRCkgKyAifVxuIiArDQorCQkJIlpaWjNbRklFTERfUkVGXXtaWlozLCBMdGVzdC5Db21w
bGV0aW9uQWZ0ZXJDYXNlMjssIEQsIFpaWjMsIG51bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNP
TFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0NBU0UgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5B
TCArIFJfVU5RVUFMSUZJRUQpICsgIn1cbiIgKw0KKwkJCSJaWlowM1tMT0NBTF9WQVJJQUJMRV9S
RUZde1paWjAzLCBudWxsLCBDLCBaWlowMywgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09M
VkVEICsgUl9JTlRFUkVTVElORyArIFJfRVhBQ1RfRVhQRUNURURfVFlQRSArIFJfTk9OX1JFU1RS
SUNURUQgKyBSX0ZJTkFMICsgUl9VTlFVQUxJRklFRCkgKyAifVxuIiArDQorCQkJIlpaWjdbRklF
TERfUkVGXXtaWlo3LCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJDYXNlMjssIFMsIFpaWjcsIG51bGws
ICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0VYQUNUX0VY
UEVDVEVEX1RZUEUgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5BTCArIFJfVU5RVUFMSUZJRUQp
ICsgIn1cbiIgKw0KKwkJCSJaWlowMVtMT0NBTF9WQVJJQUJMRV9SRUZde1paWjAxLCBudWxsLCBJ
LCBaWlowMSwgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsgUl9JTlRFUkVTVElO
RyArIFJfRVhBQ1RfRVhQRUNURURfVFlQRSArIFJfQ0FTRSArIFJfTk9OX1JFU1RSSUNURUQgKyBS
X0ZJTkFMICsgUl9VTlFVQUxJRklFRCkgKyAifVxuIiArDQorCQkJIlpaWjFbRklFTERfUkVGXXta
WloxLCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJDYXNlMjssIEksIFpaWjEsIG51bGwsICIgKyAoUl9E
RUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0VYQUNUX0VYUEVDVEVEX1RZ
UEUgKyBSX0NBU0UgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5BTCArIFJfVU5RVUFMSUZJRUQp
ICsgIn0iLA0KKwkJCXJlcXVlc3Rvci5nZXRSZXN1bHRzKCkpOw0KK30NCisvL2h0dHBzOi8vYnVn
cy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNDMzNDINCitwdWJsaWMgdm9pZCB0
ZXN0QnVnMzQzMzQyYigpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb24gew0KKwl0aGlzLndvcmtp
bmdDb3BpZXMgPSBuZXcgSUNvbXBpbGF0aW9uVW5pdFsyXTsNCisJdGhpcy53b3JraW5nQ29waWVz
WzBdID0gZ2V0V29ya2luZ0NvcHkoDQorCQkiL0NvbXBsZXRpb24vc3JjL3Rlc3QvQ29tcGxldGlv
bkFmdGVyQ2FzZTIuamF2YSIsDQorCQkicGFja2FnZSB0ZXN0O1xuIiArDQorCQkicHVibGljIGNs
YXNzIENvbXBsZXRpb25BZnRlckNhc2UyIHtcbiIgKw0KKwkJIglwdWJsaWMgc3RhdGljIGZpbmFs
IGludCBaWloxID0gNTtcbiIgKw0KKwkJIglwdWJsaWMgc3RhdGljIGZpbmFsIGxvbmcgWlpaMiA9
IDU7XG4iICsNCisJCSIJcHVibGljIHN0YXRpYyBmaW5hbCBkb3VibGUgWlpaMyA9IDA7XG4iICsN
CisJCSIJcHVibGljIHN0YXRpYyBmaW5hbCBPYmplY3QgWlpaNCA9IG51bGw7XG4iICsNCisJCSIJ
cHVibGljIHN0YXRpYyBmaW5hbCBpbnRbXSBaWlo1ID0gbnVsbDtcbiIgKw0KKwkJIglwdWJsaWMg
c3RhdGljIGZpbmFsIE9iamVjdFtdIFpaWjYgPSBudWxsO1xuIiArDQorCQkiCXB1YmxpYyBzdGF0
aWMgZmluYWwgc2hvcnQgWlpaNyA9IDA7XG4iICsNCisJCSIJaW50IFpaWjgoKXtyZXR1cm4gMTt9
XG4iICsNCisJCSIJdm9pZCBmb28oaW50IGkpe1xuIiArDQorCQkiCQlmaW5hbCBpbnQgWlpaMDEg
PSAxO1xuIiArDQorCQkiCQlpbnQgWlpaMDIgPSAxO1xuIiArDQorCQkiCQlmaW5hbCBjaGFyIFpa
WjAzO1xuIiArDQorCQkiCQlmaW5hbCBTdHJpbmcgWlpaMDQ7XG4iICsNCisJCSIJCXN3aXRjaChp
KSB7XG4iICsNCisJCSIJCQljYXNlIENvbXBsZXRpb25BZnRlckNhc2UyLlpaXG4iICsNCisJCSIJ
CX1cbiIgKw0KKwkJIgl9XG4iICsNCisJCSJ9XG4iKTsNCisNCisJQ29tcGxldGlvblRlc3RzUmVx
dWVzdG9yMiByZXF1ZXN0b3IgPSBuZXcgQ29tcGxldGlvblRlc3RzUmVxdWVzdG9yMih0cnVlKTsN
CisJU3RyaW5nIHN0ciA9IHRoaXMud29ya2luZ0NvcGllc1swXS5nZXRTb3VyY2UoKTsNCisJU3Ry
aW5nIGNvbXBsZXRlQmVoaW5kID0gIkNvbXBsZXRpb25BZnRlckNhc2UyLlpaIjsNCisJaW50IGN1
cnNvckxvY2F0aW9uID0gc3RyLmxhc3RJbmRleE9mKGNvbXBsZXRlQmVoaW5kKSArIGNvbXBsZXRl
QmVoaW5kLmxlbmd0aCgpOw0KKwl0aGlzLndvcmtpbmdDb3BpZXNbMF0uY29kZUNvbXBsZXRlKGN1
cnNvckxvY2F0aW9uLCByZXF1ZXN0b3IsIHRoaXMud2NPd25lcik7DQorDQorCWFzc2VydFJlc3Vs
dHMoDQorCQkJIlpaWjJbRklFTERfUkVGXXtaWloyLCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJDYXNl
MjssIEosIFpaWjIsIG51bGwsICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJF
U1RJTkcgKyBSX0NBU0UgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5BTCArIFJfUVVBTElGSUVE
KSArICJ9XG4iICsNCisJCQkiWlpaM1tGSUVMRF9SRUZde1paWjMsIEx0ZXN0LkNvbXBsZXRpb25B
ZnRlckNhc2UyOywgRCwgWlpaMywgbnVsbCwgIiArIChSX0RFRkFVTFQgKyBSX1JFU09MVkVEICsg
Ul9JTlRFUkVTVElORyArIFJfQ0FTRSArIFJfTk9OX1JFU1RSSUNURUQgKyBSX0ZJTkFMICsgUl9R
VUFMSUZJRUQpICsgIn1cbiIgKw0KKwkJCSJaWlo3W0ZJRUxEX1JFRl17WlpaNywgTHRlc3QuQ29t
cGxldGlvbkFmdGVyQ2FzZTI7LCBTLCBaWlo3LCBudWxsLCAiICsgKFJfREVGQVVMVCArIFJfUkVT
T0xWRUQgKyBSX0lOVEVSRVNUSU5HICsgUl9FWEFDVF9FWFBFQ1RFRF9UWVBFICsgUl9OT05fUkVT
VFJJQ1RFRCArIFJfRklOQUwgKyBSX1FVQUxJRklFRCkgKyAifVxuIiArDQorCQkJIlpaWjFbRklF
TERfUkVGXXtaWloxLCBMdGVzdC5Db21wbGV0aW9uQWZ0ZXJDYXNlMjssIEksIFpaWjEsIG51bGws
ICIgKyAoUl9ERUZBVUxUICsgUl9SRVNPTFZFRCArIFJfSU5URVJFU1RJTkcgKyBSX0VYQUNUX0VY
UEVDVEVEX1RZUEUgKyBSX0NBU0UgKyBSX05PTl9SRVNUUklDVEVEICsgUl9GSU5BTCArIFJfUVVB
TElGSUVEKSArICJ9IiwNCisJCQlyZXF1ZXN0b3IuZ2V0UmVzdWx0cygpKTsNCit9DQogfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>193792</attachid>
            <date>2011-04-21 05:40:00 -0400</date>
            <delta_ts>2011-04-21 05:40:02 -0400</delta_ts>
            <desc>minor update</desc>
            <filename>patch343342_v2.txt</filename>
            <type>text/plain</type>
            <size>4414</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb2RlYXNzaXN0L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb2RlYXNzaXN0L0Nv
bXBsZXRpb25FbmdpbmUuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlw
c2Uvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29kZWFzc2lzdC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjQyOA0KZGlmZiAtdSAtcjEuNDI4IENvbXBsZXRpb25FbmdpbmUuamF2YQ0KLS0tIGNvZGVh
c3Npc3Qvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvZGVhc3Npc3QvQ29tcGxldGlvbkVuZ2lu
ZS5qYXZhCTIxIEFwciAyMDExIDA1OjQzOjEzIC0wMDAwCTEuNDI4DQorKysgY29kZWFzc2lzdC9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29kZWFzc2lzdC9Db21wbGV0aW9uRW5naW5lLmphdmEJ
MjEgQXByIDIwMTEgMDk6Mzc6MTEgLTAwMDANCkBAIC0yOTM1LDggKzI5MzUsNyBAQA0KIAkJCShD
b21wbGV0aW9uT25RdWFsaWZpZWROYW1lUmVmZXJlbmNlKSBhc3ROb2RlOw0KIAkJdGhpcy5jb21w
bGV0aW9uVG9rZW4gPSByZWYuY29tcGxldGlvbklkZW50aWZpZXI7DQogCQlsb25nIGNvbXBsZXRp
b25Qb3NpdGlvbiA9IHJlZi5zb3VyY2VQb3NpdGlvbnNbcmVmLnNvdXJjZVBvc2l0aW9ucy5sZW5n
dGggLSAxXTsNCi0JCXRoaXMuYXNzaXN0Tm9kZUlzSW5zaWRlQ2FzZSA9IGFzc2lzdE5vZGVJc0lu
c2lkZUNhc2UoYXN0Tm9kZSwgdGhpcy5wYXJzZXIuYXNzaXN0Tm9kZVBhcmVudCk7DQotDQorCQkN
CiAJCWlmIChxdWFsaWZpZWRCaW5kaW5nLnByb2JsZW1JZCgpID09IFByb2JsZW1SZWFzb25zLk5v
dEZvdW5kKSB7DQogCQkJc2V0U291cmNlQW5kVG9rZW5SYW5nZSgoaW50KSAoY29tcGxldGlvblBv
c2l0aW9uID4+PiAzMiksIChpbnQpIGNvbXBsZXRpb25Qb3NpdGlvbik7DQogCQkJLy8gY29tcGxl
dGUgZmllbGQgbWVtYmVycyB3aXRoIG1pc3NpbmcgZmllbGRzIHR5cGUNCkBAIC0zMDgwLDcgKzMw
NzksNiBAQA0KIAkJdGhpcy5hc3Npc3ROb2RlSXNTdXBlclR5cGUgPSByZWYuaXNTdXBlclR5cGUo
KTsNCiAJCXRoaXMuYXNzaXN0Tm9kZUlzRXh0ZW5kZWRUeXBlID0gYXNzaXN0Tm9kZUlzRXh0ZW5k
ZWRUeXBlKGFzdE5vZGUsIGFzdE5vZGVQYXJlbnQpOw0KIAkJdGhpcy5hc3Npc3ROb2RlSXNJbnRl
cmZhY2VFeGNsdWRpbmdBbm5vdGF0aW9uID0gYXNzaXN0Tm9kZUlzSW50ZXJmYWNlRXhjbHVkaW5n
QW5ub3RhdGlvbihhc3ROb2RlLCBhc3ROb2RlUGFyZW50KTsNCi0JCXRoaXMuYXNzaXN0Tm9kZUlz
SW5zaWRlQ2FzZSA9IGFzc2lzdE5vZGVJc0luc2lkZUNhc2UoYXN0Tm9kZSwgYXN0Tm9kZVBhcmVu
dCk7DQogCQkNCiAJCXRoaXMuY29tcGxldGlvblRva2VuID0gcmVmLmNvbXBsZXRpb25JZGVudGlm
aWVyOw0KIAkJbG9uZyBjb21wbGV0aW9uUG9zaXRpb24gPSByZWYuc291cmNlUG9zaXRpb25zW3Jl
Zi50b2tlbnMubGVuZ3RoXTsNCkBAIC0zMTQxLDcgKzMxMzksNiBAQA0KIAkJQ29tcGxldGlvbk9u
U2luZ2xlTmFtZVJlZmVyZW5jZSBzaW5nbGVOYW1lUmVmZXJlbmNlID0gKENvbXBsZXRpb25PblNp
bmdsZU5hbWVSZWZlcmVuY2UpIGFzdE5vZGU7DQogCQl0aGlzLmNvbXBsZXRpb25Ub2tlbiA9IHNp
bmdsZU5hbWVSZWZlcmVuY2UudG9rZW47DQogCQlTd2l0Y2hTdGF0ZW1lbnQgc3dpdGNoU3RhdGVt
ZW50ID0gYXN0Tm9kZVBhcmVudCBpbnN0YW5jZW9mIFN3aXRjaFN0YXRlbWVudCA/IChTd2l0Y2hT
dGF0ZW1lbnQpIGFzdE5vZGVQYXJlbnQgOiBudWxsOw0KLQkJdGhpcy5hc3Npc3ROb2RlSXNJbnNp
ZGVDYXNlID0gYXNzaXN0Tm9kZUlzSW5zaWRlQ2FzZShhc3ROb2RlLCBhc3ROb2RlUGFyZW50KTsN
CiAJCWlmIChzd2l0Y2hTdGF0ZW1lbnQgIT0gbnVsbA0KIAkJCQkmJiBzd2l0Y2hTdGF0ZW1lbnQu
ZXhwcmVzc2lvbi5yZXNvbHZlZFR5cGUgIT0gbnVsbA0KIAkJCQkmJiBzd2l0Y2hTdGF0ZW1lbnQu
ZXhwcmVzc2lvbi5yZXNvbHZlZFR5cGUuaXNFbnVtKCkpIHsNCkBAIC0zMjE3LDcgKzMyMTQsNiBA
QA0KIAkJdGhpcy5hc3Npc3ROb2RlSXNTdXBlclR5cGUgPSBzaW5nbGVSZWYuaXNTdXBlclR5cGUo
KTsNCiAJCXRoaXMuYXNzaXN0Tm9kZUlzRXh0ZW5kZWRUeXBlID0gYXNzaXN0Tm9kZUlzRXh0ZW5k
ZWRUeXBlKGFzdE5vZGUsIGFzdE5vZGVQYXJlbnQpOw0KIAkJdGhpcy5hc3Npc3ROb2RlSXNJbnRl
cmZhY2VFeGNsdWRpbmdBbm5vdGF0aW9uID0gYXNzaXN0Tm9kZUlzSW50ZXJmYWNlRXhjbHVkaW5n
QW5ub3RhdGlvbihhc3ROb2RlLCBhc3ROb2RlUGFyZW50KTsNCi0JCXRoaXMuYXNzaXN0Tm9kZUlz
SW5zaWRlQ2FzZSA9IGFzc2lzdE5vZGVJc0luc2lkZUNhc2UoYXN0Tm9kZSwgYXN0Tm9kZVBhcmVu
dCk7DQogCQkNCiAJCS8vIGNhbiBiZSB0aGUgc3RhcnQgb2YgYSBxdWFsaWZpZWQgdHlwZSBuYW1l
DQogCQlpZiAocXVhbGlmaWVkQmluZGluZyA9PSBudWxsKSB7DQpAQCAtMzY2NCw2ICszNjYwLDcg
QEANCiAJCQl9DQogCQl9IGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFN3aXRjaFN0YXRlbWVu
dCkgew0KIAkJCVN3aXRjaFN0YXRlbWVudCBzd2l0Y2hTdGF0ZW1lbnQgPSAoU3dpdGNoU3RhdGVt
ZW50KSBwYXJlbnQ7DQorCQkJdGhpcy5hc3Npc3ROb2RlSXNJbnNpZGVDYXNlID0gYXNzaXN0Tm9k
ZUlzSW5zaWRlQ2FzZShub2RlLCBwYXJlbnQpOw0KIAkJCWlmIChzd2l0Y2hTdGF0ZW1lbnQuZXhw
cmVzc2lvbiAhPSBudWxsICYmDQogCQkJCQlzd2l0Y2hTdGF0ZW1lbnQuZXhwcmVzc2lvbi5yZXNv
bHZlZFR5cGUgIT0gbnVsbCkgew0KIAkJCQlhZGRFeHBlY3RlZFR5cGUoc3dpdGNoU3RhdGVtZW50
LmV4cHJlc3Npb24ucmVzb2x2ZWRUeXBlLCBzY29wZSk7DQpAQCAtOTcyNyw2ICs5NzI0LDkgQEAN
CiAJCWlmIChzZWxlY3RvciA9PSBudWxsICYmIG5vdEluSmF2YWRvYykgew0KIAkJCXJldHVybjsN
CiAJCX0NCisJCQ0KKwkJaWYgKHRoaXMuYXNzaXN0Tm9kZUlzSW5zaWRlQ2FzZSkNCisJCQlyZXR1
cm47CQkvLyBubyBtZXRob2RzIHNob3VsZCBiZSBwcm9wb3NlZCBpbnNpZGUgY2FzZSBleHByZXNz
aW9uDQogDQogCQlSZWZlcmVuY2VCaW5kaW5nIGN1cnJlbnRUeXBlID0gcmVjZWl2ZXJUeXBlOw0K
IAkJaWYgKG5vdEluSmF2YWRvYykgew0KQEAgLTExNTU1LDcgKzExNTU1LDcgQEANCiAJCQkJCQkJ
CQktMSwNCiAJCQkJCQkJCQktMSk7DQogCQkJCQkJCX0NCi0JCQkJCQkJaWYocHJvcG9zZU1ldGhv
ZCAmJiAhaW5zaWRlQW5ub3RhdGlvbkF0dHJpYnV0ZSAmJiAhdGhpcy5hc3Npc3ROb2RlSXNJbnNp
ZGVDYXNlKSB7DQorCQkJCQkJCWlmKHByb3Bvc2VNZXRob2QgJiYgIWluc2lkZUFubm90YXRpb25B
dHRyaWJ1dGUpIHsNCiAJCQkJCQkJCWZpbmRNZXRob2RzKA0KIAkJCQkJCQkJCXRva2VuLA0KIAkJ
CQkJCQkJCW51bGwsDQojUCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbA0KSW5kZXg6
IHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL21vZGVsL0Nv
bXBsZXRpb25UZXN0cy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4yMzkNCmRpZmYgLXUg
LXIxLjIzOSBDb21wbGV0aW9uVGVzdHMuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29y
ZS90ZXN0cy9tb2RlbC9Db21wbGV0aW9uVGVzdHMuamF2YQkyMSBBcHIgMjAxMSAwNTo0MzoxMCAt
MDAwMAkxLjIzOQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9Db21w
bGV0aW9uVGVzdHMuamF2YQkyMSBBcHIgMjAxMSAwOTozNzoxMiAtMDAwMA0KQEAgLTIzMDI2LDYg
KzIzMDI2LDcgQEANCiAJCSIJcHVibGljIHN0YXRpYyBmaW5hbCBpbnRbXSBaWlo1ID0gbnVsbDtc
biIgKw0KIAkJIglwdWJsaWMgc3RhdGljIGZpbmFsIE9iamVjdFtdIFpaWjYgPSBudWxsO1xuIiAr
DQogCQkiCXB1YmxpYyBzdGF0aWMgZmluYWwgc2hvcnQgWlpaNyA9IDA7XG4iICsNCisJCSIJcHVi
bGljIHN0YXRpYyBpbnQgWlpaTWV0aG9kKCl7IHJldHVybiAxO31cbiIgKw0KIAkJIglpbnQgWlpa
OCgpe3JldHVybiAxO31cbiIgKw0KIAkJIgl2b2lkIGZvbyhpbnQgaSl7XG4iICsNCiAJCSIJCWZp
bmFsIGludCBaWlowMSA9IDE7XG4iICsNCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>