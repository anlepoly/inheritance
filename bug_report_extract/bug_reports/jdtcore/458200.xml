<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>458200</bug_id>
          
          <creation_ts>2015-01-22 18:24:00 -0500</creation_ts>
          <short_desc>[null] &quot;Annotate&quot; proposals for adding external null annotations to library classes</short_desc>
          <delta_ts>2015-03-12 16:15:15 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>UI</component>
          <version>4.5</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          <see_also>https://bugs.eclipse.org/bugs/show_bug.cgi?id=331651</see_also>
    
    <see_also>https://git.eclipse.org/r/43485</see_also>
    
    <see_also>https://git.eclipse.org/r/43741</see_also>
    
    <see_also>https://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=96d9894e53c72bba340545972dd1856206e43aad</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>4.5 M6</target_milestone>
          <dependson>458201</dependson>
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephan Herrmann">stephan.herrmann</reporter>
          <assigned_to name="Stephan Herrmann">stephan.herrmann</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>markus_keller</cc>
    
    <cc>max.gilead</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2509259</commentid>
    <comment_count>0</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-01-22 18:24:29 -0500</bug_when>
    <thetext>Sibling of bug 458186, but now we want to support adding annotations without any compile errors/warnings. 
Rationale: by pointing to the library method in an editor when adding annotations, we can completely hide the attached external annotations.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2511049</commentid>
    <comment_count>1</comment_count>
      <attachid>250286</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-01-27 18:52:52 -0500</bug_when>
    <thetext>Created attachment 250286
incomplete draft

Based on latest in bug 458201 (plus JDT/Core bug 458577), this patch succeeds to implement two quick assists on a class file editor, to add an external @Nullable or @NonNull annotation to the return type of a library method (select the return type and hit Ctrl-1 to invoke).

This basically works alright, however, after applying the quickfix, Java model cache seems to contain some stale element (the problematic ClassFileWorkingCopy from bug 458201 ?). I&apos;ll look into what needs to be done to clean this up on all paths.

Goal in this bug is to get have it consolidated within the M6 cycle, so we can provide all necessary API in JDT/Core before API freeze.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2511050</commentid>
    <comment_count>2</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-01-27 18:54:56 -0500</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #1)
&gt; This basically works alright, however, after applying the quickfix, Java

s/quickfix/quick assist/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2512017</commentid>
    <comment_count>3</comment_count>
      <attachid>250356</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-01-29 09:38:21 -0500</bug_when>
    <thetext>Created attachment 250356
minor update (v2)

- Adjust to a signature change in JDT/Core (sherrmann/ExternalAnnotations) made on behalf of bug 440474 comment 27 (simplification)

- Don&apos;t even start computing these assists if annotation based null analysis is disabled.


Based on latest in bug 458201 this actually works pretty nicely. I also have preparations in my workspace for adding annotations to any detail of a type (type argument, type bound, you name it).

I&apos;ll suspend this work until I know more about the background behind bug 458201 comment 3</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2512832</commentid>
    <comment_count>4</comment_count>
      <attachid>250414</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-01-31 18:40:47 -0500</bug_when>
    <thetext>Created attachment 250414
update (v3)

This version demonstrates how a quick assists can insert external null annotations for any TYPE_USE position - currently only within the return type of a method, support for method parameters can be easily added when we agree on the general approach. Also removing an existing annotation is supported.
Just we don&apos;t yet read the external annotations in advance, so quick assists are offered even if they&apos;re no-op.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2524179</commentid>
    <comment_count>5</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-02-26 07:01:55 -0500</bug_when>
    <thetext>Changing title to reflect the strategy change in the enabling bug 458201.

Note, that attachment 251130 from bug 458201 contains an updated version of the patch in this bug, too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2526328</commentid>
    <comment_count>6</comment_count>
      <attachid>251267</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-03 18:00:29 -0500</bug_when>
    <thetext>Created attachment 251267
update v(5)

This patch enhances the recent work from bug 458201.

At this point the payload, i.e., the actual Annotate proposals are much more complete:

- offered on return types and parameters (including their details)
- fixes issues with array types (mechanics plus display label)
- performs a dry-run of the annotation update and only offers real changes
  -&gt; at any location exactly 2 of the three proposals are offered
     (add @NonNull, add @Nullable, remove existing)
- renders the change using HTML, highlighting the exact difference:
  - addition in bold, removal with strike-through
- refuse to update files outside the workspace

Pending: automated tests.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2527145</commentid>
    <comment_count>7</comment_count>
      <attachid>251330</attachid>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-05 10:16:23 -0500</bug_when>
    <thetext>Created attachment 251330
update (v6)

Next version of a combined patch for this bug and bug 458201.

New: a first cut at automated tests for the new command.

Two things to call out:

(1) This fix includes a partial copy from org.eclipse.jdt.core.tests.util.Util from JDT/Core.

Rationale: I want to be able to create jars with source attachment on the fly during each test. This functionality is available in JDT/Core tests, but I assume that copying 700 LOC is less disruptive than pulling in a new dependency which would require all JDT/UI developers to always have the JDT/Core tests in their workspaces, too.

(2) API tools told me to update o.e.jdt.ui to 3.11.0.qualifier, due to a new constant in IJavaEditorActionDefinitionIds (version update is included in my patch).



Final remaining task: populate the new test class as to reach a decent test coverage.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2529148</commentid>
    <comment_count>8</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-03-09 18:19:12 -0400</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/43485

WARNING: this patchset contains 2491 new lines of code and may require a Contribution Questionnaire (CQ) if the author is not a committer on the project. Please see:https://wiki.eclipse.org/Project_Management_Infrastructure/Creating_A_Contribution_Questionnaire</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2529159</commentid>
    <comment_count>9</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-03-09 18:42:14 -0400</bug_when>
    <thetext>WARNING: this patchset contains 2492 new lines of code and may require a Contribution Questionnaire (CQ) if the author is not a committer on the project. Please see:https://wiki.eclipse.org/Project_Management_Infrastructure/Creating_A_Contribution_Questionnaire</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2529662</commentid>
    <comment_count>10</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-10 16:33:41 -0400</bug_when>
    <thetext>Most of the functionality for this bug has been released (for 4.5 M6) via http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=a84e33bf4d28ab3cbe043bca574f66a36d35ca24 (together with the ground work from bug 458201)

With this commit it is possible to annotate any type (detail) in a method signature. At this point I&apos;m holding back:

* Annotating field types - I have it implemented, but it needs API from JDT/Core that is not yet contained in any I-build.

* Annotating type parameters, super types - Not a priority currently.


I&apos;ll release the part for field types after the next I-Build (Sunday) and then close this bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2530168</commentid>
    <comment_count>11</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-03-11 15:50:16 -0400</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #10)
&gt; I&apos;ll release the part for field types after the next I-Build (Sunday) and
&gt; then close this bug.

If the changes in JDT Core are ready, then you don&apos;t have to wait with releasing the UI changes. All JDT UI committers have JDT Core in source anyway. It would just be nice to wait for a nightly build, so that Gerrit builds don&apos;t break.
Other than that, I prefer early commits over last-minute changes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2530708</commentid>
    <comment_count>12</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-03-12 13:48:19 -0400</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/43741</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2530771</commentid>
    <comment_count>13</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-03-12 16:11:51 -0400</bug_when>
    <thetext>Gerrit change https://git.eclipse.org/r/43741 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.ui.git/commit/?id=96d9894e53c72bba340545972dd1856206e43aad</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2530777</commentid>
    <comment_count>14</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-12 16:15:15 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #11)
&gt; (In reply to Stephan Herrmann from comment #10)
&gt; &gt; I&apos;ll release the part for field types after the next I-Build (Sunday) and
&gt; &gt; then close this bug.
&gt; 
&gt; If the changes in JDT Core are ready, then you don&apos;t have to wait with
&gt; releasing the UI changes. All JDT UI committers have JDT Core in source
&gt; anyway. It would just be nice to wait for a nightly build, so that Gerrit
&gt; builds don&apos;t break.

Thanks, that&apos;s good to know. 

Anyway, the relevant changes in Core are available even in the extra I-build I20150311-1300 :)

I&apos;ll keep testing and improving the underlying mechanics in JDT/Core, but from UI p.o.v. this feature is now complete, and even approved by Hudson :)</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>250286</attachid>
            <date>2015-01-27 18:52:00 -0500</date>
            <delta_ts>2015-01-29 09:38:21 -0500</delta_ts>
            <desc>incomplete draft</desc>
            <filename>Bug-458200--nullquick-assist-Quick-assists-for-addin.patch</filename>
            <type>text/plain</type>
            <size>21016</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9FeHRlcm5hbE51bGxBbm5vYXRhdGlvbnNSZXdyaXRl
T3BlcmF0aW9ucy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zLmphdmEKaW5kZXggOTkzNjI5MS4uNDQ2OWMwYyAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVy
YXRpb25zLmphdmEKQEAgLTEwOCwxMCArMTA4LDExIEBACiAJfQogCiAJc3RhdGljIGNsYXNzIFJl
dHVybkFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGV4dGVuZHMgU2lnbmF0dXJlQW5ub3RhdGlv
blJld3JpdGVPcGVyYXRpb24geworCQlwcm90ZWN0ZWQgY2hhciBmQW5ub3RhdGlvbjsKKwogCQlA
T3ZlcnJpZGUKIAkJcHJvdGVjdGVkIFN0cmluZyBnZXRBbm5vdGF0ZWRTaWduYXR1cmUoKSB7Ci0J
CQkvLyBub3RlOiB3ZSBvbmx5IGdldCBpbnZva2VkIGlmIG9uIG92ZXJyaWRlIHJldHVybnMgQE51
bGxhYmxlLCB3aGljaCB0aGUgc3VwZXIgZG9lc24ndCBhbGxvdy4KLQkJCXJldHVybiBpbnNlcnRS
ZXR1cm5Bbm5vdGF0aW9uKGZTaWduYXR1cmUsIE5VTExBQkxFLCBNZXJnZVN0cmF0ZWd5Lk9WRVJX
UklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXR1cm4gaW5zZXJ0UmV0dXJuQW5ub3RhdGlvbihmU2ln
bmF0dXJlLCBmQW5ub3RhdGlvbiwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMp
OyAvLyBkb24ndCBib3RoZXIgbWVyZ2luZwogCQl9CiAJfQogCQpAQCAtMTIxLDcgKzEyMiw3IEBA
CiAJCUBPdmVycmlkZQogCQlwcm90ZWN0ZWQgU3RyaW5nIGdldEFubm90YXRlZFNpZ25hdHVyZSgp
IHsKIAkJCS8vIG5vdGU6IHdlIG9ubHkgZ2V0IGludm9rZWQgaWYgb24gb3ZlcnJpZGUgZXhwZWN0
cyBATm9uTnVsbCwgd2hpY2ggdGhlIHN1cGVyIGRvZXNuJ3QgZW5zdXJlLgotCQkJcmV0dXJuIGlu
c2VydFBhcmFtZXRlckFubm90YXRpb24oZlNpZ25hdHVyZSwgZlBhcmFtSWR4LCBOT05OVUxMLCBN
ZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXR1cm4gaW5zZXJ0UGFy
YW1ldGVyQW5ub3RhdGlvbihmU2lnbmF0dXJlLCBmUGFyYW1JZHgsIE5PTk5VTEwsIE1lcmdlU3Ry
YXRlZ3kuT1ZFUldSSVRFX0FOTk9UQVRJT05TKTsgLy8gZG9uJ3QgYm90aGVyIG1lcmdpbmcKIAkJ
fQogCX0KIApAQCAtMTU3LDYgKzE1OCwxOCBAQAogCXB1YmxpYyBzdGF0aWMgSVNpZ25hdHVyZUFu
bm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGNyZWF0ZUNoYW5nZU92ZXJyaWRkZW5SZXR1cm4oSUNv
bXBpbGF0aW9uVW5pdCBjdSwgSU1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZywKIAkJCWJvb2xl
YW4gYWxsb3dSZW1vdmUsIFN0cmluZyBhbm5vdGF0aW9uTmFtZUxhYmVsKQogCXsKKwkJLy8gbm90
ZTogd2Ugb25seSBnZXQgaW52b2tlZCBpZiBvbiBvdmVycmlkZSByZXR1cm5zIEBOdWxsYWJsZSwg
d2hpY2ggdGhlIHN1cGVyIGRvZXNuJ3QgYWxsb3cuCisJCWNoYXIgYW5ub3RhdGlvbj0gTlVMTEFC
TEU7CisJCU1lcmdlU3RyYXRlZ3kgbWVyZ2VTdHJhdGVneT0gYWxsb3dSZW1vdmUgPyBNZXJnZVN0
cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyA6IE1lcmdlU3RyYXRlZ3kuQUREX0FOTk9UQVRJ
T05TOworCisJCVN0cmluZyBtZXNzYWdlPSBNZXNzYWdlcy5mb3JtYXQoRml4TWVzc2FnZXMuTnVs
bEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcmV0dXJuX251
bGxuZXNzX2V4dGVybmFsLAorCQkJCQkJCQkJCQluZXcgU3RyaW5nW10geyBtZXRob2RCaW5kaW5n
LmdldE5hbWUoKSwgYW5ub3RhdGlvbk5hbWVMYWJlbCB9KTsKKwkJcmV0dXJuIGNyZWF0ZUNoYW5n
ZVJldHVybihjdSwgbWV0aG9kQmluZGluZywgYW5ub3RhdGlvbiwgbWVzc2FnZSwgbWVyZ2VTdHJh
dGVneSk7CisJfQorCisJcHVibGljIHN0YXRpYyBJU2lnbmF0dXJlQW5ub3RhdGlvblJld3JpdGVP
cGVyYXRpb24gY3JlYXRlQ2hhbmdlUmV0dXJuKElDb21waWxhdGlvblVuaXQgY3UsIElNZXRob2RC
aW5kaW5nIG1ldGhvZEJpbmRpbmcsCisJCQljaGFyIGFubm90YXRpb24sIFN0cmluZyBtZXNzYWdl
LCBNZXJnZVN0cmF0ZWd5IG1lcmdlU3RyYXRlZ3kpCisJewogCQlJSmF2YVByb2plY3QgcHJvamVj
dD0gKElKYXZhUHJvamVjdCkgY3UuZ2V0QW5jZXN0b3IoSUphdmFFbGVtZW50LkpBVkFfUFJPSkVD
VCk7CiAJCUlGaWxlIGZpbGU9IG51bGw7CiAJCXRyeSB7CkBAIC0xNzMsOSArMTg2LDkgQEAKIAkJ
CUphdmFQbHVnaW4ubG9nKGUpOwogCQkJcmV0dXJuIG51bGw7CiAJCX0KLQkJaWYgKCFhbGxvd1Jl
bW92ZSkKLQkJCW9wZXJhdGlvbi5mTWVyZ2VTdHJhdGVneT0gTWVyZ2VTdHJhdGVneS5BRERfQU5O
T1RBVElPTlM7Ci0JCW9wZXJhdGlvbi5mTWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3Nh
Z2VzLk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3Jl
dHVybl9udWxsbmVzc19leHRlcm5hbCwgbmV3IFN0cmluZ1tdIHsgbWV0aG9kQmluZGluZy5nZXRO
YW1lKCksIGFubm90YXRpb25OYW1lTGFiZWwgfSk7CisJCW9wZXJhdGlvbi5mTWVyZ2VTdHJhdGVn
eT0gbWVyZ2VTdHJhdGVneTsKKwkJb3BlcmF0aW9uLmZBbm5vdGF0aW9uPSBhbm5vdGF0aW9uOwor
CQlvcGVyYXRpb24uZk1lc3NhZ2U9IG1lc3NhZ2U7CiAJCW9wZXJhdGlvbi5mS2V5PSBtZXRob2RC
aW5kaW5nLmdldEtleSgpICsgIjxyZXR1cm4+IjsgLy8kTk9OLU5MUy0xJAogCQlvcGVyYXRpb24u
ZkFubm90YXRpb25GaWxlPSBmaWxlOwogCQlvcGVyYXRpb24uZlNlbGVjdG9yPSBtZXRob2RCaW5k
aW5nLmdldE5hbWUoKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVu
c2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmphdmEKaW5kZXggZDJjZTYzNS4uODhmOGVmNiAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQv
Zml4L0ZpeE1lc3NhZ2VzLmphdmEKQEAgLTEyNiw2ICsxMjYsNyBAQAogCXB1YmxpYyBzdGF0aWMg
U3RyaW5nIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9tZXRob2RfcGFy
YW1ldGVyX251bGxuZXNzOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIE51bGxBbm5vdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zX2NoYW5nZV90YXJnZXRfbWV0aG9kX3BhcmFtZXRlcl9udWxsbmVzczsK
IAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19j
aGFuZ2VfbWV0aG9kX3JldHVybl9udWxsbmVzczsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxs
QW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfbWV0aG9kX3JldHVybl9udWxsbmVz
c19leHRlcm5hbDsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRl
T3BlcmF0aW9uc19jaGFuZ2Vfb3ZlcnJpZGRlbl9wYXJhbWV0ZXJfbnVsbG5lc3M7CiAJcHVibGlj
IHN0YXRpYyBTdHJpbmcgTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292
ZXJyaWRkZW5fcGFyYW1ldGVyX251bGxuZXNzX2V4dGVybmFsOwogCXB1YmxpYyBzdGF0aWMgU3Ry
aW5nIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3Jl
dHVybl9udWxsbmVzczsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVu
c2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5wcm9w
ZXJ0aWVzIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKaW5kZXggNWE0ZDA0
My4uNDk1MTQxMSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9u
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRp
ZXMKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKQEAgLTExMiw2ICsx
MTIsNyBAQAogTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9w
YXJhbWV0ZXJfbnVsbG5lc3M9Q2hhbmdlIHBhcmFtZXRlciAnJ3swfScnIHRvICcnQHsxfScnCiBO
dWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfdGFyZ2V0X21ldGhvZF9wYXJh
bWV0ZXJfbnVsbG5lc3M9Q2hhbmdlIHBhcmFtZXRlciBvZiAnJ3swfSguLiknJyB0byAnJ0B7MX0n
JwogTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9yZXR1cm5f
bnVsbG5lc3M9Q2hhbmdlIHJldHVybiB0eXBlIG9mICcnezB9KC4uKScnIHRvICcnQHsxfScnCitO
dWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfbWV0aG9kX3JldHVybl9udWxs
bmVzc19leHRlcm5hbD1DaGFuZ2UgcmV0dXJuIHR5cGUgb2YgJyd7MH0oLi4pJycgdG8gJydAezF9
Jydcbih1c2luZyBleHRlcm5hbCBhbm5vdGF0aW9uKQogTnVsbEFubm90YXRpb25zUmV3cml0ZU9w
ZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcGFyYW1ldGVyX251bGxuZXNzPUNoYW5nZSBwYXJh
bWV0ZXIgaW4gb3ZlcnJpZGRlbiAnJ3swfSguLiknJyB0byAnJ0B7MX0nJwogTnVsbEFubm90YXRp
b25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcGFyYW1ldGVyX251bGxuZXNz
X2V4dGVybmFsPUNoYW5nZSBwYXJhbWV0ZXIgaW4gb3ZlcnJpZGRlbiAnJ3swfSguLiknJyB0byAn
J0B7MX0nJ1xuKHVzaW5nIGV4dGVybmFsIGFubm90YXRpb24pCiBOdWxsQW5ub3RhdGlvbnNSZXdy
aXRlT3BlcmF0aW9uc19jaGFuZ2Vfb3ZlcnJpZGRlbl9yZXR1cm5fbnVsbG5lc3M9Q2hhbmdlIHJl
dHVybiB0eXBlIG9mIG92ZXJyaWRkZW4gJyd7MH0oLi4pJycgdG8gJydAezF9JycKZGlmZiAtLWdp
dCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZXh0L2ZpeC9Ob25DVVJld3JpdGVGaXguamF2YSBiL29yZy5lY2xpcHNlLmpkdC51
aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9Ob25D
VVJld3JpdGVGaXguamF2YQppbmRleCAxYmY4ODhjLi41YjEzY2MwIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmV4dC9maXgvTm9uQ1VSZXdyaXRlRml4LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2Nv
cmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L05vbkNVUmV3
cml0ZUZpeC5qYXZhCkBAIC02MSw2ICs2MSw4IEBACiAJCWZvciAoTm9uQ1VSZXdyaXRlRml4Lk5v
bkNVUmV3cml0ZU9wZXJhdGlvbiBvcCA6IGZPcGVyYXRpb25zKSB7CiAJCQlvcC5wZXJmb3JtKCk7
CiAJCX0KKwkJaWYgKGZDVS5nZXRSZXNvdXJjZSgpID09IG51bGwpCisJCQlyZXR1cm4gbnVsbDsK
IAkJcmV0dXJuIG5ldyBDb21waWxhdGlvblVuaXRDaGFuZ2UoIm5vLW9wIiwgZkNVKTsgLy8kTk9O
LU5MUy0xJCBGSVhNRTogY2hlY2sgaWYgbm8tb3AgQ29tcGlsYXRpb25Vbml0Q2hhbmdlIGlzIE9L
CiAJfQogCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0ZU9w
ZXJhdGlvbnMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9OdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0
aW9ucy5qYXZhCmluZGV4IGE3ODVmMmMuLmNlMmFlZGQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNl
LmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2Zp
eC9OdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9ucy5qYXZhCisrKyBiL29yZy5lY2xpcHNl
LmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2Zp
eC9OdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9ucy5qYXZhCkBAIC02Niw3ICs2Niw3IEBA
CiAJCVRBUkdFVAkJLy8gY2hhbmdlIHRoZSB0YXJnZXQgbWV0aG9kIG9mIGEgbWV0aG9kIGNhbGwK
IAl9CiAKLQlpbnRlcmZhY2UgSVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGV4
dGVuZHMgSVJld3JpdGVPcGVyYXRpb24geworCXB1YmxpYyBpbnRlcmZhY2UgSVNpZ25hdHVyZUFu
bm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGV4dGVuZHMgSVJld3JpdGVPcGVyYXRpb24gewogCiAJ
CVN0cmluZyBnZXRNZXNzYWdlKCk7CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS91
aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL051bGxBbm5vdGF0
aW9uc0NvcnJlY3Rpb25Qcm9jZXNzb3IuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL051bGxBbm5vdGF0aW9uc0Nv
cnJlY3Rpb25Qcm9jZXNzb3IuamF2YQppbmRleCA0Y2Y3YzY1Li5hNDY1NGU2IDEwMDY0NAotLS0g
YS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQv
Y29ycmVjdGlvbi9OdWxsQW5ub3RhdGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29yLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2Nv
cnJlY3Rpb24vTnVsbEFubm90YXRpb25zQ29ycmVjdGlvblByb2Nlc3Nvci5qYXZhCkBAIC0xMSwx
MSArMTEsMTkgQEAKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBz
ZS5qZHQuaW50ZXJuYWwudWkudGV4dC5jb3JyZWN0aW9uOwogCitpbXBvcnQgamF2YS51dGlsLkFy
cmF5TGlzdDsKIGltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbjsKIGltcG9ydCBqYXZhLnV0aWwu
SGFzaHRhYmxlOwogaW1wb3J0IGphdmEudXRpbC5NYXA7CiAKIGltcG9ydCBvcmcuZWNsaXBzZS5z
d3QuZ3JhcGhpY3MuSW1hZ2U7CitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmdyYXBoaWNzLlBvaW50
OworCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLkNvcmVFeGNlcHRpb247CitpbXBv
cnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLk51bGxQcm9ncmVzc01vbml0b3I7CisKK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LklEb2N1bWVudDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZmFjZS50ZXh0LmNvbnRlbnRhc3Npc3QuSUNvbnRleHRJbmZvcm1hdGlvbjsKIAogaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLklDb21waWxhdGlvblVuaXQ7CiBpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LmNvcmUuY29tcGlsZXIuSVByb2JsZW07CkBAIC0yMywyOCArMzEsMzkgQEAKIGltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQ29tcGlsYXRpb25Vbml0OwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5jb3JlLmRvbS5GaWVsZEFjY2VzczsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29y
ZS5kb20uSUJpbmRpbmc7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLklNZXRob2RC
aW5kaW5nOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5JVmFyaWFibGVCaW5kaW5n
OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5Jbml0aWFsaXplcjsKIGltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS5kb20uTWV0aG9kRGVjbGFyYXRpb247CiBpbXBvcnQgb3JnLmVj
bGlwc2UuamR0LmNvcmUuZG9tLlF1YWxpZmllZE5hbWU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUuZG9tLlNpbXBsZU5hbWU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlN0
cnVjdHVyYWxQcm9wZXJ0eURlc2NyaXB0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
ZG9tLlR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90
YXRpb25VdGlsOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxBbm5v
dGF0aW9uVXRpbC5NZXJnZVN0cmF0ZWd5OwogCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVy
bmFsLmNvcmV4dC5kb20uQVNUTm9kZXM7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvcmV4dC5maXguRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlvbnM7Citp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguRml4TWVzc2FnZXM7CiBp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguSVByb3Bvc2FibGVGaXg7
CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguTnVsbEFubm90YXRp
b25zRml4OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQuZml4Lk51bGxB
bm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLkNoYW5nZUtpbmQ7CitpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmludGVybmFsLmNvcmV4dC5maXguTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlv
bnMuSVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uOworaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5pbnRlcm5hbC5jb3JleHQudXRpbC5NZXNzYWdlczsKIAogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC51aS50ZXh0LmphdmEuSUludm9jYXRpb25Db250ZXh0OworaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC51aS50ZXh0LmphdmEuSUphdmFDb21wbGV0aW9uUHJvcG9zYWw7CiBpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LnVpLnRleHQuamF2YS5JUHJvYmxlbUxvY2F0aW9uOwogaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC51aS50ZXh0LmphdmEuY29ycmVjdGlvbi5JQ29tbWFuZEFjY2VzczsKIAoraW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2luOwogaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2luSW1hZ2VzOwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5pbnRlcm5hbC51aS5maXguTnVsbEFubm90YXRpb25zQ2xlYW5VcDsKIGltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkudGV4dC5jb3JyZWN0aW9uLnByb3Bvc2Fscy5FeHRy
YWN0VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWw7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0Lmlu
dGVybmFsLnVpLnRleHQuY29ycmVjdGlvbi5wcm9wb3NhbHMuRml4Q29ycmVjdGlvblByb3Bvc2Fs
OwogCiAvKioKLSAqIFF1aWNrIEZpeGVzIGZvciBudWxsLWFubm90YXRpb24gcmVsYXRlZCBwcm9i
bGVtcy4KKyAqIFF1aWNrIEZpeGVzIGFuZCBRdWljayBBc3Npc3RzIGZvciBudWxsLWFubm90YXRp
b24gcmVsYXRlZCBwcm9ibGVtcy4KICAqLwogcHVibGljIGNsYXNzIE51bGxBbm5vdGF0aW9uc0Nv
cnJlY3Rpb25Qcm9jZXNzb3IgewogCkBAIC0xNTksNCArMTc4LDgwIEBACiAJCX0KIAkJcmV0dXJu
IG51bGw7CiAJfQorCisJLyogUXVpY2sgYXNzaXN0IG9uIGNsYXNzIGZpbGUuICovCisJc3RhdGlj
IHZvaWQgZ2V0RXh0ZXJuYWxBbm5vdGF0aW9uc1Byb3Bvc2FscyhJSW52b2NhdGlvbkNvbnRleHQg
Y29udGV4dCwgQVNUTm9kZSBjb3ZlcmluZ05vZGUsIEFycmF5TGlzdDxJQ29tbWFuZEFjY2Vzcz4g
cmVzdWx0aW5nQ29sbGVjdGlvbnMpIHsKKwkJVHlwZSB0eXBlPSAoVHlwZSkgQVNUTm9kZXMuZ2V0
UGFyZW50KGNvdmVyaW5nTm9kZSwgVHlwZS5jbGFzcyk7CisJCWlmICh0eXBlID09IG51bGwpCisJ
CQlyZXR1cm47CisJCXdoaWxlKHR5cGUuZ2V0UGFyZW50KCkgaW5zdGFuY2VvZiBUeXBlKQorCQkJ
dHlwZSA9IChUeXBlKSB0eXBlLmdldFBhcmVudCgpOworCQlNZXRob2REZWNsYXJhdGlvbiBtZXRo
b2Q9IChNZXRob2REZWNsYXJhdGlvbikgQVNUTm9kZXMuZ2V0UGFyZW50KGNvdmVyaW5nTm9kZSwg
TWV0aG9kRGVjbGFyYXRpb24uY2xhc3MpOworCQlTdHJ1Y3R1cmFsUHJvcGVydHlEZXNjcmlwdG9y
IGxvY2F0aW9uSW5QYXJlbnQ9IHR5cGUuZ2V0TG9jYXRpb25JblBhcmVudCgpOworCQlJQ29tcGls
YXRpb25Vbml0IGN1PSBjb250ZXh0LmdldENvbXBpbGF0aW9uVW5pdCgpOworCQlpZiAobG9jYXRp
b25JblBhcmVudCA9PSBNZXRob2REZWNsYXJhdGlvbi5SRVRVUk5fVFlQRTJfUFJPUEVSVFkgJiYg
bWV0aG9kICE9IG51bGwpIHsKKwkJCUlNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRpbmc9IG1ldGhv
ZC5yZXNvbHZlQmluZGluZygpOworCQkJSVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0
aW9uIG9wZXJhdGlvbjsKKwkJCVN0cmluZyBtZXNzYWdlOworCQkJbWVzc2FnZT0gTWVzc2FnZXMu
Zm9ybWF0KEZpeE1lc3NhZ2VzLk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5n
ZV9tZXRob2RfcmV0dXJuX251bGxuZXNzX2V4dGVybmFsLAorCQkJCQkJbmV3IFN0cmluZ1tdIHsg
bWV0aG9kQmluZGluZy5nZXROYW1lKCksIE51bGxBbm5vdGF0aW9uc0ZpeC5nZXROb25OdWxsQW5u
b3RhdGlvbk5hbWUoY3UsIHRydWUpIH0pOworCQkJb3BlcmF0aW9uPSBFeHRlcm5hbE51bGxBbm5v
YXRhdGlvbnNSZXdyaXRlT3BlcmF0aW9ucy5jcmVhdGVDaGFuZ2VSZXR1cm4oY3UsIG1ldGhvZEJp
bmRpbmcsCisJCQkJCQkJCQlFeHRlcm5hbEFubm90YXRpb25VdGlsLk5PTk5VTEwsIG1lc3NhZ2Us
CisJCQkJCQkJCQlNZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXN1
bHRpbmdDb2xsZWN0aW9ucy5hZGQobmV3IEFkZEV4dGVybmFsQW5ub3RhdGlvblByb3Bvc2FsKG9w
ZXJhdGlvbikpOworCQkJbWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2VzLk51bGxB
bm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9tZXRob2RfcmV0dXJuX251bGxuZXNz
X2V4dGVybmFsLAorCQkJCQkJbmV3IFN0cmluZ1tdIHsgbWV0aG9kQmluZGluZy5nZXROYW1lKCks
IE51bGxBbm5vdGF0aW9uc0ZpeC5nZXROdWxsYWJsZUFubm90YXRpb25OYW1lKGN1LCB0cnVlKSB9
KTsKKwkJCW9wZXJhdGlvbj0gRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlv
bnMuY3JlYXRlQ2hhbmdlUmV0dXJuKGN1LCBtZXRob2RCaW5kaW5nLAorCQkJCQkJCQkJRXh0ZXJu
YWxBbm5vdGF0aW9uVXRpbC5OVUxMQUJMRSwgbWVzc2FnZSwKKwkJCQkJCQkJCU1lcmdlU3RyYXRl
Z3kuT1ZFUldSSVRFX0FOTk9UQVRJT05TKTsKKwkJCXJlc3VsdGluZ0NvbGxlY3Rpb25zLmFkZChu
ZXcgQWRkRXh0ZXJuYWxBbm5vdGF0aW9uUHJvcG9zYWwob3BlcmF0aW9uKSk7CisJCX0KKwl9CisK
Kwlwcml2YXRlIHN0YXRpYyBmaW5hbCBjbGFzcyBBZGRFeHRlcm5hbEFubm90YXRpb25Qcm9wb3Nh
bCBpbXBsZW1lbnRzIElKYXZhQ29tcGxldGlvblByb3Bvc2FsLCBJQ29tbWFuZEFjY2VzcyB7CisJ
CQorCQlJU2lnbmF0dXJlQW5ub3RhdGlvblJld3JpdGVPcGVyYXRpb24gZk9wZXJhdGlvbjsKKwor
CQlwdWJsaWMgQWRkRXh0ZXJuYWxBbm5vdGF0aW9uUHJvcG9zYWwoSVNpZ25hdHVyZUFubm90YXRp
b25SZXdyaXRlT3BlcmF0aW9uIG9wZXJhdGlvbikgeworCQkJZk9wZXJhdGlvbj0gb3BlcmF0aW9u
OworCQl9CisKKwkJcHVibGljIFBvaW50IGdldFNlbGVjdGlvbihJRG9jdW1lbnQgZG9jdW1lbnQp
IHsKKwkJCXJldHVybiBudWxsOworCQl9CisKKwkJcHVibGljIEltYWdlIGdldEltYWdlKCkgewor
CQkJcmV0dXJuIEphdmFQbHVnaW5JbWFnZXMuZ2V0KEphdmFQbHVnaW5JbWFnZXMuSU1HX09CSlNf
QU5OT1RBVElPTik7CisJCX0KKworCQlwdWJsaWMgU3RyaW5nIGdldERpc3BsYXlTdHJpbmcoKSB7
CisJCQlyZXR1cm4gZk9wZXJhdGlvbi5nZXRNZXNzYWdlKCk7CisJCX0KKworCQlwdWJsaWMgSUNv
bnRleHRJbmZvcm1hdGlvbiBnZXRDb250ZXh0SW5mb3JtYXRpb24oKSB7CisJCQlyZXR1cm4gbnVs
bDsKKwkJfQorCisJCXB1YmxpYyBTdHJpbmcgZ2V0QWRkaXRpb25hbFByb3Bvc2FsSW5mbygpIHsK
KwkJCXJldHVybiBmT3BlcmF0aW9uLmdldEFkZGl0aW9uYWxJbmZvKCk7CisJCX0KKworCQlwdWJs
aWMgdm9pZCBhcHBseShJRG9jdW1lbnQgZG9jdW1lbnQpIHsKKwkJCUlQcm9wb3NhYmxlRml4IGZp
eD0gZk9wZXJhdGlvbi5jcmVhdGVGaXgoKTsKKwkJCXRyeSB7CisJCQkJZml4LmNyZWF0ZUNoYW5n
ZShuZXcgTnVsbFByb2dyZXNzTW9uaXRvcigpKTsKKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24g
ZSkgeworCQkJCUphdmFQbHVnaW4ubG9nKGUpOworCQkJfQorCQl9CisKKwkJcHVibGljIGludCBn
ZXRSZWxldmFuY2UoKSB7CisJCQlyZXR1cm4gSVByb3Bvc2FsUmVsZXZhbmNlLkNIQU5HRV9NRVRI
T0Q7IC8vIFRPRE8KKwkJfQorCisJCXB1YmxpYyBTdHJpbmcgZ2V0Q29tbWFuZElkKCkgeworCQkJ
Ly8gVE9ETyBBdXRvLWdlbmVyYXRlZCBtZXRob2Qgc3R1YgorCQkJcmV0dXJuIG51bGw7CisJCX0K
Kwl9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhIGIv
b3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2Nv
cnJlY3Rpb24vUXVpY2tBc3Npc3RQcm9jZXNzb3IuamF2YQppbmRleCBjYmY1YmVkLi5iNGVlNDcw
IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3RleHQvY29ycmVjdGlvbi9RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3Jy
ZWN0aW9uL1F1aWNrQXNzaXN0UHJvY2Vzc29yLmphdmEKQEAgLTI2MSw0OSArMjYxLDU2IEBACiAJ
CQlBcnJheUxpc3Q8QVNUTm9kZT4gY292ZXJlZE5vZGVzPSBBZHZhbmNlZFF1aWNrQXNzaXN0UHJv
Y2Vzc29yLmdldEZ1bGx5Q292ZXJlZE5vZGVzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSk7CiAJCQlB
cnJheUxpc3Q8SUNvbW1hbmRBY2Nlc3M+IHJlc3VsdGluZ0NvbGxlY3Rpb25zPSBuZXcgQXJyYXlM
aXN0PElDb21tYW5kQWNjZXNzPigpOwogCQkJYm9vbGVhbiBub0Vycm9yc0F0TG9jYXRpb249IG5v
RXJyb3JzQXRMb2NhdGlvbihsb2NhdGlvbnMpOworCQkJCisJCQlpZiAoY29udGV4dC5nZXRDb21w
aWxhdGlvblVuaXQoKS5nZXRSZXNvdXJjZSgpID09IG51bGwpIHsKIAotCQkJLy8gcXVpY2sgYXNz
aXN0cyB0aGF0IHNob3cgdXAgYWxzbyBpZiB0aGVyZSBpcyBhbiBlcnJvci93YXJuaW5nCi0JCQln
ZXRSZW5hbWVMb2NhbFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywg
cmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0UmVuYW1lUmVmYWN0b3JpbmdQcm9wb3NhbChj
b250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwot
CQkJZ2V0QXNzaWduVG9WYXJpYWJsZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxv
Y2F0aW9ucywgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0QXNzaWduUGFyYW1Ub0ZpZWxk
UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwot
CQkJZ2V0SW5mZXJEaWFtb25kQXJndW1lbnRzUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2Rl
LCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCWdldEdlbmVyYXRlRm9yTG9v
cFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0aW5nQ29s
bGVjdGlvbnMpOwotCi0JCQlpZiAobm9FcnJvcnNBdExvY2F0aW9uKSB7Ci0JCQkJYm9vbGVhbiBw
cm9ibGVtc0F0TG9jYXRpb249IGxvY2F0aW9ucy5sZW5ndGggIT0gMDsKLQkJCQlnZXRDYXRjaENs
YXVzZVRvVGhyb3dzUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29s
bGVjdGlvbnMpOwotCQkJCWdldFBpY2tvdXRUeXBlRnJvbU11bHRpY2F0Y2hQcm9wb3NhbHMoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCBjb3ZlcmVkTm9kZXMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
LQkJCQlnZXRDb252ZXJ0VG9NdWx0aUNhdGNoUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9k
ZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldFVucm9sbE11bHRpQ2F0Y2hQcm9wb3Nh
bHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0
VW5XcmFwUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlv
bnMpOwotCQkJCWdldEpvaW5WYXJpYWJsZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRTcGxpdFZhcmlhYmxlUHJvcG9zYWxzKGNv
bnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldEFkZEZp
bmFsbHlQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7Ci0JCQkJZ2V0QWRkRWxzZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRBZGRCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3Zl
cmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRJbnZlcnRFcXVhbHNQcm9w
b3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQln
ZXRBcnJheUluaXRpYWxpemVyVG9BcnJheUNyZWF0aW9uKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwg
cmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENyZWF0ZUluU3VwZXJDbGFzc1Byb3Bvc2Fs
cyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRF
eHRyYWN0VmFyaWFibGVQcm9wb3NhbChjb250ZXh0LCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRFeHRyYWN0TWV0aG9kUHJvcG9zYWwoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
LQkJCQlnZXRJbmxpbmVMb2NhbFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0
aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRMb2NhbFRvRmllbGRQcm9wb3NhbChjb250
ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0
QW5vbnltb3VzVG9OZXN0ZWRQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGlu
Z0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0QW5vbnltb3VzQ2xhc3NDcmVhdGlvbnNUb0xh
bWJkYVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KTsKLQkJCQlnZXRDb252ZXJ0TGFtYmRhVG9Bbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1Byb3Bvc2Fs
cyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRD
aGFuZ2VMYW1iZGFCb2R5VG9CbG9ja1Byb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENoYW5nZUxhbWJkYUJvZHlUb0V4cHJlc3Npb25Q
cm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJ
CQlnZXRBZGRJbmZlcnJlZExhbWJkYVBhcmFtZXRlclR5cGVzKGNvbnRleHQsIGNvdmVyaW5nTm9k
ZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRNZXRob2RSZWZlcmVuY2VU
b0xhbWJkYVByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlv
bnMpOwotCQkJCWdldENvbnZlcnRMYW1iZGFUb01ldGhvZFJlZmVyZW5jZVByb3Bvc2FsKGNvbnRl
eHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWlmICghZ2V0Q29u
dmVydEZvckxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxl
Y3Rpb25zKSkKLQkJCQkJZ2V0Q29udmVydEl0ZXJhYmxlTG9vcFByb3Bvc2FsKGNvbnRleHQsIGNv
dmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRFbmhhbmNl
ZEZvckxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKTsKLQkJCQlnZXRSZW1vdmVCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRNYWtlVmFyaWFibGVEZWNsYXJhdGlvbkZp
bmFsUHJvcG9zYWxzKGNvbnRleHQsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252
ZXJ0U3RyaW5nQ29uY2F0ZW5hdGlvblByb3Bvc2Fscyhjb250ZXh0LCByZXN1bHRpbmdDb2xsZWN0
aW9ucyk7Ci0JCQkJZ2V0TWlzc2luZ0Nhc2VTdGF0ZW1lbnRQcm9wb3NhbHMoY29udGV4dCwgY292
ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJTnVsbEFubm90YXRpb25zQ29y
cmVjdGlvblByb2Nlc3Nvci5nZXRFeHRlcm5hbEFubm90YXRpb25zUHJvcG9zYWxzKGNvbnRleHQs
IGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCisJCQl9IGVsc2Ugewor
CQorCQkJCS8vIHF1aWNrIGFzc2lzdHMgdGhhdCBzaG93IHVwIGFsc28gaWYgdGhlcmUgaXMgYW4g
ZXJyb3Ivd2FybmluZworCQkJCWdldFJlbmFtZUxvY2FsUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVy
aW5nTm9kZSwgbG9jYXRpb25zLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0UmVuYW1l
UmVmYWN0b3JpbmdQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCWdldEFzc2lnblRvVmFyaWFibGVQcm9wb3NhbHMoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJ
CQlnZXRBc3NpZ25QYXJhbVRvRmllbGRQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBy
ZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0SW5mZXJEaWFtb25kQXJndW1lbnRzUHJvcG9z
YWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KTsKKwkJCQlnZXRHZW5lcmF0ZUZvckxvb3BQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2Rl
LCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkKKwkJCQlpZiAobm9FcnJvcnNB
dExvY2F0aW9uKSB7CisJCQkJCWJvb2xlYW4gcHJvYmxlbXNBdExvY2F0aW9uPSBsb2NhdGlvbnMu
bGVuZ3RoICE9IDA7CisJCQkJCWdldENhdGNoQ2xhdXNlVG9UaHJvd3NQcm9wb3NhbHMoY29udGV4
dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldFBpY2tvdXRU
eXBlRnJvbU11bHRpY2F0Y2hQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBjb3ZlcmVk
Tm9kZXMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydFRvTXVsdGlDYXRj
aFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
KwkJCQkJZ2V0VW5yb2xsTXVsdGlDYXRjaFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0VW5XcmFwUHJvcG9zYWxzKGNvbnRleHQs
IGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRKb2luVmFyaWFi
bGVQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7
CisJCQkJCWdldFNwbGl0VmFyaWFibGVQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBy
ZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldEFkZEZpbmFsbHlQcm9wb3NhbHMoY29udGV4
dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldEFkZEVsc2VQ
cm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJ
CQkJCWdldEFkZEJsb2NrUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOworCQkJCQlnZXRJbnZlcnRFcXVhbHNQcm9wb3NhbChjb250ZXh0LCBjb3Zl
cmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0QXJyYXlJbml0aWFsaXpl
clRvQXJyYXlDcmVhdGlvbihjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKTsKKwkJCQkJZ2V0Q3JlYXRlSW5TdXBlckNsYXNzUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVy
aW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRFeHRyYWN0VmFyaWFibGVQ
cm9wb3NhbChjb250ZXh0LCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KTsKKwkJCQkJZ2V0RXh0cmFjdE1ldGhvZFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwg
cHJvYmxlbXNBdExvY2F0aW9uLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldElubGlu
ZUxvY2FsUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7CisJCQkJCWdldENvbnZlcnRMb2NhbFRvRmllbGRQcm9wb3NhbChjb250ZXh0LCBjb3Zlcmlu
Z05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydEFub255bW91c1Rv
TmVzdGVkUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7CisJCQkJCWdldENvbnZlcnRBbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1RvTGFtYmRhUHJvcG9z
YWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQln
ZXRDb252ZXJ0TGFtYmRhVG9Bbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1Byb3Bvc2Fscyhjb250ZXh0
LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q2hhbmdlTGFt
YmRhQm9keVRvQmxvY2tQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q2hhbmdlTGFtYmRhQm9keVRvRXhwcmVzc2lvblByb3Bvc2Fs
KGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRB
ZGRJbmZlcnJlZExhbWJkYVBhcmFtZXRlclR5cGVzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252ZXJ0TWV0aG9kUmVmZXJlbmNlVG9MYW1i
ZGFQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
KwkJCQkJZ2V0Q29udmVydExhbWJkYVRvTWV0aG9kUmVmZXJlbmNlUHJvcG9zYWwoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWlmICghZ2V0Q29udmVy
dEZvckxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKSkKKwkJCQkJCWdldENvbnZlcnRJdGVyYWJsZUxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3Zl
cmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydEVuaGFuY2Vk
Rm9yTG9vcFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlv
bnMpOworCQkJCQlnZXRSZW1vdmVCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0TWFrZVZhcmlhYmxlRGVjbGFyYXRpb25G
aW5hbFByb3Bvc2Fscyhjb250ZXh0LCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldENv
bnZlcnRTdHJpbmdDb25jYXRlbmF0aW9uUHJvcG9zYWxzKGNvbnRleHQsIHJlc3VsdGluZ0NvbGxl
Y3Rpb25zKTsKKwkJCQkJZ2V0TWlzc2luZ0Nhc2VTdGF0ZW1lbnRQcm9wb3NhbHMoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJfQogCQkJfQogCQkJcmV0
dXJuIHJlc3VsdGluZ0NvbGxlY3Rpb25zLnRvQXJyYXkobmV3IElKYXZhQ29tcGxldGlvblByb3Bv
c2FsW3Jlc3VsdGluZ0NvbGxlY3Rpb25zLnNpemUoKV0pOwogCQl9Cg==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>250356</attachid>
            <date>2015-01-29 09:38:00 -0500</date>
            <delta_ts>2015-01-31 18:40:47 -0500</delta_ts>
            <desc>minor update (v2)</desc>
            <filename>Bug-458200--nullquick-assist-Quick-assists-for-addin.patch</filename>
            <type>text/plain</type>
            <size>21466</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9FeHRlcm5hbE51bGxBbm5vYXRhdGlvbnNSZXdyaXRl
T3BlcmF0aW9ucy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zLmphdmEKaW5kZXggNGYxMjU3Ni4uYmYxZmQ1MyAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVy
YXRpb25zLmphdmEKQEAgLTEwNiwxMCArMTA2LDExIEBACiAJfQogCiAJc3RhdGljIGNsYXNzIFJl
dHVybkFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGV4dGVuZHMgU2lnbmF0dXJlQW5ub3RhdGlv
blJld3JpdGVPcGVyYXRpb24geworCQlwcm90ZWN0ZWQgY2hhciBmQW5ub3RhdGlvbjsKKwogCQlA
T3ZlcnJpZGUKIAkJcHJvdGVjdGVkIFN0cmluZyBnZXRBbm5vdGF0ZWRTaWduYXR1cmUoKSB7Ci0J
CQkvLyBub3RlOiB3ZSBvbmx5IGdldCBpbnZva2VkIGlmIG9uIG92ZXJyaWRlIHJldHVybnMgQE51
bGxhYmxlLCB3aGljaCB0aGUgc3VwZXIgZG9lc24ndCBhbGxvdy4KLQkJCXJldHVybiBpbnNlcnRS
ZXR1cm5Bbm5vdGF0aW9uKGZTaWduYXR1cmUsIE5VTExBQkxFLCBNZXJnZVN0cmF0ZWd5Lk9WRVJX
UklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXR1cm4gaW5zZXJ0UmV0dXJuQW5ub3RhdGlvbihmU2ln
bmF0dXJlLCBmQW5ub3RhdGlvbiwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMp
OyAvLyBkb24ndCBib3RoZXIgbWVyZ2luZwogCQl9CiAJfQogCQpAQCAtMTE5LDcgKzEyMCw3IEBA
CiAJCUBPdmVycmlkZQogCQlwcm90ZWN0ZWQgU3RyaW5nIGdldEFubm90YXRlZFNpZ25hdHVyZSgp
IHsKIAkJCS8vIG5vdGU6IHdlIG9ubHkgZ2V0IGludm9rZWQgaWYgb24gb3ZlcnJpZGUgZXhwZWN0
cyBATm9uTnVsbCwgd2hpY2ggdGhlIHN1cGVyIGRvZXNuJ3QgZW5zdXJlLgotCQkJcmV0dXJuIGlu
c2VydFBhcmFtZXRlckFubm90YXRpb24oZlNpZ25hdHVyZSwgZlBhcmFtSWR4LCBOT05OVUxMLCBN
ZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXR1cm4gaW5zZXJ0UGFy
YW1ldGVyQW5ub3RhdGlvbihmU2lnbmF0dXJlLCBmUGFyYW1JZHgsIE5PTk5VTEwsIE1lcmdlU3Ry
YXRlZ3kuT1ZFUldSSVRFX0FOTk9UQVRJT05TKTsgLy8gZG9uJ3QgYm90aGVyIG1lcmdpbmcKIAkJ
fQogCX0KIApAQCAtMTUwLDYgKzE1MSwxOCBAQAogCXB1YmxpYyBzdGF0aWMgSVNpZ25hdHVyZUFu
bm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGNyZWF0ZUNoYW5nZU92ZXJyaWRkZW5SZXR1cm4oSUNv
bXBpbGF0aW9uVW5pdCBjdSwgSU1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZywKIAkJCWJvb2xl
YW4gYWxsb3dSZW1vdmUsIFN0cmluZyBhbm5vdGF0aW9uTmFtZUxhYmVsKQogCXsKKwkJLy8gbm90
ZTogd2Ugb25seSBnZXQgaW52b2tlZCBpZiBvbiBvdmVycmlkZSByZXR1cm5zIEBOdWxsYWJsZSwg
d2hpY2ggdGhlIHN1cGVyIGRvZXNuJ3QgYWxsb3cuCisJCWNoYXIgYW5ub3RhdGlvbj0gTlVMTEFC
TEU7CisJCU1lcmdlU3RyYXRlZ3kgbWVyZ2VTdHJhdGVneT0gYWxsb3dSZW1vdmUgPyBNZXJnZVN0
cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyA6IE1lcmdlU3RyYXRlZ3kuQUREX0FOTk9UQVRJ
T05TOworCisJCVN0cmluZyBtZXNzYWdlPSBNZXNzYWdlcy5mb3JtYXQoRml4TWVzc2FnZXMuTnVs
bEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcmV0dXJuX251
bGxuZXNzX2V4dGVybmFsLAorCQkJCQkJCQkJCQluZXcgU3RyaW5nW10geyBtZXRob2RCaW5kaW5n
LmdldE5hbWUoKSwgYW5ub3RhdGlvbk5hbWVMYWJlbCB9KTsKKwkJcmV0dXJuIGNyZWF0ZUNoYW5n
ZVJldHVybihjdSwgbWV0aG9kQmluZGluZywgYW5ub3RhdGlvbiwgbWVzc2FnZSwgbWVyZ2VTdHJh
dGVneSk7CisJfQorCisJcHVibGljIHN0YXRpYyBJU2lnbmF0dXJlQW5ub3RhdGlvblJld3JpdGVP
cGVyYXRpb24gY3JlYXRlQ2hhbmdlUmV0dXJuKElDb21waWxhdGlvblVuaXQgY3UsIElNZXRob2RC
aW5kaW5nIG1ldGhvZEJpbmRpbmcsCisJCQljaGFyIGFubm90YXRpb24sIFN0cmluZyBtZXNzYWdl
LCBNZXJnZVN0cmF0ZWd5IG1lcmdlU3RyYXRlZ3kpCisJewogCQlJSmF2YVByb2plY3QgcHJvamVj
dD0gKElKYXZhUHJvamVjdCkgY3UuZ2V0QW5jZXN0b3IoSUphdmFFbGVtZW50LkpBVkFfUFJPSkVD
VCk7CiAJCUlGaWxlIGZpbGU9IG51bGw7CiAJCXRyeSB7CkBAIC0xNjEsOSArMTc0LDkgQEAKIAkJ
UmV0dXJuQW5ub3RhdGlvblJld3JpdGVPcGVyYXRpb24gb3BlcmF0aW9uPSBuZXcgUmV0dXJuQW5u
b3RhdGlvblJld3JpdGVPcGVyYXRpb24oKTsKIAkJb3BlcmF0aW9uLmZDVT0gY3U7CiAJCW9wZXJh
dGlvbi5mQWZmZWN0ZWRUeXBlTmFtZT0gbWV0aG9kQmluZGluZy5nZXREZWNsYXJpbmdDbGFzcygp
LmdldEVyYXN1cmUoKS5nZXRCaW5hcnlOYW1lKCkucmVwbGFjZSgnLicsICcvJyk7Ci0JCWlmICgh
YWxsb3dSZW1vdmUpCi0JCQlvcGVyYXRpb24uZk1lcmdlU3RyYXRlZ3k9IE1lcmdlU3RyYXRlZ3ku
QUREX0FOTk9UQVRJT05TOwotCQlvcGVyYXRpb24uZk1lc3NhZ2U9IE1lc3NhZ2VzLmZvcm1hdChG
aXhNZXNzYWdlcy5OdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2Vfb3ZlcnJp
ZGRlbl9yZXR1cm5fbnVsbG5lc3NfZXh0ZXJuYWwsIG5ldyBTdHJpbmdbXSB7IG1ldGhvZEJpbmRp
bmcuZ2V0TmFtZSgpLCBhbm5vdGF0aW9uTmFtZUxhYmVsIH0pOworCQlvcGVyYXRpb24uZk1lcmdl
U3RyYXRlZ3k9IG1lcmdlU3RyYXRlZ3k7CisJCW9wZXJhdGlvbi5mQW5ub3RhdGlvbj0gYW5ub3Rh
dGlvbjsKKwkJb3BlcmF0aW9uLmZNZXNzYWdlPSBtZXNzYWdlOwogCQlvcGVyYXRpb24uZktleT0g
bWV0aG9kQmluZGluZy5nZXRLZXkoKSArICI8cmV0dXJuPiI7IC8vJE5PTi1OTFMtMSQKIAkJb3Bl
cmF0aW9uLmZBbm5vdGF0aW9uRmlsZT0gZmlsZTsKIAkJb3BlcmF0aW9uLmZTZWxlY3Rvcj0gbWV0
aG9kQmluZGluZy5nZXROYW1lKCk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29y
ZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRml4TWVzc2Fn
ZXMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhCmluZGV4IGQyY2U2MzUuLjg4
ZjhlZjYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhCkBAIC0xMjYsNiArMTI2LDcgQEAKIAlwdWJsaWMg
c3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfbWV0
aG9kX3BhcmFtZXRlcl9udWxsbmVzczsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5ub3Rh
dGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfdGFyZ2V0X21ldGhvZF9wYXJhbWV0ZXJfbnVs
bG5lc3M7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJh
dGlvbnNfY2hhbmdlX21ldGhvZF9yZXR1cm5fbnVsbG5lc3M7CisJcHVibGljIHN0YXRpYyBTdHJp
bmcgTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9yZXR1cm5f
bnVsbG5lc3NfZXh0ZXJuYWw7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgTnVsbEFubm90YXRpb25z
UmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcGFyYW1ldGVyX251bGxuZXNzOwog
CXB1YmxpYyBzdGF0aWMgU3RyaW5nIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2No
YW5nZV9vdmVycmlkZGVuX3BhcmFtZXRlcl9udWxsbmVzc19leHRlcm5hbDsKIAlwdWJsaWMgc3Rh
dGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2Vfb3ZlcnJp
ZGRlbl9yZXR1cm5fbnVsbG5lc3M7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29y
ZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRml4TWVzc2Fn
ZXMucHJvcGVydGllcyBiL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5wcm9wZXJ0aWVzCmluZGV4
IDVhNGQwNDMuLjQ5NTE0MTEgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4
dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5w
cm9wZXJ0aWVzCisrKyBiL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5wcm9wZXJ0aWVzCkBAIC0x
MTIsNiArMTEyLDcgQEAKIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9t
ZXRob2RfcGFyYW1ldGVyX251bGxuZXNzPUNoYW5nZSBwYXJhbWV0ZXIgJyd7MH0nJyB0byAnJ0B7
MX0nJwogTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX3RhcmdldF9tZXRo
b2RfcGFyYW1ldGVyX251bGxuZXNzPUNoYW5nZSBwYXJhbWV0ZXIgb2YgJyd7MH0oLi4pJycgdG8g
JydAezF9JycKIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9tZXRob2Rf
cmV0dXJuX251bGxuZXNzPUNoYW5nZSByZXR1cm4gdHlwZSBvZiAnJ3swfSguLiknJyB0byAnJ0B7
MX0nJworTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9yZXR1
cm5fbnVsbG5lc3NfZXh0ZXJuYWw9Q2hhbmdlIHJldHVybiB0eXBlIG9mICcnezB9KC4uKScnIHRv
ICcnQHsxfScnXG4odXNpbmcgZXh0ZXJuYWwgYW5ub3RhdGlvbikKIE51bGxBbm5vdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3BhcmFtZXRlcl9udWxsbmVzcz1DaGFu
Z2UgcGFyYW1ldGVyIGluIG92ZXJyaWRkZW4gJyd7MH0oLi4pJycgdG8gJydAezF9JycKIE51bGxB
bm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3BhcmFtZXRlcl9u
dWxsbmVzc19leHRlcm5hbD1DaGFuZ2UgcGFyYW1ldGVyIGluIG92ZXJyaWRkZW4gJyd7MH0oLi4p
JycgdG8gJydAezF9Jydcbih1c2luZyBleHRlcm5hbCBhbm5vdGF0aW9uKQogTnVsbEFubm90YXRp
b25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcmV0dXJuX251bGxuZXNzPUNo
YW5nZSByZXR1cm4gdHlwZSBvZiBvdmVycmlkZGVuICcnezB9KC4uKScnIHRvICcnQHsxfScnCmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmV4dC9maXgvTm9uQ1VSZXdyaXRlRml4LmphdmEgYi9vcmcuZWNsaXBz
ZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9m
aXgvTm9uQ1VSZXdyaXRlRml4LmphdmEKaW5kZXggMWJmODg4Yy4uNWIxM2NjMCAxMDA2NDQKLS0t
IGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb3JleHQvZml4L05vbkNVUmV3cml0ZUZpeC5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9O
b25DVVJld3JpdGVGaXguamF2YQpAQCAtNjEsNiArNjEsOCBAQAogCQlmb3IgKE5vbkNVUmV3cml0
ZUZpeC5Ob25DVVJld3JpdGVPcGVyYXRpb24gb3AgOiBmT3BlcmF0aW9ucykgewogCQkJb3AucGVy
Zm9ybSgpOwogCQl9CisJCWlmIChmQ1UuZ2V0UmVzb3VyY2UoKSA9PSBudWxsKQorCQkJcmV0dXJu
IG51bGw7CiAJCXJldHVybiBuZXcgQ29tcGlsYXRpb25Vbml0Q2hhbmdlKCJuby1vcCIsIGZDVSk7
IC8vJE5PTi1OTFMtMSQgRklYTUU6IGNoZWNrIGlmIG5vLW9wIENvbXBpbGF0aW9uVW5pdENoYW5n
ZSBpcyBPSwogCX0KIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5z
aW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L051bGxBbm5vdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24v
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0
ZU9wZXJhdGlvbnMuamF2YQppbmRleCBhNzg1ZjJjLi5jZTJhZWRkIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuamF2YQorKysgYi9vcmcu
ZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuamF2YQpAQCAtNjYsNyAr
NjYsNyBAQAogCQlUQVJHRVQJCS8vIGNoYW5nZSB0aGUgdGFyZ2V0IG1ldGhvZCBvZiBhIG1ldGhv
ZCBjYWxsCiAJfQogCi0JaW50ZXJmYWNlIElTaWduYXR1cmVBbm5vdGF0aW9uUmV3cml0ZU9wZXJh
dGlvbiBleHRlbmRzIElSZXdyaXRlT3BlcmF0aW9uIHsKKwlwdWJsaWMgaW50ZXJmYWNlIElTaWdu
YXR1cmVBbm5vdGF0aW9uUmV3cml0ZU9wZXJhdGlvbiBleHRlbmRzIElSZXdyaXRlT3BlcmF0aW9u
IHsKIAogCQlTdHJpbmcgZ2V0TWVzc2FnZSgpOwogCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5q
ZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9OdWxs
QW5ub3RhdGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkv
dWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9OdWxsQW5ub3Rh
dGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29yLmphdmEKaW5kZXggNGNmN2M2NS4uMzU0MmY4NCAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91
aS90ZXh0L2NvcnJlY3Rpb24vTnVsbEFubm90YXRpb25zQ29ycmVjdGlvblByb2Nlc3Nvci5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkv
dGV4dC9jb3JyZWN0aW9uL051bGxBbm5vdGF0aW9uc0NvcnJlY3Rpb25Qcm9jZXNzb3IuamF2YQpA
QCAtMTEsNDAgKzExLDYxIEBACiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3Jn
LmVjbGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlvbjsKIAoraW1wb3J0IGphdmEu
dXRpbC5BcnJheUxpc3Q7CiBpbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247CiBpbXBvcnQgamF2
YS51dGlsLkhhc2h0YWJsZTsKIGltcG9ydCBqYXZhLnV0aWwuTWFwOwogCiBpbXBvcnQgb3JnLmVj
bGlwc2Uuc3d0LmdyYXBoaWNzLkltYWdlOworaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ncmFwaGlj
cy5Qb2ludDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9u
OworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5OdWxsUHJvZ3Jlc3NNb25pdG9yOwor
CitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5JRG9jdW1lbnQ7CitpbXBvcnQgb3JnLmVj
bGlwc2UuamZhY2UudGV4dC5jb250ZW50YXNzaXN0LklDb250ZXh0SW5mb3JtYXRpb247CiAKIGlt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ29tcGlsYXRpb25Vbml0OworaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLklKYXZhUHJvamVjdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29y
ZS5KYXZhQ29yZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5jb21waWxlci5JUHJvYmxl
bTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUTm9kZTsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5kb20uQ29tcGlsYXRpb25Vbml0OwogaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5jb3JlLmRvbS5GaWVsZEFjY2VzczsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5k
b20uSUJpbmRpbmc7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLklNZXRob2RCaW5k
aW5nOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5JVmFyaWFibGVCaW5kaW5nOwog
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5Jbml0aWFsaXplcjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5kb20uTWV0aG9kRGVjbGFyYXRpb247CiBpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUuZG9tLlF1YWxpZmllZE5hbWU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUuZG9tLlNpbXBsZU5hbWU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlN0cnVj
dHVyYWxQcm9wZXJ0eURlc2NyaXB0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9t
LlR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRp
b25VdGlsOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxBbm5vdGF0
aW9uVXRpbC5NZXJnZVN0cmF0ZWd5OwogCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvcmV4dC5kb20uQVNUTm9kZXM7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNv
cmV4dC5maXguRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlvbnM7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguRml4TWVzc2FnZXM7CiBpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguSVByb3Bvc2FibGVGaXg7CiBp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXguTnVsbEFubm90YXRpb25z
Rml4OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQuZml4Lk51bGxBbm5v
dGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLkNoYW5nZUtpbmQ7CitpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LmludGVybmFsLmNvcmV4dC5maXguTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMu
SVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5pbnRlcm5hbC5jb3JleHQudXRpbC5NZXNzYWdlczsKIAogaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC51aS50ZXh0LmphdmEuSUludm9jYXRpb25Db250ZXh0OworaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC51aS50ZXh0LmphdmEuSUphdmFDb21wbGV0aW9uUHJvcG9zYWw7CiBpbXBvcnQgb3JnLmVj
bGlwc2UuamR0LnVpLnRleHQuamF2YS5JUHJvYmxlbUxvY2F0aW9uOwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC51aS50ZXh0LmphdmEuY29ycmVjdGlvbi5JQ29tbWFuZEFjY2VzczsKIAoraW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2luOwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2luSW1hZ2VzOwogaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5pbnRlcm5hbC51aS5maXguTnVsbEFubm90YXRpb25zQ2xlYW5VcDsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkudGV4dC5jb3JyZWN0aW9uLnByb3Bvc2Fscy5FeHRyYWN0
VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWw7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVy
bmFsLnVpLnRleHQuY29ycmVjdGlvbi5wcm9wb3NhbHMuRml4Q29ycmVjdGlvblByb3Bvc2FsOwog
CiAvKioKLSAqIFF1aWNrIEZpeGVzIGZvciBudWxsLWFubm90YXRpb24gcmVsYXRlZCBwcm9ibGVt
cy4KKyAqIFF1aWNrIEZpeGVzIGFuZCBRdWljayBBc3Npc3RzIGZvciBudWxsLWFubm90YXRpb24g
cmVsYXRlZCBwcm9ibGVtcy4KICAqLwogcHVibGljIGNsYXNzIE51bGxBbm5vdGF0aW9uc0NvcnJl
Y3Rpb25Qcm9jZXNzb3IgewogCkBAIC0xNTksNCArMTgwLDgzIEBACiAJCX0KIAkJcmV0dXJuIG51
bGw7CiAJfQorCisJLyogUXVpY2sgYXNzaXN0IG9uIGNsYXNzIGZpbGUuICovCisJc3RhdGljIHZv
aWQgZ2V0RXh0ZXJuYWxBbm5vdGF0aW9uc1Byb3Bvc2FscyhJSW52b2NhdGlvbkNvbnRleHQgY29u
dGV4dCwgQVNUTm9kZSBjb3ZlcmluZ05vZGUsIEFycmF5TGlzdDxJQ29tbWFuZEFjY2Vzcz4gcmVz
dWx0aW5nQ29sbGVjdGlvbnMpIHsKKwkJVHlwZSB0eXBlPSAoVHlwZSkgQVNUTm9kZXMuZ2V0UGFy
ZW50KGNvdmVyaW5nTm9kZSwgVHlwZS5jbGFzcyk7CisJCWlmICh0eXBlID09IG51bGwpCisJCQly
ZXR1cm47CisJCXdoaWxlKHR5cGUuZ2V0UGFyZW50KCkgaW5zdGFuY2VvZiBUeXBlKQorCQkJdHlw
ZSA9IChUeXBlKSB0eXBlLmdldFBhcmVudCgpOworCQlNZXRob2REZWNsYXJhdGlvbiBtZXRob2Q9
IChNZXRob2REZWNsYXJhdGlvbikgQVNUTm9kZXMuZ2V0UGFyZW50KGNvdmVyaW5nTm9kZSwgTWV0
aG9kRGVjbGFyYXRpb24uY2xhc3MpOworCQlTdHJ1Y3R1cmFsUHJvcGVydHlEZXNjcmlwdG9yIGxv
Y2F0aW9uSW5QYXJlbnQ9IHR5cGUuZ2V0TG9jYXRpb25JblBhcmVudCgpOworCQlJQ29tcGlsYXRp
b25Vbml0IGN1PSBjb250ZXh0LmdldENvbXBpbGF0aW9uVW5pdCgpOworCQlJSmF2YVByb2plY3Qg
amF2YVByb2plY3Q9IGN1LmdldEphdmFQcm9qZWN0KCk7CisJCWlmIChKYXZhQ29yZS5ESVNBQkxF
RC5lcXVhbHMoamF2YVByb2plY3QuZ2V0T3B0aW9uKEphdmFDb3JlLkNPTVBJTEVSX0FOTk9UQVRJ
T05fTlVMTF9BTkFMWVNJUywgdHJ1ZSkpKQorCQkJcmV0dXJuOworCQlpZiAobG9jYXRpb25JblBh
cmVudCA9PSBNZXRob2REZWNsYXJhdGlvbi5SRVRVUk5fVFlQRTJfUFJPUEVSVFkgJiYgbWV0aG9k
ICE9IG51bGwpIHsKKwkJCUlNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRpbmc9IG1ldGhvZC5yZXNv
bHZlQmluZGluZygpOworCQkJSVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIG9w
ZXJhdGlvbjsKKwkJCVN0cmluZyBtZXNzYWdlOworCQkJbWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0
KEZpeE1lc3NhZ2VzLk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9tZXRo
b2RfcmV0dXJuX251bGxuZXNzX2V4dGVybmFsLAorCQkJCQkJbmV3IFN0cmluZ1tdIHsgbWV0aG9k
QmluZGluZy5nZXROYW1lKCksIE51bGxBbm5vdGF0aW9uc0ZpeC5nZXROb25OdWxsQW5ub3RhdGlv
bk5hbWUoY3UsIHRydWUpIH0pOworCQkJb3BlcmF0aW9uPSBFeHRlcm5hbE51bGxBbm5vYXRhdGlv
bnNSZXdyaXRlT3BlcmF0aW9ucy5jcmVhdGVDaGFuZ2VSZXR1cm4oY3UsIG1ldGhvZEJpbmRpbmcs
CisJCQkJCQkJCQlFeHRlcm5hbEFubm90YXRpb25VdGlsLk5PTk5VTEwsIG1lc3NhZ2UsCisJCQkJ
CQkJCQlNZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyk7CisJCQlyZXN1bHRpbmdD
b2xsZWN0aW9ucy5hZGQobmV3IEFkZEV4dGVybmFsQW5ub3RhdGlvblByb3Bvc2FsKG9wZXJhdGlv
bikpOworCQkJbWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2VzLk51bGxBbm5vdGF0
aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9tZXRob2RfcmV0dXJuX251bGxuZXNzX2V4dGVy
bmFsLAorCQkJCQkJbmV3IFN0cmluZ1tdIHsgbWV0aG9kQmluZGluZy5nZXROYW1lKCksIE51bGxB
bm5vdGF0aW9uc0ZpeC5nZXROdWxsYWJsZUFubm90YXRpb25OYW1lKGN1LCB0cnVlKSB9KTsKKwkJ
CW9wZXJhdGlvbj0gRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuY3Jl
YXRlQ2hhbmdlUmV0dXJuKGN1LCBtZXRob2RCaW5kaW5nLAorCQkJCQkJCQkJRXh0ZXJuYWxBbm5v
dGF0aW9uVXRpbC5OVUxMQUJMRSwgbWVzc2FnZSwKKwkJCQkJCQkJCU1lcmdlU3RyYXRlZ3kuT1ZF
UldSSVRFX0FOTk9UQVRJT05TKTsKKwkJCXJlc3VsdGluZ0NvbGxlY3Rpb25zLmFkZChuZXcgQWRk
RXh0ZXJuYWxBbm5vdGF0aW9uUHJvcG9zYWwob3BlcmF0aW9uKSk7CisJCX0KKwl9CisKKwlwcml2
YXRlIHN0YXRpYyBmaW5hbCBjbGFzcyBBZGRFeHRlcm5hbEFubm90YXRpb25Qcm9wb3NhbCBpbXBs
ZW1lbnRzIElKYXZhQ29tcGxldGlvblByb3Bvc2FsLCBJQ29tbWFuZEFjY2VzcyB7CisJCQorCQlJ
U2lnbmF0dXJlQW5ub3RhdGlvblJld3JpdGVPcGVyYXRpb24gZk9wZXJhdGlvbjsKKworCQlwdWJs
aWMgQWRkRXh0ZXJuYWxBbm5vdGF0aW9uUHJvcG9zYWwoSVNpZ25hdHVyZUFubm90YXRpb25SZXdy
aXRlT3BlcmF0aW9uIG9wZXJhdGlvbikgeworCQkJZk9wZXJhdGlvbj0gb3BlcmF0aW9uOworCQl9
CisKKwkJcHVibGljIFBvaW50IGdldFNlbGVjdGlvbihJRG9jdW1lbnQgZG9jdW1lbnQpIHsKKwkJ
CXJldHVybiBudWxsOworCQl9CisKKwkJcHVibGljIEltYWdlIGdldEltYWdlKCkgeworCQkJcmV0
dXJuIEphdmFQbHVnaW5JbWFnZXMuZ2V0KEphdmFQbHVnaW5JbWFnZXMuSU1HX09CSlNfQU5OT1RB
VElPTik7CisJCX0KKworCQlwdWJsaWMgU3RyaW5nIGdldERpc3BsYXlTdHJpbmcoKSB7CisJCQly
ZXR1cm4gZk9wZXJhdGlvbi5nZXRNZXNzYWdlKCk7CisJCX0KKworCQlwdWJsaWMgSUNvbnRleHRJ
bmZvcm1hdGlvbiBnZXRDb250ZXh0SW5mb3JtYXRpb24oKSB7CisJCQlyZXR1cm4gbnVsbDsKKwkJ
fQorCisJCXB1YmxpYyBTdHJpbmcgZ2V0QWRkaXRpb25hbFByb3Bvc2FsSW5mbygpIHsKKwkJCXJl
dHVybiBmT3BlcmF0aW9uLmdldEFkZGl0aW9uYWxJbmZvKCk7CisJCX0KKworCQlwdWJsaWMgdm9p
ZCBhcHBseShJRG9jdW1lbnQgZG9jdW1lbnQpIHsKKwkJCUlQcm9wb3NhYmxlRml4IGZpeD0gZk9w
ZXJhdGlvbi5jcmVhdGVGaXgoKTsKKwkJCXRyeSB7CisJCQkJZml4LmNyZWF0ZUNoYW5nZShuZXcg
TnVsbFByb2dyZXNzTW9uaXRvcigpKTsKKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24gZSkgewor
CQkJCUphdmFQbHVnaW4ubG9nKGUpOworCQkJfQorCQl9CisKKwkJcHVibGljIGludCBnZXRSZWxl
dmFuY2UoKSB7CisJCQlyZXR1cm4gSVByb3Bvc2FsUmVsZXZhbmNlLkNIQU5HRV9NRVRIT0Q7IC8v
IFRPRE8KKwkJfQorCisJCXB1YmxpYyBTdHJpbmcgZ2V0Q29tbWFuZElkKCkgeworCQkJLy8gVE9E
TyBBdXRvLWdlbmVyYXRlZCBtZXRob2Qgc3R1YgorCQkJcmV0dXJuIG51bGw7CisJCX0KKwl9CiB9
CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3RleHQvY29ycmVjdGlvbi9RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2NvcnJlY3Rp
b24vUXVpY2tBc3Npc3RQcm9jZXNzb3IuamF2YQppbmRleCBjYmY1YmVkLi5iNGVlNDcwIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3Vp
L3RleHQvY29ycmVjdGlvbi9RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9u
L1F1aWNrQXNzaXN0UHJvY2Vzc29yLmphdmEKQEAgLTI2MSw0OSArMjYxLDU2IEBACiAJCQlBcnJh
eUxpc3Q8QVNUTm9kZT4gY292ZXJlZE5vZGVzPSBBZHZhbmNlZFF1aWNrQXNzaXN0UHJvY2Vzc29y
LmdldEZ1bGx5Q292ZXJlZE5vZGVzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSk7CiAJCQlBcnJheUxp
c3Q8SUNvbW1hbmRBY2Nlc3M+IHJlc3VsdGluZ0NvbGxlY3Rpb25zPSBuZXcgQXJyYXlMaXN0PElD
b21tYW5kQWNjZXNzPigpOwogCQkJYm9vbGVhbiBub0Vycm9yc0F0TG9jYXRpb249IG5vRXJyb3Jz
QXRMb2NhdGlvbihsb2NhdGlvbnMpOworCQkJCisJCQlpZiAoY29udGV4dC5nZXRDb21waWxhdGlv
blVuaXQoKS5nZXRSZXNvdXJjZSgpID09IG51bGwpIHsKIAotCQkJLy8gcXVpY2sgYXNzaXN0cyB0
aGF0IHNob3cgdXAgYWxzbyBpZiB0aGVyZSBpcyBhbiBlcnJvci93YXJuaW5nCi0JCQlnZXRSZW5h
bWVMb2NhbFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0
aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0UmVuYW1lUmVmYWN0b3JpbmdQcm9wb3NhbChjb250ZXh0
LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0
QXNzaWduVG9WYXJpYWJsZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9u
cywgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0QXNzaWduUGFyYW1Ub0ZpZWxkUHJvcG9z
YWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJZ2V0
SW5mZXJEaWFtb25kQXJndW1lbnRzUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCBsb2Nh
dGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCWdldEdlbmVyYXRlRm9yTG9vcFByb3Bv
c2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0aW5nQ29sbGVjdGlv
bnMpOwotCi0JCQlpZiAobm9FcnJvcnNBdExvY2F0aW9uKSB7Ci0JCQkJYm9vbGVhbiBwcm9ibGVt
c0F0TG9jYXRpb249IGxvY2F0aW9ucy5sZW5ndGggIT0gMDsKLQkJCQlnZXRDYXRjaENsYXVzZVRv
VGhyb3dzUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlv
bnMpOwotCQkJCWdldFBpY2tvdXRUeXBlRnJvbU11bHRpY2F0Y2hQcm9wb3NhbHMoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCBjb3ZlcmVkTm9kZXMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQln
ZXRDb252ZXJ0VG9NdWx0aUNhdGNoUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldFVucm9sbE11bHRpQ2F0Y2hQcm9wb3NhbHMoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0VW5XcmFw
UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwot
CQkJCWdldEpvaW5WYXJpYWJsZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRTcGxpdFZhcmlhYmxlUHJvcG9zYWxzKGNvbnRleHQs
IGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldEFkZEZpbmFsbHlQ
cm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0J
CQkJZ2V0QWRkRWxzZVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKLQkJCQlnZXRBZGRCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05v
ZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRJbnZlcnRFcXVhbHNQcm9wb3NhbChj
b250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRBcnJh
eUluaXRpYWxpemVyVG9BcnJheUNyZWF0aW9uKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0
aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENyZWF0ZUluU3VwZXJDbGFzc1Byb3Bvc2Fscyhjb250
ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRFeHRyYWN0
VmFyaWFibGVQcm9wb3NhbChjb250ZXh0LCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKLQkJCQlnZXRFeHRyYWN0TWV0aG9kUHJvcG9zYWwoY29udGV4dCwgY292ZXJp
bmdOb2RlLCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQln
ZXRJbmxpbmVMb2NhbFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29s
bGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRMb2NhbFRvRmllbGRQcm9wb3NhbChjb250ZXh0LCBj
b3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0QW5vbnlt
b3VzVG9OZXN0ZWRQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxl
Y3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0QW5vbnltb3VzQ2xhc3NDcmVhdGlvbnNUb0xhbWJkYVBy
b3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJ
CQlnZXRDb252ZXJ0TGFtYmRhVG9Bbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1Byb3Bvc2Fscyhjb250
ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDaGFuZ2VM
YW1iZGFCb2R5VG9CbG9ja1Byb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOwotCQkJCWdldENoYW5nZUxhbWJkYUJvZHlUb0V4cHJlc3Npb25Qcm9wb3Nh
bChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRB
ZGRJbmZlcnJlZExhbWJkYVBhcmFtZXRlclR5cGVzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRNZXRob2RSZWZlcmVuY2VUb0xhbWJk
YVByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwot
CQkJCWdldENvbnZlcnRMYW1iZGFUb01ldGhvZFJlZmVyZW5jZVByb3Bvc2FsKGNvbnRleHQsIGNv
dmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWlmICghZ2V0Q29udmVydEZv
ckxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KSkKLQkJCQkJZ2V0Q29udmVydEl0ZXJhYmxlTG9vcFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5n
Tm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldENvbnZlcnRFbmhhbmNlZEZvckxv
b3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
LQkJCQlnZXRSZW1vdmVCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRNYWtlVmFyaWFibGVEZWNsYXJhdGlvbkZpbmFsUHJv
cG9zYWxzKGNvbnRleHQsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0U3Ry
aW5nQ29uY2F0ZW5hdGlvblByb3Bvc2Fscyhjb250ZXh0LCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7
Ci0JCQkJZ2V0TWlzc2luZ0Nhc2VTdGF0ZW1lbnRQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdO
b2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJTnVsbEFubm90YXRpb25zQ29ycmVjdGlv
blByb2Nlc3Nvci5nZXRFeHRlcm5hbEFubm90YXRpb25zUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVy
aW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCisJCQl9IGVsc2UgeworCQorCQkJ
CS8vIHF1aWNrIGFzc2lzdHMgdGhhdCBzaG93IHVwIGFsc28gaWYgdGhlcmUgaXMgYW4gZXJyb3Iv
d2FybmluZworCQkJCWdldFJlbmFtZUxvY2FsUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9k
ZSwgbG9jYXRpb25zLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0UmVuYW1lUmVmYWN0
b3JpbmdQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOworCQkJCWdldEFzc2lnblRvVmFyaWFibGVQcm9wb3NhbHMoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQlnZXRB
c3NpZ25QYXJhbVRvRmllbGRQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRp
bmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0SW5mZXJEaWFtb25kQXJndW1lbnRzUHJvcG9zYWwoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJ
CQlnZXRHZW5lcmF0ZUZvckxvb3BQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBsb2Nh
dGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkKKwkJCQlpZiAobm9FcnJvcnNBdExvY2F0
aW9uKSB7CisJCQkJCWJvb2xlYW4gcHJvYmxlbXNBdExvY2F0aW9uPSBsb2NhdGlvbnMubGVuZ3Ro
ICE9IDA7CisJCQkJCWdldENhdGNoQ2xhdXNlVG9UaHJvd3NQcm9wb3NhbHMoY29udGV4dCwgY292
ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldFBpY2tvdXRUeXBlRnJv
bU11bHRpY2F0Y2hQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBjb3ZlcmVkTm9kZXMs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydFRvTXVsdGlDYXRjaFByb3Bv
c2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJ
Z2V0VW5yb2xsTXVsdGlDYXRjaFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0VW5XcmFwUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVy
aW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRKb2luVmFyaWFibGVQcm9w
b3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJ
CWdldFNwbGl0VmFyaWFibGVQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRp
bmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldEFkZEZpbmFsbHlQcm9wb3NhbHMoY29udGV4dCwgY292
ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldEFkZEVsc2VQcm9wb3Nh
bHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdl
dEFkZEJsb2NrUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVj
dGlvbnMpOworCQkJCQlnZXRJbnZlcnRFcXVhbHNQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05v
ZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0QXJyYXlJbml0aWFsaXplclRvQXJy
YXlDcmVhdGlvbihjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsK
KwkJCQkJZ2V0Q3JlYXRlSW5TdXBlckNsYXNzUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9k
ZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRFeHRyYWN0VmFyaWFibGVQcm9wb3Nh
bChjb250ZXh0LCBwcm9ibGVtc0F0TG9jYXRpb24sIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJ
CQkJZ2V0RXh0cmFjdE1ldGhvZFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcHJvYmxl
bXNBdExvY2F0aW9uLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldElubGluZUxvY2Fs
UHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJ
CQkJCWdldENvbnZlcnRMb2NhbFRvRmllbGRQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydEFub255bW91c1RvTmVzdGVk
UHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJ
CQkJCWdldENvbnZlcnRBbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1RvTGFtYmRhUHJvcG9zYWxzKGNv
bnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252
ZXJ0TGFtYmRhVG9Bbm9ueW1vdXNDbGFzc0NyZWF0aW9uc1Byb3Bvc2Fscyhjb250ZXh0LCBjb3Zl
cmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q2hhbmdlTGFtYmRhQm9k
eVRvQmxvY2tQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKTsKKwkJCQkJZ2V0Q2hhbmdlTGFtYmRhQm9keVRvRXhwcmVzc2lvblByb3Bvc2FsKGNvbnRl
eHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRBZGRJbmZl
cnJlZExhbWJkYVBhcmFtZXRlclR5cGVzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252ZXJ0TWV0aG9kUmVmZXJlbmNlVG9MYW1iZGFQcm9w
b3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJ
Z2V0Q29udmVydExhbWJkYVRvTWV0aG9kUmVmZXJlbmNlUHJvcG9zYWwoY29udGV4dCwgY292ZXJp
bmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWlmICghZ2V0Q29udmVydEZvckxv
b3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKSkK
KwkJCQkJCWdldENvbnZlcnRJdGVyYWJsZUxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05v
ZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydEVuaGFuY2VkRm9yTG9v
cFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwor
CQkJCQlnZXRSZW1vdmVCbG9ja1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0TWFrZVZhcmlhYmxlRGVjbGFyYXRpb25GaW5hbFBy
b3Bvc2Fscyhjb250ZXh0LCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldENvbnZlcnRT
dHJpbmdDb25jYXRlbmF0aW9uUHJvcG9zYWxzKGNvbnRleHQsIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KTsKKwkJCQkJZ2V0TWlzc2luZ0Nhc2VTdGF0ZW1lbnRQcm9wb3NhbHMoY29udGV4dCwgY292ZXJp
bmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJfQogCQkJfQogCQkJcmV0dXJuIHJl
c3VsdGluZ0NvbGxlY3Rpb25zLnRvQXJyYXkobmV3IElKYXZhQ29tcGxldGlvblByb3Bvc2FsW3Jl
c3VsdGluZ0NvbGxlY3Rpb25zLnNpemUoKV0pOwogCQl9Cg==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>250414</attachid>
            <date>2015-01-31 18:40:00 -0500</date>
            <delta_ts>2015-03-03 18:00:29 -0500</delta_ts>
            <desc>update (v3)</desc>
            <filename>Bug-458200--nullquick-assist-Quick-assists-for-addin.patch</filename>
            <type>text/plain</type>
            <size>31250</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9FeHRlcm5hbE51bGxBbm5vYXRhdGlvbnNSZXdyaXRl
T3BlcmF0aW9ucy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zLmphdmEKaW5kZXggNGYxMjU3Ni4uYmRkYmU0YSAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVy
YXRpb25zLmphdmEKQEAgLTE3LDYgKzE3LDcgQEAKIGltcG9ydCBqYXZhLmlvLlVuc3VwcG9ydGVk
RW5jb2RpbmdFeGNlcHRpb247CiAKIGltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuQ29y
ZUV4Y2VwdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuSVByb2dyZXNzTW9u
aXRvcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuSVN0YXR1czsKIGltcG9ydCBv
cmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuTnVsbFByb2dyZXNzTW9uaXRvcjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5jb3JlLnJ1bnRpbWUuU3RhdHVzOwpAQCAtNTUsNiArNTYsNyBAQAogCQlwcm90ZWN0
ZWQgSUZpbGUgZkFubm90YXRpb25GaWxlOwogCQlwcm90ZWN0ZWQgU3RyaW5nIGZTZWxlY3RvcjsK
IAkJcHJvdGVjdGVkIFN0cmluZyBmU2lnbmF0dXJlOworCQlwcm90ZWN0ZWQgU3RyaW5nIGZBbm5v
dGF0ZWRTaWduYXR1cmU7CiAKIAkJcHVibGljIFN0cmluZyBnZXRNZXNzYWdlKCkgewogCQkJcmV0
dXJuIGZNZXNzYWdlOwpAQCAtNzMsNyArNzUsNyBAQAogCQkJU3RyaW5nQnVmZmVyIGJ1ZmZlcj0g
bmV3IFN0cmluZ0J1ZmZlcigpOwogCQkJYnVmZmVyLmFwcGVuZChmU2VsZWN0b3IpLmFwcGVuZCgi
PGJyLz4iKTsgLy8kTk9OLU5MUy0xJAogCQkJYnVmZmVyLmFwcGVuZCgnICcpLmFwcGVuZChnZXRI
dG1sUmVwcmVzZW50YXRpb24oZlNpZ25hdHVyZSkpLmFwcGVuZCgiPGJyLz4iKTsgLy8kTk9OLU5M
Uy0xJAotCQkJYnVmZmVyLmFwcGVuZCgnICcpLmFwcGVuZChnZXRIdG1sUmVwcmVzZW50YXRpb24o
Z2V0QW5ub3RhdGVkU2lnbmF0dXJlKCkpKTsKKwkJCWJ1ZmZlci5hcHBlbmQoJyAnKS5hcHBlbmQo
Z2V0SHRtbFJlcHJlc2VudGF0aW9uKGdldEFubm90YXRlZFNpZ25hdHVyZSh0cnVlKSkpOwogCQkJ
cmV0dXJuIGJ1ZmZlci50b1N0cmluZygpOwogCQl9CiAKQEAgLTg1LDggKzg3LDcgQEAKIAkJcHVi
bGljIHZvaWQgcGVyZm9ybSgpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsKIAkJCXRyeSB7CiAJCQkJ
TnVsbFByb2dyZXNzTW9uaXRvciBtb25pdG9yPSBuZXcgTnVsbFByb2dyZXNzTW9uaXRvcigpOwot
CQkJCWFubm90YXRlTWVtYmVyKGZBZmZlY3RlZFR5cGVOYW1lLCBmQW5ub3RhdGlvbkZpbGUsIGZT
ZWxlY3RvciwgZlNpZ25hdHVyZSwgZ2V0QW5ub3RhdGVkU2lnbmF0dXJlKCksIGZNZXJnZVN0cmF0
ZWd5LCBtb25pdG9yKTsKLQorCQkJCWRvQW5ub3RhdGVNZW1iZXIobW9uaXRvcik7CiAJCQkJcmVm
cmVzaCgpOwogCiAJCQl9IGNhdGNoIChVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0aW9uIGUpIHsK
QEAgLTk1LDYgKzk2LDkgQEAKIAkJCQl0aHJvdyBuZXcgQ29yZUV4Y2VwdGlvbihuZXcgU3RhdHVz
KElTdGF0dXMuRVJST1IsIEphdmFVSS5JRF9QTFVHSU4sICJGYWlsZWQgdG8gdXBkYXRlIGZpbGUi
LCBlKSk7IC8vJE5PTi1OTFMtMSQKIAkJCX0KIAkJfQorCQl2b2lkIGRvQW5ub3RhdGVNZW1iZXIo
SVByb2dyZXNzTW9uaXRvciBtb25pdG9yKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiwgVW5zdXBwb3J0
ZWRFbmNvZGluZ0V4Y2VwdGlvbiwgSU9FeGNlcHRpb24geworCQkJYW5ub3RhdGVNZW1iZXIoZkFm
ZmVjdGVkVHlwZU5hbWUsIGZBbm5vdGF0aW9uRmlsZSwgZlNlbGVjdG9yLCBmU2lnbmF0dXJlLCBn
ZXRBbm5vdGF0ZWRTaWduYXR1cmUoZmFsc2UpLCBmTWVyZ2VTdHJhdGVneSwgbW9uaXRvcik7CisJ
CX0KIAogCQlwcml2YXRlIHZvaWQgcmVmcmVzaCgpIHRocm93cyBKYXZhTW9kZWxFeGNlcHRpb24g
ewogCQkJSUJ1ZmZlciBidWZmZXI9IGZDVS5nZXRCdWZmZXIoKTsKQEAgLTEwMiwxNCArMTA2LDMx
IEBACiAJCQkoKElCdWZmZXJDaGFuZ2VkTGlzdGVuZXIpZkNVKS5idWZmZXJDaGFuZ2VkKGV2ZW50
KTsKIAkJfQogCi0JCXByb3RlY3RlZCBhYnN0cmFjdCBTdHJpbmcgZ2V0QW5ub3RhdGVkU2lnbmF0
dXJlKCk7CisJCXByb3RlY3RlZCBhYnN0cmFjdCBTdHJpbmcgZ2V0QW5ub3RhdGVkU2lnbmF0dXJl
KGJvb2xlYW4gZm9yVUkpOwogCX0KIAogCXN0YXRpYyBjbGFzcyBSZXR1cm5Bbm5vdGF0aW9uUmV3
cml0ZU9wZXJhdGlvbiBleHRlbmRzIFNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9u
IHsKKwkJcHJvdGVjdGVkIGNoYXIgZkFubm90YXRpb247CisKIAkJQE92ZXJyaWRlCi0JCXByb3Rl
Y3RlZCBTdHJpbmcgZ2V0QW5ub3RhdGVkU2lnbmF0dXJlKCkgewotCQkJLy8gbm90ZTogd2Ugb25s
eSBnZXQgaW52b2tlZCBpZiBvbiBvdmVycmlkZSByZXR1cm5zIEBOdWxsYWJsZSwgd2hpY2ggdGhl
IHN1cGVyIGRvZXNuJ3QgYWxsb3cuCi0JCQlyZXR1cm4gaW5zZXJ0UmV0dXJuQW5ub3RhdGlvbihm
U2lnbmF0dXJlLCBOVUxMQUJMRSwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMp
OworCQlwcm90ZWN0ZWQgU3RyaW5nIGdldEFubm90YXRlZFNpZ25hdHVyZShib29sZWFuIGZvclVJ
KSB7CisJCQlpZiAoZkFubm90YXRlZFNpZ25hdHVyZSAhPSBudWxsKSB7CisJCQkJaWYgKGZvclVJ
KSB7CisJCQkJCWludCBjbG9zZSA9IGZTaWduYXR1cmUuaW5kZXhPZignKScpOworCQkJCQlpZiAo
Y2xvc2UgIT0gLTEgJiYgY2xvc2UrMSA8IGZTaWduYXR1cmUubGVuZ3RoKCkpCisJCQkJCQlyZXR1
cm4gZlNpZ25hdHVyZS5zdWJzdHJpbmcoMCwgY2xvc2UrMSkrZkFubm90YXRlZFNpZ25hdHVyZTsK
KwkJCQl9CisJCQkJcmV0dXJuIGZBbm5vdGF0ZWRTaWduYXR1cmU7CisJCQl9CisJCQlyZXR1cm4g
aW5zZXJ0UmV0dXJuQW5ub3RhdGlvbihmU2lnbmF0dXJlLCBmQW5ub3RhdGlvbiwgTWVyZ2VTdHJh
dGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMpOyAvLyBkb24ndCBib3RoZXIgbWVyZ2luZworCQl9
CisKKwkJQE92ZXJyaWRlCisJCXZvaWQgZG9Bbm5vdGF0ZU1lbWJlcihJUHJvZ3Jlc3NNb25pdG9y
IG1vbml0b3IpIHRocm93cyBDb3JlRXhjZXB0aW9uLCBVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0
aW9uLCBJT0V4Y2VwdGlvbiB7CisJCQlpZiAoZkFubm90YXRpb24gPT0gTk9fQU5OT1RBVElPTiAm
JiBmQW5ub3RhdGVkU2lnbmF0dXJlICE9IG51bGwpIC8vIG5vIGluZGl2aWR1YWwgYW5ub3RhdGlv
biB0byBhZGQsIGJ1dCBhIHByZS1mYWJyaWNhdGVkIHJldHVybiB0eXBlPworCQkJCWFubm90YXRl
TWV0aG9kUmV0dXJuVHlwZShmQWZmZWN0ZWRUeXBlTmFtZSwgZkFubm90YXRpb25GaWxlLCBmU2Vs
ZWN0b3IsIGZTaWduYXR1cmUsIGdldEFubm90YXRlZFNpZ25hdHVyZShmYWxzZSksIGZNZXJnZVN0
cmF0ZWd5LCBtb25pdG9yKTsKKwkJCWVsc2UKKwkJCQlzdXBlci5kb0Fubm90YXRlTWVtYmVyKG1v
bml0b3IpOwogCQl9CiAJfQogCQpAQCAtMTE3LDkgKzEzOCw5IEBACiAJCWludCBmUGFyYW1JZHg7
CiAKIAkJQE92ZXJyaWRlCi0JCXByb3RlY3RlZCBTdHJpbmcgZ2V0QW5ub3RhdGVkU2lnbmF0dXJl
KCkgeworCQlwcm90ZWN0ZWQgU3RyaW5nIGdldEFubm90YXRlZFNpZ25hdHVyZShib29sZWFuIGZv
clVJKSB7CiAJCQkvLyBub3RlOiB3ZSBvbmx5IGdldCBpbnZva2VkIGlmIG9uIG92ZXJyaWRlIGV4
cGVjdHMgQE5vbk51bGwsIHdoaWNoIHRoZSBzdXBlciBkb2Vzbid0IGVuc3VyZS4KLQkJCXJldHVy
biBpbnNlcnRQYXJhbWV0ZXJBbm5vdGF0aW9uKGZTaWduYXR1cmUsIGZQYXJhbUlkeCwgTk9OTlVM
TCwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMpOworCQkJcmV0dXJuIGluc2Vy
dFBhcmFtZXRlckFubm90YXRpb24oZlNpZ25hdHVyZSwgZlBhcmFtSWR4LCBOT05OVUxMLCBNZXJn
ZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUyk7IC8vIGRvbid0IGJvdGhlciBtZXJnaW5n
CiAJCX0KIAl9CiAKQEAgLTE1MCw2ICsxNzEsMjQgQEAKIAlwdWJsaWMgc3RhdGljIElTaWduYXR1
cmVBbm5vdGF0aW9uUmV3cml0ZU9wZXJhdGlvbiBjcmVhdGVDaGFuZ2VPdmVycmlkZGVuUmV0dXJu
KElDb21waWxhdGlvblVuaXQgY3UsIElNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRpbmcsCiAJCQli
b29sZWFuIGFsbG93UmVtb3ZlLCBTdHJpbmcgYW5ub3RhdGlvbk5hbWVMYWJlbCkKIAl7CisJCS8v
IG5vdGU6IHdlIG9ubHkgZ2V0IGludm9rZWQgaWYgb24gb3ZlcnJpZGUgcmV0dXJucyBATnVsbGFi
bGUsIHdoaWNoIHRoZSBzdXBlciBkb2Vzbid0IGFsbG93LgorCQljaGFyIGFubm90YXRpb249IE5V
TExBQkxFOworCQlNZXJnZVN0cmF0ZWd5IG1lcmdlU3RyYXRlZ3k9IGFsbG93UmVtb3ZlID8gTWVy
Z2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElPTlMgOiBNZXJnZVN0cmF0ZWd5LkFERF9BTk5P
VEFUSU9OUzsKKworCQlTdHJpbmcgbWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2Vz
Lk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3JldHVy
bl9udWxsbmVzc19leHRlcm5hbCwKKwkJCQkJCQkJCQkJbmV3IFN0cmluZ1tdIHsgbWV0aG9kQmlu
ZGluZy5nZXROYW1lKCksIGFubm90YXRpb25OYW1lTGFiZWwgfSk7CisJCXJldHVybiBjcmVhdGVD
aGFuZ2VSZXR1cm4oY3UsIG1ldGhvZEJpbmRpbmcsIGFubm90YXRpb24sIG51bGwsIG1lc3NhZ2Us
IG1lcmdlU3RyYXRlZ3kpOworCX0KKworCXB1YmxpYyBzdGF0aWMgSVNpZ25hdHVyZUFubm90YXRp
b25SZXdyaXRlT3BlcmF0aW9uIGNyZWF0ZUNoYW5nZVJldHVybihJQ29tcGlsYXRpb25Vbml0IGN1
LCBJTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5nLAorCQkJU3RyaW5nIGFubm90YXRlZFNpZ25h
dHVyZSwgU3RyaW5nIG1lc3NhZ2UsIE1lcmdlU3RyYXRlZ3kgbWVyZ2VTdHJhdGVneSkKKwl7CisJ
CXJldHVybiBjcmVhdGVDaGFuZ2VSZXR1cm4oY3UsIG1ldGhvZEJpbmRpbmcsIE5PX0FOTk9UQVRJ
T04sIGFubm90YXRlZFNpZ25hdHVyZSwgbWVzc2FnZSwgbWVyZ2VTdHJhdGVneSk7CisJfQorCisJ
cHJpdmF0ZSBzdGF0aWMgSVNpZ25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGNyZWF0
ZUNoYW5nZVJldHVybihJQ29tcGlsYXRpb25Vbml0IGN1LCBJTWV0aG9kQmluZGluZyBtZXRob2RC
aW5kaW5nLAorCQkJY2hhciBhbm5vdGF0aW9uLCBTdHJpbmcgYW5ub3RhdGVkU2lnbmF0dXJlLCBT
dHJpbmcgbWVzc2FnZSwgTWVyZ2VTdHJhdGVneSBtZXJnZVN0cmF0ZWd5KQorCXsKIAkJSUphdmFQ
cm9qZWN0IHByb2plY3Q9IChJSmF2YVByb2plY3QpIGN1LmdldEFuY2VzdG9yKElKYXZhRWxlbWVu
dC5KQVZBX1BST0pFQ1QpOwogCQlJRmlsZSBmaWxlPSBudWxsOwogCQl0cnkgewpAQCAtMTYxLDkg
KzIwMCwxMCBAQAogCQlSZXR1cm5Bbm5vdGF0aW9uUmV3cml0ZU9wZXJhdGlvbiBvcGVyYXRpb249
IG5ldyBSZXR1cm5Bbm5vdGF0aW9uUmV3cml0ZU9wZXJhdGlvbigpOwogCQlvcGVyYXRpb24uZkNV
PSBjdTsKIAkJb3BlcmF0aW9uLmZBZmZlY3RlZFR5cGVOYW1lPSBtZXRob2RCaW5kaW5nLmdldERl
Y2xhcmluZ0NsYXNzKCkuZ2V0RXJhc3VyZSgpLmdldEJpbmFyeU5hbWUoKS5yZXBsYWNlKCcuJywg
Jy8nKTsKLQkJaWYgKCFhbGxvd1JlbW92ZSkKLQkJCW9wZXJhdGlvbi5mTWVyZ2VTdHJhdGVneT0g
TWVyZ2VTdHJhdGVneS5BRERfQU5OT1RBVElPTlM7Ci0JCW9wZXJhdGlvbi5mTWVzc2FnZT0gTWVz
c2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2VzLk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25z
X2NoYW5nZV9vdmVycmlkZGVuX3JldHVybl9udWxsbmVzc19leHRlcm5hbCwgbmV3IFN0cmluZ1td
IHsgbWV0aG9kQmluZGluZy5nZXROYW1lKCksIGFubm90YXRpb25OYW1lTGFiZWwgfSk7CisJCW9w
ZXJhdGlvbi5mTWVyZ2VTdHJhdGVneT0gbWVyZ2VTdHJhdGVneTsKKwkJb3BlcmF0aW9uLmZBbm5v
dGF0aW9uPSBhbm5vdGF0aW9uOworCQlvcGVyYXRpb24uZkFubm90YXRlZFNpZ25hdHVyZT0gYW5u
b3RhdGVkU2lnbmF0dXJlOworCQlvcGVyYXRpb24uZk1lc3NhZ2U9IG1lc3NhZ2U7CiAJCW9wZXJh
dGlvbi5mS2V5PSBtZXRob2RCaW5kaW5nLmdldEtleSgpICsgIjxyZXR1cm4+IjsgLy8kTk9OLU5M
Uy0xJAogCQlvcGVyYXRpb24uZkFubm90YXRpb25GaWxlPSBmaWxlOwogCQlvcGVyYXRpb24uZlNl
bGVjdG9yPSBtZXRob2RCaW5kaW5nLmdldE5hbWUoKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNl
LmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2Zp
eC9GaXhNZXNzYWdlcy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmphdmEKaW5kZXgg
ZDJjZTYzNS4uNTUwZGE4ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0
ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmphdmEKQEAgLTEyNiw2ICsxMjYsOCBA
QAogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25z
X2NoYW5nZV9tZXRob2RfcGFyYW1ldGVyX251bGxuZXNzOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV90YXJnZXRfbWV0aG9kX3Bh
cmFtZXRlcl9udWxsbmVzczsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNS
ZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfbWV0aG9kX3JldHVybl9udWxsbmVzczsKKwlwdWJsaWMg
c3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19hZGRfbWV0aG9k
X3JldHVybl9udWxsbmVzc19leHRlcm5hbDsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5u
b3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19yZW1vdmVfbWV0aG9kX3JldHVybl9udWxsbmVzc19l
eHRlcm5hbDsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3Bl
cmF0aW9uc19jaGFuZ2Vfb3ZlcnJpZGRlbl9wYXJhbWV0ZXJfbnVsbG5lc3M7CiAJcHVibGljIHN0
YXRpYyBTdHJpbmcgTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJy
aWRkZW5fcGFyYW1ldGVyX251bGxuZXNzX2V4dGVybmFsOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3JldHVy
bl9udWxsbmVzczsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lv
bi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5wcm9wZXJ0
aWVzIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKaW5kZXggNWE0ZDA0My4u
ZmU0OThhZSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMK
KysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKQEAgLTExMiw2ICsxMTIs
OCBAQAogTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9wYXJh
bWV0ZXJfbnVsbG5lc3M9Q2hhbmdlIHBhcmFtZXRlciAnJ3swfScnIHRvICcnQHsxfScnCiBOdWxs
QW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2VfdGFyZ2V0X21ldGhvZF9wYXJhbWV0
ZXJfbnVsbG5lc3M9Q2hhbmdlIHBhcmFtZXRlciBvZiAnJ3swfSguLiknJyB0byAnJ0B7MX0nJwog
TnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX21ldGhvZF9yZXR1cm5fbnVs
bG5lc3M9Q2hhbmdlIHJldHVybiB0eXBlIG9mICcnezB9KC4uKScnIHRvICcnQHsxfScnCitOdWxs
QW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19hZGRfbWV0aG9kX3JldHVybl9udWxsbmVzc19l
eHRlcm5hbD1BZGQgJydAezF9JycgdG8gYSBkZXRhaWwgb2YgdGhlIHJldHVybiB0eXBlIG9mICcn
ezB9KC4uKScnXG4odXNpbmcgZXh0ZXJuYWwgYW5ub3RhdGlvbikKK051bGxBbm5vdGF0aW9uc1Jl
d3JpdGVPcGVyYXRpb25zX3JlbW92ZV9tZXRob2RfcmV0dXJuX251bGxuZXNzX2V4dGVybmFsPVJl
bW92ZSBudWxsbmVzcyBhbm5vdGF0aW9uIGZyb20gYSBkZXRhaWwgb2YgdGhlIHJldHVybiB0eXBl
IG9mICcnezB9KC4uKScnXG4odXNpbmcgZXh0ZXJuYWwgYW5ub3RhdGlvbikKIE51bGxBbm5vdGF0
aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3BhcmFtZXRlcl9udWxsbmVz
cz1DaGFuZ2UgcGFyYW1ldGVyIGluIG92ZXJyaWRkZW4gJyd7MH0oLi4pJycgdG8gJydAezF9JycK
IE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3BhcmFt
ZXRlcl9udWxsbmVzc19leHRlcm5hbD1DaGFuZ2UgcGFyYW1ldGVyIGluIG92ZXJyaWRkZW4gJyd7
MH0oLi4pJycgdG8gJydAezF9Jydcbih1c2luZyBleHRlcm5hbCBhbm5vdGF0aW9uKQogTnVsbEFu
bm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnNfY2hhbmdlX292ZXJyaWRkZW5fcmV0dXJuX251bGxu
ZXNzPUNoYW5nZSByZXR1cm4gdHlwZSBvZiBvdmVycmlkZGVuICcnezB9KC4uKScnIHRvICcnQHsx
fScnCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvTm9uQ1VSZXdyaXRlRml4LmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmV4dC9maXgvTm9uQ1VSZXdyaXRlRml4LmphdmEKaW5kZXggMWJmODg4Yy4uNWIxM2NjMCAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JleHQvZml4L05vbkNVUmV3cml0ZUZpeC5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0
L2ZpeC9Ob25DVVJld3JpdGVGaXguamF2YQpAQCAtNjEsNiArNjEsOCBAQAogCQlmb3IgKE5vbkNV
UmV3cml0ZUZpeC5Ob25DVVJld3JpdGVPcGVyYXRpb24gb3AgOiBmT3BlcmF0aW9ucykgewogCQkJ
b3AucGVyZm9ybSgpOwogCQl9CisJCWlmIChmQ1UuZ2V0UmVzb3VyY2UoKSA9PSBudWxsKQorCQkJ
cmV0dXJuIG51bGw7CiAJCXJldHVybiBuZXcgQ29tcGlsYXRpb25Vbml0Q2hhbmdlKCJuby1vcCIs
IGZDVSk7IC8vJE5PTi1OTFMtMSQgRklYTUU6IGNoZWNrIGlmIG5vLW9wIENvbXBpbGF0aW9uVW5p
dENoYW5nZSBpcyBPSwogCX0KIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUg
ZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L051bGxBbm5vdGF0
aW9uc1Jld3JpdGVPcGVyYXRpb25zLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRl
bnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvTnVsbEFubm90YXRpb25z
UmV3cml0ZU9wZXJhdGlvbnMuamF2YQppbmRleCBhNzg1ZjJjLi5jZTJhZWRkIDEwMDY0NAotLS0g
YS9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuamF2YQorKysg
Yi9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmV4dC9maXgvTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuamF2YQpAQCAt
NjYsNyArNjYsNyBAQAogCQlUQVJHRVQJCS8vIGNoYW5nZSB0aGUgdGFyZ2V0IG1ldGhvZCBvZiBh
IG1ldGhvZCBjYWxsCiAJfQogCi0JaW50ZXJmYWNlIElTaWduYXR1cmVBbm5vdGF0aW9uUmV3cml0
ZU9wZXJhdGlvbiBleHRlbmRzIElSZXdyaXRlT3BlcmF0aW9uIHsKKwlwdWJsaWMgaW50ZXJmYWNl
IElTaWduYXR1cmVBbm5vdGF0aW9uUmV3cml0ZU9wZXJhdGlvbiBleHRlbmRzIElSZXdyaXRlT3Bl
cmF0aW9uIHsKIAogCQlTdHJpbmcgZ2V0TWVzc2FnZSgpOwogCmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlv
bi9OdWxsQW5ub3RhdGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29yLmphdmEgYi9vcmcuZWNsaXBzZS5q
ZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9OdWxs
QW5ub3RhdGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29yLmphdmEKaW5kZXggNGNmN2M2NS4uZTM0MTdl
ZiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC91aS90ZXh0L2NvcnJlY3Rpb24vTnVsbEFubm90YXRpb25zQ29ycmVjdGlvblByb2Nlc3Nv
ci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvdWkvdGV4dC9jb3JyZWN0aW9uL051bGxBbm5vdGF0aW9uc0NvcnJlY3Rpb25Qcm9jZXNzb3Iu
amF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmln
aHQgKGMpIDIwMTEsIDIwMTMgR0sgU29mdHdhcmUgQUcgYW5kIG90aGVycy4KKyAqIENvcHlyaWdo
dCAoYykgMjAxMSwgMjAxNSBHSyBTb2Z0d2FyZSBBRyBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwog
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTEsNDAgKzExLDUyIEBACiAgKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVj
dGlvbjsKIAoraW1wb3J0IHN0YXRpYyBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkV4dGVybmFs
QW5ub3RhdGlvblV0aWwuKjsKKworaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CiBpbXBvcnQg
amF2YS51dGlsLkNvbGxlY3Rpb247CiBpbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsKK2ltcG9y
dCBqYXZhLnV0aWwuTGlzdDsKIGltcG9ydCBqYXZhLnV0aWwuTWFwOwogCiBpbXBvcnQgb3JnLmVj
bGlwc2Uuc3d0LmdyYXBoaWNzLkltYWdlOworaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ncmFwaGlj
cy5Qb2ludDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9u
OworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5OdWxsUHJvZ3Jlc3NNb25pdG9yOwor
CitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5JRG9jdW1lbnQ7CitpbXBvcnQgb3JnLmVj
bGlwc2UuamZhY2UudGV4dC5jb250ZW50YXNzaXN0LklDb250ZXh0SW5mb3JtYXRpb247CiAKIGlt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ29tcGlsYXRpb25Vbml0OworaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLklKYXZhUHJvamVjdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29y
ZS5KYXZhQ29yZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5jb21waWxlci5JUHJvYmxl
bTsKLWltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUTm9kZTsKLWltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5kb20uQ29tcGlsYXRpb25Vbml0OwotaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5jb3JlLmRvbS5GaWVsZEFjY2VzczsKLWltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5k
b20uSUJpbmRpbmc7Ci1pbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLklWYXJpYWJsZUJp
bmRpbmc7Ci1pbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLkluaXRpYWxpemVyOwotaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5NZXRob2REZWNsYXJhdGlvbjsKLWltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS5kb20uUXVhbGlmaWVkTmFtZTsKLWltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5kb20uU2ltcGxlTmFtZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5k
b20uKjsKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQuZG9tLkFTVE5v
ZGVzOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQuZml4LkV4dGVybmFs
TnVsbEFubm9hdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zOworaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5pbnRlcm5hbC5jb3JleHQuZml4LkZpeE1lc3NhZ2VzOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5pbnRlcm5hbC5jb3JleHQuZml4LklQcm9wb3NhYmxlRml4OwogaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5pbnRlcm5hbC5jb3JleHQuZml4Lk51bGxBbm5vdGF0aW9uc0ZpeDsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LmZpeC5OdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3Bl
cmF0aW9ucy5DaGFuZ2VLaW5kOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3Jl
eHQuZml4Lk51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zLklTaWduYXR1cmVBbm5vdGF0
aW9uUmV3cml0ZU9wZXJhdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29y
ZXh0LnV0aWwuSmF2YU1vZGVsVXRpbDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
Y29yZXh0LnV0aWwuTWVzc2FnZXM7CiAKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkudGV4dC5q
YXZhLklJbnZvY2F0aW9uQ29udGV4dDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkudGV4dC5q
YXZhLklKYXZhQ29tcGxldGlvblByb3Bvc2FsOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS50
ZXh0LmphdmEuSVByb2JsZW1Mb2NhdGlvbjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkudGV4
dC5qYXZhLmNvcnJlY3Rpb24uSUNvbW1hbmRBY2Nlc3M7CiAKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuaW50ZXJuYWwudWkuSmF2YVBsdWdpbjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJu
YWwudWkuSmF2YVBsdWdpbkltYWdlczsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
dWkuZml4Lk51bGxBbm5vdGF0aW9uc0NsZWFuVXA7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0Lmlu
dGVybmFsLnVpLnRleHQuY29ycmVjdGlvbi5wcm9wb3NhbHMuRXh0cmFjdFRvTnVsbENoZWNrZWRM
b2NhbFByb3Bvc2FsOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS50ZXh0LmNv
cnJlY3Rpb24ucHJvcG9zYWxzLkZpeENvcnJlY3Rpb25Qcm9wb3NhbDsKIAogLyoqCi0gKiBRdWlj
ayBGaXhlcyBmb3IgbnVsbC1hbm5vdGF0aW9uIHJlbGF0ZWQgcHJvYmxlbXMuCisgKiBRdWljayBG
aXhlcyBhbmQgUXVpY2sgQXNzaXN0cyBmb3IgbnVsbC1hbm5vdGF0aW9uIHJlbGF0ZWQgcHJvYmxl
bXMuCiAgKi8KIHB1YmxpYyBjbGFzcyBOdWxsQW5ub3RhdGlvbnNDb3JyZWN0aW9uUHJvY2Vzc29y
IHsKIApAQCAtMTU5LDQgKzE3MSwyNDcgQEAKIAkJfQogCQlyZXR1cm4gbnVsbDsKIAl9CisKKwkv
KiBRdWljayBhc3Npc3Qgb24gY2xhc3MgZmlsZSwgcHJvcG9zZSBjaGFuZ2VzIGFuIGFueSB0eXBl
IGRldGFpbC4gKi8KKwlzdGF0aWMgdm9pZCBnZXRFeHRlcm5hbEFubm90YXRpb25zUHJvcG9zYWxz
KElJbnZvY2F0aW9uQ29udGV4dCBjb250ZXh0LCBBU1ROb2RlIGNvdmVyaW5nTm9kZSwgQXJyYXlM
aXN0PElDb21tYW5kQWNjZXNzPiByZXN1bHRpbmdDb2xsZWN0aW9ucykgeworCQkKKwkJSUNvbXBp
bGF0aW9uVW5pdCBjdT0gY29udGV4dC5nZXRDb21waWxhdGlvblVuaXQoKTsKKwkJSUphdmFQcm9q
ZWN0IGphdmFQcm9qZWN0PSBjdS5nZXRKYXZhUHJvamVjdCgpOworCQlpZiAoSmF2YUNvcmUuRElT
QUJMRUQuZXF1YWxzKGphdmFQcm9qZWN0LmdldE9wdGlvbihKYXZhQ29yZS5DT01QSUxFUl9BTk5P
VEFUSU9OX05VTExfQU5BTFlTSVMsIHRydWUpKSkKKwkJCXJldHVybjsKKworCQlNZXRob2REZWNs
YXJhdGlvbiBtZXRob2Q9IChNZXRob2REZWNsYXJhdGlvbikgQVNUTm9kZXMuZ2V0UGFyZW50KGNv
dmVyaW5nTm9kZSwgTWV0aG9kRGVjbGFyYXRpb24uY2xhc3MpOworCQlpZiAobWV0aG9kID09IG51
bGwpCisJCQlyZXR1cm47IC8vIFRPRE8gc3VwcG9ydCBmaWVsZHMKKworCQlBU1ROb2RlIGlubmVy
PSBudWxsOyAvLyB0aGUgaW5uZXJtb3N0IHR5cGUgb3IgdHlwZSBwYXJhbWV0ZXIgbm9kZQorCQl3
aGlsZSAodHJ1ZSkgeworCQkJaWYgKGNvdmVyaW5nTm9kZSBpbnN0YW5jZW9mIFR5cGUgfHwgY292
ZXJpbmdOb2RlIGluc3RhbmNlb2YgVHlwZVBhcmFtZXRlcikgeworCQkJCWlubmVyPSBjb3Zlcmlu
Z05vZGU7CisJCQkJYnJlYWs7CisJCQl9CisJCQljb3ZlcmluZ05vZGU9IGNvdmVyaW5nTm9kZS5n
ZXRQYXJlbnQoKTsKKwkJCWlmIChjb3ZlcmluZ05vZGUgPT0gbnVsbCkKKwkJCQlyZXR1cm47CisJ
CX0KKwkJLy8gcHJlcGFyZSB0aHJlZSByZW5kZXJlcnMgZm9yIHRocmVlIHByb3Bvc2FsczoKKwkJ
VHlwZVJlbmRlcmVyIHJlbmRlcmVyTm9uTnVsbD0gbmV3IFR5cGVSZW5kZXJlcihpbm5lciwgTk9O
TlVMTCk7CisJCVR5cGVSZW5kZXJlciByZW5kZXJlck51bGxhYmxlPSBuZXcgVHlwZVJlbmRlcmVy
KGlubmVyLCBOVUxMQUJMRSk7CisJCVR5cGVSZW5kZXJlciByZW5kZXJlclJlbW92ZT0gbmV3IFR5
cGVSZW5kZXJlcihpbm5lciwgTk9fQU5OT1RBVElPTik7CisJCUFTVE5vZGUgb3V0ZXI9IGlubmVy
OyAvLyB3aWxsIGJlY29tZSB0aGUgb3V0ZXJtb3N0IHR5cGUgb3IgdHlwZSBwYXJhbWV0ZXIgbm9k
ZQorCQl7CisJCQlBU1ROb2RlIG5leHQ7CisJCQl3aGlsZSAoKChuZXh0PSBvdXRlci5nZXRQYXJl
bnQoKSkgaW5zdGFuY2VvZiBUeXBlKSB8fCAobmV4dCBpbnN0YW5jZW9mIFR5cGVQYXJhbWV0ZXIp
KQorCQkJCW91dGVyPSBuZXh0OworCQl9CisJCWJvb2xlYW4gdXNlSmF2YTggPSBKYXZhTW9kZWxV
dGlsLmlzMThPckhpZ2hlcihqYXZhUHJvamVjdC5nZXRPcHRpb24oSmF2YUNvcmUuQ09NUElMRVJf
U09VUkNFLCB0cnVlKSk7CisJCWlmICghdXNlSmF2YTggJiYgb3V0ZXIgIT0gaW5uZXIpIHsKKwkJ
CXJldHVybjsgLy8gY2Fubm90IG9ubHkgYW5ub3RhdGUgdGhlIHRvcCB0eXBlIChub3QgdHlwZSBw
YXJhbWV0ZXIpIGJlbG93IDEuOAorCQl9CisJCWlmIChvdXRlciBpbnN0YW5jZW9mIFR5cGUpIHsK
KwkJCUlUeXBlQmluZGluZyB0eXBlQmluZGluZz0gKChUeXBlKSBvdXRlcikucmVzb2x2ZUJpbmRp
bmcoKTsKKwkJCWlmICh0eXBlQmluZGluZyAhPSBudWxsICYmIHR5cGVCaW5kaW5nLmlzUHJpbWl0
aXZlKCkpCisJCQkJcmV0dXJuOworCQkJb3V0ZXIuYWNjZXB0KHJlbmRlcmVyTm9uTnVsbCk7CisJ
CQlvdXRlci5hY2NlcHQocmVuZGVyZXJOdWxsYWJsZSk7CisJCQlvdXRlci5hY2NlcHQocmVuZGVy
ZXJSZW1vdmUpOworCQl9IGVsc2UgeworCQkJcmVuZGVyZXJOb25OdWxsLnZpc2l0VHlwZVBhcmFt
ZXRlcnMoKExpc3QpIG91dGVyLmdldFBhcmVudCgpLmdldFN0cnVjdHVyYWxQcm9wZXJ0eShvdXRl
ci5nZXRMb2NhdGlvbkluUGFyZW50KCkpKTsKKwkJCXJlbmRlcmVyTnVsbGFibGUudmlzaXRUeXBl
UGFyYW1ldGVycygoTGlzdCkgb3V0ZXIuZ2V0UGFyZW50KCkuZ2V0U3RydWN0dXJhbFByb3BlcnR5
KG91dGVyLmdldExvY2F0aW9uSW5QYXJlbnQoKSkpOworCQkJcmVuZGVyZXJSZW1vdmUudmlzaXRU
eXBlUGFyYW1ldGVycygoTGlzdCkgb3V0ZXIuZ2V0UGFyZW50KCkuZ2V0U3RydWN0dXJhbFByb3Bl
cnR5KG91dGVyLmdldExvY2F0aW9uSW5QYXJlbnQoKSkpOworCQl9CisKKwkJU3RydWN0dXJhbFBy
b3BlcnR5RGVzY3JpcHRvciBsb2NhdGlvbkluUGFyZW50PSBvdXRlci5nZXRMb2NhdGlvbkluUGFy
ZW50KCk7CisJCWlmIChsb2NhdGlvbkluUGFyZW50ID09IE1ldGhvZERlY2xhcmF0aW9uLlJFVFVS
Tl9UWVBFMl9QUk9QRVJUWSkgeworCQkJSU1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZz0gbWV0
aG9kLnJlc29sdmVCaW5kaW5nKCk7CisJCQlJU2lnbmF0dXJlQW5ub3RhdGlvblJld3JpdGVPcGVy
YXRpb24gb3BlcmF0aW9uOworCQkJU3RyaW5nIG1lc3NhZ2U7CisJCQkvLyBwcm9wb3NlIGFkZGlu
ZyBATm9uTnVsbDoKKwkJCW1lc3NhZ2U9IE1lc3NhZ2VzLmZvcm1hdChGaXhNZXNzYWdlcy5OdWxs
QW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19hZGRfbWV0aG9kX3JldHVybl9udWxsbmVzc19l
eHRlcm5hbCwKKwkJCQkJCW5ldyBTdHJpbmdbXSB7IG1ldGhvZEJpbmRpbmcuZ2V0TmFtZSgpLCBO
dWxsQW5ub3RhdGlvbnNGaXguZ2V0Tm9uTnVsbEFubm90YXRpb25OYW1lKGN1LCB0cnVlKSB9KTsK
KwkJCW9wZXJhdGlvbj0gRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMu
Y3JlYXRlQ2hhbmdlUmV0dXJuKGN1LCBtZXRob2RCaW5kaW5nLAorCQkJCQkJCQkJcmVuZGVyZXJO
b25OdWxsLmdldFJlc3VsdCgpLCBtZXNzYWdlLCBNZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5P
VEFUSU9OUyk7CisJCQlyZXN1bHRpbmdDb2xsZWN0aW9ucy5hZGQobmV3IEFkZEV4dGVybmFsQW5u
b3RhdGlvblByb3Bvc2FsKG9wZXJhdGlvbikpOworCQkJLy8gcHJvcG9zZSBhZGRpbmcgQE51bGxh
YmxlOgorCQkJbWVzc2FnZT0gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2VzLk51bGxBbm5vdGF0
aW9uc1Jld3JpdGVPcGVyYXRpb25zX2FkZF9tZXRob2RfcmV0dXJuX251bGxuZXNzX2V4dGVybmFs
LAorCQkJCQkJbmV3IFN0cmluZ1tdIHsgbWV0aG9kQmluZGluZy5nZXROYW1lKCksIE51bGxBbm5v
dGF0aW9uc0ZpeC5nZXROdWxsYWJsZUFubm90YXRpb25OYW1lKGN1LCB0cnVlKSB9KTsKKwkJCW9w
ZXJhdGlvbj0gRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25zUmV3cml0ZU9wZXJhdGlvbnMuY3JlYXRl
Q2hhbmdlUmV0dXJuKGN1LCBtZXRob2RCaW5kaW5nLAorCQkJCQkJCQkJcmVuZGVyZXJOdWxsYWJs
ZS5nZXRSZXN1bHQoKSwgbWVzc2FnZSwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElP
TlMpOworCQkJcmVzdWx0aW5nQ29sbGVjdGlvbnMuYWRkKG5ldyBBZGRFeHRlcm5hbEFubm90YXRp
b25Qcm9wb3NhbChvcGVyYXRpb24pKTsKKwkJCS8vIHByb3Bvc2UgcmVtb3ZpbmcgYW5ub3RhdGlv
bjoKKwkJCW1lc3NhZ2U9IE1lc3NhZ2VzLmZvcm1hdChGaXhNZXNzYWdlcy5OdWxsQW5ub3RhdGlv
bnNSZXdyaXRlT3BlcmF0aW9uc19yZW1vdmVfbWV0aG9kX3JldHVybl9udWxsbmVzc19leHRlcm5h
bCwKKwkJCQkJCW5ldyBTdHJpbmdbXSB7IG1ldGhvZEJpbmRpbmcuZ2V0TmFtZSgpIH0pOworCQkJ
b3BlcmF0aW9uPSBFeHRlcm5hbE51bGxBbm5vYXRhdGlvbnNSZXdyaXRlT3BlcmF0aW9ucy5jcmVh
dGVDaGFuZ2VSZXR1cm4oY3UsIG1ldGhvZEJpbmRpbmcsCisJCQkJCQkJCQlyZW5kZXJlclJlbW92
ZS5nZXRSZXN1bHQoKSwgbWVzc2FnZSwgTWVyZ2VTdHJhdGVneS5PVkVSV1JJVEVfQU5OT1RBVElP
TlMpOworCQkJcmVzdWx0aW5nQ29sbGVjdGlvbnMuYWRkKG5ldyBBZGRFeHRlcm5hbEFubm90YXRp
b25Qcm9wb3NhbChvcGVyYXRpb24pKTsKKwkJfQorCX0KKwkKKwkvKioKKwkgKiBBIHZpc2l0b3Ig
dGhhdCByZW5kZXJzIGFuIEFTVCBzbmlwcGV0IHJlcHJlc2VudGluZyBhIHR5cGUgb3IgdHlwZSBw
YXJhbWV0ZXIuCisJICogRm9yIHJlbmRlcmluZyB0aGUgRWNsaXBzZSBFeHRlcm5hbCBBbm5vdGF0
aW9uIGZvcm1hdCBpcyB1c2VkLCBpLmUuLCBjbGFzcyBmaWxlCisJICogc2lnbmF0dXJlcyB3aXRo
IGFkZGl0aW9ucyBmb3IgbnVsbCBhbm5vdGF0aW9ucy4KKwkgKiA8cD4KKwkgKiBJbiBwYXJ0aWN1
bGFyIGEgZ2l2ZW4gbnVsbCBhbm5vdGF0aW9uIGlzIGluc2VydGVkIGZvciB0aGUgZ2l2ZW4gZm9j
dXNUeXBlLgorCSAqIDwvcD4KKwkgKi8KKwlwcml2YXRlIHN0YXRpYyBjbGFzcyBUeXBlUmVuZGVy
ZXIgZXh0ZW5kcyBBU1RWaXNpdG9yIHsKKwkJU3RyaW5nQnVmZmVyIGZCdWZmZXI7CisJCUFTVE5v
ZGUgZkZvY3VzVHlwZTsgLy8gVHlwZSBvciBUeXBlUGFyYW1ldGVyCisJCWNoYXIgZkFubm90YXRp
b247CisJCVR5cGVSZW5kZXJlcihBU1ROb2RlIGZvY3VzVHlwZSwgY2hhciBhbm5vdGF0aW9uKSB7
CisJCQlmQnVmZmVyPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCQlmRm9jdXNUeXBlPSBmb2N1c1R5
cGU7CisJCQlmQW5ub3RhdGlvbj0gYW5ub3RhdGlvbjsKKwkJfQorCQlwdWJsaWMgU3RyaW5nIGdl
dFJlc3VsdCgpIHsKKwkJCXJldHVybiBmQnVmZmVyLnRvU3RyaW5nKCk7CisJCX0KKwkJLyoqIFJl
bmRlcnMgYSB0eXBlIHBhcmFtZXRlciBsaXN0IGluIGFuZ2xlIGJyYWNrZXRzLiAqLworCQlwdWJs
aWMgdm9pZCB2aXNpdFR5cGVQYXJhbWV0ZXJzKExpc3QgcGFyYW1ldGVycykgeworCQkJZkJ1ZmZl
ci5hcHBlbmQoJzwnKTsKKwkJCWZvciAoT2JqZWN0IHAgOiBwYXJhbWV0ZXJzKQorCQkJCSgoVHlw
ZVBhcmFtZXRlcikgcCkuYWNjZXB0KHRoaXMpOworCQkJZkJ1ZmZlci5hcHBlbmQoJz4nKTsKKwkJ
fQorCQlAT3ZlcnJpZGUKKwkJcHVibGljIGJvb2xlYW4gdmlzaXQoUGFyYW1ldGVyaXplZFR5cGUg
dHlwZSkgeworCQkJZkJ1ZmZlci5hcHBlbmQoJ0wnKTsKKwkJCWlmICh0eXBlID09IGZGb2N1c1R5
cGUgfHwgdHlwZS5nZXRUeXBlKCkgPT0gZkZvY3VzVHlwZSkKKwkJCQlmQnVmZmVyLmFwcGVuZChm
QW5ub3RhdGlvbik7CisJCQlmQnVmZmVyLmFwcGVuZChiaW5hcnlOYW1lKHR5cGUucmVzb2x2ZUJp
bmRpbmcoKSkpOworCQkJZkJ1ZmZlci5hcHBlbmQoJzwnKTsKKwkJCWZvciAoT2JqZWN0IGFyZyA6
IHR5cGUudHlwZUFyZ3VtZW50cygpKQorCQkJCSgoVHlwZSkgYXJnKS5hY2NlcHQodGhpcyk7CisJ
CQlmQnVmZmVyLmFwcGVuZCgnPicpOworCQkJZkJ1ZmZlci5hcHBlbmQoJzsnKTsKKwkJCXJldHVy
biBmYWxzZTsKKwkJfQorCQlAT3ZlcnJpZGUKKwkJcHVibGljIGJvb2xlYW4gdmlzaXQoV2lsZGNh
cmRUeXBlIHdpbGRjYXJkKSB7CisJCQlUeXBlIGJvdW5kPSB3aWxkY2FyZC5nZXRCb3VuZCgpOwor
CQkJaWYgKGJvdW5kID09IG51bGwpIHsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnKicpOworCQkJfSBl
bHNlIGlmICh3aWxkY2FyZC5pc1VwcGVyQm91bmQoKSkgeworCQkJCWZCdWZmZXIuYXBwZW5kKCcr
Jyk7CisJCQl9IGVsc2UgeworCQkJCWZCdWZmZXIuYXBwZW5kKCctJyk7CisJCQl9CisJCQlpZiAo
d2lsZGNhcmQgPT0gZkZvY3VzVHlwZSkKKwkJCQlmQnVmZmVyLmFwcGVuZChmQW5ub3RhdGlvbik7
CisJCQlpZiAoYm91bmQgIT0gbnVsbCkKKwkJCQlib3VuZC5hY2NlcHQodGhpcyk7CisJCQlyZXR1
cm4gZmFsc2U7CisJCX0KKwkJQE92ZXJyaWRlCisJCXB1YmxpYyBib29sZWFuIHZpc2l0KEFycmF5
VHlwZSBhcnJheSkgeworCQkJaW50IGRpbXM9IGFycmF5LmdldERpbWVuc2lvbnMoKTsKKwkJCWZv
ciAoaW50IGk9IDA7IGkgPCBkaW1zOyBpKyspCisJCQkJZkJ1ZmZlci5hcHBlbmQoJ1snKTsKKwkJ
CWlmIChhcnJheSA9PSBmRm9jdXNUeXBlKQorCQkJCWZCdWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9u
KTsKKwkJCWFycmF5LmdldEVsZW1lbnRUeXBlKCkuYWNjZXB0KHRoaXMpOworCQkJcmV0dXJuIGZh
bHNlOworCQl9CisJCUBPdmVycmlkZQorCQlwdWJsaWMgYm9vbGVhbiB2aXNpdChUeXBlUGFyYW1l
dGVyIHBhcmFtZXRlcikgeworCQkJaWYgKHBhcmFtZXRlciA9PSBmRm9jdXNUeXBlKQorCQkJCWZC
dWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCWZCdWZmZXIuYXBwZW5kKHBhcmFtZXRlci5n
ZXROYW1lKCkuZ2V0SWRlbnRpZmllcigpKTsKKwkJCVR5cGUgY2xhc3NCb3VuZCA9IG51bGw7CisJ
CQlmb3IgKE9iamVjdCBib3VuZCA6IHBhcmFtZXRlci50eXBlQm91bmRzKCkpIHsKKwkJCQlUeXBl
IHR5cGVCb3VuZCA9IChUeXBlKSBib3VuZDsKKwkJCQlpZiAodHlwZUJvdW5kLnJlc29sdmVCaW5k
aW5nKCkuaXNDbGFzcygpKSB7CisJCQkJCWNsYXNzQm91bmQ9IHR5cGVCb3VuZDsKKwkJCQkJYnJl
YWs7CisJCQkJfQorCQkJfQorCQkJaWYgKGNsYXNzQm91bmQgIT0gbnVsbCkgeworCQkJCWZCdWZm
ZXIuYXBwZW5kKCc6Jyk7CisJCQkJY2xhc3NCb3VuZC5hY2NlcHQodGhpcyk7CisJCQl9IGVsc2Ug
eworCQkJCUlUeXBlQmluZGluZyB0eXBlQmluZGluZz0gcGFyYW1ldGVyLnJlc29sdmVCaW5kaW5n
KCk7CisJCQkJZkJ1ZmZlci5hcHBlbmQoIjpMIikuYXBwZW5kKGJpbmFyeU5hbWUodHlwZUJpbmRp
bmcuZ2V0U3VwZXJjbGFzcygpKSkuYXBwZW5kKCc7Jyk7IC8vJE5PTi1OTFMtMSQKKwkJCX0KKwkJ
CWZvciAoT2JqZWN0IGJvdW5kIDogcGFyYW1ldGVyLnR5cGVCb3VuZHMoKSkgeworCQkJCWlmIChi
b3VuZCA9PSBjbGFzc0JvdW5kKSBjb250aW51ZTsKKwkJCQlUeXBlIHR5cGVCb3VuZCA9IChUeXBl
KSBib3VuZDsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnOicpOworCQkJCXR5cGVCb3VuZC5hY2NlcHQo
dGhpcyk7CisJCQl9CisJCQlyZXR1cm4gZmFsc2U7CisJCX0KKwkJQE92ZXJyaWRlCisJCXB1Ymxp
YyBib29sZWFuIHZpc2l0KFNpbXBsZVR5cGUgdHlwZSkgeworCQkJSVR5cGVCaW5kaW5nIHR5cGVC
aW5kaW5nPSB0eXBlLnJlc29sdmVCaW5kaW5nKCk7CisJCQlpZiAodHlwZUJpbmRpbmcuaXNQcmlt
aXRpdmUoKSkgeworCQkJCWZCdWZmZXIuYXBwZW5kKHR5cGVCaW5kaW5nLmdldEJpbmFyeU5hbWUo
KSk7CisJCQl9IGVsc2UgaWYgKHR5cGVCaW5kaW5nLmlzVHlwZVZhcmlhYmxlKCkpIHsKKwkJCQlm
QnVmZmVyLmFwcGVuZCgnVCcpOworCQkJCWlmIChmRm9jdXNUeXBlID09IHR5cGUpCisJCQkJCWZC
dWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCQlmQnVmZmVyLmFwcGVuZCh0eXBlQmluZGlu
Zy5nZXROYW1lKCkpLmFwcGVuZCgnOycpOworCQkJfSBlbHNlIHsKKwkJCQlmQnVmZmVyLmFwcGVu
ZCgnTCcpOworCQkJCWlmIChmRm9jdXNUeXBlID09IHR5cGUpCisJCQkJCWZCdWZmZXIuYXBwZW5k
KGZBbm5vdGF0aW9uKTsKKwkJCQlmQnVmZmVyLmFwcGVuZChiaW5hcnlOYW1lKHR5cGVCaW5kaW5n
KSkuYXBwZW5kKCc7Jyk7CisJCQl9CisJCQlyZXR1cm4gZmFsc2U7CisJCX0KKwkJU3RyaW5nIGJp
bmFyeU5hbWUoSVR5cGVCaW5kaW5nIHR5cGUpIHsKKwkJCXJldHVybiB0eXBlLmdldEJpbmFyeU5h
bWUoKS5yZXBsYWNlKCcuJywgJy8nKTsKKwkJfQorCX0KKworCS8qKgorCSAqIEEgbGlnaHQtd2Vp
Z2h0IHF1aWNrIGFzc2lzdCBwcm9wb3NhbCBiYXNlZCBvbiBhbiB7QGxpbmsgSVNpZ25hdHVyZUFu
bm90YXRpb25SZXdyaXRlT3BlcmF0aW9ufS4KKwkgKiBEb2VzIG5vdCBkZXBlbmQgb24gYW55IGZ1
cnRoZXIgY29udGV4dCBsaWtlIGEgY29tcGlsYXRpb24gdW5pdCBldGMuCisJICovCisJcHJpdmF0
ZSBzdGF0aWMgZmluYWwgY2xhc3MgQWRkRXh0ZXJuYWxBbm5vdGF0aW9uUHJvcG9zYWwgaW1wbGVt
ZW50cyBJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbCwgSUNvbW1hbmRBY2Nlc3MgeworCQkKKwkJSVNp
Z25hdHVyZUFubm90YXRpb25SZXdyaXRlT3BlcmF0aW9uIGZPcGVyYXRpb247CisKKwkJcHVibGlj
IEFkZEV4dGVybmFsQW5ub3RhdGlvblByb3Bvc2FsKElTaWduYXR1cmVBbm5vdGF0aW9uUmV3cml0
ZU9wZXJhdGlvbiBvcGVyYXRpb24pIHsKKwkJCWZPcGVyYXRpb249IG9wZXJhdGlvbjsKKwkJfQor
CisJCXB1YmxpYyBQb2ludCBnZXRTZWxlY3Rpb24oSURvY3VtZW50IGRvY3VtZW50KSB7CisJCQly
ZXR1cm4gbnVsbDsgLy8gbm90aGluZyB0byByZXZlYWwgaW4gdGhlIGN1cnJlbnQgZWRpdG9yLgor
CQl9CisKKwkJcHVibGljIEltYWdlIGdldEltYWdlKCkgeworCQkJcmV0dXJuIEphdmFQbHVnaW5J
bWFnZXMuZ2V0KEphdmFQbHVnaW5JbWFnZXMuSU1HX09CSlNfQU5OT1RBVElPTik7CisJCX0KKwor
CQlwdWJsaWMgU3RyaW5nIGdldERpc3BsYXlTdHJpbmcoKSB7CisJCQlyZXR1cm4gZk9wZXJhdGlv
bi5nZXRNZXNzYWdlKCk7CisJCX0KKworCQlwdWJsaWMgSUNvbnRleHRJbmZvcm1hdGlvbiBnZXRD
b250ZXh0SW5mb3JtYXRpb24oKSB7CisJCQlyZXR1cm4gbnVsbDsKKwkJfQorCisJCXB1YmxpYyBT
dHJpbmcgZ2V0QWRkaXRpb25hbFByb3Bvc2FsSW5mbygpIHsKKwkJCXJldHVybiBmT3BlcmF0aW9u
LmdldEFkZGl0aW9uYWxJbmZvKCk7CisJCX0KKworCQlwdWJsaWMgdm9pZCBhcHBseShJRG9jdW1l
bnQgZG9jdW1lbnQpIHsKKwkJCUlQcm9wb3NhYmxlRml4IGZpeD0gZk9wZXJhdGlvbi5jcmVhdGVG
aXgoKTsKKwkJCXRyeSB7CisJCQkJZml4LmNyZWF0ZUNoYW5nZShuZXcgTnVsbFByb2dyZXNzTW9u
aXRvcigpKTsKKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24gZSkgeworCQkJCUphdmFQbHVnaW4u
bG9nKGUpOworCQkJfQorCQl9CisKKwkJcHVibGljIGludCBnZXRSZWxldmFuY2UoKSB7CisJCQly
ZXR1cm4gSVByb3Bvc2FsUmVsZXZhbmNlLkNIQU5HRV9NRVRIT0Q7IC8vIFRPRE8KKwkJfQorCisJ
CXB1YmxpYyBTdHJpbmcgZ2V0Q29tbWFuZElkKCkgeworCQkJLy8gVE9ETyA6IHdoYXQgaXMgdGhl
IGNvbW1hbmRJZCB1c2VkIGZvcj8KKwkJCXJldHVybiBudWxsOworCQl9CisJfQogfQpkaWZmIC0t
Z2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90
ZXh0L2NvcnJlY3Rpb24vUXVpY2tBc3Npc3RQcm9jZXNzb3IuamF2YSBiL29yZy5lY2xpcHNlLmpk
dC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL1F1aWNr
QXNzaXN0UHJvY2Vzc29yLmphdmEKaW5kZXggY2JmNWJlZC4uMmY3ZWVjYSAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2Nv
cnJlY3Rpb24vUXVpY2tBc3Npc3RQcm9jZXNzb3IuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQu
dWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9RdWlja0Fz
c2lzdFByb2Nlc3Nvci5qYXZhCkBAIC0yNjEsNDkgKzI2MSw1NyBAQAogCQkJQXJyYXlMaXN0PEFT
VE5vZGU+IGNvdmVyZWROb2Rlcz0gQWR2YW5jZWRRdWlja0Fzc2lzdFByb2Nlc3Nvci5nZXRGdWxs
eUNvdmVyZWROb2Rlcyhjb250ZXh0LCBjb3ZlcmluZ05vZGUpOwogCQkJQXJyYXlMaXN0PElDb21t
YW5kQWNjZXNzPiByZXN1bHRpbmdDb2xsZWN0aW9ucz0gbmV3IEFycmF5TGlzdDxJQ29tbWFuZEFj
Y2Vzcz4oKTsKIAkJCWJvb2xlYW4gbm9FcnJvcnNBdExvY2F0aW9uPSBub0Vycm9yc0F0TG9jYXRp
b24obG9jYXRpb25zKTsKKwkJCQorCQkJaWYgKGNvbnRleHQuZ2V0Q29tcGlsYXRpb25Vbml0KCku
Z2V0UmVzb3VyY2UoKSA9PSBudWxsKSB7CiAKLQkJCS8vIHF1aWNrIGFzc2lzdHMgdGhhdCBzaG93
IHVwIGFsc28gaWYgdGhlcmUgaXMgYW4gZXJyb3Ivd2FybmluZwotCQkJZ2V0UmVuYW1lTG9jYWxQ
cm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxl
Y3Rpb25zKTsKLQkJCWdldFJlbmFtZVJlZmFjdG9yaW5nUHJvcG9zYWwoY29udGV4dCwgY292ZXJp
bmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCWdldEFzc2lnblRv
VmFyaWFibGVQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3Vs
dGluZ0NvbGxlY3Rpb25zKTsKLQkJCWdldEFzc2lnblBhcmFtVG9GaWVsZFByb3Bvc2Fscyhjb250
ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCWdldEluZmVyRGlh
bW9uZEFyZ3VtZW50c1Byb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgbG9jYXRpb25zLCBy
ZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQlnZXRHZW5lcmF0ZUZvckxvb3BQcm9wb3NhbHMoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQot
CQkJaWYgKG5vRXJyb3JzQXRMb2NhdGlvbikgewotCQkJCWJvb2xlYW4gcHJvYmxlbXNBdExvY2F0
aW9uPSBsb2NhdGlvbnMubGVuZ3RoICE9IDA7Ci0JCQkJZ2V0Q2F0Y2hDbGF1c2VUb1Rocm93c1By
b3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJ
CQlnZXRQaWNrb3V0VHlwZUZyb21NdWx0aWNhdGNoUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5n
Tm9kZSwgY292ZXJlZE5vZGVzLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0Q29udmVy
dFRvTXVsdGlDYXRjaFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKLQkJCQlnZXRVbnJvbGxNdWx0aUNhdGNoUHJvcG9zYWxzKGNvbnRleHQsIGNv
dmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldFVuV3JhcFByb3Bvc2Fs
cyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRK
b2luVmFyaWFibGVQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xs
ZWN0aW9ucyk7Ci0JCQkJZ2V0U3BsaXRWYXJpYWJsZVByb3Bvc2Fscyhjb250ZXh0LCBjb3Zlcmlu
Z05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRBZGRGaW5hbGx5UHJvcG9zYWxz
KGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdldEFk
ZEVsc2VQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7Ci0JCQkJZ2V0QWRkQmxvY2tQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1
bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0SW52ZXJ0RXF1YWxzUHJvcG9zYWwoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0QXJyYXlJbml0aWFs
aXplclRvQXJyYXlDcmVhdGlvbihjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxl
Y3Rpb25zKTsKLQkJCQlnZXRDcmVhdGVJblN1cGVyQ2xhc3NQcm9wb3NhbHMoY29udGV4dCwgY292
ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0RXh0cmFjdFZhcmlhYmxl
UHJvcG9zYWwoY29udGV4dCwgcHJvYmxlbXNBdExvY2F0aW9uLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7Ci0JCQkJZ2V0RXh0cmFjdE1ldGhvZFByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwg
cHJvYmxlbXNBdExvY2F0aW9uLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0SW5saW5l
TG9jYWxQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25z
KTsKLQkJCQlnZXRDb252ZXJ0TG9jYWxUb0ZpZWxkUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdO
b2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0Q29udmVydEFub255bW91c1RvTmVz
dGVkUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7
Ci0JCQkJZ2V0Q29udmVydEFub255bW91c0NsYXNzQ3JlYXRpb25zVG9MYW1iZGFQcm9wb3NhbHMo
Y29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0Q29u
dmVydExhbWJkYVRvQW5vbnltb3VzQ2xhc3NDcmVhdGlvbnNQcm9wb3NhbHMoY29udGV4dCwgY292
ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0Q2hhbmdlTGFtYmRhQm9k
eVRvQmxvY2tQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKTsKLQkJCQlnZXRDaGFuZ2VMYW1iZGFCb2R5VG9FeHByZXNzaW9uUHJvcG9zYWwoY29udGV4
dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0QWRkSW5mZXJy
ZWRMYW1iZGFQYXJhbWV0ZXJUeXBlcyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0TWV0aG9kUmVmZXJlbmNlVG9MYW1iZGFQcm9wb3Nh
bChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRD
b252ZXJ0TGFtYmRhVG9NZXRob2RSZWZlcmVuY2VQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05v
ZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlpZiAoIWdldENvbnZlcnRGb3JMb29wUHJv
cG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucykpCi0JCQkJ
CWdldENvbnZlcnRJdGVyYWJsZUxvb3BQcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJl
c3VsdGluZ0NvbGxlY3Rpb25zKTsKLQkJCQlnZXRDb252ZXJ0RW5oYW5jZWRGb3JMb29wUHJvcG9z
YWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0
UmVtb3ZlQmxvY2tQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xs
ZWN0aW9ucyk7Ci0JCQkJZ2V0TWFrZVZhcmlhYmxlRGVjbGFyYXRpb25GaW5hbFByb3Bvc2Fscyhj
b250ZXh0LCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7Ci0JCQkJZ2V0Q29udmVydFN0cmluZ0NvbmNh
dGVuYXRpb25Qcm9wb3NhbHMoY29udGV4dCwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOwotCQkJCWdl
dE1pc3NpbmdDYXNlU3RhdGVtZW50UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCS8vIHF1aWNrIGFzc2lzdHMgb24gY2xhc3MgZmlsZSBl
ZGl0b3JzOgorCQkJCU51bGxBbm5vdGF0aW9uc0NvcnJlY3Rpb25Qcm9jZXNzb3IuZ2V0RXh0ZXJu
YWxBbm5vdGF0aW9uc1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKKwkJCQorCQkJfSBlbHNlIHsKKwkKKwkJCQkvLyBxdWljayBhc3Npc3RzIHRo
YXQgc2hvdyB1cCBhbHNvIGlmIHRoZXJlIGlzIGFuIGVycm9yL3dhcm5pbmcKKwkJCQlnZXRSZW5h
bWVMb2NhbFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIGxvY2F0aW9ucywgcmVzdWx0
aW5nQ29sbGVjdGlvbnMpOworCQkJCWdldFJlbmFtZVJlZmFjdG9yaW5nUHJvcG9zYWwoY29udGV4
dCwgY292ZXJpbmdOb2RlLCBsb2NhdGlvbnMsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQln
ZXRBc3NpZ25Ub1ZhcmlhYmxlUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgbG9jYXRp
b25zLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0QXNzaWduUGFyYW1Ub0ZpZWxkUHJv
cG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJ
CWdldEluZmVyRGlhbW9uZEFyZ3VtZW50c1Byb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwg
bG9jYXRpb25zLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJZ2V0R2VuZXJhdGVGb3JMb29w
UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgbG9jYXRpb25zLCByZXN1bHRpbmdDb2xs
ZWN0aW9ucyk7CisJCisJCQkJaWYgKG5vRXJyb3JzQXRMb2NhdGlvbikgeworCQkJCQlib29sZWFu
IHByb2JsZW1zQXRMb2NhdGlvbj0gbG9jYXRpb25zLmxlbmd0aCAhPSAwOworCQkJCQlnZXRDYXRj
aENsYXVzZVRvVGhyb3dzUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOworCQkJCQlnZXRQaWNrb3V0VHlwZUZyb21NdWx0aWNhdGNoUHJvcG9zYWxz
KGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgY292ZXJlZE5vZGVzLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7CisJCQkJCWdldENvbnZlcnRUb011bHRpQ2F0Y2hQcm9wb3NhbHMoY29udGV4dCwgY292ZXJp
bmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldFVucm9sbE11bHRpQ2F0Y2hQ
cm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJ
CQkJCWdldFVuV3JhcFByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0Nv
bGxlY3Rpb25zKTsKKwkJCQkJZ2V0Sm9pblZhcmlhYmxlUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVy
aW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRTcGxpdFZhcmlhYmxlUHJv
cG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJ
CQlnZXRBZGRGaW5hbGx5UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5n
Q29sbGVjdGlvbnMpOworCQkJCQlnZXRBZGRFbHNlUHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5n
Tm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRBZGRCbG9ja1Byb3Bvc2Fscyhj
b250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0SW52
ZXJ0RXF1YWxzUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0
aW9ucyk7CisJCQkJCWdldEFycmF5SW5pdGlhbGl6ZXJUb0FycmF5Q3JlYXRpb24oY29udGV4dCwg
Y292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldENyZWF0ZUluU3Vw
ZXJDbGFzc1Byb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rp
b25zKTsKKwkJCQkJZ2V0RXh0cmFjdFZhcmlhYmxlUHJvcG9zYWwoY29udGV4dCwgcHJvYmxlbXNB
dExvY2F0aW9uLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldEV4dHJhY3RNZXRob2RQ
cm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHByb2JsZW1zQXRMb2NhdGlvbiwgcmVzdWx0
aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRJbmxpbmVMb2NhbFByb3Bvc2FsKGNvbnRleHQsIGNv
dmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252ZXJ0TG9jYWxU
b0ZpZWxkUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9u
cyk7CisJCQkJCWdldENvbnZlcnRBbm9ueW1vdXNUb05lc3RlZFByb3Bvc2FsKGNvbnRleHQsIGNv
dmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252ZXJ0QW5vbnlt
b3VzQ2xhc3NDcmVhdGlvbnNUb0xhbWJkYVByb3Bvc2Fscyhjb250ZXh0LCBjb3ZlcmluZ05vZGUs
IHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0Q29udmVydExhbWJkYVRvQW5vbnltb3Vz
Q2xhc3NDcmVhdGlvbnNQcm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdD
b2xsZWN0aW9ucyk7CisJCQkJCWdldENoYW5nZUxhbWJkYUJvZHlUb0Jsb2NrUHJvcG9zYWwoY29u
dGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldENoYW5n
ZUxhbWJkYUJvZHlUb0V4cHJlc3Npb25Qcm9wb3NhbChjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJl
c3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0QWRkSW5mZXJyZWRMYW1iZGFQYXJhbWV0ZXJU
eXBlcyhjb250ZXh0LCBjb3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJ
Z2V0Q29udmVydE1ldGhvZFJlZmVyZW5jZVRvTGFtYmRhUHJvcG9zYWwoY29udGV4dCwgY292ZXJp
bmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldENvbnZlcnRMYW1iZGFUb01l
dGhvZFJlZmVyZW5jZVByb3Bvc2FsKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29s
bGVjdGlvbnMpOworCQkJCQlpZiAoIWdldENvbnZlcnRGb3JMb29wUHJvcG9zYWwoY29udGV4dCwg
Y292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucykpCisJCQkJCQlnZXRDb252ZXJ0SXRl
cmFibGVMb29wUHJvcG9zYWwoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0
aW9ucyk7CisJCQkJCWdldENvbnZlcnRFbmhhbmNlZEZvckxvb3BQcm9wb3NhbChjb250ZXh0LCBj
b3ZlcmluZ05vZGUsIHJlc3VsdGluZ0NvbGxlY3Rpb25zKTsKKwkJCQkJZ2V0UmVtb3ZlQmxvY2tQ
cm9wb3NhbHMoY29udGV4dCwgY292ZXJpbmdOb2RlLCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJ
CQkJCWdldE1ha2VWYXJpYWJsZURlY2xhcmF0aW9uRmluYWxQcm9wb3NhbHMoY29udGV4dCwgcmVz
dWx0aW5nQ29sbGVjdGlvbnMpOworCQkJCQlnZXRDb252ZXJ0U3RyaW5nQ29uY2F0ZW5hdGlvblBy
b3Bvc2Fscyhjb250ZXh0LCByZXN1bHRpbmdDb2xsZWN0aW9ucyk7CisJCQkJCWdldE1pc3NpbmdD
YXNlU3RhdGVtZW50UHJvcG9zYWxzKGNvbnRleHQsIGNvdmVyaW5nTm9kZSwgcmVzdWx0aW5nQ29s
bGVjdGlvbnMpOworCQkJCX0KIAkJCX0KIAkJCXJldHVybiByZXN1bHRpbmdDb2xsZWN0aW9ucy50
b0FycmF5KG5ldyBJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbFtyZXN1bHRpbmdDb2xsZWN0aW9ucy5z
aXplKCldKTsKIAkJfQo=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>251267</attachid>
            <date>2015-03-03 18:00:00 -0500</date>
            <delta_ts>2015-03-05 10:16:23 -0500</delta_ts>
            <desc>update v(5)</desc>
            <filename>Bug-458200-v5.patch</filename>
            <type>text/plain</type>
            <size>48276</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9NRVRBLUlORi9NQU5JRkVTVC5NRiBiL29y
Zy5lY2xpcHNlLmpkdC51aS9NRVRBLUlORi9NQU5JRkVTVC5NRgppbmRleCBhN2RhNWI1Li5iNWQy
NzI1IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvTUVUQS1JTkYvTUFOSUZFU1QuTUYK
KysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL01FVEEtSU5GL01BTklGRVNULk1GCkBAIC0yLDcgKzIs
NyBAQAogQnVuZGxlLU1hbmlmZXN0VmVyc2lvbjogMgogQnVuZGxlLU5hbWU6ICVwbHVnaW5OYW1l
CiBCdW5kbGUtU3ltYm9saWNOYW1lOiBvcmcuZWNsaXBzZS5qZHQudWk7IHNpbmdsZXRvbjo9dHJ1
ZQotQnVuZGxlLVZlcnNpb246IDMuMTAuMTAwLnF1YWxpZmllcgorQnVuZGxlLVZlcnNpb246IDMu
MTEuMC5xdWFsaWZpZXIKIEJ1bmRsZS1BY3RpdmF0b3I6IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5h
bC51aS5KYXZhUGx1Z2luCiBCdW5kbGUtQWN0aXZhdGlvblBvbGljeTogbGF6eQogQnVuZGxlLVZl
bmRvcjogJXByb3ZpZGVyTmFtZQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUg
ZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0V4dGVybmFsTnVs
bEFubm9hdGF0aW9uQ2hhbmdlUHJvcG9zYWxzLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvY29y
ZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRXh0ZXJuYWxO
dWxsQW5ub2F0YXRpb25DaGFuZ2VQcm9wb3NhbHMuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NApp
bmRleCAwMDAwMDAwLi5jY2FjNmZiCi0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0
LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0V4
dGVybmFsTnVsbEFubm9hdGF0aW9uQ2hhbmdlUHJvcG9zYWxzLmphdmEKQEAgLTAsMCArMSw1Mzkg
QEAKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTUgR0sgU29m
dHdhcmUgQUcgYW5kIG90aGVycy4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3Jh
bSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1
bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICogd2hp
Y2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKKyAq
IGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogQ29udHJp
YnV0b3JzOgorICogICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBJbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNsaXBzZS5q
ZHQuaW50ZXJuYWwuY29yZXh0LmZpeDsKKworaW1wb3J0IHN0YXRpYyBvcmcuZWNsaXBzZS5qZHQu
Y29yZS51dGlsLkV4dGVybmFsQW5ub3RhdGlvblV0aWwuTk9OTlVMTDsKK2ltcG9ydCBzdGF0aWMg
b3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLk5PX0FOTk9U
QVRJT047CitpbXBvcnQgc3RhdGljIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxB
bm5vdGF0aW9uVXRpbC5OVUxMQUJMRTsKK2ltcG9ydCBzdGF0aWMgb3JnLmVjbGlwc2UuamR0LmNv
cmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLmFubm90YXRlTWV0aG9kUGFyYW1ldGVyVHlw
ZTsKK2ltcG9ydCBzdGF0aWMgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90
YXRpb25VdGlsLmFubm90YXRlTWV0aG9kUmV0dXJuVHlwZTsKK2ltcG9ydCBzdGF0aWMgb3JnLmVj
bGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLmV4dHJhY3RHZW5lcmlj
U2lnbmF0dXJlOworaW1wb3J0IHN0YXRpYyBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkV4dGVy
bmFsQW5ub3RhdGlvblV0aWwuZ2V0QW5ub3RhdGlvbkZpbGU7CitpbXBvcnQgc3RhdGljIG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC51aS50ZXh0LnNwZWxsaW5nLldvcmRDb3JyZWN0aW9uUHJvcG9z
YWwuZ2V0SHRtbFJlcHJlc2VudGF0aW9uOworCitpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsK
K2ltcG9ydCBqYXZhLmlvLlVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb247CitpbXBvcnQgamF2
YS51dGlsLkFycmF5TGlzdDsKK2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsKKworaW1wb3J0IG9yZy5l
Y2xpcHNlLnN3dC5ncmFwaGljcy5JbWFnZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZ3JhcGhp
Y3MuUG9pbnQ7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuQ29yZUV4Y2VwdGlv
bjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuSVByb2dyZXNzTW9uaXRvcjsKK2lt
cG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuTnVsbFByb2dyZXNzTW9uaXRvcjsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmNv
cmUucmVzb3VyY2VzLklGaWxlOworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklQ
cm9qZWN0OworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklXb3Jrc3BhY2VSb290
OworCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5JRG9jdW1lbnQ7CitpbXBvcnQgb3Jn
LmVjbGlwc2UuamZhY2UudGV4dC5jb250ZW50YXNzaXN0LklDb250ZXh0SW5mb3JtYXRpb247CisK
K2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ2xhc3NwYXRoQXR0cmlidXRlOworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklDbGFzc3BhdGhFbnRyeTsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5JQ29tcGlsYXRpb25Vbml0OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LklKYXZhRWxlbWVudDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JSmF2YVByb2plY3Q7
CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSVBhY2thZ2VGcmFnbWVudFJvb3Q7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSmF2YUNvcmU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUuSmF2YU1vZGVsRXhjZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRv
bS5BU1ROb2RlOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5BU1RWaXNpdG9yOwor
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5BcnJheVR5cGU7CitpbXBvcnQgb3JnLmVj
bGlwc2UuamR0LmNvcmUuZG9tLklNZXRob2RCaW5kaW5nOworaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLmRvbS5JVHlwZUJpbmRpbmc7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9t
Lk1ldGhvZERlY2xhcmF0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5QYXJh
bWV0ZXJpemVkVHlwZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uU2ltcGxlVHlw
ZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uU2luZ2xlVmFyaWFibGVEZWNsYXJh
dGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uU3RydWN0dXJhbFByb3BlcnR5
RGVzY3JpcHRvcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uVHlwZTsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uVHlwZVBhcmFtZXRlcjsKK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZHQuY29yZS5kb20uV2lsZGNhcmRUeXBlOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5j
b3JlLnV0aWwuRXh0ZXJuYWxBbm5vdGF0aW9uVXRpbDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQu
Y29yZS51dGlsLkV4dGVybmFsQW5ub3RhdGlvblV0aWwuTWVyZ2VTdHJhdGVneTsKKworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQuZG9tLkFTVE5vZGVzOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQudXRpbC5KYXZhTW9kZWxVdGlsOworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JleHQudXRpbC5NZXNzYWdlczsKKworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC51aS50ZXh0LmphdmEuSUphdmFDb21wbGV0aW9uUHJvcG9zYWw7Citp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LnVpLnRleHQuamF2YS5jb3JyZWN0aW9uLklDb21tYW5kQWNj
ZXNzOworCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLkphdmFQbHVnaW47Citp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLkphdmFQbHVnaW5JbWFnZXM7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlvbi5FeHRlcm5hbE51
bGxBbm5vdGF0aW9uUXVpY2tBc3Npc3RQcm9jZXNzb3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlvbi5JUHJvcG9zYWxSZWxldmFuY2U7CisKKy8qKgor
ICogUHJvcG9zYWxzIGZvciBudWxsIGFubm90YXRpb25zIHRoYXQgbW9kaWZ5IGV4dGVybmFsIGFu
bm90YXRpb25zLCByYXRoZXIgdGhhbiBKYXZhIHNvdXJjZSBmaWxlcy4KKyAqIEBzZWUgPGEgaHJl
Zj0iaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzQ1ODIwMCI+W251bGxdICJBbm5vdGF0ZSIgcHJv
cG9zYWxzIGZvciBhZGRpbmcgZXh0ZXJuYWwgbnVsbCBhbm5vdGF0aW9ucyB0byBsaWJyYXJ5IGNs
YXNzZXM8L2E+CisgKiBAc2luY2UgMy4xMQorICovCitwdWJsaWMgY2xhc3MgRXh0ZXJuYWxOdWxs
QW5ub2F0YXRpb25DaGFuZ2VQcm9wb3NhbHMgeworCisJc3RhdGljIGFic3RyYWN0IGNsYXNzIFNp
Z25hdHVyZUFubm90YXRpb25DaGFuZ2VQcm9wb3NhbCBpbXBsZW1lbnRzIElKYXZhQ29tcGxldGlv
blByb3Bvc2FsLCBJQ29tbWFuZEFjY2VzcyB7CisKKwkJcHJvdGVjdGVkIFN0cmluZyBmTGFiZWw7
CisJCQorCQlwcm90ZWN0ZWQgSUNvbXBpbGF0aW9uVW5pdCBmQ1U7IC8vIGN1IHdoZXJlIHRoZSBh
c3Npc3Qgd2FzIGludm9rZWQKKwkJcHJvdGVjdGVkIFN0cmluZyBmQWZmZWN0ZWRUeXBlTmFtZTsK
KwkJcHJvdGVjdGVkIElGaWxlIGZBbm5vdGF0aW9uRmlsZTsKKwkJcHJvdGVjdGVkIFN0cmluZyBm
U2VsZWN0b3I7CisJCXByb3RlY3RlZCBTdHJpbmcgZlNpZ25hdHVyZTsKKwkJcHJvdGVjdGVkIFN0
cmluZyBmQ3VycmVudEFubm90YXRlZDsKKwkJcHJvdGVjdGVkIFN0cmluZyBmQW5ub3RhdGVkU2ln
bmF0dXJlOworCQlwcm90ZWN0ZWQgTWVyZ2VTdHJhdGVneSBmTWVyZ2VTdHJhdGVneTsKKwkJcHJv
dGVjdGVkIFN0cmluZ1tdIGZEcnlSdW47IC8vIHJlc3VsdCBmcm9tIGEgZHJ5LXJ1biBzaWduYXR1
cmUgdXBkYXRlOyBzdHJ1Y3R1cmU6IHsgcHJlZml4LCBvbGQtdHlwZSwgbmV3LXR5cGUsIHBvc3Rm
aXggfQorCisKKwkJLyogcmV0dXJuIHRydWUgaWYgdGhlIG9wZXJhdGlvbiBpcyBhdmFpbGFibGUu
ICovCisJCWJvb2xlYW4gaW5pdGlhbGl6ZU9wZXJhdGlvbihJQ29tcGlsYXRpb25Vbml0IGN1LCBJ
TWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5nLCBTdHJpbmcgYW5ub3RhdGVkU2lnbmF0dXJlLAor
CQkJCVN0cmluZyBsYWJlbCwgTWVyZ2VTdHJhdGVneSBtZXJnZVN0cmF0ZWd5KQorCQl7CisJCQlJ
SmF2YVByb2plY3QgcHJvamVjdD0gKElKYXZhUHJvamVjdCkgY3UuZ2V0QW5jZXN0b3IoSUphdmFF
bGVtZW50LkpBVkFfUFJPSkVDVCk7CisJCQlJRmlsZSBmaWxlPSBudWxsOworCQkJdHJ5IHsKKwkJ
CQlmaWxlPSBnZXRBbm5vdGF0aW9uRmlsZShwcm9qZWN0LCBtZXRob2RCaW5kaW5nLmdldERlY2xh
cmluZ0NsYXNzKCksIG5ldyBOdWxsUHJvZ3Jlc3NNb25pdG9yKCkpOworCQkJfSBjYXRjaCAoQ29y
ZUV4Y2VwdGlvbiBlKSB7CisJCQkJcmV0dXJuIGZhbHNlOworCQkJfQorCQkJaWYgKGZpbGUgPT0g
bnVsbCkKKwkJCQlyZXR1cm4gZmFsc2U7CisKKwkJCWZDVT0gY3U7CisJCQlmQWZmZWN0ZWRUeXBl
TmFtZT0gbWV0aG9kQmluZGluZy5nZXREZWNsYXJpbmdDbGFzcygpLmdldEVyYXN1cmUoKS5nZXRC
aW5hcnlOYW1lKCkucmVwbGFjZSgnLicsICcvJyk7CisJCQlmQW5ub3RhdGlvbkZpbGU9IGZpbGU7
CisJCQlmU2VsZWN0b3I9IG1ldGhvZEJpbmRpbmcuZ2V0TmFtZSgpOworCQkJZkFubm90YXRlZFNp
Z25hdHVyZT0gYW5ub3RhdGVkU2lnbmF0dXJlOworCQkJZlNpZ25hdHVyZT0gZXh0cmFjdEdlbmVy
aWNTaWduYXR1cmUobWV0aG9kQmluZGluZyk7CisKKwkJCWZMYWJlbD0gbGFiZWw7CisJCQlmTWVy
Z2VTdHJhdGVneT0gbWVyZ2VTdHJhdGVneTsKKworCQkJZkN1cnJlbnRBbm5vdGF0ZWQgPSBFeHRl
cm5hbEFubm90YXRpb25VdGlsLmdldEFubm90YXRlZFNpZ25hdHVyZShmQWZmZWN0ZWRUeXBlTmFt
ZSwgZmlsZSwgZlNlbGVjdG9yLCBmU2lnbmF0dXJlKTsKKwkJCWlmIChmQ3VycmVudEFubm90YXRl
ZCA9PSBudWxsKQorCQkJCWZDdXJyZW50QW5ub3RhdGVkPSBmU2lnbmF0dXJlOworCQkJZHJ5UnVu
KCk7CisJCQlyZXR1cm4gZkRyeVJ1biAhPSBudWxsICYmICFmRHJ5UnVuWzFdLmVxdWFscyhmRHJ5
UnVuWzJdKTsKKwkJfQorCisJCS8qKgorCQkgKiBQZXJmb3JtIGEgZHJ5LXJ1biBhbm5vdGF0aW9u
IHVwZGF0ZSwgdG8gY2hlY2sgaWYgd2UgaGF2ZSBhbnkgdXBkYXRlLCBpbmRlZWQuCisJCSAqIFdo
ZW4gcmV0dXJuIHRydWUsIGZEcnlSdW4gbXVzdCBiZSBub25udWxsIGFuZCB2YWxpZC4KKwkJICov
CisJCXByb3RlY3RlZCBhYnN0cmFjdCB2b2lkIGRyeVJ1bigpOworCisJCXB1YmxpYyBQb2ludCBn
ZXRTZWxlY3Rpb24oSURvY3VtZW50IGRvY3VtZW50KSB7CisJCQlyZXR1cm4gbnVsbDsgLy8gbm90
aGluZyB0byByZXZlYWwgaW4gdGhlIGN1cnJlbnQgZWRpdG9yLgorCQl9CisKKwkJcHVibGljIFN0
cmluZyBnZXREaXNwbGF5U3RyaW5nKCkgeworCQkJcmV0dXJuIGZMYWJlbDsKKwkJfQorCQorCQlw
dWJsaWMgSW1hZ2UgZ2V0SW1hZ2UoKSB7CisJCQlyZXR1cm4gSmF2YVBsdWdpbkltYWdlcy5nZXQo
SmF2YVBsdWdpbkltYWdlcy5JTUdfT0JKU19BTk5PVEFUSU9OKTsKKwkJfQorCQorCQlwdWJsaWMg
SUNvbnRleHRJbmZvcm1hdGlvbiBnZXRDb250ZXh0SW5mb3JtYXRpb24oKSB7CisJCQlyZXR1cm4g
bnVsbDsKKwkJfQorCisJCXB1YmxpYyB2b2lkIGFwcGx5KElEb2N1bWVudCBkb2N1bWVudCkgewor
CQkJdHJ5IHsKKwkJCQlkb0Fubm90YXRlTWVtYmVyKG5ldyBOdWxsUHJvZ3Jlc3NNb25pdG9yKCkp
OworCQkJfSBjYXRjaCAoQ29yZUV4Y2VwdGlvbiBlKSB7CisJCQkJSmF2YVBsdWdpbi5sb2coZSk7
CisJCQl9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CisJCQkJSmF2YVBsdWdpbi5sb2coZSk7CisJ
CQl9CisJCX0KKwkKKwkJcHVibGljIGludCBnZXRSZWxldmFuY2UoKSB7CisJCQlyZXR1cm4gSVBy
b3Bvc2FsUmVsZXZhbmNlLkNIQU5HRV9NRVRIT0Q7CisJCX0KKwkKKwkJcHVibGljIFN0cmluZyBn
ZXRDb21tYW5kSWQoKSB7CisJCQlyZXR1cm4gRXh0ZXJuYWxOdWxsQW5ub3RhdGlvblF1aWNrQXNz
aXN0UHJvY2Vzc29yLkFOTk9UQVRFX01FTUJFUl9JRDsKKwkJfQorCisJCXB1YmxpYyBTdHJpbmcg
Z2V0QWRkaXRpb25hbFByb3Bvc2FsSW5mbygpIHsKKwkJCVN0cmluZ0J1ZmZlciBidWZmZXI9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKwkJCWJ1ZmZlci5hcHBlbmQoIjxkbD4iKTsgLy8kTk9OLU5MUy0x
JAorCQkJYnVmZmVyLmFwcGVuZCgiPGR0PiIpLmFwcGVuZChmU2VsZWN0b3IpLmFwcGVuZCgiPC9k
dD4iKTsgLy8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkCisJCQlidWZmZXIuYXBwZW5kKCI8ZGQ+
IikuYXBwZW5kKGdldEh0bWxSZXByZXNlbnRhdGlvbihmU2lnbmF0dXJlKSkuYXBwZW5kKCI8L2Rk
PiIpOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQKKwkJCWJ1ZmZlci5hcHBlbmQoIjxkZD4i
KS5hcHBlbmQoZ2V0RnVsbEFubm90YXRlZFNpZ25hdHVyZUhUTUwoKSkuYXBwZW5kKCI8L2RkPiIp
OyAgLy8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkCisJCQlidWZmZXIuYXBwZW5kKCI8L2RsPiIp
OyAvLyROT04tTkxTLTEkCisJCQlyZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7CisJCX0JCisKKwkJ
cHJvdGVjdGVkIFN0cmluZyBnZXRGdWxsQW5ub3RhdGVkU2lnbmF0dXJlSFRNTCgpIHsKKwkJCVN0
cmluZ1tdIHBhcnRzPSBmRHJ5UnVuOworCQkKKwkJCS8vIHNlYXJjaCB0aGUgZGlmZmVyZW5jZToK
KwkJCWludCBwb3M9IDA7CisJCQl3aGlsZSAocG9zIDwgcGFydHNbMV0ubGVuZ3RoKCkgJiYgcG9z
IDwgcGFydHNbMl0ubGVuZ3RoKCkpIHsKKwkJCQlpZiAocGFydHNbMV0uY2hhckF0KHBvcykgIT0g
cGFydHNbMl0uY2hhckF0KHBvcykpCisJCQkJCWJyZWFrOworCQkJCXBvcysrOworCQkJfQorCisJ
CQkvLyBwcmVmaXggdXAtdG8gdGhlIGRpZmZlcmVuY2U6CisJCQlTdHJpbmdCdWlsZGVyIGJ1Zj0g
bmV3IFN0cmluZ0J1aWxkZXIoKTsKKwkJCWJ1Zi5hcHBlbmQoZ2V0SHRtbFJlcHJlc2VudGF0aW9u
KHBhcnRzWzBdKSk7CisJCQlidWYuYXBwZW5kKGdldEh0bWxSZXByZXNlbnRhdGlvbihwYXJ0c1sy
XS5zdWJzdHJpbmcoMCwgcG9zKSkpOworCQkJCisJCQkvLyBoaWdobGlnaHQgdGhlIGRpZmZlcmVu
Y2U6CisJCQlzd2l0Y2ggKHBhcnRzWzJdLmNoYXJBdChwb3MpKSB7CisJCQkJY2FzZSBOVUxMQUJM
RToKKwkJCQljYXNlIE5PTk5VTEw6IAorCQkJCQkvLyBhZGRlZCBhbm5vdGF0aW9uIGluIHBhcnRz
WzJdOiBib2xkOgorCQkJCQlidWYuYXBwZW5kKCI8Yj4iKS5hcHBlbmQocGFydHNbMl0uY2hhckF0
KHBvcykpLmFwcGVuZCgiPC9iPiIpOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQKKwkJCQkJ
YnJlYWs7CisJCQkJZGVmYXVsdDoKKwkJCQkJLy8gcmVtb3ZlZCBhbm5vdGF0aW9uIGluIHBhcnRz
WzFdOiBzdHJpa2U6CisJCQkJCWJ1Zi5hcHBlbmQoIjxkZWw+IikuYXBwZW5kKHBhcnRzWzFdLmNo
YXJBdChwb3MpKS5hcHBlbmQoIjwvZGVsPiIpOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQK
KwkJCQkJcG9zLS07IC8vIGNoYXIgaW4gcGFydHNbMl0gaXMgbm90IHlldCBjb25zdW1lZAorCQkJ
fQorCQkJCisJCQkvLyBldmVyeXRoaW5nIGVsc2U6CisJCQlidWYuYXBwZW5kKGdldEh0bWxSZXBy
ZXNlbnRhdGlvbihwYXJ0c1syXS5zdWJzdHJpbmcocG9zKzEpKSk7CisJCQlidWYuYXBwZW5kKGdl
dEh0bWxSZXByZXNlbnRhdGlvbihwYXJ0c1szXSkpOworCQkJcmV0dXJuIGJ1Zi50b1N0cmluZygp
OworCQl9CisKKwkJcHJvdGVjdGVkIGFic3RyYWN0IHZvaWQgZG9Bbm5vdGF0ZU1lbWJlcihJUHJv
Z3Jlc3NNb25pdG9yIG1vbml0b3IpIHRocm93cyBDb3JlRXhjZXB0aW9uLCBVbnN1cHBvcnRlZEVu
Y29kaW5nRXhjZXB0aW9uLCBJT0V4Y2VwdGlvbjsKKwl9CisKKwlzdGF0aWMgY2xhc3MgUmV0dXJu
QW5ub3RhdGlvblJld3JpdGVQcm9wb3NhbCBleHRlbmRzIFNpZ25hdHVyZUFubm90YXRpb25DaGFu
Z2VQcm9wb3NhbCB7CisKKwkJQE92ZXJyaWRlCisJCXByb3RlY3RlZCB2b2lkIGRyeVJ1bigpIHsK
KwkJCWZEcnlSdW49IEV4dGVybmFsQW5ub3RhdGlvblV0aWwuYW5ub3RhdGVSZXR1cm5UeXBlKGZD
dXJyZW50QW5ub3RhdGVkLCBmQW5ub3RhdGVkU2lnbmF0dXJlLCBmTWVyZ2VTdHJhdGVneSk7CQkJ
CisJCX0KKworCQlAT3ZlcnJpZGUKKwkJcHJvdGVjdGVkIHZvaWQgZG9Bbm5vdGF0ZU1lbWJlcihJ
UHJvZ3Jlc3NNb25pdG9yIG1vbml0b3IpIHRocm93cyBDb3JlRXhjZXB0aW9uLCBJT0V4Y2VwdGlv
biB7CisJCQlhbm5vdGF0ZU1ldGhvZFJldHVyblR5cGUoZkFmZmVjdGVkVHlwZU5hbWUsIGZBbm5v
dGF0aW9uRmlsZSwgZlNlbGVjdG9yLCBmU2lnbmF0dXJlLCBmQW5ub3RhdGVkU2lnbmF0dXJlLCBm
TWVyZ2VTdHJhdGVneSwgbW9uaXRvcik7CisJCX0KKwl9CisJCisJc3RhdGljIGNsYXNzIFBhcmFt
ZXRlckFubm90YXRpb25SZXdyaXRlUHJvcG9zYWwgZXh0ZW5kcyBTaWduYXR1cmVBbm5vdGF0aW9u
Q2hhbmdlUHJvcG9zYWwgeworCisJCWludCBmUGFyYW1JZHg7CisJCQorCQlQYXJhbWV0ZXJBbm5v
dGF0aW9uUmV3cml0ZVByb3Bvc2FsKGludCBwYXJhbUlkeCkgeworCQkJZlBhcmFtSWR4PSBwYXJh
bUlkeDsKKwkJfQorCisJCUBPdmVycmlkZQorCQlwcm90ZWN0ZWQgdm9pZCBkcnlSdW4oKSB7CisJ
CQlmRHJ5UnVuPSBFeHRlcm5hbEFubm90YXRpb25VdGlsLmFubm90YXRlUGFyYW1ldGVyVHlwZShm
Q3VycmVudEFubm90YXRlZCwgZkFubm90YXRlZFNpZ25hdHVyZSwgZlBhcmFtSWR4LCBmTWVyZ2VT
dHJhdGVneSk7CQkJCisJCX0KKworCQlAT3ZlcnJpZGUKKwkJcHJvdGVjdGVkIHZvaWQgZG9Bbm5v
dGF0ZU1lbWJlcihJUHJvZ3Jlc3NNb25pdG9yIG1vbml0b3IpIHRocm93cyBDb3JlRXhjZXB0aW9u
LCBJT0V4Y2VwdGlvbiB7CisJCQlhbm5vdGF0ZU1ldGhvZFBhcmFtZXRlclR5cGUoZkFmZmVjdGVk
VHlwZU5hbWUsIGZBbm5vdGF0aW9uRmlsZSwgZlNlbGVjdG9yLCBmU2lnbmF0dXJlLCBmQW5ub3Rh
dGVkU2lnbmF0dXJlLCBmUGFyYW1JZHgsIGZNZXJnZVN0cmF0ZWd5LCBtb25pdG9yKTsKKwkJfQor
CX0KKwkKKwkvKiBRdWljayBhc3Npc3Qgb24gY2xhc3MgZmlsZSwgcHJvcG9zZSBjaGFuZ2VzIGFu
IGFueSB0eXBlIGRldGFpbC4gKi8KKwlwdWJsaWMgc3RhdGljIHZvaWQgY29sbGVjdEV4dGVybmFs
QW5ub3RhdGlvblByb3Bvc2FscyhJQ29tcGlsYXRpb25Vbml0IGN1LCBBU1ROb2RlIGNvdmVyaW5n
Tm9kZSwgQXJyYXlMaXN0PElKYXZhQ29tcGxldGlvblByb3Bvc2FsPiByZXN1bHRpbmdDb2xsZWN0
aW9uKSB7CisJCQorCQlJSmF2YVByb2plY3QgamF2YVByb2plY3Q9IGN1LmdldEphdmFQcm9qZWN0
KCk7CisJCWlmIChKYXZhQ29yZS5ESVNBQkxFRC5lcXVhbHMoamF2YVByb2plY3QuZ2V0T3B0aW9u
KEphdmFDb3JlLkNPTVBJTEVSX0FOTk9UQVRJT05fTlVMTF9BTkFMWVNJUywgdHJ1ZSkpKQorCQkJ
cmV0dXJuOworCQkKKwkJaWYgKCFoYXNBbm5vdGF0aW9uUGF0aEluV29ya3NwYWNlKGphdmFQcm9q
ZWN0LCBjdSkpIC8vIHJlZnVzZSB0byB1cGRhdGUgZmlsZXMgb3V0c2lkZSB0aGUgd29ya3NwYWNl
CisJCQlyZXR1cm47CisJCQorCQlNZXRob2REZWNsYXJhdGlvbiBtZXRob2Q9IChNZXRob2REZWNs
YXJhdGlvbikgQVNUTm9kZXMuZ2V0UGFyZW50KGNvdmVyaW5nTm9kZSwgTWV0aG9kRGVjbGFyYXRp
b24uY2xhc3MpOworCQlpZiAobWV0aG9kID09IG51bGwpCisJCQlyZXR1cm47IC8vIFRPRE8gc3Vw
cG9ydCBmaWVsZHMKKwkKKwkJQVNUTm9kZSBpbm5lcj0gbnVsbDsgLy8gdGhlIGlubmVybW9zdCB0
eXBlIG9yIHR5cGUgcGFyYW1ldGVyIG5vZGUKKwkJd2hpbGUgKHRydWUpIHsKKwkJCWlmIChjb3Zl
cmluZ05vZGUgaW5zdGFuY2VvZiBUeXBlIHx8IGNvdmVyaW5nTm9kZSBpbnN0YW5jZW9mIFR5cGVQ
YXJhbWV0ZXIpIHsKKwkJCQlpbm5lcj0gY292ZXJpbmdOb2RlOworCQkJCWJyZWFrOworCQkJfQor
CQkJY292ZXJpbmdOb2RlPSBjb3ZlcmluZ05vZGUuZ2V0UGFyZW50KCk7CisJCQlpZiAoY292ZXJp
bmdOb2RlID09IG51bGwpCisJCQkJcmV0dXJuOworCQl9CisJCS8vIHByZXBhcmUgdGhyZWUgcmVu
ZGVyZXJzIGZvciB0aHJlZSBwcm9wb3NhbHM6CisJCVR5cGVSZW5kZXJlciByZW5kZXJlck5vbk51
bGw9IG5ldyBUeXBlUmVuZGVyZXIoaW5uZXIsIE5PTk5VTEwpOworCQlUeXBlUmVuZGVyZXIgcmVu
ZGVyZXJOdWxsYWJsZT0gbmV3IFR5cGVSZW5kZXJlcihpbm5lciwgTlVMTEFCTEUpOworCQlUeXBl
UmVuZGVyZXIgcmVuZGVyZXJSZW1vdmU9IG5ldyBUeXBlUmVuZGVyZXIoaW5uZXIsIE5PX0FOTk9U
QVRJT04pOworCQlBU1ROb2RlIG91dGVyPSBpbm5lcjsgLy8gd2lsbCBiZWNvbWUgdGhlIG91dGVy
bW9zdCB0eXBlIG9yIHR5cGUgcGFyYW1ldGVyIG5vZGUKKwkJeworCQkJQVNUTm9kZSBuZXh0Owor
CQkJd2hpbGUgKCgobmV4dD0gb3V0ZXIuZ2V0UGFyZW50KCkpIGluc3RhbmNlb2YgVHlwZSkgfHwg
KG5leHQgaW5zdGFuY2VvZiBUeXBlUGFyYW1ldGVyKSkKKwkJCQlvdXRlcj0gbmV4dDsKKwkJfQor
CQlib29sZWFuIHVzZUphdmE4PSBKYXZhTW9kZWxVdGlsLmlzMThPckhpZ2hlcihqYXZhUHJvamVj
dC5nZXRPcHRpb24oSmF2YUNvcmUuQ09NUElMRVJfU09VUkNFLCB0cnVlKSk7CisJCWlmICghdXNl
SmF2YTggJiYgb3V0ZXIgIT0gaW5uZXIpIHsKKwkJCXJldHVybjsgLy8gY2Fubm90IG9ubHkgYW5u
b3RhdGUgdGhlIHRvcCB0eXBlIChub3QgdHlwZSBwYXJhbWV0ZXIpIGJlbG93IDEuOAorCQl9CisJ
CWlmIChvdXRlciBpbnN0YW5jZW9mIFR5cGUpIHsKKwkJCUlUeXBlQmluZGluZyB0eXBlQmluZGlu
Zz0gKChUeXBlKSBvdXRlcikucmVzb2x2ZUJpbmRpbmcoKTsKKwkJCWlmICh0eXBlQmluZGluZyAh
PSBudWxsICYmIHR5cGVCaW5kaW5nLmlzUHJpbWl0aXZlKCkpCisJCQkJcmV0dXJuOworCQkJb3V0
ZXIuYWNjZXB0KHJlbmRlcmVyTm9uTnVsbCk7CisJCQlvdXRlci5hY2NlcHQocmVuZGVyZXJOdWxs
YWJsZSk7CisJCQlvdXRlci5hY2NlcHQocmVuZGVyZXJSZW1vdmUpOworCQl9IGVsc2UgeworCQkJ
cmVuZGVyZXJOb25OdWxsLnZpc2l0VHlwZVBhcmFtZXRlcnMoKExpc3Q8Pz4pIG91dGVyLmdldFBh
cmVudCgpLmdldFN0cnVjdHVyYWxQcm9wZXJ0eShvdXRlci5nZXRMb2NhdGlvbkluUGFyZW50KCkp
KTsKKwkJCXJlbmRlcmVyTnVsbGFibGUudmlzaXRUeXBlUGFyYW1ldGVycygoTGlzdDw/Pikgb3V0
ZXIuZ2V0UGFyZW50KCkuZ2V0U3RydWN0dXJhbFByb3BlcnR5KG91dGVyLmdldExvY2F0aW9uSW5Q
YXJlbnQoKSkpOworCQkJcmVuZGVyZXJSZW1vdmUudmlzaXRUeXBlUGFyYW1ldGVycygoTGlzdDw/
Pikgb3V0ZXIuZ2V0UGFyZW50KCkuZ2V0U3RydWN0dXJhbFByb3BlcnR5KG91dGVyLmdldExvY2F0
aW9uSW5QYXJlbnQoKSkpOworCQl9CisJCisJCVN0cnVjdHVyYWxQcm9wZXJ0eURlc2NyaXB0b3Ig
bG9jYXRpb25JblBhcmVudD0gb3V0ZXIuZ2V0TG9jYXRpb25JblBhcmVudCgpOworCQlQcm9wb3Nh
bENyZWF0b3IgY3JlYXRvcj0gbnVsbDsKKwkJaWYgKGxvY2F0aW9uSW5QYXJlbnQgPT0gTWV0aG9k
RGVjbGFyYXRpb24uUkVUVVJOX1RZUEUyX1BST1BFUlRZKSB7CisJCQljcmVhdG9yPSBuZXcgUmV0
dXJuUHJvcG9zYWxDcmVhdG9yKGN1LCBtZXRob2QucmVzb2x2ZUJpbmRpbmcoKSk7CisJCX0gZWxz
ZSBpZiAobG9jYXRpb25JblBhcmVudCA9PSBTaW5nbGVWYXJpYWJsZURlY2xhcmF0aW9uLlRZUEVf
UFJPUEVSVFkpIHsKKwkJCUFTVE5vZGUgcGFyYW0gPSBvdXRlci5nZXRQYXJlbnQoKTsKKwkJCWlm
IChwYXJhbS5nZXRMb2NhdGlvbkluUGFyZW50KCkgPT0gTWV0aG9kRGVjbGFyYXRpb24uUEFSQU1F
VEVSU19QUk9QRVJUWSkgeworCQkJCWludCBwYXJhbUlkeCA9IG1ldGhvZC5wYXJhbWV0ZXJzKCku
aW5kZXhPZihwYXJhbSk7CisJCQkJaWYgKHBhcmFtSWR4ICE9IC0xKSB7CisJCQkJCWNyZWF0b3I9
IG5ldyBQYXJhbWV0ZXJQcm9wb3NhbENyZWF0b3IoY3UsIG1ldGhvZC5yZXNvbHZlQmluZGluZygp
LCBwYXJhbUlkeCk7CisJCQkJfQorCQkJfQorCQl9CisJCWlmIChjcmVhdG9yICE9IG51bGwpIHsK
KwkJCWNyZWF0ZVByb3Bvc2Fsc0ZvclR5cGUoY3UsIGlubmVyLCByZW5kZXJlck5vbk51bGwsIHJl
bmRlcmVyTnVsbGFibGUsIHJlbmRlcmVyUmVtb3ZlLCBjcmVhdG9yLCByZXN1bHRpbmdDb2xsZWN0
aW9uKTsKKwkJfQorCX0KKworCXN0YXRpYyBib29sZWFuIGhhc0Fubm90YXRpb25QYXRoSW5Xb3Jr
c3BhY2UoSUphdmFQcm9qZWN0IGphdmFQcm9qZWN0LCBJQ29tcGlsYXRpb25Vbml0IGN1KSB7CisJ
CUlQYWNrYWdlRnJhZ21lbnRSb290IHJvb3Q9IChJUGFja2FnZUZyYWdtZW50Um9vdCkgY3UuZ2V0
QW5jZXN0b3IoSUphdmFFbGVtZW50LlBBQ0tBR0VfRlJBR01FTlRfUk9PVCk7CisJCWlmIChyb290
ICE9IG51bGwpIHsKKwkJCXRyeSB7CisJCQkJSUNsYXNzcGF0aEVudHJ5IHJlc29sdmVkQ2xhc3Nw
YXRoRW50cnk9IHJvb3QuZ2V0UmVzb2x2ZWRDbGFzc3BhdGhFbnRyeSgpOworCQkJCWZvciAoSUNs
YXNzcGF0aEF0dHJpYnV0ZSBjcGEgOiByZXNvbHZlZENsYXNzcGF0aEVudHJ5LmdldEV4dHJhQXR0
cmlidXRlcygpKSB7CisJCQkJCWlmIChJQ2xhc3NwYXRoQXR0cmlidXRlLkVYVEVSTkFMX0FOTk9U
QVRJT05fUEFUSC5lcXVhbHMoY3BhLmdldE5hbWUoKSkpIHsKKwkJCQkJCVBhdGggYW5ub3RhdGlv
blBhdGg9IG5ldyBQYXRoKGNwYS5nZXRWYWx1ZSgpKTsKKwkJCQkJCUlQcm9qZWN0IHByb2plY3Qg
PSBqYXZhUHJvamVjdC5nZXRQcm9qZWN0KCk7CisJCQkJCQlpZiAocHJvamVjdC5leGlzdHMoYW5u
b3RhdGlvblBhdGgpKQorCQkJCQkJCXJldHVybiB0cnVlOworCQkJCQkJSVdvcmtzcGFjZVJvb3Qg
d3NSb290ID0gcHJvamVjdC5nZXRXb3Jrc3BhY2UoKS5nZXRSb290KCk7CisJCQkJCQlyZXR1cm4g
d3NSb290LmV4aXN0cyhhbm5vdGF0aW9uUGF0aCk7CisJCQkJCX0KKwkJCQl9CisJCQl9IGNhdGNo
IChKYXZhTW9kZWxFeGNlcHRpb24gam1lKSB7CisJCQkJcmV0dXJuIGZhbHNlOworCQkJfQorCQl9
CisJCXJldHVybiBmYWxzZTsKKwl9CisKKwlwcml2YXRlIHN0YXRpYyBhYnN0cmFjdCBjbGFzcyBQ
cm9wb3NhbENyZWF0b3IgeworCQlJQ29tcGlsYXRpb25Vbml0IGZDVTsKKwkJSU1ldGhvZEJpbmRp
bmcgZk1ldGhvZEJpbmRpbmc7CisJCU1lcmdlU3RyYXRlZ3kgZk1lcmdlU3RyYXRlZ3k9IE1lcmdl
U3RyYXRlZ3kuT1ZFUldSSVRFX0FOTk9UQVRJT05TOworCisJCVByb3Bvc2FsQ3JlYXRvcihJQ29t
cGlsYXRpb25Vbml0IGN1LCBJTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5nKSB7CisJCQlmQ1U9
IGN1OworCQkJZk1ldGhvZEJpbmRpbmc9IG1ldGhvZEJpbmRpbmc7CisJCX0KKwkJYWJzdHJhY3Qg
U2lnbmF0dXJlQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2FsIGNyZWF0ZShTdHJpbmcgYW5ub3RhdGVk
U2lnbmF0dXJlLCBTdHJpbmcgbGFiZWwpOworCX0KKwlwcml2YXRlIHN0YXRpYyBjbGFzcyBSZXR1
cm5Qcm9wb3NhbENyZWF0b3IgZXh0ZW5kcyBQcm9wb3NhbENyZWF0b3IgeworCQlSZXR1cm5Qcm9w
b3NhbENyZWF0b3IoSUNvbXBpbGF0aW9uVW5pdCBjdSwgSU1ldGhvZEJpbmRpbmcgbWV0aG9kQmlu
ZGluZykgeworCQkJc3VwZXIoY3UsIG1ldGhvZEJpbmRpbmcpOworCQl9CisJCUBPdmVycmlkZQor
CQlTaWduYXR1cmVBbm5vdGF0aW9uQ2hhbmdlUHJvcG9zYWwgY3JlYXRlKFN0cmluZyBhbm5vdGF0
ZWRTaWduYXR1cmUsIFN0cmluZyBsYWJlbCkgeworCQkJUmV0dXJuQW5ub3RhdGlvblJld3JpdGVQ
cm9wb3NhbCBvcGVyYXRpb249IG5ldyBSZXR1cm5Bbm5vdGF0aW9uUmV3cml0ZVByb3Bvc2FsKCk7
CisJCQlpZiAoIW9wZXJhdGlvbi5pbml0aWFsaXplT3BlcmF0aW9uKGZDVSwgZk1ldGhvZEJpbmRp
bmcsIGFubm90YXRlZFNpZ25hdHVyZSwgbGFiZWwsIGZNZXJnZVN0cmF0ZWd5KSkKKwkJCQlyZXR1
cm4gbnVsbDsKKwkJCXJldHVybiBvcGVyYXRpb247CisJCX0KKwl9CisJcHJpdmF0ZSBzdGF0aWMg
Y2xhc3MgUGFyYW1ldGVyUHJvcG9zYWxDcmVhdG9yIGV4dGVuZHMgUHJvcG9zYWxDcmVhdG9yIHsK
KwkJaW50IGZQYXJhbUlkeDsKKwkJUGFyYW1ldGVyUHJvcG9zYWxDcmVhdG9yKElDb21waWxhdGlv
blVuaXQgY3UsIElNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRpbmcsIGludCBwYXJhbUlkeCkgewor
CQkJc3VwZXIoY3UsIG1ldGhvZEJpbmRpbmcpOworCQkJZlBhcmFtSWR4PSBwYXJhbUlkeDsKKwkJ
fQorCQlAT3ZlcnJpZGUKKwkJU2lnbmF0dXJlQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2FsIGNyZWF0
ZShTdHJpbmcgYW5ub3RhdGVkU2lnbmF0dXJlLCBTdHJpbmcgbGFiZWwpIHsKKwkJCVBhcmFtZXRl
ckFubm90YXRpb25SZXdyaXRlUHJvcG9zYWwgb3BlcmF0aW9uPSBuZXcgUGFyYW1ldGVyQW5ub3Rh
dGlvblJld3JpdGVQcm9wb3NhbChmUGFyYW1JZHgpOworCQkJaWYgKCFvcGVyYXRpb24uaW5pdGlh
bGl6ZU9wZXJhdGlvbihmQ1UsIGZNZXRob2RCaW5kaW5nLCBhbm5vdGF0ZWRTaWduYXR1cmUsIGxh
YmVsLCBmTWVyZ2VTdHJhdGVneSkpCisJCQkJcmV0dXJuIG51bGw7CisJCQlyZXR1cm4gb3BlcmF0
aW9uOworCQl9CisJfQorCisJLyogQ3JlYXRlIG9uZSBwcm9wb3NhbCBmcm9tIGVhY2ggb2YgdGhl
IHRocmVlIGdpdmVuIHJlbmRlcmVycy4gKi8KKwlzdGF0aWMgdm9pZCBjcmVhdGVQcm9wb3NhbHNG
b3JUeXBlKElDb21waWxhdGlvblVuaXQgY3UsIEFTVE5vZGUgdHlwZSwKKwkJCVR5cGVSZW5kZXJl
ciByZW5kZXJlck5vbk51bGwsIFR5cGVSZW5kZXJlciByZW5kZXJlck51bGxhYmxlLCBUeXBlUmVu
ZGVyZXIgcmVuZGVyZXJSZW1vdmUsCisJCQlQcm9wb3NhbENyZWF0b3IgY3JlYXRvciwgQXJyYXlM
aXN0PElKYXZhQ29tcGxldGlvblByb3Bvc2FsPiByZXN1bHRpbmdDb2xsZWN0aW9uKQorCXsKKwkJ
U2lnbmF0dXJlQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2FsIG9wZXJhdGlvbjsKKwkJU3RyaW5nIGxh
YmVsOworCQkvLyBwcm9wb3NlIGFkZGluZyBATm9uTnVsbDoKKwkJbGFiZWw9IGdldEFkZEFubm90
YXRpb25MYWJlbChOdWxsQW5ub3RhdGlvbnNGaXguZ2V0Tm9uTnVsbEFubm90YXRpb25OYW1lKGN1
LCB0cnVlKSwgdHlwZSk7CisJCW9wZXJhdGlvbj0gY3JlYXRvci5jcmVhdGUocmVuZGVyZXJOb25O
dWxsLmdldFJlc3VsdCgpLCBsYWJlbCk7CisJCWlmIChvcGVyYXRpb24gIT0gbnVsbCkKKwkJCXJl
c3VsdGluZ0NvbGxlY3Rpb24uYWRkKG9wZXJhdGlvbik7CisKKwkJLy8gcHJvcG9zZSBhZGRpbmcg
QE51bGxhYmxlOgorCQlsYWJlbD0gZ2V0QWRkQW5ub3RhdGlvbkxhYmVsKE51bGxBbm5vdGF0aW9u
c0ZpeC5nZXROdWxsYWJsZUFubm90YXRpb25OYW1lKGN1LCB0cnVlKSwgdHlwZSk7CisJCW9wZXJh
dGlvbj0gY3JlYXRvci5jcmVhdGUocmVuZGVyZXJOdWxsYWJsZS5nZXRSZXN1bHQoKSwgbGFiZWwp
OworCQlpZiAob3BlcmF0aW9uICE9IG51bGwpCisJCQlyZXN1bHRpbmdDb2xsZWN0aW9uLmFkZChv
cGVyYXRpb24pOworCisJCS8vIHByb3Bvc2UgcmVtb3ZpbmcgYW5ub3RhdGlvbjoKKwkJbGFiZWw9
IE1lc3NhZ2VzLmZvcm1hdChGaXhNZXNzYWdlcy5FeHRlcm5hbE51bGxBbm5vdGF0aW9uQ2hhbmdl
UHJvcG9zYWxzX3JlbW92ZV9udWxsbmVzc19hbm5vdGF0aW9uLAorCQkJCQluZXcgU3RyaW5nW10g
eyB0eXBlLnRvU3RyaW5nKCkgfSk7CisJCW9wZXJhdGlvbj0gY3JlYXRvci5jcmVhdGUocmVuZGVy
ZXJSZW1vdmUuZ2V0UmVzdWx0KCksIGxhYmVsKTsKKwkJaWYgKG9wZXJhdGlvbiAhPSBudWxsKQor
CQkJcmVzdWx0aW5nQ29sbGVjdGlvbi5hZGQob3BlcmF0aW9uKTsKKwl9CisJCisJc3RhdGljIFN0
cmluZyBnZXRBZGRBbm5vdGF0aW9uTGFiZWwoU3RyaW5nIGFubm90YXRpb25OYW1lLCBBU1ROb2Rl
IHR5cGUpIHsKKwkJaWYgKHR5cGUuZ2V0Tm9kZVR5cGUoKSA9PSBBU1ROb2RlLkFSUkFZX1RZUEUp
IHsKKwkJCS8vIG5lZWQgdG8gYXNzZW1ibGUgc3BlY2lhbCBmb3JtYXQgd2l0aCBhbm5vdGF0aW9u
IGJldHdlZW4gdHlwZSBuYW1lIGFuZCBkaW1lbnNpb25zOgorCQkJQXJyYXlUeXBlIGFycmF5VHlw
ZT0gKEFycmF5VHlwZSkgdHlwZTsKKwkJCVN0cmluZ0J1aWxkZXIgZGltcz0gbmV3IFN0cmluZ0J1
aWxkZXIoKTsKKwkJCWZvciAoaW50IGk9IDA7IGkgPCBhcnJheVR5cGUuZ2V0RGltZW5zaW9ucygp
OyBpKyspCisJCQkJZGltcy5hcHBlbmQoIltdIik7IC8vJE5PTi1OTFMtMSQKKwkJCXJldHVybiBN
ZXNzYWdlcy5mb3JtYXQoRml4TWVzc2FnZXMuRXh0ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVBy
b3Bvc2Fsc19hZGRfbnVsbG5lc3NfYXJyYXlfYW5ub3RhdGlvbiwKKwkJCQkJbmV3IFN0cmluZ1td
IHsgYXJyYXlUeXBlLmdldEVsZW1lbnRUeXBlKCkudG9TdHJpbmcoKSwgYW5ub3RhdGlvbk5hbWUs
IGRpbXMudG9TdHJpbmcoKSB9KTsKKwkJfQorCQlyZXR1cm4gTWVzc2FnZXMuZm9ybWF0KEZpeE1l
c3NhZ2VzLkV4dGVybmFsTnVsbEFubm90YXRpb25DaGFuZ2VQcm9wb3NhbHNfYWRkX251bGxuZXNz
X2Fubm90YXRpb24sCisJCQkJCW5ldyBTdHJpbmdbXSB7IGFubm90YXRpb25OYW1lLCB0eXBlLnRv
U3RyaW5nKCkgfSk7CisJfQorCisJLyoqCisJICogQSB2aXNpdG9yIHRoYXQgcmVuZGVycyBhbiBB
U1Qgc25pcHBldCByZXByZXNlbnRpbmcgYSB0eXBlIG9yIHR5cGUgcGFyYW1ldGVyLgorCSAqIEZv
ciByZW5kZXJpbmcgdGhlIEVjbGlwc2UgRXh0ZXJuYWwgQW5ub3RhdGlvbiBmb3JtYXQgaXMgdXNl
ZCwgaS5lLiwgY2xhc3MgZmlsZQorCSAqIHNpZ25hdHVyZXMgd2l0aCBhZGRpdGlvbnMgZm9yIG51
bGwgYW5ub3RhdGlvbnMuCisJICogPHA+CisJICogSW4gcGFydGljdWxhciBhIGdpdmVuIG51bGwg
YW5ub3RhdGlvbiBpcyBpbnNlcnRlZCBmb3IgdGhlIGdpdmVuIGZvY3VzVHlwZS4KKwkgKiA8L3A+
CisJICovCisJc3RhdGljIGNsYXNzIFR5cGVSZW5kZXJlciBleHRlbmRzIEFTVFZpc2l0b3Igewor
CQkKKwkJU3RyaW5nQnVmZmVyIGZCdWZmZXI7CisJCUFTVE5vZGUgZkZvY3VzVHlwZTsgLy8gVHlw
ZSBvciBUeXBlUGFyYW1ldGVyCisJCWNoYXIgZkFubm90YXRpb247CisJCisJCXB1YmxpYyBUeXBl
UmVuZGVyZXIoQVNUTm9kZSBmb2N1c1R5cGUsIGNoYXIgYW5ub3RhdGlvbikgeworCQkJZkJ1ZmZl
cj0gbmV3IFN0cmluZ0J1ZmZlcigpOworCQkJZkZvY3VzVHlwZT0gZm9jdXNUeXBlOworCQkJZkFu
bm90YXRpb249IGFubm90YXRpb247CisJCX0KKwkJcHVibGljIFN0cmluZyBnZXRSZXN1bHQoKSB7
CisJCQlyZXR1cm4gZkJ1ZmZlci50b1N0cmluZygpOworCQl9CisJCS8qIFJlbmRlcnMgYSB0eXBl
IHBhcmFtZXRlciBsaXN0IGluIGFuZ2xlIGJyYWNrZXRzLiAqLworCQlwdWJsaWMgdm9pZCB2aXNp
dFR5cGVQYXJhbWV0ZXJzKEBTdXBwcmVzc1dhcm5pbmdzKCJyYXd0eXBlcyIpIExpc3QgcGFyYW1l
dGVycykgeworCQkJZkJ1ZmZlci5hcHBlbmQoJzwnKTsKKwkJCWZvciAoT2JqZWN0IHAgOiBwYXJh
bWV0ZXJzKQorCQkJCSgoVHlwZVBhcmFtZXRlcikgcCkuYWNjZXB0KHRoaXMpOworCQkJZkJ1ZmZl
ci5hcHBlbmQoJz4nKTsKKwkJfQorCQlAT3ZlcnJpZGUKKwkJcHVibGljIGJvb2xlYW4gdmlzaXQo
UGFyYW1ldGVyaXplZFR5cGUgdHlwZSkgeworCQkJZkJ1ZmZlci5hcHBlbmQoJ0wnKTsKKwkJCWlm
ICh0eXBlID09IGZGb2N1c1R5cGUgfHwgdHlwZS5nZXRUeXBlKCkgPT0gZkZvY3VzVHlwZSkKKwkJ
CQlmQnVmZmVyLmFwcGVuZChmQW5ub3RhdGlvbik7CisJCQlmQnVmZmVyLmFwcGVuZChiaW5hcnlO
YW1lKHR5cGUucmVzb2x2ZUJpbmRpbmcoKSkpOworCQkJZkJ1ZmZlci5hcHBlbmQoJzwnKTsKKwkJ
CWZvciAoT2JqZWN0IGFyZyA6IHR5cGUudHlwZUFyZ3VtZW50cygpKQorCQkJCSgoVHlwZSkgYXJn
KS5hY2NlcHQodGhpcyk7CisJCQlmQnVmZmVyLmFwcGVuZCgnPicpOworCQkJZkJ1ZmZlci5hcHBl
bmQoJzsnKTsKKwkJCXJldHVybiBmYWxzZTsKKwkJfQorCQlAT3ZlcnJpZGUKKwkJcHVibGljIGJv
b2xlYW4gdmlzaXQoV2lsZGNhcmRUeXBlIHdpbGRjYXJkKSB7CisJCQlUeXBlIGJvdW5kPSB3aWxk
Y2FyZC5nZXRCb3VuZCgpOworCQkJaWYgKGJvdW5kID09IG51bGwpIHsKKwkJCQlmQnVmZmVyLmFw
cGVuZCgnKicpOworCQkJfSBlbHNlIGlmICh3aWxkY2FyZC5pc1VwcGVyQm91bmQoKSkgeworCQkJ
CWZCdWZmZXIuYXBwZW5kKCcrJyk7CisJCQl9IGVsc2UgeworCQkJCWZCdWZmZXIuYXBwZW5kKCct
Jyk7CisJCQl9CisJCQlpZiAod2lsZGNhcmQgPT0gZkZvY3VzVHlwZSkKKwkJCQlmQnVmZmVyLmFw
cGVuZChmQW5ub3RhdGlvbik7CisJCQlpZiAoYm91bmQgIT0gbnVsbCkKKwkJCQlib3VuZC5hY2Nl
cHQodGhpcyk7CisJCQlyZXR1cm4gZmFsc2U7CisJCX0KKwkJQE92ZXJyaWRlCisJCXB1YmxpYyBi
b29sZWFuIHZpc2l0KEFycmF5VHlwZSBhcnJheSkgeworCQkJaW50IGRpbXM9IGFycmF5LmdldERp
bWVuc2lvbnMoKTsKKwkJCWZvciAoaW50IGk9IDA7IGkgPCBkaW1zOyBpKyspCisJCQkJZkJ1ZmZl
ci5hcHBlbmQoJ1snKTsKKwkJCWlmIChhcnJheSA9PSBmRm9jdXNUeXBlKQorCQkJCWZCdWZmZXIu
YXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCWFycmF5LmdldEVsZW1lbnRUeXBlKCkuYWNjZXB0KHRo
aXMpOworCQkJcmV0dXJuIGZhbHNlOworCQl9CisJCUBPdmVycmlkZQorCQlwdWJsaWMgYm9vbGVh
biB2aXNpdChUeXBlUGFyYW1ldGVyIHBhcmFtZXRlcikgeworCQkJaWYgKHBhcmFtZXRlciA9PSBm
Rm9jdXNUeXBlKQorCQkJCWZCdWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCWZCdWZmZXIu
YXBwZW5kKHBhcmFtZXRlci5nZXROYW1lKCkuZ2V0SWRlbnRpZmllcigpKTsKKwkJCVR5cGUgY2xh
c3NCb3VuZD0gbnVsbDsKKwkJCWZvciAoT2JqZWN0IGJvdW5kIDogcGFyYW1ldGVyLnR5cGVCb3Vu
ZHMoKSkgeworCQkJCVR5cGUgdHlwZUJvdW5kPSAoVHlwZSkgYm91bmQ7CisJCQkJaWYgKHR5cGVC
b3VuZC5yZXNvbHZlQmluZGluZygpLmlzQ2xhc3MoKSkgeworCQkJCQljbGFzc0JvdW5kPSB0eXBl
Qm91bmQ7CisJCQkJCWJyZWFrOworCQkJCX0KKwkJCX0KKwkJCWlmIChjbGFzc0JvdW5kICE9IG51
bGwpIHsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnOicpOworCQkJCWNsYXNzQm91bmQuYWNjZXB0KHRo
aXMpOworCQkJfSBlbHNlIHsKKwkJCQlJVHlwZUJpbmRpbmcgdHlwZUJpbmRpbmc9IHBhcmFtZXRl
ci5yZXNvbHZlQmluZGluZygpOworCQkJCWZCdWZmZXIuYXBwZW5kKCI6TCIpLmFwcGVuZChiaW5h
cnlOYW1lKHR5cGVCaW5kaW5nLmdldFN1cGVyY2xhc3MoKSkpLmFwcGVuZCgnOycpOyAvLyROT04t
TkxTLTEkCisJCQl9CisJCQlmb3IgKE9iamVjdCBib3VuZCA6IHBhcmFtZXRlci50eXBlQm91bmRz
KCkpIHsKKwkJCQlpZiAoYm91bmQgPT0gY2xhc3NCb3VuZCkgY29udGludWU7CisJCQkJVHlwZSB0
eXBlQm91bmQ9IChUeXBlKSBib3VuZDsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnOicpOworCQkJCXR5
cGVCb3VuZC5hY2NlcHQodGhpcyk7CisJCQl9CisJCQlyZXR1cm4gZmFsc2U7CisJCX0KKwkJQE92
ZXJyaWRlCisJCXB1YmxpYyBib29sZWFuIHZpc2l0KFNpbXBsZVR5cGUgdHlwZSkgeworCQkJSVR5
cGVCaW5kaW5nIHR5cGVCaW5kaW5nPSB0eXBlLnJlc29sdmVCaW5kaW5nKCk7CisJCQlpZiAodHlw
ZUJpbmRpbmcuaXNQcmltaXRpdmUoKSkgeworCQkJCWZCdWZmZXIuYXBwZW5kKHR5cGVCaW5kaW5n
LmdldEJpbmFyeU5hbWUoKSk7CisJCQl9IGVsc2UgaWYgKHR5cGVCaW5kaW5nLmlzVHlwZVZhcmlh
YmxlKCkpIHsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnVCcpOworCQkJCWlmIChmRm9jdXNUeXBlID09
IHR5cGUpCisJCQkJCWZCdWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCQlmQnVmZmVyLmFw
cGVuZCh0eXBlQmluZGluZy5nZXROYW1lKCkpLmFwcGVuZCgnOycpOworCQkJfSBlbHNlIHsKKwkJ
CQlmQnVmZmVyLmFwcGVuZCgnTCcpOworCQkJCWlmIChmRm9jdXNUeXBlID09IHR5cGUpCisJCQkJ
CWZCdWZmZXIuYXBwZW5kKGZBbm5vdGF0aW9uKTsKKwkJCQlmQnVmZmVyLmFwcGVuZChiaW5hcnlO
YW1lKHR5cGVCaW5kaW5nKSkuYXBwZW5kKCc7Jyk7CisJCQl9CisJCQlyZXR1cm4gZmFsc2U7CisJ
CX0KKwkJU3RyaW5nIGJpbmFyeU5hbWUoSVR5cGVCaW5kaW5nIHR5cGUpIHsKKwkJCXJldHVybiB0
eXBlLmdldEJpbmFyeU5hbWUoKS5yZXBsYWNlKCcuJywgJy8nKTsKKwkJfQorCX0KK30KZGlmZiAt
LWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVp
L2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1l
c3NhZ2VzLmphdmEKaW5kZXggYjRhNjJmZC4uMzE1M2QxMCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlw
c2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQv
Zml4L0ZpeE1lc3NhZ2VzLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5z
aW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLmphdmEK
QEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChj
KSAyMDAwLCAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChj
KSAyMDAwLCAyMDE1IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICog
YXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMg
TGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5k
IGlzIGF2YWlsYWJsZSBhdApAQCAtMTAsNiArMTAsNyBAQAogICogICAgIFN0ZXBoYW4gSGVycm1h
bm4gLSBDb250cmlidXRpb25zIGZvcgogICoJCQkJCQkJCVtxdWljayBmaXhdIEFkZCBxdWljayBm
aXhlcyBmb3IgbnVsbCBhbm5vdGF0aW9ucyAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy8zMzc5
NzcKICAqCQkJCQkJCQlbcXVpY2sgZml4XSBUaGUgZml4IGNoYW5nZSBwYXJhbWV0ZXIgdHlwZSB0
byBATm9ubnVsbCBnZW5lcmF0ZWQgYSBudWxsIGNoYW5nZSAtIGh0dHBzOi8vYnVncy5lY2xpcHNl
Lm9yZy80MDA2NjgKKyAqCQkJCQkJCQlbbnVsbF0gIkFubm90YXRlIiBwcm9wb3NhbHMgZm9yIGFk
ZGluZyBleHRlcm5hbCBudWxsIGFubm90YXRpb25zIHRvIGxpYnJhcnkgY2xhc3NlcyAtIGh0dHBz
Oi8vYnVncy5lY2xpcHNlLm9yZy80NTgyMDAKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFj
a2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LmZpeDsKIApAQCAtMTMwLDYgKzEz
MSwxMCBAQAogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVy
YXRpb25zX2NoYW5nZV9vdmVycmlkZGVuX3JldHVybl9udWxsbmVzczsKIAlwdWJsaWMgc3RhdGlj
IFN0cmluZyBOdWxsQW5ub3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19yZW1vdmVfcmVkdW5kYW50
X251bGxuZXNzX2Fubm90YXRpb247CiAKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBFeHRlcm5hbE51
bGxBbm5vdGF0aW9uQ2hhbmdlUHJvcG9zYWxzX2FkZF9udWxsbmVzc19hbm5vdGF0aW9uOworCXB1
YmxpYyBzdGF0aWMgU3RyaW5nIEV4dGVybmFsTnVsbEFubm90YXRpb25DaGFuZ2VQcm9wb3NhbHNf
YWRkX251bGxuZXNzX2FycmF5X2Fubm90YXRpb247CisJcHVibGljIHN0YXRpYyBTdHJpbmcgRXh0
ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19yZW1vdmVfbnVsbG5lc3NfYW5ub3Rh
dGlvbjsKKwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEV4dHJhY3RUb051bGxDaGVja2VkTG9jYWxQ
cm9wb3NhbF9leHRyYWN0Q2hlY2tlZExvY2FsX2VkaXROYW1lOwogCXB1YmxpYyBzdGF0aWMgU3Ry
aW5nIEV4dHJhY3RUb051bGxDaGVja2VkTG9jYWxQcm9wb3NhbF9leHRyYWN0VG9DaGVja2VkTG9j
YWxfcHJvcG9zYWxOYW1lOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEV4dHJhY3RUb051bGxDaGVj
a2VkTG9jYWxQcm9wb3NhbF90b2RvSGFuZGxlTnVsbERlc2NyaXB0aW9uOwpkaWZmIC0tZ2l0IGEv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMgYi9vcmcuZWNsaXBzZS5qZHQudWkv
Y29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRml4TWVz
c2FnZXMucHJvcGVydGllcwppbmRleCBlMWM0ZTNkLi43MDNmMTc1IDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmV4dC9maXgvRml4TWVzc2FnZXMucHJvcGVydGllcworKysgYi9vcmcuZWNsaXBzZS5qZHQudWkv
Y29yZSBleHRlbnNpb24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRml4TWVz
c2FnZXMucHJvcGVydGllcwpAQCAtMSw1ICsxLDUgQEAKICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMK
LSMgQ29weXJpZ2h0IChjKSAyMDA1LCAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgor
IyBDb3B5cmlnaHQgKGMpIDIwMDUsIDIwMTUgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAj
IEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBt
YXRlcmlhbHMKICMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAjIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJp
YnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC05LDcgKzksOCBAQAogIyAgICAgSUJNIENv
cnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCiAjICAgICBTdGVwaGFu
IEhlcnJtYW5uIC0gQ29udHJpYnV0aW9ucyBmb3IKICMJCQkJCQkJCVtxdWljayBmaXhdIEFkZCBx
dWljayBmaXhlcyBmb3IgbnVsbCBhbm5vdGF0aW9ucyAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9y
Zy8zMzc5NzcKLSMJCQkJCQkJCVtxdWljayBmaXhdIFRoZSBmaXggY2hhbmdlIHBhcmFtZXRlciB0
eXBlIHRvIEBOb25udWxsIGdlbmVyYXRlZCBhIG51bGwgY2hhbmdlIC0gaHR0cHM6Ly9idWdzLmVj
bGlwc2Uub3JnLzQwMDY2OCAKKyMJCQkJCQkJCVtxdWljayBmaXhdIFRoZSBmaXggY2hhbmdlIHBh
cmFtZXRlciB0eXBlIHRvIEBOb25udWxsIGdlbmVyYXRlZCBhIG51bGwgY2hhbmdlIC0gaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnLzQwMDY2OAorIwkJCQkJCQkJW251bGxdICJBbm5vdGF0ZSIgcHJv
cG9zYWxzIGZvciBhZGRpbmcgZXh0ZXJuYWwgbnVsbCBhbm5vdGF0aW9ucyB0byBsaWJyYXJ5IGNs
YXNzZXMgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAwCiAjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjCiBDbGVhblVwUmVmYWN0b3JpbmdfUmVmYWN0b3JpbmdfbmFtZT1DbGVhbiBVcAogQ2xl
YW5VcFJlZmFjdG9yaW5nX0luaXRpYWxpemVfbWVzc2FnZT1DaGVja2luZyBwcmVjb25kaXRpb25z
IGZvciBwcm9qZWN0ICcnezB9JycKQEAgLTExNyw2ICsxMTgsMTAgQEAKIAogTnVsbEFubm90YXRp
b25zUmV3cml0ZU9wZXJhdGlvbnNfcmVtb3ZlX3JlZHVuZGFudF9udWxsbmVzc19hbm5vdGF0aW9u
PVJlbW92ZSByZWR1bmRhbnQgbnVsbG5lc3MgYW5ub3RhdGlvbgogCitFeHRlcm5hbE51bGxBbm5v
dGF0aW9uQ2hhbmdlUHJvcG9zYWxzX2FkZF9udWxsbmVzc19hbm5vdGF0aW9uPUFubm90YXRlIGFz
ICcnQHswfSB7MX0nJworRXh0ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19hZGRf
bnVsbG5lc3NfYXJyYXlfYW5ub3RhdGlvbj1Bbm5vdGF0ZSBhcyAnJ3swfSBAezF9IHsyfScnCitF
eHRlcm5hbE51bGxBbm5vdGF0aW9uQ2hhbmdlUHJvcG9zYWxzX3JlbW92ZV9udWxsbmVzc19hbm5v
dGF0aW9uPVJlbW92ZSBudWxsbmVzcyBhbm5vdGF0aW9uIGZyb20gdHlwZSAnJ3swfScnCisKIEV4
dHJhY3RUb051bGxDaGVja2VkTG9jYWxQcm9wb3NhbF9leHRyYWN0Q2hlY2tlZExvY2FsX2VkaXRO
YW1lPUV4dHJhY3QgY2hlY2tlZCBsb2NhbAogRXh0cmFjdFRvTnVsbENoZWNrZWRMb2NhbFByb3Bv
c2FsX2V4dHJhY3RUb0NoZWNrZWRMb2NhbF9wcm9wb3NhbE5hbWU9RXh0cmFjdCB0byBjaGVja2Vk
IGxvY2FsIHZhcmlhYmxlCiBFeHRyYWN0VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWxfdG9kb0hh
bmRsZU51bGxEZXNjcmlwdGlvbj1oYW5kbGUgbnVsbCB2YWx1ZQpkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LnVpL3BsdWdpbi5wcm9wZXJ0aWVzIGIvb3JnLmVjbGlwc2UuamR0LnVpL3BsdWdp
bi5wcm9wZXJ0aWVzCmluZGV4IDViYTMyMGQuLmI1MDZhMDkgMTAwNjQ0Ci0tLSBhL29yZy5lY2xp
cHNlLmpkdC51aS9wbHVnaW4ucHJvcGVydGllcworKysgYi9vcmcuZWNsaXBzZS5qZHQudWkvcGx1
Z2luLnByb3BlcnRpZXMKQEAgLTQ4MCw2ICs0ODAsOSBAQAogCiBJbmRlbnRBY3Rpb24ubGFiZWw9
IENvcnJlY3QgJkluZGVudGF0aW9uCiAKK2Fubm90YXRlQ2xhc3NGaWxlLmxhYmVsPSBBbm5vdGF0
ZSBDbGFzcyBGaWxlCithbm5vdGF0ZUNsYXNzRmlsZS5kZXNjcmlwdGlvbj0gRXh0ZXJuYWxseSBh
ZGQgQW5ub3RhdGlvbnMgdG8gYSBDbGFzcyBGaWxlLgorCiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogIyBK
YXZhZG9jIFN1cHBvcnQKICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCkBAIC02MTEsNiArNjE0LDkgQEAKIGNv
bnRleHQuZWRpdGluZ0phdmFTb3VyY2UubmFtZT0gRWRpdGluZyBKYXZhIFNvdXJjZQogY29udGV4
dC5lZGl0aW5nSmF2YVNvdXJjZS5kZXNjcmlwdGlvbj0gRWRpdGluZyBKYXZhIFNvdXJjZSBDb250
ZXh0CiAKK2NvbnRleHQuYnJvd3NpbmdKYXZhU291cmNlLm5hbWU9IEJyb3dzaW5nIGF0dGFjaGVk
IEphdmEgU291cmNlCitjb250ZXh0LmJyb3dzaW5nSmF2YVNvdXJjZS5kZXNjcmlwdGlvbj0gQnJv
d3NpbmcgYXR0YWNoZWQgSmF2YSBTb3VyY2UgQ29udGV4dAorCiBjb250ZXh0LmVkaXRpbmdQcm9w
ZXJ0aWVzU291cmNlLm5hbWU9IEVkaXRpbmcgUHJvcGVydGllcyBGaWxlcwogY29udGV4dC5lZGl0
aW5nUHJvcGVydGllc1NvdXJjZS5kZXNjcmlwdGlvbj0gRWRpdGluZyBQcm9wZXJ0aWVzIEZpbGVz
IENvbnRleHQKIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL3BsdWdpbi54bWwgYi9v
cmcuZWNsaXBzZS5qZHQudWkvcGx1Z2luLnhtbAppbmRleCBkZDE5YjZmLi43OWMwNzRkIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvcGx1Z2luLnhtbAorKysgYi9vcmcuZWNsaXBzZS5q
ZHQudWkvcGx1Z2luLnhtbApAQCAtMzM2MCw2ICszMzYwLDEyIEBACiAgICAgICAgICAgICBpZD0i
b3JnLmVjbGlwc2UuamR0LnVpLmphdmFFZGl0b3JTY29wZSI+CiAgICAgICA8L2NvbnRleHQ+CiAg
ICAgICA8Y29udGV4dAorICAgICAgICAgICAgbmFtZT0iJWNvbnRleHQuYnJvd3NpbmdKYXZhU291
cmNlLm5hbWUiCisgICAgICAgICAgICBkZXNjcmlwdGlvbj0iJWNvbnRleHQuYnJvd3NpbmdKYXZh
U291cmNlLmRlc2NyaXB0aW9uIgorICAgICAgICAgICAgcGFyZW50SWQ9Im9yZy5lY2xpcHNlLnVp
LnRleHRFZGl0b3JTY29wZSIKKyAgICAgICAgICAgIGlkPSJvcmcuZWNsaXBzZS5qZHQudWkuY2xh
c3NGaWxlRWRpdG9yU2NvcGUiPgorICAgICAgPC9jb250ZXh0PgorICAgICAgPGNvbnRleHQKICAg
ICAgICAgICAgIG5hbWU9IiVjb250ZXh0LmVkaXRpbmdQcm9wZXJ0aWVzU291cmNlLm5hbWUiCiAg
ICAgICAgICAgICBkZXNjcmlwdGlvbj0iJWNvbnRleHQuZWRpdGluZ1Byb3BlcnRpZXNTb3VyY2Uu
ZGVzY3JpcHRpb24iCiAgICAgICAgICAgICBwYXJlbnRJZD0ib3JnLmVjbGlwc2UudWkudGV4dEVk
aXRvclNjb3BlIgpAQCAtNDE4Niw2ICs0MTkyLDEzIEBACiAgICAgICAgICAgICBjYXRlZ29yeUlk
PSJvcmcuZWNsaXBzZS5zZWFyY2gudWkuY2F0ZWdvcnkuc2VhcmNoIgogICAgICAgICAgICAgaWQ9
Im9yZy5lY2xpcHNlLmpkdC51aS5lZGl0LnRleHQuamF2YS5zZWFyY2guaW1wbGVtZW50Lm9jY3Vy
cmVuY2VzIj4KICAgICAgIDwvY29tbWFuZD4KKzwhLS0gYW5ub3RhdGUgY2xhc3MgZmlsZTogLS0+
CisJICA8Y29tbWFuZAorCSAgICAgICAgbmFtZT0iJWFubm90YXRlQ2xhc3NGaWxlLmxhYmVsIgor
CSAgICAgICAgZGVzY3JpcHRpb249IiVhbm5vdGF0ZUNsYXNzRmlsZS5kZXNjcmlwdGlvbiIKKwkg
ICAgICAgIGNhdGVnb3J5SWQ9Im9yZy5lY2xpcHNlLmpkdC51aS5jYXRlZ29yeS5zb3VyY2UiCisJ
ICAgICAgICBpZD0ib3JnLmVjbGlwc2UuamR0LnVpLmVkaXQudGV4dC5qYXZhLmFubm90YXRlLmNs
YXNzRmlsZSI+CisJICA8L2NvbW1hbmQ+CiAgICA8L2V4dGVuc2lvbj4KICAgIAogICAgPGV4dGVu
c2lvbgpAQCAtNDc5Myw2ICs0ODA2LDEyIEBACiAJCQl2YWx1ZT0ib3JnLmVjbGlwc2UuamR0LnVp
LkphdmFkb2NWaWV3Ij4KIAkJPC9wYXJhbWV0ZXI+CiAJPC9rZXk+CisJPGtleQorICAgICAgIGNv
bW1hbmRJZD0ib3JnLmVjbGlwc2UuamR0LnVpLmVkaXQudGV4dC5qYXZhLmFubm90YXRlLmNsYXNz
RmlsZSIKKyAgICAgICBjb250ZXh0SWQ9Im9yZy5lY2xpcHNlLmpkdC51aS5jbGFzc0ZpbGVFZGl0
b3JTY29wZSIKKyAgICAgICBzY2hlbWVJZD0ib3JnLmVjbGlwc2UudWkuZGVmYXVsdEFjY2VsZXJh
dG9yQ29uZmlndXJhdGlvbiIKKyAgICAgICBzZXF1ZW5jZT0iTTErMSI+CisJPC9rZXk+CiAJPC9l
eHRlbnNpb24+CiAgICAKICAgIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0Fubm90YXRlQ2xhc3NGaWxlQWN0
aW9uLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L3VpL2phdmFlZGl0b3IvQW5ub3RhdGVDbGFzc0ZpbGVBY3Rpb24uamF2YQpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwLi5iMGNjMmJmCi0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVj
bGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0Fu
bm90YXRlQ2xhc3NGaWxlQWN0aW9uLmphdmEKQEAgLTAsMCArMSw0MSBAQAorLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKKyAqIENvcHlyaWdodCAoYykgMjAxNSBHSyBTb2Z0d2FyZSBBRyBhbmQgb3Ro
ZXJzLgorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21w
YW55aW5nIG1hdGVyaWFscworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0
aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xp
cHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwKKyAqCisgKiBDb250cmlidXRvcnM6CisgKiAgICAg
U3RlcGhhbiBIZXJybWFubiAtIEluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKiovCitwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5q
YXZhZWRpdG9yOworCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UuYWN0aW9uLkFjdGlvbjsKKwor
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuc291cmNlLklTb3VyY2VWaWV3ZXI7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuU291cmNlVmlld2VyOworCisvKioKKyAq
IEFjdGlvbiB0byBhZGQgZXh0ZXJuYWwgbnVsbCBhbm5vdGF0aW9ucyBmcm9tIGEgQ2xhc3NGaWxl
RWRpdG9yLgorICogQHNlZSA8YSBocmVmPSJodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAx
Ij5bbnVsbF0gT2ZmZXIgbmV3IGNvbW1hbmQgIkFubm90YXRlIiBvbiBDbGFzc0ZpbGVFZGl0b3I8
L2E+CisgKiBAc2luY2UgMy4xMQorICovCitwdWJsaWMgY2xhc3MgQW5ub3RhdGVDbGFzc0ZpbGVB
Y3Rpb24gZXh0ZW5kcyBBY3Rpb24geworCisJcHJpdmF0ZSBmaW5hbCBDbGFzc0ZpbGVFZGl0b3Ig
ZkVkaXRvcjsKKworCXByb3RlY3RlZCBBbm5vdGF0ZUNsYXNzRmlsZUFjdGlvbihDbGFzc0ZpbGVF
ZGl0b3IgZWRpdG9yKSB7CisJCXN1cGVyKEphdmFFZGl0b3JNZXNzYWdlcy5Bbm5vdGF0ZUNsYXNz
RmlsZV9sYWJlbCk7CisJCWZFZGl0b3I9IGVkaXRvcjsKKwl9CisJCisJQE92ZXJyaWRlCisJcHVi
bGljIHZvaWQgcnVuKCkgeworCQlJU291cmNlVmlld2VyIHZpZXdlcj0gZkVkaXRvci5nZXRWaWV3
ZXIoKTsKKwkJaWYgKHZpZXdlciBpbnN0YW5jZW9mIFNvdXJjZVZpZXdlcikgeworCQkJU291cmNl
Vmlld2VyIHNvdXJjZVZpZXdlcj0gKFNvdXJjZVZpZXdlcikgdmlld2VyOworCQkJaWYgKHNvdXJj
ZVZpZXdlci5jYW5Eb09wZXJhdGlvbihKYXZhU291cmNlVmlld2VyLkFOTk9UQVRFX0NMQVNTX0ZJ
TEUpKQorCQkJCXNvdXJjZVZpZXdlci5kb09wZXJhdGlvbihKYXZhU291cmNlVmlld2VyLkFOTk9U
QVRFX0NMQVNTX0ZJTEUpOworCQl9CisJfQorfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0NsYXNzRmlsZUVk
aXRvci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC91aS9qYXZhZWRpdG9yL0NsYXNzRmlsZUVkaXRvci5qYXZhCmluZGV4IGVjY2QzNDUuLjIzNjFm
MjAgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvdWkvamF2YWVkaXRvci9DbGFzc0ZpbGVFZGl0b3IuamF2YQorKysgYi9vcmcuZWNsaXBz
ZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvQ2xhc3NG
aWxlRWRpdG9yLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgot
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEyIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgor
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDE1IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgog
ICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5n
IG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRp
c3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtNyw2ICs3LDcgQEAKICAqCiAgKiBD
b250cmlidXRvcnM6CiAgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGlt
cGxlbWVudGF0aW9uCisgKiAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlvbiBmb3Ig
QnVnIDQ1ODIwMSAtIE9mZmVyIG5ldyBjb21tYW5kICJBbm5vdGF0ZSIgb24gQ2xhc3NGaWxlRWRp
dG9yCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0Lmlu
dGVybmFsLnVpLmphdmFlZGl0b3I7CiAKQEAgLTU0LDYgKzU1LDcgQEAKIGltcG9ydCBvcmcuZWNs
aXBzZS5qZmFjZS51dGlsLlByb3BlcnR5Q2hhbmdlRXZlbnQ7CiAKIGltcG9ydCBvcmcuZWNsaXBz
ZS5qZmFjZS50ZXh0LklXaWRnZXRUb2tlbktlZXBlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFj
ZS50ZXh0LnNvdXJjZS5JT3ZlcnZpZXdSdWxlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50
ZXh0LnNvdXJjZS5JU291cmNlVmlld2VyOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQu
c291cmNlLklWZXJ0aWNhbFJ1bGVyOwogCkBAIC02NCw2ICs2Niw3IEBACiBpbXBvcnQgb3JnLmVj
bGlwc2UudWkuUGxhdGZvcm1VSTsKIGltcG9ydCBvcmcuZWNsaXBzZS51aS5hY3Rpb25zLkFjdGlv
bkNvbnRleHQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UudWkuYWN0aW9ucy5BY3Rpb25Hcm91cDsKK2lt
cG9ydCBvcmcuZWNsaXBzZS51aS5uYXZpZ2F0b3IuSUNvbW1vbk1lbnVDb25zdGFudHM7CiAKIGlt
cG9ydCBvcmcuZWNsaXBzZS51aS50ZXh0ZWRpdG9yLklEb2N1bWVudFByb3ZpZGVyOwogaW1wb3J0
IG9yZy5lY2xpcHNlLnVpLnRleHRlZGl0b3IuSVRleHRFZGl0b3JBY3Rpb25Db25zdGFudHM7CkBA
IC04OSw2ICs5Miw3IEBACiAKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkuSmF2YUVsZW1lbnRM
YWJlbHM7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LnVpLlNoYXJlZEFTVFByb3ZpZGVyOworaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC51aS5hY3Rpb25zLklKYXZhRWRpdG9yQWN0aW9uRGVmaW5pdGlv
bklkczsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkuYWN0aW9ucy5SZWZhY3RvckFjdGlvbkdy
b3VwOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS53aXphcmRzLkJ1aWxkUGF0aERpYWxvZ0Fj
Y2VzczsKIApAQCAtNTQ3LDYgKzU1MSwxMCBAQAogCQlmQWN0aW9uR3JvdXBzLmFkZEdyb3VwKGdy
b3VwKTsKIAkJZkNvbnRleHRNZW51R3JvdXA9IG5ldyBDb21wb3NpdGVBY3Rpb25Hcm91cChuZXcg
QWN0aW9uR3JvdXBbXSB7Z3JvdXB9KTsKIAorCQlBY3Rpb24gYWN0aW9uPSBuZXcgQW5ub3RhdGVD
bGFzc0ZpbGVBY3Rpb24odGhpcyk7CisJCWFjdGlvbi5zZXRBY3Rpb25EZWZpbml0aW9uSWQoSUph
dmFFZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLkFOTk9UQVRFX0NMQVNTX0ZJTEUpOworCQlzZXRB
Y3Rpb24oSUphdmFFZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLkFOTk9UQVRFX0NMQVNTX0ZJTEUs
IGFjdGlvbik7CisKIAkJLyoKIAkJICogMUdGODJQTDogSVRQSlVJOkFMTCAtIE5lZWQgdG8gYmUg
YWJsZSB0byBhZGQgYm9va21hcmsgdG8gY2xhc3MgZmlsZQogCQkgKgpAQCAtNTY2LDEwICs1NzQs
MjEgQEAKIAlwdWJsaWMgdm9pZCBlZGl0b3JDb250ZXh0TWVudUFib3V0VG9TaG93KElNZW51TWFu
YWdlciBtZW51KSB7CiAJCXN1cGVyLmVkaXRvckNvbnRleHRNZW51QWJvdXRUb1Nob3cobWVudSk7
CiAKKwkJSUFjdGlvbiBhY3Rpb24gPSBnZXRBY3Rpb24oSUphdmFFZGl0b3JBY3Rpb25EZWZpbml0
aW9uSWRzLkFOTk9UQVRFX0NMQVNTX0ZJTEUpOworCQltZW51LmFwcGVuZFRvR3JvdXAoSUNvbW1v
bk1lbnVDb25zdGFudHMuR1JPVVBfRURJVCwgYWN0aW9uKTsKKwogCQlBY3Rpb25Db250ZXh0IGNv
bnRleHQ9IG5ldyBBY3Rpb25Db250ZXh0KGdldFNlbGVjdGlvblByb3ZpZGVyKCkuZ2V0U2VsZWN0
aW9uKCkpOwogCQlmQ29udGV4dE1lbnVHcm91cC5zZXRDb250ZXh0KGNvbnRleHQpOwogCQlmQ29u
dGV4dE1lbnVHcm91cC5maWxsQ29udGV4dE1lbnUobWVudSk7CiAJCWZDb250ZXh0TWVudUdyb3Vw
LnNldENvbnRleHQobnVsbCk7CisJfQorCisJLyoKKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLnRl
eHRlZGl0b3IuQWJzdHJhY3REZWNvcmF0ZWRUZXh0RWRpdG9yI2luaXRpYWxpemVLZXlCaW5kaW5n
U2NvcGVzKCkKKwkgKi8KKwlAT3ZlcnJpZGUKKwlwcm90ZWN0ZWQgdm9pZCBpbml0aWFsaXplS2V5
QmluZGluZ1Njb3BlcygpIHsKKwkJc2V0S2V5QmluZGluZ1Njb3BlcyhuZXcgU3RyaW5nW10geyAi
b3JnLmVjbGlwc2UuamR0LnVpLmphdmFFZGl0b3JTY29wZSIsICJvcmcuZWNsaXBzZS5qZHQudWku
Y2xhc3NGaWxlRWRpdG9yU2NvcGUiIH0pOyAgLy8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkCiAJ
fQogCiAJLyoKQEAgLTg4Miw4ICs5MDEsOSBAQAogCS8qCiAJICogQHNlZSBKYXZhRWRpdG9yI2Ny
ZWF0ZUphdmFTb3VyY2VWaWV3ZXIoQ29tcG9zaXRlLCBJVmVydGljYWxSdWxlciwgaW50KQogCSAq
LwotCXByb3RlY3RlZCBJU291cmNlVmlld2VyIGNyZWF0ZUphdmFTb3VyY2VWaWV3ZXIoQ29tcG9z
aXRlIHBhcmVudCwgSVZlcnRpY2FsUnVsZXIgcnVsZXIsIGludCBzdHlsZXMsIElQcmVmZXJlbmNl
U3RvcmUgc3RvcmUpIHsKLQkJcmV0dXJuIG5ldyBKYXZhU291cmNlVmlld2VyKHBhcmVudCwgcnVs
ZXIsIG51bGwsIGZhbHNlLCBzdHlsZXMsIHN0b3JlKSB7CisJQE92ZXJyaWRlCisJcHJvdGVjdGVk
IElTb3VyY2VWaWV3ZXIgY3JlYXRlSmF2YVNvdXJjZVZpZXdlcihDb21wb3NpdGUgcGFyZW50LCBJ
VmVydGljYWxSdWxlciBydWxlciwgSU92ZXJ2aWV3UnVsZXIgb3ZlcnZpZXdSdWxlciwgYm9vbGVh
biBpc092ZXJ2aWV3UnVsZXJWaXNpYmxlLCBpbnQgc3R5bGVzLCBJUHJlZmVyZW5jZVN0b3JlIHN0
b3JlKSB7CisJCXJldHVybiBuZXcgSmF2YVNvdXJjZVZpZXdlcihwYXJlbnQsIHJ1bGVyLCBvdmVy
dmlld1J1bGVyLCBpc092ZXJ2aWV3UnVsZXJWaXNpYmxlLCBzdHlsZXMsIHN0b3JlKSB7CiAKIAkJ
CUBPdmVycmlkZQogCQkJcHVibGljIGJvb2xlYW4gcmVxdWVzdFdpZGdldFRva2VuKElXaWRnZXRU
b2tlbktlZXBlciByZXF1ZXN0ZXIpIHsKQEAgLTg5OCw2ICs5MTgsMjUgQEAKIAkJCQkJcmV0dXJu
IGZhbHNlOwogCQkJCXJldHVybiBzdXBlci5yZXF1ZXN0V2lkZ2V0VG9rZW4ocmVxdWVzdGVyLCBw
cmlvcml0eSk7CiAJCQl9CisJCQkKKwkJCUBPdmVycmlkZQorCQkJcHVibGljIGJvb2xlYW4gY2Fu
RG9PcGVyYXRpb24oaW50IG9wZXJhdGlvbikgeworCQkJCWlmIChvcGVyYXRpb24gPT0gSmF2YVNv
dXJjZVZpZXdlci5BTk5PVEFURV9DTEFTU19GSUxFKQorCQkJCQlyZXR1cm4gdHJ1ZTsKKwkJCQly
ZXR1cm4gc3VwZXIuY2FuRG9PcGVyYXRpb24ob3BlcmF0aW9uKTsKKwkJCX0KKworCQkJQE92ZXJy
aWRlCisJCQlwdWJsaWMgdm9pZCBkb09wZXJhdGlvbihpbnQgb3BlcmF0aW9uKSB7CisJCQkJaWYg
KG9wZXJhdGlvbiA9PSBKYXZhU291cmNlVmlld2VyLkFOTk9UQVRFX0NMQVNTX0ZJTEUpIHsKKwkJ
CQkJZlF1aWNrQXNzaXN0QXNzaXN0YW50LnNldFN0YXR1c0xpbmVWaXNpYmxlKHRydWUpOworCQkJ
CQlmUXVpY2tBc3Npc3RBc3Npc3RhbnQuc2V0U3RhdHVzTWVzc2FnZShKYXZhRWRpdG9yTWVzc2Fn
ZXMuQ2xhc3NGaWxlRWRpdG9yX2NoYW5nZUV4dGVybmFsQW5ub3RhdGlvbnNfY2FwdGlvbisnICcp
OworCQkJCQlTdHJpbmcgbXNnPSBmUXVpY2tBc3Npc3RBc3Npc3RhbnQuc2hvd1Bvc3NpYmxlUXVp
Y2tBc3Npc3RzKCk7CisJCQkJCXNldFN0YXR1c0xpbmVFcnJvck1lc3NhZ2UobXNnKTsKKwkJCQkJ
cmV0dXJuOworCQkJCX0KKwkJCQlzdXBlci5kb09wZXJhdGlvbihvcGVyYXRpb24pOworCQkJfQog
CQl9OwogCX0KIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0phdmFFZGl0b3JNZXNzYWdlcy5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9y
L0phdmFFZGl0b3JNZXNzYWdlcy5qYXZhCmluZGV4IDM2YTU0ZjYuLjAyZGYxNmYgMTAwNjQ0Ci0t
LSBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2
YWVkaXRvci9KYXZhRWRpdG9yTWVzc2FnZXMuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQudWkv
dWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvSmF2YUVkaXRvck1lc3Nh
Z2VzLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDE1IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxs
IHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVy
aWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBz
ZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1
dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTAsNiArMTAsNyBAQAogICogICAgIEFuZHJl
IFNvZXJlbmcgPGFuZHJlaXNAZmFzdC5ubz4gLSBbc3ludGF4IGhpZ2hsaWdodGluZ10gaGlnaGxp
Z2h0IG51bWJlcnMgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/
aWQ9NjM1NzMKICAqICAgICBCasO2cm4gTWljaGFlbCA8Yi5taWNoYWVsQGdteC5kZT4gLSBbc3lu
dGF4IGhpZ2hsaWdodGluZ10gU3ludGF4IGNvbG9yaW5nIGZvciBhYnN0cmFjdCBjbGFzc2VzIC0g
aHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzMzMTMxMQogICogICAgIEJqw7ZybiBNaWNoYWVsIDxi
Lm1pY2hhZWxAZ214LmRlPiAtIFtzeW50YXggaGlnaGxpZ2h0aW5nXSBBZGQgaGlnaGxpZ2h0IGZv
ciBpbmhlcml0ZWQgZmllbGRzIC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzM0ODM2OAorICog
ICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBPZmZlciBuZXcgY29tbWFuZCAiQW5ub3RhdGUiIG9uIENs
YXNzRmlsZUVkaXRvciAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy80NTgyMDEKICAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkuamF2
YWVkaXRvcjsKIApAQCAtNDgsNiArNDksNyBAQAogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEFkZElt
cG9ydE9uU2VsZWN0aW9uX2Vycm9yX3RpdGxlOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEFkZElt
cG9ydE9uU2VsZWN0aW9uX2RpYWxvZ190aXRsZTsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBBZGRJ
bXBvcnRPblNlbGVjdGlvbl9kaWFsb2dfbWVzc2FnZTsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBD
bGFzc0ZpbGVFZGl0b3JfY2hhbmdlRXh0ZXJuYWxBbm5vdGF0aW9uc19jYXB0aW9uOwogCXB1Ymxp
YyBzdGF0aWMgU3RyaW5nIENsYXNzRmlsZUVkaXRvcl9lcnJvcl9jbGFzc2ZpbGVfbm90X29uX2Ns
YXNzcGF0aDsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBDbGFzc0ZpbGVFZGl0b3JfZXJyb3JfaW52
YWxpZF9pbnB1dF9tZXNzYWdlOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIENsYXNzRmlsZUVkaXRv
cl9lcnJvcl90aXRsZTsKQEAgLTE2NSw2ICsxNjcsNyBAQAogCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IEphdmFFbGVtZW50UmV0dXJuVHlwZUh5cGVybGlua19lcnJvcl9tc2c7CiAJcHVibGljIHN0YXRp
YyBTdHJpbmcgSmF2YUVsZW1lbnRTdXBlckltcGxlbWVudGF0aW9uSHlwZXJsaW5rX2h5cGVybGlu
a1RleHQ7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgSmF2YUVsZW1lbnRTdXBlckltcGxlbWVudGF0
aW9uSHlwZXJsaW5rX2h5cGVybGlua1RleHRfcXVhbGlmaWVkOworCXB1YmxpYyBzdGF0aWMgU3Ry
aW5nIEFubm90YXRlQ2xhc3NGaWxlX2xhYmVsOwogCiAJc3RhdGljIHsKIAkJTkxTLmluaXRpYWxp
emVNZXNzYWdlcyhCVU5ETEVfTkFNRSwgSmF2YUVkaXRvck1lc3NhZ2VzLmNsYXNzKTsKZGlmZiAt
LWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkv
amF2YWVkaXRvci9KYXZhRWRpdG9yTWVzc2FnZXMucHJvcGVydGllcyBiL29yZy5lY2xpcHNlLmpk
dC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9KYXZhRWRpdG9y
TWVzc2FnZXMucHJvcGVydGllcwppbmRleCA0OWE0MGYxLi4yMzViMzI3IDEwMDY0NAotLS0gYS9v
cmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0
b3IvSmF2YUVkaXRvck1lc3NhZ2VzLnByb3BlcnRpZXMKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVp
L3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0phdmFFZGl0b3JNZXNz
YWdlcy5wcm9wZXJ0aWVzCkBAIC0xMCw2ICsxMCw3IEBACiAjICAgICBBbmRyZSBTb2VyZW5nIDxh
bmRyZWlzQGZhc3Qubm8+IC0gW3N5bnRheCBoaWdobGlnaHRpbmddIGhpZ2hsaWdodCBudW1iZXJz
IC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTYzNTczCiAj
ICAgICBCam9lcm4gTWljaGFlbCA8Yi5taWNoYWVsQGdteC5kZT4gLSBbc3ludGF4IGhpZ2hsaWdo
dGluZ10gU3ludGF4IGNvbG9yaW5nIGZvciBhYnN0cmFjdCBjbGFzc2VzIC0gaHR0cHM6Ly9idWdz
LmVjbGlwc2Uub3JnLzMzMTMxMQogIyAgICAgQmpvZXJuIE1pY2hhZWwgPGIubWljaGFlbEBnbXgu
ZGU+IC0gW3N5bnRheCBoaWdobGlnaHRpbmddIEFkZCBoaWdobGlnaHQgZm9yIGluaGVyaXRlZCBm
aWVsZHMgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvMzQ4MzY4CisjICAgICBTdGVwaGFuIEhl
cnJtYW5uIC0gT2ZmZXIgbmV3IGNvbW1hbmQgIkFubm90YXRlIiBvbiBDbGFzc0ZpbGVFZGl0b3Ig
LSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAxCiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
CiAKIEFkZEltcG9ydE9uU2VsZWN0aW9uX2xhYmVsPUEmZGQgSW1wb3J0CkBAIC0yMSw2ICsyMiw3
IEBACiBBZGRJbXBvcnRPblNlbGVjdGlvbl9kaWFsb2dfdGl0bGU9QWRkIEltcG9ydAogQWRkSW1w
b3J0T25TZWxlY3Rpb25fZGlhbG9nX21lc3NhZ2U9JkNob29zZSBlbGVtZW50IHRvIGdlbmVyYXRl
IGFuIGltcG9ydCBzdGF0ZW1lbnQgZm9yOgogCitDbGFzc0ZpbGVFZGl0b3JfY2hhbmdlRXh0ZXJu
YWxBbm5vdGF0aW9uc19jYXB0aW9uPUNoYW5nZSBleHRlcm5hbCBhbm5vdGF0aW9ucwogQ2xhc3NG
aWxlRWRpdG9yX2Vycm9yX2NsYXNzZmlsZV9ub3Rfb25fY2xhc3NwYXRoPVRoZSBjbGFzcyBmaWxl
IGlzIG5vdCBvbiB0aGUgY2xhc3NwYXRoCiBDbGFzc0ZpbGVFZGl0b3JfU291cmNlQXR0YWNobWVu
dEZvcm1fY2Fubm90Y29uZmlndXJlPVRoZSBKQVIgb2YgdGhpcyBjbGFzcyBmaWxlIGJlbG9uZ3Mg
dG8gY29udGFpbmVyICcnezB9JycgY2FuIG5vdCBiZSBjb25maWd1cmVkLgogQ2xhc3NGaWxlRWRp
dG9yX1NvdXJjZUF0dGFjaG1lbnRGb3JtX25vdHN1cHBvcnRlZD1UaGUgSkFSIG9mIHRoaXMgY2xh
c3MgZmlsZSBiZWxvbmdzIHRvIGNvbnRhaW5lciAnJ3swfScnIHdoaWNoIGRvZXMgbm90IHN1cHBv
cnQgdGhlIGF0dGFjaG1lbnQgb2Ygc291cmNlcyB0byBpdHMgZW50cmllcy4KQEAgLTE1NywzICsx
NTksNSBAQAogRWRpdG9yX09wZW5Qcm9wZXJ0aWVzRmlsZV9oeXBlcmxpbmtUZXh0PSBPcGVuIGlu
ICcnezB9JycKIAogRWRpdG9yX01vdmVMaW5lc19JbGxlZ2FsTW92ZV9zdGF0dXM9IE1vdmUgbm90
IHBvc3NpYmxlIC0gVW5jaGVjayAiU2hvdyBTb3VyY2Ugb2YgU2VsZWN0ZWQgRWxlbWVudCBPbmx5
IiB0byBzZWUgdGhlIGVudGlyZSBkb2N1bWVudAorCitBbm5vdGF0ZUNsYXNzRmlsZV9sYWJlbD0m
QW5ub3RhdGUKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9KYXZhU291cmNlVmlld2VyLmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvSmF2
YVNvdXJjZVZpZXdlci5qYXZhCmluZGV4IGJhNDE4YjYuLjljOGJmMmQgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRv
ci9KYXZhU291cmNlVmlld2VyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0phdmFTb3VyY2VWaWV3ZXIuamF2YQpA
QCAtODMsNiArODMsMTEgQEAKIAkgKi8KIAlwdWJsaWMgc3RhdGljIGZpbmFsIGludCBTSE9XX0hJ
RVJBUkNIWT0gNTM7CiAKKwkvKioKKwkgKiBPcGVyYXRpb24gY29kZSBmb3IgdGhlIGFubm90YXRl
IGNsYXNzIGZpbGUgYWN0aW9uLgorCSAqLworCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEFOTk9U
QVRFX0NMQVNTX0ZJTEU9IDU0OworCiAJcHJpdmF0ZSBJSW5mb3JtYXRpb25QcmVzZW50ZXIgZk91
dGxpbmVQcmVzZW50ZXI7CiAJcHJpdmF0ZSBJSW5mb3JtYXRpb25QcmVzZW50ZXIgZlN0cnVjdHVy
ZVByZXNlbnRlcjsKIAlwcml2YXRlIElJbmZvcm1hdGlvblByZXNlbnRlciBmSGllcmFyY2h5UHJl
c2VudGVyOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC91aS90ZXh0L2NvcnJlY3Rpb24vRXh0ZXJuYWxOdWxsQW5ub3RhdGlvblF1aWNr
QXNzaXN0UHJvY2Vzc29yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL3VpL3RleHQvY29ycmVjdGlvbi9FeHRlcm5hbE51bGxBbm5vdGF0aW9uUXVp
Y2tBc3Npc3RQcm9jZXNzb3IuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAw
Li42NDI4N2ExCi0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2NvcnJlY3Rpb24vRXh0ZXJuYWxOdWxsQW5ub3Rh
dGlvblF1aWNrQXNzaXN0UHJvY2Vzc29yLmphdmEKQEAgLTAsMCArMSwxMDUgQEAKKy8qKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTUgR0sgU29mdHdhcmUgQUcgYW5k
IG90aGVycy4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFj
Y29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVy
bXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICogd2hpY2ggYWNjb21wYW5p
ZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKKyAqIGh0dHA6Ly93d3cu
ZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogQ29udHJpYnV0b3JzOgorICog
ICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBJbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KKyAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
dWkudGV4dC5jb3JyZWN0aW9uOworCitpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKKworaW1w
b3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuY29udGVudGFzc2lzdC5JQ29tcGxldGlvblByb3Bv
c2FsOworaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNz
aXN0SW52b2NhdGlvbkNvbnRleHQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5xdWlj
a2Fzc2lzdC5JUXVpY2tBc3Npc3RQcm9jZXNzb3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uu
dGV4dC5zb3VyY2UuQW5ub3RhdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnNv
dXJjZS5JU291cmNlVmlld2VyOworCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuSUVkaXRvclBhcnQ7
CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ2xhc3NGaWxlOworaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLklDb21waWxhdGlvblVuaXQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUuSmF2YUNvcmU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSmF2YU1vZGVsRXhj
ZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLldvcmtpbmdDb3B5T3duZXI7CisK
K2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LmZpeC5FeHRlcm5hbE51bGxB
bm5vYXRhdGlvbkNoYW5nZVByb3Bvc2FsczsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS50
ZXh0LmphdmEuSUphdmFDb21wbGV0aW9uUHJvcG9zYWw7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuaW50ZXJuYWwudWkuSmF2YVBsdWdpbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJu
YWwudWkuamF2YWVkaXRvci5JQ2xhc3NGaWxlRWRpdG9ySW5wdXQ7CisKKworLyoqCisgKiBBbHRl
cm5hdGUsIHN0cmlwcGVkIGRvd24gcXVpY2sgYXNzaXN0IHByb2Nlc3NvciBmb3IgdGhlIGFubm90
YXRlIGNsYXNzIGZpbGUgYWN0aW9uLgorICogQHNlZSA8YSBocmVmPSJodHRwczovL2J1Z3MuZWNs
aXBzZS5vcmcvNDU4MjAwIj5bbnVsbF0gIkFubm90YXRlIiBwcm9wb3NhbHMgZm9yIGFkZGluZyBl
eHRlcm5hbCBudWxsIGFubm90YXRpb25zIHRvIGxpYnJhcnkgY2xhc3NlczwvYT4KKyAqIEBzaW5j
ZSAzLjExCisgKi8KK3B1YmxpYyBjbGFzcyBFeHRlcm5hbE51bGxBbm5vdGF0aW9uUXVpY2tBc3Np
c3RQcm9jZXNzb3IgaW1wbGVtZW50cyBJUXVpY2tBc3Npc3RQcm9jZXNzb3IgeworCisJcHVibGlj
IHN0YXRpYyBmaW5hbCBTdHJpbmcgQU5OT1RBVEVfTUVNQkVSX0lEPSAib3JnLmVjbGlwc2UuamR0
LnVpLmFubm90YXRlLm51bGxBbm5vdGF0ZU1lbWJlci5hc3Npc3QiOyAvLyROT04tTkxTLTEkCisK
Kwlwcml2YXRlIEphdmFDb3JyZWN0aW9uQXNzaXN0YW50IGZBc3Npc3RhbnQ7CisJcHJpdmF0ZSBT
dHJpbmcgZkVycm9yTWVzc2FnZTsKKworCXB1YmxpYyBFeHRlcm5hbE51bGxBbm5vdGF0aW9uUXVp
Y2tBc3Npc3RQcm9jZXNzb3IoSmF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQgamF2YUNvcnJlY3Rpb25B
c3Npc3RhbnQpIHsKKwkJZkFzc2lzdGFudD0gamF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQ7CisJfQor
CisJcHVibGljIFN0cmluZyBnZXRFcnJvck1lc3NhZ2UoKSB7CisJCXJldHVybiBmRXJyb3JNZXNz
YWdlOworCX0KKworCXB1YmxpYyBib29sZWFuIGNhbkZpeChBbm5vdGF0aW9uIGFubm90YXRpb24p
IHsKKwkJcmV0dXJuIGZhbHNlOyAvLyBpcnJlbGV2YW50IG9uIGNsYXNzIGZpbGVzCisJfQorCisJ
cHVibGljIGJvb2xlYW4gY2FuQXNzaXN0KElRdWlja0Fzc2lzdEludm9jYXRpb25Db250ZXh0IGlu
dm9jYXRpb25Db250ZXh0KSB7CisJCUlFZGl0b3JQYXJ0IHBhcnQ9IGZBc3Npc3RhbnQuZ2V0RWRp
dG9yKCk7CisJCUlDbGFzc0ZpbGUgY2xhc3NGaWxlPSAoKElDbGFzc0ZpbGVFZGl0b3JJbnB1dClw
YXJ0LmdldEVkaXRvcklucHV0KCkpLmdldENsYXNzRmlsZSgpOworCQlyZXR1cm4gY2xhc3NGaWxl
LmdldEphdmFQcm9qZWN0KCkuZ2V0T3B0aW9uKEphdmFDb3JlLkNPTVBJTEVSX0FOTk9UQVRJT05f
TlVMTF9BTkFMWVNJUywgdHJ1ZSkuZXF1YWxzKEphdmFDb3JlLkVOQUJMRUQpOworCX0KKworCXB1
YmxpYyBJQ29tcGxldGlvblByb3Bvc2FsW10gY29tcHV0ZVF1aWNrQXNzaXN0UHJvcG9zYWxzKElR
dWlja0Fzc2lzdEludm9jYXRpb25Db250ZXh0IHF1aWNrQXNzaXN0Q29udGV4dCkgewkJCisJCUlD
b21waWxhdGlvblVuaXQgY3U9IG51bGw7CisJCXRyeSB7CisJCQkvLyBwcmVwYXJhdGlvbiBzaW1p
bGFyIHRvIEphdmFDb3JyZWN0aW9uUHJvY2Vzc29yOgorCQkJSUVkaXRvclBhcnQgcGFydD0gZkFz
c2lzdGFudC5nZXRFZGl0b3IoKTsKKworCQkJSUNsYXNzRmlsZSBjbGFzc0ZpbGU9ICgoSUNsYXNz
RmlsZUVkaXRvcklucHV0KXBhcnQuZ2V0RWRpdG9ySW5wdXQoKSkuZ2V0Q2xhc3NGaWxlKCk7CisJ
CQljdT0gY2xhc3NGaWxlLmdldFdvcmtpbmdDb3B5KChXb3JraW5nQ29weU93bmVyKW51bGwsIG51
bGwpOworCQkJCisJCQlJU291cmNlVmlld2VyIHZpZXdlcj0gcXVpY2tBc3Npc3RDb250ZXh0Lmdl
dFNvdXJjZVZpZXdlcigpOworCQkJaW50IGRvY3VtZW50T2Zmc2V0PSBxdWlja0Fzc2lzdENvbnRl
eHQuZ2V0T2Zmc2V0KCk7CisKKwkJCUFzc2lzdENvbnRleHQgY29udGV4dD0gbnVsbDsKKwkJCWlm
IChjdSAhPSBudWxsKSB7CisJCQkJaW50IGxlbmd0aD0gdmlld2VyICE9IG51bGwgPyB2aWV3ZXIu
Z2V0U2VsZWN0ZWRSYW5nZSgpLnkgOiAwOworCQkJCWNvbnRleHQ9IG5ldyBBc3Npc3RDb250ZXh0
KGN1LCB2aWV3ZXIsIHBhcnQsIGRvY3VtZW50T2Zmc2V0LCBsZW5ndGgpOworCQkJfQorCQkJCisJ
CQlBcnJheUxpc3Q8SUphdmFDb21wbGV0aW9uUHJvcG9zYWw+IHByb3Bvc2Fscz0gbmV3IEFycmF5
TGlzdDxJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbD4oKTsKKwkJCQorCQkJLy8gc2hvcnRjdXQgKHdl
IG9ubHkgaGF2ZSBvbmUgcHJvY2Vzc29yKToKKwkJCUV4dGVybmFsTnVsbEFubm9hdGF0aW9uQ2hh
bmdlUHJvcG9zYWxzLmNvbGxlY3RFeHRlcm5hbEFubm90YXRpb25Qcm9wb3NhbHMoY29udGV4dC5n
ZXRDb21waWxhdGlvblVuaXQoKSwgY29udGV4dC5nZXRDb3ZlcmluZ05vZGUoKSwgcHJvcG9zYWxz
KTsKKwkJCQorCQkJcmV0dXJuIHByb3Bvc2Fscy50b0FycmF5KG5ldyBJSmF2YUNvbXBsZXRpb25Q
cm9wb3NhbFtwcm9wb3NhbHMuc2l6ZSgpXSk7CisKKwkJfSBjYXRjaCAoSmF2YU1vZGVsRXhjZXB0
aW9uIGUpIHsKKwkJCWZFcnJvck1lc3NhZ2U9IGUuZ2V0TWVzc2FnZSgpOworCQkJSmF2YVBsdWdp
bi5sb2coZSk7CisJCQlyZXR1cm4gbnVsbDsKKwkJfSBmaW5hbGx5IHsKKwkJCXRyeSB7CisJCQkJ
aWYgKGN1ICE9IG51bGwpCisJCQkJCWN1LmRpc2NhcmRXb3JraW5nQ29weSgpOworCQkJfSBjYXRj
aCAoSmF2YU1vZGVsRXhjZXB0aW9uIGUpIHsKKwkJCQkvLyBpZ25vcmUKKwkJCX0KKwkJfQorCX0K
K30KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL0phdmFDb3JyZWN0aW9uQXNzaXN0YW50LmphdmEgYi9v
cmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQvY29y
cmVjdGlvbi9KYXZhQ29ycmVjdGlvbkFzc2lzdGFudC5qYXZhCmluZGV4IDEwY2U2ZTAuLjQzNzZj
YzIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL0phdmFDb3JyZWN0aW9uQXNzaXN0YW50LmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0
L2NvcnJlY3Rpb24vSmF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQuamF2YQpAQCAtMSw1ICsxLDUgQEAK
IC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTUgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAq
IHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0
CkBAIC03LDYgKzcsNyBAQAogICoKICAqIENvbnRyaWJ1dG9yczoKICAqICAgICBJQk0gQ29ycG9y
YXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KKyAqICAgICBTdGVwaGFuIEhl
cnJtYW5uIC0gT2ZmZXIgbmV3IGNvbW1hbmQgIkFubm90YXRlIiBvbiBDbGFzc0ZpbGVFZGl0b3Ig
LSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAxCiAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlvbjsK
IApAQCAtMzAsNiArMzEsNyBAQAogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuY29udGVu
dGFzc2lzdC5JQ29tcGxldGlvbkxpc3RlbmVyOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRl
eHQuY29udGVudGFzc2lzdC5JQ29tcGxldGlvblByb3Bvc2FsOwogaW1wb3J0IG9yZy5lY2xpcHNl
LmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNzaXN0QXNzaXN0YW50OworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNzaXN0UHJvY2Vzc29yOwog
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuUXVpY2tBc3Npc3RBc3Np
c3RhbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuQW5ub3RhdGlvbjsK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnNvdXJjZS5JQW5ub3RhdGlvbk1vZGVsOwpA
QCAtNDksNiArNTEsNyBAQAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS5TaGFyZWRBU1RQcm92
aWRlcjsKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2luOwor
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9yLkNsYXNzRmlsZUVk
aXRvcjsKIAogCiBwdWJsaWMgY2xhc3MgSmF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQgZXh0ZW5kcyBR
dWlja0Fzc2lzdEFzc2lzdGFudCB7CkBAIC03Miw3ICs3NSwxMSBAQAogCQlBc3NlcnQuaXNOb3RO
dWxsKGVkaXRvcik7CiAJCWZFZGl0b3I9IGVkaXRvcjsKIAotCQlKYXZhQ29ycmVjdGlvblByb2Nl
c3NvciBwcm9jZXNzb3I9IG5ldyBKYXZhQ29ycmVjdGlvblByb2Nlc3Nvcih0aGlzKTsKKwkJSVF1
aWNrQXNzaXN0UHJvY2Vzc29yIHByb2Nlc3NvcjsKKwkJaWYgKGVkaXRvciBpbnN0YW5jZW9mIENs
YXNzRmlsZUVkaXRvcikKKwkJCXByb2Nlc3Nvcj0gbmV3IEV4dGVybmFsTnVsbEFubm90YXRpb25R
dWlja0Fzc2lzdFByb2Nlc3Nvcih0aGlzKTsKKwkJZWxzZQorCQkJcHJvY2Vzc29yPSBuZXcgSmF2
YUNvcnJlY3Rpb25Qcm9jZXNzb3IodGhpcyk7CiAKIAkJc2V0UXVpY2tBc3Npc3RQcm9jZXNzb3Io
cHJvY2Vzc29yKTsKIAkJZW5hYmxlQ29sb3JlZExhYmVscyhQbGF0Zm9ybVVJLmdldFByZWZlcmVu
Y2VTdG9yZSgpLmdldEJvb2xlYW4oSVdvcmtiZW5jaFByZWZlcmVuY2VDb25zdGFudHMuVVNFX0NP
TE9SRURfTEFCRUxTKSk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2Vj
bGlwc2UvamR0L3VpL2FjdGlvbnMvSUphdmFFZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L3VpL2FjdGlvbnMvSUphdmFF
ZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLmphdmEKaW5kZXggOTk3ZWQyNC4uZDJhZTNjYiAxMDA2
NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC91aS9hY3Rpb25z
L0lKYXZhRWRpdG9yQWN0aW9uRGVmaW5pdGlvbklkcy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC51aS91aS9vcmcvZWNsaXBzZS9qZHQvdWkvYWN0aW9ucy9JSmF2YUVkaXRvckFjdGlvbkRlZmlu
aXRpb25JZHMuamF2YQpAQCAtNzU5LDQgKzc1OSwxMSBAQAogCSAqIEBzaW5jZSAzLjIKIAkgKi8K
IAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDTEVBTl9VUD0gIm9yZy5lY2xpcHNlLmpkdC51
aS5lZGl0LnRleHQuamF2YS5jbGVhbi51cCI7IC8vJE5PTi1OTFMtMSQKKworCS8qKgorCSAqIEFj
dGlvbiBkZWZpbml0aW9uIGlkIG9mIHRoZSBhbm5vdGF0ZSBjbGFzcyBmaWxlIGFjdGlvbgorCSAq
ICh2YWx1ZTogPGNvZGU+Im9yZy5lY2xpcHNlLmpkdC51aS5lZGl0LnRleHQuamF2YS5hbm5vdGF0
ZS5jbGFzc0ZpbGUiPC9jb2RlPikuCisJICogQHNpbmNlIDMuMTEKKwkgKi8KKwlwdWJsaWMgc3Rh
dGljIGZpbmFsIFN0cmluZyBBTk5PVEFURV9DTEFTU19GSUxFPSAib3JnLmVjbGlwc2UuamR0LnVp
LmVkaXQudGV4dC5qYXZhLmFubm90YXRlLmNsYXNzRmlsZSI7IC8vJE5PTi1OTFMtMSQKIH0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>251330</attachid>
            <date>2015-03-05 10:16:00 -0500</date>
            <delta_ts>2015-03-05 10:16:23 -0500</delta_ts>
            <desc>update (v6)</desc>
            <filename>Bug-458201--Offer-new-command-Annotate-on-ClassFileE.patch</filename>
            <type>text/plain</type>
            <size>90972</size>
            <attacher name="Stephan Herrmann">stephan.herrmann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQv
dWkvdGVzdHMvcXVpY2tmaXgvQW5ub3RhdGVBc3Npc3RUZXN0MTUuamF2YSBiL29yZy5lY2xpcHNl
LmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQvdWkvdGVzdHMvcXVpY2tmaXgvQW5ub3Rh
dGVBc3Npc3RUZXN0MTUuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi44
Y2M3NGVkCi0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29y
Zy9lY2xpcHNlL2pkdC91aS90ZXN0cy9xdWlja2ZpeC9Bbm5vdGF0ZUFzc2lzdFRlc3QxNS5qYXZh
CkBAIC0wLDAgKzEsMzkwIEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29weXJpZ2h0
IChjKSAyMDE1IEdLIFNvZnR3YXJlIEFHIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJlc2Vy
dmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjAKKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMg
YXZhaWxhYmxlIGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRt
bAorICoKKyAqIENvbnRyaWJ1dG9yczoKKyAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gSW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KK3BhY2th
Z2Ugb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzLnF1aWNrZml4OworCitpbXBvcnQgamF2YS5pby5C
eXRlQXJyYXlJbnB1dFN0cmVhbTsKK2ltcG9ydCBqYXZhLmlvLkJ5dGVBcnJheU91dHB1dFN0cmVh
bTsKK2ltcG9ydCBqYXZhLmlvLkZpbGU7CitpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKK2lt
cG9ydCBqYXZhLmlvLklucHV0U3RyZWFtOworaW1wb3J0IGphdmEudXRpbC5BcnJheXM7CitpbXBv
cnQgamF2YS51dGlsLkxpc3Q7CisKK2ltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdDsKK2ltcG9y
dCBqdW5pdC5mcmFtZXdvcmsuVGVzdFN1aXRlOworCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LnRl
c3RwbHVnaW4uSmF2YVByb2plY3RIZWxwZXI7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1
bnRpbWUuQ29yZUV4Y2VwdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0
aDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklDb250YWluZXI7CitpbXBv
cnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGU7CitpbXBvcnQgb3JnLmVjbGlwc2Uu
Y29yZS5yZXNvdXJjZXMuSUZvbGRlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNl
cy5JUHJvamVjdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JUmVzb3VyY2U7
CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LklEb2N1bWVudDsKK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZmFjZS50ZXh0LlRleHRTZWxlY3Rpb247CitpbXBvcnQgb3JnLmVjbGlwc2UuamZh
Y2UudGV4dC5jb250ZW50YXNzaXN0LkNvbnRlbnRBc3Npc3RFdmVudDsKK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZmFjZS50ZXh0LmNvbnRlbnRhc3Npc3QuSUNvbXBsZXRpb25MaXN0ZW5lcjsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LmNvbnRlbnRhc3Npc3QuSUNvbXBsZXRpb25Qcm9wb3Nh
bDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnNvdXJjZS5Tb3VyY2VWaWV3ZXI7CisK
K2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ2xhc3NwYXRoQXR0cmlidXRlOworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklDbGFzc3BhdGhFbnRyeTsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5JSmF2YVByb2plY3Q7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSVR5
cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSmF2YUNvcmU7CisKK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZS5DbGFzc3BhdGhFbnRyeTsKK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LnV0aWwuU3RyaW5nczsKKworaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC51aS5KYXZhVUk7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzLmNvcmUu
UHJvamVjdFRlc3RTZXR1cDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5K
YXZhUGx1Z2luOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9y
LkphdmFFZGl0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLmphdmFlZGl0
b3IuSmF2YVNvdXJjZVZpZXdlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwudWku
dGV4dC5jb3JyZWN0aW9uLkV4dGVybmFsTnVsbEFubm90YXRpb25RdWlja0Fzc2lzdFByb2Nlc3Nv
cjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkudGV4dC5jb3JyZWN0aW9uLkph
dmFDb3JyZWN0aW9uQXNzaXN0YW50OworCitwdWJsaWMgY2xhc3MgQW5ub3RhdGVBc3Npc3RUZXN0
MTUgZXh0ZW5kcyBRdWlja0ZpeFRlc3QgeworCisJcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBTdHJp
bmcgQU5OT1RBVElPTl9QQVRIPSAiYW5ub3RzIjsKKwkKKwlwcm90ZWN0ZWQgc3RhdGljIGZpbmFs
IENsYXNzPD8+IFRISVM9IEFubm90YXRlQXNzaXN0VGVzdDE1LmNsYXNzOworCQorCXB1YmxpYyBz
dGF0aWMgVGVzdCBzdWl0ZSgpIHsKKwkJcmV0dXJuIHNldFVwVGVzdChuZXcgVGVzdFN1aXRlKFRI
SVMpKTsKKwl9CisKKwlwdWJsaWMgc3RhdGljIFRlc3Qgc2V0VXBUZXN0KFRlc3QgdGVzdCkgewor
CQlyZXR1cm4gbmV3IFByb2plY3RUZXN0U2V0dXAodGVzdCk7CisJfQorCQorCXByb3RlY3RlZCBJ
SmF2YVByb2plY3QgZkpQcm9qZWN0MTsKKworCXB1YmxpYyBBbm5vdGF0ZUFzc2lzdFRlc3QxNShT
dHJpbmcgbmFtZSkgeworCQlzdXBlcihuYW1lKTsKKwl9CisKKwlwcm90ZWN0ZWQgdm9pZCBzZXRV
cCgpIHRocm93cyBFeGNlcHRpb24geworCQlmSlByb2plY3QxPSBQcm9qZWN0VGVzdFNldHVwLmdl
dFByb2plY3QoKTsKKwkJZkpQcm9qZWN0MS5nZXRQcm9qZWN0KCkuZ2V0Rm9sZGVyKEFOTk9UQVRJ
T05fUEFUSCkuY3JlYXRlKHRydWUsIHRydWUsIG51bGwpOworCQlmSlByb2plY3QxLnNldE9wdGlv
bihKYXZhQ29yZS5DT01QSUxFUl9BTk5PVEFUSU9OX05VTExfQU5BTFlTSVMsIEphdmFDb3JlLkVO
QUJMRUQpOworCX0KKwkKKwlAT3ZlcnJpZGUKKwlwcm90ZWN0ZWQgdm9pZCB0ZWFyRG93bigpIHRo
cm93cyBFeGNlcHRpb24geworCQlKYXZhUHJvamVjdEhlbHBlci5jbGVhcihmSlByb2plY3QxLCBQ
cm9qZWN0VGVzdFNldHVwLmdldERlZmF1bHRDbGFzc3BhdGgoKSk7CisJCXN1cGVyLnRlYXJEb3du
KCk7CisJfQorCisJcHJvdGVjdGVkIHZvaWQgZW5zdXJlRXhpc3RzKElDb250YWluZXIgcGFyZW50
KSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJCWlmIChwYXJlbnQuZXhpc3RzKCkpIHJldHVybjsK
KwkJaWYgKHBhcmVudC5nZXRQYXJlbnQoKSAhPSBudWxsKQorCQkJZW5zdXJlRXhpc3RzKHBhcmVu
dC5nZXRQYXJlbnQoKSk7CisJCWlmIChwYXJlbnQgaW5zdGFuY2VvZiBJRm9sZGVyKQorCQkJKChJ
Rm9sZGVyKXBhcmVudCkuY3JlYXRlKHRydWUsIHRydWUsIG51bGwpOworCX0KKworCS8vID09PSBm
cm9tIGpkdC5jb3JlLnRlc3RzLm1vZGVsOiA9PT0KKwlwcm90ZWN0ZWQgdm9pZCBhZGRMaWJyYXJ5
KAorCQkJSUphdmFQcm9qZWN0IGphdmFQcm9qZWN0LAorCQkJU3RyaW5nIGphck5hbWUsCisJCQlT
dHJpbmcgc291cmNlWmlwTmFtZSwKKwkJCVN0cmluZ1tdIHBhdGhBbmRDb250ZW50cywKKwkJCVN0
cmluZyBhbm5vdGF0aW9ucGF0aCwKKwkJCVN0cmluZyBjb21wbGlhbmNlKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiwgSU9FeGNlcHRpb24KKwl7CQorCQlJUHJvamVjdCBwcm9qZWN0PSBjcmVhdGVMaWJy
YXJ5KGphdmFQcm9qZWN0LCBqYXJOYW1lLCBzb3VyY2VaaXBOYW1lLCBwYXRoQW5kQ29udGVudHMs
IGNvbXBsaWFuY2UpOworCisJCVN0cmluZyBwcm9qZWN0UGF0aD0gJy8nICsgcHJvamVjdC5nZXRO
YW1lKCkgKyAnLyc7CisJCUlDbGFzc3BhdGhFbnRyeSBlbnRyeT0gSmF2YUNvcmUubmV3TGlicmFy
eUVudHJ5KAorCQkJCW5ldyBQYXRoKHByb2plY3RQYXRoICsgamFyTmFtZSksCisJCQkJc291cmNl
WmlwTmFtZSA9PSBudWxsID8gbnVsbCA6IG5ldyBQYXRoKHByb2plY3RQYXRoICsgc291cmNlWmlw
TmFtZSksCisJCQkJbnVsbCwKKwkJCQlDbGFzc3BhdGhFbnRyeS5nZXRBY2Nlc3NSdWxlcyhudWxs
LCBudWxsKSwKKwkJCQluZXcgSUNsYXNzcGF0aEF0dHJpYnV0ZVtdIHsgSmF2YUNvcmUubmV3Q2xh
c3NwYXRoQXR0cmlidXRlKElDbGFzc3BhdGhBdHRyaWJ1dGUuRVhURVJOQUxfQU5OT1RBVElPTl9Q
QVRILCBhbm5vdGF0aW9ucGF0aCl9LAorCQkJCXRydWUpOworCQlJQ2xhc3NwYXRoRW50cnlbXSBl
bnRyaWVzPSBqYXZhUHJvamVjdC5nZXRSYXdDbGFzc3BhdGgoKTsKKwkJaW50IGxlbmd0aD0gZW50
cmllcy5sZW5ndGg7CisJCVN5c3RlbS5hcnJheWNvcHkoZW50cmllcywgMCwgZW50cmllcz0gbmV3
IElDbGFzc3BhdGhFbnRyeVtsZW5ndGggKyAxXSwgMCwgbGVuZ3RoKTsKKwkJZW50cmllc1tsZW5n
dGhdPSBlbnRyeTsKKwkJamF2YVByb2plY3Quc2V0UmF3Q2xhc3NwYXRoKGVudHJpZXMsIG51bGwp
OworCX0KKwlwcm90ZWN0ZWQgSVByb2plY3QgY3JlYXRlTGlicmFyeSgKKwkJCUlKYXZhUHJvamVj
dCBqYXZhUHJvamVjdCwKKwkJCVN0cmluZyBqYXJOYW1lLAorCQkJU3RyaW5nIHNvdXJjZVppcE5h
bWUsCisJCQlTdHJpbmdbXSBwYXRoQW5kQ29udGVudHMsCisJCQlTdHJpbmcgY29tcGxpYW5jZSkg
dGhyb3dzIElPRXhjZXB0aW9uLCBDb3JlRXhjZXB0aW9uIAorCXsKKwkJSVByb2plY3QgcHJvamVj
dD0gamF2YVByb2plY3QuZ2V0UHJvamVjdCgpOworCQlTdHJpbmcgcHJvamVjdExvY2F0aW9uPSBw
cm9qZWN0LmdldExvY2F0aW9uKCkudG9PU1N0cmluZygpOworCQlTdHJpbmcgamFyUGF0aD0gcHJv
amVjdExvY2F0aW9uICsgRmlsZS5zZXBhcmF0b3IgKyBqYXJOYW1lOworCQlTdHJpbmdbXSBjbGFz
cGF0aD0gbmV3IFN0cmluZ1tdIHsgamF2YVByb2plY3QuZ2V0UmVzb2x2ZWRDbGFzc3BhdGgodHJ1
ZSlbMF0uZ2V0UGF0aCgpLnRvT1NTdHJpbmcoKSB9OworCQlKYXJVdGlsLmNyZWF0ZUphcihwYXRo
QW5kQ29udGVudHMsIG51bGwsIGphclBhdGgsIGNsYXNwYXRoLCBjb21wbGlhbmNlLCBudWxsKTsK
KwkJaWYgKHBhdGhBbmRDb250ZW50cyAhPSBudWxsICYmIHBhdGhBbmRDb250ZW50cy5sZW5ndGgg
IT0gMCkgeworCQkJU3RyaW5nIHNvdXJjZVppcFBhdGg9IHByb2plY3RMb2NhdGlvbiArIEZpbGUu
c2VwYXJhdG9yICsgc291cmNlWmlwTmFtZTsKKwkJCUphclV0aWwuY3JlYXRlU291cmNlWmlwKHBh
dGhBbmRDb250ZW50cywgc291cmNlWmlwUGF0aCk7CisJCX0KKwkJcHJvamVjdC5yZWZyZXNoTG9j
YWwoSVJlc291cmNlLkRFUFRIX0lORklOSVRFLCBudWxsKTsKKwkJcmV0dXJuIHByb2plY3Q7CisJ
fQorCisJLy8gPT09IGZyb20gUHJvcGVydGllc0ZpbGVRdWlja0Fzc2lzdFRlc3Q6ID09PQorCXBy
b3RlY3RlZCBzdGF0aWMgdm9pZCBjaGVja0NvbnRlbnRPZkZpbGUoU3RyaW5nIG1lc3NhZ2UsIElG
aWxlIGZpbGUsIFN0cmluZyBjb250ZW50KSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJSW5wdXRTdHJl
YW0gaW49IGZpbGUuZ2V0Q29udGVudHMoKTsKKwkJdHJ5IHsKKwkJCWFzc2VydEVxdWFsTGluZXMo
bWVzc2FnZSwgY29udGVudCwgY29weVRvU3RyaW5nKGluKSk7CisJCX0gZmluYWxseSB7CisJCQlp
bi5jbG9zZSgpOworCQl9CisJfQorCisJcHJvdGVjdGVkIHN0YXRpYyBTdHJpbmcgY29weVRvU3Ry
aW5nKElucHV0U3RyZWFtIGluKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJQnl0ZUFycmF5T3V0cHV0
U3RyZWFtIG91dD0gbmV3IEJ5dGVBcnJheU91dHB1dFN0cmVhbSgpOworCQlpbnQgcmVhZD0gaW4u
cmVhZCgpOworCQl3aGlsZSAocmVhZCAhPSAtMSkgeworCQkJb3V0LndyaXRlKHJlYWQpOworCQkJ
cmVhZD0gaW4ucmVhZCgpOworCQl9CisJCW91dC5jbG9zZSgpOworCQlyZXR1cm4gb3V0LnRvU3Ry
aW5nKCk7CisJfQorCisJcHJvdGVjdGVkIHN0YXRpYyB2b2lkIGFzc2VydEVxdWFsTGluZXMoU3Ry
aW5nIG1lc3NhZ2UsIFN0cmluZyBleHBlY3RlZCwgU3RyaW5nIGFjdHVhbCkgeworCQlTdHJpbmdb
XSBleHBlY3RlZExpbmVzPSBTdHJpbmdzLmNvbnZlcnRJbnRvTGluZXMoZXhwZWN0ZWQpOworCQlT
dHJpbmdbXSBhY3R1YWxMaW5lcz0gU3RyaW5ncy5jb252ZXJ0SW50b0xpbmVzKGFjdHVhbCk7CisK
KwkJU3RyaW5nIGV4cGVjdGVkMj0gKGV4cGVjdGVkTGluZXMgPT0gbnVsbCA/IG51bGwgOiBTdHJp
bmdzLmNvbmNhdGVuYXRlKGV4cGVjdGVkTGluZXMsICJcbiIpKTsKKwkJU3RyaW5nIGFjdHVhbDI9
IChhY3R1YWxMaW5lcyA9PSBudWxsID8gbnVsbCA6IFN0cmluZ3MuY29uY2F0ZW5hdGUoYWN0dWFs
TGluZXMsICJcbiIpKTsKKwkJYXNzZXJ0RXF1YWxzKG1lc3NhZ2UsIGV4cGVjdGVkMiwgYWN0dWFs
Mik7CisJfQorCQorCQorCS8vID09PSBUZXN0cyA9PT0KKworCS8qKgorCSAqIEFzc2VydCB0aGF0
IHRoZSAiQW5ub3RhdGUiIGNvbW1hbmQgY2FuIGJlIGludm9rZWQgb24gYSBDbGFzc0ZpbGVFZGl0
b3IKKwkgKiBAdGhyb3dzIEV4Y2VwdGlvbiAKKwkgKi8KKwlwdWJsaWMgdm9pZCB0ZXN0QW5ub3Rh
dGVSZXR1cm4oKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJCisJCVN0cmluZyBNWV9NQVBfUEFUSD0g
InBhY2svYWdlL015TWFwIjsKKwkJU3RyaW5nW10gcGF0aEFuZENvbnRlbnRzPSBuZXcgU3RyaW5n
W10geyAKKwkJCQkJTVlfTUFQX1BBVEgrIi5qYXZhIiwgCisJCQkJCSJwYWNrYWdlIHBhY2suYWdl
O1xuIiArCisJCQkJCSJwdWJsaWMgaW50ZXJmYWNlIE15TWFwPEssVj4ge1xuIiArCisJCQkJCSIg
ICAgcHVibGljIFYgZ2V0KEsga2V5KTtcbiIgKworCQkJCQkifVxuIgorCQkJCX07CisJCWFkZExp
YnJhcnkoZkpQcm9qZWN0MSwgImxpYi5qYXIiLCAibGliLnppcCIsIHBhdGhBbmRDb250ZW50cywg
QU5OT1RBVElPTl9QQVRILCBKYXZhQ29yZS5WRVJTSU9OXzFfNSk7CisJCUlUeXBlIHR5cGU9IGZK
UHJvamVjdDEuZmluZFR5cGUoTVlfTUFQX1BBVEgucmVwbGFjZSgnLycsICcuJykpOworCQlKYXZh
RWRpdG9yIGphdmFFZGl0b3I9IChKYXZhRWRpdG9yKSBKYXZhVUkub3BlbkluRWRpdG9yKHR5cGUp
OworCisJCXRyeSB7CisJCQlTb3VyY2VWaWV3ZXIgdmlld2VyPSAoU291cmNlVmlld2VyKWphdmFF
ZGl0b3IuZ2V0Vmlld2VyKCk7CisKKwkJCS8vIGludm9rZSB0aGUgZnVsbCBjb21tYW5kIGFuZCBh
c3luY2hyb25vdXNseSBjb2xsZWN0IHRoZSByZXN1bHQ6CisJCQlmaW5hbCBJQ29tcGxldGlvblBy
b3Bvc2FsW10gcHJvcG9zYWxCb3g9IG5ldyBJQ29tcGxldGlvblByb3Bvc2FsWzFdOworCQkJdmll
d2VyLmdldFF1aWNrQXNzaXN0QXNzaXN0YW50KCkuYWRkQ29tcGxldGlvbkxpc3RlbmVyKG5ldyBJ
Q29tcGxldGlvbkxpc3RlbmVyKCkgeworCQkJCXB1YmxpYyB2b2lkIHNlbGVjdGlvbkNoYW5nZWQo
SUNvbXBsZXRpb25Qcm9wb3NhbCBwcm9wb3NhbCwgYm9vbGVhbiBzbWFydFRvZ2dsZSkgeworCQkJ
CQlwcm9wb3NhbEJveFswXT0gcHJvcG9zYWw7CisJCQkJfQkJCQkKKwkJCQlwdWJsaWMgdm9pZCBh
c3Npc3RTZXNzaW9uU3RhcnRlZChDb250ZW50QXNzaXN0RXZlbnQgZXZlbnQpIHsgLyogbm9wICov
IH0KKwkJCQlwdWJsaWMgdm9pZCBhc3Npc3RTZXNzaW9uRW5kZWQoQ29udGVudEFzc2lzdEV2ZW50
IGV2ZW50KSB7IC8qIG5vcCAqLyB9CisJCQl9KTsKKworCQkJaW50IG9mZnNldD0gcGF0aEFuZENv
bnRlbnRzWzFdLmluZGV4T2YoIlYgZ2V0Iik7CQkKKwkJCXZpZXdlci5zZXRTZWxlY3Rpb24obmV3
IFRleHRTZWxlY3Rpb24ob2Zmc2V0LCAwKSk7CisJCQl2aWV3ZXIuZG9PcGVyYXRpb24oSmF2YVNv
dXJjZVZpZXdlci5BTk5PVEFURV9DTEFTU19GSUxFKTsKKworCQkJaW50IGNvdW50ID0gMTA7CisJ
CQl3aGlsZSAocHJvcG9zYWxCb3hbMF0gPT0gbnVsbCAmJiBjb3VudC0tID4gMCkKKwkJCQlUaHJl
YWQuc2xlZXAoMjAwKTsKKwkJCUlDb21wbGV0aW9uUHJvcG9zYWwgcHJvcG9zYWw9IHByb3Bvc2Fs
Qm94WzBdOworCQkJYXNzZXJ0Tm90TnVsbCgic2hvdWxkIGhhdmUgYSBwcm9wb3NhbCIsIHByb3Bv
c2FsKTsKKwkJCQorCQkJdmlld2VyLmdldFF1aWNrQXNzaXN0QXNzaXN0YW50KCkudW5pbnN0YWxs
KCk7CisJCQlKYXZhUHJvamVjdEhlbHBlci5lbXB0eURpc3BsYXlMb29wKCk7CisKKwkJCWFzc2Vy
dEVxdWFscygiZXhwZWN0IHByb3Bvc2FsIiwgIkFubm90YXRlIGFzICdATm9uTnVsbCBWJyIsIHBy
b3Bvc2FsLmdldERpc3BsYXlTdHJpbmcoKSk7CisJCQlTdHJpbmcgZXhwZWN0ZWRJbmZvPQorCQkJ
CQkiPGRsPjxkdD5nZXQ8L2R0PiIgKworCQkJCQkiPGRkPihUSzspVFY7PC9kZD4iICsKKwkJCQkJ
IjxkZD4oVEs7KVQ8Yj4xPC9iPlY7PC9kZD4iICsgLy8gPD0gMQorCQkJCQkiPC9kbD4iOworCQkJ
YXNzZXJ0RXF1YWxzKCJleHBlY3QgZGV0YWlsIiwgZXhwZWN0ZWRJbmZvLCBwcm9wb3NhbC5nZXRB
ZGRpdGlvbmFsUHJvcG9zYWxJbmZvKCkpOworCisJCQlJRG9jdW1lbnQgZG9jdW1lbnQ9IGphdmFF
ZGl0b3IuZ2V0RG9jdW1lbnRQcm92aWRlcigpLmdldERvY3VtZW50KGphdmFFZGl0b3IuZ2V0RWRp
dG9ySW5wdXQoKSk7CisJCQlwcm9wb3NhbC5hcHBseShkb2N1bWVudCk7CisJCQkKKwkJCUlGaWxl
IGFubm90YXRpb25GaWxlPSBmSlByb2plY3QxLmdldFByb2plY3QoKS5nZXRGaWxlKG5ldyBQYXRo
KEFOTk9UQVRJT05fUEFUSCkuYXBwZW5kKCJwYWNrL2FnZS9NeU1hcC5lZWEiKSk7CisJCQlhc3Nl
cnRUcnVlKCJBbm5vdGF0aW9uIGZpbGUgc2hvdWxkIGhhdmUgYmVlbiBjcmVhdGVkIiwgYW5ub3Rh
dGlvbkZpbGUuZXhpc3RzKCkpOworCisJCQlTdHJpbmcgZXhwZWN0ZWRDb250ZW50PQorCQkJCQki
Y2xhc3MgcGFjay9hZ2UvTXlNYXBcbiIgKworCQkJCQkiZ2V0XG4iICsKKwkJCQkJIiAoVEs7KVRW
O1xuIiArCisJCQkJCSIgKFRLOylUMVY7XG4iOworCQkJY2hlY2tDb250ZW50T2ZGaWxlKCJhbm5v
dGF0aW9uIGZpbGUgY29udGVudCIsIGFubm90YXRpb25GaWxlLCBleHBlY3RlZENvbnRlbnQpOwor
CQl9IGZpbmFsbHkgeworCQkJSmF2YVBsdWdpbi5nZXRBY3RpdmVQYWdlKCkuY2xvc2VBbGxFZGl0
b3JzKGZhbHNlKTsKKwkJfQorCX0KKworCS8qKgorCSAqIEFzc2VydCB0d28gcHJvcG9zYWxzICgi
QE5vbk51bGwiIGFuZCAiQE51bGxhYmxlIikgb24gYSBzaW1wbGUgcmV0dXJuIHR5cGUgKHR5cGUg
dmFyaWFibGUpLgorCSAqIEFwcGx5IHRoZSBzZWNvbmQgcHJvcG9zYWwgYW5kIGNoZWNrIHRoZSBl
ZmZlY3QuCisJICogQHRocm93cyBFeGNlcHRpb24KKwkgKi8KKwlwdWJsaWMgdm9pZCB0ZXN0QW5u
b3RhdGVSZXR1cm4yKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCQorCQlTdHJpbmcgTVlfTUFQX1BB
VEg9ICJwYWNrL2FnZS9NeU1hcCI7CisJCVN0cmluZ1tdIHBhdGhBbmRDb250ZW50cz0gbmV3IFN0
cmluZ1tdIHsgCisJCQkJCU1ZX01BUF9QQVRIKyIuamF2YSIsCisJCQkJCSJwYWNrYWdlIHBhY2su
YWdlO1xuIiArCisJCQkJCSJwdWJsaWMgaW50ZXJmYWNlIE15TWFwPEssVj4ge1xuIiArCisJCQkJ
CSIgICAgcHVibGljIFYgZ2V0KEsga2V5KTtcbiIgKworCQkJCQkifVxuIgorCQkJCX07CisJCWFk
ZExpYnJhcnkoZkpQcm9qZWN0MSwgImxpYi5qYXIiLCAibGliLnppcCIsIHBhdGhBbmRDb250ZW50
cywgQU5OT1RBVElPTl9QQVRILCBKYXZhQ29yZS5WRVJTSU9OXzFfNSk7CisJCUlUeXBlIHR5cGUx
PSBmSlByb2plY3QxLmZpbmRUeXBlKE1ZX01BUF9QQVRILnJlcGxhY2UoJy8nLCAnLicpKTsKKwkJ
SVR5cGUgdHlwZT0gdHlwZTE7CisJCUphdmFFZGl0b3IgamF2YUVkaXRvcj0gKEphdmFFZGl0b3Ip
IEphdmFVSS5vcGVuSW5FZGl0b3IodHlwZSk7CisKKwkJdHJ5IHsKKwkJCWludCBvZmZzZXQ9IHBh
dGhBbmRDb250ZW50c1sxXS5pbmRleE9mKCJWIGdldCIpOworCisJCQlMaXN0PElDb21wbGV0aW9u
UHJvcG9zYWw+IGxpc3Q9IGNvbGxlY3RBbm5vdGF0ZVByb3Bvc2FscyhqYXZhRWRpdG9yLCBvZmZz
ZXQpOworCQkJCisJCQlhc3NlcnRDb3JyZWN0TGFiZWxzKGxpc3QpOworCQkJYXNzZXJ0TnVtYmVy
T2ZQcm9wb3NhbHMobGlzdCwgMik7CisJCQkKKwkJCUlDb21wbGV0aW9uUHJvcG9zYWwgcHJvcG9z
YWw9IGZpbmRQcm9wb3NhbEJ5TmFtZSgiQW5ub3RhdGUgYXMgJ0BOb25OdWxsIFYnIiwgbGlzdCk7
CisJCQlTdHJpbmcgZXhwZWN0ZWRJbmZvPQorCQkJCQkiPGRsPjxkdD5nZXQ8L2R0PiIgKworCQkJ
CQkiPGRkPihUSzspVFY7PC9kZD4iICsKKwkJCQkJIjxkZD4oVEs7KVQ8Yj4xPC9iPlY7PC9kZD4i
ICsgLy8gPD0gMQorCQkJCQkiPC9kbD4iOworCQkJYXNzZXJ0RXF1YWxzKCJleHBlY3QgZGV0YWls
IiwgZXhwZWN0ZWRJbmZvLCBwcm9wb3NhbC5nZXRBZGRpdGlvbmFsUHJvcG9zYWxJbmZvKCkpOwor
CisJCQlwcm9wb3NhbD0gZmluZFByb3Bvc2FsQnlOYW1lKCJBbm5vdGF0ZSBhcyAnQE51bGxhYmxl
IFYnIiwgbGlzdCk7CisJCQlleHBlY3RlZEluZm89CisJCQkJCSI8ZGw+PGR0PmdldDwvZHQ+IiAr
CisJCQkJCSI8ZGQ+KFRLOylUVjs8L2RkPiIgKworCQkJCQkiPGRkPihUSzspVDxiPjA8L2I+Vjs8
L2RkPiIgKyAvLyA8PSAwCisJCQkJCSI8L2RsPiI7CisJCQlhc3NlcnRFcXVhbHMoImV4cGVjdCBk
ZXRhaWwiLCBleHBlY3RlZEluZm8sIHByb3Bvc2FsLmdldEFkZGl0aW9uYWxQcm9wb3NhbEluZm8o
KSk7CisKKwkJCUlEb2N1bWVudCBkb2N1bWVudD0gamF2YUVkaXRvci5nZXREb2N1bWVudFByb3Zp
ZGVyKCkuZ2V0RG9jdW1lbnQoamF2YUVkaXRvci5nZXRFZGl0b3JJbnB1dCgpKTsKKwkJCXByb3Bv
c2FsLmFwcGx5KGRvY3VtZW50KTsKKwkJCQorCQkJSUZpbGUgYW5ub3RhdGlvbkZpbGU9IGZKUHJv
amVjdDEuZ2V0UHJvamVjdCgpLmdldEZpbGUobmV3IFBhdGgoQU5OT1RBVElPTl9QQVRIKS5hcHBl
bmQoTVlfTUFQX1BBVEgrIi5lZWEiKSk7CisJCQlhc3NlcnRUcnVlKCJBbm5vdGF0aW9uIGZpbGUg
c2hvdWxkIGhhdmUgYmVlbiBjcmVhdGVkIiwgYW5ub3RhdGlvbkZpbGUuZXhpc3RzKCkpOworCisJ
CQlTdHJpbmcgZXhwZWN0ZWRDb250ZW50PQorCQkJCQkiY2xhc3MgcGFjay9hZ2UvTXlNYXBcbiIg
KworCQkJCQkiZ2V0XG4iICsKKwkJCQkJIiAoVEs7KVRWO1xuIiArCisJCQkJCSIgKFRLOylUMFY7
XG4iOworCQkJY2hlY2tDb250ZW50T2ZGaWxlKCJhbm5vdGF0aW9uIGZpbGUgY29udGVudCIsIGFu
bm90YXRpb25GaWxlLCBleHBlY3RlZENvbnRlbnQpOworCQl9IGZpbmFsbHkgeworCQkJSmF2YVBs
dWdpbi5nZXRBY3RpdmVQYWdlKCkuY2xvc2VBbGxFZGl0b3JzKGZhbHNlKTsKKwkJfQorCX0KKwor
CXB1YmxpYyBMaXN0PElDb21wbGV0aW9uUHJvcG9zYWw+IGNvbGxlY3RBbm5vdGF0ZVByb3Bvc2Fs
cyhKYXZhRWRpdG9yIGphdmFFZGl0b3IsIGludCBvZmZzZXQpIHsKKwkJSmF2YVNvdXJjZVZpZXdl
ciB2aWV3ZXI9IChKYXZhU291cmNlVmlld2VyKWphdmFFZGl0b3IuZ2V0Vmlld2VyKCk7CisJCXZp
ZXdlci5zZXRTZWxlY3Rpb24obmV3IFRleHRTZWxlY3Rpb24ob2Zmc2V0LCAwKSk7CisKKwkJSmF2
YUNvcnJlY3Rpb25Bc3Npc3RhbnQgY29ycmVjdGlvbkFzc2lzdD0gbmV3IEphdmFDb3JyZWN0aW9u
QXNzaXN0YW50KGphdmFFZGl0b3IpOworCQlFeHRlcm5hbE51bGxBbm5vdGF0aW9uUXVpY2tBc3Np
c3RQcm9jZXNzb3IgYXNzaXN0UHJvY2Vzc29yPSBuZXcgRXh0ZXJuYWxOdWxsQW5ub3RhdGlvblF1
aWNrQXNzaXN0UHJvY2Vzc29yKGNvcnJlY3Rpb25Bc3Npc3QpOworCQlJQ29tcGxldGlvblByb3Bv
c2FsW10gcHJvcG9zYWxzPSBhc3Npc3RQcm9jZXNzb3IuY29tcHV0ZVF1aWNrQXNzaXN0UHJvcG9z
YWxzKHZpZXdlci5nZXRRdWlja0Fzc2lzdEludm9jYXRpb25Db250ZXh0KCkpOworCisJCUxpc3Q8
SUNvbXBsZXRpb25Qcm9wb3NhbD4gbGlzdD0gQXJyYXlzLmFzTGlzdChwcm9wb3NhbHMpOworCQly
ZXR1cm4gbGlzdDsKKwl9CisKKwkvKioKKwkgKiBBc3NlcnQgdHdvIHByb3Bvc2FscyAoIkBOb25O
dWxsIiBhbmQgIlJlbW92ZSIpIGlmIGFubm90YXRpb24gZmlsZSBhbHJlYWR5IHNheXMgIkBOdWxs
YWJsZSIuCisJICogQXBwbHkgdGhlIHNlY29uZCBwcm9wb3NhbCBhbmQgY2hlY2sgdGhlIGVmZmVj
dC4KKwkgKiBAdGhyb3dzIEV4Y2VwdGlvbgorCSAqLworCXB1YmxpYyB2b2lkIHRlc3RBbm5vdGF0
ZVJlbW92ZSgpIHRocm93cyBFeGNlcHRpb24geworCQkKKwkJU3RyaW5nIE1ZX01BUF9QQVRIPSAi
cGFjay9hZ2UvTXlNYXAiOworCisJCVN0cmluZ1tdIHBhdGhBbmRDb250ZW50cz0gbmV3IFN0cmlu
Z1tdIHsgCisJCQkJTVlfTUFQX1BBVEgrIi5qYXZhIiwgCisJCQkJInBhY2thZ2UgcGFjay5hZ2U7
XG4iICsKKwkJCQkicHVibGljIGludGVyZmFjZSBNeU1hcDxLLFY+IHtcbiIgKworCQkJCSIgICAg
cHVibGljIFYgZ2V0KEsga2V5KTtcbiIgKworCQkJCSJ9XG4iCisJCQl9OworCQlhZGRMaWJyYXJ5
KGZKUHJvamVjdDEsICJsaWIuamFyIiwgImxpYi56aXAiLCBwYXRoQW5kQ29udGVudHMsIEFOTk9U
QVRJT05fUEFUSCwgSmF2YUNvcmUuVkVSU0lPTl8xXzUpOworCQlJVHlwZSB0eXBlMT0gZkpQcm9q
ZWN0MS5maW5kVHlwZShNWV9NQVBfUEFUSC5yZXBsYWNlKCcvJywgJy4nKSk7CisJCUlUeXBlIHR5
cGU9IHR5cGUxOworCQlJRmlsZSBhbm5vdGF0aW9uRmlsZT0gZkpQcm9qZWN0MS5nZXRQcm9qZWN0
KCkuZ2V0RmlsZShuZXcgUGF0aChBTk5PVEFUSU9OX1BBVEgpLmFwcGVuZChNWV9NQVBfUEFUSCsi
LmVlYSIpKTsKKwkJU3RyaW5nIGluaXRpYWxDb250ZW50PQorCQkJCSJjbGFzcyBwYWNrL2FnZS9N
eU1hcFxuIiArCisJCQkJImdldFxuIiArCisJCQkJIiAoVEs7KVRWO1xuIiArCisJCQkJIiAoVEs7
KVQwVjtcbiI7CisJCWVuc3VyZUV4aXN0cyhhbm5vdGF0aW9uRmlsZS5nZXRQYXJlbnQoKSk7CisJ
CWFubm90YXRpb25GaWxlLmNyZWF0ZShuZXcgQnl0ZUFycmF5SW5wdXRTdHJlYW0oaW5pdGlhbENv
bnRlbnQuZ2V0Qnl0ZXMoIlVURi04IikpLCAwLCBudWxsKTsKKwkJCisJCUphdmFFZGl0b3IgamF2
YUVkaXRvcj0gKEphdmFFZGl0b3IpIEphdmFVSS5vcGVuSW5FZGl0b3IodHlwZSk7CisKKwkJdHJ5
IHsKKwkJCWludCBvZmZzZXQ9IHBhdGhBbmRDb250ZW50c1sxXS5pbmRleE9mKCJWIGdldCIpOwor
CisJCQlMaXN0PElDb21wbGV0aW9uUHJvcG9zYWw+IGxpc3Q9IGNvbGxlY3RBbm5vdGF0ZVByb3Bv
c2FscyhqYXZhRWRpdG9yLCBvZmZzZXQpOworCQkJCisJCQlhc3NlcnRDb3JyZWN0TGFiZWxzKGxp
c3QpOworCQkJYXNzZXJ0TnVtYmVyT2ZQcm9wb3NhbHMobGlzdCwgMik7CisJCQkKKwkJCUlDb21w
bGV0aW9uUHJvcG9zYWwgcHJvcG9zYWw9IGZpbmRQcm9wb3NhbEJ5TmFtZSgiQW5ub3RhdGUgYXMg
J0BOb25OdWxsIFYnIiwgbGlzdCk7CisJCQlTdHJpbmcgZXhwZWN0ZWRJbmZvPQorCQkJCQkiPGRs
PjxkdD5nZXQ8L2R0PiIgKworCQkJCQkiPGRkPihUSzspVFY7PC9kZD4iICsKKwkJCQkJIjxkZD4o
VEs7KVQ8Yj4xPC9iPlY7PC9kZD4iICsgLy8gPD0gMQorCQkJCQkiPC9kbD4iOworCQkJYXNzZXJ0
RXF1YWxzKCJleHBlY3QgZGV0YWlsIiwgZXhwZWN0ZWRJbmZvLCBwcm9wb3NhbC5nZXRBZGRpdGlv
bmFsUHJvcG9zYWxJbmZvKCkpOworCisJCQlwcm9wb3NhbD0gZmluZFByb3Bvc2FsQnlOYW1lKCJS
ZW1vdmUgbnVsbG5lc3MgYW5ub3RhdGlvbiBmcm9tIHR5cGUgJ1YnIiwgbGlzdCk7CisJCQlleHBl
Y3RlZEluZm89CisJCQkJCSI8ZGw+PGR0PmdldDwvZHQ+IiArCisJCQkJCSI8ZGQ+KFRLOylUVjs8
L2RkPiIgKworCQkJCQkiPGRkPihUSzspVDxkZWw+MDwvZGVsPlY7PC9kZD4iICsgLy8gPD0gPHN0
cmlrZT4wPC9zdHJpa2U+CisJCQkJCSI8L2RsPiI7CisJCQlhc3NlcnRFcXVhbHMoImV4cGVjdCBk
ZXRhaWwiLCBleHBlY3RlZEluZm8sIHByb3Bvc2FsLmdldEFkZGl0aW9uYWxQcm9wb3NhbEluZm8o
KSk7CisKKwkJCUlEb2N1bWVudCBkb2N1bWVudD0gamF2YUVkaXRvci5nZXREb2N1bWVudFByb3Zp
ZGVyKCkuZ2V0RG9jdW1lbnQoamF2YUVkaXRvci5nZXRFZGl0b3JJbnB1dCgpKTsKKwkJCXByb3Bv
c2FsLmFwcGx5KGRvY3VtZW50KTsKKwkJCQorCQkJYXNzZXJ0VHJ1ZSgiQW5ub3RhdGlvbiBmaWxl
IHNob3VsZCBzdGlsbCBleGlzdCIsIGFubm90YXRpb25GaWxlLmV4aXN0cygpKTsKKworCQkJU3Ry
aW5nIGV4cGVjdGVkQ29udGVudD0KKwkJCQkJImNsYXNzIHBhY2svYWdlL015TWFwXG4iICsKKwkJ
CQkJImdldFxuIiArCisJCQkJCSIgKFRLOylUVjtcbiIgKworCQkJCQkiIChUSzspVFY7XG4iOwor
CQkJY2hlY2tDb250ZW50T2ZGaWxlKCJhbm5vdGF0aW9uIGZpbGUgY29udGVudCIsIGFubm90YXRp
b25GaWxlLCBleHBlY3RlZENvbnRlbnQpOworCQl9IGZpbmFsbHkgeworCQkJSmF2YVBsdWdpbi5n
ZXRBY3RpdmVQYWdlKCkuY2xvc2VBbGxFZGl0b3JzKGZhbHNlKTsKKwkJfQorCX0KKworfQpkaWZm
IC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNlL2pkdC91aS90
ZXN0cy9xdWlja2ZpeC9KYXJVdGlsLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQudWkudGVzdHMvdWkv
b3JnL2VjbGlwc2UvamR0L3VpL3Rlc3RzL3F1aWNrZml4L0phclV0aWwuamF2YQpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi4yNzVmMmIyCi0tLSAvZGV2L251bGwKKysrIGIvb3Jn
LmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNlL2pkdC91aS90ZXN0cy9xdWlja2Zp
eC9KYXJVdGlsLmphdmEKQEAgLTAsMCArMSw3MTcgQEAKKy8qKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
CisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTUgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
CisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlp
bmcgbWF0ZXJpYWxzCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMg
ZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uu
b3JnL2xlZ2FsL2VwbC12MTAuaHRtbAorICoKKyAqIENvbnRyaWJ1dG9yczoKKyAqICAgICBJQk0g
Q29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KKyAqICAgICBOaW5h
IFJpbnNrYXlhCisgKiAgICAgCQlGaXggZm9yIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0xNzI4MjAuCisgKiAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRy
aWJ1dGlvbiBmb3IKKyAqCQkJCQkJCQlbbnVsbF0gIkFubm90YXRlIiBwcm9wb3NhbHMgZm9yIGFk
ZGluZyBleHRlcm5hbCBudWxsIGFubm90YXRpb25zIHRvIGxpYnJhcnkgY2xhc3NlcyAtIGh0dHBz
Oi8vYnVncy5lY2xpcHNlLm9yZy80NTgyMDAKKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworcGFj
a2FnZSBvcmcuZWNsaXBzZS5qZHQudWkudGVzdHMucXVpY2tmaXg7CisKK2ltcG9ydCBqYXZhLmlv
Lio7CitpbXBvcnQgamF2YS51dGlsLio7CitpbXBvcnQgamF2YS51dGlsLnppcC4qOworCitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLkNsYXNzRmlsZTsKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuQ29tcGlsYXRpb25SZXN1bHQ7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLkNvbXBpbGVyOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5JQ29tcGlsZXJSZXF1ZXN0b3I7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLklFcnJvckhhbmRsaW5nUG9saWN5
OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5JUHJvYmxlbUZhY3Rv
cnk7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmJhdGNoLkNvbXBp
bGF0aW9uVW5pdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYmF0
Y2guRmlsZVN5c3RlbTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIu
ZW52LklOYW1lRW52aXJvbm1lbnQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNv
bXBpbGVyLmltcGwuQ29tcGlsZXJPcHRpb25zOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRl
cm5hbC5jb21waWxlci5wcm9ibGVtLkRlZmF1bHRQcm9ibGVtRmFjdG9yeTsKKworLyoqCisgKiBU
aGlzIGlzIGEgcmVkdWNlZCBhbmQgbWFyZ2luYWxseSBhZGp1c3RlZCBjb3B5IGZyb20gb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMudXRpbC5VdGlsCisgKi8KK0BTdXBwcmVzc1dhcm5pbmdzKCJq
YXZhZG9jIikKK3B1YmxpYyBjbGFzcyBKYXJVdGlsIHsKKworCS8vIFRyYWNlIGZvciBkZWxldGUg
b3BlcmF0aW9uCisgICAgLyoKKyAgICAgKiBNYXhpbXVtIHRpbWUgd2FzdGVkIHJlcGVhdGluZyBk
ZWxldGUgb3BlcmF0aW9ucyB3aGlsZSBydW5uaW5nIEpEVC9Db3JlIHRlc3RzLgorICAgICAqLwor
ICAgIHByaXZhdGUgc3RhdGljIGludCBERUxFVEVfTUFYX1RJTUUgPSAwOworICAgIC8qKgorICAg
ICAqIFRyYWNlIGRlbGV0aW9uIG9wZXJhdGlvbnMgd2hpbGUgcnVubmluZyBKRFQvQ29yZSB0ZXN0
cy4KKyAgICAgKi8KKyAgICBwdWJsaWMgc3RhdGljIGJvb2xlYW4gREVMRVRFX0RFQlVHID0gZmFs
c2U7CisgICAgLyoqCisgICAgICogTWF4aW11bSBvZiB0aW1lIGluIG1zIHRvIHdhaXQgaW4gZGVs
ZXRpb24gb3BlcmF0aW9uIHdoaWxlIHJ1bm5pbmcgSkRUL0NvcmUgdGVzdHMuCisgICAgICogRGVm
YXVsdCBpcyAxMCBzZWNvbmRzLiBUaGlzIG51bWJlciBjYW5ub3QgZXhjZWVkIDEgbWludXRlIChp
ZS4gNjAwMDApLgorICAgICAqIDxicj4KKyAgICAgKiBUbyBhdm9pZCB0b28gbWFueSBsb29wcyB3
aGlsZSB3YWl0aW5nLCB0aGUgdGVuIGZpcnN0IG9uZXMgYXJlIGRvbmUgd2FpdGluZworICAgICAq
IDEwbXMgYmVmb3JlIHJlcGVhdGluZywgdGhlIHRlbiBsb29wcyBhZnRlciBhcmUgZG9uZSB3YWl0
aW5nIDEwMG1zIGFuZAorICAgICAqIHRoZSBvdGhlciBsb29wcyBhcmUgZG9uZSB3YWl0aW5nIDFz
Li4uCisgICAgICovCisgICAgcHVibGljIHN0YXRpYyBpbnQgREVMRVRFX01BWF9XQUlUID0gMTAw
MDA7CisKKyAgICAvKioKKyAgICAgKiBJbml0aWFsbHksIG91dHB1dCBkaXJlY3Rvcnkgd2FzIGxv
Y2F0ZWQgaW4gU3lzdGVtLmdldFByb3BlcnR5KCJqYXZhLmlvLnRtcGRpciIpKyJcY29tcHRlc3Qi
LgorICAgICAqIFRvIGFsbG93IHVzZXIgdG8gcnVuIHNldmVyYWwgY29tcGlsZXIgdGVzdHMgYXQg
dGhlIHNhbWUgdGltZSwgbWFpbiBvdXRwdXQgZGlyZWN0b3J5CisgICAgICogaXMgbm93IGxvY2F0
ZWQgaW4gYSBzdWItZGlyZWN0b3J5IG9mICJjb21wdGVzdCIgd2hpY2ggbmFtZSBpcyAicnVuLiIr
PGNvZGU+U3lzdGVtLmN1cnJlbnRNaWxsaXNlY29uZHM8L2NvZGU+LgorICAgICAqCisgICAgICog
QHNlZSAjREVMQVlfQkVGT1JFX0NMRUFOX1BSRVZJT1VTCisgICAgICovCisgICAgcHJpdmF0ZSBm
aW5hbCBzdGF0aWMgU3RyaW5nIE9VVFBVVF9ESVJFQ1RPUlk7CisgICAgLyoqCisgICAgICogTGV0
IHVzZXIgc3BlY2lmeSB0aGUgZGVsYXkgaW4gaG91cnMgYmVmb3JlIG91dHB1dCBkaXJlY3Rvcmll
cyBhcmUgcmVtb3ZlZCBmcm9tIGZpbGUgc3lzdGVtCisgICAgICogd2hpbGUgc3RhcnRpbmcgYSBu
ZXcgdGVzdCBydW4uIERlZmF1bHQgdmFsdWUgaXMgMiBob3Vycy4KKyAgICAgKiA8cD4KKyAgICAg
KiBOb3RlIHRoYXQgdGhpcyB2YWx1ZSBtYXkgYmUgYSBmbG9hdCBhbmQgc28gaGF2ZSB0aW1lIGxl
c3MgdGhhbiBvbmUgaG91ci4KKyAgICAgKiBJZiB2YWx1ZSBpcyAwIG9yIG5lZ2F0aXZlLCB0aGVu
IGFsbCBwcmV2aW91cyBydW4gZGlyZWN0b3JpZXMgd2lsbCBiZSByZW1vdmVkLi4uCisgICAgICoK
KyAgICAgKiBAc2VlICNPVVRQVVRfRElSRUNUT1JZCisgICAgICovCisgICAgcHJpdmF0ZSBmaW5h
bCBzdGF0aWMgU3RyaW5nIERFTEFZX0JFRk9SRV9DTEVBTl9QUkVWSU9VUyA9IFN5c3RlbS5nZXRQ
cm9wZXJ0eSgiZGVsYXkiKTsKKyAgICAvKgorICAgICAqIFN0YXRpYyBpbml0aWFsaXplciB0byBj
bGVhbiBkaXJlY3RvcmllcyBjcmVhdGVkIHdoaWxlIHJ1bm5pbmcgcHJldmlvdXMgdGVzdCBzdWl0
ZXMuCisgICAgICovCisgICAgc3RhdGljIHsKKyAgICAgICAgLy8gR2V0IGRlbGF5IGZvciBjbGVh
bmluZyBzdWItZGlyZWN0b3JpZXMKKyAgICAgICAgbG9uZyBtaWxsaXNlY29uZHNQZXJIb3VyID0g
MTAwMEwgKiAzNjAwTDsKKyAgICAgICAgbG9uZyBkZWxheSA9IG1pbGxpc2Vjb25kc1BlckhvdXIg
KiAyOyAvLyBkZWZhdWx0IGlzIHRvIGtlZXAgcHJldmlvdXMgcnVuIGRpcmVjdG9yaWVzIGZvciAy
IGhvdXJzCisgICAgICAgIHRyeSB7CisgICAgICAgICAgICBpZiAoREVMQVlfQkVGT1JFX0NMRUFO
X1BSRVZJT1VTICE9IG51bGwpIHsKKyAgICAgICAgICAgICAgICBmbG9hdCBob3VycyA9IEZsb2F0
LnBhcnNlRmxvYXQoREVMQVlfQkVGT1JFX0NMRUFOX1BSRVZJT1VTKTsKKyAgICAgICAgICAgICAg
ICBkZWxheSA9IChpbnQpIChtaWxsaXNlY29uZHNQZXJIb3VyICogaG91cnMpOworICAgICAgICAg
ICAgfQorICAgICAgICB9CisgICAgICAgIGNhdGNoIChOdW1iZXJGb3JtYXRFeGNlcHRpb24gbmZl
KSB7CisgICAgICAgICAgICAvLyB1c2UgZGVmYXVsdAorICAgICAgICB9CisKKyAgICAgICAgLy8g
R2V0IG91dHB1dCBkaXJlY3Rvcnkgcm9vdCBmcm9tIHN5c3RlbSBwcm9wZXJ0aWVzCisgICAgICAg
IFN0cmluZyBjb250YWluZXIgPSBTeXN0ZW0uZ2V0UHJvcGVydHkoImpkdC50ZXN0Lm91dHB1dF9k
aXJlY3RvcnkiKTsKKyAgICAgICAgaWYgKGNvbnRhaW5lciA9PSBudWxsKXsKKyAgICAgICAgICAg
IGNvbnRhaW5lciA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5pby50bXBkaXIiKTsKKyAgICAg
ICAgfQorICAgICAgICBpZiAoY29udGFpbmVyID09IG51bGwpIHsKKyAgICAgICAgICAgIGNvbnRh
aW5lciA9ICIuIjsgLy8gdXNlIGN1cnJlbnQgZGlyZWN0b3J5CisgICAgICAgIH0KKworICAgICAg
ICAvLyBHZXQgZmlsZSBmb3Igcm9vdCBkaXJlY3RvcnkKKyAgICAgICAgaWYgKENoYXJhY3Rlci5p
c0xvd2VyQ2FzZShjb250YWluZXIuY2hhckF0KDApKSAmJiBjb250YWluZXIuY2hhckF0KDEpID09
ICc6JykgeworICAgICAgICAgICAgY29udGFpbmVyID0gQ2hhcmFjdGVyLnRvVXBwZXJDYXNlKGNv
bnRhaW5lci5jaGFyQXQoMCkpICsgY29udGFpbmVyLnN1YnN0cmluZygxKTsKKyAgICAgICAgfQor
ICAgICAgICBGaWxlIGRpciA9IG5ldyBGaWxlKG5ldyBGaWxlKGNvbnRhaW5lciksICJjb21wdGVz
dCIpOworCisgICAgICAgIC8vIElmIHJvb3QgZGlyZWN0b3J5IGFscmVhZHkgZXhpc3RzLCBjbGVh
biBpdAorICAgICAgICBpZiAoZGlyLmV4aXN0cygpKSB7CisgICAgICAgICAgICBsb25nIG5vdyA9
IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOworICAgICAgICAgICAgaWYgKChub3cgLSBkaXIu
bGFzdE1vZGlmaWVkKCkpID4gZGVsYXkpIHsKKyAgICAgICAgICAgICAgICAvLyByZW1vdmUgYWxs
IGRpcmVjdG9yeSBjb250ZW50CisgICAgICAgICAgICAgICAgZmx1c2hEaXJlY3RvcnlDb250ZW50
KGRpcik7CisgICAgICAgICAgICB9IGVsc2UgeworICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBv
bmx5IG9sZCBzdWItZGlycworICAgICAgICAgICAgICAgIEZpbGVbXSB0ZXN0RGlycyA9IGRpci5s
aXN0RmlsZXMoKTsKKyAgICAgICAgICAgICAgICBmb3IgKGludCBpPTAsbD10ZXN0RGlycy5sZW5n
dGg7IGk8bDsgaSsrKSB7CisgICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0RGlyc1tpXS5pc0Rp
cmVjdG9yeSgpKSB7CisgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5vdyAtIHRlc3REaXJz
W2ldLmxhc3RNb2RpZmllZCgpKSA+IGRlbGF5KSB7CisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZGVsZXRlKHRlc3REaXJzW2ldKTsKKyAgICAgICAgICAgICAgICAgICAgICAgIH0KKyAgICAg
ICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgIH0KKyAgICAg
ICAgfQorCisgICAgICAgIC8vIENvbXB1dGVkIHRlc3QgcnVuIGRpcmVjdG9yeSBuYW1lIGJhc2Vk
IG9uIGN1cnJlbnQgdGltZQorICAgICAgICBGaWxlIGRhdGVEaXIgPSBuZXcgRmlsZShkaXIsICJy
dW4uIitTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7CisgICAgICAgIFN0cmluZyBwYXRoRGly
ID0gbnVsbDsKKyAgICAgICAgdHJ5IHsKKyAgICAgICAgCXBhdGhEaXIgPSBkYXRlRGlyLmdldENh
bm9uaWNhbFBhdGgoKTsKKwkJfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgeworCQkJcGF0aERpciA9
IGRhdGVEaXIuZ2V0QWJzb2x1dGVQYXRoKCk7CisJCX0KKwkJT1VUUFVUX0RJUkVDVE9SWSA9IHBh
dGhEaXI7CisgICB9CisKKworcHVibGljIHN0YXRpYyBDb21waWxhdGlvblVuaXRbXSBjb21waWxh
dGlvblVuaXRzKFN0cmluZ1tdIHRlc3RGaWxlcykgeworICAgIGludCBsZW5ndGggPSB0ZXN0Rmls
ZXMubGVuZ3RoIC8gMjsKKyAgICBDb21waWxhdGlvblVuaXRbXSByZXN1bHQgPSBuZXcgQ29tcGls
YXRpb25Vbml0W2xlbmd0aF07CisgICAgaW50IGluZGV4ID0gMDsKKyAgICBmb3IgKGludCBpID0g
MDsgaSA8IGxlbmd0aDsgaSsrKSB7CisgICAgICAgIHJlc3VsdFtpXSA9IG5ldyBDb21waWxhdGlv
blVuaXQodGVzdEZpbGVzW2luZGV4ICsgMV0udG9DaGFyQXJyYXkoKSwgdGVzdEZpbGVzW2luZGV4
XSwgbnVsbCk7CisgICAgICAgIGluZGV4ICs9IDI7CisgICAgfQorICAgIHJldHVybiByZXN1bHQ7
Cit9CisvKiBpbmxpbmVkIGFuZCBzaW1wbGlmaWVkIGZvciBKRFQvVUkgKi8KK3ByaXZhdGUgc3Rh
dGljIGNsYXNzIFJlcXVlc3RvciBpbXBsZW1lbnRzIElDb21waWxlclJlcXVlc3RvciB7CisJcHVi
bGljIGJvb2xlYW4gaGFzRXJyb3JzID0gZmFsc2U7CisJcHVibGljIFN0cmluZyBvdXRwdXRQYXRo
OworCXB1YmxpYyBTdHJpbmcgcHJvYmxlbUxvZyA9ICIiOworCisJcHVibGljIHZvaWQgYWNjZXB0
UmVzdWx0KENvbXBpbGF0aW9uUmVzdWx0IGNvbXBpbGF0aW9uUmVzdWx0KSB7CisJCXRoaXMuaGFz
RXJyb3JzIHw9IGNvbXBpbGF0aW9uUmVzdWx0Lmhhc0Vycm9ycygpOworCQl0aGlzLnByb2JsZW1M
b2cgKz0gY29tcGlsYXRpb25SZXN1bHQudG9TdHJpbmcoKTsKKwkJb3V0cHV0Q2xhc3NGaWxlcyhj
b21waWxhdGlvblJlc3VsdCk7CisJfQorCXByb3RlY3RlZCB2b2lkIG91dHB1dENsYXNzRmlsZXMo
Q29tcGlsYXRpb25SZXN1bHQgdW5pdFJlc3VsdCkgeworCQlpZiAoKHVuaXRSZXN1bHQgIT0gbnVs
bCkgJiYgIXVuaXRSZXN1bHQuaGFzRXJyb3JzKCkpIHsKKwkJCUNsYXNzRmlsZVtdIGNsYXNzRmls
ZXMgPSB1bml0UmVzdWx0LmdldENsYXNzRmlsZXMoKTsKKwkJCWlmICh0aGlzLm91dHB1dFBhdGgg
IT0gbnVsbCkgeworCQkJCWZvciAoaW50IGkgPSAwLCBmaWxlQ291bnQgPSBjbGFzc0ZpbGVzLmxl
bmd0aDsgaSA8IGZpbGVDb3VudDsgaSsrKSB7CisJCQkJCS8vIHJldHJpZXZlIHRoZSBrZXkgYW5k
IHRoZSBjb3JyZXNwb25kaW5nIGNsYXNzZmlsZQorCQkJCQlDbGFzc0ZpbGUgY2xhc3NGaWxlID0g
Y2xhc3NGaWxlc1tpXTsKKwkJCQkJU3RyaW5nIHJlbGF0aXZlTmFtZSA9CisJCQkJCQluZXcgU3Ry
aW5nKGNsYXNzRmlsZS5maWxlTmFtZSgpKS5yZXBsYWNlKCcvJywgRmlsZS5zZXBhcmF0b3JDaGFy
KSArICIuY2xhc3MiOworCQkJCQl0cnkgeworCQkJCQkJb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvbXBpbGVyLnV0aWwuVXRpbC53cml0ZVRvRGlzayh0cnVlLCB0aGlzLm91dHB1dFBhdGgsIHJl
bGF0aXZlTmFtZSwgY2xhc3NGaWxlKTsKKwkJCQkJfSBjYXRjaChJT0V4Y2VwdGlvbiBlKSB7CisJ
CQkJCQllLnByaW50U3RhY2tUcmFjZSgpOworCQkJCQl9CisJCQkJfQorCQkJfQorCQl9CisJfQor
fQorcHVibGljIHN0YXRpYyB2b2lkIGNvbXBpbGUoU3RyaW5nW10gcGF0aHNBbmRDb250ZW50cywg
TWFwIG9wdGlvbnMsIFN0cmluZ1tdIGNsYXNzcGF0aCwgU3RyaW5nIG91dHB1dFBhdGgpIHsKKyAg
ICAgICAgSVByb2JsZW1GYWN0b3J5IHByb2JsZW1GYWN0b3J5ID0gbmV3IERlZmF1bHRQcm9ibGVt
RmFjdG9yeShMb2NhbGUuZ2V0RGVmYXVsdCgpKTsKKyAgICAgICAgUmVxdWVzdG9yIHJlcXVlc3Rv
ciA9IG5ldyBSZXF1ZXN0b3IoKTsKKyAgICAgICAgcmVxdWVzdG9yLm91dHB1dFBhdGggPSBvdXRw
dXRQYXRoLmVuZHNXaXRoKEZpbGUuc2VwYXJhdG9yKSA/IG91dHB1dFBhdGggOiBvdXRwdXRQYXRo
ICsgRmlsZS5zZXBhcmF0b3I7CisKKyAgICAgICAgU3RyaW5nW10gY2xhc3NMaWJzID0gZ2V0SmF2
YUNsYXNzTGlicygpOworICAgICAgICBpZiAoY2xhc3NwYXRoICE9IG51bGwpIHsKKyAgICAgICAg
CWludCBsZW5ndGggPSBjbGFzc3BhdGgubGVuZ3RoOworICAgICAgICAJaW50IGNsYXNzTGlic0xl
bmd0aCA9IGNsYXNzTGlicy5sZW5ndGg7CisgICAgICAgIAlTeXN0ZW0uYXJyYXljb3B5KGNsYXNz
cGF0aCwgMCwgY2xhc3NwYXRoID0gbmV3IFN0cmluZ1tsZW5ndGggKyBjbGFzc0xpYnNMZW5ndGhd
LCAwLCBsZW5ndGgpOworICAgICAgICAJU3lzdGVtLmFycmF5Y29weShjbGFzc0xpYnMsIDAsIGNs
YXNzcGF0aCwgbGVuZ3RoLCBjbGFzc0xpYnNMZW5ndGgpOworICAgICAgICB9IGVsc2UgeworICAg
ICAgICAJY2xhc3NwYXRoID0gY2xhc3NMaWJzOworICAgICAgICB9CisgICAgICAgIAorICAgICAg
ICBJTmFtZUVudmlyb25tZW50IG5hbWVFbnZpcm9ubWVudCA9IG5ldyBGaWxlU3lzdGVtKGNsYXNz
cGF0aCwgbmV3IFN0cmluZ1tdIHt9LCBudWxsKTsKKyAgICAgICAgSUVycm9ySGFuZGxpbmdQb2xp
Y3kgZXJyb3JIYW5kbGluZ1BvbGljeSA9CisgICAgICAgICAgICBuZXcgSUVycm9ySGFuZGxpbmdQ
b2xpY3koKSB7CisgICAgICAgICAgICAgICAgcHVibGljIGJvb2xlYW4gcHJvY2VlZE9uRXJyb3Jz
KCkgeworICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKKyAgICAgICAgICAgICAgICB9
CisgICAgICAgICAgICAgICAgcHVibGljIGJvb2xlYW4gc3RvcE9uRmlyc3RFcnJvcigpIHsKKyAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOworICAgICAgICAgICAgICAgIH0KKwkJCQlw
dWJsaWMgYm9vbGVhbiBpZ25vcmVBbGxFcnJvcnMoKSB7CisJCQkJCXJldHVybiBmYWxzZTsKKwkJ
CQl9CisgICAgICAgICAgICB9OworICAgICAgICBDb21waWxlck9wdGlvbnMgY29tcGlsZXJPcHRp
b25zID0gbmV3IENvbXBpbGVyT3B0aW9ucyhvcHRpb25zKTsKKyAgICAgICAgY29tcGlsZXJPcHRp
b25zLnBlcmZvcm1NZXRob2RzRnVsbFJlY292ZXJ5ID0gZmFsc2U7CisgICAgICAgIGNvbXBpbGVy
T3B0aW9ucy5wZXJmb3JtU3RhdGVtZW50c1JlY292ZXJ5ID0gZmFsc2U7CisgICAgICAgIENvbXBp
bGVyIGJhdGNoQ29tcGlsZXIgPQorICAgICAgICAgICAgbmV3IENvbXBpbGVyKAorICAgICAgICAg
ICAgICAgIG5hbWVFbnZpcm9ubWVudCwKKyAgICAgICAgICAgICAgICBlcnJvckhhbmRsaW5nUG9s
aWN5LAorICAgICAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9ucywKKyAgICAgICAgICAgICAgICBy
ZXF1ZXN0b3IsCisgICAgICAgICAgICAgICAgcHJvYmxlbUZhY3RvcnkpOworICAgICAgICBiYXRj
aENvbXBpbGVyLm9wdGlvbnMucHJvZHVjZVJlZmVyZW5jZUluZm8gPSB0cnVlOworICAgICAgICBi
YXRjaENvbXBpbGVyLmNvbXBpbGUoY29tcGlsYXRpb25Vbml0cyhwYXRoc0FuZENvbnRlbnRzKSk7
IC8vIGNvbXBpbGUgYWxsIGZpbGVzIHRvZ2V0aGVyCisgICAgICAgIC8vIGNsZWFudXAKKyAgICAJ
bmFtZUVudmlyb25tZW50LmNsZWFudXAoKTsKKyAgICAgICAgaWYgKHJlcXVlc3Rvci5oYXNFcnJv
cnMpCisJICAgICAgICBTeXN0ZW0uZXJyLnByaW50KHJlcXVlc3Rvci5wcm9ibGVtTG9nKTsgLy8g
cHJvYmxlbSBsb2cgZW1wdHkgaWYgbm8gcHJvYmxlbXMKK30KK3B1YmxpYyBzdGF0aWMgdm9pZCBj
cmVhdGVGaWxlKFN0cmluZyBwYXRoLCBTdHJpbmcgY29udGVudHMpIHRocm93cyBJT0V4Y2VwdGlv
biB7CisgICAgRmlsZU91dHB1dFN0cmVhbSBvdXRwdXQgPSBuZXcgRmlsZU91dHB1dFN0cmVhbShw
YXRoKTsKKyAgICB0cnkgeworICAgICAgICBvdXRwdXQud3JpdGUoY29udGVudHMuZ2V0Qnl0ZXMo
KSk7CisgICAgfSBmaW5hbGx5IHsKKyAgICAgICAgb3V0cHV0LmNsb3NlKCk7CisgICAgfQorfQor
cHVibGljIHN0YXRpYyB2b2lkIGNyZWF0ZUphcihTdHJpbmdbXSBwYXRoc0FuZENvbnRlbnRzLCBT
dHJpbmdbXSBleHRyYVBhdGhzQW5kQ29udGVudHMsIE1hcCBvcHRpb25zLCBTdHJpbmdbXSBjbGFz
c3BhdGgsIFN0cmluZyBqYXJQYXRoKSB0aHJvd3MgSU9FeGNlcHRpb24geworICAgIFN0cmluZyBj
bGFzc2VzUGF0aCA9IGdldE91dHB1dERpcmVjdG9yeSgpICsgRmlsZS5zZXBhcmF0b3IgKyAiY2xh
c3NlcyI7CisgICAgRmlsZSBjbGFzc2VzRGlyID0gbmV3IEZpbGUoY2xhc3Nlc1BhdGgpOworICAg
IGZsdXNoRGlyZWN0b3J5Q29udGVudChjbGFzc2VzRGlyKTsKKwlpZiAocGF0aHNBbmRDb250ZW50
cyAhPSBudWxsKSB7CisJCWNvbXBpbGUocGF0aHNBbmRDb250ZW50cywgb3B0aW9ucywgY2xhc3Nw
YXRoLCBjbGFzc2VzUGF0aCk7CisJfQorCWlmIChleHRyYVBhdGhzQW5kQ29udGVudHMgIT0gbnVs
bCkgeworCQlmb3IgKGludCBpID0gMCwgbCA9IGV4dHJhUGF0aHNBbmRDb250ZW50cy5sZW5ndGg7
IGkgPCBsOyAvKiBpbmMgaW4gbG9vcCAqLykgeworCQkJRmlsZSAgb3V0cHV0RmlsZSA9IG5ldyBG
aWxlKGNsYXNzZXNQYXRoLCBleHRyYVBhdGhzQW5kQ29udGVudHNbaSsrXSk7CisJCQlvdXRwdXRG
aWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsKKwkJCUphclV0aWwud3JpdGVUb0ZpbGUoZXh0
cmFQYXRoc0FuZENvbnRlbnRzW2krK10sIG91dHB1dEZpbGUuZ2V0QWJzb2x1dGVQYXRoKCkpOwor
CQl9CisJfQorICAgIHppcChjbGFzc2VzRGlyLCBqYXJQYXRoKTsKK30KK3B1YmxpYyBzdGF0aWMg
dm9pZCBjcmVhdGVKYXIoU3RyaW5nW10gamF2YVBhdGhzQW5kQ29udGVudHMsIFN0cmluZ1tdIGV4
dHJhUGF0aHNBbmRDb250ZW50cywgU3RyaW5nIGphclBhdGgsIFN0cmluZ1tdIGNsYXNzcGF0aCwg
U3RyaW5nIGNvbXBsaWFuY2UsIE1hcCBvcHRpb25zKSB0aHJvd3MgSU9FeGNlcHRpb24geworCU1h
cCBjb21waWxlT3B0aW9ucyA9IGdldENvbXBpbGVPcHRpb25zKGNvbXBsaWFuY2UpOworCWlmIChv
cHRpb25zICE9IG51bGwpIHsKKwkJY29tcGlsZU9wdGlvbnMucHV0QWxsKG9wdGlvbnMpOworCX0K
KwljcmVhdGVKYXIoamF2YVBhdGhzQW5kQ29udGVudHMsIGV4dHJhUGF0aHNBbmRDb250ZW50cywg
Y29tcGlsZU9wdGlvbnMsIGNsYXNzcGF0aCwgamFyUGF0aCk7Cit9CitwdWJsaWMgc3RhdGljIHZv
aWQgY3JlYXRlU291cmNlWmlwKFN0cmluZ1tdIHBhdGhzQW5kQ29udGVudHMsIFN0cmluZyB6aXBQ
YXRoKSB0aHJvd3MgSU9FeGNlcHRpb24geworICAgIFN0cmluZyBzb3VyY2VzUGF0aCA9IGdldE91
dHB1dERpcmVjdG9yeSgpICsgRmlsZS5zZXBhcmF0b3IgKyAic291cmNlcyI7CisgICAgY3JlYXRl
U291cmNlRGlyKHBhdGhzQW5kQ29udGVudHMsIHNvdXJjZXNQYXRoKTsKKyAgICB6aXAobmV3IEZp
bGUoc291cmNlc1BhdGgpLCB6aXBQYXRoKTsKK30KKworcHVibGljIHN0YXRpYyB2b2lkIGNyZWF0
ZVNvdXJjZURpcihTdHJpbmdbXSBwYXRoc0FuZENvbnRlbnRzLCBTdHJpbmcgc291cmNlc1BhdGgp
IHRocm93cyBJT0V4Y2VwdGlvbiB7CisJZmx1c2hEaXJlY3RvcnlDb250ZW50KG5ldyBGaWxlKHNv
dXJjZXNQYXRoKSk7CisgICAgZm9yIChpbnQgaSA9IDAsIGxlbmd0aCA9IHBhdGhzQW5kQ29udGVu
dHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKz0yKSB7CisgICAgICAgIFN0cmluZyBzb3VyY2VQYXRo
ID0gc291cmNlc1BhdGggKyBGaWxlLnNlcGFyYXRvciArIHBhdGhzQW5kQ29udGVudHNbaV07Cisg
ICAgICAgIEZpbGUgc291cmNlRmlsZSA9IG5ldyBGaWxlKHNvdXJjZVBhdGgpOworICAgICAgICBz
b3VyY2VGaWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsKKyAgICAgICAgY3JlYXRlRmlsZShz
b3VyY2VQYXRoLCBwYXRoc0FuZENvbnRlbnRzW2krMV0pOworICAgIH0KK30KKy8qKgorICogRGVs
ZXRlIGEgZmlsZSBvciBkaXJlY3RvcnkgYW5kIGluc3VyZSB0aGF0IHRoZSBmaWxlIGlzIG5vIGxv
bmdlciBwcmVzZW50CisgKiBvbiBmaWxlIHN5c3RlbS4gSW4gY2FzZSBvZiBkaXJlY3RvcnksIGRl
bGV0ZSBhbGwgdGhlIGhpZXJhcmNoeSB1bmRlcm5lYXRoLgorICoKKyAqIEBwYXJhbSBmaWxlIFRo
ZSBmaWxlIG9yIGRpcmVjdG9yeSB0byBkZWxldGUKKyAqIEByZXR1cm4gdHJ1ZSBpZmYgdGhlIGZp
bGUgd2FzIHJlYWxseSBkZWxldGUsIGZhbHNlIG90aGVyd2lzZQorICovCitwdWJsaWMgc3RhdGlj
IGJvb2xlYW4gZGVsZXRlKEZpbGUgZmlsZSkgeworCS8vIGZsdXNoIGFsbCBkaXJlY3RvcnkgY29u
dGVudAorCWlmIChmaWxlLmlzRGlyZWN0b3J5KCkpIHsKKwkJZmx1c2hEaXJlY3RvcnlDb250ZW50
KGZpbGUpOworCX0KKwkvLyByZW1vdmUgZmlsZQorCWZpbGUuZGVsZXRlKCk7CisJaWYgKGlzRmls
ZURlbGV0ZWQoZmlsZSkpIHsKKwkJcmV0dXJuIHRydWU7CisJfQorCXJldHVybiB3YWl0VW50aWxG
aWxlRGVsZXRlZChmaWxlKTsKK30KKy8qKgorICogRmx1c2ggY29udGVudCBvZiBhIGdpdmVuIGRp
cmVjdG9yeSAobGVhdmluZyBpdCBlbXB0eSksCisgKiBuby1vcCBpZiBub3QgYSBkaXJlY3Rvcnku
CisgKi8KK3B1YmxpYyBzdGF0aWMgdm9pZCBmbHVzaERpcmVjdG9yeUNvbnRlbnQoRmlsZSBkaXIp
IHsKKyAgICBGaWxlW10gZmlsZXMgPSBkaXIubGlzdEZpbGVzKCk7CisgICAgaWYgKGZpbGVzID09
IG51bGwpIHJldHVybjsKKyAgICBmb3IgKGludCBpID0gMCwgbWF4ID0gZmlsZXMubGVuZ3RoOyBp
IDwgbWF4OyBpKyspIHsKKyAgICAgICAgZGVsZXRlKGZpbGVzW2ldKTsKKyAgICB9Cit9Citwcml2
YXRlIHN0YXRpYyBNYXAgZ2V0Q29tcGlsZU9wdGlvbnMoU3RyaW5nIGNvbXBsaWFuY2UpIHsKKyAg
ICBNYXAgb3B0aW9ucyA9IG5ldyBIYXNoTWFwKCk7CisgICAgb3B0aW9ucy5wdXQoQ29tcGlsZXJP
cHRpb25zLk9QVElPTl9Db21wbGlhbmNlLCBjb21wbGlhbmNlKTsKKyAgICBvcHRpb25zLnB1dChD
b21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgY29tcGxpYW5jZSk7CisgICAgb3B0aW9ucy5w
dXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9UYXJnZXRQbGF0Zm9ybSwgY29tcGxpYW5jZSk7Cisg
ICAgcmV0dXJuIG9wdGlvbnM7Cit9CisvKioKKyAqIFNlYXJjaCB0aGUgdXNlciBoYXJkLWRyaXZl
IGZvciBhIEphdmEgY2xhc3MgbGlicmFyeS4KKyAqIFJldHVybnMgbnVsbCBpZiBub25lIGNvdWxk
IGJlIGZvdW5kLgorKi8KK3B1YmxpYyBzdGF0aWMgU3RyaW5nW10gZ2V0SmF2YUNsYXNzTGlicygp
IHsKKwkvLyBjaGVjayBib290Y2xhc3NwYXRoIHByb3BlcnRpZXMgZm9yIFN1biwgSlJvY2tpdCBh
bmQgSGFybW9ueSBWTXMKKwlTdHJpbmcgYm9vdGNsYXNzcGF0aFByb3BlcnR5ID0gU3lzdGVtLmdl
dFByb3BlcnR5KCJzdW4uYm9vdC5jbGFzcy5wYXRoIik7IC8vJE5PTi1OTFMtMSQKKwlpZiAoKGJv
b3RjbGFzc3BhdGhQcm9wZXJ0eSA9PSBudWxsKSB8fCAoYm9vdGNsYXNzcGF0aFByb3BlcnR5Lmxl
bmd0aCgpID09IDApKSB7CisJCS8vIElCTSBKOSBWTXMKKwkJYm9vdGNsYXNzcGF0aFByb3BlcnR5
ID0gU3lzdGVtLmdldFByb3BlcnR5KCJ2bS5ib290LmNsYXNzLnBhdGgiKTsgLy8kTk9OLU5MUy0x
JAorCQlpZiAoKGJvb3RjbGFzc3BhdGhQcm9wZXJ0eSA9PSBudWxsKSB8fCAoYm9vdGNsYXNzcGF0
aFByb3BlcnR5Lmxlbmd0aCgpID09IDApKSB7CisJCQkvLyBIYXJtb255IHVzaW5nIElCTSBWTUUK
KwkJCWJvb3RjbGFzc3BhdGhQcm9wZXJ0eSA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgib3JnLmFwYWNo
ZS5oYXJtb255LmJvb3QuY2xhc3MucGF0aCIpOyAvLyROT04tTkxTLTEkCisJCX0KKwl9CisJU3Ry
aW5nW10gamFycyA9IG51bGw7CisJaWYgKChib290Y2xhc3NwYXRoUHJvcGVydHkgIT0gbnVsbCkg
JiYgKGJvb3RjbGFzc3BhdGhQcm9wZXJ0eS5sZW5ndGgoKSAhPSAwKSkgeworCQlTdHJpbmdUb2tl
bml6ZXIgdG9rZW5pemVyID0gbmV3IFN0cmluZ1Rva2VuaXplcihib290Y2xhc3NwYXRoUHJvcGVy
dHksIEZpbGUucGF0aFNlcGFyYXRvcik7CisJCWZpbmFsIGludCBzaXplID0gdG9rZW5pemVyLmNv
dW50VG9rZW5zKCk7CisJCWphcnMgPSBuZXcgU3RyaW5nW3NpemVdOworCQlpbnQgaSA9IDA7CisJ
CXdoaWxlICh0b2tlbml6ZXIuaGFzTW9yZVRva2VucygpKSB7CisJCQlmaW5hbCBTdHJpbmcgZmls
ZU5hbWUgPSB0b05hdGl2ZVBhdGgodG9rZW5pemVyLm5leHRUb2tlbigpKTsKKwkJCWlmIChuZXcg
RmlsZShmaWxlTmFtZSkuZXhpc3RzKCkpIHsKKwkJCQlqYXJzW2ldID0gZmlsZU5hbWU7CisJCQkJ
aSsrOworCQkJfQorCQl9CisJCWlmIChzaXplICE9IGkpIHsKKwkJCS8vIHJlc2l6ZQorCQkJU3lz
dGVtLmFycmF5Y29weShqYXJzLCAwLCAoamFycyA9IG5ldyBTdHJpbmdbaV0pLCAwLCBpKTsKKwkJ
fQorCX0gZWxzZSB7CisJCVN0cmluZyBqcmVEaXIgPSBnZXRKUkVEaXJlY3RvcnkoKTsKKwkJZmlu
YWwgU3RyaW5nIG9zTmFtZSA9IFN5c3RlbS5nZXRQcm9wZXJ0eSgib3MubmFtZSIpOworCQlpZiAo
anJlRGlyID09IG51bGwpIHsKKwkJCXJldHVybiBuZXcgU3RyaW5nW10ge307CisJCX0KKwkJaWYg
KG9zTmFtZS5zdGFydHNXaXRoKCJNYWMiKSkgeworCQkJcmV0dXJuIG5ldyBTdHJpbmdbXSB7CisJ
CQkJCXRvTmF0aXZlUGF0aChqcmVEaXIgKyAiLy4uL0NsYXNzZXMvY2xhc3Nlcy5qYXIiKQorCQkJ
fTsKKwkJfQorCQlmaW5hbCBTdHJpbmcgdm1OYW1lID0gU3lzdGVtLmdldFByb3BlcnR5KCJqYXZh
LnZtLm5hbWUiKTsKKwkJaWYgKCJKOSIuZXF1YWxzKHZtTmFtZSkpIHsKKwkJCXJldHVybiBuZXcg
U3RyaW5nW10geworCQkJCQl0b05hdGl2ZVBhdGgoanJlRGlyICsgIi9saWIvamNsTWF4L2NsYXNz
ZXMuemlwIikKKwkJCX07CisJCX0KKwkJU3RyaW5nW10gamFyc05hbWVzID0gbnVsbDsKKwkJQXJy
YXlMaXN0IHBhdGhzID0gbmV3IEFycmF5TGlzdCgpOworCQlpZiAoIkRSTFZNIi5lcXVhbHModm1O
YW1lKSkgeworCQkJRmlsZW5hbWVGaWx0ZXIgamFyRmlsdGVyID0gbmV3IEZpbGVuYW1lRmlsdGVy
KCkgeworCQkJCXB1YmxpYyBib29sZWFuIGFjY2VwdChGaWxlIGRpciwgU3RyaW5nIG5hbWUpIHsK
KwkJCQkJcmV0dXJuIG5hbWUuZW5kc1dpdGgoIi5qYXIiKSAmICFuYW1lLmVuZHNXaXRoKCItc3Jj
LmphciIpOworCQkJCX0KKwkJCX07CisJCQlqYXJzTmFtZXMgPSBuZXcgRmlsZShqcmVEaXIgKyAi
L2xpYi9ib290LyIpLmxpc3QoamFyRmlsdGVyKTsKKwkJCWFkZEphckVudHJpZXMoanJlRGlyICsg
Ii9saWIvYm9vdC8iLCBqYXJzTmFtZXMsIHBhdGhzKTsKKwkJfSBlbHNlIHsKKwkJCWphcnNOYW1l
cyA9IG5ldyBTdHJpbmdbXSB7CisJCQkJCSIvbGliL3ZtLmphciIsCisJCQkJCSIvbGliL3J0Lmph
ciIsCisJCQkJCSIvbGliL2NvcmUuamFyIiwKKwkJCQkJIi9saWIvc2VjdXJpdHkuamFyIiwKKwkJ
CQkJIi9saWIveG1sLmphciIsCisJCQkJCSIvbGliL2dyYXBoaWNzLmphciIKKwkJCX07CisJCQlh
ZGRKYXJFbnRyaWVzKGpyZURpciwgamFyc05hbWVzLCBwYXRocyk7CisJCX0KKwkJamFycyA9IG5l
dyBTdHJpbmdbcGF0aHMuc2l6ZSgpXTsKKwkJcGF0aHMudG9BcnJheShqYXJzKTsKKwl9CisJcmV0
dXJuIGphcnM7Cit9Citwcml2YXRlIHN0YXRpYyB2b2lkIGFkZEphckVudHJpZXMoU3RyaW5nIGpy
ZURpciwgU3RyaW5nW10gamFyTmFtZXMsIEFycmF5TGlzdCBwYXRocykgeworCWZvciAoaW50IGkg
PSAwLCBtYXggPSBqYXJOYW1lcy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgeworCQlmaW5hbCBTdHJp
bmcgY3VycmVudE5hbWUgPSBqcmVEaXIgKyBqYXJOYW1lc1tpXTsKKwkJRmlsZSBmID0gbmV3IEZp
bGUoY3VycmVudE5hbWUpOworCQlpZiAoZi5leGlzdHMoKSkgeworCQkJcGF0aHMuYWRkKHRvTmF0
aXZlUGF0aChjdXJyZW50TmFtZSkpOworCQl9CisJfQorfQorLyoqCisgKiBSZXR1cm5zIHRoZSBK
UkUgZGlyZWN0b3J5IHRoaXMgdGVzdHMgYXJlIHJ1bm5pbmcgb24uCisgKiBSZXR1cm5zIG51bGwg
aWYgbm9uZSBjb3VsZCBiZSBmb3VuZC4KKyAqCisgKiBFeGFtcGxlIG9mIHVzZTogW29yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLnV0aWwuVXRpbC5nZXRKUkVEaXJlY3RvcnkoKV0KKyAqLworcHVi
bGljIHN0YXRpYyBTdHJpbmcgZ2V0SlJFRGlyZWN0b3J5KCkgeworICAgIHJldHVybiBTeXN0ZW0u
Z2V0UHJvcGVydHkoImphdmEuaG9tZSIpOworfQorLyoqCisgKiBTZWFyY2ggdGhlIHVzZXIgaGFy
ZC1kcml2ZSBmb3IgYSBwb3NzaWJsZSBvdXRwdXQgZGlyZWN0b3J5LgorICogUmV0dXJucyBudWxs
IGlmIG5vbmUgY291bGQgYmUgZm91bmQuCisgKgorICogRXhhbXBsZSBvZiB1c2U6IFtvcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy51dGlsLlV0aWwuZ2V0T3V0cHV0RGlyZWN0b3J5KCldCisgKi8K
K3B1YmxpYyBzdGF0aWMgU3RyaW5nIGdldE91dHB1dERpcmVjdG9yeSgpIHsKKyAgICByZXR1cm4g
T1VUUFVUX0RJUkVDVE9SWTsKK30KKy8qKgorICogUmV0dXJucyB0aGUgcGFyZW50J3MgY2hpbGQg
ZmlsZSBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsZSBvciBudWxsIGlmIG5vdCBmb3VuZC4KKyAqCisg
KiBAcGFyYW0gZmlsZSBUaGUgc2VhcmNoZWQgZmlsZSBpbiBwYXJlbnQKKyAqIEByZXR1cm4gVGhl
IHBhcmVudCdzIGNoaWxkIG1hdGNoaW5nIHRoZSBnaXZlbiBmaWxlIG9yIG51bGwgaWYgbm90IGZv
dW5kLgorICovCitwcml2YXRlIHN0YXRpYyBGaWxlIGdldFBhcmVudENoaWxkRmlsZShGaWxlIGZp
bGUpIHsKKyAgICBGaWxlIHBhcmVudCA9IGZpbGUuZ2V0UGFyZW50RmlsZSgpOworICAgIGlmIChw
YXJlbnQgPT0gbnVsbCB8fCAhcGFyZW50LmV4aXN0cygpKSByZXR1cm4gbnVsbDsKKyAgICBGaWxl
W10gZmlsZXMgPSBwYXJlbnQubGlzdEZpbGVzKCk7CisgICAgaW50IGxlbmd0aCA9IGZpbGVzPT1u
dWxsID8gMCA6IGZpbGVzLmxlbmd0aDsKKyAgICBpZiAobGVuZ3RoID4gMCkgeworICAgICAgICBm
b3IgKGludCBpPTA7IGk8bGVuZ3RoOyBpKyspIHsKKyAgICAgICAgICAgIGlmIChmaWxlc1tpXSA9
PSBmaWxlKSB7CisgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVzW2ldOworICAgICAgICAgICAg
fSBlbHNlIGlmIChmaWxlc1tpXS5lcXVhbHMoZmlsZSkpIHsKKyAgICAgICAgICAgICAgICByZXR1
cm4gZmlsZXNbaV07CisgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGVzW2ldLmdldFBhdGgoKS5l
cXVhbHMoZmlsZS5nZXRQYXRoKCkpKSB7CisgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVzW2ld
OworICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgfQorICAgIHJldHVybiBudWxsOworfQor
LyoqCisgKiBSZXR1cm5zIHRoZSB0ZXN0IG5hbWUgZnJvbSBzdGFjayBlbGVtZW50cyBpbmZvLgor
ICoKKyAqIEByZXR1cm4gVGhlIG5hbWUgb2YgdGhlIHRlc3QgY3VycmVudGx5IHJ1bm5pbmcKKyAq
LworcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIGdldFRlc3ROYW1lKCkgeworICAgIFN0YWNrVHJhY2VF
bGVtZW50W10gZWxlbWVudHMgPSBuZXcgRXhjZXB0aW9uKCkuZ2V0U3RhY2tUcmFjZSgpOworICAg
IGludCBpZHggPSAwLCBsZW5ndGg9ZWxlbWVudHMubGVuZ3RoOworICAgIHdoaWxlIChpZHg8bGVu
Z3RoICYmICFlbGVtZW50c1tpZHgrK10uZ2V0Q2xhc3NOYW1lKCkuc3RhcnRzV2l0aCgib3JnLmVj
bGlwc2UuamR0IikpIHsKKyAgICAgICAgLy8gbG9vcCB1bnRpbCBKRFQvQ29yZSBjbGFzcyBhcHBl
YXJzIGluIHRoZSBzdGFjaworICAgIH0KKyAgICBpZiAoaWR4PGxlbmd0aCkgeworICAgICAgICBT
dGFja1RyYWNlRWxlbWVudCB0ZXN0RWxlbWVudCA9IG51bGw7CisgICAgICAgIHdoaWxlIChpZHg8
bGVuZ3RoICYmIGVsZW1lbnRzW2lkeF0uZ2V0Q2xhc3NOYW1lKCkuc3RhcnRzV2l0aCgib3JnLmVj
bGlwc2UuamR0IikpIHsKKyAgICAgICAgICAgIHRlc3RFbGVtZW50ID0gZWxlbWVudHNbaWR4Kytd
OworICAgICAgICB9CisgICAgICAgIGlmICh0ZXN0RWxlbWVudCAhPSBudWxsKSB7CisgICAgICAg
ICAgICByZXR1cm4gdGVzdEVsZW1lbnQuZ2V0Q2xhc3NOYW1lKCkgKyAiIC0gIiArIHRlc3RFbGVt
ZW50LmdldE1ldGhvZE5hbWUoKTsKKyAgICAgICAgfQorICAgIH0KKyAgICByZXR1cm4gIj8iOwor
fQorLyoqCisgKiBSZXR1cm5zIHdoZXRoZXIgYSBmaWxlIGlzIHJlYWxseSBkZWxldGVkIG9yIG5v
dC4KKyAqIERvZXMgbm90IG9ubHkgcmVseSBvbiB7QGxpbmsgRmlsZSNleGlzdHMoKX0gbWV0aG9k
IGJ1dCBhbHNvCisgKiBsb29rIGlmIGl0J3Mgbm90IGluIGl0cyBwYXJlbnQgY2hpbGRyZW4ge0Bs
aW5rICNnZXRQYXJlbnRDaGlsZEZpbGUoRmlsZSl9LgorICoKKyAqIEBwYXJhbSBmaWxlIFRoZSBm
aWxlIHRvIHRlc3QgaWYgZGVsZXRlZAorICogQHJldHVybiB0cnVlIGlmIHRoZSBmaWxlIGRvZXMg
bm90IGV4aXN0IGFuZCB3YXMgbm90IGZvdW5kIGluIGl0cyBwYXJlbnQgY2hpbGRyZW4uCisgKi8K
K3B1YmxpYyBzdGF0aWMgYm9vbGVhbiBpc0ZpbGVEZWxldGVkKEZpbGUgZmlsZSkgeworICAgIHJl
dHVybiAhZmlsZS5leGlzdHMoKSAmJiBnZXRQYXJlbnRDaGlsZEZpbGUoZmlsZSkgPT0gbnVsbDsK
K30KKy8qKgorICogUHJpbnQgZ2l2ZW4gZmlsZSBpbmZvcm1hdGlvbiB3aXRoIHNwZWNpZmllZCBp
bmRlbnRhdGlvbi4KKyAqIFRoZXNlIGluZm9ybWF0aW9uIGFyZTo8dWw+CisgKiAJPGxpPnJlYWQg
e0BsaW5rIEZpbGUjY2FuUmVhZCgpfTwvbGk+CisgKiAJPGxpPndyaXRlIHtAbGluayBGaWxlI2Nh
bldyaXRlKCl9PC9saT4KKyAqIAk8bGk+ZXhpc3RzIHtAbGluayBGaWxlI2V4aXN0cygpfTwvbGk+
CisgKiAJPGxpPmlzIGZpbGUge0BsaW5rIEZpbGUjaXNGaWxlKCl9PC9saT4KKyAqIAk8bGk+aXMg
ZGlyZWN0b3J5IHtAbGluayBGaWxlI2lzRGlyZWN0b3J5KCl9PC9saT4KKyAqIAk8bGk+aXMgaGlk
ZGVuIHtAbGluayBGaWxlI2lzSGlkZGVuKCl9PC9saT4KKyAqIDwvdWw+CisgKiBNYXkgcmVjdXJz
ZSBzZXZlcmFsIGxldmVsIGluIHBhcmVudHMgaGllcmFyY2h5LgorICogTWF5IGFsc28gZGlzcGxh
eSBjaGlsZHJlbiwgYnV0IHRoZW4gd2lsbCBub3QgcmVjdXNyZSBpbiBwYXJlbnQKKyAqIGhpZXJh
cmNoeSB0byBhdm9pZCBpbmZpbml0ZSBsb29wLi4uCisgKgorICogQHBhcmFtIGZpbGUgVGhlIGZp
bGUgdG8gZGlzcGxheSBpbmZvcm1hdGlvbgorICogQHBhcmFtIGluZGVudCBOdW1iZXIgb2YgdGFi
IHRvIHByaW50IGJlZm9yZSB0aGUgaW5mb3JtYXRpb24KKyAqIEBwYXJhbSByZWN1cnNlIERpc3Bs
YXkgYWxzbyBpbmZvcm1hdGlvbiBvbiA8Y29kZT5yZWN1cnNlPC9jb2RlPnRoIHBhcmVudHMgaW4g
aGllcmFyY2h5LgorICogCUlmIG5lZ2F0aXZlIHRoZW4gZGlzcGxheSBjaGlsZHJlbiBpbmZvcm1h
dGlvbiBpbnN0ZWFkLgorICovCitwcml2YXRlIHN0YXRpYyB2b2lkIHByaW50RmlsZUluZm8oRmls
ZSBmaWxlLCBpbnQgaW5kZW50LCBpbnQgcmVjdXJzZSkgeworICAgIFN0cmluZyB0YWIgPSAiIjsK
KyAgICBmb3IgKGludCBpPTA7IGk8aW5kZW50OyBpKyspIHRhYis9Ilx0IjsKKyAgICBTeXN0ZW0u
b3V0LnByaW50KHRhYisiLSAiK2ZpbGUuZ2V0TmFtZSgpKyIgZmlsZSBpbmZvOiAiKTsKKyAgICBT
dHJpbmcgc2VwID0gIiI7CisgICAgaWYgKGZpbGUuY2FuUmVhZCgpKSB7CisgICAgICAgIFN5c3Rl
bS5vdXQucHJpbnQoInJlYWQiKTsKKyAgICAgICAgc2VwID0gIiwgIjsKKyAgICB9CisgICAgaWYg
KGZpbGUuY2FuV3JpdGUoKSkgeworICAgICAgICBTeXN0ZW0ub3V0LnByaW50KHNlcCsid3JpdGUi
KTsKKyAgICAgICAgc2VwID0gIiwgIjsKKyAgICB9CisgICAgaWYgKGZpbGUuZXhpc3RzKCkpIHsK
KyAgICAgICAgU3lzdGVtLm91dC5wcmludChzZXArImV4aXN0Iik7CisgICAgICAgIHNlcCA9ICIs
ICI7CisgICAgfQorICAgIGlmIChmaWxlLmlzRGlyZWN0b3J5KCkpIHsKKyAgICAgICAgU3lzdGVt
Lm91dC5wcmludChzZXArImRpciIpOworICAgICAgICBzZXAgPSAiLCAiOworICAgIH0KKyAgICBp
ZiAoZmlsZS5pc0ZpbGUoKSkgeworICAgICAgICBTeXN0ZW0ub3V0LnByaW50KHNlcCsiZmlsZSIp
OworICAgICAgICBzZXAgPSAiLCAiOworICAgIH0KKyAgICBpZiAoZmlsZS5pc0hpZGRlbigpKSB7
CisgICAgICAgIFN5c3RlbS5vdXQucHJpbnQoc2VwKyJoaWRkZW4iKTsKKyAgICAgICAgc2VwID0g
IiwgIjsKKyAgICB9CisgICAgU3lzdGVtLm91dC5wcmludGxuKCk7CisgICAgRmlsZVtdIGZpbGVz
ID0gZmlsZS5saXN0RmlsZXMoKTsKKyAgICBpbnQgbGVuZ3RoID0gZmlsZXM9PW51bGwgPyAwIDog
ZmlsZXMubGVuZ3RoOworICAgIGlmIChsZW5ndGggPiAwKSB7CisgICAgICAgIGJvb2xlYW4gY2hp
bGRyZW4gPSByZWN1cnNlIDwgMDsKKyAgICAgICAgU3lzdGVtLm91dC5wcmludCh0YWIrIgkrIGNo
aWxkcmVuOiAiKTsKKyAgICAgICAgaWYgKGNoaWxkcmVuKSBTeXN0ZW0ub3V0LnByaW50bG4oKTsK
KyAgICAgICAgZm9yIChpbnQgaT0wOyBpPGxlbmd0aDsgaSsrKSB7CisgICAgICAgICAgICBpZiAo
Y2hpbGRyZW4pIHsgLy8gZGlzcGxheSBjaGlsZHJlbgorICAgICAgICAgICAgICAgIHByaW50Rmls
ZUluZm8oZmlsZXNbaV0sIGluZGVudCsyLCAtMSk7CisgICAgICAgICAgICB9IGVsc2UgeworICAg
ICAgICAgICAgICAgIGlmIChpPjApIFN5c3RlbS5vdXQucHJpbnQoIiwgIik7CisgICAgICAgICAg
ICAgICAgU3lzdGVtLm91dC5wcmludChmaWxlc1tpXS5nZXROYW1lKCkpOworICAgICAgICAgICAg
ICAgIGlmIChmaWxlc1tpXS5pc0RpcmVjdG9yeSgpKSBTeXN0ZW0ub3V0LnByaW50KCJbZGlyXSIp
OworICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpbGVzW2ldLmlzRmlsZSgpKSBTeXN0ZW0ub3V0
LnByaW50KCJbZmlsZV0iKTsKKyAgICAgICAgICAgICAgICBlbHNlIFN5c3RlbS5vdXQucHJpbnQo
Ils/XSIpOworICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgICAgIGlmICghY2hpbGRyZW4p
IFN5c3RlbS5vdXQucHJpbnRsbigpOworICAgIH0KKyAgICBpZiAocmVjdXJzZSA+IDApIHsKKyAg
ICAgICAgRmlsZSBwYXJlbnQgPSBmaWxlLmdldFBhcmVudEZpbGUoKTsKKyAgICAgICAgaWYgKHBh
cmVudCAhPSBudWxsKSBwcmludEZpbGVJbmZvKHBhcmVudCwgaW5kZW50KzEsIHJlY3Vyc2UtMSk7
CisgICAgfQorfQorLyoqCisgKiBQcmludCBzdGFjayB0cmFjZSB3aXRoIG9ubHkgSkRUIGVsZW1l
bnRzLgorICoKKyAqIEBwYXJhbSBleGNlcHRpb24gRXhjZXB0aW9uIG9mIHRoZSBzdGFjayB0cmFj
ZS4gTWF5IGJlIG51bGwsIHRoZW4gYSBmYWtlIGV4Y2VwdGlvbiBpcyB1c2VkLgorICogQHBhcmFt
IGluZGVudCBOdW1iZXIgb2YgdGFiIHRvIGRpc3BsYXkgYmVmb3JlIHRoZSBzdGFjayBlbGVtZW50
cyB0byBkaXNwbGF5LgorICovCitwcml2YXRlIHN0YXRpYyB2b2lkIHByaW50SmR0U3RhY2tUcmFj
ZShFeGNlcHRpb24gZXhjZXB0aW9uLCBpbnQgaW5kZW50KSB7CisgICAgU3RyaW5nIHRhYiA9ICIi
OworICAgIGZvciAoaW50IGk9MDsgaTxpbmRlbnQ7IGkrKykgdGFiKz0iXHQiOworICAgIFN0YWNr
VHJhY2VFbGVtZW50W10gZWxlbWVudHMgPSAoZXhjZXB0aW9uPT1udWxsP25ldyBFeGNlcHRpb24o
KTpleGNlcHRpb24pLmdldFN0YWNrVHJhY2UoKTsKKyAgICBpbnQgaWR4ID0gMCwgbGVuZ3RoPWVs
ZW1lbnRzLmxlbmd0aDsKKyAgICB3aGlsZSAoaWR4PGxlbmd0aCAmJiAhZWxlbWVudHNbaWR4Kytd
LmdldENsYXNzTmFtZSgpLnN0YXJ0c1dpdGgoIm9yZy5lY2xpcHNlLmpkdCIpKSB7CisgICAgICAg
IC8vIGxvb3AgdW50aWwgSkRUL0NvcmUgY2xhc3MgYXBwZWFycyBpbiB0aGUgc3RhY2sKKyAgICB9
CisgICAgaWYgKGlkeDxsZW5ndGgpIHsKKyAgICAgICAgU3lzdGVtLm91dC5wcmludCh0YWIrIi0g
c3RhY2sgdHJhY2UiKTsKKyAgICAgICAgaWYgKGV4Y2VwdGlvbiA9PSBudWxsKQorICAgICAgICAg
ICAgU3lzdGVtLm91dC5wcmludGxuKCI6Iik7CisgICAgICAgIGVsc2UKKyAgICAgICAgICAgIFN5
c3RlbS5vdXQucHJpbnRsbigiIGZvciBleGNlcHRpb24gIitleGNlcHRpb24rIjoiKTsKKyAgICAg
ICAgd2hpbGUgKGlkeDxsZW5ndGggJiYgZWxlbWVudHNbaWR4XS5nZXRDbGFzc05hbWUoKS5zdGFy
dHNXaXRoKCJvcmcuZWNsaXBzZS5qZHQiKSkgeworICAgICAgICAgICAgU3RhY2tUcmFjZUVsZW1l
bnQgdGVzdEVsZW1lbnQgPSBlbGVtZW50c1tpZHgrK107CisgICAgICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4odGFiKyIJLT4gIit0ZXN0RWxlbWVudCk7CisgICAgICAgIH0KKyAgICB9IGVsc2Ug
eworICAgICAgICBleGNlcHRpb24ucHJpbnRTdGFja1RyYWNlKFN5c3RlbS5vdXQpOworICAgIH0K
K30KKy8qKgorICogTWFrZXMgdGhlIGdpdmVuIHBhdGggYSBwYXRoIHVzaW5nIG5hdGl2ZSBwYXRo
IHNlcGFyYXRvcnMgYXMgcmV0dXJuZWQgYnkgRmlsZS5nZXRQYXRoKCkKKyAqIGFuZCB0cmltbWlu
ZyBhbnkgZXh0cmEgc2xhc2guCisgKi8KK3B1YmxpYyBzdGF0aWMgU3RyaW5nIHRvTmF0aXZlUGF0
aChTdHJpbmcgcGF0aCkgeworICAgIFN0cmluZyBuYXRpdmVQYXRoID0gcGF0aC5yZXBsYWNlKCdc
XCcsIEZpbGUuc2VwYXJhdG9yQ2hhcikucmVwbGFjZSgnLycsIEZpbGUuc2VwYXJhdG9yQ2hhcik7
CisgICAgcmV0dXJuCisgICAgICAgIG5hdGl2ZVBhdGguZW5kc1dpdGgoIi8iKSB8fCBuYXRpdmVQ
YXRoLmVuZHNXaXRoKCJcXCIpID8KKyAgICAgICAgICAgIG5hdGl2ZVBhdGguc3Vic3RyaW5nKDAs
IG5hdGl2ZVBhdGgubGVuZ3RoKCkgLSAxKSA6CisgICAgICAgICAgICBuYXRpdmVQYXRoOworfQor
cHVibGljIHN0YXRpYyB2b2lkIHdhaXRBdExlYXN0KGludCB0aW1lKSB7CisJbG9uZyBzdGFydCA9
IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOworCWRvIHsKKwkJdHJ5IHsKKwkJCVRocmVhZC5z
bGVlcCh0aW1lKTsKKwkJfSBjYXRjaCAoSW50ZXJydXB0ZWRFeGNlcHRpb24gZSkgeworCQl9CisJ
fSB3aGlsZSAoKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnQpIDwgdGltZSk7Cit9
CisKKy8qKgorICogV2FpdCB1bnRpbCB0aGUgZmlsZSBpcyBfcmVhbGx5XyBkZWxldGVkIG9uIGZp
bGUgc3lzdGVtLgorICoKKyAqIEBwYXJhbSBmaWxlIERlbGV0ZWQgZmlsZQorICogQHJldHVybiB0
cnVlIGlmIHRoZSBmaWxlIHdhcyBmaW5hbGx5IGRlbGV0ZWQsIGZhbHNlIG90aGVyd2lzZQorICov
Citwcml2YXRlIHN0YXRpYyBib29sZWFuIHdhaXRVbnRpbEZpbGVEZWxldGVkKEZpbGUgZmlsZSkg
eworICAgIGlmIChERUxFVEVfREVCVUcpIHsKKyAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCk7
CisgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiV0FSTklORyBpbiB0ZXN0OiAiK2dldFRlc3RO
YW1lKCkpOworICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIgktIHByb2JsZW1zIG9jY3VyZWQg
d2hpbGUgZGVsZXRpbmcgIitmaWxlKTsKKyAgICAgICAgcHJpbnRKZHRTdGFja1RyYWNlKG51bGws
IDEpOworICAgICAgICBwcmludEZpbGVJbmZvKGZpbGUuZ2V0UGFyZW50RmlsZSgpLCAxLCAtMSk7
IC8vIGRpc3BsYXkgcGFyZW50IHdpdGggaXRzIGNoaWxkcmVuCisgICAgICAgIFN5c3RlbS5vdXQu
cHJpbnQoIgktIHdhaXQgZm9yICgiK0RFTEVURV9NQVhfV0FJVCsibXMgbWF4KTogIik7CisgICAg
fQorICAgIGludCBjb3VudCA9IDA7CisgICAgaW50IGRlbGF5ID0gMTA7IC8vIG1zCisgICAgaW50
IG1heFJldHJ5ID0gREVMRVRFX01BWF9XQUlUIC8gZGVsYXk7CisgICAgaW50IHRpbWUgPSAwOwor
ICAgIHdoaWxlIChjb3VudCA8IG1heFJldHJ5KSB7CisgICAgICAgIHRyeSB7CisgICAgICAgICAg
ICBjb3VudCsrOworICAgICAgICAgICAgVGhyZWFkLnNsZWVwKGRlbGF5KTsKKyAgICAgICAgICAg
IHRpbWUgKz0gZGVsYXk7CisgICAgICAgICAgICBpZiAodGltZSA+IERFTEVURV9NQVhfVElNRSkg
REVMRVRFX01BWF9USU1FID0gdGltZTsKKyAgICAgICAgICAgIGlmIChERUxFVEVfREVCVUcpIFN5
c3RlbS5vdXQucHJpbnQoJy4nKTsKKyAgICAgICAgICAgIGlmIChmaWxlLmV4aXN0cygpKSB7Cisg
ICAgICAgICAgICAgICAgaWYgKGZpbGUuZGVsZXRlKCkpIHsKKyAgICAgICAgICAgICAgICAgICAg
Ly8gU1VDQ0VTUworICAgICAgICAgICAgICAgICAgICBpZiAoREVMRVRFX0RFQlVHKSB7CisgICAg
ICAgICAgICAgICAgICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oKTsKKyAgICAgICAgICAgICAg
ICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiCT0+IGZpbGUgcmVhbGx5IHJlbW92ZWQgYWZ0
ZXIgIit0aW1lKyJtcyAobWF4PSIrREVMRVRFX01BWF9USU1FKyJtcykiKTsKKyAgICAgICAgICAg
ICAgICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigpOworICAgICAgICAgICAgICAgICAgICB9
CisgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOworICAgICAgICAgICAgICAgIH0KKyAg
ICAgICAgICAgIH0KKyAgICAgICAgICAgIGlmIChpc0ZpbGVEZWxldGVkKGZpbGUpKSB7CisgICAg
ICAgICAgICAgICAgLy8gU1VDQ0VTUworICAgICAgICAgICAgICAgIGlmIChERUxFVEVfREVCVUcp
IHsKKyAgICAgICAgICAgICAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKCk7CisgICAgICAgICAg
ICAgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiCT0+IGZpbGUgZGlzYXBwZWFyZWQgYWZ0ZXIg
Iit0aW1lKyJtcyAobWF4PSIrREVMRVRFX01BWF9USU1FKyJtcykiKTsKKyAgICAgICAgICAgICAg
ICAgICAgU3lzdGVtLm91dC5wcmludGxuKCk7CisgICAgICAgICAgICAgICAgfQorICAgICAgICAg
ICAgICAgIHJldHVybiB0cnVlOworICAgICAgICAgICAgfQorICAgICAgICAgICAgLy8gSW5jcmVt
ZW50IHdhaXRpbmcgZGVsYXkgZXhwb25lbnRpYWxseQorICAgICAgICAgICAgaWYgKGNvdW50ID49
IDEwICYmIGRlbGF5IDw9IDEwMCkgeworICAgICAgICAgICAgICAgIGNvdW50ID0gMTsKKyAgICAg
ICAgICAgICAgICBkZWxheSAqPSAxMDsKKyAgICAgICAgICAgICAgICBtYXhSZXRyeSA9IERFTEVU
RV9NQVhfV0FJVCAvIGRlbGF5OworICAgICAgICAgICAgICAgIGlmICgoREVMRVRFX01BWF9XQUlU
JWRlbGF5KSAhPSAwKSB7CisgICAgICAgICAgICAgICAgICAgIG1heFJldHJ5Kys7CisgICAgICAg
ICAgICAgICAgfQorICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgICAgIGNhdGNoIChJbnRl
cnJ1cHRlZEV4Y2VwdGlvbiBpZSkgeworICAgICAgICAgICAgYnJlYWs7IC8vIGVuZCBsb29wCisg
ICAgICAgIH0KKyAgICB9CisgICAgaWYgKCFERUxFVEVfREVCVUcpIHsKKyAgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKCk7CisgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbigiV0FSTklORyBpbiB0
ZXN0OiAiK2dldFRlc3ROYW1lKCkpOworICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oIgktIHBy
b2JsZW1zIG9jY3VyZWQgd2hpbGUgZGVsZXRpbmcgIitmaWxlKTsKKyAgICAgICAgcHJpbnRKZHRT
dGFja1RyYWNlKG51bGwsIDEpOworICAgICAgICBwcmludEZpbGVJbmZvKGZpbGUuZ2V0UGFyZW50
RmlsZSgpLCAxLCAtMSk7IC8vIGRpc3BsYXkgcGFyZW50IHdpdGggaXRzIGNoaWxkcmVuCisgICAg
fQorICAgIFN5c3RlbS5vdXQucHJpbnRsbigpOworICAgIFN5c3RlbS5vdXQucHJpbnRsbigiCSEh
ISBFUlJPUjogIitmaWxlKyIgd2FzIG5ldmVyIGRlbGV0ZWQgZXZlbiBhZnRlciBoYXZpbmcgd2Fp
dGVkICIrREVMRVRFX01BWF9USU1FKyJtcyEhISIpOworICAgIFN5c3RlbS5vdXQucHJpbnRsbigp
OworICAgIHJldHVybiBmYWxzZTsKK30KK3B1YmxpYyBzdGF0aWMgdm9pZCB3cml0ZVRvRmlsZShT
dHJpbmcgY29udGVudHMsIFN0cmluZyBkZXN0aW5hdGlvbkZpbGVQYXRoKSB7CisgICAgRmlsZSBk
ZXN0RmlsZSA9IG5ldyBGaWxlKGRlc3RpbmF0aW9uRmlsZVBhdGgpOworICAgIEZpbGVPdXRwdXRT
dHJlYW0gb3V0cHV0ID0gbnVsbDsKKyAgICBQcmludFdyaXRlciB3cml0ZXIgPSBudWxsOworICAg
IHRyeSB7CisgICAgICAgIG91dHB1dCA9IG5ldyBGaWxlT3V0cHV0U3RyZWFtKGRlc3RGaWxlKTsK
KyAgICAgICAgd3JpdGVyID0gbmV3IFByaW50V3JpdGVyKG91dHB1dCk7CisgICAgICAgIHdyaXRl
ci5wcmludChjb250ZW50cyk7CisgICAgICAgIHdyaXRlci5mbHVzaCgpOworICAgIH0gY2F0Y2gg
KElPRXhjZXB0aW9uIGUpIHsKKyAgICAgICAgZS5wcmludFN0YWNrVHJhY2UoKTsKKyAgICAgICAg
cmV0dXJuOworICAgIH0gZmluYWxseSB7CisgICAgICAgIGlmICh3cml0ZXIgIT0gbnVsbCkgewor
ICAgICAgICAJd3JpdGVyLmNsb3NlKCk7CisgICAgICAgIH0KKyAgICB9Cit9CitwdWJsaWMgc3Rh
dGljIHZvaWQgemlwKEZpbGUgcm9vdERpciwgU3RyaW5nIHppcFBhdGgpIHRocm93cyBJT0V4Y2Vw
dGlvbiB7CisgICAgWmlwT3V0cHV0U3RyZWFtIHppcCA9IG51bGw7CisgICAgdHJ5IHsKKyAgICAg
ICAgRmlsZSB6aXBGaWxlID0gbmV3IEZpbGUoemlwUGF0aCk7CisgICAgICAgIGlmICh6aXBGaWxl
LmV4aXN0cygpKSB7CisgICAgICAgIAlpZiAoIWRlbGV0ZSh6aXBGaWxlKSkKKwkgICAgICAgIAl0
aHJvdyBuZXcgSU9FeGNlcHRpb24oIkNvdWxkIG5vdCBkZWxldGUgIiArIHppcFBhdGgpOworICAg
ICAgICAJIC8vIGVuc3VyZSB0aGUgbmV3IHppcCBmaWxlIGhhcyBhIGRpZmZlcmVudCB0aW1lc3Rh
bXAgdGhhbiB0aGUgcHJldmlvdXMgb25lCisgICAgICAgIAlpbnQgdGltZVRvV2FpdCA9IDEwMDA7
IC8vIHNvbWUgcGxhdGZvcm0gKGxpa2UgTGludXgpIGhhdmUgYSAxcyBncmFudWxhcml0eSkKKyAg
ICAgICAgICAgIHdhaXRBdExlYXN0KHRpbWVUb1dhaXQpOworICAgICAgICB9IGVsc2UgeworICAg
ICAgICAJemlwRmlsZS5nZXRQYXJlbnRGaWxlKCkubWtkaXJzKCk7CisgICAgICAgIH0KKyAgICAg
ICAgemlwID0gbmV3IFppcE91dHB1dFN0cmVhbShuZXcgRmlsZU91dHB1dFN0cmVhbSh6aXBGaWxl
KSk7CisgICAgICAgIHppcChyb290RGlyLCB6aXAsIHJvb3REaXIuZ2V0UGF0aCgpLmxlbmd0aCgp
KzEpOyAvLyAxIGZvciBsYXN0IHNsYXNoCisgICAgfSBmaW5hbGx5IHsKKyAgICAgICAgaWYgKHpp
cCAhPSBudWxsKSB7CisgICAgICAgICAgICB6aXAuY2xvc2UoKTsKKyAgICAgICAgfQorICAgIH0K
K30KK3ByaXZhdGUgc3RhdGljIHZvaWQgemlwKEZpbGUgZGlyLCBaaXBPdXRwdXRTdHJlYW0gemlw
LCBpbnQgcm9vdFBhdGhMZW5ndGgpIHRocm93cyBJT0V4Y2VwdGlvbiB7CisgICAgRmlsZVtdIGZp
bGVzID0gZGlyLmxpc3RGaWxlcygpOworICAgIGlmIChmaWxlcyAhPSBudWxsKSB7CisgICAgICAg
IGZvciAoaW50IGkgPSAwLCBsZW5ndGggPSBmaWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykg
eworICAgICAgICAgICAgRmlsZSBmaWxlID0gZmlsZXNbaV07CisgICAgICAgICAgICBpZiAoZmls
ZS5pc0ZpbGUoKSkgeworICAgICAgICAgICAgICAgIFN0cmluZyBwYXRoID0gZmlsZS5nZXRQYXRo
KCk7CisgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKHJvb3RQYXRoTGVuZ3Ro
KTsKKyAgICAgICAgICAgICAgICBaaXBFbnRyeSBlbnRyeSA9IG5ldyBaaXBFbnRyeShwYXRoLnJl
cGxhY2UoJ1xcJywgJy8nKSk7CisgICAgICAgICAgICAgICAgemlwLnB1dE5leHRFbnRyeShlbnRy
eSk7CisgICAgICAgICAgICAgICAgemlwLndyaXRlKG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5j
b21waWxlci51dGlsLlV0aWwuZ2V0RmlsZUJ5dGVDb250ZW50KGZpbGUpKTsKKyAgICAgICAgICAg
ICAgICB6aXAuY2xvc2VFbnRyeSgpOworICAgICAgICAgICAgfSBlbHNlIHsKKyAgICAgICAgICAg
ICAgICB6aXAoZmlsZSwgemlwLCByb290UGF0aExlbmd0aCk7CisgICAgICAgICAgICB9CisgICAg
ICAgIH0KKyAgICB9Cit9Cit9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvTUVUQS1J
TkYvTUFOSUZFU1QuTUYgYi9vcmcuZWNsaXBzZS5qZHQudWkvTUVUQS1JTkYvTUFOSUZFU1QuTUYK
aW5kZXggYTdkYTViNS4uYjVkMjcyNSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL01F
VEEtSU5GL01BTklGRVNULk1GCisrKyBiL29yZy5lY2xpcHNlLmpkdC51aS9NRVRBLUlORi9NQU5J
RkVTVC5NRgpAQCAtMiw3ICsyLDcgQEAKIEJ1bmRsZS1NYW5pZmVzdFZlcnNpb246IDIKIEJ1bmRs
ZS1OYW1lOiAlcGx1Z2luTmFtZQogQnVuZGxlLVN5bWJvbGljTmFtZTogb3JnLmVjbGlwc2UuamR0
LnVpOyBzaW5nbGV0b246PXRydWUKLUJ1bmRsZS1WZXJzaW9uOiAzLjEwLjEwMC5xdWFsaWZpZXIK
K0J1bmRsZS1WZXJzaW9uOiAzLjExLjAucXVhbGlmaWVyCiBCdW5kbGUtQWN0aXZhdG9yOiBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkuSmF2YVBsdWdpbgogQnVuZGxlLUFjdGl2YXRpb25Qb2xp
Y3k6IGxhenkKIEJ1bmRsZS1WZW5kb3I6ICVwcm92aWRlck5hbWUKZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZXh0L2ZpeC9FeHRlcm5hbE51bGxBbm5vYXRhdGlvbkNoYW5nZVByb3Bvc2Fscy5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b3JleHQvZml4L0V4dGVybmFsTnVsbEFubm9hdGF0aW9uQ2hhbmdlUHJvcG9zYWxzLmphdmEKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uY2NhYzZmYgotLS0gL2Rldi9udWxsCisr
KyBiL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZXh0L2ZpeC9FeHRlcm5hbE51bGxBbm5vYXRhdGlvbkNoYW5nZVByb3Bvc2Fscy5q
YXZhCkBAIC0wLDAgKzEsNTM5IEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29weXJp
Z2h0IChjKSAyMDE1IEdLIFNvZnR3YXJlIEFHIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJl
c2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBh
cmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBM
aWNlbnNlIHYxLjAKKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQg
aXMgYXZhaWxhYmxlIGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAu
aHRtbAorICoKKyAqIENvbnRyaWJ1dG9yczoKKyAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gSW5p
dGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KK3Bh
Y2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5maXg7CisKK2ltcG9ydCBzdGF0
aWMgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLk5PTk5V
TEw7CitpbXBvcnQgc3RhdGljIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxBbm5v
dGF0aW9uVXRpbC5OT19BTk5PVEFUSU9OOworaW1wb3J0IHN0YXRpYyBvcmcuZWNsaXBzZS5qZHQu
Y29yZS51dGlsLkV4dGVybmFsQW5ub3RhdGlvblV0aWwuTlVMTEFCTEU7CitpbXBvcnQgc3RhdGlj
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxBbm5vdGF0aW9uVXRpbC5hbm5vdGF0
ZU1ldGhvZFBhcmFtZXRlclR5cGU7CitpbXBvcnQgc3RhdGljIG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LnV0aWwuRXh0ZXJuYWxBbm5vdGF0aW9uVXRpbC5hbm5vdGF0ZU1ldGhvZFJldHVyblR5cGU7Citp
bXBvcnQgc3RhdGljIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuRXh0ZXJuYWxBbm5vdGF0aW9u
VXRpbC5leHRyYWN0R2VuZXJpY1NpZ25hdHVyZTsKK2ltcG9ydCBzdGF0aWMgb3JnLmVjbGlwc2Uu
amR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLmdldEFubm90YXRpb25GaWxlOwor
aW1wb3J0IHN0YXRpYyBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwudWkudGV4dC5zcGVsbGluZy5X
b3JkQ29ycmVjdGlvblByb3Bvc2FsLmdldEh0bWxSZXByZXNlbnRhdGlvbjsKKworaW1wb3J0IGph
dmEuaW8uSU9FeGNlcHRpb247CitpbXBvcnQgamF2YS5pby5VbnN1cHBvcnRlZEVuY29kaW5nRXhj
ZXB0aW9uOworaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CitpbXBvcnQgamF2YS51dGlsLkxp
c3Q7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZ3JhcGhpY3MuSW1hZ2U7CitpbXBvcnQgb3Jn
LmVjbGlwc2Uuc3d0LmdyYXBoaWNzLlBvaW50OworCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5y
dW50aW1lLkNvcmVFeGNlcHRpb247CitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQ
cm9ncmVzc01vbml0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLk51bGxQcm9n
cmVzc01vbml0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLlBhdGg7CisKK2lt
cG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JRmlsZTsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5jb3JlLnJlc291cmNlcy5JUHJvamVjdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291
cmNlcy5JV29ya3NwYWNlUm9vdDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuSURv
Y3VtZW50OworaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuY29udGVudGFzc2lzdC5JQ29u
dGV4dEluZm9ybWF0aW9uOworCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSUNsYXNzcGF0
aEF0dHJpYnV0ZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ2xhc3NwYXRoRW50cnk7
CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSUNvbXBpbGF0aW9uVW5pdDsKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS5JSmF2YUVsZW1lbnQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUuSUphdmFQcm9qZWN0OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLklQYWNrYWdl
RnJhZ21lbnRSb290OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLkphdmFDb3JlOworaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLkphdmFNb2RlbEV4Y2VwdGlvbjsKK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5kb20uQVNUTm9kZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29y
ZS5kb20uQVNUVmlzaXRvcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQXJyYXlU
eXBlOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5JTWV0aG9kQmluZGluZzsKK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uSVR5cGVCaW5kaW5nOworaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLmRvbS5NZXRob2REZWNsYXJhdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5kb20uUGFyYW1ldGVyaXplZFR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUuZG9tLlNpbXBsZVR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlNp
bmdsZVZhcmlhYmxlRGVjbGFyYXRpb247CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9t
LlN0cnVjdHVyYWxQcm9wZXJ0eURlc2NyaXB0b3I7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUuZG9tLlR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlR5cGVQYXJhbWV0
ZXI7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLldpbGRjYXJkVHlwZTsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkV4dGVybmFsQW5ub3RhdGlvblV0aWw7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5FeHRlcm5hbEFubm90YXRpb25VdGlsLk1lcmdl
U3RyYXRlZ3k7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LmRvbS5B
U1ROb2RlczsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LnV0aWwuSmF2
YU1vZGVsVXRpbDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZXh0LnV0aWwu
TWVzc2FnZXM7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkudGV4dC5qYXZhLklKYXZhQ29t
cGxldGlvblByb3Bvc2FsOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS50ZXh0LmphdmEuY29y
cmVjdGlvbi5JQ29tbWFuZEFjY2VzczsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5h
bC51aS5KYXZhUGx1Z2luOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZh
UGx1Z2luSW1hZ2VzOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS50ZXh0LmNv
cnJlY3Rpb24uRXh0ZXJuYWxOdWxsQW5ub3RhdGlvblF1aWNrQXNzaXN0UHJvY2Vzc29yOworaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS50ZXh0LmNvcnJlY3Rpb24uSVByb3Bvc2Fs
UmVsZXZhbmNlOworCisvKioKKyAqIFByb3Bvc2FscyBmb3IgbnVsbCBhbm5vdGF0aW9ucyB0aGF0
IG1vZGlmeSBleHRlcm5hbCBhbm5vdGF0aW9ucywgcmF0aGVyIHRoYW4gSmF2YSBzb3VyY2UgZmls
ZXMuCisgKiBAc2VlIDxhIGhyZWY9Imh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy80NTgyMDAiPltu
dWxsXSAiQW5ub3RhdGUiIHByb3Bvc2FscyBmb3IgYWRkaW5nIGV4dGVybmFsIG51bGwgYW5ub3Rh
dGlvbnMgdG8gbGlicmFyeSBjbGFzc2VzPC9hPgorICogQHNpbmNlIDMuMTEKKyAqLworcHVibGlj
IGNsYXNzIEV4dGVybmFsTnVsbEFubm9hdGF0aW9uQ2hhbmdlUHJvcG9zYWxzIHsKKworCXN0YXRp
YyBhYnN0cmFjdCBjbGFzcyBTaWduYXR1cmVBbm5vdGF0aW9uQ2hhbmdlUHJvcG9zYWwgaW1wbGVt
ZW50cyBJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbCwgSUNvbW1hbmRBY2Nlc3MgeworCisJCXByb3Rl
Y3RlZCBTdHJpbmcgZkxhYmVsOworCQkKKwkJcHJvdGVjdGVkIElDb21waWxhdGlvblVuaXQgZkNV
OyAvLyBjdSB3aGVyZSB0aGUgYXNzaXN0IHdhcyBpbnZva2VkCisJCXByb3RlY3RlZCBTdHJpbmcg
ZkFmZmVjdGVkVHlwZU5hbWU7CisJCXByb3RlY3RlZCBJRmlsZSBmQW5ub3RhdGlvbkZpbGU7CisJ
CXByb3RlY3RlZCBTdHJpbmcgZlNlbGVjdG9yOworCQlwcm90ZWN0ZWQgU3RyaW5nIGZTaWduYXR1
cmU7CisJCXByb3RlY3RlZCBTdHJpbmcgZkN1cnJlbnRBbm5vdGF0ZWQ7CisJCXByb3RlY3RlZCBT
dHJpbmcgZkFubm90YXRlZFNpZ25hdHVyZTsKKwkJcHJvdGVjdGVkIE1lcmdlU3RyYXRlZ3kgZk1l
cmdlU3RyYXRlZ3k7CisJCXByb3RlY3RlZCBTdHJpbmdbXSBmRHJ5UnVuOyAvLyByZXN1bHQgZnJv
bSBhIGRyeS1ydW4gc2lnbmF0dXJlIHVwZGF0ZTsgc3RydWN0dXJlOiB7IHByZWZpeCwgb2xkLXR5
cGUsIG5ldy10eXBlLCBwb3N0Zml4IH0KKworCisJCS8qIHJldHVybiB0cnVlIGlmIHRoZSBvcGVy
YXRpb24gaXMgYXZhaWxhYmxlLiAqLworCQlib29sZWFuIGluaXRpYWxpemVPcGVyYXRpb24oSUNv
bXBpbGF0aW9uVW5pdCBjdSwgSU1ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZywgU3RyaW5nIGFu
bm90YXRlZFNpZ25hdHVyZSwKKwkJCQlTdHJpbmcgbGFiZWwsIE1lcmdlU3RyYXRlZ3kgbWVyZ2VT
dHJhdGVneSkKKwkJeworCQkJSUphdmFQcm9qZWN0IHByb2plY3Q9IChJSmF2YVByb2plY3QpIGN1
LmdldEFuY2VzdG9yKElKYXZhRWxlbWVudC5KQVZBX1BST0pFQ1QpOworCQkJSUZpbGUgZmlsZT0g
bnVsbDsKKwkJCXRyeSB7CisJCQkJZmlsZT0gZ2V0QW5ub3RhdGlvbkZpbGUocHJvamVjdCwgbWV0
aG9kQmluZGluZy5nZXREZWNsYXJpbmdDbGFzcygpLCBuZXcgTnVsbFByb2dyZXNzTW9uaXRvcigp
KTsKKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24gZSkgeworCQkJCXJldHVybiBmYWxzZTsKKwkJ
CX0KKwkJCWlmIChmaWxlID09IG51bGwpCisJCQkJcmV0dXJuIGZhbHNlOworCisJCQlmQ1U9IGN1
OworCQkJZkFmZmVjdGVkVHlwZU5hbWU9IG1ldGhvZEJpbmRpbmcuZ2V0RGVjbGFyaW5nQ2xhc3Mo
KS5nZXRFcmFzdXJlKCkuZ2V0QmluYXJ5TmFtZSgpLnJlcGxhY2UoJy4nLCAnLycpOworCQkJZkFu
bm90YXRpb25GaWxlPSBmaWxlOworCQkJZlNlbGVjdG9yPSBtZXRob2RCaW5kaW5nLmdldE5hbWUo
KTsKKwkJCWZBbm5vdGF0ZWRTaWduYXR1cmU9IGFubm90YXRlZFNpZ25hdHVyZTsKKwkJCWZTaWdu
YXR1cmU9IGV4dHJhY3RHZW5lcmljU2lnbmF0dXJlKG1ldGhvZEJpbmRpbmcpOworCisJCQlmTGFi
ZWw9IGxhYmVsOworCQkJZk1lcmdlU3RyYXRlZ3k9IG1lcmdlU3RyYXRlZ3k7CisKKwkJCWZDdXJy
ZW50QW5ub3RhdGVkID0gRXh0ZXJuYWxBbm5vdGF0aW9uVXRpbC5nZXRBbm5vdGF0ZWRTaWduYXR1
cmUoZkFmZmVjdGVkVHlwZU5hbWUsIGZpbGUsIGZTZWxlY3RvciwgZlNpZ25hdHVyZSk7CisJCQlp
ZiAoZkN1cnJlbnRBbm5vdGF0ZWQgPT0gbnVsbCkKKwkJCQlmQ3VycmVudEFubm90YXRlZD0gZlNp
Z25hdHVyZTsKKwkJCWRyeVJ1bigpOworCQkJcmV0dXJuIGZEcnlSdW4gIT0gbnVsbCAmJiAhZkRy
eVJ1blsxXS5lcXVhbHMoZkRyeVJ1blsyXSk7CisJCX0KKworCQkvKioKKwkJICogUGVyZm9ybSBh
IGRyeS1ydW4gYW5ub3RhdGlvbiB1cGRhdGUsIHRvIGNoZWNrIGlmIHdlIGhhdmUgYW55IHVwZGF0
ZSwgaW5kZWVkLgorCQkgKiBXaGVuIHJldHVybiB0cnVlLCBmRHJ5UnVuIG11c3QgYmUgbm9ubnVs
bCBhbmQgdmFsaWQuCisJCSAqLworCQlwcm90ZWN0ZWQgYWJzdHJhY3Qgdm9pZCBkcnlSdW4oKTsK
KworCQlwdWJsaWMgUG9pbnQgZ2V0U2VsZWN0aW9uKElEb2N1bWVudCBkb2N1bWVudCkgeworCQkJ
cmV0dXJuIG51bGw7IC8vIG5vdGhpbmcgdG8gcmV2ZWFsIGluIHRoZSBjdXJyZW50IGVkaXRvci4K
KwkJfQorCisJCXB1YmxpYyBTdHJpbmcgZ2V0RGlzcGxheVN0cmluZygpIHsKKwkJCXJldHVybiBm
TGFiZWw7CisJCX0KKwkKKwkJcHVibGljIEltYWdlIGdldEltYWdlKCkgeworCQkJcmV0dXJuIEph
dmFQbHVnaW5JbWFnZXMuZ2V0KEphdmFQbHVnaW5JbWFnZXMuSU1HX09CSlNfQU5OT1RBVElPTik7
CisJCX0KKwkKKwkJcHVibGljIElDb250ZXh0SW5mb3JtYXRpb24gZ2V0Q29udGV4dEluZm9ybWF0
aW9uKCkgeworCQkJcmV0dXJuIG51bGw7CisJCX0KKworCQlwdWJsaWMgdm9pZCBhcHBseShJRG9j
dW1lbnQgZG9jdW1lbnQpIHsKKwkJCXRyeSB7CisJCQkJZG9Bbm5vdGF0ZU1lbWJlcihuZXcgTnVs
bFByb2dyZXNzTW9uaXRvcigpKTsKKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24gZSkgeworCQkJ
CUphdmFQbHVnaW4ubG9nKGUpOworCQkJfSBjYXRjaCAoSU9FeGNlcHRpb24gZSkgeworCQkJCUph
dmFQbHVnaW4ubG9nKGUpOworCQkJfQorCQl9CisJCisJCXB1YmxpYyBpbnQgZ2V0UmVsZXZhbmNl
KCkgeworCQkJcmV0dXJuIElQcm9wb3NhbFJlbGV2YW5jZS5DSEFOR0VfTUVUSE9EOworCQl9CisJ
CisJCXB1YmxpYyBTdHJpbmcgZ2V0Q29tbWFuZElkKCkgeworCQkJcmV0dXJuIEV4dGVybmFsTnVs
bEFubm90YXRpb25RdWlja0Fzc2lzdFByb2Nlc3Nvci5BTk5PVEFURV9NRU1CRVJfSUQ7CisJCX0K
KworCQlwdWJsaWMgU3RyaW5nIGdldEFkZGl0aW9uYWxQcm9wb3NhbEluZm8oKSB7CisJCQlTdHJp
bmdCdWZmZXIgYnVmZmVyPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCQlidWZmZXIuYXBwZW5kKCI8
ZGw+Iik7IC8vJE5PTi1OTFMtMSQKKwkJCWJ1ZmZlci5hcHBlbmQoIjxkdD4iKS5hcHBlbmQoZlNl
bGVjdG9yKS5hcHBlbmQoIjwvZHQ+Iik7IC8vJE5PTi1OTFMtMSQgLy8kTk9OLU5MUy0yJAorCQkJ
YnVmZmVyLmFwcGVuZCgiPGRkPiIpLmFwcGVuZChnZXRIdG1sUmVwcmVzZW50YXRpb24oZlNpZ25h
dHVyZSkpLmFwcGVuZCgiPC9kZD4iKTsgLy8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkCisJCQli
dWZmZXIuYXBwZW5kKCI8ZGQ+IikuYXBwZW5kKGdldEZ1bGxBbm5vdGF0ZWRTaWduYXR1cmVIVE1M
KCkpLmFwcGVuZCgiPC9kZD4iKTsgIC8vJE5PTi1OTFMtMSQgLy8kTk9OLU5MUy0yJAorCQkJYnVm
ZmVyLmFwcGVuZCgiPC9kbD4iKTsgLy8kTk9OLU5MUy0xJAorCQkJcmV0dXJuIGJ1ZmZlci50b1N0
cmluZygpOworCQl9CQorCisJCXByb3RlY3RlZCBTdHJpbmcgZ2V0RnVsbEFubm90YXRlZFNpZ25h
dHVyZUhUTUwoKSB7CisJCQlTdHJpbmdbXSBwYXJ0cz0gZkRyeVJ1bjsKKwkJCisJCQkvLyBzZWFy
Y2ggdGhlIGRpZmZlcmVuY2U6CisJCQlpbnQgcG9zPSAwOworCQkJd2hpbGUgKHBvcyA8IHBhcnRz
WzFdLmxlbmd0aCgpICYmIHBvcyA8IHBhcnRzWzJdLmxlbmd0aCgpKSB7CisJCQkJaWYgKHBhcnRz
WzFdLmNoYXJBdChwb3MpICE9IHBhcnRzWzJdLmNoYXJBdChwb3MpKQorCQkJCQlicmVhazsKKwkJ
CQlwb3MrKzsKKwkJCX0KKworCQkJLy8gcHJlZml4IHVwLXRvIHRoZSBkaWZmZXJlbmNlOgorCQkJ
U3RyaW5nQnVpbGRlciBidWY9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CisJCQlidWYuYXBwZW5kKGdl
dEh0bWxSZXByZXNlbnRhdGlvbihwYXJ0c1swXSkpOworCQkJYnVmLmFwcGVuZChnZXRIdG1sUmVw
cmVzZW50YXRpb24ocGFydHNbMl0uc3Vic3RyaW5nKDAsIHBvcykpKTsKKwkJCQorCQkJLy8gaGln
aGxpZ2h0IHRoZSBkaWZmZXJlbmNlOgorCQkJc3dpdGNoIChwYXJ0c1syXS5jaGFyQXQocG9zKSkg
eworCQkJCWNhc2UgTlVMTEFCTEU6CisJCQkJY2FzZSBOT05OVUxMOiAKKwkJCQkJLy8gYWRkZWQg
YW5ub3RhdGlvbiBpbiBwYXJ0c1syXTogYm9sZDoKKwkJCQkJYnVmLmFwcGVuZCgiPGI+IikuYXBw
ZW5kKHBhcnRzWzJdLmNoYXJBdChwb3MpKS5hcHBlbmQoIjwvYj4iKTsgLy8kTk9OLU5MUy0xJCAv
LyROT04tTkxTLTIkCisJCQkJCWJyZWFrOworCQkJCWRlZmF1bHQ6CisJCQkJCS8vIHJlbW92ZWQg
YW5ub3RhdGlvbiBpbiBwYXJ0c1sxXTogc3RyaWtlOgorCQkJCQlidWYuYXBwZW5kKCI8ZGVsPiIp
LmFwcGVuZChwYXJ0c1sxXS5jaGFyQXQocG9zKSkuYXBwZW5kKCI8L2RlbD4iKTsgLy8kTk9OLU5M
Uy0xJCAvLyROT04tTkxTLTIkCisJCQkJCXBvcy0tOyAvLyBjaGFyIGluIHBhcnRzWzJdIGlzIG5v
dCB5ZXQgY29uc3VtZWQKKwkJCX0KKwkJCQorCQkJLy8gZXZlcnl0aGluZyBlbHNlOgorCQkJYnVm
LmFwcGVuZChnZXRIdG1sUmVwcmVzZW50YXRpb24ocGFydHNbMl0uc3Vic3RyaW5nKHBvcysxKSkp
OworCQkJYnVmLmFwcGVuZChnZXRIdG1sUmVwcmVzZW50YXRpb24ocGFydHNbM10pKTsKKwkJCXJl
dHVybiBidWYudG9TdHJpbmcoKTsKKwkJfQorCisJCXByb3RlY3RlZCBhYnN0cmFjdCB2b2lkIGRv
QW5ub3RhdGVNZW1iZXIoSVByb2dyZXNzTW9uaXRvciBtb25pdG9yKSB0aHJvd3MgQ29yZUV4Y2Vw
dGlvbiwgVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiwgSU9FeGNlcHRpb247CisJfQorCisJ
c3RhdGljIGNsYXNzIFJldHVybkFubm90YXRpb25SZXdyaXRlUHJvcG9zYWwgZXh0ZW5kcyBTaWdu
YXR1cmVBbm5vdGF0aW9uQ2hhbmdlUHJvcG9zYWwgeworCisJCUBPdmVycmlkZQorCQlwcm90ZWN0
ZWQgdm9pZCBkcnlSdW4oKSB7CisJCQlmRHJ5UnVuPSBFeHRlcm5hbEFubm90YXRpb25VdGlsLmFu
bm90YXRlUmV0dXJuVHlwZShmQ3VycmVudEFubm90YXRlZCwgZkFubm90YXRlZFNpZ25hdHVyZSwg
Zk1lcmdlU3RyYXRlZ3kpOwkJCQorCQl9CisKKwkJQE92ZXJyaWRlCisJCXByb3RlY3RlZCB2b2lk
IGRvQW5ub3RhdGVNZW1iZXIoSVByb2dyZXNzTW9uaXRvciBtb25pdG9yKSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiwgSU9FeGNlcHRpb24geworCQkJYW5ub3RhdGVNZXRob2RSZXR1cm5UeXBlKGZBZmZl
Y3RlZFR5cGVOYW1lLCBmQW5ub3RhdGlvbkZpbGUsIGZTZWxlY3RvciwgZlNpZ25hdHVyZSwgZkFu
bm90YXRlZFNpZ25hdHVyZSwgZk1lcmdlU3RyYXRlZ3ksIG1vbml0b3IpOworCQl9CisJfQorCQor
CXN0YXRpYyBjbGFzcyBQYXJhbWV0ZXJBbm5vdGF0aW9uUmV3cml0ZVByb3Bvc2FsIGV4dGVuZHMg
U2lnbmF0dXJlQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2FsIHsKKworCQlpbnQgZlBhcmFtSWR4Owor
CQkKKwkJUGFyYW1ldGVyQW5ub3RhdGlvblJld3JpdGVQcm9wb3NhbChpbnQgcGFyYW1JZHgpIHsK
KwkJCWZQYXJhbUlkeD0gcGFyYW1JZHg7CisJCX0KKworCQlAT3ZlcnJpZGUKKwkJcHJvdGVjdGVk
IHZvaWQgZHJ5UnVuKCkgeworCQkJZkRyeVJ1bj0gRXh0ZXJuYWxBbm5vdGF0aW9uVXRpbC5hbm5v
dGF0ZVBhcmFtZXRlclR5cGUoZkN1cnJlbnRBbm5vdGF0ZWQsIGZBbm5vdGF0ZWRTaWduYXR1cmUs
IGZQYXJhbUlkeCwgZk1lcmdlU3RyYXRlZ3kpOwkJCQorCQl9CisKKwkJQE92ZXJyaWRlCisJCXBy
b3RlY3RlZCB2b2lkIGRvQW5ub3RhdGVNZW1iZXIoSVByb2dyZXNzTW9uaXRvciBtb25pdG9yKSB0
aHJvd3MgQ29yZUV4Y2VwdGlvbiwgSU9FeGNlcHRpb24geworCQkJYW5ub3RhdGVNZXRob2RQYXJh
bWV0ZXJUeXBlKGZBZmZlY3RlZFR5cGVOYW1lLCBmQW5ub3RhdGlvbkZpbGUsIGZTZWxlY3Rvciwg
ZlNpZ25hdHVyZSwgZkFubm90YXRlZFNpZ25hdHVyZSwgZlBhcmFtSWR4LCBmTWVyZ2VTdHJhdGVn
eSwgbW9uaXRvcik7CisJCX0KKwl9CisJCisJLyogUXVpY2sgYXNzaXN0IG9uIGNsYXNzIGZpbGUs
IHByb3Bvc2UgY2hhbmdlcyBhbiBhbnkgdHlwZSBkZXRhaWwuICovCisJcHVibGljIHN0YXRpYyB2
b2lkIGNvbGxlY3RFeHRlcm5hbEFubm90YXRpb25Qcm9wb3NhbHMoSUNvbXBpbGF0aW9uVW5pdCBj
dSwgQVNUTm9kZSBjb3ZlcmluZ05vZGUsIEFycmF5TGlzdDxJSmF2YUNvbXBsZXRpb25Qcm9wb3Nh
bD4gcmVzdWx0aW5nQ29sbGVjdGlvbikgeworCQkKKwkJSUphdmFQcm9qZWN0IGphdmFQcm9qZWN0
PSBjdS5nZXRKYXZhUHJvamVjdCgpOworCQlpZiAoSmF2YUNvcmUuRElTQUJMRUQuZXF1YWxzKGph
dmFQcm9qZWN0LmdldE9wdGlvbihKYXZhQ29yZS5DT01QSUxFUl9BTk5PVEFUSU9OX05VTExfQU5B
TFlTSVMsIHRydWUpKSkKKwkJCXJldHVybjsKKwkJCisJCWlmICghaGFzQW5ub3RhdGlvblBhdGhJ
bldvcmtzcGFjZShqYXZhUHJvamVjdCwgY3UpKSAvLyByZWZ1c2UgdG8gdXBkYXRlIGZpbGVzIG91
dHNpZGUgdGhlIHdvcmtzcGFjZQorCQkJcmV0dXJuOworCQkKKwkJTWV0aG9kRGVjbGFyYXRpb24g
bWV0aG9kPSAoTWV0aG9kRGVjbGFyYXRpb24pIEFTVE5vZGVzLmdldFBhcmVudChjb3ZlcmluZ05v
ZGUsIE1ldGhvZERlY2xhcmF0aW9uLmNsYXNzKTsKKwkJaWYgKG1ldGhvZCA9PSBudWxsKQorCQkJ
cmV0dXJuOyAvLyBUT0RPIHN1cHBvcnQgZmllbGRzCisJCisJCUFTVE5vZGUgaW5uZXI9IG51bGw7
IC8vIHRoZSBpbm5lcm1vc3QgdHlwZSBvciB0eXBlIHBhcmFtZXRlciBub2RlCisJCXdoaWxlICh0
cnVlKSB7CisJCQlpZiAoY292ZXJpbmdOb2RlIGluc3RhbmNlb2YgVHlwZSB8fCBjb3ZlcmluZ05v
ZGUgaW5zdGFuY2VvZiBUeXBlUGFyYW1ldGVyKSB7CisJCQkJaW5uZXI9IGNvdmVyaW5nTm9kZTsK
KwkJCQlicmVhazsKKwkJCX0KKwkJCWNvdmVyaW5nTm9kZT0gY292ZXJpbmdOb2RlLmdldFBhcmVu
dCgpOworCQkJaWYgKGNvdmVyaW5nTm9kZSA9PSBudWxsKQorCQkJCXJldHVybjsKKwkJfQorCQkv
LyBwcmVwYXJlIHRocmVlIHJlbmRlcmVycyBmb3IgdGhyZWUgcHJvcG9zYWxzOgorCQlUeXBlUmVu
ZGVyZXIgcmVuZGVyZXJOb25OdWxsPSBuZXcgVHlwZVJlbmRlcmVyKGlubmVyLCBOT05OVUxMKTsK
KwkJVHlwZVJlbmRlcmVyIHJlbmRlcmVyTnVsbGFibGU9IG5ldyBUeXBlUmVuZGVyZXIoaW5uZXIs
IE5VTExBQkxFKTsKKwkJVHlwZVJlbmRlcmVyIHJlbmRlcmVyUmVtb3ZlPSBuZXcgVHlwZVJlbmRl
cmVyKGlubmVyLCBOT19BTk5PVEFUSU9OKTsKKwkJQVNUTm9kZSBvdXRlcj0gaW5uZXI7IC8vIHdp
bGwgYmVjb21lIHRoZSBvdXRlcm1vc3QgdHlwZSBvciB0eXBlIHBhcmFtZXRlciBub2RlCisJCXsK
KwkJCUFTVE5vZGUgbmV4dDsKKwkJCXdoaWxlICgoKG5leHQ9IG91dGVyLmdldFBhcmVudCgpKSBp
bnN0YW5jZW9mIFR5cGUpIHx8IChuZXh0IGluc3RhbmNlb2YgVHlwZVBhcmFtZXRlcikpCisJCQkJ
b3V0ZXI9IG5leHQ7CisJCX0KKwkJYm9vbGVhbiB1c2VKYXZhOD0gSmF2YU1vZGVsVXRpbC5pczE4
T3JIaWdoZXIoamF2YVByb2plY3QuZ2V0T3B0aW9uKEphdmFDb3JlLkNPTVBJTEVSX1NPVVJDRSwg
dHJ1ZSkpOworCQlpZiAoIXVzZUphdmE4ICYmIG91dGVyICE9IGlubmVyKSB7CisJCQlyZXR1cm47
IC8vIGNhbm5vdCBvbmx5IGFubm90YXRlIHRoZSB0b3AgdHlwZSAobm90IHR5cGUgcGFyYW1ldGVy
KSBiZWxvdyAxLjgKKwkJfQorCQlpZiAob3V0ZXIgaW5zdGFuY2VvZiBUeXBlKSB7CisJCQlJVHlw
ZUJpbmRpbmcgdHlwZUJpbmRpbmc9ICgoVHlwZSkgb3V0ZXIpLnJlc29sdmVCaW5kaW5nKCk7CisJ
CQlpZiAodHlwZUJpbmRpbmcgIT0gbnVsbCAmJiB0eXBlQmluZGluZy5pc1ByaW1pdGl2ZSgpKQor
CQkJCXJldHVybjsKKwkJCW91dGVyLmFjY2VwdChyZW5kZXJlck5vbk51bGwpOworCQkJb3V0ZXIu
YWNjZXB0KHJlbmRlcmVyTnVsbGFibGUpOworCQkJb3V0ZXIuYWNjZXB0KHJlbmRlcmVyUmVtb3Zl
KTsKKwkJfSBlbHNlIHsKKwkJCXJlbmRlcmVyTm9uTnVsbC52aXNpdFR5cGVQYXJhbWV0ZXJzKChM
aXN0PD8+KSBvdXRlci5nZXRQYXJlbnQoKS5nZXRTdHJ1Y3R1cmFsUHJvcGVydHkob3V0ZXIuZ2V0
TG9jYXRpb25JblBhcmVudCgpKSk7CisJCQlyZW5kZXJlck51bGxhYmxlLnZpc2l0VHlwZVBhcmFt
ZXRlcnMoKExpc3Q8Pz4pIG91dGVyLmdldFBhcmVudCgpLmdldFN0cnVjdHVyYWxQcm9wZXJ0eShv
dXRlci5nZXRMb2NhdGlvbkluUGFyZW50KCkpKTsKKwkJCXJlbmRlcmVyUmVtb3ZlLnZpc2l0VHlw
ZVBhcmFtZXRlcnMoKExpc3Q8Pz4pIG91dGVyLmdldFBhcmVudCgpLmdldFN0cnVjdHVyYWxQcm9w
ZXJ0eShvdXRlci5nZXRMb2NhdGlvbkluUGFyZW50KCkpKTsKKwkJfQorCQorCQlTdHJ1Y3R1cmFs
UHJvcGVydHlEZXNjcmlwdG9yIGxvY2F0aW9uSW5QYXJlbnQ9IG91dGVyLmdldExvY2F0aW9uSW5Q
YXJlbnQoKTsKKwkJUHJvcG9zYWxDcmVhdG9yIGNyZWF0b3I9IG51bGw7CisJCWlmIChsb2NhdGlv
bkluUGFyZW50ID09IE1ldGhvZERlY2xhcmF0aW9uLlJFVFVSTl9UWVBFMl9QUk9QRVJUWSkgewor
CQkJY3JlYXRvcj0gbmV3IFJldHVyblByb3Bvc2FsQ3JlYXRvcihjdSwgbWV0aG9kLnJlc29sdmVC
aW5kaW5nKCkpOworCQl9IGVsc2UgaWYgKGxvY2F0aW9uSW5QYXJlbnQgPT0gU2luZ2xlVmFyaWFi
bGVEZWNsYXJhdGlvbi5UWVBFX1BST1BFUlRZKSB7CisJCQlBU1ROb2RlIHBhcmFtID0gb3V0ZXIu
Z2V0UGFyZW50KCk7CisJCQlpZiAocGFyYW0uZ2V0TG9jYXRpb25JblBhcmVudCgpID09IE1ldGhv
ZERlY2xhcmF0aW9uLlBBUkFNRVRFUlNfUFJPUEVSVFkpIHsKKwkJCQlpbnQgcGFyYW1JZHggPSBt
ZXRob2QucGFyYW1ldGVycygpLmluZGV4T2YocGFyYW0pOworCQkJCWlmIChwYXJhbUlkeCAhPSAt
MSkgeworCQkJCQljcmVhdG9yPSBuZXcgUGFyYW1ldGVyUHJvcG9zYWxDcmVhdG9yKGN1LCBtZXRo
b2QucmVzb2x2ZUJpbmRpbmcoKSwgcGFyYW1JZHgpOworCQkJCX0KKwkJCX0KKwkJfQorCQlpZiAo
Y3JlYXRvciAhPSBudWxsKSB7CisJCQljcmVhdGVQcm9wb3NhbHNGb3JUeXBlKGN1LCBpbm5lciwg
cmVuZGVyZXJOb25OdWxsLCByZW5kZXJlck51bGxhYmxlLCByZW5kZXJlclJlbW92ZSwgY3JlYXRv
ciwgcmVzdWx0aW5nQ29sbGVjdGlvbik7CisJCX0KKwl9CisKKwlzdGF0aWMgYm9vbGVhbiBoYXNB
bm5vdGF0aW9uUGF0aEluV29ya3NwYWNlKElKYXZhUHJvamVjdCBqYXZhUHJvamVjdCwgSUNvbXBp
bGF0aW9uVW5pdCBjdSkgeworCQlJUGFja2FnZUZyYWdtZW50Um9vdCByb290PSAoSVBhY2thZ2VG
cmFnbWVudFJvb3QpIGN1LmdldEFuY2VzdG9yKElKYXZhRWxlbWVudC5QQUNLQUdFX0ZSQUdNRU5U
X1JPT1QpOworCQlpZiAocm9vdCAhPSBudWxsKSB7CisJCQl0cnkgeworCQkJCUlDbGFzc3BhdGhF
bnRyeSByZXNvbHZlZENsYXNzcGF0aEVudHJ5PSByb290LmdldFJlc29sdmVkQ2xhc3NwYXRoRW50
cnkoKTsKKwkJCQlmb3IgKElDbGFzc3BhdGhBdHRyaWJ1dGUgY3BhIDogcmVzb2x2ZWRDbGFzc3Bh
dGhFbnRyeS5nZXRFeHRyYUF0dHJpYnV0ZXMoKSkgeworCQkJCQlpZiAoSUNsYXNzcGF0aEF0dHJp
YnV0ZS5FWFRFUk5BTF9BTk5PVEFUSU9OX1BBVEguZXF1YWxzKGNwYS5nZXROYW1lKCkpKSB7CisJ
CQkJCQlQYXRoIGFubm90YXRpb25QYXRoPSBuZXcgUGF0aChjcGEuZ2V0VmFsdWUoKSk7CisJCQkJ
CQlJUHJvamVjdCBwcm9qZWN0ID0gamF2YVByb2plY3QuZ2V0UHJvamVjdCgpOworCQkJCQkJaWYg
KHByb2plY3QuZXhpc3RzKGFubm90YXRpb25QYXRoKSkKKwkJCQkJCQlyZXR1cm4gdHJ1ZTsKKwkJ
CQkJCUlXb3Jrc3BhY2VSb290IHdzUm9vdCA9IHByb2plY3QuZ2V0V29ya3NwYWNlKCkuZ2V0Um9v
dCgpOworCQkJCQkJcmV0dXJuIHdzUm9vdC5leGlzdHMoYW5ub3RhdGlvblBhdGgpOworCQkJCQl9
CisJCQkJfQorCQkJfSBjYXRjaCAoSmF2YU1vZGVsRXhjZXB0aW9uIGptZSkgeworCQkJCXJldHVy
biBmYWxzZTsKKwkJCX0KKwkJfQorCQlyZXR1cm4gZmFsc2U7CisJfQorCisJcHJpdmF0ZSBzdGF0
aWMgYWJzdHJhY3QgY2xhc3MgUHJvcG9zYWxDcmVhdG9yIHsKKwkJSUNvbXBpbGF0aW9uVW5pdCBm
Q1U7CisJCUlNZXRob2RCaW5kaW5nIGZNZXRob2RCaW5kaW5nOworCQlNZXJnZVN0cmF0ZWd5IGZN
ZXJnZVN0cmF0ZWd5PSBNZXJnZVN0cmF0ZWd5Lk9WRVJXUklURV9BTk5PVEFUSU9OUzsKKworCQlQ
cm9wb3NhbENyZWF0b3IoSUNvbXBpbGF0aW9uVW5pdCBjdSwgSU1ldGhvZEJpbmRpbmcgbWV0aG9k
QmluZGluZykgeworCQkJZkNVPSBjdTsKKwkJCWZNZXRob2RCaW5kaW5nPSBtZXRob2RCaW5kaW5n
OworCQl9CisJCWFic3RyYWN0IFNpZ25hdHVyZUFubm90YXRpb25DaGFuZ2VQcm9wb3NhbCBjcmVh
dGUoU3RyaW5nIGFubm90YXRlZFNpZ25hdHVyZSwgU3RyaW5nIGxhYmVsKTsKKwl9CisJcHJpdmF0
ZSBzdGF0aWMgY2xhc3MgUmV0dXJuUHJvcG9zYWxDcmVhdG9yIGV4dGVuZHMgUHJvcG9zYWxDcmVh
dG9yIHsKKwkJUmV0dXJuUHJvcG9zYWxDcmVhdG9yKElDb21waWxhdGlvblVuaXQgY3UsIElNZXRo
b2RCaW5kaW5nIG1ldGhvZEJpbmRpbmcpIHsKKwkJCXN1cGVyKGN1LCBtZXRob2RCaW5kaW5nKTsK
KwkJfQorCQlAT3ZlcnJpZGUKKwkJU2lnbmF0dXJlQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2FsIGNy
ZWF0ZShTdHJpbmcgYW5ub3RhdGVkU2lnbmF0dXJlLCBTdHJpbmcgbGFiZWwpIHsKKwkJCVJldHVy
bkFubm90YXRpb25SZXdyaXRlUHJvcG9zYWwgb3BlcmF0aW9uPSBuZXcgUmV0dXJuQW5ub3RhdGlv
blJld3JpdGVQcm9wb3NhbCgpOworCQkJaWYgKCFvcGVyYXRpb24uaW5pdGlhbGl6ZU9wZXJhdGlv
bihmQ1UsIGZNZXRob2RCaW5kaW5nLCBhbm5vdGF0ZWRTaWduYXR1cmUsIGxhYmVsLCBmTWVyZ2VT
dHJhdGVneSkpCisJCQkJcmV0dXJuIG51bGw7CisJCQlyZXR1cm4gb3BlcmF0aW9uOworCQl9CisJ
fQorCXByaXZhdGUgc3RhdGljIGNsYXNzIFBhcmFtZXRlclByb3Bvc2FsQ3JlYXRvciBleHRlbmRz
IFByb3Bvc2FsQ3JlYXRvciB7CisJCWludCBmUGFyYW1JZHg7CisJCVBhcmFtZXRlclByb3Bvc2Fs
Q3JlYXRvcihJQ29tcGlsYXRpb25Vbml0IGN1LCBJTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5n
LCBpbnQgcGFyYW1JZHgpIHsKKwkJCXN1cGVyKGN1LCBtZXRob2RCaW5kaW5nKTsKKwkJCWZQYXJh
bUlkeD0gcGFyYW1JZHg7CisJCX0KKwkJQE92ZXJyaWRlCisJCVNpZ25hdHVyZUFubm90YXRpb25D
aGFuZ2VQcm9wb3NhbCBjcmVhdGUoU3RyaW5nIGFubm90YXRlZFNpZ25hdHVyZSwgU3RyaW5nIGxh
YmVsKSB7CisJCQlQYXJhbWV0ZXJBbm5vdGF0aW9uUmV3cml0ZVByb3Bvc2FsIG9wZXJhdGlvbj0g
bmV3IFBhcmFtZXRlckFubm90YXRpb25SZXdyaXRlUHJvcG9zYWwoZlBhcmFtSWR4KTsKKwkJCWlm
ICghb3BlcmF0aW9uLmluaXRpYWxpemVPcGVyYXRpb24oZkNVLCBmTWV0aG9kQmluZGluZywgYW5u
b3RhdGVkU2lnbmF0dXJlLCBsYWJlbCwgZk1lcmdlU3RyYXRlZ3kpKQorCQkJCXJldHVybiBudWxs
OworCQkJcmV0dXJuIG9wZXJhdGlvbjsKKwkJfQorCX0KKworCS8qIENyZWF0ZSBvbmUgcHJvcG9z
YWwgZnJvbSBlYWNoIG9mIHRoZSB0aHJlZSBnaXZlbiByZW5kZXJlcnMuICovCisJc3RhdGljIHZv
aWQgY3JlYXRlUHJvcG9zYWxzRm9yVHlwZShJQ29tcGlsYXRpb25Vbml0IGN1LCBBU1ROb2RlIHR5
cGUsCisJCQlUeXBlUmVuZGVyZXIgcmVuZGVyZXJOb25OdWxsLCBUeXBlUmVuZGVyZXIgcmVuZGVy
ZXJOdWxsYWJsZSwgVHlwZVJlbmRlcmVyIHJlbmRlcmVyUmVtb3ZlLAorCQkJUHJvcG9zYWxDcmVh
dG9yIGNyZWF0b3IsIEFycmF5TGlzdDxJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbD4gcmVzdWx0aW5n
Q29sbGVjdGlvbikKKwl7CisJCVNpZ25hdHVyZUFubm90YXRpb25DaGFuZ2VQcm9wb3NhbCBvcGVy
YXRpb247CisJCVN0cmluZyBsYWJlbDsKKwkJLy8gcHJvcG9zZSBhZGRpbmcgQE5vbk51bGw6CisJ
CWxhYmVsPSBnZXRBZGRBbm5vdGF0aW9uTGFiZWwoTnVsbEFubm90YXRpb25zRml4LmdldE5vbk51
bGxBbm5vdGF0aW9uTmFtZShjdSwgdHJ1ZSksIHR5cGUpOworCQlvcGVyYXRpb249IGNyZWF0b3Iu
Y3JlYXRlKHJlbmRlcmVyTm9uTnVsbC5nZXRSZXN1bHQoKSwgbGFiZWwpOworCQlpZiAob3BlcmF0
aW9uICE9IG51bGwpCisJCQlyZXN1bHRpbmdDb2xsZWN0aW9uLmFkZChvcGVyYXRpb24pOworCisJ
CS8vIHByb3Bvc2UgYWRkaW5nIEBOdWxsYWJsZToKKwkJbGFiZWw9IGdldEFkZEFubm90YXRpb25M
YWJlbChOdWxsQW5ub3RhdGlvbnNGaXguZ2V0TnVsbGFibGVBbm5vdGF0aW9uTmFtZShjdSwgdHJ1
ZSksIHR5cGUpOworCQlvcGVyYXRpb249IGNyZWF0b3IuY3JlYXRlKHJlbmRlcmVyTnVsbGFibGUu
Z2V0UmVzdWx0KCksIGxhYmVsKTsKKwkJaWYgKG9wZXJhdGlvbiAhPSBudWxsKQorCQkJcmVzdWx0
aW5nQ29sbGVjdGlvbi5hZGQob3BlcmF0aW9uKTsKKworCQkvLyBwcm9wb3NlIHJlbW92aW5nIGFu
bm90YXRpb246CisJCWxhYmVsPSBNZXNzYWdlcy5mb3JtYXQoRml4TWVzc2FnZXMuRXh0ZXJuYWxO
dWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19yZW1vdmVfbnVsbG5lc3NfYW5ub3RhdGlvbiwK
KwkJCQkJbmV3IFN0cmluZ1tdIHsgdHlwZS50b1N0cmluZygpIH0pOworCQlvcGVyYXRpb249IGNy
ZWF0b3IuY3JlYXRlKHJlbmRlcmVyUmVtb3ZlLmdldFJlc3VsdCgpLCBsYWJlbCk7CisJCWlmIChv
cGVyYXRpb24gIT0gbnVsbCkKKwkJCXJlc3VsdGluZ0NvbGxlY3Rpb24uYWRkKG9wZXJhdGlvbik7
CisJfQorCQorCXN0YXRpYyBTdHJpbmcgZ2V0QWRkQW5ub3RhdGlvbkxhYmVsKFN0cmluZyBhbm5v
dGF0aW9uTmFtZSwgQVNUTm9kZSB0eXBlKSB7CisJCWlmICh0eXBlLmdldE5vZGVUeXBlKCkgPT0g
QVNUTm9kZS5BUlJBWV9UWVBFKSB7CisJCQkvLyBuZWVkIHRvIGFzc2VtYmxlIHNwZWNpYWwgZm9y
bWF0IHdpdGggYW5ub3RhdGlvbiBiZXR3ZWVuIHR5cGUgbmFtZSBhbmQgZGltZW5zaW9uczoKKwkJ
CUFycmF5VHlwZSBhcnJheVR5cGU9IChBcnJheVR5cGUpIHR5cGU7CisJCQlTdHJpbmdCdWlsZGVy
IGRpbXM9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CisJCQlmb3IgKGludCBpPSAwOyBpIDwgYXJyYXlU
eXBlLmdldERpbWVuc2lvbnMoKTsgaSsrKQorCQkJCWRpbXMuYXBwZW5kKCJbXSIpOyAvLyROT04t
TkxTLTEkCisJCQlyZXR1cm4gTWVzc2FnZXMuZm9ybWF0KEZpeE1lc3NhZ2VzLkV4dGVybmFsTnVs
bEFubm90YXRpb25DaGFuZ2VQcm9wb3NhbHNfYWRkX251bGxuZXNzX2FycmF5X2Fubm90YXRpb24s
CisJCQkJCW5ldyBTdHJpbmdbXSB7IGFycmF5VHlwZS5nZXRFbGVtZW50VHlwZSgpLnRvU3RyaW5n
KCksIGFubm90YXRpb25OYW1lLCBkaW1zLnRvU3RyaW5nKCkgfSk7CisJCX0KKwkJcmV0dXJuIE1l
c3NhZ2VzLmZvcm1hdChGaXhNZXNzYWdlcy5FeHRlcm5hbE51bGxBbm5vdGF0aW9uQ2hhbmdlUHJv
cG9zYWxzX2FkZF9udWxsbmVzc19hbm5vdGF0aW9uLAorCQkJCQluZXcgU3RyaW5nW10geyBhbm5v
dGF0aW9uTmFtZSwgdHlwZS50b1N0cmluZygpIH0pOworCX0KKworCS8qKgorCSAqIEEgdmlzaXRv
ciB0aGF0IHJlbmRlcnMgYW4gQVNUIHNuaXBwZXQgcmVwcmVzZW50aW5nIGEgdHlwZSBvciB0eXBl
IHBhcmFtZXRlci4KKwkgKiBGb3IgcmVuZGVyaW5nIHRoZSBFY2xpcHNlIEV4dGVybmFsIEFubm90
YXRpb24gZm9ybWF0IGlzIHVzZWQsIGkuZS4sIGNsYXNzIGZpbGUKKwkgKiBzaWduYXR1cmVzIHdp
dGggYWRkaXRpb25zIGZvciBudWxsIGFubm90YXRpb25zLgorCSAqIDxwPgorCSAqIEluIHBhcnRp
Y3VsYXIgYSBnaXZlbiBudWxsIGFubm90YXRpb24gaXMgaW5zZXJ0ZWQgZm9yIHRoZSBnaXZlbiBm
b2N1c1R5cGUuCisJICogPC9wPgorCSAqLworCXN0YXRpYyBjbGFzcyBUeXBlUmVuZGVyZXIgZXh0
ZW5kcyBBU1RWaXNpdG9yIHsKKwkJCisJCVN0cmluZ0J1ZmZlciBmQnVmZmVyOworCQlBU1ROb2Rl
IGZGb2N1c1R5cGU7IC8vIFR5cGUgb3IgVHlwZVBhcmFtZXRlcgorCQljaGFyIGZBbm5vdGF0aW9u
OworCQorCQlwdWJsaWMgVHlwZVJlbmRlcmVyKEFTVE5vZGUgZm9jdXNUeXBlLCBjaGFyIGFubm90
YXRpb24pIHsKKwkJCWZCdWZmZXI9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJCWZGb2N1c1R5cGU9
IGZvY3VzVHlwZTsKKwkJCWZBbm5vdGF0aW9uPSBhbm5vdGF0aW9uOworCQl9CisJCXB1YmxpYyBT
dHJpbmcgZ2V0UmVzdWx0KCkgeworCQkJcmV0dXJuIGZCdWZmZXIudG9TdHJpbmcoKTsKKwkJfQor
CQkvKiBSZW5kZXJzIGEgdHlwZSBwYXJhbWV0ZXIgbGlzdCBpbiBhbmdsZSBicmFja2V0cy4gKi8K
KwkJcHVibGljIHZvaWQgdmlzaXRUeXBlUGFyYW1ldGVycyhAU3VwcHJlc3NXYXJuaW5ncygicmF3
dHlwZXMiKSBMaXN0IHBhcmFtZXRlcnMpIHsKKwkJCWZCdWZmZXIuYXBwZW5kKCc8Jyk7CisJCQlm
b3IgKE9iamVjdCBwIDogcGFyYW1ldGVycykKKwkJCQkoKFR5cGVQYXJhbWV0ZXIpIHApLmFjY2Vw
dCh0aGlzKTsKKwkJCWZCdWZmZXIuYXBwZW5kKCc+Jyk7CisJCX0KKwkJQE92ZXJyaWRlCisJCXB1
YmxpYyBib29sZWFuIHZpc2l0KFBhcmFtZXRlcml6ZWRUeXBlIHR5cGUpIHsKKwkJCWZCdWZmZXIu
YXBwZW5kKCdMJyk7CisJCQlpZiAodHlwZSA9PSBmRm9jdXNUeXBlIHx8IHR5cGUuZ2V0VHlwZSgp
ID09IGZGb2N1c1R5cGUpCisJCQkJZkJ1ZmZlci5hcHBlbmQoZkFubm90YXRpb24pOworCQkJZkJ1
ZmZlci5hcHBlbmQoYmluYXJ5TmFtZSh0eXBlLnJlc29sdmVCaW5kaW5nKCkpKTsKKwkJCWZCdWZm
ZXIuYXBwZW5kKCc8Jyk7CisJCQlmb3IgKE9iamVjdCBhcmcgOiB0eXBlLnR5cGVBcmd1bWVudHMo
KSkKKwkJCQkoKFR5cGUpIGFyZykuYWNjZXB0KHRoaXMpOworCQkJZkJ1ZmZlci5hcHBlbmQoJz4n
KTsKKwkJCWZCdWZmZXIuYXBwZW5kKCc7Jyk7CisJCQlyZXR1cm4gZmFsc2U7CisJCX0KKwkJQE92
ZXJyaWRlCisJCXB1YmxpYyBib29sZWFuIHZpc2l0KFdpbGRjYXJkVHlwZSB3aWxkY2FyZCkgewor
CQkJVHlwZSBib3VuZD0gd2lsZGNhcmQuZ2V0Qm91bmQoKTsKKwkJCWlmIChib3VuZCA9PSBudWxs
KSB7CisJCQkJZkJ1ZmZlci5hcHBlbmQoJyonKTsKKwkJCX0gZWxzZSBpZiAod2lsZGNhcmQuaXNV
cHBlckJvdW5kKCkpIHsKKwkJCQlmQnVmZmVyLmFwcGVuZCgnKycpOworCQkJfSBlbHNlIHsKKwkJ
CQlmQnVmZmVyLmFwcGVuZCgnLScpOworCQkJfQorCQkJaWYgKHdpbGRjYXJkID09IGZGb2N1c1R5
cGUpCisJCQkJZkJ1ZmZlci5hcHBlbmQoZkFubm90YXRpb24pOworCQkJaWYgKGJvdW5kICE9IG51
bGwpCisJCQkJYm91bmQuYWNjZXB0KHRoaXMpOworCQkJcmV0dXJuIGZhbHNlOworCQl9CisJCUBP
dmVycmlkZQorCQlwdWJsaWMgYm9vbGVhbiB2aXNpdChBcnJheVR5cGUgYXJyYXkpIHsKKwkJCWlu
dCBkaW1zPSBhcnJheS5nZXREaW1lbnNpb25zKCk7CisJCQlmb3IgKGludCBpPSAwOyBpIDwgZGlt
czsgaSsrKQorCQkJCWZCdWZmZXIuYXBwZW5kKCdbJyk7CisJCQlpZiAoYXJyYXkgPT0gZkZvY3Vz
VHlwZSkKKwkJCQlmQnVmZmVyLmFwcGVuZChmQW5ub3RhdGlvbik7CisJCQlhcnJheS5nZXRFbGVt
ZW50VHlwZSgpLmFjY2VwdCh0aGlzKTsKKwkJCXJldHVybiBmYWxzZTsKKwkJfQorCQlAT3ZlcnJp
ZGUKKwkJcHVibGljIGJvb2xlYW4gdmlzaXQoVHlwZVBhcmFtZXRlciBwYXJhbWV0ZXIpIHsKKwkJ
CWlmIChwYXJhbWV0ZXIgPT0gZkZvY3VzVHlwZSkKKwkJCQlmQnVmZmVyLmFwcGVuZChmQW5ub3Rh
dGlvbik7CisJCQlmQnVmZmVyLmFwcGVuZChwYXJhbWV0ZXIuZ2V0TmFtZSgpLmdldElkZW50aWZp
ZXIoKSk7CisJCQlUeXBlIGNsYXNzQm91bmQ9IG51bGw7CisJCQlmb3IgKE9iamVjdCBib3VuZCA6
IHBhcmFtZXRlci50eXBlQm91bmRzKCkpIHsKKwkJCQlUeXBlIHR5cGVCb3VuZD0gKFR5cGUpIGJv
dW5kOworCQkJCWlmICh0eXBlQm91bmQucmVzb2x2ZUJpbmRpbmcoKS5pc0NsYXNzKCkpIHsKKwkJ
CQkJY2xhc3NCb3VuZD0gdHlwZUJvdW5kOworCQkJCQlicmVhazsKKwkJCQl9CisJCQl9CisJCQlp
ZiAoY2xhc3NCb3VuZCAhPSBudWxsKSB7CisJCQkJZkJ1ZmZlci5hcHBlbmQoJzonKTsKKwkJCQlj
bGFzc0JvdW5kLmFjY2VwdCh0aGlzKTsKKwkJCX0gZWxzZSB7CisJCQkJSVR5cGVCaW5kaW5nIHR5
cGVCaW5kaW5nPSBwYXJhbWV0ZXIucmVzb2x2ZUJpbmRpbmcoKTsKKwkJCQlmQnVmZmVyLmFwcGVu
ZCgiOkwiKS5hcHBlbmQoYmluYXJ5TmFtZSh0eXBlQmluZGluZy5nZXRTdXBlcmNsYXNzKCkpKS5h
cHBlbmQoJzsnKTsgLy8kTk9OLU5MUy0xJAorCQkJfQorCQkJZm9yIChPYmplY3QgYm91bmQgOiBw
YXJhbWV0ZXIudHlwZUJvdW5kcygpKSB7CisJCQkJaWYgKGJvdW5kID09IGNsYXNzQm91bmQpIGNv
bnRpbnVlOworCQkJCVR5cGUgdHlwZUJvdW5kPSAoVHlwZSkgYm91bmQ7CisJCQkJZkJ1ZmZlci5h
cHBlbmQoJzonKTsKKwkJCQl0eXBlQm91bmQuYWNjZXB0KHRoaXMpOworCQkJfQorCQkJcmV0dXJu
IGZhbHNlOworCQl9CisJCUBPdmVycmlkZQorCQlwdWJsaWMgYm9vbGVhbiB2aXNpdChTaW1wbGVU
eXBlIHR5cGUpIHsKKwkJCUlUeXBlQmluZGluZyB0eXBlQmluZGluZz0gdHlwZS5yZXNvbHZlQmlu
ZGluZygpOworCQkJaWYgKHR5cGVCaW5kaW5nLmlzUHJpbWl0aXZlKCkpIHsKKwkJCQlmQnVmZmVy
LmFwcGVuZCh0eXBlQmluZGluZy5nZXRCaW5hcnlOYW1lKCkpOworCQkJfSBlbHNlIGlmICh0eXBl
QmluZGluZy5pc1R5cGVWYXJpYWJsZSgpKSB7CisJCQkJZkJ1ZmZlci5hcHBlbmQoJ1QnKTsKKwkJ
CQlpZiAoZkZvY3VzVHlwZSA9PSB0eXBlKQorCQkJCQlmQnVmZmVyLmFwcGVuZChmQW5ub3RhdGlv
bik7CisJCQkJZkJ1ZmZlci5hcHBlbmQodHlwZUJpbmRpbmcuZ2V0TmFtZSgpKS5hcHBlbmQoJzsn
KTsKKwkJCX0gZWxzZSB7CisJCQkJZkJ1ZmZlci5hcHBlbmQoJ0wnKTsKKwkJCQlpZiAoZkZvY3Vz
VHlwZSA9PSB0eXBlKQorCQkJCQlmQnVmZmVyLmFwcGVuZChmQW5ub3RhdGlvbik7CisJCQkJZkJ1
ZmZlci5hcHBlbmQoYmluYXJ5TmFtZSh0eXBlQmluZGluZykpLmFwcGVuZCgnOycpOworCQkJfQor
CQkJcmV0dXJuIGZhbHNlOworCQl9CisJCVN0cmluZyBiaW5hcnlOYW1lKElUeXBlQmluZGluZyB0
eXBlKSB7CisJCQlyZXR1cm4gdHlwZS5nZXRCaW5hcnlOYW1lKCkucmVwbGFjZSgnLicsICcvJyk7
CisJCX0KKwl9Cit9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvY29yZSBleHRlbnNp
b24vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9maXgvRml4TWVzc2FnZXMuamF2YSBi
L29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhCmluZGV4IGI0YTYyZmQuLjMxNTNkMTAgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5qYXZhCisrKyBiL29yZy5lY2xpcHNl
LmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2Zp
eC9GaXhNZXNzYWdlcy5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFu
eWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhp
cyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTEwLDYgKzEwLDcgQEAKICAq
ICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gQ29udHJpYnV0aW9ucyBmb3IKICAqCQkJCQkJCQlbcXVp
Y2sgZml4XSBBZGQgcXVpY2sgZml4ZXMgZm9yIG51bGwgYW5ub3RhdGlvbnMgLSBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvMzM3OTc3CiAgKgkJCQkJCQkJW3F1aWNrIGZpeF0gVGhlIGZpeCBjaGFu
Z2UgcGFyYW1ldGVyIHR5cGUgdG8gQE5vbm51bGwgZ2VuZXJhdGVkIGEgbnVsbCBjaGFuZ2UgLSBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDAwNjY4CisgKgkJCQkJCQkJW251bGxdICJBbm5vdGF0
ZSIgcHJvcG9zYWxzIGZvciBhZGRpbmcgZXh0ZXJuYWwgbnVsbCBhbm5vdGF0aW9ucyB0byBsaWJy
YXJ5IGNsYXNzZXMgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAwCiAgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4dC5m
aXg7CiAKQEAgLTEzMCw2ICsxMzEsMTAgQEAKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBOdWxsQW5u
b3RhdGlvbnNSZXdyaXRlT3BlcmF0aW9uc19jaGFuZ2Vfb3ZlcnJpZGRlbl9yZXR1cm5fbnVsbG5l
c3M7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgTnVsbEFubm90YXRpb25zUmV3cml0ZU9wZXJhdGlv
bnNfcmVtb3ZlX3JlZHVuZGFudF9udWxsbmVzc19hbm5vdGF0aW9uOwogCisJcHVibGljIHN0YXRp
YyBTdHJpbmcgRXh0ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19hZGRfbnVsbG5l
c3NfYW5ub3RhdGlvbjsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBFeHRlcm5hbE51bGxBbm5vdGF0
aW9uQ2hhbmdlUHJvcG9zYWxzX2FkZF9udWxsbmVzc19hcnJheV9hbm5vdGF0aW9uOworCXB1Ymxp
YyBzdGF0aWMgU3RyaW5nIEV4dGVybmFsTnVsbEFubm90YXRpb25DaGFuZ2VQcm9wb3NhbHNfcmVt
b3ZlX251bGxuZXNzX2Fubm90YXRpb247CisKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBFeHRyYWN0
VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWxfZXh0cmFjdENoZWNrZWRMb2NhbF9lZGl0TmFtZTsK
IAlwdWJsaWMgc3RhdGljIFN0cmluZyBFeHRyYWN0VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWxf
ZXh0cmFjdFRvQ2hlY2tlZExvY2FsX3Byb3Bvc2FsTmFtZTsKIAlwdWJsaWMgc3RhdGljIFN0cmlu
ZyBFeHRyYWN0VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWxfdG9kb0hhbmRsZU51bGxEZXNjcmlw
dGlvbjsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9jb3JlIGV4dGVuc2lvbi9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZXh0L2ZpeC9GaXhNZXNzYWdlcy5wcm9wZXJ0aWVzIGIv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKaW5kZXggZTFjNGUzZC4uNzAzZjE3
NSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKKysrIGIv
b3JnLmVjbGlwc2UuamR0LnVpL2NvcmUgZXh0ZW5zaW9uL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JleHQvZml4L0ZpeE1lc3NhZ2VzLnByb3BlcnRpZXMKQEAgLTEsNSArMSw1IEBACiAjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjCi0jIENvcHlyaWdodCAoYykgMjAwNSwgMjAxNCBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4KKyMgQ29weXJpZ2h0IChjKSAyMDA1LCAyMDE1IElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgogIyBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5k
IHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAjIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogIyB3aGljaCBhY2Nv
bXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtOSw3ICs5
LDggQEAKICMgICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRh
dGlvbgogIyAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlvbnMgZm9yCiAjCQkJCQkJ
CQlbcXVpY2sgZml4XSBBZGQgcXVpY2sgZml4ZXMgZm9yIG51bGwgYW5ub3RhdGlvbnMgLSBodHRw
czovL2J1Z3MuZWNsaXBzZS5vcmcvMzM3OTc3Ci0jCQkJCQkJCQlbcXVpY2sgZml4XSBUaGUgZml4
IGNoYW5nZSBwYXJhbWV0ZXIgdHlwZSB0byBATm9ubnVsbCBnZW5lcmF0ZWQgYSBudWxsIGNoYW5n
ZSAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy80MDA2NjggCisjCQkJCQkJCQlbcXVpY2sgZml4
XSBUaGUgZml4IGNoYW5nZSBwYXJhbWV0ZXIgdHlwZSB0byBATm9ubnVsbCBnZW5lcmF0ZWQgYSBu
dWxsIGNoYW5nZSAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy80MDA2NjgKKyMJCQkJCQkJCVtu
dWxsXSAiQW5ub3RhdGUiIHByb3Bvc2FscyBmb3IgYWRkaW5nIGV4dGVybmFsIG51bGwgYW5ub3Rh
dGlvbnMgdG8gbGlicmFyeSBjbGFzc2VzIC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzQ1ODIw
MAogIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogQ2xlYW5VcFJlZmFjdG9yaW5nX1JlZmFjdG9yaW5n
X25hbWU9Q2xlYW4gVXAKIENsZWFuVXBSZWZhY3RvcmluZ19Jbml0aWFsaXplX21lc3NhZ2U9Q2hl
Y2tpbmcgcHJlY29uZGl0aW9ucyBmb3IgcHJvamVjdCAnJ3swfScnCkBAIC0xMTcsNiArMTE4LDEw
IEBACiAKIE51bGxBbm5vdGF0aW9uc1Jld3JpdGVPcGVyYXRpb25zX3JlbW92ZV9yZWR1bmRhbnRf
bnVsbG5lc3NfYW5ub3RhdGlvbj1SZW1vdmUgcmVkdW5kYW50IG51bGxuZXNzIGFubm90YXRpb24K
IAorRXh0ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19hZGRfbnVsbG5lc3NfYW5u
b3RhdGlvbj1Bbm5vdGF0ZSBhcyAnJ0B7MH0gezF9JycKK0V4dGVybmFsTnVsbEFubm90YXRpb25D
aGFuZ2VQcm9wb3NhbHNfYWRkX251bGxuZXNzX2FycmF5X2Fubm90YXRpb249QW5ub3RhdGUgYXMg
Jyd7MH0gQHsxfSB7Mn0nJworRXh0ZXJuYWxOdWxsQW5ub3RhdGlvbkNoYW5nZVByb3Bvc2Fsc19y
ZW1vdmVfbnVsbG5lc3NfYW5ub3RhdGlvbj1SZW1vdmUgbnVsbG5lc3MgYW5ub3RhdGlvbiBmcm9t
IHR5cGUgJyd7MH0nJworCiBFeHRyYWN0VG9OdWxsQ2hlY2tlZExvY2FsUHJvcG9zYWxfZXh0cmFj
dENoZWNrZWRMb2NhbF9lZGl0TmFtZT1FeHRyYWN0IGNoZWNrZWQgbG9jYWwKIEV4dHJhY3RUb051
bGxDaGVja2VkTG9jYWxQcm9wb3NhbF9leHRyYWN0VG9DaGVja2VkTG9jYWxfcHJvcG9zYWxOYW1l
PUV4dHJhY3QgdG8gY2hlY2tlZCBsb2NhbCB2YXJpYWJsZQogRXh0cmFjdFRvTnVsbENoZWNrZWRM
b2NhbFByb3Bvc2FsX3RvZG9IYW5kbGVOdWxsRGVzY3JpcHRpb249aGFuZGxlIG51bGwgdmFsdWUK
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS9wbHVnaW4ucHJvcGVydGllcyBiL29yZy5l
Y2xpcHNlLmpkdC51aS9wbHVnaW4ucHJvcGVydGllcwppbmRleCA1YmEzMjBkLi5iNTA2YTA5IDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvcGx1Z2luLnByb3BlcnRpZXMKKysrIGIvb3Jn
LmVjbGlwc2UuamR0LnVpL3BsdWdpbi5wcm9wZXJ0aWVzCkBAIC00ODAsNiArNDgwLDkgQEAKIAog
SW5kZW50QWN0aW9uLmxhYmVsPSBDb3JyZWN0ICZJbmRlbnRhdGlvbgogCithbm5vdGF0ZUNsYXNz
RmlsZS5sYWJlbD0gQW5ub3RhdGUgQ2xhc3MgRmlsZQorYW5ub3RhdGVDbGFzc0ZpbGUuZGVzY3Jp
cHRpb249IEV4dGVybmFsbHkgYWRkIEFubm90YXRpb25zIHRvIGEgQ2xhc3MgRmlsZS4KKwogIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMKICMgSmF2YWRvYyBTdXBwb3J0CiAjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpAQCAt
NjExLDYgKzYxNCw5IEBACiBjb250ZXh0LmVkaXRpbmdKYXZhU291cmNlLm5hbWU9IEVkaXRpbmcg
SmF2YSBTb3VyY2UKIGNvbnRleHQuZWRpdGluZ0phdmFTb3VyY2UuZGVzY3JpcHRpb249IEVkaXRp
bmcgSmF2YSBTb3VyY2UgQ29udGV4dAogCitjb250ZXh0LmJyb3dzaW5nSmF2YVNvdXJjZS5uYW1l
PSBCcm93c2luZyBhdHRhY2hlZCBKYXZhIFNvdXJjZQorY29udGV4dC5icm93c2luZ0phdmFTb3Vy
Y2UuZGVzY3JpcHRpb249IEJyb3dzaW5nIGF0dGFjaGVkIEphdmEgU291cmNlIENvbnRleHQKKwog
Y29udGV4dC5lZGl0aW5nUHJvcGVydGllc1NvdXJjZS5uYW1lPSBFZGl0aW5nIFByb3BlcnRpZXMg
RmlsZXMKIGNvbnRleHQuZWRpdGluZ1Byb3BlcnRpZXNTb3VyY2UuZGVzY3JpcHRpb249IEVkaXRp
bmcgUHJvcGVydGllcyBGaWxlcyBDb250ZXh0CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC51aS9wbHVnaW4ueG1sIGIvb3JnLmVjbGlwc2UuamR0LnVpL3BsdWdpbi54bWwKaW5kZXggZGQx
OWI2Zi4uNzljMDc0ZCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3BsdWdpbi54bWwK
KysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL3BsdWdpbi54bWwKQEAgLTMzNjAsNiArMzM2MCwxMiBA
QAogICAgICAgICAgICAgaWQ9Im9yZy5lY2xpcHNlLmpkdC51aS5qYXZhRWRpdG9yU2NvcGUiPgog
ICAgICAgPC9jb250ZXh0PgogICAgICAgPGNvbnRleHQKKyAgICAgICAgICAgIG5hbWU9IiVjb250
ZXh0LmJyb3dzaW5nSmF2YVNvdXJjZS5uYW1lIgorICAgICAgICAgICAgZGVzY3JpcHRpb249IiVj
b250ZXh0LmJyb3dzaW5nSmF2YVNvdXJjZS5kZXNjcmlwdGlvbiIKKyAgICAgICAgICAgIHBhcmVu
dElkPSJvcmcuZWNsaXBzZS51aS50ZXh0RWRpdG9yU2NvcGUiCisgICAgICAgICAgICBpZD0ib3Jn
LmVjbGlwc2UuamR0LnVpLmNsYXNzRmlsZUVkaXRvclNjb3BlIj4KKyAgICAgIDwvY29udGV4dD4K
KyAgICAgIDxjb250ZXh0CiAgICAgICAgICAgICBuYW1lPSIlY29udGV4dC5lZGl0aW5nUHJvcGVy
dGllc1NvdXJjZS5uYW1lIgogICAgICAgICAgICAgZGVzY3JpcHRpb249IiVjb250ZXh0LmVkaXRp
bmdQcm9wZXJ0aWVzU291cmNlLmRlc2NyaXB0aW9uIgogICAgICAgICAgICAgcGFyZW50SWQ9Im9y
Zy5lY2xpcHNlLnVpLnRleHRFZGl0b3JTY29wZSIKQEAgLTQxODYsNiArNDE5MiwxMyBAQAogICAg
ICAgICAgICAgY2F0ZWdvcnlJZD0ib3JnLmVjbGlwc2Uuc2VhcmNoLnVpLmNhdGVnb3J5LnNlYXJj
aCIKICAgICAgICAgICAgIGlkPSJvcmcuZWNsaXBzZS5qZHQudWkuZWRpdC50ZXh0LmphdmEuc2Vh
cmNoLmltcGxlbWVudC5vY2N1cnJlbmNlcyI+CiAgICAgICA8L2NvbW1hbmQ+Cis8IS0tIGFubm90
YXRlIGNsYXNzIGZpbGU6IC0tPgorCSAgPGNvbW1hbmQKKwkgICAgICAgIG5hbWU9IiVhbm5vdGF0
ZUNsYXNzRmlsZS5sYWJlbCIKKwkgICAgICAgIGRlc2NyaXB0aW9uPSIlYW5ub3RhdGVDbGFzc0Zp
bGUuZGVzY3JpcHRpb24iCisJICAgICAgICBjYXRlZ29yeUlkPSJvcmcuZWNsaXBzZS5qZHQudWku
Y2F0ZWdvcnkuc291cmNlIgorCSAgICAgICAgaWQ9Im9yZy5lY2xpcHNlLmpkdC51aS5lZGl0LnRl
eHQuamF2YS5hbm5vdGF0ZS5jbGFzc0ZpbGUiPgorCSAgPC9jb21tYW5kPgogICAgPC9leHRlbnNp
b24+CiAgICAKICAgIDxleHRlbnNpb24KQEAgLTQ3OTMsNiArNDgwNiwxMiBAQAogCQkJdmFsdWU9
Im9yZy5lY2xpcHNlLmpkdC51aS5KYXZhZG9jVmlldyI+CiAJCTwvcGFyYW1ldGVyPgogCTwva2V5
PgorCTxrZXkKKyAgICAgICBjb21tYW5kSWQ9Im9yZy5lY2xpcHNlLmpkdC51aS5lZGl0LnRleHQu
amF2YS5hbm5vdGF0ZS5jbGFzc0ZpbGUiCisgICAgICAgY29udGV4dElkPSJvcmcuZWNsaXBzZS5q
ZHQudWkuY2xhc3NGaWxlRWRpdG9yU2NvcGUiCisgICAgICAgc2NoZW1lSWQ9Im9yZy5lY2xpcHNl
LnVpLmRlZmF1bHRBY2NlbGVyYXRvckNvbmZpZ3VyYXRpb24iCisgICAgICAgc2VxdWVuY2U9Ik0x
KzEiPgorCTwva2V5PgogCTwvZXh0ZW5zaW9uPgogICAgCiAgICAKZGlmZiAtLWdpdCBhL29yZy5l
Y2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9B
bm5vdGF0ZUNsYXNzRmlsZUFjdGlvbi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRpdG9yL0Fubm90YXRlQ2xhc3NGaWxlQWN0aW9u
LmphdmEKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uYjBjYzJiZgotLS0gL2Rl
di9udWxsCisrKyBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvdWkvamF2YWVkaXRvci9Bbm5vdGF0ZUNsYXNzRmlsZUFjdGlvbi5qYXZhCkBAIC0wLDAgKzEs
NDEgQEAKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTUgR0sg
U29mdHdhcmUgQUcgYW5kIG90aGVycy4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJv
Z3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJs
ZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQK
KyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogQ29u
dHJpYnV0b3JzOgorICogICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBJbml0aWFsIEFQSSBhbmQgaW1w
bGVtZW50YXRpb24KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNsaXBz
ZS5qZHQuaW50ZXJuYWwudWkuamF2YWVkaXRvcjsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNl
LmFjdGlvbi5BY3Rpb247CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnNvdXJjZS5J
U291cmNlVmlld2VyOworaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuc291cmNlLlNvdXJj
ZVZpZXdlcjsKKworLyoqCisgKiBBY3Rpb24gdG8gYWRkIGV4dGVybmFsIG51bGwgYW5ub3RhdGlv
bnMgZnJvbSBhIENsYXNzRmlsZUVkaXRvci4KKyAqIEBzZWUgPGEgaHJlZj0iaHR0cHM6Ly9idWdz
LmVjbGlwc2Uub3JnLzQ1ODIwMSI+W251bGxdIE9mZmVyIG5ldyBjb21tYW5kICJBbm5vdGF0ZSIg
b24gQ2xhc3NGaWxlRWRpdG9yPC9hPgorICogQHNpbmNlIDMuMTEKKyAqLworcHVibGljIGNsYXNz
IEFubm90YXRlQ2xhc3NGaWxlQWN0aW9uIGV4dGVuZHMgQWN0aW9uIHsKKworCXByaXZhdGUgZmlu
YWwgQ2xhc3NGaWxlRWRpdG9yIGZFZGl0b3I7CisKKwlwcm90ZWN0ZWQgQW5ub3RhdGVDbGFzc0Zp
bGVBY3Rpb24oQ2xhc3NGaWxlRWRpdG9yIGVkaXRvcikgeworCQlzdXBlcihKYXZhRWRpdG9yTWVz
c2FnZXMuQW5ub3RhdGVDbGFzc0ZpbGVfbGFiZWwpOworCQlmRWRpdG9yPSBlZGl0b3I7CisJfQor
CQorCUBPdmVycmlkZQorCXB1YmxpYyB2b2lkIHJ1bigpIHsKKwkJSVNvdXJjZVZpZXdlciB2aWV3
ZXI9IGZFZGl0b3IuZ2V0Vmlld2VyKCk7CisJCWlmICh2aWV3ZXIgaW5zdGFuY2VvZiBTb3VyY2VW
aWV3ZXIpIHsKKwkJCVNvdXJjZVZpZXdlciBzb3VyY2VWaWV3ZXI9IChTb3VyY2VWaWV3ZXIpIHZp
ZXdlcjsKKwkJCWlmIChzb3VyY2VWaWV3ZXIuY2FuRG9PcGVyYXRpb24oSmF2YVNvdXJjZVZpZXdl
ci5BTk5PVEFURV9DTEFTU19GSUxFKSkKKwkJCQlzb3VyY2VWaWV3ZXIuZG9PcGVyYXRpb24oSmF2
YVNvdXJjZVZpZXdlci5BTk5PVEFURV9DTEFTU19GSUxFKTsKKwkJfQorCX0KK30KZGlmZiAtLWdp
dCBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2
YWVkaXRvci9DbGFzc0ZpbGVFZGl0b3IuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9DbGFzc0ZpbGVFZGl0b3IuamF2YQpp
bmRleCBlY2NkMzQ1Li4yMzYxZjIwIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvQ2xhc3NGaWxlRWRpdG9yLmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91
aS9qYXZhZWRpdG9yL0NsYXNzRmlsZUVkaXRvci5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMiBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNSBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBh
bmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRl
ciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2gg
YWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTcs
NiArNyw3IEBACiAgKgogICogQ29udHJpYnV0b3JzOgogICogICAgIElCTSBDb3Jwb3JhdGlvbiAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICogICAgIFN0ZXBoYW4gSGVycm1hbm4g
LSBDb250cmlidXRpb24gZm9yIEJ1ZyA0NTgyMDEgLSBPZmZlciBuZXcgY29tbWFuZCAiQW5ub3Rh
dGUiIG9uIENsYXNzRmlsZUVkaXRvcgogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdl
IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9yOwogCkBAIC01NCw2ICs1NSw3
IEBACiBpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudXRpbC5Qcm9wZXJ0eUNoYW5nZUV2ZW50Owog
CiBpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5JV2lkZ2V0VG9rZW5LZWVwZXI7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuSU92ZXJ2aWV3UnVsZXI7CiBpbXBvcnQg
b3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuSVNvdXJjZVZpZXdlcjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZmFjZS50ZXh0LnNvdXJjZS5JVmVydGljYWxSdWxlcjsKIApAQCAtNjQsNiArNjYs
NyBAQAogaW1wb3J0IG9yZy5lY2xpcHNlLnVpLlBsYXRmb3JtVUk7CiBpbXBvcnQgb3JnLmVjbGlw
c2UudWkuYWN0aW9ucy5BY3Rpb25Db250ZXh0OwogaW1wb3J0IG9yZy5lY2xpcHNlLnVpLmFjdGlv
bnMuQWN0aW9uR3JvdXA7CitpbXBvcnQgb3JnLmVjbGlwc2UudWkubmF2aWdhdG9yLklDb21tb25N
ZW51Q29uc3RhbnRzOwogCiBpbXBvcnQgb3JnLmVjbGlwc2UudWkudGV4dGVkaXRvci5JRG9jdW1l
bnRQcm92aWRlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS51aS50ZXh0ZWRpdG9yLklUZXh0RWRpdG9y
QWN0aW9uQ29uc3RhbnRzOwpAQCAtODksNiArOTIsNyBAQAogCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LnVpLkphdmFFbGVtZW50TGFiZWxzOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS5TaGFy
ZWRBU1RQcm92aWRlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkuYWN0aW9ucy5JSmF2YUVk
aXRvckFjdGlvbkRlZmluaXRpb25JZHM7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LnVpLmFjdGlv
bnMuUmVmYWN0b3JBY3Rpb25Hcm91cDsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkud2l6YXJk
cy5CdWlsZFBhdGhEaWFsb2dBY2Nlc3M7CiAKQEAgLTU0Nyw2ICs1NTEsMTAgQEAKIAkJZkFjdGlv
bkdyb3Vwcy5hZGRHcm91cChncm91cCk7CiAJCWZDb250ZXh0TWVudUdyb3VwPSBuZXcgQ29tcG9z
aXRlQWN0aW9uR3JvdXAobmV3IEFjdGlvbkdyb3VwW10ge2dyb3VwfSk7CiAKKwkJQWN0aW9uIGFj
dGlvbj0gbmV3IEFubm90YXRlQ2xhc3NGaWxlQWN0aW9uKHRoaXMpOworCQlhY3Rpb24uc2V0QWN0
aW9uRGVmaW5pdGlvbklkKElKYXZhRWRpdG9yQWN0aW9uRGVmaW5pdGlvbklkcy5BTk5PVEFURV9D
TEFTU19GSUxFKTsKKwkJc2V0QWN0aW9uKElKYXZhRWRpdG9yQWN0aW9uRGVmaW5pdGlvbklkcy5B
Tk5PVEFURV9DTEFTU19GSUxFLCBhY3Rpb24pOworCiAJCS8qCiAJCSAqIDFHRjgyUEw6IElUUEpV
STpBTEwgLSBOZWVkIHRvIGJlIGFibGUgdG8gYWRkIGJvb2ttYXJrIHRvIGNsYXNzIGZpbGUKIAkJ
ICoKQEAgLTU2NiwxMCArNTc0LDIxIEBACiAJcHVibGljIHZvaWQgZWRpdG9yQ29udGV4dE1lbnVB
Ym91dFRvU2hvdyhJTWVudU1hbmFnZXIgbWVudSkgewogCQlzdXBlci5lZGl0b3JDb250ZXh0TWVu
dUFib3V0VG9TaG93KG1lbnUpOwogCisJCUlBY3Rpb24gYWN0aW9uID0gZ2V0QWN0aW9uKElKYXZh
RWRpdG9yQWN0aW9uRGVmaW5pdGlvbklkcy5BTk5PVEFURV9DTEFTU19GSUxFKTsKKwkJbWVudS5h
cHBlbmRUb0dyb3VwKElDb21tb25NZW51Q29uc3RhbnRzLkdST1VQX0VESVQsIGFjdGlvbik7CisK
IAkJQWN0aW9uQ29udGV4dCBjb250ZXh0PSBuZXcgQWN0aW9uQ29udGV4dChnZXRTZWxlY3Rpb25Q
cm92aWRlcigpLmdldFNlbGVjdGlvbigpKTsKIAkJZkNvbnRleHRNZW51R3JvdXAuc2V0Q29udGV4
dChjb250ZXh0KTsKIAkJZkNvbnRleHRNZW51R3JvdXAuZmlsbENvbnRleHRNZW51KG1lbnUpOwog
CQlmQ29udGV4dE1lbnVHcm91cC5zZXRDb250ZXh0KG51bGwpOworCX0KKworCS8qCisJICogQHNl
ZSBvcmcuZWNsaXBzZS51aS50ZXh0ZWRpdG9yLkFic3RyYWN0RGVjb3JhdGVkVGV4dEVkaXRvciNp
bml0aWFsaXplS2V5QmluZGluZ1Njb3BlcygpCisJICovCisJQE92ZXJyaWRlCisJcHJvdGVjdGVk
IHZvaWQgaW5pdGlhbGl6ZUtleUJpbmRpbmdTY29wZXMoKSB7CisJCXNldEtleUJpbmRpbmdTY29w
ZXMobmV3IFN0cmluZ1tdIHsgIm9yZy5lY2xpcHNlLmpkdC51aS5qYXZhRWRpdG9yU2NvcGUiLCAi
b3JnLmVjbGlwc2UuamR0LnVpLmNsYXNzRmlsZUVkaXRvclNjb3BlIiB9KTsgIC8vJE5PTi1OTFMt
MSQgLy8kTk9OLU5MUy0yJAogCX0KIAogCS8qCkBAIC04ODIsOCArOTAxLDkgQEAKIAkvKgogCSAq
IEBzZWUgSmF2YUVkaXRvciNjcmVhdGVKYXZhU291cmNlVmlld2VyKENvbXBvc2l0ZSwgSVZlcnRp
Y2FsUnVsZXIsIGludCkKIAkgKi8KLQlwcm90ZWN0ZWQgSVNvdXJjZVZpZXdlciBjcmVhdGVKYXZh
U291cmNlVmlld2VyKENvbXBvc2l0ZSBwYXJlbnQsIElWZXJ0aWNhbFJ1bGVyIHJ1bGVyLCBpbnQg
c3R5bGVzLCBJUHJlZmVyZW5jZVN0b3JlIHN0b3JlKSB7Ci0JCXJldHVybiBuZXcgSmF2YVNvdXJj
ZVZpZXdlcihwYXJlbnQsIHJ1bGVyLCBudWxsLCBmYWxzZSwgc3R5bGVzLCBzdG9yZSkgeworCUBP
dmVycmlkZQorCXByb3RlY3RlZCBJU291cmNlVmlld2VyIGNyZWF0ZUphdmFTb3VyY2VWaWV3ZXIo
Q29tcG9zaXRlIHBhcmVudCwgSVZlcnRpY2FsUnVsZXIgcnVsZXIsIElPdmVydmlld1J1bGVyIG92
ZXJ2aWV3UnVsZXIsIGJvb2xlYW4gaXNPdmVydmlld1J1bGVyVmlzaWJsZSwgaW50IHN0eWxlcywg
SVByZWZlcmVuY2VTdG9yZSBzdG9yZSkgeworCQlyZXR1cm4gbmV3IEphdmFTb3VyY2VWaWV3ZXIo
cGFyZW50LCBydWxlciwgb3ZlcnZpZXdSdWxlciwgaXNPdmVydmlld1J1bGVyVmlzaWJsZSwgc3R5
bGVzLCBzdG9yZSkgewogCiAJCQlAT3ZlcnJpZGUKIAkJCXB1YmxpYyBib29sZWFuIHJlcXVlc3RX
aWRnZXRUb2tlbihJV2lkZ2V0VG9rZW5LZWVwZXIgcmVxdWVzdGVyKSB7CkBAIC04OTgsNiArOTE4
LDI1IEBACiAJCQkJCXJldHVybiBmYWxzZTsKIAkJCQlyZXR1cm4gc3VwZXIucmVxdWVzdFdpZGdl
dFRva2VuKHJlcXVlc3RlciwgcHJpb3JpdHkpOwogCQkJfQorCQkJCisJCQlAT3ZlcnJpZGUKKwkJ
CXB1YmxpYyBib29sZWFuIGNhbkRvT3BlcmF0aW9uKGludCBvcGVyYXRpb24pIHsKKwkJCQlpZiAo
b3BlcmF0aW9uID09IEphdmFTb3VyY2VWaWV3ZXIuQU5OT1RBVEVfQ0xBU1NfRklMRSkKKwkJCQkJ
cmV0dXJuIHRydWU7CisJCQkJcmV0dXJuIHN1cGVyLmNhbkRvT3BlcmF0aW9uKG9wZXJhdGlvbik7
CisJCQl9CisKKwkJCUBPdmVycmlkZQorCQkJcHVibGljIHZvaWQgZG9PcGVyYXRpb24oaW50IG9w
ZXJhdGlvbikgeworCQkJCWlmIChvcGVyYXRpb24gPT0gSmF2YVNvdXJjZVZpZXdlci5BTk5PVEFU
RV9DTEFTU19GSUxFKSB7CisJCQkJCWZRdWlja0Fzc2lzdEFzc2lzdGFudC5zZXRTdGF0dXNMaW5l
VmlzaWJsZSh0cnVlKTsKKwkJCQkJZlF1aWNrQXNzaXN0QXNzaXN0YW50LnNldFN0YXR1c01lc3Nh
Z2UoSmF2YUVkaXRvck1lc3NhZ2VzLkNsYXNzRmlsZUVkaXRvcl9jaGFuZ2VFeHRlcm5hbEFubm90
YXRpb25zX2NhcHRpb24rJyAnKTsKKwkJCQkJU3RyaW5nIG1zZz0gZlF1aWNrQXNzaXN0QXNzaXN0
YW50LnNob3dQb3NzaWJsZVF1aWNrQXNzaXN0cygpOworCQkJCQlzZXRTdGF0dXNMaW5lRXJyb3JN
ZXNzYWdlKG1zZyk7CisJCQkJCXJldHVybjsKKwkJCQl9CisJCQkJc3VwZXIuZG9PcGVyYXRpb24o
b3BlcmF0aW9uKTsKKwkJCX0KIAkJfTsKIAl9CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9KYXZhRWRpdG9y
TWVzc2FnZXMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvdWkvamF2YWVkaXRvci9KYXZhRWRpdG9yTWVzc2FnZXMuamF2YQppbmRleCAzNmE1NGY2
Li4wMmRmMTZmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvSmF2YUVkaXRvck1lc3NhZ2VzLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS9qYXZhZWRp
dG9yL0phdmFFZGl0b3JNZXNzYWdlcy5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNSBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhl
IGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUg
dGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21w
YW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTEwLDYgKzEw
LDcgQEAKICAqICAgICBBbmRyZSBTb2VyZW5nIDxhbmRyZWlzQGZhc3Qubm8+IC0gW3N5bnRheCBo
aWdobGlnaHRpbmddIGhpZ2hsaWdodCBudW1iZXJzIC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTYzNTczCiAgKiAgICAgQmrDtnJuIE1pY2hhZWwgPGIubWlj
aGFlbEBnbXguZGU+IC0gW3N5bnRheCBoaWdobGlnaHRpbmddIFN5bnRheCBjb2xvcmluZyBmb3Ig
YWJzdHJhY3QgY2xhc3NlcyAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy8zMzEzMTEKICAqICAg
ICBCasO2cm4gTWljaGFlbCA8Yi5taWNoYWVsQGdteC5kZT4gLSBbc3ludGF4IGhpZ2hsaWdodGlu
Z10gQWRkIGhpZ2hsaWdodCBmb3IgaW5oZXJpdGVkIGZpZWxkcyAtIGh0dHBzOi8vYnVncy5lY2xp
cHNlLm9yZy8zNDgzNjgKKyAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gT2ZmZXIgbmV3IGNvbW1h
bmQgIkFubm90YXRlIiBvbiBDbGFzc0ZpbGVFZGl0b3IgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5v
cmcvNDU4MjAxCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2Uu
amR0LmludGVybmFsLnVpLmphdmFlZGl0b3I7CiAKQEAgLTQ4LDYgKzQ5LDcgQEAKIAlwdWJsaWMg
c3RhdGljIFN0cmluZyBBZGRJbXBvcnRPblNlbGVjdGlvbl9lcnJvcl90aXRsZTsKIAlwdWJsaWMg
c3RhdGljIFN0cmluZyBBZGRJbXBvcnRPblNlbGVjdGlvbl9kaWFsb2dfdGl0bGU7CiAJcHVibGlj
IHN0YXRpYyBTdHJpbmcgQWRkSW1wb3J0T25TZWxlY3Rpb25fZGlhbG9nX21lc3NhZ2U7CisJcHVi
bGljIHN0YXRpYyBTdHJpbmcgQ2xhc3NGaWxlRWRpdG9yX2NoYW5nZUV4dGVybmFsQW5ub3RhdGlv
bnNfY2FwdGlvbjsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBDbGFzc0ZpbGVFZGl0b3JfZXJyb3Jf
Y2xhc3NmaWxlX25vdF9vbl9jbGFzc3BhdGg7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgQ2xhc3NG
aWxlRWRpdG9yX2Vycm9yX2ludmFsaWRfaW5wdXRfbWVzc2FnZTsKIAlwdWJsaWMgc3RhdGljIFN0
cmluZyBDbGFzc0ZpbGVFZGl0b3JfZXJyb3JfdGl0bGU7CkBAIC0xNjUsNiArMTY3LDcgQEAKIAlw
dWJsaWMgc3RhdGljIFN0cmluZyBKYXZhRWxlbWVudFJldHVyblR5cGVIeXBlcmxpbmtfZXJyb3Jf
bXNnOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEphdmFFbGVtZW50U3VwZXJJbXBsZW1lbnRhdGlv
bkh5cGVybGlua19oeXBlcmxpbmtUZXh0OwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEphdmFFbGVt
ZW50U3VwZXJJbXBsZW1lbnRhdGlvbkh5cGVybGlua19oeXBlcmxpbmtUZXh0X3F1YWxpZmllZDsK
KwlwdWJsaWMgc3RhdGljIFN0cmluZyBBbm5vdGF0ZUNsYXNzRmlsZV9sYWJlbDsKIAogCXN0YXRp
YyB7CiAJCU5MUy5pbml0aWFsaXplTWVzc2FnZXMoQlVORExFX05BTUUsIEphdmFFZGl0b3JNZXNz
YWdlcy5jbGFzcyk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvSmF2YUVkaXRvck1lc3NhZ2VzLnByb3BlcnRp
ZXMgYi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2ph
dmFlZGl0b3IvSmF2YUVkaXRvck1lc3NhZ2VzLnByb3BlcnRpZXMKaW5kZXggNDlhNDBmMS4uMjM1
YjMyNyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC91aS9qYXZhZWRpdG9yL0phdmFFZGl0b3JNZXNzYWdlcy5wcm9wZXJ0aWVzCisrKyBi
L29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVk
aXRvci9KYXZhRWRpdG9yTWVzc2FnZXMucHJvcGVydGllcwpAQCAtMTAsNiArMTAsNyBAQAogIyAg
ICAgQW5kcmUgU29lcmVuZyA8YW5kcmVpc0BmYXN0Lm5vPiAtIFtzeW50YXggaGlnaGxpZ2h0aW5n
XSBoaWdobGlnaHQgbnVtYmVycyAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3df
YnVnLmNnaT9pZD02MzU3MwogIyAgICAgQmpvZXJuIE1pY2hhZWwgPGIubWljaGFlbEBnbXguZGU+
IC0gW3N5bnRheCBoaWdobGlnaHRpbmddIFN5bnRheCBjb2xvcmluZyBmb3IgYWJzdHJhY3QgY2xh
c3NlcyAtIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy8zMzEzMTEKICMgICAgIEJqb2VybiBNaWNo
YWVsIDxiLm1pY2hhZWxAZ214LmRlPiAtIFtzeW50YXggaGlnaGxpZ2h0aW5nXSBBZGQgaGlnaGxp
Z2h0IGZvciBpbmhlcml0ZWQgZmllbGRzIC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzM0ODM2
OAorIyAgICAgU3RlcGhhbiBIZXJybWFubiAtIE9mZmVyIG5ldyBjb21tYW5kICJBbm5vdGF0ZSIg
b24gQ2xhc3NGaWxlRWRpdG9yIC0gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzQ1ODIwMQogIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMj
IyMjIyMjIyMjIyMjIyMjIyMjIwogCiBBZGRJbXBvcnRPblNlbGVjdGlvbl9sYWJlbD1BJmRkIElt
cG9ydApAQCAtMjEsNiArMjIsNyBAQAogQWRkSW1wb3J0T25TZWxlY3Rpb25fZGlhbG9nX3RpdGxl
PUFkZCBJbXBvcnQKIEFkZEltcG9ydE9uU2VsZWN0aW9uX2RpYWxvZ19tZXNzYWdlPSZDaG9vc2Ug
ZWxlbWVudCB0byBnZW5lcmF0ZSBhbiBpbXBvcnQgc3RhdGVtZW50IGZvcjoKIAorQ2xhc3NGaWxl
RWRpdG9yX2NoYW5nZUV4dGVybmFsQW5ub3RhdGlvbnNfY2FwdGlvbj1DaGFuZ2UgZXh0ZXJuYWwg
YW5ub3RhdGlvbnMKIENsYXNzRmlsZUVkaXRvcl9lcnJvcl9jbGFzc2ZpbGVfbm90X29uX2NsYXNz
cGF0aD1UaGUgY2xhc3MgZmlsZSBpcyBub3Qgb24gdGhlIGNsYXNzcGF0aAogQ2xhc3NGaWxlRWRp
dG9yX1NvdXJjZUF0dGFjaG1lbnRGb3JtX2Nhbm5vdGNvbmZpZ3VyZT1UaGUgSkFSIG9mIHRoaXMg
Y2xhc3MgZmlsZSBiZWxvbmdzIHRvIGNvbnRhaW5lciAnJ3swfScnIGNhbiBub3QgYmUgY29uZmln
dXJlZC4KIENsYXNzRmlsZUVkaXRvcl9Tb3VyY2VBdHRhY2htZW50Rm9ybV9ub3RzdXBwb3J0ZWQ9
VGhlIEpBUiBvZiB0aGlzIGNsYXNzIGZpbGUgYmVsb25ncyB0byBjb250YWluZXIgJyd7MH0nJyB3
aGljaCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBhdHRhY2htZW50IG9mIHNvdXJjZXMgdG8gaXRzIGVu
dHJpZXMuCkBAIC0xNTcsMyArMTU5LDUgQEAKIEVkaXRvcl9PcGVuUHJvcGVydGllc0ZpbGVfaHlw
ZXJsaW5rVGV4dD0gT3BlbiBpbiAnJ3swfScnCiAKIEVkaXRvcl9Nb3ZlTGluZXNfSWxsZWdhbE1v
dmVfc3RhdHVzPSBNb3ZlIG5vdCBwb3NzaWJsZSAtIFVuY2hlY2sgIlNob3cgU291cmNlIG9mIFNl
bGVjdGVkIEVsZW1lbnQgT25seSIgdG8gc2VlIHRoZSBlbnRpcmUgZG9jdW1lbnQKKworQW5ub3Rh
dGVDbGFzc0ZpbGVfbGFiZWw9JkFubm90YXRlCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQu
dWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL2phdmFlZGl0b3IvSmF2YVNvdXJjZVZp
ZXdlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC91aS9qYXZhZWRpdG9yL0phdmFTb3VyY2VWaWV3ZXIuamF2YQppbmRleCBiYTQxOGI2Li45Yzhi
ZjJkIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL3VpL2phdmFlZGl0b3IvSmF2YVNvdXJjZVZpZXdlci5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvamF2YWVkaXRvci9KYXZh
U291cmNlVmlld2VyLmphdmEKQEAgLTgzLDYgKzgzLDExIEBACiAJICovCiAJcHVibGljIHN0YXRp
YyBmaW5hbCBpbnQgU0hPV19ISUVSQVJDSFk9IDUzOwogCisJLyoqCisJICogT3BlcmF0aW9uIGNv
ZGUgZm9yIHRoZSBhbm5vdGF0ZSBjbGFzcyBmaWxlIGFjdGlvbi4KKwkgKi8KKwlwdWJsaWMgc3Rh
dGljIGZpbmFsIGludCBBTk5PVEFURV9DTEFTU19GSUxFPSA1NDsKKwogCXByaXZhdGUgSUluZm9y
bWF0aW9uUHJlc2VudGVyIGZPdXRsaW5lUHJlc2VudGVyOwogCXByaXZhdGUgSUluZm9ybWF0aW9u
UHJlc2VudGVyIGZTdHJ1Y3R1cmVQcmVzZW50ZXI7CiAJcHJpdmF0ZSBJSW5mb3JtYXRpb25QcmVz
ZW50ZXIgZkhpZXJhcmNoeVByZXNlbnRlcjsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51
aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL0V4dGVybmFs
TnVsbEFubm90YXRpb25RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0
LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90ZXh0L2NvcnJlY3Rpb24vRXh0ZXJu
YWxOdWxsQW5ub3RhdGlvblF1aWNrQXNzaXN0UHJvY2Vzc29yLmphdmEKbmV3IGZpbGUgbW9kZSAx
MDA2NDQKaW5kZXggMDAwMDAwMC4uMTk4MmZkMgotLS0gL2Rldi9udWxsCisrKyBiL29yZy5lY2xp
cHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9u
L0V4dGVybmFsTnVsbEFubm90YXRpb25RdWlja0Fzc2lzdFByb2Nlc3Nvci5qYXZhCkBAIC0wLDAg
KzEsMTA1IEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29weXJpZ2h0IChjKSAyMDE1
IEdLIFNvZnR3YXJlIEFHIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
KyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAorICoKKyAq
IENvbnRyaWJ1dG9yczoKKyAqICAgICBTdGVwaGFuIEhlcnJtYW5uIC0gSW5pdGlhbCBBUEkgYW5k
IGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KK3BhY2thZ2Ugb3JnLmVj
bGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlvbjsKKworaW1wb3J0IGphdmEudXRp
bC5BcnJheUxpc3Q7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LmNvbnRlbnRhc3Np
c3QuSUNvbXBsZXRpb25Qcm9wb3NhbDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnF1
aWNrYXNzaXN0LklRdWlja0Fzc2lzdEludm9jYXRpb25Db250ZXh0OworaW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNzaXN0UHJvY2Vzc29yOworaW1wb3J0
IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuc291cmNlLkFubm90YXRpb247CitpbXBvcnQgb3JnLmVj
bGlwc2UuamZhY2UudGV4dC5zb3VyY2UuSVNvdXJjZVZpZXdlcjsKKworaW1wb3J0IG9yZy5lY2xp
cHNlLnVpLklFZGl0b3JQYXJ0OworCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuSUNsYXNz
RmlsZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5JQ29tcGlsYXRpb25Vbml0OworaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLkphdmFDb3JlOworaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLkphdmFNb2RlbEV4Y2VwdGlvbjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5X
b3JraW5nQ29weU93bmVyOworCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmV4
dC5maXguRXh0ZXJuYWxOdWxsQW5ub2F0YXRpb25DaGFuZ2VQcm9wb3NhbHM7CisKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQudWkudGV4dC5qYXZhLklKYXZhQ29tcGxldGlvblByb3Bvc2FsOworCitp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLkphdmFQbHVnaW47CitpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmludGVybmFsLnVpLmphdmFlZGl0b3IuSUNsYXNzRmlsZUVkaXRvcklucHV0
OworCisKKy8qKgorICogQWx0ZXJuYXRlLCBzdHJpcHBlZCBkb3duIHF1aWNrIGFzc2lzdCBwcm9j
ZXNzb3IgZm9yIHRoZSBhbm5vdGF0ZSBjbGFzcyBmaWxlIGFjdGlvbi4KKyAqIEBzZWUgPGEgaHJl
Zj0iaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnLzQ1ODIwMCI+W251bGxdICJBbm5vdGF0ZSIgcHJv
cG9zYWxzIGZvciBhZGRpbmcgZXh0ZXJuYWwgbnVsbCBhbm5vdGF0aW9ucyB0byBsaWJyYXJ5IGNs
YXNzZXM8L2E+CisgKiBAc2luY2UgMy4xMQorICovCitwdWJsaWMgY2xhc3MgRXh0ZXJuYWxOdWxs
QW5ub3RhdGlvblF1aWNrQXNzaXN0UHJvY2Vzc29yIGltcGxlbWVudHMgSVF1aWNrQXNzaXN0UHJv
Y2Vzc29yIHsKKworCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFOTk9UQVRFX01FTUJFUl9J
RD0gIm9yZy5lY2xpcHNlLmpkdC51aS5hbm5vdGF0ZS5udWxsQW5ub3RhdGVNZW1iZXIuYXNzaXN0
IjsgLy8kTk9OLU5MUy0xJAorCisJcHJpdmF0ZSBKYXZhQ29ycmVjdGlvbkFzc2lzdGFudCBmQXNz
aXN0YW50OworCXByaXZhdGUgU3RyaW5nIGZFcnJvck1lc3NhZ2U7CisKKwlwdWJsaWMgRXh0ZXJu
YWxOdWxsQW5ub3RhdGlvblF1aWNrQXNzaXN0UHJvY2Vzc29yKEphdmFDb3JyZWN0aW9uQXNzaXN0
YW50IGphdmFDb3JyZWN0aW9uQXNzaXN0YW50KSB7CisJCWZBc3Npc3RhbnQ9IGphdmFDb3JyZWN0
aW9uQXNzaXN0YW50OworCX0KKworCXB1YmxpYyBTdHJpbmcgZ2V0RXJyb3JNZXNzYWdlKCkgewor
CQlyZXR1cm4gZkVycm9yTWVzc2FnZTsKKwl9CisKKwlwdWJsaWMgYm9vbGVhbiBjYW5GaXgoQW5u
b3RhdGlvbiBhbm5vdGF0aW9uKSB7CisJCXJldHVybiBmYWxzZTsgLy8gaXJyZWxldmFudCBvbiBj
bGFzcyBmaWxlcworCX0KKworCXB1YmxpYyBib29sZWFuIGNhbkFzc2lzdChJUXVpY2tBc3Npc3RJ
bnZvY2F0aW9uQ29udGV4dCBpbnZvY2F0aW9uQ29udGV4dCkgeworCQlJRWRpdG9yUGFydCBwYXJ0
PSBmQXNzaXN0YW50LmdldEVkaXRvcigpOworCQlJQ2xhc3NGaWxlIGNsYXNzRmlsZT0gKChJQ2xh
c3NGaWxlRWRpdG9ySW5wdXQpcGFydC5nZXRFZGl0b3JJbnB1dCgpKS5nZXRDbGFzc0ZpbGUoKTsK
KwkJcmV0dXJuIGNsYXNzRmlsZS5nZXRKYXZhUHJvamVjdCgpLmdldE9wdGlvbihKYXZhQ29yZS5D
T01QSUxFUl9BTk5PVEFUSU9OX05VTExfQU5BTFlTSVMsIHRydWUpLmVxdWFscyhKYXZhQ29yZS5F
TkFCTEVEKTsKKwl9CisKKwlwdWJsaWMgSUNvbXBsZXRpb25Qcm9wb3NhbFtdIGNvbXB1dGVRdWlj
a0Fzc2lzdFByb3Bvc2FscyhJUXVpY2tBc3Npc3RJbnZvY2F0aW9uQ29udGV4dCBxdWlja0Fzc2lz
dENvbnRleHQpIHsJCQorCQlJQ29tcGlsYXRpb25Vbml0IGN1PSBudWxsOworCQl0cnkgeworCQkJ
Ly8gcHJlcGFyYXRpb24gc2ltaWxhciB0byBKYXZhQ29ycmVjdGlvblByb2Nlc3NvcjoKKwkJCUlF
ZGl0b3JQYXJ0IHBhcnQ9IGZBc3Npc3RhbnQuZ2V0RWRpdG9yKCk7CisKKwkJCUlDbGFzc0ZpbGUg
Y2xhc3NGaWxlPSAoKElDbGFzc0ZpbGVFZGl0b3JJbnB1dClwYXJ0LmdldEVkaXRvcklucHV0KCkp
LmdldENsYXNzRmlsZSgpOworCQkJY3U9IGNsYXNzRmlsZS5nZXRXb3JraW5nQ29weSgoV29ya2lu
Z0NvcHlPd25lciludWxsLCBudWxsKTsKKwkJCWlmIChjdSA9PSBudWxsIHx8IGNsYXNzRmlsZS5n
ZXRTb3VyY2UoKSA9PSBudWxsKQorCQkJCXJldHVybiBudWxsOworCQkJCisJCQlJU291cmNlVmll
d2VyIHZpZXdlcj0gcXVpY2tBc3Npc3RDb250ZXh0LmdldFNvdXJjZVZpZXdlcigpOworCQkJaW50
IGRvY3VtZW50T2Zmc2V0PSBxdWlja0Fzc2lzdENvbnRleHQuZ2V0T2Zmc2V0KCk7CisKKwkJCUFz
c2lzdENvbnRleHQgY29udGV4dD0gbnVsbDsKKwkJCWludCBsZW5ndGg9IHZpZXdlciAhPSBudWxs
ID8gdmlld2VyLmdldFNlbGVjdGVkUmFuZ2UoKS55IDogMDsKKwkJCWNvbnRleHQ9IG5ldyBBc3Np
c3RDb250ZXh0KGN1LCB2aWV3ZXIsIHBhcnQsIGRvY3VtZW50T2Zmc2V0LCBsZW5ndGgpOworCQkJ
CisJCQlBcnJheUxpc3Q8SUphdmFDb21wbGV0aW9uUHJvcG9zYWw+IHByb3Bvc2Fscz0gbmV3IEFy
cmF5TGlzdDxJSmF2YUNvbXBsZXRpb25Qcm9wb3NhbD4oKTsKKwkJCQorCQkJLy8gc2hvcnRjdXQg
KHdlIG9ubHkgaGF2ZSBvbmUgcHJvY2Vzc29yKToKKwkJCUV4dGVybmFsTnVsbEFubm9hdGF0aW9u
Q2hhbmdlUHJvcG9zYWxzLmNvbGxlY3RFeHRlcm5hbEFubm90YXRpb25Qcm9wb3NhbHMoY29udGV4
dC5nZXRDb21waWxhdGlvblVuaXQoKSwgY29udGV4dC5nZXRDb3ZlcmluZ05vZGUoKSwgcHJvcG9z
YWxzKTsKKwkJCQorCQkJcmV0dXJuIHByb3Bvc2Fscy50b0FycmF5KG5ldyBJSmF2YUNvbXBsZXRp
b25Qcm9wb3NhbFtwcm9wb3NhbHMuc2l6ZSgpXSk7CisKKwkJfSBjYXRjaCAoSmF2YU1vZGVsRXhj
ZXB0aW9uIGUpIHsKKwkJCWZFcnJvck1lc3NhZ2U9IGUuZ2V0TWVzc2FnZSgpOworCQkJSmF2YVBs
dWdpbi5sb2coZSk7CisJCQlyZXR1cm4gbnVsbDsKKwkJfSBmaW5hbGx5IHsKKwkJCXRyeSB7CisJ
CQkJaWYgKGN1ICE9IG51bGwpCisJCQkJCWN1LmRpc2NhcmRXb3JraW5nQ29weSgpOworCQkJfSBj
YXRjaCAoSmF2YU1vZGVsRXhjZXB0aW9uIGUpIHsKKwkJCQkvLyBpZ25vcmUKKwkJCX0KKwkJfQor
CX0KK30KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL0phdmFDb3JyZWN0aW9uQXNzaXN0YW50LmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL3VpL3RleHQv
Y29ycmVjdGlvbi9KYXZhQ29ycmVjdGlvbkFzc2lzdGFudC5qYXZhCmluZGV4IDEwY2U2ZTAuLjQz
NzZjYzIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvdWkvdGV4dC9jb3JyZWN0aW9uL0phdmFDb3JyZWN0aW9uQXNzaXN0YW50LmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC91aS90
ZXh0L2NvcnJlY3Rpb24vSmF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQuamF2YQpAQCAtMSw1ICsxLDUg
QEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTUg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
ICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0CkBAIC03LDYgKzcsNyBAQAogICoKICAqIENvbnRyaWJ1dG9yczoKICAqICAgICBJQk0gQ29y
cG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KKyAqICAgICBTdGVwaGFu
IEhlcnJtYW5uIC0gT2ZmZXIgbmV3IGNvbW1hbmQgIkFubm90YXRlIiBvbiBDbGFzc0ZpbGVFZGl0
b3IgLSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvNDU4MjAxCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLnVpLnRleHQuY29ycmVjdGlv
bjsKIApAQCAtMzAsNiArMzEsNyBAQAogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuY29u
dGVudGFzc2lzdC5JQ29tcGxldGlvbkxpc3RlbmVyOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNl
LnRleHQuY29udGVudGFzc2lzdC5JQ29tcGxldGlvblByb3Bvc2FsOwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNzaXN0QXNzaXN0YW50OworaW1wb3J0
IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuSVF1aWNrQXNzaXN0UHJvY2Vzc29y
OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQucXVpY2thc3Npc3QuUXVpY2tBc3Npc3RB
c3Npc3RhbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuQW5ub3RhdGlv
bjsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LnNvdXJjZS5JQW5ub3RhdGlvbk1vZGVs
OwpAQCAtNDksNiArNTEsNyBAQAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC51aS5TaGFyZWRBU1RQ
cm92aWRlcjsKIAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5KYXZhUGx1Z2lu
OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9yLkNsYXNzRmls
ZUVkaXRvcjsKIAogCiBwdWJsaWMgY2xhc3MgSmF2YUNvcnJlY3Rpb25Bc3Npc3RhbnQgZXh0ZW5k
cyBRdWlja0Fzc2lzdEFzc2lzdGFudCB7CkBAIC03Miw3ICs3NSwxMSBAQAogCQlBc3NlcnQuaXNO
b3ROdWxsKGVkaXRvcik7CiAJCWZFZGl0b3I9IGVkaXRvcjsKIAotCQlKYXZhQ29ycmVjdGlvblBy
b2Nlc3NvciBwcm9jZXNzb3I9IG5ldyBKYXZhQ29ycmVjdGlvblByb2Nlc3Nvcih0aGlzKTsKKwkJ
SVF1aWNrQXNzaXN0UHJvY2Vzc29yIHByb2Nlc3NvcjsKKwkJaWYgKGVkaXRvciBpbnN0YW5jZW9m
IENsYXNzRmlsZUVkaXRvcikKKwkJCXByb2Nlc3Nvcj0gbmV3IEV4dGVybmFsTnVsbEFubm90YXRp
b25RdWlja0Fzc2lzdFByb2Nlc3Nvcih0aGlzKTsKKwkJZWxzZQorCQkJcHJvY2Vzc29yPSBuZXcg
SmF2YUNvcnJlY3Rpb25Qcm9jZXNzb3IodGhpcyk7CiAKIAkJc2V0UXVpY2tBc3Npc3RQcm9jZXNz
b3IocHJvY2Vzc29yKTsKIAkJZW5hYmxlQ29sb3JlZExhYmVscyhQbGF0Zm9ybVVJLmdldFByZWZl
cmVuY2VTdG9yZSgpLmdldEJvb2xlYW4oSVdvcmtiZW5jaFByZWZlcmVuY2VDb25zdGFudHMuVVNF
X0NPTE9SRURfTEFCRUxTKSk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3Jn
L2VjbGlwc2UvamR0L3VpL2FjdGlvbnMvSUphdmFFZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQudWkvdWkvb3JnL2VjbGlwc2UvamR0L3VpL2FjdGlvbnMvSUph
dmFFZGl0b3JBY3Rpb25EZWZpbml0aW9uSWRzLmphdmEKaW5kZXggOTk3ZWQyNC4uZDJhZTNjYiAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LnVpL3VpL29yZy9lY2xpcHNlL2pkdC91aS9hY3Rp
b25zL0lKYXZhRWRpdG9yQWN0aW9uRGVmaW5pdGlvbklkcy5qYXZhCisrKyBiL29yZy5lY2xpcHNl
LmpkdC51aS91aS9vcmcvZWNsaXBzZS9qZHQvdWkvYWN0aW9ucy9JSmF2YUVkaXRvckFjdGlvbkRl
ZmluaXRpb25JZHMuamF2YQpAQCAtNzU5LDQgKzc1OSwxMSBAQAogCSAqIEBzaW5jZSAzLjIKIAkg
Ki8KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDTEVBTl9VUD0gIm9yZy5lY2xpcHNlLmpk
dC51aS5lZGl0LnRleHQuamF2YS5jbGVhbi51cCI7IC8vJE5PTi1OTFMtMSQKKworCS8qKgorCSAq
IEFjdGlvbiBkZWZpbml0aW9uIGlkIG9mIHRoZSBhbm5vdGF0ZSBjbGFzcyBmaWxlIGFjdGlvbgor
CSAqICh2YWx1ZTogPGNvZGU+Im9yZy5lY2xpcHNlLmpkdC51aS5lZGl0LnRleHQuamF2YS5hbm5v
dGF0ZS5jbGFzc0ZpbGUiPC9jb2RlPikuCisJICogQHNpbmNlIDMuMTEKKwkgKi8KKwlwdWJsaWMg
c3RhdGljIGZpbmFsIFN0cmluZyBBTk5PVEFURV9DTEFTU19GSUxFPSAib3JnLmVjbGlwc2UuamR0
LnVpLmVkaXQudGV4dC5qYXZhLmFubm90YXRlLmNsYXNzRmlsZSI7IC8vJE5PTi1OTFMtMSQKIH0K
</data>

          </attachment>
      

    </bug>

</bugzilla>