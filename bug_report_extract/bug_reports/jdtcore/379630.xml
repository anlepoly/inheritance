<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>379630</bug_id>
          
          <creation_ts>2012-05-16 00:12:00 -0400</creation_ts>
          <short_desc>Regression: NPE during reconcile/build</short_desc>
          <delta_ts>2012-05-17 02:45:33 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>3.8 RC1</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Deepak Azad">deepakazad</reporter>
          <assigned_to name="Ayushman Jain">amj87.iitr</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>markus_keller</cc>
    
    <cc>satyam.kandula</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="50881"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />
    <flag name="review"
          id="50882"
          type_id="1"
          status="+"
          setter="satyam.kandula"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2108614</commentid>
    <comment_count>0</comment_count>
    <who name="Deepak Azad">deepakazad</who>
    <bug_when>2012-05-16 00:12:11 -0400</bug_when>
    <thetext>Most likely caused by bad fix for bug 376550.

Paste the following snippet in PE (This is from org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.test55(), which currently fails)
-------------------------------------------------
package p;
class A&lt;S extends Number &amp; Cloneable&gt; {
    S s;
    {
        S /*[*/s/*]*/;
        s= A.this.s;
    }
}
-------------------------------------------------

The exception
-------------------------------------------------------------------------------
java.lang.NullPointerException
	at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.analyseCode(LocalDeclaration.java:56)
	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
	at org.eclipse.jdt.internal.compiler.ast.Initializer.analyseCode(Initializer.java:42)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:672)
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:255)
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:111)
	at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:923)
	at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:965)
	at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:203)
	at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:269)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:190)
	at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:89)
	at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:728)
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:788)
	at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1247)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:126)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:108)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:89)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:87)
	at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.initialReconcile(JavaReconcilingStrategy.java:178)
	at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114)
	at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:136)
	at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:105)
	at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:406)
	at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:173)
-------------------------------------------------------------------------------</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108640</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-16 02:24:06 -0400</bug_when>
    <thetext>Ayush, please take a look. We need to quickly decide whether to roll back
or fix forward.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108662</commentid>
    <comment_count>2</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-16 03:47:45 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; Most likely caused by bad fix for bug 376550.
What do you mean by &apos;bad&apos; fix? The fix is perfectly ok, there&apos;s only a missing null check. If you think the fix is bad, please enumerate the problems as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108665</commentid>
    <comment_count>3</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-05-16 03:51:09 -0400</bug_when>
    <thetext>(In reply to comment #2)
&gt; (In reply to comment #0)
&gt; &gt; Most likely caused by bad fix for bug 376550.
&gt; What do you mean by &apos;bad&apos; fix? The fix is perfectly ok,

No, it is not perfectly OK, since it causes an NPE.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108710</commentid>
    <comment_count>4</comment_count>
      <attachid>215693</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-16 05:02:29 -0400</bug_when>
    <thetext>Created attachment 215693
proposed fix v1.0 + regression tests

Srikanth, please review. Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108726</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-16 05:21:50 -0400</bug_when>
    <thetext>Satyam, As I am away for the next hour or so, could you review
this patch as well as experiment with it a bit to verify it. This
is so Ayush can early feedback in case of any issues.

I&apos;ll also review it later in the day.

Ayush, let us also run the broader JDT tests before release. TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108756</commentid>
    <comment_count>6</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-16 06:18:04 -0400</bug_when>
    <thetext>This patch looks good, for which I have a minor comment.
QualifiedAllocationExpression.java: The if&apos;s could be combined.

I also looked at the patch in bug 376550 and have a comment there. 
BlockScope#resetDeclaringClassMethodStaticFlag(): There is a null-check for enclosingClassScope, which probably doesn&apos;t really happen, but if there is really a null, there will be an infinite-loop.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108799</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-16 08:06:00 -0400</bug_when>
    <thetext>Patch looks good. No further comments beyond comment#6.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2108868</commentid>
    <comment_count>8</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-16 09:49:26 -0400</bug_when>
    <thetext>Released in master via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=264e20b3b391e1bf2368fe3b934918be326e6ec2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2109297</commentid>
    <comment_count>9</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-05-17 02:45:33 -0400</bug_when>
    <thetext>Verified for 4.2RC1 using build I20120516-1900</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>215693</attachid>
            <date>2012-05-16 05:02:00 -0400</date>
            <delta_ts>2012-05-16 05:02:29 -0400</delta_ts>
            <desc>proposed fix v1.0 + regression tests</desc>
            <filename>Fixed-bug-379630-Regression-NPE-during-reconcile-bui.patch</filename>
            <type>text/plain</type>
            <size>5731</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL1Byb2JsZW1UeXBlQW5k
TWV0aG9kVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3Jj
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vUHJvYmxlbVR5
cGVBbmRNZXRob2RUZXN0LmphdmEKaW5kZXggMDBlMTc4NC4uNjJjODQ5YSAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vUHJvYmxlbVR5cGVBbmRNZXRob2RUZXN0Lmph
dmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vUHJvYmxlbVR5cGVBbmRNZXRo
b2RUZXN0LmphdmEKQEAgLTc5NDksNCArNzk0OSwzNCBAQAogCQljb21waWxlck9wdGlvbnMgLyog
Y3VzdG9tIG9wdGlvbnMgKi8KIAkpOwogfQorLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1
Z3Mvc2hvd19idWcuY2dpP2lkPTM3OTUzMAorcHVibGljIHZvaWQgdGVzdDM3OTUzMCgpIHsKKwlp
ZiAodGhpcy5jb21wbGlhbmNlTGV2ZWwgPCBDbGFzc0ZpbGVDb25zdGFudHMuSkRLMV81KQorCQly
ZXR1cm47CisJTWFwIGNvbXBpbGVyT3B0aW9ucyA9IGdldENvbXBpbGVyT3B0aW9ucygpOworCWNv
bXBpbGVyT3B0aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9SZXBvcnRNZXRob2RDYW5C
ZVN0YXRpYywgQ29tcGlsZXJPcHRpb25zLkVSUk9SKTsKKwljb21waWxlck9wdGlvbnMucHV0KENv
bXBpbGVyT3B0aW9ucy5PUFRJT05fUmVwb3J0TWV0aG9kQ2FuQmVQb3RlbnRpYWxseVN0YXRpYywg
Q29tcGlsZXJPcHRpb25zLkVSUk9SKTsKKwljb21waWxlck9wdGlvbnMucHV0KENvbXBpbGVyT3B0
aW9ucy5PUFRJT05fUmVwb3J0VW51c2VkUHJpdmF0ZU1lbWJlciwgQ29tcGlsZXJPcHRpb25zLklH
Tk9SRSk7CisJdGhpcy5ydW5OZWdhdGl2ZVRlc3QoCisJCW5ldyBTdHJpbmdbXSB7CisJCQkJIlgu
amF2YSIsIAorCQkJCSJjbGFzcyBBPFMgZXh0ZW5kcyBOdW1iZXIgJiBDbG9uZWFibGU+IHtcbiIg
KworCQkJCSIgICBTIHM7XG4iICsKKwkJCQkiCXtcbiIgKworCQkJCSIJCSBTIC8qWyovcy8qXSov
O1xuIiArCisJCQkJIgkJIHM9IEEudGhpcy5zOyIgKworCQkJCSIJfVxuIiArCisJCQkJIn0iCisJ
CX0sCisJCSItLS0tLS0tLS0tXG4iICsgCisJCSIxLiBXQVJOSU5HIGluIFguamF2YSAoYXQgbGlu
ZSA0KVxuIiArIAorCQkiCVMgLypbKi9zLypdKi87XG4iICsgCisJCSIJICAgICAgIF5cbiIgKyAK
KwkJIlRoZSBsb2NhbCB2YXJpYWJsZSBzIGlzIGhpZGluZyBhIGZpZWxkIGZyb20gdHlwZSBBPFM+
XG4iICsgCisJCSItLS0tLS0tLS0tXG4iLAorCQludWxsIC8qIG5vIGV4dHJhIGNsYXNzIGxpYnJh
cmllcyAqLywKKwkJdHJ1ZSAvKiBmbHVzaCBvdXRwdXQgZGlyZWN0b3J5ICovLAorCQljb21waWxl
ck9wdGlvbnMgLyogY3VzdG9tIG9wdGlvbnMgKi8KKwkpOworfQogfQpkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL2FzdC9Mb2NhbERlY2xhcmF0aW9uLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0xvY2FsRGVjbGFyYXRp
b24uamF2YQppbmRleCBkNzgyNGMyLi40ODcyM2E2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0xv
Y2FsRGVjbGFyYXRpb24uamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0xvY2FsRGVjbGFyYXRpb24uamF2
YQpAQCAtNTMsMTIgKzUzLDEzIEBACiAJCQkvLyBpbml0aWFsaXphdGlvbiBzY29wZQogCQkJbWV0
aG9kU2NvcGUgPSBtZXRob2RTY29wZS5lbmNsb3NpbmdNZXRob2RTY29wZSgpOwogCQl9Ci0JCUFi
c3RyYWN0TWV0aG9kRGVjbGFyYXRpb24gbWV0aG9kRGVjbGFyYXRpb24gPSBtZXRob2RTY29wZS5y
ZWZlcmVuY2VNZXRob2QoKTsKKwkJQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbiBtZXRob2REZWNs
YXJhdGlvbiA9IChtZXRob2RTY29wZSAhPSBudWxsKSA/IG1ldGhvZFNjb3BlLnJlZmVyZW5jZU1l
dGhvZCgpIDogbnVsbDsKIAkJaWYgKG1ldGhvZERlY2xhcmF0aW9uICE9IG51bGwgJiYgbWV0aG9k
RGVjbGFyYXRpb24uYmluZGluZyAhPSBudWxsKSB7CiAJCQlUeXBlVmFyaWFibGVCaW5kaW5nW10g
dHlwZVZhcmlhYmxlcyA9IG1ldGhvZERlY2xhcmF0aW9uLmJpbmRpbmcudHlwZVZhcmlhYmxlcygp
OworCQkJaWYgKHR5cGVWYXJpYWJsZXMgPT0gbnVsbCkgdHlwZVZhcmlhYmxlcyA9IEJpbmRpbmcu
Tk9fVFlQRV9WQVJJQUJMRVM7CiAJCQlpZiAodHlwZVZhcmlhYmxlcyA9PSBCaW5kaW5nLk5PX1RZ
UEVfVkFSSUFCTEVTKSB7CiAJCQkJLy8gTWV0aG9kIGRlY2xhcmVzIG5vIHR5cGUgdmFyaWFibGVz
LgotCQkJCWlmICh0eXBlVmFyaWFibGVCaW5kaW5nLmRlY2xhcmluZ0VsZW1lbnQgaW5zdGFuY2Vv
ZiBUeXBlQmluZGluZykKKwkJCQlpZiAodHlwZVZhcmlhYmxlQmluZGluZyAhPSBudWxsICYmIHR5
cGVWYXJpYWJsZUJpbmRpbmcuZGVjbGFyaW5nRWxlbWVudCBpbnN0YW5jZW9mIFR5cGVCaW5kaW5n
KQogCQkJCQljdXJyZW50U2NvcGUucmVzZXREZWNsYXJpbmdDbGFzc01ldGhvZFN0YXRpY0ZsYWco
KFR5cGVCaW5kaW5nKSB0eXBlVmFyaWFibGVCaW5kaW5nLmRlY2xhcmluZ0VsZW1lbnQpOwogCQkJ
CWVsc2UKIAkJCQkJY3VycmVudFNjb3BlLnJlc2V0RW5jbG9zaW5nTWV0aG9kU3RhdGljRmxhZygp
OwpAQCAtNzMsNyArNzQsNyBAQAogCQkJCX0KIAkJCQlpZiAoIXVzZXNFbmNsb3NpbmdUeXBlVmFy
KSB7CiAJCQkJCS8vIHVzZXMgYSB0eXBlIHZhcmlhYmxlIG5vdCBkZWNsYXJlZCBieSBlbmNsb3Np
bmcgbWV0aG9kCi0JCQkJCWlmICh0eXBlVmFyaWFibGVCaW5kaW5nLmRlY2xhcmluZ0VsZW1lbnQg
aW5zdGFuY2VvZiBUeXBlQmluZGluZykKKwkJCQkJaWYgKHR5cGVWYXJpYWJsZUJpbmRpbmcgIT0g
bnVsbCAmJiB0eXBlVmFyaWFibGVCaW5kaW5nLmRlY2xhcmluZ0VsZW1lbnQgaW5zdGFuY2VvZiBU
eXBlQmluZGluZykKIAkJCQkJCWN1cnJlbnRTY29wZS5yZXNldERlY2xhcmluZ0NsYXNzTWV0aG9k
U3RhdGljRmxhZygoVHlwZUJpbmRpbmcpIHR5cGVWYXJpYWJsZUJpbmRpbmcuZGVjbGFyaW5nRWxl
bWVudCk7CiAJCQkJCWVsc2UKIAkJCQkJCWN1cnJlbnRTY29wZS5yZXNldEVuY2xvc2luZ01ldGhv
ZFN0YXRpY0ZsYWcoKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvUXVhbGlmaWVkQWxsb2NhdGlv
bkV4cHJlc3Npb24uamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3QvUXVhbGlmaWVkQWxsb2NhdGlvbkV4cHJlc3Np
b24uamF2YQppbmRleCBhODliMGJlLi4zZWI3ZDk2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L1F1
YWxpZmllZEFsbG9jYXRpb25FeHByZXNzaW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9RdWFsaWZp
ZWRBbGxvY2F0aW9uRXhwcmVzc2lvbi5qYXZhCkBAIC02NSw5ICs2NSwxMyBAQAogCQlpZiAodGhp
cy5lbmNsb3NpbmdJbnN0YW5jZSAhPSBudWxsKSB7CiAJCQlmbG93SW5mbyA9IHRoaXMuZW5jbG9z
aW5nSW5zdGFuY2UuYW5hbHlzZUNvZGUoY3VycmVudFNjb3BlLCBmbG93Q29udGV4dCwgZmxvd0lu
Zm8pOwogCQl9IGVsc2UgewotCQkJaWYgKHRoaXMuYmluZGluZy5kZWNsYXJpbmdDbGFzcy5zdXBl
cmNsYXNzKCkuaXNNZW1iZXJUeXBlKCkgJiYgIXRoaXMuYmluZGluZy5kZWNsYXJpbmdDbGFzcy5z
dXBlcmNsYXNzKCkuaXNTdGF0aWMoKSkgeworCQkJUmVmZXJlbmNlQmluZGluZyBzdXBlcmNsYXNz
ID0gbnVsbDsKKwkJCWlmICh0aGlzLmJpbmRpbmcgIT0gbnVsbCAmJiB0aGlzLmJpbmRpbmcuZGVj
bGFyaW5nQ2xhc3MgIT0gbnVsbCkgeworCQkJCXN1cGVyY2xhc3MgPSB0aGlzLmJpbmRpbmcuZGVj
bGFyaW5nQ2xhc3Muc3VwZXJjbGFzcygpOworCQkJfQorCQkJaWYgKHN1cGVyY2xhc3MgIT0gbnVs
bCAmJiBzdXBlcmNsYXNzLmlzTWVtYmVyVHlwZSgpICYmICFzdXBlcmNsYXNzLmlzU3RhdGljKCkp
IHsKIAkJCQkvLyBjcmVhdGluZyBhbiBhbm9ueW1vdXMgdHlwZSBvZiBhIG5vbi1zdGF0aWMgbWVt
YmVyIHR5cGUgd2l0aG91dCBhbiBlbmNsb3NpbmcgaW5zdGFuY2Ugb2YgcGFyZW50IHR5cGUKLQkJ
CQljdXJyZW50U2NvcGUucmVzZXREZWNsYXJpbmdDbGFzc01ldGhvZFN0YXRpY0ZsYWcodGhpcy5i
aW5kaW5nLmRlY2xhcmluZ0NsYXNzLnN1cGVyY2xhc3MoKS5lbmNsb3NpbmdUeXBlKCkpOworCQkJ
CWN1cnJlbnRTY29wZS5yZXNldERlY2xhcmluZ0NsYXNzTWV0aG9kU3RhdGljRmxhZyhzdXBlcmNs
YXNzLmVuY2xvc2luZ1R5cGUoKSk7CiAJCQl9CiAJCX0KIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xv
b2t1cC9CbG9ja1Njb3BlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0Jsb2NrU2NvcGUuamF2YQppbmRl
eCAzZGVlNmUyLi4yMzRlZmQwIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0Jsb2NrU2NvcGUu
amF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0Jsb2NrU2NvcGUuamF2YQpAQCAtOTk1LDcgKzk5NSw3
IEBACiAJCUNsYXNzU2NvcGUgZW5jbG9zaW5nQ2xhc3NTY29wZSA9IG1ldGhvZFNjb3BlLmVuY2xv
c2luZ0NsYXNzU2NvcGUoKTsKIAkJaWYgKGVuY2xvc2luZ0NsYXNzU2NvcGUgIT0gbnVsbCkgewog
CQkJVHlwZURlY2xhcmF0aW9uIHR5cGUgPSBlbmNsb3NpbmdDbGFzc1Njb3BlLnJlZmVyZW5jZUNv
bnRleHQ7Ci0JCQlpZiAodHlwZS5iaW5kaW5nICE9IG51bGwgJiYgZGVjbGFyaW5nQ2xhc3MgIT0g
bnVsbCAmJiB0eXBlLmJpbmRpbmcgIT0gZGVjbGFyaW5nQ2xhc3Mub3JpZ2luYWwoKSkgeworCQkJ
aWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlLmJpbmRpbmcgIT0gbnVsbCAmJiBkZWNsYXJpbmdDbGFz
cyAhPSBudWxsICYmIHR5cGUuYmluZGluZyAhPSBkZWNsYXJpbmdDbGFzcy5vcmlnaW5hbCgpKSB7
CiAJCQkJbWV0aG9kU2NvcGUgPSBlbmNsb3NpbmdDbGFzc1Njb3BlLmVuY2xvc2luZ01ldGhvZFNj
b3BlKCk7CiAJCQl9IGVsc2UgewogCQkJCWJyZWFrOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>