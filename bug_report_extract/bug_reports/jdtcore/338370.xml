<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>338370</bug_id>
          
          <creation_ts>2011-02-28 03:48:00 -0500</creation_ts>
          <short_desc>NPE in BatchFilerImpl.getResource</short_desc>
          <delta_ts>2011-03-16 09:54:43 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>APT</component>
          <version>3.6.1</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P2</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 M6</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Philippe Marschall">philippe.marschall</reporter>
          <assigned_to name="Walter Harley">eclipse</assigned_to>
          <cc>eclipse</cc>
    
    <cc>Olivier_Thomann</cc>
          
          <votes>5</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1890072</commentid>
    <comment_count>0</comment_count>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-02-28 03:48:06 -0500</bug_when>
    <thetext>org.eclipse.jdt.internal.compiler.apt.dispatch.BatchFilerImpl.getResource(Location, CharSequence, CharSequence) can throw a NullPointerException in case the resource does not exist. This happens because org.eclipse.jdt.internal.compiler.apt.util.EclipseFileManager.getFileForInput(Location, String, String) returns null in this case and no null check is made on the return value before invoking toUri().

javac throws a FileNotFoundException in this case so this patch introduces the same behavior.

I could provide a test case if neede.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1890073</commentid>
    <comment_count>1</comment_count>
      <attachid>189915</attachid>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-02-28 03:48:49 -0500</bug_when>
    <thetext>Created attachment 189915
patch that throws FileNotFoundException</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1890580</commentid>
    <comment_count>2</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-02-28 13:17:27 -0500</bug_when>
    <thetext>Thanks for finding that and for providing the patch!

Filer.getResource is documented to throw an IOException if the file cannot be found, so I agree with the proposed change.

Olivier, I wonder if instead of catching the null and converting it to a FileNotFoundException in the dispatcher, we should just throw FileNotFoundException directly from EclipseFileManager.getFileForInput()?  I don&apos;t have the source code handy right now but I&apos;ll try to look at this late tonight or tomorrow unless you get a chance sooner.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1890588</commentid>
    <comment_count>3</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-02-28 13:25:51 -0500</bug_when>
    <thetext>A test case would be welcome.
Walter, you also need to set the iplog property and the copyrights/contribution of this file need to be updated.

We should indeed investigate if the exception should not be thrown by the file manager directly. It would be good to check what javac is doing in this case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1891151</commentid>
    <comment_count>4</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-01 10:27:59 -0500</bug_when>
    <thetext>Walter,

Can you take care of this for M6 (next week) or should I do it ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1891362</commentid>
    <comment_count>5</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-01 14:40:24 -0500</bug_when>
    <thetext>I think I can get it in for M6.  I want to do a little research first to see if we should throw an exception from getFileForInput().</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1892390</commentid>
    <comment_count>6</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-03 04:26:06 -0500</bug_when>
    <thetext>The file manager that is used by BatchFilerImpl may be passed in by the compiler and may even come from an outside implementation via the Tools (JSR199) API.  The JavaFileManager.getFileForInput() method is documented by Sun/Oracle as &quot;might return null if the file does not exist&quot; - how&apos;s that for precise API documentation?  &quot;Might&quot;??

So it seems we cannot rely on the file manager to throw an exception, and we need to throw it ourselves inside BatchFilerImpl, as in Philippe&apos;s original suggestion.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1892707</commentid>
    <comment_count>7</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-03 12:25:30 -0500</bug_when>
    <thetext>This should be released with a regression test.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1892771</commentid>
    <comment_count>8</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-03 14:26:51 -0500</bug_when>
    <thetext>Yep, I agree.  I didn&apos;t do it last night because I didn&apos;t have time to write the test... will try again tonight.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893236</commentid>
    <comment_count>9</comment_count>
      <attachid>190382</attachid>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-03-04 08:52:32 -0500</bug_when>
    <thetext>Created attachment 190382
sample processor

A really simple sample processor that triggers the bug.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893237</commentid>
    <comment_count>10</comment_count>
      <attachid>190383</attachid>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-03-04 08:52:59 -0500</bug_when>
    <thetext>Created attachment 190383
sample processor user

a really simple sample processor user</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893239</commentid>
    <comment_count>11</comment_count>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-03-04 08:55:25 -0500</bug_when>
    <thetext>I added two files. A really simple processor and user that should trigger the issue. They work fine when running in Eclipse JDT but should throw a NullPointerException when running the batch compiler. I hope this helps you write a regression test.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893281</commentid>
    <comment_count>12</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-04 10:01:20 -0500</bug_when>
    <thetext>Ok, I&apos;ll prepare a patch with a regression test and I&apos;ll request a review from Walter.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893345</commentid>
    <comment_count>13</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-04 11:06:44 -0500</bug_when>
    <thetext>(In reply to comment #0)
&gt; javac throws a FileNotFoundException in this case so this patch introduces the
&gt; same behavior.
Philippe, what version of javac have you tried ?
When I try it with a jdk6 version, the file not found exception is not thrown. If I try with a JDK7 (b131), then it works.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893362</commentid>
    <comment_count>14</comment_count>
      <attachid>190406</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-04 11:22:01 -0500</bug_when>
    <thetext>Created attachment 190406
Proposed fix + regression test

Patch that contains the fix and a regression test. The system compiler is not tested as I could not get the test to pass on a JDK6 VM. It works on a JDK7, but this is not the VM used for the Eclipse tests.

Walter, please review.
Philippe, I would like to understand how you got this to work with javac.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893375</commentid>
    <comment_count>15</comment_count>
      <attachid>190408</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-04 11:30:22 -0500</bug_when>
    <thetext>Created attachment 190408
Proposed fix + regression test

Same patch removing an unused import</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893436</commentid>
    <comment_count>16</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-04 12:46:32 -0500</bug_when>
    <thetext>I will review tonight &amp; release for M6 warmup build if it looks good.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1893748</commentid>
    <comment_count>17</comment_count>
    <who name="Walter Harley">eclipse</who>
    <bug_when>2011-03-05 14:46:05 -0500</bug_when>
    <thetext>Committed to HEAD; will be released in M6.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1899689</commentid>
    <comment_count>18</comment_count>
    <who name="Philippe Marschall">philippe.marschall</who>
    <bug_when>2011-03-16 09:49:41 -0400</bug_when>
    <thetext>Oliver you&apos;re right. I went over the code with jdk6 again and the the following line

messenger.printMessage(Diagnostic.Kind.ERROR, &quot;no exception raised&quot;);

is definitely reached. Sorry I didn&apos;t test the sample code more throughly.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1899692</commentid>
    <comment_count>19</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-16 09:54:43 -0400</bug_when>
    <thetext>(In reply to comment #18)
&gt; Oliver you&apos;re right. I went over the code with jdk6 again and the the following
&gt; line
&gt; messenger.printMessage(Diagnostic.Kind.ERROR, &quot;no exception raised&quot;);
&gt; is definitely reached. Sorry I didn&apos;t test the sample code more throughly.
Ok, thanks for confirming. This means that the fix is right (we are fixing a bug), but we might end up being out-of-sync with the way javac behaves. In this case, I think it is perfectly valid.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>189915</attachid>
            <date>2011-02-28 03:48:00 -0500</date>
            <delta_ts>2011-03-03 04:34:53 -0500</delta_ts>
            <desc>patch that throws FileNotFoundException</desc>
            <filename>BatchFilerImpl.patch</filename>
            <type>text/plain</type>
            <size>1359</size>
            <attacher name="Philippe Marschall">philippe.marschall</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5qZHQuY29tcGls
ZXIuYXB0CkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FwdC9k
aXNwYXRjaC9CYXRjaEZpbGVySW1wbC5qYXZhCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnNyb290
L2VjbGlwc2Uvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC9zcmMvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2FwdC9kaXNwYXRjaC9CYXRjaEZpbGVySW1wbC5qYXZhLHYKcmV0
cmlldmluZyByZXZpc2lvbiAxLjYKZGlmZiAtdSAtcjEuNiBCYXRjaEZpbGVySW1wbC5qYXZhCi0t
LSBzcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FwdC9kaXNwYXRjaC9CYXRj
aEZpbGVySW1wbC5qYXZhCTI5IEFwciAyMDA3IDA0OjU3OjA4IC0wMDAwCTEuNgorKysgc3JjL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hcHQvZGlzcGF0Y2gvQmF0Y2hGaWxlcklt
cGwuamF2YQkyOCBGZWIgMjAxMSAwODozNjowNCAtMDAwMApAQCAtMTIsNiArMTIsNyBAQAogCiBw
YWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hcHQuZGlzcGF0Y2g7CiAK
K2ltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsKIGltcG9ydCBqYXZhLmlvLklP
RXhjZXB0aW9uOwogaW1wb3J0IGphdmEubmV0LlVSSTsKIGltcG9ydCBqYXZhLnV0aWwuSGFzaFNl
dDsKQEAgLTEyMiw2ICsxMjMsOSBAQAogCQkvL1RPRE86IGRvIHdlIG5lZWQgdG8gY2hlY2sgdmFs
aWRpdHkgb2YgJ25hbWUnLCBvciBjYW4gd2UgdHJ1c3QgdGhlIGZpbGVtYW5hZ2VyIHRvIGhhbmRs
ZSB0aGF0PwogCQlGaWxlT2JqZWN0IGZvID0gX2ZpbGVNYW5hZ2VyLmdldEZpbGVGb3JJbnB1dCgK
IAkJCQlsb2NhdGlvbiwgcGtnLnRvU3RyaW5nKCksIHJlbGF0aXZlTmFtZS50b1N0cmluZygpKTsK
KwkJaWYgKGZvID09IG51bGwpIHsKKwkJCXRocm93IG5ldyBGaWxlTm90Rm91bmRFeGNlcHRpb24o
IlJlc291cmNlIGRvZXMgbm90IGV4aXN0IDogIiArIGxvY2F0aW9uICsgJy8nICsgcGtnICsgJy8n
ICsgcmVsYXRpdmVOYW1lKTsgLy8kTk9OLU5MUy0xJAorCQl9CiAJCVVSSSB1cmkgPSBmby50b1Vy
aSgpOwogCQlpZiAoX2NyZWF0ZWRGaWxlcy5jb250YWlucyh1cmkpKSB7CiAJCQl0aHJvdyBuZXcg
RmlsZXJFeGNlcHRpb24oIlJlc291cmNlIGFscmVhZHkgY3JlYXRlZCA6ICIgKyBsb2NhdGlvbiAr
ICcvJyArIHBrZyArICcvJyArIHJlbGF0aXZlTmFtZSk7IC8vJE5PTi1OTFMtMSQK
</data>
<flag name="iplog"
          id="39611"
          type_id="7"
          status="+"
          setter="eclipse"
    />
    <flag name="review"
          id="39612"
          type_id="6"
          status="+"
          setter="eclipse"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>190382</attachid>
            <date>2011-03-04 08:52:00 -0500</date>
            <delta_ts>2011-03-04 08:52:32 -0500</delta_ts>
            <desc>sample processor</desc>
            <filename>sample-processor.zip</filename>
            <type>application/zip</type>
            <size>4037</size>
            <attacher name="Philippe Marschall">philippe.marschall</attacher>
            
              <data encoding="base64">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
CVD3HvUibSS7ktHwDaU5vJaO8dYYNayS722R+fyuHdbyNJq3SweYNtrsVboQdjhh/QebL7UGGz17
8l29xcCIfcFsCoOkjptvQUH3yWLoQalRmva9byNKhzZ5oWYHsiqWpS9p/83sXt4TTcEUa67reIEo
7+io3eqT45YNbtWUT6U/ouoycle4nqDhE2WGawezG0W/LDw/gtPz36W+XyRRyJrZmWJ2ZYL6ft62
hRf2jPA1fEvPx9sbn9pZtb6G7xqD1Xx7aPhh37jvk6TybsviIr0oMai/GFH07wr9avQ1TiftQbRc
+Q1tr4g4giT9JukEehAnxXai9EiIzg466UlGJ0l0hfIfhIbcuoPOoS2kGF5CI4snY7/QVTw0eTRk
p5HAABkZDM32RCp1s4o6g7Ohq06cw3kyfqHhXPF6iLoYYegg5ukGjL/ISZzOh1d+Re8W+hnMiBpi
WBh8jdHUROrmFj6OIzf0GtOpuS18GsPPuKQ+c6mH9c/u8HP4DYpv8EV494rcdGMYo1gJzzvg5F3h
6SckgEH0KHGuopdyOUov0Riuk9QEpnGDttStEOcUBUrB1XEmcQ8llCn0btyGwFPy0Uv5qWCNbI+R
hsQ6UdOUYIlnRCnMpxH7hxzENDANtFnm1bmS08C7SMIKS1GFTecpohyy7j4B8/EcnqIFfASoETtF
7BlsYHP6FF7ge/zYmvgXUEsHCJSX2n7vBAAAQwsAAFBLAwQUAAgACAAsdWQ+AAAAAAAAAAAAAAAA
TAAAAHNhbXBsZS1wcm9jZXNzb3Ivc3JjL01FVEEtSU5GL3NlcnZpY2VzL2phdmF4LmFubm90YXRp
b24ucHJvY2Vzc2luZy5Qcm9jZXNzb3LLL0rXS03OySwoTtXLSinRSypNL9YLTswtyEkNKMpPTi0u
zi/iAgBQSwcIeNjuoicAAAAlAAAAUEsDBBQACAAIADt2ZD4AAAAAAAAAAAAAAAA+AAAAc2FtcGxl
LXByb2Nlc3Nvci9zcmMvb3JnL2VjbGlwc2UvamR0L2J1Z3MvU2FtcGxlUHJvY2Vzc29yLmphdmGd
VW1v2jAQ/p5fceJTqDozqdI2jXUFlVSa1pWK0H2tjHMEs2BHtsOoqv73nUNegNKJTSKJX567e+78
nMm5+MVTBG1ShiKTuUW2TBybFantB4Fc5do4WPI1Z1KzG5nhnXY3ulBJtBGYO6lV/xD1bfzGXuFk
xmJ0+443jCulHfd4lhst0FqpUjacWWe4cPfbJW36p1h5iqchf9CXUj8NPClTVmtptFqhcicZxUXu
MZgMm+3pU47234xjXRiBP9HYw4JuWMYJudIJUl1Pg2GGnj/zRKLt+ADstM4sG0meKm2dFEe3fZnH
syWK49ax4yrhJrnVgm91EPTOzgI4g+lCWqAfB4Op8blqBQ6tg7k2HrBwLrefez2vwEaSJM9yoWcX
+vcjjZhI5ZVMLi8uPl18fE92vWDwVrnDTqm+sggjzA0SJ0w63R2LveKFezM2iW6jYRw9fugGeTHL
pACRcWsh5qs8w0adgBuHKrHwSrfwHAAE9JQlAMpxhHNeZA6EVoQthNOGlTs9eldBDtyH3dINgC1y
pFmfJi97Tp8HUi3QSDfS4qXxNhiv0RiZYOt5RkeEXEEltpA68stVQ39HGF+hlaY9h8MeAFMt1NTk
HMJ6bUfKnkHYrUEAjiTAnJEpNV9zU2wz8jn5t0FXGAVznlncZkoVpASMXNPZwVrLBF57qCKUVwDM
y/flNlpLxlNL0ZWYOmZ9E8CKBqjSv9jV0NrUmacmr7YniL8tNUR+Sh7edFKthYfNwa5vh3H8OH6Y
3j9Mz6HToYfK/g43kvqPROs2rlPFg5YjkZOqJhS2/cq+S5WwaDIZT0pHdLJVhcBwab3yq1IDxRcL
CI9e64DtiZ0Y8248jSjkUXevgu78S/x3KPR1vfbdGHb98I6vkJTWKok65CX4A1BLBwjXAN8xogIA
AOQGAABQSwECFAAUAAgACAAdcmQ+G1SZ/rYAAAAnAQAAGwAAAAAAAAAAAAAAAAAAAAAAc2FtcGxl
LXByb2Nlc3Nvci8uY2xhc3NwYXRoUEsBAhQAFAAIAAgAHXJkPhvT+QTAAAAAdwEAABkAAAAAAAAA
AAAAAAAA/wAAAHNhbXBsZS1wcm9jZXNzb3IvLnByb2plY3RQSwECFAAUAAgACAAdcmQ+uJFei9oA
AABpAgAANQAAAAAAAAAAAAAAAAAGAgAAc2FtcGxlLXByb2Nlc3Nvci8uc2V0dGluZ3Mvb3JnLmVj
bGlwc2UuamR0LmNvcmUucHJlZnNQSwECFAAUAAgACAAsdWQ+eNjuoicAAAAlAAAATAAAAAAAAAAA
AAAAAABDAwAAc2FtcGxlLXByb2Nlc3Nvci9iaW4vTUVUQS1JTkYvc2VydmljZXMvamF2YXguYW5u
b3RhdGlvbi5wcm9jZXNzaW5nLlByb2Nlc3NvclBLAQIUABQACAAIADx2ZD6Ul9p+7wQAAEMLAAA/
AAAAAAAAAAAAAAAAAOQDAABzYW1wbGUtcHJvY2Vzc29yL2Jpbi9vcmcvZWNsaXBzZS9qZHQvYnVn
cy9TYW1wbGVQcm9jZXNzb3IuY2xhc3NQSwECFAAUAAgACAAsdWQ+eNjuoicAAAAlAAAATAAAAAAA
AAAAAAAAAABACQAAc2FtcGxlLXByb2Nlc3Nvci9zcmMvTUVUQS1JTkYvc2VydmljZXMvamF2YXgu
YW5ub3RhdGlvbi5wcm9jZXNzaW5nLlByb2Nlc3NvclBLAQIUABQACAAIADt2ZD7XAN8xogIAAOQG
AAA+AAAAAAAAAAAAAAAAAOEJAABzYW1wbGUtcHJvY2Vzc29yL3NyYy9vcmcvZWNsaXBzZS9qZHQv
YnVncy9TYW1wbGVQcm9jZXNzb3IuamF2YVBLBQYAAAAABwAHAMACAADvDAAAAAA=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>190383</attachid>
            <date>2011-03-04 08:52:00 -0500</date>
            <delta_ts>2011-03-04 08:52:59 -0500</delta_ts>
            <desc>sample processor user</desc>
            <filename>sample-processor-user.zip</filename>
            <type>application/zip</type>
            <size>5234</size>
            <attacher name="Philippe Marschall">philippe.marschall</attacher>
            
              <data encoding="base64">UEsDBBQACAAIAOt0ZD4AAAAAAAAAAAAAAAAfAAAAc2FtcGxlLXByb2Nlc3Nvci11c2VyLy5EU19T
dG9yZe2YOw7CMBBEZ40LSzQuKd1wAG5gRckJuAAFV6D30SHaEbIUUlAlgnmS9VaKf2kcTwDY8Lhf
gAwgwY0zPpLYFoSuNs4hhBBCiH1jrnTcdhtCiB0ynw+FrnRzG58HOnZjMl3oSje3sV+gI53oTBe6
0s3NQ8sYPowrGxOKMYVYoetXryzE33Bw5fn7P2E1/wshfhiL43Uc8A4Eyw6vduvqhvVLQPCfhadu
bKEr3dy6CAixFU9QSwcIagCIbbIAAAAEGAAAUEsDBBQACAAIAJl1ZD4AAAAAAAAAAAAAAAAgAAAA
c2FtcGxlLXByb2Nlc3Nvci11c2VyLy5jbGFzc3BhdGh9UMFKw0AQPSdfEfbejb2IhyRFJIIFK7TR
a5nsDunqdrLszgb796ZqMRXa27zHe/PeTLH43NtsQB9MT6WYyxuRIaleG+pK8do8zu7EokoLZSEE
B7yr0uQPILE/ZB+GdCmCVyI7kj9jflGoejoJe99JVNa4gPJds7QQSe3GaLlc19uHl1Vz/7Sq1/l/
nSFGT2ClxjZ2MppfJ3q5YSANXr89NweH+RIG2NSzuby90mhSXYLjbYeEHhi1GC1JAczetJExHOEE
ZwR7HK9wPD4PrMgGsHEk2Ef8jkuK/Mxc5Of5Fxv1kV3kU6nW0HHdxF2lX1BLBwhU8nMW7wAAALkB
AABQSwMEFAAIAAgAaHRkPgAAAAAAAAAAAAAAACIAAABzYW1wbGUtcHJvY2Vzc29yLXVzZXIvLmZh
Y3RvcnlwYXRos0lLTC7JL6osSCzJsONSAAIbJJHUvJKiSoXszLwUW6Vw7+AAL8cgJYVMIEe/ODG3
ICdVt6AoPzm1uDi/SLe0OLUIQ1QvK7FISSE1LzEpJxWoq6SoNFVJoag0zzPPKbEkOcM3PyXVVikt
Mac4VUnfjstGH8UxAFBLBwgNs5kSdgAAAJsAAABQSwMEFAAIAAgA93NkPgAAAAAAAAAAAAAAAB4A
AABzYW1wbGUtcHJvY2Vzc29yLXVzZXIvLnByb2plY3R1kD0OwjAMhWd6CtS9DWwMoQwgLgAcIKRW
FdT8yE4rjo/ThgqQ2N6zn/05kYen7dcjIBnv9uW23pRrcNq3xnX78nY9V7vy0BQyoH+AjicgjSZE
DjfFSjploSFlQw8VJzQQeawGApRi6nFGe2vBxUaKt+JiXkdJi09zH0zfXgJoNtkdeUy5NhUy0WNX
g+5NIKgfbay1RxZqVFP+A84DCrshUWm24stL8UPIhXwA0+KAMEdn/Z899xN6yqVdy/jyxq//ewFQ
SwcI+3qGOcMAAAB8AQAAUEsDBBQACAAIAJh1ZD4AAAAAAAAAAAAAAAA+AAAAc2FtcGxlLXByb2Nl
c3Nvci11c2VyLy5zZXR0aW5ncy9vcmcuZWNsaXBzZS5qZHQuYXB0LmNvcmUucHJlZnNtjLEKwjAA
RPd+RcA9NJJFIZPWrZPdJSZniYQkXGK/3yo4CIV7w4PH7S4MYrQUvRZKH/W6gzgNk9j3SnVwMZQK
WYgHiORQ5QLWkJNRXeYsf8XTN2nLlyHZe4Q3jS9sNjPSle4caD56WxW0DX4zJlxOLkT83b4BUEsH
CBYRn4h2AAAAtwAAAFBLAwQUAAgACACZdWQ+AAAAAAAAAAAAAAAAOgAAAHNhbXBsZS1wcm9jZXNz
b3ItdXNlci8uc2V0dGluZ3Mvb3JnLmVjbGlwc2UuamR0LmNvcmUucHJlZnOVkk9LBDEMxe/7KQa8
l60MgsIcVFxQVDyI9870zRBp0yFtF/z2Zvxz3i6EEkJ/vLwkFweh7sVJt+8729/0Gtfd/cN7d7m3
docp0JphVsEMAU/I5gjJlHiwuySL+f/x6YuZkkCfuFKAaOKxgA1xIMZTlruvgq04gN0Y4Bv54mRB
eQuuzEniYM1VI1i5ZvjnNLkwqIEMOeIkGtdATn026HiMdTGbudcaR8igohBXTon8cVtfH05om8V5
aE5VJhyonVslqUo0LusUyqMHF5pJW4ZIkkYYXOP5qJ5MvmVOxRW9mty4/F+LP0v4BlBLBwhESOZV
6QAAAKICAABQSwMEFAAIAAgAKnZkPgAAAAAAAAAAAAAAAEgAAABzYW1wbGUtcHJvY2Vzc29yLXVz
ZXIvYmluL29yZy9lY2xpcHNlL2pkdC9idWdzL1NhbXBsZVByb2Nlc3NvclVzZXIuY2xhc3ONT7FO
wzAUPLdpA6HQ0gHByFY6YIm1CAmBmCJAFLI7yVNwlNiR7fBfTEgMfAAfhXBCJRYGbOme772T793n
1/sHgDPMQwwYFtoUnLJKNpZ4mTuetoXla1E3Fd0bnZG12jxZMiEChlkpXgSvhCr4XVpS5hjG51JJ
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
AAAAPAIAAHNhbXBsZS1wcm9jZXNzb3ItdXNlci8uZmFjdG9yeXBhdGhQSwECFAAUAAgACAD3c2Q+
+3qGOcMAAAB8AQAAHgAAAAAAAAAAAAAAAAACAwAAc2FtcGxlLXByb2Nlc3Nvci11c2VyLy5wcm9q
ZWN0UEsBAhQAFAAIAAgAmHVkPhYRn4h2AAAAtwAAAD4AAAAAAAAAAAAAAAAAEQQAAHNhbXBsZS1w
cm9jZXNzb3ItdXNlci8uc2V0dGluZ3Mvb3JnLmVjbGlwc2UuamR0LmFwdC5jb3JlLnByZWZzUEsB
AhQAFAAIAAgAmXVkPkRI5lXpAAAAogIAADoAAAAAAAAAAAAAAAAA8wQAAHNhbXBsZS1wcm9jZXNz
b3ItdXNlci8uc2V0dGluZ3Mvb3JnLmVjbGlwc2UuamR0LmNvcmUucHJlZnNQSwECFAAUAAgACAAq
dmQ+to8KHQUBAACFAQAASAAAAAAAAAAAAAAAAABEBgAAc2FtcGxlLXByb2Nlc3Nvci11c2VyL2Jp
bi9vcmcvZWNsaXBzZS9qZHQvYnVncy9TYW1wbGVQcm9jZXNzb3JVc2VyLmNsYXNzUEsBAhQAFAAI
AAgADnZkPuvxk2MzCAAAnQkAACoAAAAAAAAAAAAAAAAAvwcAAHNhbXBsZS1wcm9jZXNzb3ItdXNl
ci9zYW1wbGUtcHJvY2Vzc29yLmphclBLAQIUABQACAAIACp2ZD7tlWCPTwAAAFEAAABHAAAAAAAA
AAAAAAAAAEoQAABzYW1wbGUtcHJvY2Vzc29yLXVzZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9idWdz
L1NhbXBsZVByb2Nlc3NvclVzZXIuamF2YVBLBQYAAAAACQAJAE4DAAAOEQAAAAA=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>190406</attachid>
            <date>2011-03-04 11:22:00 -0500</date>
            <delta_ts>2011-03-04 11:30:22 -0500</delta_ts>
            <desc>Proposed fix + regression test</desc>
            <filename>patch_338370.txt</filename>
            <type>text/plain</type>
            <size>8134</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvbXBp
bGVyLmFwdA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXB0
L2Rpc3BhdGNoL0JhdGNoRmlsZXJJbXBsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zz
cm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQvc3JjL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb21waWxlci9hcHQvZGlzcGF0Y2gvQmF0Y2hGaWxlckltcGwuamF2YSx2
DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNg0KZGlmZiAtdSAtcjEuNiBCYXRjaEZpbGVySW1wbC5q
YXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hcHQvZGlzcGF0
Y2gvQmF0Y2hGaWxlckltcGwuamF2YQkyOSBBcHIgMjAwNyAwNDo1NzowOCAtMDAwMAkxLjYNCisr
KyBzcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FwdC9kaXNwYXRjaC9CYXRj
aEZpbGVySW1wbC5qYXZhCTQgTWFyIDIwMTEgMTY6MjA6MTYgLTAwMDANCkBAIC0xLDUgKzEsNSBA
QA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA2LCAyMDA3
IEJFQSBTeXN0ZW1zLCBJbmMuIA0KKyAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAxMSBCRUEgU3lz
dGVtcywgSW5jLiANCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRo
ZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC03LDEx
ICs3LDEyIEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAgd2hhcmxleUBiZWEuY29t
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICogICAgDQorICogICAgcGhpbGlw
cGUubWFyc2NoYWxsQG5ldGNldGVyYS5jaCAtIEZpeCBmb3IgMzM4MzcwDQogICoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKiovDQogDQogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGls
ZXIuYXB0LmRpc3BhdGNoOw0KIA0KK2ltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlv
bjsNCiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5uZXQuVVJJOw0K
IGltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCkBAIC0xMjIsNiArMTIzLDkgQEANCiAJCS8vVE9E
TzogZG8gd2UgbmVlZCB0byBjaGVjayB2YWxpZGl0eSBvZiAnbmFtZScsIG9yIGNhbiB3ZSB0cnVz
dCB0aGUgZmlsZW1hbmFnZXIgdG8gaGFuZGxlIHRoYXQ/DQogCQlGaWxlT2JqZWN0IGZvID0gX2Zp
bGVNYW5hZ2VyLmdldEZpbGVGb3JJbnB1dCgNCiAJCQkJbG9jYXRpb24sIHBrZy50b1N0cmluZygp
LCByZWxhdGl2ZU5hbWUudG9TdHJpbmcoKSk7DQorCQlpZiAoZm8gPT0gbnVsbCkgew0KKwkJCXRo
cm93IG5ldyBGaWxlTm90Rm91bmRFeGNlcHRpb24oIlJlc291cmNlIGRvZXMgbm90IGV4aXN0IDog
IiArIGxvY2F0aW9uICsgJy8nICsgcGtnICsgJy8nICsgcmVsYXRpdmVOYW1lKTsgLy8kTk9OLU5M
Uy0xJA0KKwkJfQ0KIAkJVVJJIHVyaSA9IGZvLnRvVXJpKCk7DQogCQlpZiAoX2NyZWF0ZWRGaWxl
cy5jb250YWlucyh1cmkpKSB7DQogCQkJdGhyb3cgbmV3IEZpbGVyRXhjZXB0aW9uKCJSZXNvdXJj
ZSBhbHJlYWR5IGNyZWF0ZWQgOiAiICsgbG9jYXRpb24gKyAnLycgKyBwa2cgKyAnLycgKyByZWxh
dGl2ZU5hbWUpOyAvLyROT04tTkxTLTEkDQojUCBvcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIuYXB0
LnRlc3RzDQpJbmRleDogcHJvY2Vzc29ycy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0L3Rl
c3RzL3Byb2Nlc3NvcnMvZmlsZXIvRmlsZXJQcm9jLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxl
OiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQudGVzdHMvcHJv
Y2Vzc29ycy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0L3Rlc3RzL3Byb2Nlc3NvcnMvZmls
ZXIvRmlsZXJQcm9jLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjENCmRpZmYgLXUgLXIx
LjEgRmlsZXJQcm9jLmphdmENCi0tLSBwcm9jZXNzb3JzL29yZy9lY2xpcHNlL2pkdC9jb21waWxl
ci9hcHQvdGVzdHMvcHJvY2Vzc29ycy9maWxlci9GaWxlclByb2MuamF2YQkyIE9jdCAyMDA3IDIw
OjUxOjIwIC0wMDAwCTEuMQ0KKysrIHByb2Nlc3NvcnMvb3JnL2VjbGlwc2UvamR0L2NvbXBpbGVy
L2FwdC90ZXN0cy9wcm9jZXNzb3JzL2ZpbGVyL0ZpbGVyUHJvYy5qYXZhCTQgTWFyIDIwMTEgMTY6
MjA6MTYgLTAwMDANCkBAIC0xLDUgKzEsNSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQot
ICogQ29weXJpZ2h0IChjKSAyMDA3IEJFQSBTeXN0ZW1zLCBJbmMuDQorICogQ29weXJpZ2h0IChj
KSAyMDA3LCAyMDExIEJFQSBTeXN0ZW1zLCBJbmMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQpAQCAtNywxMCArNywxMiBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAq
ICAgIHdoYXJsZXlAYmVhLmNvbSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAq
ICAgIHBoaWxpcHBlLm1hcnNjaGFsbEBuZXRjZXRlcmEuY2ggLSBSZWdyZXNzaW9uIHRlc3QgZm9y
IDMzODM3MA0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIA0KIHBhY2thZ2Ugb3JnLmVjbGlw
c2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy5wcm9jZXNzb3JzLmZpbGVyOw0KIA0KK2ltcG9ydCBq
YXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlv
bjsNCiBpbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07DQogaW1wb3J0IGphdmEuaW8uV3JpdGVy
Ow0KQEAgLTI4LDExICszMCwxMiBAQA0KIGltcG9ydCBqYXZheC5sYW5nLm1vZGVsLmVsZW1lbnQu
RWxlbWVudDsNCiBpbXBvcnQgamF2YXgubGFuZy5tb2RlbC5lbGVtZW50LlR5cGVFbGVtZW50Ow0K
IGltcG9ydCBqYXZheC50b29scy5EaWFnbm9zdGljOw0KK2ltcG9ydCBqYXZheC50b29scy5EaWFn
bm9zdGljLktpbmQ7DQogaW1wb3J0IGphdmF4LnRvb2xzLkZpbGVPYmplY3Q7DQogaW1wb3J0IGph
dmF4LnRvb2xzLlN0YW5kYXJkTG9jYXRpb247DQotaW1wb3J0IGphdmF4LnRvb2xzLkRpYWdub3N0
aWMuS2luZDsNCiANCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy5h
bm5vdGF0aW9ucy5HZW5SZXNvdXJjZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVy
LmFwdC50ZXN0cy5wcm9jZXNzb3JzLmJhc2UuQmFzZVByb2Nlc3NvcjsNCiANCiAvKioNCiAgKiBB
IHByb2Nlc3NvciB0aGF0IHJlYWRzIHRoZSBHZW5SZXNvdXJjZSBhbm5vdGF0aW9uIGFuZCBwcm9k
dWNlcyB0aGUgc3BlY2lmaWVkIEphdmEgdHlwZQ0KQEAgLTQwLDcgKzQzLDcgQEANCiBAU3VwcG9y
dGVkQW5ub3RhdGlvblR5cGVzKHsgIm9yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQudGVzdHMu
YW5ub3RhdGlvbnMuR2VuUmVzb3VyY2UiIH0pDQogQFN1cHBvcnRlZFNvdXJjZVZlcnNpb24oU291
cmNlVmVyc2lvbi5SRUxFQVNFXzYpDQogQFN1cHBvcnRlZE9wdGlvbnMoe30pDQotcHVibGljIGNs
YXNzIEZpbGVyUHJvYyBleHRlbmRzIEFic3RyYWN0UHJvY2Vzc29yIHsNCitwdWJsaWMgY2xhc3Mg
RmlsZXJQcm9jIGV4dGVuZHMgQmFzZVByb2Nlc3NvciB7DQogCQ0KIAlwcml2YXRlIFByb2Nlc3Np
bmdFbnZpcm9ubWVudCBfcHJvY2Vzc2luZ0VudjsNCiAJcHJpdmF0ZSBNZXNzYWdlciBfbWVzc2Fn
ZXI7DQpAQCAtNjcsNiArNzAsOSBAQA0KIAkJaWYgKCFhbm5vdGF0aW9ucy5pc0VtcHR5KCkpIHsN
CiAJCQlyb3VuZChhbm5vdGF0aW9ucywgcm91bmRFbnYpOw0KIAkJfQ0KKwkJaWYgKHJvdW5kRW52
LnByb2Nlc3NpbmdPdmVyKCkpIHsNCisJCQl0aGlzLnRyaWdnZXJFeGNlcHRpb24oKTsNCisJCX0N
CiAJCXJldHVybiB0cnVlOw0KIAl9DQogDQpAQCAtMTU3LDcgKzE2MywxOSBAQA0KIAkJCQl9DQog
CQkJfQ0KIAkJfQ0KLQkJDQotCQkNCisJfQ0KKw0KKwlwcml2YXRlIHZvaWQgdHJpZ2dlckV4Y2Vw
dGlvbigpIHsNCisJCU1lc3NhZ2VyIG1lc3NlbmdlciA9IHRoaXMucHJvY2Vzc2luZ0Vudi5nZXRN
ZXNzYWdlcigpOw0KKwkJdHJ5IHsNCisJCQlfZmlsZXIuZ2V0UmVzb3VyY2UoU3RhbmRhcmRMb2Nh
dGlvbi5TT1VSQ0VfT1VUUFVULCAiIiwgIm5vdC1leGlzdGluZy50eHQiKTsNCisJCQlyZXBvcnRF
cnJvcigiZmFpbGVkIik7DQorCQl9IGNhdGNoIChGaWxlTm90Rm91bmRFeGNlcHRpb24gZSkgew0K
KwkJCXJlcG9ydFN1Y2Nlc3MoKTsNCisJCQltZXNzZW5nZXIucHJpbnRNZXNzYWdlKERpYWdub3N0
aWMuS2luZC5OT1RFLCAiRmlsZU5vdEZvdW5kRXhjZXB0aW9uIik7DQorCQl9IGNhdGNoIChJT0V4
Y2VwdGlvbiBlKSB7DQorCQkJcmVwb3J0U3VjY2VzcygpOw0KKwkJCW1lc3Nlbmdlci5wcmludE1l
c3NhZ2UoRGlhZ25vc3RpYy5LaW5kLk5PVEUsIGUuZ2V0Q2xhc3MoKS5nZXROYW1lKCkpOw0KKwkJ
fQ0KIAl9DQogfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0L3Rlc3Rz
L0ZpbGVyVGVzdHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uv
b3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy9zcmMvb3JnL2VjbGlwc2UvamR0L2Nv
bXBpbGVyL2FwdC90ZXN0cy9GaWxlclRlc3RzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAx
LjENCmRpZmYgLXUgLXIxLjEgRmlsZXJUZXN0cy5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2pk
dC9jb21waWxlci9hcHQvdGVzdHMvRmlsZXJUZXN0cy5qYXZhCTIgT2N0IDIwMDcgMjA6NTE6MTYg
LTAwMDAJMS4xDQorKysgc3JjL29yZy9lY2xpcHNlL2pkdC9jb21waWxlci9hcHQvdGVzdHMvRmls
ZXJUZXN0cy5qYXZhCTQgTWFyIDIwMTEgMTY6MjA6MTYgLTAwMDANCkBAIC0xLDUgKzEsNSBAQA0K
IC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IEJFQSBTeXN0
ZW1zLCBJbmMuIA0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAxMSBCRUEgU3lzdGVtcywgSW5j
LiANCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBh
bnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21wYW5pZXMg
dGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC03LDcgKzcsNyBAQA0K
ICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgIHdoYXJsZXlAYmVhLmNvbSAtIGluaXRpYWwg
QVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KLSAqICAgIA0KKyAqICAgIHBoaWxpcHBlLm1hcnNjaGFs
bEBuZXRjZXRlcmEuY2ggLSBSZWdyZXNzaW9uIHRlc3QgZm9yIDMzODM3MA0KICAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqLw0KIA0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50
ZXN0czsNCkBAIC0yOCw2ICsyOCw3IEBADQogICogQHNpbmNlIDMuNA0KICAqLw0KIHB1YmxpYyBj
bGFzcyBGaWxlclRlc3RzIGV4dGVuZHMgVGVzdENhc2Ugew0KKwlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTdHJpbmcgVFlQRVVUSUxTUFJPQyA9ICJvcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIuYXB0LnRl
c3RzLnByb2Nlc3NvcnMuZmlsZXIuRmlsZXJQcm9jIjsNCiANCiAJLyoqDQogCSAqIFZhbGlkYXRl
IHRoZSB0ZXN0RWxlbWVudCB0ZXN0IGFnYWluc3QgdGhlIGphdmFjIGNvbXBpbGVyLg0KQEAgLTM1
LDcgKzM2LDcgQEANCiAJICovDQogCXB1YmxpYyB2b2lkIHRlc3RFbGVtZW50V2l0aFN5c3RlbUNv
bXBpbGVyKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsNCiAJCUphdmFDb21waWxlciBjb21waWxlciA9
IFRvb2xQcm92aWRlci5nZXRTeXN0ZW1KYXZhQ29tcGlsZXIoKTsNCi0JCWludGVybmFsVGVzdENy
ZWF0ZVJlc291cmNlKGNvbXBpbGVyKTsNCisJCWludGVybmFsVGVzdENyZWF0ZVJlc291cmNlKGNv
bXBpbGVyLCB0cnVlKTsNCiAJfQ0KIA0KIAkvKioNCkBAIC00NCw3ICs0NSw3IEBADQogCSAqLw0K
IAlwdWJsaWMgdm9pZCB0ZXN0RWxlbWVudFdpdGhFY2xpcHNlQ29tcGlsZXIoKSB0aHJvd3MgSU9F
eGNlcHRpb24gew0KIAkJSmF2YUNvbXBpbGVyIGNvbXBpbGVyID0gQmF0Y2hUZXN0VXRpbHMuZ2V0
RWNsaXBzZUNvbXBpbGVyKCk7DQotCQlpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShjb21waWxl
cik7DQorCQlpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShjb21waWxlciwgZmFsc2UpOw0KIAl9
DQogDQogCS8qKg0KQEAgLTUyLDcgKzUzLDcgQEANCiAJICogYW5kIHZlcmlmeWluZyB0aGUgZXhp
c3RlbmNlIGFuZCBjb250ZW50IG9mIHRoZSByZXN1bHRpbmcgZmlsZXMuDQogCSAqIEB0aHJvd3Mg
SU9FeGNlcHRpb24NCiAJICovDQotCXByaXZhdGUgdm9pZCBpbnRlcm5hbFRlc3RDcmVhdGVSZXNv
dXJjZShKYXZhQ29tcGlsZXIgY29tcGlsZXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQorCXByaXZh
dGUgdm9pZCBpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShKYXZhQ29tcGlsZXIgY29tcGlsZXIs
IGJvb2xlYW4gaXNTeXN0ZW1Db21tcGlsZXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQogCQlGaWxl
IHRhcmdldEZvbGRlciA9IFRlc3RVdGlscy5jb25jYXRQYXRoKEJhdGNoVGVzdFV0aWxzLmdldFNy
Y0ZvbGRlck5hbWUoKSwgInRhcmdldHMiLCAiZmlsZXIiKTsNCiAJCUZpbGUgaW5wdXRGaWxlID0g
QmF0Y2hUZXN0VXRpbHMuY29weVJlc291cmNlKCJ0YXJnZXRzL2ZpbGVyL0ZpbGVyVGFyZ2V0MS5q
YXZhIiwgdGFyZ2V0Rm9sZGVyKTsNCiAJCWFzc2VydE5vdE51bGwoIk5vIGlucHV0IGZpbGUiLCBp
bnB1dEZpbGUpOw0KQEAgLTczLDYgKzc0LDEwIEBADQogIAkJLy8gU2VlIGNvcnJlc3BvbmRpbmcg
dGVzdCBkYXRhIGluIEZpbGVyVGFyZ2V0MS5qYXZhDQogIAkJYXNzZXJ0VHJ1ZShCYXRjaFRlc3RV
dGlscy5maWxlQ29udGVudHNFcXVhbFRleHQoZ2VuVGV4dEZpbGUsICJBIGdlbmVyYXRlZCBzdHJp
bmciKSk7DQogIAkJYXNzZXJ0VHJ1ZShCYXRjaFRlc3RVdGlscy5maWxlQ29udGVudHNFcXVhbFRl
eHQoZ2VuQmluYXJ5RmlsZSwgbmV3IFN0cmluZyhuZXcgYnl0ZVtdIHsxMDIsIDExMCwgMTExLCAx
MTQsIDEwMH0pKSk7DQorIAkJDQorIAkJaWYgKCFpc1N5c3RlbUNvbW1waWxlcikgew0KKyAJCQlh
c3NlcnRFcXVhbHMoInN1Y2NlZWRlZCIsIFN5c3RlbS5nZXRQcm9wZXJ0eShUWVBFVVRJTFNQUk9D
KSk7DQorIAkJfQ0KIAl9DQogDQogCS8qIChub24tSmF2YWRvYykNCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>190408</attachid>
            <date>2011-03-04 11:30:00 -0500</date>
            <delta_ts>2011-03-04 11:30:22 -0500</delta_ts>
            <desc>Proposed fix + regression test</desc>
            <filename>patch_338370.txt</filename>
            <type>text/plain</type>
            <size>8368</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvbXBp
bGVyLmFwdA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXB0
L2Rpc3BhdGNoL0JhdGNoRmlsZXJJbXBsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zz
cm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQvc3JjL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb21waWxlci9hcHQvZGlzcGF0Y2gvQmF0Y2hGaWxlckltcGwuamF2YSx2
DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNg0KZGlmZiAtdSAtcjEuNiBCYXRjaEZpbGVySW1wbC5q
YXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hcHQvZGlzcGF0
Y2gvQmF0Y2hGaWxlckltcGwuamF2YQkyOSBBcHIgMjAwNyAwNDo1NzowOCAtMDAwMAkxLjYNCisr
KyBzcmMvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FwdC9kaXNwYXRjaC9CYXRj
aEZpbGVySW1wbC5qYXZhCTQgTWFyIDIwMTEgMTY6MjY6MjEgLTAwMDANCkBAIC0xLDUgKzEsNSBA
QA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA2LCAyMDA3
IEJFQSBTeXN0ZW1zLCBJbmMuIA0KKyAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAxMSBCRUEgU3lz
dGVtcywgSW5jLiANCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRo
ZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC03LDEx
ICs3LDEyIEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAgd2hhcmxleUBiZWEuY29t
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICogICAgDQorICogICAgcGhpbGlw
cGUubWFyc2NoYWxsQG5ldGNldGVyYS5jaCAtIEZpeCBmb3IgMzM4MzcwDQogICoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKiovDQogDQogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGls
ZXIuYXB0LmRpc3BhdGNoOw0KIA0KK2ltcG9ydCBqYXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlv
bjsNCiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5uZXQuVVJJOw0K
IGltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCkBAIC0xMjIsNiArMTIzLDkgQEANCiAJCS8vVE9E
TzogZG8gd2UgbmVlZCB0byBjaGVjayB2YWxpZGl0eSBvZiAnbmFtZScsIG9yIGNhbiB3ZSB0cnVz
dCB0aGUgZmlsZW1hbmFnZXIgdG8gaGFuZGxlIHRoYXQ/DQogCQlGaWxlT2JqZWN0IGZvID0gX2Zp
bGVNYW5hZ2VyLmdldEZpbGVGb3JJbnB1dCgNCiAJCQkJbG9jYXRpb24sIHBrZy50b1N0cmluZygp
LCByZWxhdGl2ZU5hbWUudG9TdHJpbmcoKSk7DQorCQlpZiAoZm8gPT0gbnVsbCkgew0KKwkJCXRo
cm93IG5ldyBGaWxlTm90Rm91bmRFeGNlcHRpb24oIlJlc291cmNlIGRvZXMgbm90IGV4aXN0IDog
IiArIGxvY2F0aW9uICsgJy8nICsgcGtnICsgJy8nICsgcmVsYXRpdmVOYW1lKTsgLy8kTk9OLU5M
Uy0xJA0KKwkJfQ0KIAkJVVJJIHVyaSA9IGZvLnRvVXJpKCk7DQogCQlpZiAoX2NyZWF0ZWRGaWxl
cy5jb250YWlucyh1cmkpKSB7DQogCQkJdGhyb3cgbmV3IEZpbGVyRXhjZXB0aW9uKCJSZXNvdXJj
ZSBhbHJlYWR5IGNyZWF0ZWQgOiAiICsgbG9jYXRpb24gKyAnLycgKyBwa2cgKyAnLycgKyByZWxh
dGl2ZU5hbWUpOyAvLyROT04tTkxTLTEkDQojUCBvcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIuYXB0
LnRlc3RzDQpJbmRleDogcHJvY2Vzc29ycy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0L3Rl
c3RzL3Byb2Nlc3NvcnMvZmlsZXIvRmlsZXJQcm9jLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxl
OiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQudGVzdHMvcHJv
Y2Vzc29ycy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0L3Rlc3RzL3Byb2Nlc3NvcnMvZmls
ZXIvRmlsZXJQcm9jLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjENCmRpZmYgLXUgLXIx
LjEgRmlsZXJQcm9jLmphdmENCi0tLSBwcm9jZXNzb3JzL29yZy9lY2xpcHNlL2pkdC9jb21waWxl
ci9hcHQvdGVzdHMvcHJvY2Vzc29ycy9maWxlci9GaWxlclByb2MuamF2YQkyIE9jdCAyMDA3IDIw
OjUxOjIwIC0wMDAwCTEuMQ0KKysrIHByb2Nlc3NvcnMvb3JnL2VjbGlwc2UvamR0L2NvbXBpbGVy
L2FwdC90ZXN0cy9wcm9jZXNzb3JzL2ZpbGVyL0ZpbGVyUHJvYy5qYXZhCTQgTWFyIDIwMTEgMTY6
MjY6MjEgLTAwMDANCkBAIC0xLDUgKzEsNSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQot
ICogQ29weXJpZ2h0IChjKSAyMDA3IEJFQSBTeXN0ZW1zLCBJbmMuDQorICogQ29weXJpZ2h0IChj
KSAyMDA3LCAyMDExIEJFQSBTeXN0ZW1zLCBJbmMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQpAQCAtNywxNiArNywxNyBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAq
ICAgIHdoYXJsZXlAYmVhLmNvbSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAq
ICAgIHBoaWxpcHBlLm1hcnNjaGFsbEBuZXRjZXRlcmEuY2ggLSBSZWdyZXNzaW9uIHRlc3QgZm9y
IDMzODM3MA0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIA0KIHBhY2thZ2Ugb3JnLmVjbGlw
c2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy5wcm9jZXNzb3JzLmZpbGVyOw0KIA0KK2ltcG9ydCBq
YXZhLmlvLkZpbGVOb3RGb3VuZEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlv
bjsNCiBpbXBvcnQgamF2YS5pby5PdXRwdXRTdHJlYW07DQogaW1wb3J0IGphdmEuaW8uV3JpdGVy
Ow0KIGltcG9ydCBqYXZhLnV0aWwuU2V0Ow0KIA0KLWltcG9ydCBqYXZheC5hbm5vdGF0aW9uLnBy
b2Nlc3NpbmcuQWJzdHJhY3RQcm9jZXNzb3I7DQogaW1wb3J0IGphdmF4LmFubm90YXRpb24ucHJv
Y2Vzc2luZy5GaWxlcjsNCiBpbXBvcnQgamF2YXguYW5ub3RhdGlvbi5wcm9jZXNzaW5nLk1lc3Nh
Z2VyOw0KIGltcG9ydCBqYXZheC5hbm5vdGF0aW9uLnByb2Nlc3NpbmcuUHJvY2Vzc2luZ0Vudmly
b25tZW50Ow0KQEAgLTI4LDExICsyOSwxMiBAQA0KIGltcG9ydCBqYXZheC5sYW5nLm1vZGVsLmVs
ZW1lbnQuRWxlbWVudDsNCiBpbXBvcnQgamF2YXgubGFuZy5tb2RlbC5lbGVtZW50LlR5cGVFbGVt
ZW50Ow0KIGltcG9ydCBqYXZheC50b29scy5EaWFnbm9zdGljOw0KK2ltcG9ydCBqYXZheC50b29s
cy5EaWFnbm9zdGljLktpbmQ7DQogaW1wb3J0IGphdmF4LnRvb2xzLkZpbGVPYmplY3Q7DQogaW1w
b3J0IGphdmF4LnRvb2xzLlN0YW5kYXJkTG9jYXRpb247DQotaW1wb3J0IGphdmF4LnRvb2xzLkRp
YWdub3N0aWMuS2luZDsNCiANCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50
ZXN0cy5hbm5vdGF0aW9ucy5HZW5SZXNvdXJjZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
bXBpbGVyLmFwdC50ZXN0cy5wcm9jZXNzb3JzLmJhc2UuQmFzZVByb2Nlc3NvcjsNCiANCiAvKioN
CiAgKiBBIHByb2Nlc3NvciB0aGF0IHJlYWRzIHRoZSBHZW5SZXNvdXJjZSBhbm5vdGF0aW9uIGFu
ZCBwcm9kdWNlcyB0aGUgc3BlY2lmaWVkIEphdmEgdHlwZQ0KQEAgLTQwLDcgKzQyLDcgQEANCiBA
U3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzKHsgIm9yZy5lY2xpcHNlLmpkdC5jb21waWxlci5hcHQu
dGVzdHMuYW5ub3RhdGlvbnMuR2VuUmVzb3VyY2UiIH0pDQogQFN1cHBvcnRlZFNvdXJjZVZlcnNp
b24oU291cmNlVmVyc2lvbi5SRUxFQVNFXzYpDQogQFN1cHBvcnRlZE9wdGlvbnMoe30pDQotcHVi
bGljIGNsYXNzIEZpbGVyUHJvYyBleHRlbmRzIEFic3RyYWN0UHJvY2Vzc29yIHsNCitwdWJsaWMg
Y2xhc3MgRmlsZXJQcm9jIGV4dGVuZHMgQmFzZVByb2Nlc3NvciB7DQogCQ0KIAlwcml2YXRlIFBy
b2Nlc3NpbmdFbnZpcm9ubWVudCBfcHJvY2Vzc2luZ0VudjsNCiAJcHJpdmF0ZSBNZXNzYWdlciBf
bWVzc2FnZXI7DQpAQCAtNjcsNiArNjksOSBAQA0KIAkJaWYgKCFhbm5vdGF0aW9ucy5pc0VtcHR5
KCkpIHsNCiAJCQlyb3VuZChhbm5vdGF0aW9ucywgcm91bmRFbnYpOw0KIAkJfQ0KKwkJaWYgKHJv
dW5kRW52LnByb2Nlc3NpbmdPdmVyKCkpIHsNCisJCQl0aGlzLnRyaWdnZXJFeGNlcHRpb24oKTsN
CisJCX0NCiAJCXJldHVybiB0cnVlOw0KIAl9DQogDQpAQCAtMTU3LDcgKzE2MiwxOSBAQA0KIAkJ
CQl9DQogCQkJfQ0KIAkJfQ0KLQkJDQotCQkNCisJfQ0KKw0KKwlwcml2YXRlIHZvaWQgdHJpZ2dl
ckV4Y2VwdGlvbigpIHsNCisJCU1lc3NhZ2VyIG1lc3NlbmdlciA9IHRoaXMucHJvY2Vzc2luZ0Vu
di5nZXRNZXNzYWdlcigpOw0KKwkJdHJ5IHsNCisJCQlfZmlsZXIuZ2V0UmVzb3VyY2UoU3RhbmRh
cmRMb2NhdGlvbi5TT1VSQ0VfT1VUUFVULCAiIiwgIm5vdC1leGlzdGluZy50eHQiKTsNCisJCQly
ZXBvcnRFcnJvcigiZmFpbGVkIik7DQorCQl9IGNhdGNoIChGaWxlTm90Rm91bmRFeGNlcHRpb24g
ZSkgew0KKwkJCXJlcG9ydFN1Y2Nlc3MoKTsNCisJCQltZXNzZW5nZXIucHJpbnRNZXNzYWdlKERp
YWdub3N0aWMuS2luZC5OT1RFLCAiRmlsZU5vdEZvdW5kRXhjZXB0aW9uIik7DQorCQl9IGNhdGNo
IChJT0V4Y2VwdGlvbiBlKSB7DQorCQkJcmVwb3J0U3VjY2VzcygpOw0KKwkJCW1lc3Nlbmdlci5w
cmludE1lc3NhZ2UoRGlhZ25vc3RpYy5LaW5kLk5PVEUsIGUuZ2V0Q2xhc3MoKS5nZXROYW1lKCkp
Ow0KKwkJfQ0KIAl9DQogfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9qZHQvY29tcGlsZXIvYXB0
L3Rlc3RzL0ZpbGVyVGVzdHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2Vj
bGlwc2Uvb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVyLmFwdC50ZXN0cy9zcmMvb3JnL2VjbGlwc2Uv
amR0L2NvbXBpbGVyL2FwdC90ZXN0cy9GaWxlclRlc3RzLmphdmEsdg0KcmV0cmlldmluZyByZXZp
c2lvbiAxLjENCmRpZmYgLXUgLXIxLjEgRmlsZXJUZXN0cy5qYXZhDQotLS0gc3JjL29yZy9lY2xp
cHNlL2pkdC9jb21waWxlci9hcHQvdGVzdHMvRmlsZXJUZXN0cy5qYXZhCTIgT2N0IDIwMDcgMjA6
NTE6MTYgLTAwMDAJMS4xDQorKysgc3JjL29yZy9lY2xpcHNlL2pkdC9jb21waWxlci9hcHQvdGVz
dHMvRmlsZXJUZXN0cy5qYXZhCTQgTWFyIDIwMTEgMTY6MjY6MjEgLTAwMDANCkBAIC0xLDUgKzEs
NSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IEJF
QSBTeXN0ZW1zLCBJbmMuIA0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAxMSBCRUEgU3lzdGVt
cywgSW5jLiANCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21w
YW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC03LDcgKzcs
NyBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgIHdoYXJsZXlAYmVhLmNvbSAtIGlu
aXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KLSAqICAgIA0KKyAqICAgIHBoaWxpcHBlLm1h
cnNjaGFsbEBuZXRjZXRlcmEuY2ggLSBSZWdyZXNzaW9uIHRlc3QgZm9yIDMzODM3MA0KICAqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLw0KIA0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvbXBpbGVy
LmFwdC50ZXN0czsNCkBAIC0yOCw2ICsyOCw3IEBADQogICogQHNpbmNlIDMuNA0KICAqLw0KIHB1
YmxpYyBjbGFzcyBGaWxlclRlc3RzIGV4dGVuZHMgVGVzdENhc2Ugew0KKwlwcml2YXRlIHN0YXRp
YyBmaW5hbCBTdHJpbmcgVFlQRVVUSUxTUFJPQyA9ICJvcmcuZWNsaXBzZS5qZHQuY29tcGlsZXIu
YXB0LnRlc3RzLnByb2Nlc3NvcnMuZmlsZXIuRmlsZXJQcm9jIjsNCiANCiAJLyoqDQogCSAqIFZh
bGlkYXRlIHRoZSB0ZXN0RWxlbWVudCB0ZXN0IGFnYWluc3QgdGhlIGphdmFjIGNvbXBpbGVyLg0K
QEAgLTM1LDcgKzM2LDcgQEANCiAJICovDQogCXB1YmxpYyB2b2lkIHRlc3RFbGVtZW50V2l0aFN5
c3RlbUNvbXBpbGVyKCkgdGhyb3dzIElPRXhjZXB0aW9uIHsNCiAJCUphdmFDb21waWxlciBjb21w
aWxlciA9IFRvb2xQcm92aWRlci5nZXRTeXN0ZW1KYXZhQ29tcGlsZXIoKTsNCi0JCWludGVybmFs
VGVzdENyZWF0ZVJlc291cmNlKGNvbXBpbGVyKTsNCisJCWludGVybmFsVGVzdENyZWF0ZVJlc291
cmNlKGNvbXBpbGVyLCB0cnVlKTsNCiAJfQ0KIA0KIAkvKioNCkBAIC00NCw3ICs0NSw3IEBADQog
CSAqLw0KIAlwdWJsaWMgdm9pZCB0ZXN0RWxlbWVudFdpdGhFY2xpcHNlQ29tcGlsZXIoKSB0aHJv
d3MgSU9FeGNlcHRpb24gew0KIAkJSmF2YUNvbXBpbGVyIGNvbXBpbGVyID0gQmF0Y2hUZXN0VXRp
bHMuZ2V0RWNsaXBzZUNvbXBpbGVyKCk7DQotCQlpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShj
b21waWxlcik7DQorCQlpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShjb21waWxlciwgZmFsc2Up
Ow0KIAl9DQogDQogCS8qKg0KQEAgLTUyLDcgKzUzLDcgQEANCiAJICogYW5kIHZlcmlmeWluZyB0
aGUgZXhpc3RlbmNlIGFuZCBjb250ZW50IG9mIHRoZSByZXN1bHRpbmcgZmlsZXMuDQogCSAqIEB0
aHJvd3MgSU9FeGNlcHRpb24NCiAJICovDQotCXByaXZhdGUgdm9pZCBpbnRlcm5hbFRlc3RDcmVh
dGVSZXNvdXJjZShKYXZhQ29tcGlsZXIgY29tcGlsZXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQor
CXByaXZhdGUgdm9pZCBpbnRlcm5hbFRlc3RDcmVhdGVSZXNvdXJjZShKYXZhQ29tcGlsZXIgY29t
cGlsZXIsIGJvb2xlYW4gaXNTeXN0ZW1Db21tcGlsZXIpIHRocm93cyBJT0V4Y2VwdGlvbiB7DQog
CQlGaWxlIHRhcmdldEZvbGRlciA9IFRlc3RVdGlscy5jb25jYXRQYXRoKEJhdGNoVGVzdFV0aWxz
LmdldFNyY0ZvbGRlck5hbWUoKSwgInRhcmdldHMiLCAiZmlsZXIiKTsNCiAJCUZpbGUgaW5wdXRG
aWxlID0gQmF0Y2hUZXN0VXRpbHMuY29weVJlc291cmNlKCJ0YXJnZXRzL2ZpbGVyL0ZpbGVyVGFy
Z2V0MS5qYXZhIiwgdGFyZ2V0Rm9sZGVyKTsNCiAJCWFzc2VydE5vdE51bGwoIk5vIGlucHV0IGZp
bGUiLCBpbnB1dEZpbGUpOw0KQEAgLTczLDYgKzc0LDEwIEBADQogIAkJLy8gU2VlIGNvcnJlc3Bv
bmRpbmcgdGVzdCBkYXRhIGluIEZpbGVyVGFyZ2V0MS5qYXZhDQogIAkJYXNzZXJ0VHJ1ZShCYXRj
aFRlc3RVdGlscy5maWxlQ29udGVudHNFcXVhbFRleHQoZ2VuVGV4dEZpbGUsICJBIGdlbmVyYXRl
ZCBzdHJpbmciKSk7DQogIAkJYXNzZXJ0VHJ1ZShCYXRjaFRlc3RVdGlscy5maWxlQ29udGVudHNF
cXVhbFRleHQoZ2VuQmluYXJ5RmlsZSwgbmV3IFN0cmluZyhuZXcgYnl0ZVtdIHsxMDIsIDExMCwg
MTExLCAxMTQsIDEwMH0pKSk7DQorIAkJDQorIAkJaWYgKCFpc1N5c3RlbUNvbW1waWxlcikgew0K
KyAJCQlhc3NlcnRFcXVhbHMoInN1Y2NlZWRlZCIsIFN5c3RlbS5nZXRQcm9wZXJ0eShUWVBFVVRJ
TFNQUk9DKSk7DQorIAkJfQ0KIAl9DQogDQogCS8qIChub24tSmF2YWRvYykNCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>