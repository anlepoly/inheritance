<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>426436</bug_id>
          
          <creation_ts>2014-01-23 04:28:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] Incorrect source range for IProblem.IllegalArrayTypeInIntersectionCast</short_desc>
          <delta_ts>2014-04-29 04:24:29 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>jarthana</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="61911"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2353381</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-01-23 04:28:08 -0500</bug_when>
    <thetext>Good: 
org.eclipse.jdt.core.tests.compiler.regression.NegativeLambdaExpressionsTest.test425512()

Bad:

org.eclipse.jdt.core.tests.compiler.regression.NegativeLambdaExpressionsTest.test425512cd()

No idea why.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2358351</commentid>
    <comment_count>1</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-02-04 04:03:09 -0500</bug_when>
    <thetext>public class X  {
    public void bar()  {
    	int [] a = (int [] &amp; IJK) i--;
    }
	public static int i;
}
interface IJK {  
    void foo();
}

A simple test case without lambda. 
Issue: The error message &quot;Arrays are not allowed in intersection cast operator&quot; has source indication as &quot;int [] &amp; IJK) i--&quot; while it is expected to show only as &quot;int []&quot;. (Note: If the -- operator is not present, the source indication is correct.)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2358394</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-04 05:42:49 -0500</bug_when>
    <thetext>This can wait. Postponing to 4.4</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2378024</commentid>
    <comment_count>3</comment_count>
      <attachid>241057</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2014-03-20 09:13:06 -0400</bug_when>
    <thetext>Created attachment 241057
Proposed Patch

issue: ATR&apos;s source end is being populated by Parser.endPosition. In this case of casting, this value gets overwritten in postfix expressions like i++ before it gets used and hence the wrong source end of ATR.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2388629</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-04-14 05:43:58 -0400</bug_when>
    <thetext>Thanks Manoj, fix and tests released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=4a0aba8da7540fe196b62f610441e5b671eaee55</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2394459</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-04-29 04:24:29 -0400</bug_when>
    <thetext>Verified for 4.4 M7 with build I20140428-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>241057</attachid>
            <date>2014-03-20 09:13:00 -0400</date>
            <delta_ts>2014-03-20 09:13:06 -0400</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-426436-18compiler-Incorrect-source-range-for-IP.patch</filename>
            <type>text/plain</type>
            <size>3542</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRh
RXhwcmVzc2lvbnNUZXN0LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxl
ci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9OZWdh
dGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5qYXZhCmluZGV4IDU0NTUzMjQuLjU2ZDA1ZGMgMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL05lZ2F0aXZlTGFtYmRhRXhw
cmVzc2lvbnNUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGls
ZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vTmVn
YXRpdmVMYW1iZGFFeHByZXNzaW9uc1Rlc3QuamF2YQpAQCAtODAzOCw3ICs4MDM4LDcgQEAKIAkJ
Ii0tLS0tLS0tLS1cbiIgKyAKIAkJIjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSA3KVxuIiAr
IAogCQkiCUkgaSA9IChpbnQgW10gJiBJKSAoaSkgLT4ge307XG4iICsgCi0JCSIJICAgICAgIF5e
Xl5eXl5eXl5eXl5eXl5eXl5eXG4iICsgCisJCSIJICAgICAgIF5eXl5eXlxuIiArIAogCQkiQXJy
YXlzIGFyZSBub3QgYWxsb3dlZCBpbiBpbnRlcnNlY3Rpb24gY2FzdCBvcGVyYXRvclxuIiArIAog
CQkiLS0tLS0tLS0tLVxuIiArIAogCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDcpXG4i
ICsgCkBAIC04MDY1LDcgKzgwNjUsNyBAQAogCQkiLS0tLS0tLS0tLVxuIiArIAogCQkiMS4gRVJS
T1IgaW4gWC5qYXZhIChhdCBsaW5lIDcpXG4iICsgCiAJCSIJSSBpID0gKGludCBbXSAmIFNlcmlh
bGl6YWJsZSkgKGkpIC0+IHt9O1xuIiArIAotCQkiCSAgICAgICBeXl5eXl5eXl5eXl5eXl5eXl5e
Xl5eXl5eXl5eXl5eXG4iICsgCisJCSIJICAgICAgIF5eXl5eXlxuIiArIAogCQkiQXJyYXlzIGFy
ZSBub3QgYWxsb3dlZCBpbiBpbnRlcnNlY3Rpb24gY2FzdCBvcGVyYXRvclxuIiArIAogCQkiLS0t
LS0tLS0tLVxuIiArIAogCQkiMi4gRVJST1IgaW4gWC5qYXZhIChhdCBsaW5lIDcpXG4iICsgCmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL3BhcnNlci9QYXJz
ZXIuamF2YQppbmRleCBmYTcwNmE1Li41ZGE3Mzk5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2Vy
L1BhcnNlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9wYXJzZXIvUGFyc2VyLmphdmEKQEAgLTkwNyw2ICs5
MDcsNyBAQAogCXByb3RlY3RlZCBpbnRbXSBleHByZXNzaW9uTGVuZ3RoU3RhY2s7CiAJcHJvdGVj
dGVkIGludCBleHByZXNzaW9uUHRyOwogCXByb3RlY3RlZCBFeHByZXNzaW9uW10gZXhwcmVzc2lv
blN0YWNrID0gbmV3IEV4cHJlc3Npb25bRXhwcmVzc2lvblN0YWNrSW5jcmVtZW50XTsKKwlwcm90
ZWN0ZWQgaW50IHJCcmFja2V0UG9zaXRpb247CiAJcHVibGljIGludCBmaXJzdFRva2VuIDsgLy8g
aGFuZGxlIGZvciBtdWx0aXBsZSBwYXJzaW5nIGdvYWxzCiAJCiAJLyoganNyMzA4IC0tIFR5cGUg
YW5ub3RhdGlvbiBtYW5hZ2VtZW50LCB3ZSBub3cgbWFpbnRhaW4gdHlwZSBhbm5vdGF0aW9ucyBp
biBhIHNlcGFyYXRlIHN0YWNrCkBAIC05MDMxLDYgKzkwMzIsNyBAQAogCQkJYnJlYWs7CiAJCQkv
L2xldCBleHRyYSBzZW1hbnRpYyBhY3Rpb24gZGVjaWRlIHdoZW4gdG8gcHVzaAogCQljYXNlIFRv
a2VuTmFtZVJCUkFDS0VUIDoKKwkJCXRoaXMuckJyYWNrZXRQb3NpdGlvbiA9IHRoaXMuc2Nhbm5l
ci5zdGFydFBvc2l0aW9uOwogCQkJdGhpcy5lbmRQb3NpdGlvbiA9IHRoaXMuc2Nhbm5lci5zdGFy
dFBvc2l0aW9uOwogCQkJdGhpcy5lbmRTdGF0ZW1lbnRQb3NpdGlvbiA9IHRoaXMuc2Nhbm5lci5j
dXJyZW50UG9zaXRpb24gLSAxOwogCQkJYnJlYWs7CkBAIC0xMDEzMiw3ICsxMDEzNCw3IEBACiAJ
CQlyZWYuc291cmNlRW5kID0gdGhpcy5pbnRTdGFja1t0aGlzLmludFB0ci0tXTsKIAkJfSBlbHNl
IHsKIAkJCXRoaXMuaW50UHRyLS07Ci0JCQlyZWYuc291cmNlRW5kID0gdGhpcy5lbmRQb3NpdGlv
bjsKKwkJCXJlZi5zb3VyY2VFbmQgPSB0aGlzLnJCcmFja2V0UG9zaXRpb247CiAJCX0KIAl9IGVs
c2UgewogCQlpbnQgbnVtYmVyT2ZJZGVudGlmaWVycyA9IHRoaXMuZ2VuZXJpY3NJZGVudGlmaWVy
c0xlbmd0aFN0YWNrW3RoaXMuZ2VuZXJpY3NJZGVudGlmaWVyc0xlbmd0aFB0ci0tXTsKQEAgLTEw
NTU4LDYgKzEwNTYwLDcgQEAKIAl0aGlzLnJCcmFjZVN0YXJ0ID0gMDsKIAl0aGlzLnJCcmFjZUVu
ZCA9IDA7CiAJdGhpcy5yQnJhY2VTdWNjZXNzb3JTdGFydCA9IDA7CisJdGhpcy5yQnJhY2tldFBv
c2l0aW9uID0gMDsKIAogCXRoaXMuZ2VuZXJpY3NJZGVudGlmaWVyc0xlbmd0aFB0ciA9IC0xOwog
CXRoaXMuZ2VuZXJpY3NMZW5ndGhQdHIgPSAtMTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9Tb3VyY2VFbGVt
ZW50UGFyc2VyLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvU291cmNlRWxlbWVudFBhcnNlci5qYXZhCmluZGV4IDdiM2Ux
YzQuLmRkZmU1NzcgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9Tb3VyY2VFbGVtZW50UGFyc2VyLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
bXBpbGVyL1NvdXJjZUVsZW1lbnRQYXJzZXIuamF2YQpAQCAtNzUxLDcgKzc1MSw3IEBACiAJCQly
ZWYuc291cmNlRW5kID0gdGhpcy5pbnRTdGFja1t0aGlzLmludFB0ci0tXTsKIAkJfSBlbHNlIHsK
IAkJCXRoaXMuaW50UHRyLS07IC8vIG5vIG5lZWQgdG8gdXNlIHRoaXMgcG9zaXRpb24gYXMgaXQg
aXMgYW4gYXJyYXkKLQkJCXJlZi5zb3VyY2VFbmQgPSB0aGlzLmVuZFBvc2l0aW9uOworCQkJcmVm
LnNvdXJjZUVuZCA9IHRoaXMuckJyYWNrZXRQb3NpdGlvbjsKIAkJfQogCQlpZiAodGhpcy5yZXBv
cnRSZWZlcmVuY2VJbmZvKXsKIAkJCQl0aGlzLnJlcXVlc3Rvci5hY2NlcHRUeXBlUmVmZXJlbmNl
KHJlZi5nZXRQYXJhbWV0ZXJpemVkVHlwZU5hbWUoKSwgcmVmLnNvdXJjZVN0YXJ0LCByZWYuc291
cmNlRW5kKTs=
</data>

          </attachment>
      

    </bug>

</bugzilla>