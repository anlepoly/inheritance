<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>342455</bug_id>
          
          <creation_ts>2011-04-11 11:30:00 -0400</creation_ts>
          <short_desc>AST swallows stars (&apos;*&apos;) at end of {@code} and {@literal} Javadoc fragments</short_desc>
          <delta_ts>2011-04-26 09:21:40 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Olivier Thomann">Olivier_Thomann</assigned_to>
          <cc>amj87.iitr</cc>
    
    <cc>frederic_fusier</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1911627</commentid>
    <comment_count>0</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2011-04-11 11:30:39 -0400</bug_when>
    <thetext>HEAD

AST swallows &apos;*&apos; at end of {@code} and {@literal} Javadoc fragments:

package p;

/**
 * Hello {@code stars*}.&lt;br&gt;
 * Bye {@literal stars****}.&lt;br&gt;
 * No stars*? Need {@code space* }?
 */
class A {	
}

In the last example, the * is preserved because there&apos;s another character after the * (can be any character, doesn&apos;t have to be a space).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913152</commentid>
    <comment_count>1</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-04-13 15:08:20 -0400</bug_when>
    <thetext>I think inside &quot;inlined&quot; tags everything between the {} must be selected.
Frdric, do you see anything wrong with this ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913154</commentid>
    <comment_count>2</comment_count>
    <who name="Frederic Fusier">frederic_fusier</who>
    <bug_when>2011-04-13 15:11:48 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; I think inside &quot;inlined&quot; tags everything between the {} must be selected.
&gt; Frdric, do you see anything wrong with this ?

No, you&apos;re obviously right.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913159</commentid>
    <comment_count>3</comment_count>
      <attachid>193188</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-04-13 15:18:04 -0400</bug_when>
    <thetext>Created attachment 193188
Proposed fix + regression test</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913200</commentid>
    <comment_count>4</comment_count>
    <who name="Frederic Fusier">frederic_fusier</who>
    <bug_when>2011-04-13 16:10:35 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; Created attachment 193188 [details]
&gt; Proposed fix + regression test

Apparently looks ok... However, I wonder if that could not introduce a change in the formatter behavior. I&apos;m running formatter massive regression tests to double-check...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913817</commentid>
    <comment_count>5</comment_count>
    <who name="Frederic Fusier">frederic_fusier</who>
    <bug_when>2011-04-14 13:41:07 -0400</bug_when>
    <thetext>I didn&apos;t observe any behavior change while running massive formatter tests, hence +1 for the patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1913831</commentid>
    <comment_count>6</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-04-14 14:09:59 -0400</bug_when>
    <thetext>Thanks Frdric.
Released for 3.7M7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1918957</commentid>
    <comment_count>7</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-04-26 09:21:40 -0400</bug_when>
    <thetext>Verified for 3.7M7 using build I20110421-1800.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>193188</attachid>
            <date>2011-04-13 15:18:00 -0400</date>
            <delta_ts>2011-04-13 15:18:04 -0400</delta_ts>
            <desc>Proposed fix + regression test</desc>
            <filename>patch_342455.txt</filename>
            <type>text/plain</type>
            <size>5246</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2Vy
L0Fic3RyYWN0Q29tbWVudFBhcnNlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jv
b3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL0Fic3RyYWN0Q29tbWVudFBhcnNlci5qYXZhLHYNCnJl
dHJpZXZpbmcgcmV2aXNpb24gMS45NQ0KZGlmZiAtdSAtcjEuOTUgQWJzdHJhY3RDb21tZW50UGFy
c2VyLmphdmENCi0tLSBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
cGFyc2VyL0Fic3RyYWN0Q29tbWVudFBhcnNlci5qYXZhCTggRmViIDIwMTEgMDU6MTY6MjAgLTAw
MDAJMS45NQ0KKysrIGNvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9w
YXJzZXIvQWJzdHJhY3RDb21tZW50UGFyc2VyLmphdmEJMTMgQXByIDIwMTEgMTk6MTc6MzggLTAw
MDANCkBAIC0yODQsNiArMjg0LDcgQEANCiAJCQkJCQkJcmVmcmVzaFJldHVyblN0YXRlbWVudCgp
Ow0KIAkJCQkJCX0NCiAJCQkJCQlpZiAodGhpcy5pbmxpbmVUYWdTdGFydGVkKSB7DQorCQkJCQkJ
CXRleHRFbmRQb3NpdGlvbiA9IHRoaXMuaW5kZXggLSAxOw0KIAkJCQkJCQlpZiAodGhpcy5saW5l
U3RhcnRlZCAmJiB0aGlzLnRleHRTdGFydCAhPSAtMSAmJiB0aGlzLnRleHRTdGFydCA8IHRleHRF
bmRQb3NpdGlvbikgew0KIAkJCQkJCQkJcHVzaFRleHQodGhpcy50ZXh0U3RhcnQsIHRleHRFbmRQ
b3NpdGlvbik7DQogCQkJCQkJCX0NCiNQIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVs
DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXJU
ZXN0QVNUM18yLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90
ZXN0cy9kb20vQVNUQ29udmVydGVyVGVzdEFTVDNfMi5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNp
b24gMS4xNzkNCmRpZmYgLXUgLXIxLjE3OSBBU1RDb252ZXJ0ZXJUZXN0QVNUM18yLmphdmENCi0t
LSBzcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvZG9tL0FTVENvbnZlcnRlclRlc3RBU1Qz
XzIuamF2YQk3IEphbiAyMDExIDE1OjEwOjIyIC0wMDAwCTEuMTc5DQorKysgc3JjL29yZy9lY2xp
cHNlL2pkdC9jb3JlL3Rlc3RzL2RvbS9BU1RDb252ZXJ0ZXJUZXN0QVNUM18yLmphdmEJMTMgQXBy
IDIwMTEgMTk6MTc6MzkgLTAwMDANCkBAIC03NSw2ICs3NSw3IEBADQogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5jb3JlLmRvbS5JbmZpeEV4cHJlc3Npb247DQogaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLmRvbS5Jbml0aWFsaXplcjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9t
Lkluc3RhbmNlb2ZFeHByZXNzaW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20u
SmF2YWRvYzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLk1ldGhvZERlY2xhcmF0
aW9uOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uTWV0aG9kSW52b2NhdGlvbjsN
CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLk1vZGlmaWVyOw0KQEAgLTk1LDYgKzk2
LDggQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlN1cGVyTWV0aG9kSW52b2Nh
dGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuZG9tLlN3aXRjaENhc2U7DQogaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5Td2l0Y2hTdGF0ZW1lbnQ7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5UYWdFbGVtZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuY29yZS5kb20uVGV4dEVsZW1lbnQ7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRv
bS5UcnlTdGF0ZW1lbnQ7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5UeXBlOw0K
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uVHlwZURlY2xhcmF0aW9uOw0KQEAgLTEy
Miw3ICsxMjUsNyBAQA0KIAlzdGF0aWMgew0KIC8vCQlURVNUU19OQU1FUyA9IG5ldyBTdHJpbmdb
XSB7InRlc3QwNjAyIn07DQogLy8JCVRFU1RTX1JBTkdFID0gbmV3IGludFtdIHsgNzEzLCAtMSB9
Ow0KLS8vCQlURVNUU19OVU1CRVJTID0gIG5ldyBpbnRbXSB7IDUwNCwgNTA1LCA1MTIsIDcyMCB9
Ow0KKy8vCQlURVNUU19OVU1CRVJTID0gIG5ldyBpbnRbXSB7IDcyMSB9Ow0KIAl9DQogCXB1Ymxp
YyBzdGF0aWMgVGVzdCBzdWl0ZSgpIHsNCiAJCXJldHVybiBidWlsZE1vZGVsVGVzdFN1aXRlKEFT
VENvbnZlcnRlclRlc3RBU1QzXzIuY2xhc3MpOw0KQEAgLTEwNTc1LDQgKzEwNTc4LDM5IEBADQog
CQlhc3NlcnRUcnVlKCJBIGNvbnN0cnVjdG9yIiwgIWRlY2xhcmF0aW9uLmlzQ29uc3RydWN0b3Io
KSk7DQogCQljaGVja1NvdXJjZVJhbmdlKGRlY2xhcmF0aW9uLCAicHVibGljIHZvaWQgbWV0aG9k
KGZpbmFsIGludCBwYXJhbWV0ZXIpIHsgICAgIH0iLCBzb3VyY2UsIHRydWUvKmV4cGVjdE1hbGZv
cm1lZCovKTsNCiAJfQ0KKwkvKioNCisJICogaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM0MjQ1NQ0KKwkgKi8NCisJcHVibGljIHZvaWQgdGVzdDA3MjEoKSB0
aHJvd3MgSmF2YU1vZGVsRXhjZXB0aW9uIHsNCisJCUlDb21waWxhdGlvblVuaXQgc291cmNlVW5p
dCA9IGdldENvbXBpbGF0aW9uVW5pdCgiQ29udmVydGVyIiAsICJzcmMiLCAidGVzdDA3MjEiLCAi
QS5qYXZhIik7IC8vJE5PTi1OTFMtMSQgLy8kTk9OLU5MUy0yJCAvLyROT04tTkxTLTMkIC8vJE5P
Ti1OTFMtNCQNCisJCWNoYXJbXSBzb3VyY2UgPSBzb3VyY2VVbml0LmdldFNvdXJjZSgpLnRvQ2hh
ckFycmF5KCk7DQorCQlBU1ROb2RlIHJlc3VsdCA9IHJ1bkNvbnZlcnNpb24oQVNULkpMUzMsIHNv
dXJjZVVuaXQsIHRydWUpOw0KKwkJYXNzZXJ0VHJ1ZSgibm90IGEgY29tcGlsYXRpb24gdW5pdCIs
IHJlc3VsdC5nZXROb2RlVHlwZSgpID09IEFTVE5vZGUuQ09NUElMQVRJT05fVU5JVCk7IC8vJE5P
Ti1OTFMtMSQNCisJCUNvbXBpbGF0aW9uVW5pdCB1bml0ID0gKENvbXBpbGF0aW9uVW5pdCkgcmVz
dWx0Ow0KKwkJQVNUTm9kZSBub2RlID0gZ2V0QVNUTm9kZSh1bml0LCAwKTsNCisJCVR5cGVEZWNs
YXJhdGlvbiBkZWNsYXJhdGlvbiA9IChUeXBlRGVjbGFyYXRpb24pIG5vZGU7DQorCQlKYXZhZG9j
IGphdmFkb2MgPSBkZWNsYXJhdGlvbi5nZXRKYXZhZG9jKCk7DQorCQlMaXN0IHRhZ3MgPSBqYXZh
ZG9jLnRhZ3MoKTsNCisJCVRhZ0VsZW1lbnQgZWxlbWVudCA9IChUYWdFbGVtZW50KSB0YWdzLmdl
dCgwKTsNCisJCUxpc3QgZnJhZ21lbnRzID0gZWxlbWVudC5mcmFnbWVudHMoKTsNCisJCWVsZW1l
bnQgPSAoVGFnRWxlbWVudCkgZnJhZ21lbnRzLmdldCgwKTsNCisJCWFzc2VydEVxdWFscygid3Jv
bmcgdGFnIG5hbWUiLCAiQGNvZGUiLCBlbGVtZW50LmdldFRhZ05hbWUoKSk7DQorCQljaGVja1Nv
dXJjZVJhbmdlKChUZXh0RWxlbWVudCkgZWxlbWVudC5mcmFnbWVudHMoKS5nZXQoMCksICIgc3Rh
cnMqIiwgc291cmNlKTsNCisJCQ0KKwkJZWxlbWVudCA9IChUYWdFbGVtZW50KSBmcmFnbWVudHMu
Z2V0KDIpOw0KKwkJYXNzZXJ0RXF1YWxzKCJ3cm9uZyB0YWcgbmFtZSIsICJAbGl0ZXJhbCIsIGVs
ZW1lbnQuZ2V0VGFnTmFtZSgpKTsNCisJCWNoZWNrU291cmNlUmFuZ2UoKFRleHRFbGVtZW50KSBl
bGVtZW50LmZyYWdtZW50cygpLmdldCgwKSwgIiBzdGFycyoqKioiLCBzb3VyY2UpOw0KKw0KKwkJ
ZWxlbWVudCA9IChUYWdFbGVtZW50KSBmcmFnbWVudHMuZ2V0KDQpOw0KKwkJYXNzZXJ0RXF1YWxz
KCJ3cm9uZyB0YWcgbmFtZSIsICJAY29kZSIsIGVsZW1lbnQuZ2V0VGFnTmFtZSgpKTsNCisJCWNo
ZWNrU291cmNlUmFuZ2UoKFRleHRFbGVtZW50KSBlbGVtZW50LmZyYWdtZW50cygpLmdldCgwKSwg
IiBzcGFjZSogIiwgc291cmNlKTsNCisNCisJCWVsZW1lbnQgPSAoVGFnRWxlbWVudCkgZnJhZ21l
bnRzLmdldCg1KTsNCisJCWFzc2VydEVxdWFscygid3JvbmcgdGFnIG5hbWUiLCAiQGNvZGUiLCBl
bGVtZW50LmdldFRhZ05hbWUoKSk7DQorCQljaGVja1NvdXJjZVJhbmdlKChUZXh0RWxlbWVudCkg
ZWxlbWVudC5mcmFnbWVudHMoKS5nZXQoMCksICIgc3RhcnMqICIsIHNvdXJjZSk7DQorCQkNCisJ
CWVsZW1lbnQgPSAoVGFnRWxlbWVudCkgZnJhZ21lbnRzLmdldCg3KTsNCisJCWFzc2VydEVxdWFs
cygid3JvbmcgdGFnIG5hbWUiLCAiQGxpdGVyYWwiLCBlbGVtZW50LmdldFRhZ05hbWUoKSk7DQor
CQljaGVja1NvdXJjZVJhbmdlKChUZXh0RWxlbWVudCkgZWxlbWVudC5mcmFnbWVudHMoKS5nZXQo
MCksICIgc3RhcnMqKioqICIsIHNvdXJjZSk7DQorCX0NCiB9DQpcIE5vIG5ld2xpbmUgYXQgZW5k
IG9mIGZpbGUNCkluZGV4OiB3b3Jrc3BhY2UvQ29udmVydGVyL3NyYy90ZXN0MDcyMS9BLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiB3b3Jrc3BhY2UvQ29udmVydGVyL3NyYy90ZXN0MDcyMS9B
LmphdmENCmRpZmYgLU4gd29ya3NwYWNlL0NvbnZlcnRlci9zcmMvdGVzdDA3MjEvQS5qYXZhDQot
LS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyB3b3Jrc3BhY2UvQ29u
dmVydGVyL3NyYy90ZXN0MDcyMS9BLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAg
LTAsMCArMSwxMSBAQA0KK3BhY2thZ2UgdGVzdDA3MjE7DQorDQorLyoqDQorICoge0Bjb2RlIHN0
YXJzKn0uPGJyPg0KKyAqIHtAbGl0ZXJhbCBzdGFycyoqKip9Ljxicj4NCisgKiB7QGNvZGUgc3Bh
Y2UqIH0NCisgKiB7QGNvZGUgc3RhcnMqIH0uPGJyPg0KKyAqIHtAbGl0ZXJhbCBzdGFycyoqKiog
fS48YnI+DQorICovDQorY2xhc3MgQSB7DQorfQ0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxl
DQo=
</data>

          </attachment>
      

    </bug>

</bugzilla>