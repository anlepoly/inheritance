<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>427468</bug_id>
          
          <creation_ts>2014-02-05 08:46:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] can&apos;t resolve java.lang.annotation.Annotation from source</short_desc>
          <delta_ts>2014-02-18 10:32:41 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          <dependson>419331</dependson>
          <blocked>427787</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Markus Keller">markus_keller</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2359081</commentid>
    <comment_count>0</comment_count>
      <attachid>239658</attachid>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-02-05 08:46:12 -0500</bug_when>
    <thetext>Created attachment 239658
noJREonClasspath.zip

The Eclipse compiler can&apos;t resolve java.lang.annotation.Annotation from source any more.

Since bug 419331, I get a compile error &quot;The type java.lang.annotation.Annotation cannot be resolved. It is indirectly referenced from required .class files&quot; when I try to compile the attached project. When I revert the change for that bug, then the Annotation type is found, and I get better (expected/solvable) problems. (The given project is very incomplete but shows the issue).

Background: I&apos;m trying to regenerate rtstubs18.jar for the JDT/UI tests, so that it includes the APIs from latest JREs. We need this e.g. for the test case in bug 425183 comment 10.

ECJ should generally be able to compile a complete rt.jar from source.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364070</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-16 16:50:54 -0500</bug_when>
    <thetext>(In reply to Markus Keller from comment #0)

&gt; ECJ should generally be able to compile a complete rt.jar from source.

Hmm, we are not hitting this problem in https://bugs.eclipse.org/bugs/show_bug.cgi?id=427787, unless 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=428307 has something to with this.

Stephan, something to bear in mind.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364095</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-16 21:10:07 -0500</bug_when>
    <thetext>Apparently happens only on ECJ runs without JRE - In the IDE we are building with
rt.jar in the build path with class path order ensuring that sources get
picked up first - that could explain it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364527</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-17 14:20:18 -0500</bug_when>
    <thetext>Thanks Markus,

Fix and test released here:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=78bbbeed8347e023a39893a354552d3196a82094

Basically I mended the original fix for https://bugs.eclipse.org/bugs/show_bug.cgi?id=419331 to not
overeagerly try to resolve jlaA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364889</commentid>
    <comment_count>4</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2014-02-18 10:32:41 -0500</bug_when>
    <thetext>Thanks. Verified in BETA_JAVA8 that the project from comment 0 doesn&apos;t stop with that error any more, and that I can compile the full rtstubs18.jar again.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>239658</attachid>
            <date>2014-02-05 08:46:00 -0500</date>
            <delta_ts>2014-02-05 08:46:12 -0500</delta_ts>
            <desc>noJREonClasspath.zip</desc>
            <filename>noJREonClasspath.zip</filename>
            <type>application/x-zip</type>
            <size>4471</size>
            <attacher name="Markus Keller">markus_keller</attacher>
            
              <data encoding="base64">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
eSJELhOZ5WIvN0Ua/MSWSK7j1Bz5EyqsbtTIy7WQ2WqGurSqf27Bgx94bV+5FoPqSh0oYnHjjO4I
Ctn71M1xvkP/Hm537DXYDyLv/gBQSwcIZORGmaUAAABSAQAAUEsBAhQAFAAICAgAynRFRHHdvKhh
AAAAmgAAABsAAAAAAAAAAAAAAAAAAAAAAG5vSlJFb25DbGFzc3BhdGgvLmNsYXNzcGF0aFBLAQIU
ABQACAgIAChzRUQzDo1DxgAAAIgBAAAZAAAAAAAAAAAAAAAAAKoAAABub0pSRW9uQ2xhc3NwYXRo
Ly5wcm9qZWN0UEsBAhQAFAAICAgAbHJFRMv1Yo++AAAAVgIAADUAAAAAAAAAAAAAAAAAtwEAAG5v
SlJFb25DbGFzc3BhdGgvLnNldHRpbmdzL29yZy5lY2xpcHNlLmpkdC5jb3JlLnByZWZzUEsBAhQA
FAAICAgAQmdFRNiM9DYKBAAA3RgAACkAAAAAAAAAAAAAAAAA2AIAAG5vSlJFb25DbGFzc3BhdGgv
c3JjL2phdmEvbGFuZy9DbGFzcy5qYXZhUEsBAhQAFAAICAgAQmdFRPoxymENAQAAtAIAACoAAAAA
AAAAAAAAAAAAOQcAAG5vSlJFb25DbGFzc3BhdGgvc3JjL2phdmEvbGFuZy9PYmplY3QuamF2YVBL
AQIUABQACAgIAEJnRUTLQ5PUqgMAAOAVAAAqAAAAAAAAAAAAAAAAAJ4IAABub0pSRW9uQ2xhc3Nw
YXRoL3NyYy9qYXZhL2xhbmcvU3RyaW5nLmphdmFQSwECFAAUAAgICABCZ0VEbTzEzo4AAAAkAQAA
OQAAAAAAAAAAAAAAAACgDAAAbm9KUkVvbkNsYXNzcGF0aC9zcmMvamF2YS9sYW5nL2Fubm90YXRp
b24vQW5ub3RhdGlvbi5qYXZhUEsBAhQAFAAICAgAGnVFRGTkRpmlAAAAUgEAADUAAAAAAAAAAAAA
AAAAlQ0AAG5vSlJFb25DbGFzc3BhdGgvc3JjL2phdmEvbGFuZy9hbm5vdGF0aW9uL1RhcmdldC5q
YXZhUEsFBgAAAAAIAAgAxAIAAJ0OAAAAAA==
</data>

          </attachment>
      

    </bug>

</bugzilla>