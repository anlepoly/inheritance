<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>428305</bug_id>
          
          <creation_ts>2014-02-16 15:14:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] Various loose ends in Diamond inference implementation</short_desc>
          <delta_ts>2014-02-21 05:52:39 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>427787</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>jarthana</cc>
    
    <cc>noopur_gupta</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2364040</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-16 15:14:24 -0500</bug_when>
    <thetext>Using this CR as the home, I&apos;ll shortly release a patch that fixes a bunch of 
loose ends with the present synthetic static factory based &lt;&gt; inference. Many
of these problems show up while building JRE8 from source zip.

Basically, 

    - Type variables from enclosing types are not handled correctly.
    - Rawness of enclosing type is lost (static nested generic class sees its
      outer as raw.)
    - Certain scenarios result in NPEs while diagnosing redundant type 
      argument specification.
    - Outer rawness gets dropped during substitutions
    - Static factory method&apos;s return type is not encoded properly.

These problems do not affect the most common scenarios, but are important
enough to fix because these impact the inference in non so uncommon scenarios.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364041</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-16 15:15:22 -0500</bug_when>
    <thetext>I should call out that these are issues in the existing (1.7) implementation
carried over to 1.8.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2364043</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-16 15:22:54 -0500</bug_when>
    <thetext>Fixed with this patch: 

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=0b27309efdaba54bffa19e81e0f1e5ae6f176884</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2366653</commentid>
    <comment_count>3</comment_count>
    <who name="Noopur Gupta">noopur_gupta</who>
    <bug_when>2014-02-21 05:52:39 -0500</bug_when>
    <thetext>Verified as working for Eclipse + Java 8 RC1 using Kepler SR2(RC4) +   
Eclipse Java Development Tools Patch for Java 8 Support (BETA)	
1.0.0.v20140220-2054 using the test case changes.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>