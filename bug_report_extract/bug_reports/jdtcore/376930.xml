<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>376930</bug_id>
          
          <creation_ts>2012-04-17 01:47:00 -0400</creation_ts>
          <short_desc>FUP of bug 24804: Organize imports does not work when folding imports into on-demand import</short_desc>
          <delta_ts>2012-05-02 07:03:36 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.6.2+</target_milestone>
          
          <blocked>376734</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Ayushman Jain">amj87.iitr</reporter>
          <assigned_to name="Ayushman Jain">amj87.iitr</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>marek.chodorowski</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>satyam.kandula</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="pmc_approved"
          id="50332"
          type_id="2"
          status="+"
          setter="daniel_megert"
    />
    <flag name="review"
          id="50439"
          type_id="1"
          status="+"
          setter="satyam.kandula"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2094241</commentid>
    <comment_count>0</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-17 01:47:28 -0400</bug_when>
    <thetext>HEAD.
The following test case, when run in ImportRewriteTest, fails

	public void testAddImportsX() throws Exception {
		IPackageFragment pack1= this.sourceFolder.createPackageFragment(&quot;pack1&quot;, false, null);
		StringBuffer buf= new StringBuffer();
		buf.append(
				&quot;package pack1;\n&quot; + 
				&quot;\n&quot; + 
				&quot;import java.util.*; // test\n&quot; +
				&quot;import java.util.Map.Entry;\n&quot; +
				&quot;//comment 2\n&quot; +
				&quot;import java.util.Map.SomethingElse;\n&quot; +
				&quot;// commen 3\n&quot; + 
				&quot;\n&quot; + 
				&quot;public class C {\n&quot; + 
				&quot;    public static void main(String[] args) {\n&quot; + 
				&quot;        HashMap h;\n&quot; + 
				&quot;\n&quot; + 
				&quot;        Map.Entry e= null;\n&quot; + 
				&quot;        Entry e2= null;\n&quot; + 
				&quot;\n&quot; + 
				&quot;        PrintWriter pw;\n&quot; + 
				&quot;        System.out.println(\&quot;hello\&quot;);\n&quot; + 
				&quot;    }\n&quot; + 
				&quot;}&quot;);
		ICompilationUnit cu= pack1.createCompilationUnit(&quot;C.java&quot;, buf.toString(), false, null);

		String[] order= new String[] { &quot;java&quot;, &quot;java.util&quot;, &quot;com&quot;, &quot;pack&quot; };

		ImportRewrite imports= newImportsRewrite(cu, order, 1, 1, true);
		imports.setUseContextToFilterImplicitImports(true);
		imports.addImport(&quot;java.io.PrintWriter&quot;);

		apply(imports);

		buf= new StringBuffer();
		buf.append(
				&quot;package pack1;\n&quot; + 
				&quot;\n&quot; + 
				&quot;import java.io.*;\n&quot; + 
				&quot;\n&quot; + 
				&quot;import java.util.*;\n&quot; + 
				&quot;import java.util.Map.Entry;\n&quot; + 
				&quot;\n&quot; + 
				&quot;public class C {\n&quot; + 
				&quot;    public static void main(String[] args) {\n&quot; + 
				&quot;        HashMap h;\n&quot; + 
				&quot;\n&quot; + 
				&quot;        Map.Entry e= null;\n&quot; + 
				&quot;        Entry e2= null;\n&quot; + 
				&quot;\n&quot; + 
				&quot;        PrintWriter pw;\n&quot; + 
				&quot;        System.out.println(\&quot;hello\&quot;);\n&quot; + 
				&quot;    }\n&quot; + 
				&quot;}&quot;);
		assertEqualString(cu.getSource(), buf.toString());
	}

This is because of bad calculation of comment ranges before and after an import in org.eclipse.jdt.internal.core.dom.rewrite.ImportRewriteAnalyzer.addExistingImports(CompilationUnit)
lines 281 - 297.
This blows up in org.eclipse.jdt.internal.core.dom.rewrite.ImportRewriteAnalyzer.getResultingEdits(IProgressMonitor) line 775</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2094310</commentid>
    <comment_count>1</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-17 05:15:09 -0400</bug_when>
    <thetext>Sorry forgot to put the problematic output. Here it is:


Rama Satyam V Kandula: import java.util.*; // test
import java.util.Map.Entry;methingElse;
// commen 3

//comment 2
import java.util.Map.SomethingElse;
// commen 3


This is bad and should be fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2094312</commentid>
    <comment_count>2</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-17 05:20:05 -0400</bug_when>
    <thetext>To reproduce this in the Editor (thanks Satyam for the steps):
1. Have the given code i.e. class C in the editor.
2. In Preferences, set the organize imports options so that the thresholds for folding into * are 1.
3. On PrintWriter pw, chose the quick fix to add import for java.io.PrintWriter.
4. The code is broken.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2094892</commentid>
    <comment_count>3</comment_count>
      <attachid>214162</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-18 03:13:40 -0400</bug_when>
    <thetext>Created attachment 214162
proposed fix v1.0 + regression tests

The patch correct some incorrect calculations for the comments leading and trailing an import. Previously, the comments range of next import was being added as the comments range for current import.
Also corrected through a new variable(nextLineOffset) is (1)the length of the import source range so that it excludes leading comments of next import and (2)the length of a dummy import for comments to exclude the leading comments of next import.
(This is because the &apos;nextOffset&apos; is the start of the next import but nextLineOffset is simply the start of the next line after the current import.)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2094912</commentid>
    <comment_count>4</comment_count>
      <attachid>214163</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-18 04:00:37 -0400</bug_when>
    <thetext>Created attachment 214163
jdt ui tests

Added a couple of tests to ImportOrganizeTests as well.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2094915</commentid>
    <comment_count>5</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-18 04:17:06 -0400</bug_when>
    <thetext>Srikanth, this will need your +1 for backport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096494</commentid>
    <comment_count>6</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2012-04-20 12:31:20 -0400</bug_when>
    <thetext>Change looks good to me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096773</commentid>
    <comment_count>7</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-22 10:17:15 -0400</bug_when>
    <thetext>Dani, this needs your +1 for backport</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096775</commentid>
    <comment_count>8</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-22 10:18:46 -0400</bug_when>
    <thetext>Thanks for the review Olivier!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2096869</commentid>
    <comment_count>9</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-04-23 01:31:21 -0400</bug_when>
    <thetext>(In reply to comment #5)
&gt; Srikanth, this will need your +1 for backport.

As comment#1 shows, this bug results in corruption/malformation
of what was originally proper source code, hence this fix should
be backported.

Thanks for the review Olivier. 

Ayush, please proceed with backport (Dani has already set the target
to 3.6.2+java7)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2097037</commentid>
    <comment_count>10</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-04-23 08:53:10 -0400</bug_when>
    <thetext>The fix is not good. It changes the location of comments and also fails a JDT UI test.

Test Case: 
Organize imports for:

package bugs;
/*
 * I must not be moved!
 */
import java.io.Serializable;

public class BUG implements Serializable {
}

==&gt; the source should be left unchanged but with the patch I get:

package bugs;
import java.io.Serializable;
/*
 * I must not be moved!
 */

public class BUG implements Serializable {
}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2098375</commentid>
    <comment_count>11</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-25 13:26:04 -0400</bug_when>
    <thetext>
(In reply to comment #10)
&gt; The fix is not good. It changes the location of comments and also fails a JDT
&gt; UI test.
&gt; 
&gt; Test Case: 
&gt; Organize imports for:
&gt; 
&gt; package bugs;
&gt; /*
&gt;  * I must not be moved!
&gt;  */
&gt; import java.io.Serializable;
&gt; 
&gt; public class BUG implements Serializable {
&gt; }
&gt; 
&gt; ==&gt; the source should be left unchanged but with the patch I get:
&gt; 
&gt; package bugs;
&gt; import java.io.Serializable;
&gt; /*
&gt;  * I must not be moved!
&gt;  */
&gt; 
&gt; public class BUG implements Serializable {
&gt; }

This is a slightly modified version of a pre-existing problem, which only now shows up because I included the first comment also in the replace range being considered. See that the following example is already broken prior to this patch:

/*
 * I must not be moved!
 */
import java.awt.List;
/*
 * I must not be moved!
 */
import java.io.Serializable;
/*
 * I must not be moved!
 */
import java.util.HashMap;

public class Snippet implements Serializable {
	void foo() {
		List l = new List();
		HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();
	}
}

When you organize imports, all the comments get grouped together at the end. The problem arises because of the fact that org.eclipse.jdt.internal.corext.codemanipulation.OrganizeImportsOperation.createTextEdit(IProgressMonitor) starts the import rewriting by setting the restoreExistingImports parameter to false. This means that the rewrite first removes all imports and then adds them back again, irrespective of whether some of them is to be removed or all are to be preserved. Our mechanism obviously fails because all the imports are re-added and we don&apos;t know whether they are new imports or an already existing import is being re-added. Hence, the grouping of the comments at the end.

I&apos;m looking at how to fix our mechanism to accomodate this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2098929</commentid>
    <comment_count>12</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-04-26 10:19:40 -0400</bug_when>
    <thetext>(In reply to comment #11)

&gt; /*
&gt;  * I must not be moved!
&gt;  */
&gt; import java.awt.List;
&gt; /*
&gt;  * I must not be moved!
&gt;  */
&gt; import java.io.Serializable;
&gt; /*
&gt;  * I must not be moved!
&gt;  */
&gt; import java.util.HashMap;
Ayush, we don&apos;t have to fix this case. It is OK, if we could stop moving the comment before the first import. Look at bug 24804 comment 29.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099364</commentid>
    <comment_count>13</comment_count>
      <attachid>214666</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-27 03:13:21 -0400</bug_when>
    <thetext>Created attachment 214666
proposed fix v1.1 + regression tests

This patch takes care ONLY of comment 10. However, there&apos;s no guarantee of preserving the comments between 2 imports. I have a fix for that but will attach in a separate bug. As noted in comment 12, that doesn&apos;t need to be fixed immediately or for the backport.

In this patch, I&apos;ve reverted to the old way of not including leading comments of the first import in the replace range.

Dani, please check if this patch is ok. Thanks</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099366</commentid>
    <comment_count>14</comment_count>
      <attachid>214667</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-27 03:14:02 -0400</bug_when>
    <thetext>Created attachment 214667
jdt ui tests v2

Updated the new jdt ui tests I added.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099467</commentid>
    <comment_count>15</comment_count>
      <attachid>214680</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-27 06:15:15 -0400</bug_when>
    <thetext>Created attachment 214680
proposed fix v1.2 + regression tests

This patch just makes 2 minor changes pointed out by Satyam:
1. The leading comments are always preserved, even a new import is only added after them.
i.e. 
// comment 1
java.util.Map;

If i add java.io.* to the above, this will change to
//comment 1
java.io*;
java.util.map;

and NOT to

java.io*;

//comment 1
java.util.map;

See ImportRewriteTests.testBug376930_2 for example

2. Removed a redundant if condition

I ran org.eclipse.jdt.ui.tests.AutomatedSuite and all tests pass.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099473</commentid>
    <comment_count>16</comment_count>
      <attachid>214682</attachid>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-27 06:28:10 -0400</bug_when>
    <thetext>Created attachment 214682
proposed fix v1.3 + regression tests

The point 2 in the above comments still remained somehow in the last patch. Git didn&apos;t update my patch or something. So here&apos;s the final patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099474</commentid>
    <comment_count>17</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-04-27 06:30:43 -0400</bug_when>
    <thetext>Patch looks good to me.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2099475</commentid>
    <comment_count>18</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2012-04-27 06:31:17 -0400</bug_when>
    <thetext>Dani, Please review for the backport. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100362</commentid>
    <comment_count>19</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-04-30 06:19:23 -0400</bug_when>
    <thetext>(In reply to comment #18)
&gt; Dani, Please review for the backport. Thanks.

-1. It still fails the test case in comment 10. With the latest fix it no longer re-orders the comment but it still changes the file. That&apos;s not acceptable.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100379</commentid>
    <comment_count>20</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2012-04-30 07:02:13 -0400</bug_when>
    <thetext>(In reply to comment #19)
&gt; (In reply to comment #18)
&gt; &gt; Dani, Please review for the backport. Thanks.
&gt; 
&gt; -1. It still fails the test case in comment 10. With the latest fix it no
&gt; longer re-orders the comment but it still changes the file. That&apos;s not
&gt; acceptable.

It looks like something was wrong in my workspace. I tried again several times and the patch didn&apos;t change the file anymore. I also ran the JDT UI tests and they all pass.

+1 to backport.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100404</commentid>
    <comment_count>21</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-30 07:52:48 -0400</bug_when>
    <thetext>Released in master via commit 4eaab794bf6dc1418675f45525d0cd74715d55ef</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100432</commentid>
    <comment_count>22</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-30 08:27:48 -0400</bug_when>
    <thetext>Backported to R3_7_maintenance via commit 33ce1f83edb1d6e1538bec8626c417bd76e3d1a8</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2100567</commentid>
    <comment_count>23</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-04-30 11:11:57 -0400</bug_when>
    <thetext>Backported to R3_6_maintenance_Java7 via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R3_6_maintenance_Java7&amp;id=24432bed9bb8d5fb1dd2198348d9980357da067a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2101460</commentid>
    <comment_count>24</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-05-02 04:53:15 -0400</bug_when>
    <thetext>Verified for 3.8 M7 using Build id: I20120430-2000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2101509</commentid>
    <comment_count>25</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-05-02 07:03:36 -0400</bug_when>
    <thetext>Released in 362+ via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R3_6_maintenance&amp;id=8462dab82f576431859045179a5c6b834586b6f0</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214162</attachid>
            <date>2012-04-18 03:13:00 -0400</date>
            <delta_ts>2012-04-27 03:13:21 -0400</delta_ts>
            <desc>proposed fix v1.0 + regression tests</desc>
            <filename>Fixed-bug-376930-FUP-of-bug-24804-Organize-imports-d.patch</filename>
            <type>text/plain</type>
            <size>37326</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCBmOTZmMDA1Li43MmZjNjRmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC03NTksOCArNzU5LDggQEAKIAkJYnVmPSBuZXcg
U3RyaW5nQnVmZmVyKCk7CiAJCWJ1Zi5hcHBlbmQoInBhY2thZ2UgcGFjazE7XG4iKTsKIAkJYnVm
LmFwcGVuZCgiXG4iKTsKLQkJYnVmLmFwcGVuZCgiLyoqIGNvbW1lbnQgKi9cbiIpOwogCQlidWYu
YXBwZW5kKCJpbXBvcnQgamF2YS5pby5FeGNlcHRpb247XG4iKTsKKwkJYnVmLmFwcGVuZCgiLyoq
IGNvbW1lbnQgKi9cbiIpOwogCQlidWYuYXBwZW5kKCJcbiIpOwogCQlidWYuYXBwZW5kKCJwdWJs
aWMgY2xhc3MgQyB7XG4iKTsKIAkJYnVmLmFwcGVuZCgifVxuIik7CkBAIC0xNDkzLDYgKzE0OTMs
NjkwIEBACiAJCWJ1Zi5hcHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRT
b3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOwogCX0KKwkKKwkvLyBodHRwczovL2J1Z3MuZWNsaXBz
ZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1
ZzM3NjkzMCgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gMiBpbXBvcnRzIGFyZSBpbiAxIGdyb3VwIGJ1dCB0aGlyZCBpcyBzZXBh
cmF0ZWQgYnkgYSBjb21tZW50CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAg
InBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAgICAgICAgICAgICAg
ICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTtcbiIgKworICAgICAgICAgICAgICAgICIvL2Nv
bW1lbnQgMlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0
aGluZ0Vsc2U7XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td
IGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5F
bnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBu
dWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1c
biIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1
ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwg
ZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsg
ImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJl
d3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsK
KyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1
ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisK
KyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZl
cigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sx
O1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0
IGphdmEuaW8uKjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAg
ICAgImltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdFxuIiArIAorICAgICAgICAgICAgICAgICJp
bXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy9jb21t
ZW50IDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhp
bmdFbHNlO1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsgIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBh
cmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAor
ICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50
cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVs
bDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4i
ICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3Uu
Z2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6
Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1Ymxp
YyB2b2lkIHRlc3RCdWczNzY5MzBfMigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFj
a2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdt
ZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3Jv
dXAKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
dCAxXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdFxu
IiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0
MlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vs
c2U7XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBl
PSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQ
cmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAK
KyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFj
azEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2Us
IG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEi
LCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUg
aW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAg
ICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7Cisg
ICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAg
ICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwor
ICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
aW8uKjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbnQgMVxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8v
IHRlc3RcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsg
Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21l
dGhpbmdFbHNlO1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb
XSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAu
RW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0g
bnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lz
dGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9
XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmco
Y3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0
cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1
YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfMygpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJ
UGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZy
YWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9
IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUg
Z3JvdXAKKyAgICAgICAgLy8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAg
YnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisg
ICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFc
biIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVu
dHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBq
YXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0
KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmlu
Z1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJw
YWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3Jp
dGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0
VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0
KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAg
ICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArIAorICAgICAg
ICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsK
KyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsg
Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51
dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbiAzXG4iICsgIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAg
ICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAg
ICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7Cisg
ICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVn
LmNnaT9pZD0zNzY5MzAKKyAgICAvLyByZW1vdmUgaW1wb3J0cywgcHJlc2VydmUgYWxsIGNvbW1l
bnRzCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMF8zYSgpIHRocm93cyBFeGNlcHRpb24g
eworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3Jl
YXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5n
QnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAg
Ii8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0Mlxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5Qcmlu
dFdyaXRlciIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAi
cGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovIFxuIiArCisJCQkJIi8vIHRlc3QxXG4iICsKKwkJ
CQkiLyogbGVhZCAyKi9cbiIgKworCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQgMyov
IFxuIiArCisJCQkJIi8vIHRlc3QzXG4iICsKKwkJCQkiLy8gY29tbWVuIDNcbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g
YXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVu
dHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51
bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3Rl
bS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxu
IiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1
LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBz
Oi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICBwdWJs
aWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBh
Y2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFn
bWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBu
ZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIC8vIGFsbCBpbXBvcnRzIGFyZSBpbiBzYW1lIGdy
b3VwCisgICAgICAgIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1lbnRzCisgICAgICAgIC8v
IHR3byBvbiBkZW1hbmQgaW1wb3J0cyBpbiB0aGUgZ3JvdXAKKyAgICAgICAgYnVmLmFwcGVuZCgK
KyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAg
ICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAg
ICAgICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLio7IC8vIHRlc3QyXG4i
ICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29t
ZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNs
YXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1h
aW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hN
YXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAg
RW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxh
dGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50
b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcg
U3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAg
ICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEs
IDEsIHRydWUpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0
SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEuaW8uUHJpbnRX
cml0ZXIiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcg
U3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBh
Y2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS5pby4qO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxl
YWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAg
ICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLio7IC8vIHRlc3QyXG4iICsKKyAgICAg
ICAgICAgICAgICAiLyogbGVhZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxz
ZTsgLy8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5n
W10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFw
LkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9
IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5
c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
fVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5n
KGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0
dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICAv
LyByZW1vdmUgaW1wb3J0cywgcHJlc2VydmUgYWxsIGNvbW1lbnRzCisgICAgcHVibGljIHZvaWQg
dGVzdEJ1ZzM3NjkzMF80YSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZy
YWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJw
YWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJp
bmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2Fn
ZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
Ly8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBq
YXZhLnV0aWwuSGFzaE1hcDsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLio7IC8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAg
ICAiLyogbGVhZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsgLy8gdGVz
dDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykg
e1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9
IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFBy
aW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQu
cHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAor
ICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNr
MS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwg
bnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIs
ICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBp
bXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEsIDEsIGZhbHNlKTsKKyAgICAg
ICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7Cisg
ICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAg
ICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOwor
ICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEu
aW8uKjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKwkJCQkiLyog
bGVhZCAxKi8gXG4iICsKKwkJCQkiLy8gdGVzdDFcbiIgKworCQkJCSIvKiBsZWFkIDIqL1xuIiAr
CisJCQkJIi8vIHRlc3QyXG4iICsKKwkJCQkiLyogbGVhZCAzKi8gXG4iICsKKwkJCQkiLy8gdGVz
dDNcbiIgKworCQkJCSIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVs
bG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAg
ICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50
b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5
MzBfNSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sx
ID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNl
LCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsK
KyAgICAgICAgLy8gYWxsIGltcG9ydHMgb2Ygc2FtZSBncm91cCBhcmUgc2NhdHRlcmVkIGFyb3Vu
ZAorICAgICAgICAvLyBsZWFkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cworICAgICAgICAvLyBh
ZGRpbmcgYW4gb24tZGVtYW5kIGltcG9ydCBiZWxvbmdpbmcgdG8gYSBncm91cAorICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0
ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQg
amF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsK
KyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5p
dCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJp
bmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAi
cGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdy
aXRlKGN1LCBvcmRlciwgMSwgMSwgdHJ1ZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4
dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9y
dCgiamF2YS51dGlsLk1hcC4qIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAg
ICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8q
IGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIu
KjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2
YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAg
ICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsK
KyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19i
dWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfNWEoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291
cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7Cisg
ICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIC8v
IGFsbCBpbXBvcnRzIGFyZSBpbiBzYW1lIGdyb3VwCisgICAgICAgIC8vIGxlYWRpbmcgYW5kIHRy
YWlsaW5nIGNvbW1lbnRzCisgICAgICAgIC8vIGFkZGluZyBhbiBvbi1kZW1hbmQgaW1wb3J0IGJl
bG9uZ2luZyB0byBhIGdyb3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAg
InBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1w
b3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAg
ICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAg
ICAgICAgICAiLyogbGVhZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsg
Ly8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g
YXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVu
dHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51
bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3Rl
bS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxu
IiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlvblVuaXQgY3Ug
PSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBm
YWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAi
amF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3
cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEsIDEsIHRydWUpOwor
ICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVl
KTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5NYXAuKiIpOworCisgICAg
ICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsK
KyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQg
MVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50
V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1w
b3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBq
YXZhLnV0aWwuTWFwLio7XG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAzKi8gaW1wb3J0
IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKworICAgICAgICAgICAg
ICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVi
bGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7
CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmco
KSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3No
b3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICAvLyBhZGRlZCBpbXBvcnQgc2hvdWxkIGdldCBmb2xk
ZWQgaW50byBleGlzdGluZyAqLCB3aXRob3V0IHRvdWNoaW5nIGNvbW1lbnRzCisgICAgcHVibGlj
IHZvaWQgdGVzdEJ1ZzM3NjkzMF81YigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFj
a2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdt
ZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAi
cGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBv
cnQgamF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAg
Ii8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAv
LyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAg
ICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBh
cmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAor
ICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50
cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVs
bDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4i
ICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9
IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZh
bHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJq
YXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdy
aXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgMSwgMSwgZmFsc2UpOwor
ICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVl
KTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5NYXAiKTsKKworICAgICAg
ICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7Cisg
ICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0
aWwuKjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKwkJCQkiLyog
bGVhZCAyKi9cbiIgKworCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQgMSovIFxuIiAr
CisJCQkJIi8vIHRlc3QxXG4iICsKKwkJCQkiLyogbGVhZCAzKi8gXG4iICsKKwkJCQkiLy8gdGVz
dDNcbiIgKworCQkJCSIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVs
bG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAg
ICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50
b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIHJlbW92ZSBpbXBvcnRzLCBwcmVz
ZXJ2ZSBhbGwgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzVjKCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0
ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQg
amF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsK
KyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5p
dCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJp
bmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAi
cGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdy
aXRlKGN1LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRl
eHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEudXRpbC5NYXAuKiIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAg
ICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAg
ICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLio7XG4iICsgCisgICAgICAg
ICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovIFxuIiArCisJCQkJ
Ii8vIHRlc3QxXG4iICsKKwkJCQkiLyogbGVhZCAyKi9cbiIgKworCQkJCSIvLyB0ZXN0MlxuIiAr
CisJCQkJIi8qIGxlYWQgMyovIFxuIiArCisJCQkJIi8vIHRlc3QzXG4iICsKKwkJCQkiLy8gY29t
bWVuIDNcbiIgKworICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVi
bGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2
b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFz
c2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQor
ICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9p
ZD0zNzY5MzAKKyAgICAvLyBhZGRlZCBpbXBvcnQgc2hvdWxkIGdldCBmb2xkZWQgYWxvbmcgd2l0
aCBleGlzdGluZyBpbXBvcnQgaW50byAqLCB3aXRob3V0IGRlbGV0aW5nIGNvbW1lbnRzCisgICAg
cHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMF81ZCgpIHRocm93cyBFeGNlcHRpb24geworICAgICAg
ICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2Fn
ZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1
ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAg
ICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAy
Ki9pbXBvcnQgamF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuTWFwOyAvLyB0ZXN0MVxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
IAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIg
cHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwi
aGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAg
ICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNv
bXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKwor
ICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRp
bCIsICJjb20iLCAicGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5l
d0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwgMiwgMiwgdHJ1ZSk7CisgICAgICAgIGltcG9ydHMu
c2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBv
cnRzLmFkZEltcG9ydCgiamF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBv
cnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5h
cHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAg
ICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVz
dDJcbiIgKworICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDEqLyBcbiIgKworICAgICAgICAgICAgICAgICIgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAg
ICAgICIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwu
KjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1Ymxp
YyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9p
ZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBI
YXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3Nl
cnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KIAog
CXByaXZhdGUgdm9pZCBhc3NlcnRBZGRlZEFuZFJlbW92ZWQoSW1wb3J0UmV3cml0ZSBpbXBvcnRz
LCBTdHJpbmdbXSBleHBlY3RlZEFkZGVkLCBTdHJpbmdbXSBleHBlY3RlZFJlbW92ZWQsIFN0cmlu
Z1tdIGV4cGVjdGVkQWRkZWRTdGF0aWMsIFN0cmluZ1tdIGV4cGVjdGVkUmVtb3ZlZFN0YXRpYykg
ewogCQlhc3NlcnRFcXVhbFN0cmluZ3NJZ25vcmVPcmRlcihpbXBvcnRzLmdldEFkZGVkSW1wb3J0
cygpLCBleHBlY3RlZEFkZGVkKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Rv
bS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRl
QW5hbHl6ZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YQppbmRl
eCA1YTQzZGFmLi45MjA5YjhlIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20v
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFu
YWx5emVyLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhCkBA
IC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykg
MjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykg
MjAwMCwgMjAxMiBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFy
ZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExp
Y2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBp
cyBhdmFpbGFibGUgYXQKQEAgLTI3MSwyOCArMjcxLDM4IEBACiAJCQlpbnQgbmV4dExlbmd0aD0g
bmV4dC5nZXRMZW5ndGgoKTsKIAkJCWludCBuZXh0T2Zmc2V0TGluZT0gcm9vdC5nZXRMaW5lTnVt
YmVyKG5leHRPZmZzZXQpOwogCi0JCQlpbnQgZXh0ZW5kZWRTdGFydCA9IHJvb3QuZ2V0RXh0ZW5k
ZWRTdGFydFBvc2l0aW9uKG5leHQpOwotCQkJaW50IGV4dGVuZGVkTGVuZ3RoID0gcm9vdC5nZXRF
eHRlbmRlZExlbmd0aChuZXh0KTsKKwkJCWludCBleHRlbmRlZFN0YXJ0ID0gcm9vdC5nZXRFeHRl
bmRlZFN0YXJ0UG9zaXRpb24oY3Vycik7CisJCQlpbnQgZXh0ZW5kZWRMZW5ndGggPSByb290Lmdl
dEV4dGVuZGVkTGVuZ3RoKGN1cnIpOwogCQkJLy8gaWYgbmV4dCBpbXBvcnQgaXMgb24gYSBkaWZm
ZXJlbnQgbGluZSwgbW9kaWZ5IHRoZSBlbmQgcG9zaXRpb24gdG8gdGhlIG5leHQgbGluZSBiZWdp
biBvZmZzZXQKKwkJCWludCBuZXh0TGluZU9mZnNldCA9IG5leHRPZmZzZXQ7IC8vIG9mZnNldCBh
dCB0aGUgc3RhcnQgb2YgbmV4dCBsaW5lLiBOZXh0IGltcG9ydCBtYXkgbm90IHN0YXJ0IGhlcmUK
IAkJCWlmIChjdXJyRW5kTGluZSA8IG5leHRPZmZzZXRMaW5lKSB7CiAJCQkJY3VyckVuZExpbmUr
KzsKLQkJCQluZXh0T2Zmc2V0PSByb290LmdldFBvc2l0aW9uKGN1cnJFbmRMaW5lLCAwKTsKKwkJ
CQluZXh0TGluZU9mZnNldCA9IHJvb3QuZ2V0UG9zaXRpb24oY3VyckVuZExpbmUsIDApOworCQkJ
CWlmIChuZXh0TGluZU9mZnNldCA+IG5leHRPZmZzZXQpIHsKKwkJCQkJbmV4dE9mZnNldCA9IG5l
eHRMaW5lT2Zmc2V0OworCQkJCX0gCisJCQkJLy8gZWxzZSB0aGVyZSBhcmUgc29tZSBsZWFkaW5n
IGNvbW1lbnRzIChvciBsaW5lIGRlbGltaXRlcnMpIGJlZm9yZSB0aGUgbmV4dCBpbXBvcnQuIFRo
ZSBzdGFydCBvZiB0aG9zZSBjb21tZW50cworCQkJCS8vIGlzIG5vdCB0aGUgcmVhbCBzdGFydCBv
ZmZzZXQgb2YgdGhlIG5leHQgaW1wb3J0LiBTbyBkb24ndCBjaGFuZ2UgbmV4dE9mZnNldAogCQkJ
fQogCQkJLy8gcmV0cmlldmUgcHJlY2VkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cyBpZiBhbnkK
IAkJCUlSZWdpb24gcmFuZ2VCZWZvcmUgPSBudWxsOwogCQkJSVJlZ2lvbiByYW5nZUFmdGVyID0g
bnVsbDsKLQkJCWlmIChuZXh0T2Zmc2V0ICE9IGV4dGVuZGVkU3RhcnQpIHsKLQkJCQlyYW5nZUJl
Zm9yZSA9IG5ldyBSZWdpb24oZXh0ZW5kZWRTdGFydCwgZXh0ZW5kZWRTdGFydCAtIG5leHRPZmZz
ZXQgKyAxKTsKKwkJCQorCQkJaWYgKGN1cnJPZmZzZXQgPiBleHRlbmRlZFN0YXJ0KSB7CisJCQkJ
cmFuZ2VCZWZvcmUgPSBuZXcgUmVnaW9uKGV4dGVuZGVkU3RhcnQsIGN1cnJPZmZzZXQgLSBleHRl
bmRlZFN0YXJ0KTsKIAkJCX0KLQkJCWlmIChuZXh0TGVuZ3RoICE9IGV4dGVuZGVkTGVuZ3RoKSB7
Ci0JCQkJcmFuZ2VBZnRlciA9IG5ldyBSZWdpb24obmV4dE9mZnNldCArIG5leHRMZW5ndGgsIGV4
dGVuZGVkTGVuZ3RoIC0gbmV4dExlbmd0aCArIDEpOworCQkJaW50IGN1cnJMZW4gPSBjdXJyLmdl
dExlbmd0aCgpOworCQkJaWYgKGN1cnJMZW4gPCBleHRlbmRlZExlbmd0aCAtIChjdXJyT2Zmc2V0
IC0gZXh0ZW5kZWRTdGFydCkpIHsKKwkJCQlpbnQgY3VyckVuZE9mZnNldCA9IGN1cnJPZmZzZXQg
KyBjdXJyTGVuOworCQkJCWludCByYW5nZUJlZm9yZUxlbiA9IHJhbmdlQmVmb3JlICE9IG51bGw/
IHJhbmdlQmVmb3JlLmdldExlbmd0aCgpIDogMDsKKwkJCQlyYW5nZUFmdGVyID0gbmV3IFJlZ2lv
bihjdXJyRW5kT2Zmc2V0LCBleHRlbmRlZExlbmd0aCAtIHJhbmdlQmVmb3JlTGVuIC0gY3Vyckxl
bik7CiAJCQl9CiAJCQljdXJyUGFja2FnZS5hZGQoCiAJCQkJCW5ldyBJbXBvcnREZWNsRW50cnko
CiAJCQkJCQkJcGFja05hbWUubGVuZ3RoKCksIAogCQkJCQkJCW5hbWUsIAogCQkJCQkJCWlzU3Rh
dGljLCAKLQkJCQkJCQluZXcgUmVnaW9uKGN1cnJPZmZzZXQsIG5leHRPZmZzZXQgLSBjdXJyT2Zm
c2V0KSwKKwkJCQkJCQluZXcgUmVnaW9uKGN1cnJPZmZzZXQsIG5leHRMaW5lT2Zmc2V0IC0gY3Vy
ck9mZnNldCksIC8vIHNob3VsZCBub3QgaW5jbHVkZSBsZWFkaW5nIGNvbW1lbnRzIG9mIG5leHQg
aW1wb3J0LCBsaW5lIGRlbGltaXRlcnMsIGV0Yy4KIAkJCQkJCQlyYW5nZUJlZm9yZSwKIAkJCQkJ
CQlyYW5nZUFmdGVyKSk7CiAJCQljdXJyT2Zmc2V0PSBuZXh0T2Zmc2V0OwpAQCAtMzA0LDcgKzMx
NCw3IEBACiAKIAkJCQljdXJyUGFja2FnZT0gbmV3IFBhY2thZ2VFbnRyeSgpOyAvLyBjcmVhdGUg
YSBjb21tZW50IHBhY2thZ2UgZW50cnkgZm9yIHRoaXMKIAkJCQl0aGlzLnBhY2thZ2VFbnRyaWVz
LmFkZChjdXJyUGFja2FnZSk7Ci0JCQkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50
cnkocGFja05hbWUubGVuZ3RoKCksIG51bGwsIGZhbHNlLCBuZXcgUmVnaW9uKGN1cnJPZmZzZXQs
IG5leHRPZmZzZXQgLSBjdXJyT2Zmc2V0KSkpOworCQkJCWN1cnJQYWNrYWdlLmFkZChuZXcgSW1w
b3J0RGVjbEVudHJ5KHBhY2tOYW1lLmxlbmd0aCgpLCBudWxsLCBmYWxzZSwgbmV3IFJlZ2lvbihu
ZXh0TGluZU9mZnNldCwgbmV4dE9mZnNldCAtIG5leHRMaW5lT2Zmc2V0KSkpOwogCiAJCQkJY3Vy
ck9mZnNldD0gbmV4dE9mZnNldDsKIAkJCX0KQEAgLTMxOCw4ICszMjgsMjMgQEAKIAkJCWN1cnJQ
YWNrYWdlPSBuZXcgUGFja2FnZUVudHJ5KHBhY2tOYW1lLCBudWxsLCBpc1N0YXRpYyk7CiAJCQl0
aGlzLnBhY2thZ2VFbnRyaWVzLmFkZChjdXJyUGFja2FnZSk7CiAJCX0KLQkJaW50IGxlbmd0aD0g
dGhpcy5yZXBsYWNlUmFuZ2UuZ2V0T2Zmc2V0KCkgKyB0aGlzLnJlcGxhY2VSYW5nZS5nZXRMZW5n
dGgoKSAtIGN1cnIuZ2V0U3RhcnRQb3NpdGlvbigpOwotCQljdXJyUGFja2FnZS5hZGQobmV3IElt
cG9ydERlY2xFbnRyeShwYWNrTmFtZS5sZW5ndGgoKSwgbmFtZSwgaXNTdGF0aWMsIG5ldyBSZWdp
b24oY3Vyci5nZXRTdGFydFBvc2l0aW9uKCksIGxlbmd0aCkpKTsKKwkJaW50IGN1cnJTdGFydE9m
ZnNldCA9IGN1cnIuZ2V0U3RhcnRQb3NpdGlvbigpOworCQlpbnQgY3VyckxlbiA9IGN1cnIuZ2V0
TGVuZ3RoKCk7CisJCWludCBleHRlbmRlZFN0YXJ0T2Zmc2V0ID0gcm9vdC5nZXRFeHRlbmRlZFN0
YXJ0UG9zaXRpb24oY3Vycik7CisJCUlSZWdpb24gbGVhZGluZ0NvbW1lbnRzID0gbnVsbDsKKwkJ
SVJlZ2lvbiBhbGxUcmFpbGluZ0NvbW1lbnRzID0gbnVsbDsKKwkJCisJCWlmIChjdXJyU3RhcnRP
ZmZzZXQgPiBleHRlbmRlZFN0YXJ0T2Zmc2V0KSB7CisJCQlsZWFkaW5nQ29tbWVudHMgPSBuZXcg
UmVnaW9uKGV4dGVuZGVkU3RhcnRPZmZzZXQsIGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0T2Zm
c2V0KTsKKwkJfQorCQlpbnQgbGVuZ3RoPSB0aGlzLnJlcGxhY2VSYW5nZS5nZXRPZmZzZXQoKSAr
IHRoaXMucmVwbGFjZVJhbmdlLmdldExlbmd0aCgpIC0gY3VyclN0YXJ0T2Zmc2V0OworCQlpbnQg
ZXh0ZW5kZWRMZW5ndGggPSByb290LmdldEV4dGVuZGVkTGVuZ3RoKGN1cnIpOworCQlpZiAoY3Vy
ckxlbiA8IGV4dGVuZGVkTGVuZ3RoIC0gKGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0T2Zmc2V0
KSkgeworCQkJaW50IGN1cnJFbmRPZmZzZXQgPSBjdXJyT2Zmc2V0ICsgY3VyckxlbjsKKwkJCWlu
dCBsZWFkaW5nQ29tbWVudHNMZW4gPSBsZWFkaW5nQ29tbWVudHMgIT0gbnVsbD8gbGVhZGluZ0Nv
bW1lbnRzLmdldExlbmd0aCgpIDogMDsKKwkJCWFsbFRyYWlsaW5nQ29tbWVudHMgPSBuZXcgUmVn
aW9uKGN1cnJFbmRPZmZzZXQsIGV4dGVuZGVkTGVuZ3RoIC0gbGVhZGluZ0NvbW1lbnRzTGVuIC0g
Y3Vyckxlbik7CisJCX0KKwkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50cnkocGFj
a05hbWUubGVuZ3RoKCksIG5hbWUsIGlzU3RhdGljLCBuZXcgUmVnaW9uKGN1cnIuZ2V0U3RhcnRQ
b3NpdGlvbigpLCBsZW5ndGgpLCBsZWFkaW5nQ29tbWVudHMsIGFsbFRyYWlsaW5nQ29tbWVudHMp
KTsKIAl9CiAKIAlwcml2YXRlIElSZWdpb25bXSByZXRyaWV2ZUV4aXN0aW5nQ29tbWVudHNJbklt
cG9ydHMoQ29tcGlsYXRpb25Vbml0IHJvb3QpIHsKQEAgLTMzNCw5ICszNTksNiBAQAogCQlpbnQg
Y3VycmVudEV4dGVuZGVkRW5kID0gLTE7CiAJCWludCBjdXJyRW5kTGluZT0gLTE7CiAKLQkJLyog
Zm9yIHRoZSBmaXJzdCBjb21tZW50LCB3ZSBvbmx5IHRha2UgdGhlIHRyYWlsaW5nIGNvbW1lbnQg
aWYgYW55IGFuZCB0aGUgcmVwbGFjZSByYW5nZSBkb2Vzbid0IAotCQkgKiBpbmNsdWRlIHRoZSBw
cmVjZWRpbmcgY29tbWVudAotCQkgKi8KIAkJZm9yIChpbnQgaT0gMDsgaSA8IGRlY2xzLnNpemUo
KTsgaSsrKSB7CiAJCQlJbXBvcnREZWNsYXJhdGlvbiBuZXh0PSAoSW1wb3J0RGVjbGFyYXRpb24p
IGRlY2xzLmdldChpKTsKIAkJCWludCBuZXh0T2Zmc2V0PSBuZXh0LmdldFN0YXJ0UG9zaXRpb24o
KTsKQEAgLTM0OSwxOSArMzcxLDE1IEBACiAJCQlpZiAobmV4dE9mZnNldCAhPSBleHRlbmRlZFN0
YXJ0KSB7CiAJCQkJLy8gcHJlY2VkaW5nIGNvbW1lbnQKIAkJCQlpbnQgbGVuZ3RoT2ZQcmVjZWRp
bmdDb21tZW50ID0gbmV4dE9mZnNldCAtIGV4dGVuZGVkU3RhcnQ7Ci0JCQkJaWYgKGkgIT0gMCkg
ewotCQkJCQlpZiAocmVnaW9ucyA9PSBudWxsKSB7Ci0JCQkJCQlyZWdpb25zID0gbmV3IEFycmF5
TGlzdCgpOwotCQkJCQl9Ci0JCQkJCXJlZ2lvbnMuYWRkKG5ldyBSZWdpb24oZXh0ZW5kZWRTdGFy
dCwgbGVuZ3RoT2ZQcmVjZWRpbmdDb21tZW50KSk7CisJCQkJLy8gdGhlIHJlcGxhY2UgcmFuZ2Ug
aW5jbHVkZXMgdGhlIGxlYWRpbmcgY29tbWVudHMgdG9vCisJCQkJaWYgKHJlZ2lvbnMgPT0gbnVs
bCkgeworCQkJCQlyZWdpb25zID0gbmV3IEFycmF5TGlzdCgpOwogCQkJCX0KKwkJCQlyZWdpb25z
LmFkZChuZXcgUmVnaW9uKGV4dGVuZGVkU3RhcnQsIGxlbmd0aE9mUHJlY2VkaW5nQ29tbWVudCkp
OwogCQkJCQogCQkJCWlmIChleHRlbmRlZExlbmd0aCAhPSAobmV4dExlbmd0aCArIGxlbmd0aE9m
UHJlY2VkaW5nQ29tbWVudCkpIHsKIAkJCQkJLy8gUHJlY2VkaW5nIGFuZCB0cmFpbGluZyBjb21t
ZW50cyAKIAkJCQkJaW50IHJlZ2lvbkxlbmd0aCA9IGV4dGVuZGVkTGVuZ3RoIC0gKG5leHRMZW5n
dGggKyBsZW5ndGhPZlByZWNlZGluZ0NvbW1lbnQpOwotCQkJCQlpZiAocmVnaW9ucyA9PSBudWxs
KSB7Ci0JCQkJCQlyZWdpb25zID0gbmV3IEFycmF5TGlzdCgpOwotCQkJCQl9CiAJCQkJCXJlZ2lv
bnMuYWRkKG5ldyBSZWdpb24obmV4dE9mZnNldCArIG5leHRMZW5ndGgsIHJlZ2lvbkxlbmd0aCkp
OwogCQkJCX0KIAkJCX0gZWxzZSBpZiAobmV4dExlbmd0aCAhPSBleHRlbmRlZExlbmd0aCkgewpA
QCAtNjYwLDcgKzY3OCw3IEBACiAJCQlJbXBvcnREZWNsYXJhdGlvbiBmaXJzdD0gKEltcG9ydERl
Y2xhcmF0aW9uKSBpbXBvcnRzLmdldCgwKTsKIAkJCUltcG9ydERlY2xhcmF0aW9uIGxhc3Q9IChJ
bXBvcnREZWNsYXJhdGlvbikgaW1wb3J0cy5nZXQoaW1wb3J0cy5zaXplKCkgLSAxKTsKIAotCQkJ
aW50IHN0YXJ0UG9zPSBmaXJzdC5nZXRTdGFydFBvc2l0aW9uKCk7IC8vIG5vIGV4dGVuZGVkIHJh
bmdlIGZvciBmaXJzdDogYnVnIDEyMTQyOAorCQkJaW50IHN0YXJ0UG9zPSByb290LmdldEV4dGVu
ZGVkU3RhcnRQb3NpdGlvbihmaXJzdCk7CiAJCQlpbnQgZW5kUG9zPSByb290LmdldEV4dGVuZGVk
U3RhcnRQb3NpdGlvbihsYXN0KSArIHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgobGFzdCk7CiAJCQlp
bnQgZW5kTGluZT0gcm9vdC5nZXRMaW5lTnVtYmVyKGVuZFBvcyk7CiAJCQlpZiAoZW5kTGluZSA+
IDApIHsKQEAgLTc2Niw2ICs3ODQsMTQgQEAKIAkJCQkJCX0KIAkJCQkJfSBlbHNlIGlmICghZG9T
dGFySW1wb3J0IHx8IGN1cnJEZWNsLmlzT25EZW1hbmQoKSB8fCBvbkRlbWFuZENvbmZsaWN0cyA9
PSBudWxsIHx8IG9uRGVtYW5kQ29uZmxpY3RzLmNvbnRhaW5zKGN1cnJEZWNsLmdldFNpbXBsZU5h
bWUoKSkpIHsKIAkJCQkJCWludCBvZmZzZXQ9IHJlZ2lvbi5nZXRPZmZzZXQoKTsKKwkJCQkJCUlS
ZWdpb24gcmFuZ2VCZWZvcmUgPSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsK
KwkJCQkJCWlmIChyYW5nZUJlZm9yZSAhPSBudWxsICYmIGN1cnJQb3MgPiByYW5nZUJlZm9yZS5n
ZXRPZmZzZXQoKSkgeworCQkJCQkJCS8vIG1vdmVkIGFoZWFkIG9mIHRoZSBsZWFkaW5nIGNvbW1l
bnRzLCBicmluZyB0aGUgY3VyclBvcyBiYWNrCisJCQkJCQkJY3VyclBvcyA9IHJhbmdlQmVmb3Jl
LmdldE9mZnNldCgpOworCQkJCQkJfQorCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwpIHsK
KwkJCQkJCQlzdHJpbmdzVG9JbnNlcnQuYWRkKGJ1ZmZlci5nZXRUZXh0KHJhbmdlQmVmb3JlLmdl
dE9mZnNldCgpLCByYW5nZUJlZm9yZS5nZXRMZW5ndGgoKSkpOworCQkJCQkJfQogCQkJCQkJcmVt
b3ZlQW5kSW5zZXJ0TmV3KGJ1ZmZlciwgY3VyclBvcywgb2Zmc2V0LCBzdHJpbmdzVG9JbnNlcnQs
IHJlc0VkaXQpOwogCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmNsZWFyKCk7CiAJCQkJCQljdXJyUG9z
PSBvZmZzZXQgKyByZWdpb24uZ2V0TGVuZ3RoKCk7CkBAIC03NzMsNiArNzk5LDEwIEBACiAJCQkJ
CQlTdHJpbmcgc2ltcGxlTmFtZSA9IGN1cnJEZWNsLmdldFR5cGVRdWFsaWZpZWROYW1lKCk7CiAJ
CQkJCQlpZiAoc2ltcGxlTmFtZS5pbmRleE9mKCcuJykgIT0gLTEpIHsKIAkJCQkJCQlJUmVnaW9u
IHJhbmdlQmVmb3JlID0gY3VyckRlY2wuZ2V0UHJlY2VkaW5nQ29tbWVudFJhbmdlKCk7CisJCQkJ
CQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwgJiYgY3VyclBvcyA+IHJhbmdlQmVmb3JlLmdldE9m
ZnNldCgpKSB7CisJCQkJCQkJCS8vIG1vdmVkIGFoZWFkIG9mIHRoZSBsZWFkaW5nIGNvbW1lbnRz
LCBicmluZyB0aGUgY3VyclBvcyBiYWNrCisJCQkJCQkJCWN1cnJQb3MgPSByYW5nZUJlZm9yZS5n
ZXRPZmZzZXQoKTsKKwkJCQkJCQl9CiAJCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwpIHsK
IAkJCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChidWZmZXIuZ2V0VGV4dChyYW5nZUJlZm9yZS5n
ZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkpKTsKIAkJCQkJCQl9
</data>
<flag name="review"
          id="50340"
          type_id="6"
          status="-"
          setter="daniel_megert"
    />
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214163</attachid>
            <date>2012-04-18 04:00:00 -0400</date>
            <delta_ts>2012-04-27 03:14:02 -0400</delta_ts>
            <desc>jdt ui tests</desc>
            <filename>ui-new-import-organize-tests.patch</filename>
            <type>text/plain</type>
            <size>4820</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQv
dWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51
aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQvdWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRl
c3QuamF2YQppbmRleCBjM2IzMmEzLi42MTYzMWE5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQudWkudGVzdHMvdWkvb3JnL2VjbGlwc2UvamR0L3VpL3Rlc3RzL2NvcmUvSW1wb3J0T3JnYW5p
emVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNl
L2pkdC91aS90ZXN0cy9jb3JlL0ltcG9ydE9yZ2FuaXplVGVzdC5qYXZhCkBAIC02MzksNiArNjM5
LDY5IEBACiAJCWJ1Zi5hcHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRT
b3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOwogCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0SW1wb3J0
VG9TdGFyV2l0aENvbW1lbnRzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCUlQYWNrYWdlRnJhZ21l
bnRSb290IHNvdXJjZUZvbGRlcj0gSmF2YVByb2plY3RIZWxwZXIuYWRkU291cmNlQ29udGFpbmVy
KGZKUHJvamVjdDEsICJzcmMiKTsKKworCQlJUGFja2FnZUZyYWdtZW50IHBhY2syPSBzb3VyY2VG
b2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrIiwgZmFsc2UsIG51bGwpOworCQlTdHJp
bmdCdWZmZXIgYnVmPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCWJ1Zi5hcHBlbmQoInBhY2thZ2Ug
cGFjaztcbiIpOworCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgTGlzdCB7XG4iKTsKKwkJYnVm
LmFwcGVuZCgifVxuIik7CisJCXBhY2syLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiTGlzdC5qYXZh
IiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworCisJCUlQYWNrYWdlRnJhZ21lbnQg
cGFjazE9IHNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2Us
IG51bGwpOworCQlidWY9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJYnVmLmFwcGVuZCgicGFja2Fn
ZSBwYWNrMTtcbiIpOworCQlidWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCIvLyBjb21t
ZW50IDFcbiIpOworCQlidWYuYXBwZW5kKCIvKmxlYWQgMSovaW1wb3J0IGphdmEudXRpbC5TZXQ7
Ly90ZXN0MVxuIik7CisJCWJ1Zi5hcHBlbmQoIi8qbGVhZCAyKi8gaW1wb3J0IGphdmEudXRpbC5W
ZWN0b3I7Lyp0ZXN0MiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiLyoqbGVhZCAzKi9pbXBvcnQgamF2
YS51dGlsLk1hcDsgLy90ZXN0M1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8qKmNvbW1lbnQgMiovXG4i
KTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IHBhY2suTGlzdDtcbiIpOworCQlidWYuYXBwZW5kKCJc
biIpOworCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKKwkJYnVmLmFwcGVuZCgi
ICAgIFZlY3RvciB2O1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICBTZXQgdjI7XG4iKTsKKwkJYnVm
LmFwcGVuZCgiICAgIE1hcCB2MztcbiIpOworCQlidWYuYXBwZW5kKCIgICAgTGlzdCB2NDtcbiIp
OworCQlidWYuYXBwZW5kKCIgICAgU3RyaW5nIHY1O1xuIik7CisJCWJ1Zi5hcHBlbmQoIn1cbiIp
OworCQlJQ29tcGlsYXRpb25Vbml0IGN1PSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMu
amF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKworCQlTdHJpbmdbXSBvcmRl
cj0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAicGFjayIgfTsKKwkJSUNob29zZUltcG9ydFF1ZXJ5
IHF1ZXJ5PSBjcmVhdGVRdWVyeSgiQyIsIG5ldyBTdHJpbmdbXSB7fSwgbmV3IGludFtdIHt9KTsK
KworCQlPcmdhbml6ZUltcG9ydHNPcGVyYXRpb24gb3A9IGNyZWF0ZU9wZXJhdGlvbihjdSwgb3Jk
ZXIsIDIsIGZhbHNlLCB0cnVlLCB0cnVlLCBxdWVyeSk7CisJCW9wLnJ1bihudWxsKTsKKworCQli
dWY9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJYnVmLmFwcGVuZCgicGFja2FnZSBwYWNrMTtcbiIp
OworCQlidWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCJpbXBvcnQgamF2YS51dGlsLio7
XG4iKTsKKwkJYnVmLmFwcGVuZCgiXG4iKTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IHBhY2suTGlz
dDtcbiIpOworCQlidWYuYXBwZW5kKCIvLyBjb21tZW50IDFcbiIpOworCQlidWYuYXBwZW5kKCIv
KmxlYWQgMSovXG4iKTsKKwkJYnVmLmFwcGVuZCgiLy90ZXN0MVxuIik7CisJCWJ1Zi5hcHBlbmQo
Ii8qbGVhZCAyKi8gXG4iKTsgCisJCWJ1Zi5hcHBlbmQoIi8qdGVzdDIqL1xuIik7CisJCWJ1Zi5h
cHBlbmQoIi8qKmxlYWQgMyovXG4iKTsKKwkJYnVmLmFwcGVuZCgiLy90ZXN0M1xuIik7CisJCWJ1
Zi5hcHBlbmQoIi8qKmNvbW1lbnQgMiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiXG4iKTsKKwkJYnVm
LmFwcGVuZCgicHVibGljIGNsYXNzIEMge1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICBWZWN0b3Ig
djtcbiIpOworCQlidWYuYXBwZW5kKCIgICAgU2V0IHYyO1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAg
ICBNYXAgdjM7XG4iKTsKKwkJYnVmLmFwcGVuZCgiICAgIExpc3QgdjQ7XG4iKTsKKwkJYnVmLmFw
cGVuZCgiICAgIFN0cmluZyB2NTtcbiIpOworCQlidWYuYXBwZW5kKCJ9XG4iKTsKKwkJYXNzZXJ0
RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKwl9CiAKIAlwdWJs
aWMgdm9pZCB0ZXN0SW1wb3J0VG9TdGFyV2l0aEV4cGxpY2l0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CiAJCUlQYWNrYWdlRnJhZ21lbnRSb290IHNvdXJjZUZvbGRlcj0gSmF2YVByb2plY3RIZWxwZXIu
YWRkU291cmNlQ29udGFpbmVyKGZKUHJvamVjdDEsICJzcmMiKTsKQEAgLTIzNjUsNiArMjQyOCw1
MSBAQAogCQlhc3NlcnRFcXVhbHMoMiwgb3AuZ2V0TnVtYmVyT2ZJbXBvcnRzQWRkZWQoKSk7CiAJ
CWFzc2VydEVxdWFscygxLCBvcC5nZXROdW1iZXJPZkltcG9ydHNSZW1vdmVkKCkpOwogCX0KKwkK
KwlwdWJsaWMgdm9pZCB0ZXN0SW1wb3J0Q291bnRBZGRhbmRSZW1vdmVXaXRoQ29tbWVudHMoKSB0
aHJvd3MgRXhjZXB0aW9uIHsKKwkgICAgSVBhY2thZ2VGcmFnbWVudFJvb3Qgc291cmNlRm9sZGVy
PSBKYXZhUHJvamVjdEhlbHBlci5hZGRTb3VyY2VDb250YWluZXIoZkpQcm9qZWN0MSwgInNyYyIp
OworCisKKwkJSVBhY2thZ2VGcmFnbWVudCBwYWNrMT0gc291cmNlRm9sZGVyLmNyZWF0ZVBhY2th
Z2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisJCVN0cmluZ0J1ZmZlciBidWY9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKwkJYnVmLmFwcGVuZCgicGFja2FnZSBwYWNrMTtcbiIpOworCQli
dWYuYXBwZW5kKCIvKipjb21tZW50MSovXG4iKTsKKwkJYnVmLmFwcGVuZCgiLypsZWFkMSovaW1w
b3J0IGphdmEudXRpbC4qOy8vIHRyYWlsIDFcbiIpOworCQlidWYuYXBwZW5kKCJcbiIpOworCQli
dWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKKwkJYnVmLmFwcGVuZCgiICAgIHB1Ymxp
YyB2b2lkIGZvbygpIHtcbiIpOworCQlidWYuYXBwZW5kKCIgICAgICAgIEhhc2hNYXAgbTtcbiIp
OworCQlidWYuYXBwZW5kKCIgICAgICAgIEFycmF5TGlzdCBsO1xuIik7CisJCWJ1Zi5hcHBlbmQo
IiAgICB9XG4iKTsKKwkJYnVmLmFwcGVuZCgifVxuIik7CisJCUlDb21waWxhdGlvblVuaXQgY3U9
IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZh
bHNlLCBudWxsKTsKKworCisJCVN0cmluZ1tdIG9yZGVyPSBuZXcgU3RyaW5nW10geyAiamF2YSIs
ICJwYWNrIiB9OworCQlJQ2hvb3NlSW1wb3J0UXVlcnkgcXVlcnk9IGNyZWF0ZVF1ZXJ5KCJDIiwg
bmV3IFN0cmluZ1tdIHt9LCBuZXcgaW50W10ge30pOworCisJCU9yZ2FuaXplSW1wb3J0c09wZXJh
dGlvbiBvcD0gY3JlYXRlT3BlcmF0aW9uKGN1LCBvcmRlciwgOTksIGZhbHNlLCB0cnVlLCB0cnVl
LCBxdWVyeSk7CisJCW9wLnJ1bihudWxsKTsKKworCQlidWY9IG5ldyBTdHJpbmdCdWZmZXIoKTsK
KwkJYnVmLmFwcGVuZCgicGFja2FnZSBwYWNrMTtcbiIpOworCQlidWYuYXBwZW5kKCJpbXBvcnQg
amF2YS51dGlsLkFycmF5TGlzdDtcbiIpOworCQlidWYuYXBwZW5kKCJpbXBvcnQgamF2YS51dGls
Lkhhc2hNYXA7XG4iKTsKKwkJYnVmLmFwcGVuZCgiLyoqY29tbWVudDEqL1xuIik7CisJCWJ1Zi5h
cHBlbmQoIi8qbGVhZDEqL1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8vIHRyYWlsIDFcbiIpOworCQli
dWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKKwkJ
YnVmLmFwcGVuZCgiICAgIHB1YmxpYyB2b2lkIGZvbygpIHtcbiIpOworCQlidWYuYXBwZW5kKCIg
ICAgICAgIEhhc2hNYXAgbTtcbiIpOworCQlidWYuYXBwZW5kKCIgICAgICAgIEFycmF5TGlzdCBs
O1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICB9XG4iKTsKKwkJYnVmLmFwcGVuZCgifVxuIik7CisJ
CWFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisKKwkJ
YXNzZXJ0RXF1YWxzKDIsIG9wLmdldE51bWJlck9mSW1wb3J0c0FkZGVkKCkpOworCQlhc3NlcnRF
cXVhbHMoMSwgb3AuZ2V0TnVtYmVyT2ZJbXBvcnRzUmVtb3ZlZCgpKTsKKwl9CiAKIAlwdWJsaWMg
dm9pZCB0ZXN0SW1wb3J0Q291bnRLZWVwT25lKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAJICAgIElQ
YWNrYWdlRnJhZ21lbnRSb290IHNvdXJjZUZvbGRlcj0gSmF2YVByb2plY3RIZWxwZXIuYWRkU291
cmNlQ29udGFpbmVyKGZKUHJvamVjdDEsICJzcmMiKTs=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214666</attachid>
            <date>2012-04-27 03:13:00 -0400</date>
            <delta_ts>2012-04-27 06:15:15 -0400</delta_ts>
            <desc>proposed fix v1.1 + regression tests</desc>
            <filename>Fixed-bug-376930-FUP-of-bug-24804-Organize-imports-d.patch</filename>
            <type>text/plain</type>
            <size>35226</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCBmOTZmMDA1Li40MjcwMGVmIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC0xNDkzLDYgKzE0OTMsNjkwIEBACiAJCWJ1Zi5h
cHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRv
U3RyaW5nKCkpOwogCX0KKwkKKwkvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMCgpIHRocm93
cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3Vy
Y2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAg
ICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgLy8g
MiBpbXBvcnRzIGFyZSBpbiAxIGdyb3VwIGJ1dCB0aGlyZCBpcyBzZXBhcmF0ZWQgYnkgYSBjb21t
ZW50CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51
dGlsLk1hcC5FbnRyeTtcbiIgKworICAgICAgICAgICAgICAgICIvL2NvbW1lbnQgMlxuIiArCisg
ICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRl
Q29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOwor
CisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51
dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0g
bmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0
cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHko
aW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LnV0aWwuKjsgLy8gdGVzdFxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGls
Lk1hcC5FbnRyeTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy9jb21tZW50IDJcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsg
IAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIg
cHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwi
aGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAg
ICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1
Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uu
b3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWcz
NzY5MzBfMigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAg
ICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdFxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxs
b1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGls
YXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAg
ICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwg
ImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1w
b3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRV
c2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0
cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBw
ZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiAr
IAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0
ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAg
ICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCks
IGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlw
c2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RC
dWczNzY5MzBfMygpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50
IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIs
IGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm
ZXIoKTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAg
Ly8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAg
Ii8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0Mlxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNp
dEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50
V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3
IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJw
YWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBs
ZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAg
ICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhp
bmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsg
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNz
IEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o
U3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAg
aDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50
cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFs
U3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAg
IC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAK
KyAgICAvLyByZW1vdmUgaW1wb3J0cywgcHJlc2VydmUgYWxsIGNvbW1lbnRzCisgICAgcHVibGlj
IHZvaWQgdGVzdEJ1ZzM3NjkzMF8zYSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFj
a2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdt
ZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAi
cGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGlt
cG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8v
IHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisg
ICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRy
eSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0u
b3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIg
KyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0g
cGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFs
c2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImph
dmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3Jp
dGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7Cisg
ICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUp
OworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOworCisg
ICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIgKworCQkJCSJpbXBvcnQgamF2YS5pby4qO1xu
IiArIAorCQkJCSIvLyB0ZXN0MVxuIiArCisJCQkJIi8qIGxlYWQgMiovXG4iICsKKwkJCQkiLy8g
dGVzdDJcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0M1xuIiArCisJ
CQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkp
OworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMF80KCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICAv
LyBhbGwgaW1wb3J0cyBhcmUgaW4gc2FtZSBncm91cAorICAgICAgICAvLyBsZWFkaW5nIGFuZCB0
cmFpbGluZyBjb21tZW50cworICAgICAgICAvLyB0d28gb24gZGVtYW5kIGltcG9ydHMgaW4gdGhl
IGdyb3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFj
azE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51
dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQg
amF2YS51dGlsLk1hcC4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBw
dztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJo
ZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29t
cGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisg
ICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGls
IiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3
SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5z
ZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9y
dHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1w
b3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYu
YXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxu
IiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8v
IHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGls
Lk1hcC4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9y
dCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAg
ICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1
YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIp
OworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5n
KCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9z
aG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgLy8gcmVtb3ZlIGltcG9ydHMsIHByZXNlcnZlIGFs
bCBjb21tZW50cworICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfNGEoKSB0aHJvd3MgRXhj
ZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9s
ZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAg
IFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBl
bmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArIAorICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7IC8vIHRlc3QxXG4i
ICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGlsLk1hcC4qOyAv
LyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0
aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8g
Y29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAg
InB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0
aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAg
ICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmph
dmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9y
ZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9
OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3Us
IG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmls
dGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2
YS5pby5QcmludFdyaXRlciIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAg
IGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAg
ICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKwkJCQkiLyogbGVhZCAxKi8gIiArCisJ
CQkJImltcG9ydCBqYXZhLmlvLio7XG4iICsgCisJCQkJIi8vIHRlc3QxXG4iICsKKwkJCQkiLyog
bGVhZCAyKi9cbiIgKworCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQgMyovIFxuIiAr
CisJCQkJIi8vIHRlc3QzXG4iICsKKwkJCQkiLy8gY29tbWVuIDNcbiIgKworICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykg
e1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9
IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFBy
aW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQu
cHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAor
ICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNv
dXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVn
cy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICBwdWJsaWMgdm9p
ZCB0ZXN0QnVnMzc2OTMwXzUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VG
cmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgi
cGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3Ry
aW5nQnVmZmVyKCk7CisgICAgICAgIC8vIGFsbCBpbXBvcnRzIG9mIHNhbWUgZ3JvdXAgYXJlIHNj
YXR0ZXJlZCBhcm91bmQKKyAgICAgICAgLy8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMK
KyAgICAgICAgLy8gYWRkaW5nIGFuIG9uLWRlbWFuZCBpbXBvcnQgYmVsb25naW5nIHRvIGEgZ3Jv
dXAKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
dCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwu
KjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZh
LmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVh
ZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVy
IHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihc
ImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAg
ICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVD
b21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisK
KyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0
aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBu
ZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEsIDEsIHRydWUpOworICAgICAgICBpbXBvcnRz
LnNldFVzZUNvbnRleHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1w
b3J0cy5hZGRJbXBvcnQoImphdmEudXRpbC5NYXAuKiIpOworCisgICAgICAgIGFwcGx5KGltcG9y
dHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFw
cGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArIAorICAgICAg
ICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsK
KyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC5NYXAuKjtcbiIgKworICAgICAgICAg
ICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlv
LlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAz
Ki8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29tZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKworICAg
ICAgICAgICAgICAgICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAg
ICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3
O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhl
bGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAg
ICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYu
dG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9y
Zy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2
OTMwXzVhKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFj
azEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFs
c2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigp
OworICAgICAgICAvLyBhbGwgaW1wb3J0cyBhcmUgaW4gc2FtZSBncm91cAorICAgICAgICAvLyBs
ZWFkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cworICAgICAgICAvLyBhZGRpbmcgYW4gb24tZGVt
YW5kIGltcG9ydCBiZWxvbmdpbmcgdG8gYSBncm91cAorICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIv
KiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNp
dEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuTWFw
LioiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3Ry
aW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2th
Z2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICIvLyBjb21tZW50IDFcbiIgKyAKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQg
amF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8q
IGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAg
ICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xuIiArCisgICAgICAgICAgICAgICAgIi8qIGxl
YWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwg
YnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBz
ZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgLy8gYWRkZWQgaW1wb3J0IHNo
b3VsZCBnZXQgZm9sZGVkIGludG8gZXhpc3RpbmcgKiwgd2l0aG91dCB0b3VjaGluZyBjb21tZW50
cworICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfNWIoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0
ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1
ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAg
ICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8q
IGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAg
ICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4i
ICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAzKi8gaW1wb3J0IGphdmEudXRpbC5NYXAuU29t
ZXRoaW5nRWxzZTsgLy8gdGVzdDNcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4gM1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNs
YXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1h
aW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hN
YXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAg
RW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIElDb21waWxh
dGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50
b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5nW10gb3JkZXIgPSBuZXcg
U3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBhY2siIH07CisKKyAgICAg
ICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0ZShjdSwgb3JkZXIsIDEs
IDEsIGZhbHNlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNp
dEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuTWFw
Iik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmlu
Z0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdl
IHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIv
LyBjb21tZW50IDFcbiIgKworCQkJCSIvKiBsZWFkIDIqLyIgKworCQkJCSJpbXBvcnQgamF2YS51
dGlsLio7XG4iICsgCisJCQkJIi8vIHRlc3QyXG4iICsKKwkJCQkiLyogbGVhZCAxKi8gXG4iICsK
KwkJCQkiLy8gdGVzdDFcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0
M1xuIiArCisJCQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxs
b1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRv
U3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcv
YnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgLy8gcmVtb3ZlIGltcG9ydHMsIHByZXNl
cnZlIGFsbCBjb21tZW50cworICAgIHB1YmxpYyB2b2lkIHRlc3RCdWczNzY5MzBfNWMoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFnbWVudCBwYWNrMSA9IHRoaXMuc291
cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFjazEiLCBmYWxzZSwgbnVsbCk7Cisg
ICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1
Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAg
ICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArIAorICAg
ICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4i
ICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS5pby5QcmludFdyaXRl
ci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBq
YXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0
KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmlu
Z1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJw
YWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3Jp
dGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4
dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9y
dCgiamF2YS51dGlsLk1hcC4qIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAg
ICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKwkJCQkiLyogbGVhZCAxKi8gIiAr
CisJCQkJImltcG9ydCBqYXZhLnV0aWwuTWFwLio7XG4iICsgCisJCQkJIi8vIHRlc3QxXG4iICsK
KwkJCQkiLyogbGVhZCAyKi9cbiIgKworCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQg
MyovIFxuIiArCisJCQkJIi8vIHRlc3QzXG4iICsKKwkJCQkiLy8gY29tbWVuIDNcbiIgKworICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNzIEMge1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5n
W10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAgaDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgTWFw
LkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50cnkgZTI9
IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFN5
c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
fVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFsU3RyaW5n
KGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAgIC8vIGh0
dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAKKyAgICAv
LyBhZGRlZCBpbXBvcnQgc2hvdWxkIGdldCBmb2xkZWQgYWxvbmcgd2l0aCBleGlzdGluZyBpbXBv
cnQgaW50byAqLCB3aXRob3V0IGRlbGV0aW5nIGNvbW1lbnRzCisgICAgcHVibGljIHZvaWQgdGVz
dEJ1ZzM3NjkzMF81ZCgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdt
ZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNr
MSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdC
dWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBw
YWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8g
Y29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS5p
by5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MSovIGltcG9ydCBqYXZhLnV0aWwuTWFwOyAvLyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAg
Ii8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAg
ICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgi
Qy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdb
XSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFj
ayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRl
KGN1LCBvcmRlciwgMiwgMiwgdHJ1ZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRv
RmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgi
amF2YS51dGlsLkhhc2hNYXAiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAg
ICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAg
ICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxl
YWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBcbiIgKworICAg
ICAgICAgICAgICAgICIgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW4g
M1xuIiArCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td
IGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsg
CisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5F
bnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBu
dWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
ICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1c
biIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhj
dS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KIAogCXByaXZhdGUgdm9pZCBh
c3NlcnRBZGRlZEFuZFJlbW92ZWQoSW1wb3J0UmV3cml0ZSBpbXBvcnRzLCBTdHJpbmdbXSBleHBl
Y3RlZEFkZGVkLCBTdHJpbmdbXSBleHBlY3RlZFJlbW92ZWQsIFN0cmluZ1tdIGV4cGVjdGVkQWRk
ZWRTdGF0aWMsIFN0cmluZ1tdIGV4cGVjdGVkUmVtb3ZlZFN0YXRpYykgewogCQlhc3NlcnRFcXVh
bFN0cmluZ3NJZ25vcmVPcmRlcihpbXBvcnRzLmdldEFkZGVkSW1wb3J0cygpLCBleHBlY3RlZEFk
ZGVkKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YSBi
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9k
b20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YQppbmRleCA1YTQzZGFmLi5kMzVl
NDQ5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEKKysr
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3Jl
L2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhCkBAIC0xLDUgKzEsNSBAQAog
LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJQk0g
Q29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMiBJQk0g
Q29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJv
Z3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJs
ZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQK
QEAgLTI3MSwyOCArMjcxLDM4IEBACiAJCQlpbnQgbmV4dExlbmd0aD0gbmV4dC5nZXRMZW5ndGgo
KTsKIAkJCWludCBuZXh0T2Zmc2V0TGluZT0gcm9vdC5nZXRMaW5lTnVtYmVyKG5leHRPZmZzZXQp
OwogCi0JCQlpbnQgZXh0ZW5kZWRTdGFydCA9IHJvb3QuZ2V0RXh0ZW5kZWRTdGFydFBvc2l0aW9u
KG5leHQpOwotCQkJaW50IGV4dGVuZGVkTGVuZ3RoID0gcm9vdC5nZXRFeHRlbmRlZExlbmd0aChu
ZXh0KTsKKwkJCWludCBleHRlbmRlZFN0YXJ0ID0gcm9vdC5nZXRFeHRlbmRlZFN0YXJ0UG9zaXRp
b24oY3Vycik7CisJCQlpbnQgZXh0ZW5kZWRMZW5ndGggPSByb290LmdldEV4dGVuZGVkTGVuZ3Ro
KGN1cnIpOwogCQkJLy8gaWYgbmV4dCBpbXBvcnQgaXMgb24gYSBkaWZmZXJlbnQgbGluZSwgbW9k
aWZ5IHRoZSBlbmQgcG9zaXRpb24gdG8gdGhlIG5leHQgbGluZSBiZWdpbiBvZmZzZXQKKwkJCWlu
dCBuZXh0TGluZU9mZnNldCA9IG5leHRPZmZzZXQ7IC8vIG9mZnNldCBhdCB0aGUgc3RhcnQgb2Yg
bmV4dCBsaW5lLiBOZXh0IGltcG9ydCBtYXkgbm90IHN0YXJ0IGhlcmUKIAkJCWlmIChjdXJyRW5k
TGluZSA8IG5leHRPZmZzZXRMaW5lKSB7CiAJCQkJY3VyckVuZExpbmUrKzsKLQkJCQluZXh0T2Zm
c2V0PSByb290LmdldFBvc2l0aW9uKGN1cnJFbmRMaW5lLCAwKTsKKwkJCQluZXh0TGluZU9mZnNl
dCA9IHJvb3QuZ2V0UG9zaXRpb24oY3VyckVuZExpbmUsIDApOworCQkJCWlmIChuZXh0TGluZU9m
ZnNldCA+IG5leHRPZmZzZXQpIHsKKwkJCQkJbmV4dE9mZnNldCA9IG5leHRMaW5lT2Zmc2V0Owor
CQkJCX0gCisJCQkJLy8gZWxzZSB0aGVyZSBhcmUgc29tZSBsZWFkaW5nIGNvbW1lbnRzIChvciBs
aW5lIGRlbGltaXRlcnMpIGJlZm9yZSB0aGUgbmV4dCBpbXBvcnQuIFRoZSBzdGFydCBvZiB0aG9z
ZSBjb21tZW50cworCQkJCS8vIGlzIG5vdCB0aGUgcmVhbCBzdGFydCBvZmZzZXQgb2YgdGhlIG5l
eHQgaW1wb3J0LiBTbyBkb24ndCBjaGFuZ2UgbmV4dE9mZnNldAogCQkJfQogCQkJLy8gcmV0cmll
dmUgcHJlY2VkaW5nIGFuZCB0cmFpbGluZyBjb21tZW50cyBpZiBhbnkKIAkJCUlSZWdpb24gcmFu
Z2VCZWZvcmUgPSBudWxsOwogCQkJSVJlZ2lvbiByYW5nZUFmdGVyID0gbnVsbDsKLQkJCWlmIChu
ZXh0T2Zmc2V0ICE9IGV4dGVuZGVkU3RhcnQpIHsKLQkJCQlyYW5nZUJlZm9yZSA9IG5ldyBSZWdp
b24oZXh0ZW5kZWRTdGFydCwgZXh0ZW5kZWRTdGFydCAtIG5leHRPZmZzZXQgKyAxKTsKKwkJCQor
CQkJaWYgKGN1cnJPZmZzZXQgPiBleHRlbmRlZFN0YXJ0KSB7CisJCQkJcmFuZ2VCZWZvcmUgPSBu
ZXcgUmVnaW9uKGV4dGVuZGVkU3RhcnQsIGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0KTsKIAkJ
CX0KLQkJCWlmIChuZXh0TGVuZ3RoICE9IGV4dGVuZGVkTGVuZ3RoKSB7Ci0JCQkJcmFuZ2VBZnRl
ciA9IG5ldyBSZWdpb24obmV4dE9mZnNldCArIG5leHRMZW5ndGgsIGV4dGVuZGVkTGVuZ3RoIC0g
bmV4dExlbmd0aCArIDEpOworCQkJaW50IGN1cnJMZW4gPSBjdXJyLmdldExlbmd0aCgpOworCQkJ
aWYgKGN1cnJMZW4gPCBleHRlbmRlZExlbmd0aCAtIChjdXJyT2Zmc2V0IC0gZXh0ZW5kZWRTdGFy
dCkpIHsKKwkJCQlpbnQgY3VyckVuZE9mZnNldCA9IGN1cnJPZmZzZXQgKyBjdXJyTGVuOworCQkJ
CWludCByYW5nZUJlZm9yZUxlbiA9IHJhbmdlQmVmb3JlICE9IG51bGw/IHJhbmdlQmVmb3JlLmdl
dExlbmd0aCgpIDogMDsKKwkJCQlyYW5nZUFmdGVyID0gbmV3IFJlZ2lvbihjdXJyRW5kT2Zmc2V0
LCBleHRlbmRlZExlbmd0aCAtIHJhbmdlQmVmb3JlTGVuIC0gY3Vyckxlbik7CiAJCQl9CiAJCQlj
dXJyUGFja2FnZS5hZGQoCiAJCQkJCW5ldyBJbXBvcnREZWNsRW50cnkoCiAJCQkJCQkJcGFja05h
bWUubGVuZ3RoKCksIAogCQkJCQkJCW5hbWUsIAogCQkJCQkJCWlzU3RhdGljLCAKLQkJCQkJCQlu
ZXcgUmVnaW9uKGN1cnJPZmZzZXQsIG5leHRPZmZzZXQgLSBjdXJyT2Zmc2V0KSwKKwkJCQkJCQlu
ZXcgUmVnaW9uKGN1cnJPZmZzZXQsIG5leHRMaW5lT2Zmc2V0IC0gY3Vyck9mZnNldCksIC8vIHNo
b3VsZCBub3QgaW5jbHVkZSBsZWFkaW5nIGNvbW1lbnRzIG9mIG5leHQgaW1wb3J0LCBsaW5lIGRl
bGltaXRlcnMsIGV0Yy4KIAkJCQkJCQlyYW5nZUJlZm9yZSwKIAkJCQkJCQlyYW5nZUFmdGVyKSk7
CiAJCQljdXJyT2Zmc2V0PSBuZXh0T2Zmc2V0OwpAQCAtMzA0LDcgKzMxNCw3IEBACiAKIAkJCQlj
dXJyUGFja2FnZT0gbmV3IFBhY2thZ2VFbnRyeSgpOyAvLyBjcmVhdGUgYSBjb21tZW50IHBhY2th
Z2UgZW50cnkgZm9yIHRoaXMKIAkJCQl0aGlzLnBhY2thZ2VFbnRyaWVzLmFkZChjdXJyUGFja2Fn
ZSk7Ci0JCQkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50cnkocGFja05hbWUubGVu
Z3RoKCksIG51bGwsIGZhbHNlLCBuZXcgUmVnaW9uKGN1cnJPZmZzZXQsIG5leHRPZmZzZXQgLSBj
dXJyT2Zmc2V0KSkpOworCQkJCWN1cnJQYWNrYWdlLmFkZChuZXcgSW1wb3J0RGVjbEVudHJ5KHBh
Y2tOYW1lLmxlbmd0aCgpLCBudWxsLCBmYWxzZSwgbmV3IFJlZ2lvbihuZXh0TGluZU9mZnNldCwg
bmV4dE9mZnNldCAtIG5leHRMaW5lT2Zmc2V0KSkpOwogCiAJCQkJY3Vyck9mZnNldD0gbmV4dE9m
ZnNldDsKIAkJCX0KQEAgLTMxOCw4ICszMjgsMjMgQEAKIAkJCWN1cnJQYWNrYWdlPSBuZXcgUGFj
a2FnZUVudHJ5KHBhY2tOYW1lLCBudWxsLCBpc1N0YXRpYyk7CiAJCQl0aGlzLnBhY2thZ2VFbnRy
aWVzLmFkZChjdXJyUGFja2FnZSk7CiAJCX0KLQkJaW50IGxlbmd0aD0gdGhpcy5yZXBsYWNlUmFu
Z2UuZ2V0T2Zmc2V0KCkgKyB0aGlzLnJlcGxhY2VSYW5nZS5nZXRMZW5ndGgoKSAtIGN1cnIuZ2V0
U3RhcnRQb3NpdGlvbigpOwotCQljdXJyUGFja2FnZS5hZGQobmV3IEltcG9ydERlY2xFbnRyeShw
YWNrTmFtZS5sZW5ndGgoKSwgbmFtZSwgaXNTdGF0aWMsIG5ldyBSZWdpb24oY3Vyci5nZXRTdGFy
dFBvc2l0aW9uKCksIGxlbmd0aCkpKTsKKwkJaW50IGN1cnJTdGFydE9mZnNldCA9IGN1cnIuZ2V0
U3RhcnRQb3NpdGlvbigpOworCQlpbnQgY3VyckxlbiA9IGN1cnIuZ2V0TGVuZ3RoKCk7CisJCWlu
dCBleHRlbmRlZFN0YXJ0T2Zmc2V0ID0gcm9vdC5nZXRFeHRlbmRlZFN0YXJ0UG9zaXRpb24oY3Vy
cik7CisJCUlSZWdpb24gbGVhZGluZ0NvbW1lbnRzID0gbnVsbDsKKwkJSVJlZ2lvbiBhbGxUcmFp
bGluZ0NvbW1lbnRzID0gbnVsbDsKKwkJCisJCWlmIChjdXJyU3RhcnRPZmZzZXQgPiBleHRlbmRl
ZFN0YXJ0T2Zmc2V0KSB7CisJCQlsZWFkaW5nQ29tbWVudHMgPSBuZXcgUmVnaW9uKGV4dGVuZGVk
U3RhcnRPZmZzZXQsIGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0T2Zmc2V0KTsKKwkJfQorCQlp
bnQgbGVuZ3RoPSB0aGlzLnJlcGxhY2VSYW5nZS5nZXRPZmZzZXQoKSArIHRoaXMucmVwbGFjZVJh
bmdlLmdldExlbmd0aCgpIC0gY3VyclN0YXJ0T2Zmc2V0OworCQlpbnQgZXh0ZW5kZWRMZW5ndGgg
PSByb290LmdldEV4dGVuZGVkTGVuZ3RoKGN1cnIpOworCQlpZiAoY3VyckxlbiA8IGV4dGVuZGVk
TGVuZ3RoIC0gKGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0T2Zmc2V0KSkgeworCQkJaW50IGN1
cnJFbmRPZmZzZXQgPSBjdXJyT2Zmc2V0ICsgY3VyckxlbjsKKwkJCWludCBsZWFkaW5nQ29tbWVu
dHNMZW4gPSBsZWFkaW5nQ29tbWVudHMgIT0gbnVsbD8gbGVhZGluZ0NvbW1lbnRzLmdldExlbmd0
aCgpIDogMDsKKwkJCWFsbFRyYWlsaW5nQ29tbWVudHMgPSBuZXcgUmVnaW9uKGN1cnJFbmRPZmZz
ZXQsIGV4dGVuZGVkTGVuZ3RoIC0gbGVhZGluZ0NvbW1lbnRzTGVuIC0gY3Vyckxlbik7CisJCX0K
KwkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50cnkocGFja05hbWUubGVuZ3RoKCks
IG5hbWUsIGlzU3RhdGljLCBuZXcgUmVnaW9uKGN1cnIuZ2V0U3RhcnRQb3NpdGlvbigpLCBsZW5n
dGgpLCBsZWFkaW5nQ29tbWVudHMsIGFsbFRyYWlsaW5nQ29tbWVudHMpKTsKIAl9CiAKIAlwcml2
YXRlIElSZWdpb25bXSByZXRyaWV2ZUV4aXN0aW5nQ29tbWVudHNJbkltcG9ydHMoQ29tcGlsYXRp
b25Vbml0IHJvb3QpIHsKQEAgLTc2Niw2ICs3OTEsMTQgQEAKIAkJCQkJCX0KIAkJCQkJfSBlbHNl
IGlmICghZG9TdGFySW1wb3J0IHx8IGN1cnJEZWNsLmlzT25EZW1hbmQoKSB8fCBvbkRlbWFuZENv
bmZsaWN0cyA9PSBudWxsIHx8IG9uRGVtYW5kQ29uZmxpY3RzLmNvbnRhaW5zKGN1cnJEZWNsLmdl
dFNpbXBsZU5hbWUoKSkpIHsKIAkJCQkJCWludCBvZmZzZXQ9IHJlZ2lvbi5nZXRPZmZzZXQoKTsK
KwkJCQkJCUlSZWdpb24gcmFuZ2VCZWZvcmUgPSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50
UmFuZ2UoKTsKKwkJCQkJCWlmIChyYW5nZUJlZm9yZSAhPSBudWxsICYmIGN1cnJQb3MgPiByYW5n
ZUJlZm9yZS5nZXRPZmZzZXQoKSkgeworCQkJCQkJCS8vIG1vdmVkIGFoZWFkIG9mIHRoZSBsZWFk
aW5nIGNvbW1lbnRzLCBicmluZyB0aGUgY3VyclBvcyBiYWNrCisJCQkJCQkJY3VyclBvcyA9IHJh
bmdlQmVmb3JlLmdldE9mZnNldCgpOworCQkJCQkJfQorCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9
IG51bGwpIHsKKwkJCQkJCQlzdHJpbmdzVG9JbnNlcnQuYWRkKGJ1ZmZlci5nZXRUZXh0KHJhbmdl
QmVmb3JlLmdldE9mZnNldCgpLCByYW5nZUJlZm9yZS5nZXRMZW5ndGgoKSkpOworCQkJCQkJfQog
CQkJCQkJcmVtb3ZlQW5kSW5zZXJ0TmV3KGJ1ZmZlciwgY3VyclBvcywgb2Zmc2V0LCBzdHJpbmdz
VG9JbnNlcnQsIHJlc0VkaXQpOwogCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmNsZWFyKCk7CiAJCQkJ
CQljdXJyUG9zPSBvZmZzZXQgKyByZWdpb24uZ2V0TGVuZ3RoKCk7CkBAIC03NzMsNiArODA2LDEw
IEBACiAJCQkJCQlTdHJpbmcgc2ltcGxlTmFtZSA9IGN1cnJEZWNsLmdldFR5cGVRdWFsaWZpZWRO
YW1lKCk7CiAJCQkJCQlpZiAoc2ltcGxlTmFtZS5pbmRleE9mKCcuJykgIT0gLTEpIHsKIAkJCQkJ
CQlJUmVnaW9uIHJhbmdlQmVmb3JlID0gY3VyckRlY2wuZ2V0UHJlY2VkaW5nQ29tbWVudFJhbmdl
KCk7CisJCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwgJiYgY3VyclBvcyA+IHJhbmdlQmVm
b3JlLmdldE9mZnNldCgpKSB7CisJCQkJCQkJCS8vIG1vdmVkIGFoZWFkIG9mIHRoZSBsZWFkaW5n
IGNvbW1lbnRzLCBicmluZyB0aGUgY3VyclBvcyBiYWNrCisJCQkJCQkJCWN1cnJQb3MgPSByYW5n
ZUJlZm9yZS5nZXRPZmZzZXQoKTsKKwkJCQkJCQl9CiAJCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9
IG51bGwpIHsKIAkJCQkJCQkJc3RyaW5nc1RvSW5zZXJ0LmFkZChidWZmZXIuZ2V0VGV4dChyYW5n
ZUJlZm9yZS5nZXRPZmZzZXQoKSwgcmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkpKTsKIAkJCQkJCQl9
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214667</attachid>
            <date>2012-04-27 03:14:00 -0400</date>
            <delta_ts>2012-04-27 03:14:02 -0400</delta_ts>
            <desc>jdt ui tests v2</desc>
            <filename>new-import-organize-tests.patch</filename>
            <type>text/plain</type>
            <size>4816</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC51aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQv
dWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC51
aS50ZXN0cy91aS9vcmcvZWNsaXBzZS9qZHQvdWkvdGVzdHMvY29yZS9JbXBvcnRPcmdhbml6ZVRl
c3QuamF2YQppbmRleCBjM2IzMmEzLi41OTQyZjU2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQudWkudGVzdHMvdWkvb3JnL2VjbGlwc2UvamR0L3VpL3Rlc3RzL2NvcmUvSW1wb3J0T3JnYW5p
emVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LnVpLnRlc3RzL3VpL29yZy9lY2xpcHNl
L2pkdC91aS90ZXN0cy9jb3JlL0ltcG9ydE9yZ2FuaXplVGVzdC5qYXZhCkBAIC02MzksNiArNjM5
LDY5IEBACiAJCWJ1Zi5hcHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRT
b3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOwogCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0SW1wb3J0
VG9TdGFyV2l0aENvbW1lbnRzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCUlQYWNrYWdlRnJhZ21l
bnRSb290IHNvdXJjZUZvbGRlcj0gSmF2YVByb2plY3RIZWxwZXIuYWRkU291cmNlQ29udGFpbmVy
KGZKUHJvamVjdDEsICJzcmMiKTsKKworCQlJUGFja2FnZUZyYWdtZW50IHBhY2syPSBzb3VyY2VG
b2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrIiwgZmFsc2UsIG51bGwpOworCQlTdHJp
bmdCdWZmZXIgYnVmPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCWJ1Zi5hcHBlbmQoInBhY2thZ2Ug
cGFjaztcbiIpOworCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgTGlzdCB7XG4iKTsKKwkJYnVm
LmFwcGVuZCgifVxuIik7CisJCXBhY2syLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiTGlzdC5qYXZh
IiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworCisJCUlQYWNrYWdlRnJhZ21lbnQg
cGFjazE9IHNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2Us
IG51bGwpOworCQlidWY9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJYnVmLmFwcGVuZCgicGFja2Fn
ZSBwYWNrMTtcbiIpOworCQlidWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCIvLyBjb21t
ZW50IDFcbiIpOworCQlidWYuYXBwZW5kKCIvKmxlYWQgMSovaW1wb3J0IGphdmEudXRpbC5TZXQ7
Ly90ZXN0MVxuIik7CisJCWJ1Zi5hcHBlbmQoIi8qbGVhZCAyKi8gaW1wb3J0IGphdmEudXRpbC5W
ZWN0b3I7Lyp0ZXN0MiovXG4iKTsKKwkJYnVmLmFwcGVuZCgiLyoqbGVhZCAzKi9pbXBvcnQgamF2
YS51dGlsLk1hcDsgLy90ZXN0M1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8qKmNvbW1lbnQgMiovXG4i
KTsKKwkJYnVmLmFwcGVuZCgiaW1wb3J0IHBhY2suTGlzdDtcbiIpOworCQlidWYuYXBwZW5kKCJc
biIpOworCQlidWYuYXBwZW5kKCJwdWJsaWMgY2xhc3MgQyB7XG4iKTsKKwkJYnVmLmFwcGVuZCgi
ICAgIFZlY3RvciB2O1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICBTZXQgdjI7XG4iKTsKKwkJYnVm
LmFwcGVuZCgiICAgIE1hcCB2MztcbiIpOworCQlidWYuYXBwZW5kKCIgICAgTGlzdCB2NDtcbiIp
OworCQlidWYuYXBwZW5kKCIgICAgU3RyaW5nIHY1O1xuIik7CisJCWJ1Zi5hcHBlbmQoIn1cbiIp
OworCQlJQ29tcGlsYXRpb25Vbml0IGN1PSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMu
amF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKworCQlTdHJpbmdbXSBvcmRl
cj0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAicGFjayIgfTsKKwkJSUNob29zZUltcG9ydFF1ZXJ5
IHF1ZXJ5PSBjcmVhdGVRdWVyeSgiQyIsIG5ldyBTdHJpbmdbXSB7fSwgbmV3IGludFtdIHt9KTsK
KworCQlPcmdhbml6ZUltcG9ydHNPcGVyYXRpb24gb3A9IGNyZWF0ZU9wZXJhdGlvbihjdSwgb3Jk
ZXIsIDIsIGZhbHNlLCB0cnVlLCB0cnVlLCBxdWVyeSk7CisJCW9wLnJ1bihudWxsKTsKKworCQli
dWY9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKwkJYnVmLmFwcGVuZCgicGFja2FnZSBwYWNrMTtcbiIp
OworCQlidWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCIvLyBjb21tZW50IDFcbiIpOwor
CQlidWYuYXBwZW5kKCIvKmxlYWQgMSovIik7CisJCWJ1Zi5hcHBlbmQoImltcG9ydCBqYXZhLnV0
aWwuKjtcbiIpOworCQlidWYuYXBwZW5kKCJcbiIpOworCQlidWYuYXBwZW5kKCJpbXBvcnQgcGFj
ay5MaXN0O1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8vdGVzdDFcbiIpOworCQlidWYuYXBwZW5kKCIv
KmxlYWQgMiovIFxuIik7IAorCQlidWYuYXBwZW5kKCIvKnRlc3QyKi9cbiIpOworCQlidWYuYXBw
ZW5kKCIvKipsZWFkIDMqL1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8vdGVzdDNcbiIpOworCQlidWYu
YXBwZW5kKCIvKipjb21tZW50IDIqL1xuIik7CisJCWJ1Zi5hcHBlbmQoIlxuIik7CisJCWJ1Zi5h
cHBlbmQoInB1YmxpYyBjbGFzcyBDIHtcbiIpOworCQlidWYuYXBwZW5kKCIgICAgVmVjdG9yIHY7
XG4iKTsKKwkJYnVmLmFwcGVuZCgiICAgIFNldCB2MjtcbiIpOworCQlidWYuYXBwZW5kKCIgICAg
TWFwIHYzO1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICBMaXN0IHY0O1xuIik7CisJCWJ1Zi5hcHBl
bmQoIiAgICBTdHJpbmcgdjU7XG4iKTsKKwkJYnVmLmFwcGVuZCgifVxuIik7CisJCWFzc2VydEVx
dWFsU3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisJfQogCiAJcHVibGlj
IHZvaWQgdGVzdEltcG9ydFRvU3RhcldpdGhFeHBsaWNpdCgpIHRocm93cyBFeGNlcHRpb24gewog
CQlJUGFja2FnZUZyYWdtZW50Um9vdCBzb3VyY2VGb2xkZXI9IEphdmFQcm9qZWN0SGVscGVyLmFk
ZFNvdXJjZUNvbnRhaW5lcihmSlByb2plY3QxLCAic3JjIik7CkBAIC0yMzY1LDYgKzI0MjgsNTEg
QEAKIAkJYXNzZXJ0RXF1YWxzKDIsIG9wLmdldE51bWJlck9mSW1wb3J0c0FkZGVkKCkpOwogCQlh
c3NlcnRFcXVhbHMoMSwgb3AuZ2V0TnVtYmVyT2ZJbXBvcnRzUmVtb3ZlZCgpKTsKIAl9CisJCisJ
cHVibGljIHZvaWQgdGVzdEltcG9ydENvdW50QWRkYW5kUmVtb3ZlV2l0aENvbW1lbnRzKCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisJICAgIElQYWNrYWdlRnJhZ21lbnRSb290IHNvdXJjZUZvbGRlcj0g
SmF2YVByb2plY3RIZWxwZXIuYWRkU291cmNlQ29udGFpbmVyKGZKUHJvamVjdDEsICJzcmMiKTsK
KworCisJCUlQYWNrYWdlRnJhZ21lbnQgcGFjazE9IHNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdl
RnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworCQlTdHJpbmdCdWZmZXIgYnVmPSBuZXcg
U3RyaW5nQnVmZmVyKCk7CisJCWJ1Zi5hcHBlbmQoInBhY2thZ2UgcGFjazE7XG4iKTsKKwkJYnVm
LmFwcGVuZCgiLyoqY29tbWVudDEqL1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8qbGVhZDEqL2ltcG9y
dCBqYXZhLnV0aWwuKjsvLyB0cmFpbCAxXG4iKTsKKwkJYnVmLmFwcGVuZCgiXG4iKTsKKwkJYnVm
LmFwcGVuZCgicHVibGljIGNsYXNzIEMge1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICBwdWJsaWMg
dm9pZCBmb28oKSB7XG4iKTsKKwkJYnVmLmFwcGVuZCgiICAgICAgICBIYXNoTWFwIG07XG4iKTsK
KwkJYnVmLmFwcGVuZCgiICAgICAgICBBcnJheUxpc3QgbDtcbiIpOworCQlidWYuYXBwZW5kKCIg
ICAgfVxuIik7CisJCWJ1Zi5hcHBlbmQoIn1cbiIpOworCQlJQ29tcGlsYXRpb25Vbml0IGN1PSBw
YWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQoIkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxz
ZSwgbnVsbCk7CisKKworCQlTdHJpbmdbXSBvcmRlcj0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAi
cGFjayIgfTsKKwkJSUNob29zZUltcG9ydFF1ZXJ5IHF1ZXJ5PSBjcmVhdGVRdWVyeSgiQyIsIG5l
dyBTdHJpbmdbXSB7fSwgbmV3IGludFtdIHt9KTsKKworCQlPcmdhbml6ZUltcG9ydHNPcGVyYXRp
b24gb3A9IGNyZWF0ZU9wZXJhdGlvbihjdSwgb3JkZXIsIDk5LCBmYWxzZSwgdHJ1ZSwgdHJ1ZSwg
cXVlcnkpOworCQlvcC5ydW4obnVsbCk7CisKKwkJYnVmPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJ
CWJ1Zi5hcHBlbmQoInBhY2thZ2UgcGFjazE7XG4iKTsKKwkJYnVmLmFwcGVuZCgiLyoqY29tbWVu
dDEqL1xuIik7CisJCWJ1Zi5hcHBlbmQoIi8qbGVhZDEqLyIpOworCQlidWYuYXBwZW5kKCJpbXBv
cnQgamF2YS51dGlsLkFycmF5TGlzdDtcbiIpOworCQlidWYuYXBwZW5kKCJpbXBvcnQgamF2YS51
dGlsLkhhc2hNYXA7XG4iKTsKKwkJYnVmLmFwcGVuZCgiLy8gdHJhaWwgMVxuIik7CisJCWJ1Zi5h
cHBlbmQoIlxuIik7CisJCWJ1Zi5hcHBlbmQoInB1YmxpYyBjbGFzcyBDIHtcbiIpOworCQlidWYu
YXBwZW5kKCIgICAgcHVibGljIHZvaWQgZm9vKCkge1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICAg
ICAgSGFzaE1hcCBtO1xuIik7CisJCWJ1Zi5hcHBlbmQoIiAgICAgICAgQXJyYXlMaXN0IGw7XG4i
KTsKKwkJYnVmLmFwcGVuZCgiICAgIH1cbiIpOworCQlidWYuYXBwZW5kKCJ9XG4iKTsKKwkJYXNz
ZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKworCQlhc3Nl
cnRFcXVhbHMoMiwgb3AuZ2V0TnVtYmVyT2ZJbXBvcnRzQWRkZWQoKSk7CisJCWFzc2VydEVxdWFs
cygxLCBvcC5nZXROdW1iZXJPZkltcG9ydHNSZW1vdmVkKCkpOworCX0KIAogCXB1YmxpYyB2b2lk
IHRlc3RJbXBvcnRDb3VudEtlZXBPbmUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKIAkgICAgSVBhY2th
Z2VGcmFnbWVudFJvb3Qgc291cmNlRm9sZGVyPSBKYXZhUHJvamVjdEhlbHBlci5hZGRTb3VyY2VD
b250YWluZXIoZkpQcm9qZWN0MSwgInNyYyIpOw==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214680</attachid>
            <date>2012-04-27 06:15:00 -0400</date>
            <delta_ts>2012-04-27 06:28:10 -0400</delta_ts>
            <desc>proposed fix v1.2 + regression tests</desc>
            <filename>Fixed-bug-376930-FUP-of-bug-24804-Organize-imports-d.patch</filename>
            <type>text/plain</type>
            <size>35402</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCBmOTZmMDA1Li43ZDAxNTk2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC0xNDkzLDYgKzE0OTMsNjkwIEBACiAJCWJ1Zi5h
cHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRv
U3RyaW5nKCkpOwogCX0KKwkKKwkvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMCgpIHRocm93
cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3Vy
Y2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAg
ICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgLy8g
MiBpbXBvcnRzIGFyZSBpbiAxIGdyb3VwIGJ1dCB0aGlyZCBpcyBzZXBhcmF0ZWQgYnkgYSBjb21t
ZW50CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51
dGlsLk1hcC5FbnRyeTtcbiIgKworICAgICAgICAgICAgICAgICIvL2NvbW1lbnQgMlxuIiArCisg
ICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRl
Q29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOwor
CisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51
dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0g
bmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0
cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHko
aW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LnV0aWwuKjsgLy8gdGVzdFxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGls
Lk1hcC5FbnRyeTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy9jb21tZW50IDJcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsg
IAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIg
cHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwi
aGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAg
ICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1
Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uu
b3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWcz
NzY5MzBfMigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAg
ICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdFxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxs
b1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGls
YXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAg
ICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwg
ImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1w
b3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRV
c2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0
cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBw
ZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
IAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0
ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAg
ICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCks
IGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlw
c2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RC
dWczNzY5MzBfMygpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50
IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIs
IGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm
ZXIoKTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAg
Ly8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAg
Ii8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0Mlxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNp
dEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50
V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3
IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJw
YWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGlt
cG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAg
ICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhp
bmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsg
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNz
IEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o
U3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAg
aDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50
cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFs
U3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAg
IC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAK
KyAgICAvLyByZW1vdmUgaW1wb3J0cywgcHJlc2VydmUgYWxsIGNvbW1lbnRzCisgICAgcHVibGlj
IHZvaWQgdGVzdEJ1ZzM3NjkzMF8zYSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFj
a2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdt
ZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAi
cGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGlt
cG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8v
IHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisg
ICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRy
eSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0u
b3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIg
KyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0g
cGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFs
c2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImph
dmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3Jp
dGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7Cisg
ICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUp
OworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOworCisg
ICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIgKworCQkJCSJpbXBvcnQgamF2YS5pby4qO1xu
IiArIAorCQkJCSIvLyB0ZXN0MVxuIiArCisJCQkJIi8qIGxlYWQgMiovXG4iICsKKwkJCQkiLy8g
dGVzdDJcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0M1xuIiArCisJ
CQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkp
OworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMF80KCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICAv
LyBhbGwgaW1wb3J0cyBhcmUgaW4gc2FtZSBncm91cAorICAgICAgICAvLyBsZWFkaW5nIGFuZCB0
cmFpbGluZyBjb21tZW50cworICAgICAgICAvLyB0d28gb24gZGVtYW5kIGltcG9ydHMgaW4gdGhl
IGdyb3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFj
azE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51
dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQg
amF2YS51dGlsLk1hcC4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBw
dztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJo
ZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29t
cGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisg
ICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGls
IiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3
SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5z
ZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9y
dHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1w
b3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYu
YXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAg
ICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAg
ICAgICAgICAgIlxuIiArICAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOyAv
LyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEudXRp
bC5NYXAuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBv
cnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAg
ICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBw
dWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0i
KTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmlu
ZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIHJlbW92ZSBpbXBvcnRzLCBwcmVzZXJ2ZSBh
bGwgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzRhKCkgdGhyb3dzIEV4
Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZv
bGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAg
ICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBw
ZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEudXRpbC5NYXAuKjsg
Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51
dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAg
ICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5q
YXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBv
cmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIg
fTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1
LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0Zp
bHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImph
dmEuaW8uUHJpbnRXcml0ZXIiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAg
ICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAg
ICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIgKwor
CQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MVxuIiArCisJCQkJIi8q
IGxlYWQgMiovXG4iICsKKwkJCQkiLy8gdGVzdDJcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIg
KworCQkJCSIvLyB0ZXN0M1xuIiArCisJCQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAg
ICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBl
PSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQ
cmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAK
KyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRT
b3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZv
aWQgdGVzdEJ1ZzM3NjkzMF81KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdl
RnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQo
InBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0
cmluZ0J1ZmZlcigpOworICAgICAgICAvLyBhbGwgaW1wb3J0cyBvZiBzYW1lIGdyb3VwIGFyZSBz
Y2F0dGVyZWQgYXJvdW5kCisgICAgICAgIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1lbnRz
CisgICAgICAgIC8vIGFkZGluZyBhbiBvbi1kZW1hbmQgaW1wb3J0IGJlbG9uZ2luZyB0byBhIGdy
b3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGls
Lio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2
YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxl
YWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRl
Q29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOwor
CisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51
dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0g
bmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0
cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuTWFwLioiKTsKKworICAgICAgICBhcHBseShpbXBv
cnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5h
cHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLio7XG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS5p
by5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBw
dztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJo
ZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVm
LnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5v
cmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3
NjkzMF81YSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAgLy8g
bGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAgLy8gYWRkaW5nIGFuIG9uLWRl
bWFuZCBpbXBvcnQgYmVsb25naW5nIHRvIGEgZ3JvdXAKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAi
LyogbGVhZCAyKi9pbXBvcnQgamF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFc
biIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5T
b21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAz
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMg
Y2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFz
aE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBp
bGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVm
LnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5l
dyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAg
ICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwg
MSwgMSwgdHJ1ZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLk1h
cC4qIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0
cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNr
YWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0
IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIv
KiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAg
ICAgICAiaW1wb3J0IGphdmEudXRpbC5NYXAuKjtcbiIgKworICAgICAgICAgICAgICAgICIvKiBs
ZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0
ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAg
ICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCks
IGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlw
c2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIGFkZGVkIGltcG9ydCBz
aG91bGQgZ2V0IGZvbGRlZCBpbnRvIGV4aXN0aW5nICosIHdpdGhvdXQgdG91Y2hpbmcgY29tbWVu
dHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzViKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVh
dGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdC
dWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIv
KiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLk1h
cCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJp
bmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2Fn
ZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
Ly8gY29tbWVudCAxXG4iICsKKwkJCQkiLyogbGVhZCAyKi8iICsKKwkJCQkiaW1wb3J0IGphdmEu
dXRpbC4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQgMSovIFxuIiAr
CisJCQkJIi8vIHRlc3QxXG4iICsKKwkJCQkiLyogbGVhZCAzKi8gXG4iICsKKwkJCQkiLy8gdGVz
dDNcbiIgKworCQkJCSIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVs
bG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAg
ICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50
b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIHJlbW92ZSBpbXBvcnRzLCBwcmVz
ZXJ2ZSBhbGwgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzVjKCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0
ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQg
amF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsK
KyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5p
dCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJp
bmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAi
cGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdy
aXRlKGN1LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRl
eHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEudXRpbC5NYXAuKiIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAg
ICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAg
ICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIg
KworCQkJCSJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MVxuIiAr
CisJCQkJIi8qIGxlYWQgMiovXG4iICsKKwkJCQkiLy8gdGVzdDJcbiIgKworCQkJCSIvKiBsZWFk
IDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0M1xuIiArCisJCQkJIi8vIGNvbW1lbiAzXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu
Z1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUy
PSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBT
eXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
IH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmlu
ZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAg
Ly8gYWRkZWQgaW1wb3J0IHNob3VsZCBnZXQgZm9sZGVkIGFsb25nIHdpdGggZXhpc3RpbmcgaW1w
b3J0IGludG8gKiwgd2l0aG91dCBkZWxldGluZyBjb21tZW50cworICAgIHB1YmxpYyB2b2lkIHRl
c3RCdWczNzY5MzBfNWQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFn
bWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFj
azEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2Ug
cGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEu
aW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDEqLyBpbXBvcnQgamF2YS51dGlsLk1hcDsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7Cisg
ICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQo
IkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5n
W10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBh
Y2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0
ZShjdSwgb3JkZXIsIDIsIDIsIHRydWUpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRU
b0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQo
ImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAg
ICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBs
ZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAgICAg
ICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gXG4iICsKKyAg
ICAgICAgICAgICAgICAiIC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
IDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb
XSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAu
RW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0g
bnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lz
dGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9
XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmco
Y3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CiAKIAlwcml2YXRlIHZvaWQg
YXNzZXJ0QWRkZWRBbmRSZW1vdmVkKEltcG9ydFJld3JpdGUgaW1wb3J0cywgU3RyaW5nW10gZXhw
ZWN0ZWRBZGRlZCwgU3RyaW5nW10gZXhwZWN0ZWRSZW1vdmVkLCBTdHJpbmdbXSBleHBlY3RlZEFk
ZGVkU3RhdGljLCBTdHJpbmdbXSBleHBlY3RlZFJlbW92ZWRTdGF0aWMpIHsKIAkJYXNzZXJ0RXF1
YWxTdHJpbmdzSWdub3JlT3JkZXIoaW1wb3J0cy5nZXRBZGRlZEltcG9ydHMoKSwgZXhwZWN0ZWRB
ZGRlZCk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
ZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEKaW5kZXggNWE0M2RhZi4uYjBl
ZmY2NyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhCisr
KyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YQpAQCAtMSw1ICsxLDUgQEAK
IC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTIgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAq
IHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0
CkBAIC0yNzEsMjggKzI3MSw0MiBAQAogCQkJaW50IG5leHRMZW5ndGg9IG5leHQuZ2V0TGVuZ3Ro
KCk7CiAJCQlpbnQgbmV4dE9mZnNldExpbmU9IHJvb3QuZ2V0TGluZU51bWJlcihuZXh0T2Zmc2V0
KTsKIAotCQkJaW50IGV4dGVuZGVkU3RhcnQgPSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlv
bihuZXh0KTsKLQkJCWludCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgo
bmV4dCk7CisJCQlpbnQgZXh0ZW5kZWRTdGFydCA9IHJvb3QuZ2V0RXh0ZW5kZWRTdGFydFBvc2l0
aW9uKGN1cnIpOworCQkJaWYgKGV4dGVuZGVkU3RhcnQgPCB0aGlzLnJlcGxhY2VSYW5nZS5nZXRP
ZmZzZXQoKSkgeworCQkJCS8vIGRvbid0IHRvdWNoIHRoZSBmaXJzdCBjb21tZW50cyBiZWZvcmUg
dGhlIHN0YXJ0IG9mIGltcG9ydCBkZWNsYXJhdGlvbnMKKwkJCQlleHRlbmRlZFN0YXJ0ID0gY3Vy
ck9mZnNldDsKKwkJCX0KKwkJCWludCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRM
ZW5ndGgoY3Vycik7CiAJCQkvLyBpZiBuZXh0IGltcG9ydCBpcyBvbiBhIGRpZmZlcmVudCBsaW5l
LCBtb2RpZnkgdGhlIGVuZCBwb3NpdGlvbiB0byB0aGUgbmV4dCBsaW5lIGJlZ2luIG9mZnNldAor
CQkJaW50IG5leHRMaW5lT2Zmc2V0ID0gbmV4dE9mZnNldDsgLy8gb2Zmc2V0IGF0IHRoZSBzdGFy
dCBvZiBuZXh0IGxpbmUuIE5leHQgaW1wb3J0IG1heSBub3Qgc3RhcnQgaGVyZQogCQkJaWYgKGN1
cnJFbmRMaW5lIDwgbmV4dE9mZnNldExpbmUpIHsKIAkJCQljdXJyRW5kTGluZSsrOwotCQkJCW5l
eHRPZmZzZXQ9IHJvb3QuZ2V0UG9zaXRpb24oY3VyckVuZExpbmUsIDApOworCQkJCW5leHRMaW5l
T2Zmc2V0ID0gcm9vdC5nZXRQb3NpdGlvbihjdXJyRW5kTGluZSwgMCk7CisJCQkJaWYgKG5leHRM
aW5lT2Zmc2V0ID4gbmV4dE9mZnNldCkgeworCQkJCQluZXh0T2Zmc2V0ID0gbmV4dExpbmVPZmZz
ZXQ7CisJCQkJfSAKKwkJCQkvLyBlbHNlIHRoZXJlIGFyZSBzb21lIGxlYWRpbmcgY29tbWVudHMg
KG9yIGxpbmUgZGVsaW1pdGVycykgYmVmb3JlIHRoZSBuZXh0IGltcG9ydC4gVGhlIHN0YXJ0IG9m
IHRob3NlIGNvbW1lbnRzCisJCQkJLy8gaXMgbm90IHRoZSByZWFsIHN0YXJ0IG9mZnNldCBvZiB0
aGUgbmV4dCBpbXBvcnQuIFNvIGRvbid0IGNoYW5nZSBuZXh0T2Zmc2V0CiAJCQl9CiAJCQkvLyBy
ZXRyaWV2ZSBwcmVjZWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1lbnRzIGlmIGFueQogCQkJSVJlZ2lv
biByYW5nZUJlZm9yZSA9IG51bGw7CiAJCQlJUmVnaW9uIHJhbmdlQWZ0ZXIgPSBudWxsOwotCQkJ
aWYgKG5leHRPZmZzZXQgIT0gZXh0ZW5kZWRTdGFydCkgewotCQkJCXJhbmdlQmVmb3JlID0gbmV3
IFJlZ2lvbihleHRlbmRlZFN0YXJ0LCBleHRlbmRlZFN0YXJ0IC0gbmV4dE9mZnNldCArIDEpOwor
CQkJCisJCQlpZiAoY3Vyck9mZnNldCA+IGV4dGVuZGVkU3RhcnQpIHsKKwkJCQlyYW5nZUJlZm9y
ZSA9IG5ldyBSZWdpb24oZXh0ZW5kZWRTdGFydCwgY3Vyck9mZnNldCAtIGV4dGVuZGVkU3RhcnQp
OwogCQkJfQotCQkJaWYgKG5leHRMZW5ndGggIT0gZXh0ZW5kZWRMZW5ndGgpIHsKLQkJCQlyYW5n
ZUFmdGVyID0gbmV3IFJlZ2lvbihuZXh0T2Zmc2V0ICsgbmV4dExlbmd0aCwgZXh0ZW5kZWRMZW5n
dGggLSBuZXh0TGVuZ3RoICsgMSk7CisJCQlpbnQgY3VyckxlbiA9IGN1cnIuZ2V0TGVuZ3RoKCk7
CisJCQlpZiAoY3VyckxlbiA8IGV4dGVuZGVkTGVuZ3RoIC0gKGN1cnJPZmZzZXQgLSBleHRlbmRl
ZFN0YXJ0KSkgeworCQkJCWludCBjdXJyRW5kT2Zmc2V0ID0gY3Vyck9mZnNldCArIGN1cnJMZW47
CisJCQkJaW50IHJhbmdlQmVmb3JlTGVuID0gcmFuZ2VCZWZvcmUgIT0gbnVsbD8gcmFuZ2VCZWZv
cmUuZ2V0TGVuZ3RoKCkgOiAwOworCQkJCXJhbmdlQWZ0ZXIgPSBuZXcgUmVnaW9uKGN1cnJFbmRP
ZmZzZXQsIGV4dGVuZGVkTGVuZ3RoIC0gcmFuZ2VCZWZvcmVMZW4gLSBjdXJyTGVuKTsKIAkJCX0K
IAkJCWN1cnJQYWNrYWdlLmFkZCgKIAkJCQkJbmV3IEltcG9ydERlY2xFbnRyeSgKIAkJCQkJCQlw
YWNrTmFtZS5sZW5ndGgoKSwgCiAJCQkJCQkJbmFtZSwgCiAJCQkJCQkJaXNTdGF0aWMsIAotCQkJ
CQkJCW5ldyBSZWdpb24oY3Vyck9mZnNldCwgbmV4dE9mZnNldCAtIGN1cnJPZmZzZXQpLAorCQkJ
CQkJCW5ldyBSZWdpb24oY3Vyck9mZnNldCwgbmV4dExpbmVPZmZzZXQgLSBjdXJyT2Zmc2V0KSwg
Ly8gc2hvdWxkIG5vdCBpbmNsdWRlIGxlYWRpbmcgY29tbWVudHMgb2YgbmV4dCBpbXBvcnQsIGxp
bmUgZGVsaW1pdGVycywgZXRjLgogCQkJCQkJCXJhbmdlQmVmb3JlLAogCQkJCQkJCXJhbmdlQWZ0
ZXIpKTsKIAkJCWN1cnJPZmZzZXQ9IG5leHRPZmZzZXQ7CkBAIC0zMDQsNyArMzE4LDcgQEAKIAog
CQkJCWN1cnJQYWNrYWdlPSBuZXcgUGFja2FnZUVudHJ5KCk7IC8vIGNyZWF0ZSBhIGNvbW1lbnQg
cGFja2FnZSBlbnRyeSBmb3IgdGhpcwogCQkJCXRoaXMucGFja2FnZUVudHJpZXMuYWRkKGN1cnJQ
YWNrYWdlKTsKLQkJCQljdXJyUGFja2FnZS5hZGQobmV3IEltcG9ydERlY2xFbnRyeShwYWNrTmFt
ZS5sZW5ndGgoKSwgbnVsbCwgZmFsc2UsIG5ldyBSZWdpb24oY3Vyck9mZnNldCwgbmV4dE9mZnNl
dCAtIGN1cnJPZmZzZXQpKSk7CisJCQkJY3VyclBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50
cnkocGFja05hbWUubGVuZ3RoKCksIG51bGwsIGZhbHNlLCBuZXcgUmVnaW9uKG5leHRMaW5lT2Zm
c2V0LCBuZXh0T2Zmc2V0IC0gbmV4dExpbmVPZmZzZXQpKSk7CiAKIAkJCQljdXJyT2Zmc2V0PSBu
ZXh0T2Zmc2V0OwogCQkJfQpAQCAtMzE4LDggKzMzMiwyMyBAQAogCQkJY3VyclBhY2thZ2U9IG5l
dyBQYWNrYWdlRW50cnkocGFja05hbWUsIG51bGwsIGlzU3RhdGljKTsKIAkJCXRoaXMucGFja2Fn
ZUVudHJpZXMuYWRkKGN1cnJQYWNrYWdlKTsKIAkJfQotCQlpbnQgbGVuZ3RoPSB0aGlzLnJlcGxh
Y2VSYW5nZS5nZXRPZmZzZXQoKSArIHRoaXMucmVwbGFjZVJhbmdlLmdldExlbmd0aCgpIC0gY3Vy
ci5nZXRTdGFydFBvc2l0aW9uKCk7Ci0JCWN1cnJQYWNrYWdlLmFkZChuZXcgSW1wb3J0RGVjbEVu
dHJ5KHBhY2tOYW1lLmxlbmd0aCgpLCBuYW1lLCBpc1N0YXRpYywgbmV3IFJlZ2lvbihjdXJyLmdl
dFN0YXJ0UG9zaXRpb24oKSwgbGVuZ3RoKSkpOworCQlpbnQgY3VyclN0YXJ0T2Zmc2V0ID0gY3Vy
ci5nZXRTdGFydFBvc2l0aW9uKCk7CisJCWludCBjdXJyTGVuID0gY3Vyci5nZXRMZW5ndGgoKTsK
KwkJaW50IGV4dGVuZGVkU3RhcnRPZmZzZXQgPSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlv
bihjdXJyKTsKKwkJSVJlZ2lvbiBsZWFkaW5nQ29tbWVudHMgPSBudWxsOworCQlJUmVnaW9uIGFs
bFRyYWlsaW5nQ29tbWVudHMgPSBudWxsOworCQkKKwkJaWYgKGN1cnJTdGFydE9mZnNldCA+IGV4
dGVuZGVkU3RhcnRPZmZzZXQpIHsKKwkJCWxlYWRpbmdDb21tZW50cyA9IG5ldyBSZWdpb24oZXh0
ZW5kZWRTdGFydE9mZnNldCwgY3Vyck9mZnNldCAtIGV4dGVuZGVkU3RhcnRPZmZzZXQpOworCQl9
CisJCWludCBsZW5ndGg9IHRoaXMucmVwbGFjZVJhbmdlLmdldE9mZnNldCgpICsgdGhpcy5yZXBs
YWNlUmFuZ2UuZ2V0TGVuZ3RoKCkgLSBjdXJyU3RhcnRPZmZzZXQ7CisJCWludCBleHRlbmRlZExl
bmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgoY3Vycik7CisJCWlmIChjdXJyTGVuIDwgZXh0
ZW5kZWRMZW5ndGggLSAoY3Vyck9mZnNldCAtIGV4dGVuZGVkU3RhcnRPZmZzZXQpKSB7CisJCQlp
bnQgY3VyckVuZE9mZnNldCA9IGN1cnJPZmZzZXQgKyBjdXJyTGVuOworCQkJaW50IGxlYWRpbmdD
b21tZW50c0xlbiA9IGxlYWRpbmdDb21tZW50cyAhPSBudWxsPyBsZWFkaW5nQ29tbWVudHMuZ2V0
TGVuZ3RoKCkgOiAwOworCQkJYWxsVHJhaWxpbmdDb21tZW50cyA9IG5ldyBSZWdpb24oY3VyckVu
ZE9mZnNldCwgZXh0ZW5kZWRMZW5ndGggLSBsZWFkaW5nQ29tbWVudHNMZW4gLSBjdXJyTGVuKTsK
KwkJfQorCQljdXJyUGFja2FnZS5hZGQobmV3IEltcG9ydERlY2xFbnRyeShwYWNrTmFtZS5sZW5n
dGgoKSwgbmFtZSwgaXNTdGF0aWMsIG5ldyBSZWdpb24oY3Vyci5nZXRTdGFydFBvc2l0aW9uKCks
IGxlbmd0aCksIGxlYWRpbmdDb21tZW50cywgYWxsVHJhaWxpbmdDb21tZW50cykpOwogCX0KIAog
CXByaXZhdGUgSVJlZ2lvbltdIHJldHJpZXZlRXhpc3RpbmdDb21tZW50c0luSW1wb3J0cyhDb21w
aWxhdGlvblVuaXQgcm9vdCkgewpAQCAtNzY2LDYgKzc5NSwxNCBAQAogCQkJCQkJfQogCQkJCQl9
IGVsc2UgaWYgKCFkb1N0YXJJbXBvcnQgfHwgY3VyckRlY2wuaXNPbkRlbWFuZCgpIHx8IG9uRGVt
YW5kQ29uZmxpY3RzID09IG51bGwgfHwgb25EZW1hbmRDb25mbGljdHMuY29udGFpbnMoY3VyckRl
Y2wuZ2V0U2ltcGxlTmFtZSgpKSkgewogCQkJCQkJaW50IG9mZnNldD0gcmVnaW9uLmdldE9mZnNl
dCgpOworCQkJCQkJSVJlZ2lvbiByYW5nZUJlZm9yZSA9IGN1cnJEZWNsLmdldFByZWNlZGluZ0Nv
bW1lbnRSYW5nZSgpOworCQkJCQkJaWYgKHJhbmdlQmVmb3JlICE9IG51bGwgJiYgY3VyclBvcyA+
IHJhbmdlQmVmb3JlLmdldE9mZnNldCgpKSB7CisJCQkJCQkJLy8gbW92ZWQgYWhlYWQgb2YgdGhl
IGxlYWRpbmcgY29tbWVudHMsIGJyaW5nIHRoZSBjdXJyUG9zIGJhY2sKKwkJCQkJCQljdXJyUG9z
ID0gcmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCk7CisJCQkJCQl9CisJCQkJCQlpZiAocmFuZ2VCZWZv
cmUgIT0gbnVsbCkgeworCQkJCQkJCXN0cmluZ3NUb0luc2VydC5hZGQoYnVmZmVyLmdldFRleHQo
cmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCksIHJhbmdlQmVmb3JlLmdldExlbmd0aCgpKSk7CisJCQkJ
CQl9CiAJCQkJCQlyZW1vdmVBbmRJbnNlcnROZXcoYnVmZmVyLCBjdXJyUG9zLCBvZmZzZXQsIHN0
cmluZ3NUb0luc2VydCwgcmVzRWRpdCk7CiAJCQkJCQlzdHJpbmdzVG9JbnNlcnQuY2xlYXIoKTsK
IAkJCQkJCWN1cnJQb3M9IG9mZnNldCArIHJlZ2lvbi5nZXRMZW5ndGgoKTsKQEAgLTc3Myw2ICs4
MTAsMTAgQEAKIAkJCQkJCVN0cmluZyBzaW1wbGVOYW1lID0gY3VyckRlY2wuZ2V0VHlwZVF1YWxp
ZmllZE5hbWUoKTsKIAkJCQkJCWlmIChzaW1wbGVOYW1lLmluZGV4T2YoJy4nKSAhPSAtMSkgewog
CQkJCQkJCUlSZWdpb24gcmFuZ2VCZWZvcmUgPSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50
UmFuZ2UoKTsKKwkJCQkJCQlpZiAocmFuZ2VCZWZvcmUgIT0gbnVsbCAmJiBjdXJyUG9zID4gcmFu
Z2VCZWZvcmUuZ2V0T2Zmc2V0KCkpIHsKKwkJCQkJCQkJLy8gbW92ZWQgYWhlYWQgb2YgdGhlIGxl
YWRpbmcgY29tbWVudHMsIGJyaW5nIHRoZSBjdXJyUG9zIGJhY2sKKwkJCQkJCQkJY3VyclBvcyA9
IHJhbmdlQmVmb3JlLmdldE9mZnNldCgpOworCQkJCQkJCX0KIAkJCQkJCQlpZiAocmFuZ2VCZWZv
cmUgIT0gbnVsbCkgewogCQkJCQkJCQlzdHJpbmdzVG9JbnNlcnQuYWRkKGJ1ZmZlci5nZXRUZXh0
KHJhbmdlQmVmb3JlLmdldE9mZnNldCgpLCByYW5nZUJlZm9yZS5nZXRMZW5ndGgoKSkpOwogCQkJ
CQkJCX0=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>214682</attachid>
            <date>2012-04-27 06:28:00 -0400</date>
            <delta_ts>2012-04-30 07:10:40 -0400</delta_ts>
            <desc>proposed fix v1.3 + regression tests</desc>
            <filename>Fixed-bug-376930-FUP-of-bug-24804-Organize-imports-d.patch</filename>
            <type>text/plain</type>
            <size>35318</size>
            <attacher name="Ayushman Jain">amj87.iitr</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3Qu
amF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9yZXdyaXRlL2Rlc2NyaWJpbmcvSW1wb3J0UmV3cml0ZVRlc3QuamF2YQpp
bmRleCBmOTZmMDA1Li43ZDAxNTk2IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvcmV3cml0ZS9kZXNjcmli
aW5nL0ltcG9ydFJld3JpdGVUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL3Jld3JpdGUvZGVzY3JpYmlu
Zy9JbXBvcnRSZXdyaXRlVGVzdC5qYXZhCkBAIC0xNDkzLDYgKzE0OTMsNjkwIEBACiAJCWJ1Zi5h
cHBlbmQoIn1cbiIpOwogCQlhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRv
U3RyaW5nKCkpOwogCX0KKwkKKwkvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMCgpIHRocm93
cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3Vy
Y2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAg
ICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgLy8g
MiBpbXBvcnRzIGFyZSBpbiAxIGdyb3VwIGJ1dCB0aGlyZCBpcyBzZXBhcmF0ZWQgYnkgYSBjb21t
ZW50CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQg
amF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51
dGlsLk1hcC5FbnRyeTtcbiIgKworICAgICAgICAgICAgICAgICIvL2NvbW1lbnQgMlxuIiArCisg
ICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRl
Q29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOwor
CisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51
dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0g
bmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0
cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHko
aW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEuaW8uKjtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZh
LnV0aWwuKjsgLy8gdGVzdFxuIiArIAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGls
Lk1hcC5FbnRyeTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy9jb21tZW50IDJcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsg
IAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAg
ICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIg
cHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwi
aGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAg
ICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1
Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uu
b3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RCdWcz
NzY5MzBfMigpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAgYnVm
LmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAg
ICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdFxuIiArCisgICAgICAgICAg
ICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7XG4iICsKKyAgICAg
ICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisg
ICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAor
ICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxs
b1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAg
ICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGls
YXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAg
ICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwg
ImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1w
b3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRV
c2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMu
YWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0
cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBw
ZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAg
ICAgICAgICAgImltcG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiAr
IAorICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3RcbiIgKworICAg
ICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlO1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0
ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAg
ICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCks
IGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlw
c2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIHB1YmxpYyB2b2lkIHRlc3RC
dWczNzY5MzBfMygpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50
IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIs
IGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm
ZXIoKTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAg
Ly8gbGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAg
Ii8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAg
ICAgICAgICIvKiBsZWFkIDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0Mlxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNp
dEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9ydHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50
V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3
IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJw
YWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGlt
cG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAg
ICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTsgLy8gdGVzdDJcbiIgKwor
ICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhp
bmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsg
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAicHVibGljIGNsYXNz
IEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4o
U3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEhhc2hNYXAg
aDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAg
ICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgRW50
cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAg
ICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAgICAgICAgICAgICAgICIgICAg
ICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7CisgICAgICAgIGFzc2VydEVxdWFs
U3RyaW5nKGN1LmdldFNvdXJjZSgpLCBidWYudG9TdHJpbmcoKSk7CisgICAgfQorICAgIAorICAg
IC8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0zNzY5MzAK
KyAgICAvLyByZW1vdmUgaW1wb3J0cywgcHJlc2VydmUgYWxsIGNvbW1lbnRzCisgICAgcHVibGlj
IHZvaWQgdGVzdEJ1ZzM3NjkzMF8zYSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFj
a2FnZUZyYWdtZW50IHBhY2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdt
ZW50KCJwYWNrMSIsIGZhbHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5l
dyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAi
cGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAg
ICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGlt
cG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDIqL2ltcG9ydCBqYXZhLnV0aWwuTWFwLkVudHJ5OyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAg
ICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8v
IHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisg
ICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRy
eSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxs
O1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0u
b3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIg
KyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0g
cGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFs
c2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImph
dmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3Jp
dGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCBmYWxzZSk7Cisg
ICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGljaXRJbXBvcnRzKHRydWUp
OworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS5pby5QcmludFdyaXRlciIpOworCisg
ICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIgKworCQkJCSJpbXBvcnQgamF2YS5pby4qO1xu
IiArIAorCQkJCSIvLyB0ZXN0MVxuIiArCisJCQkJIi8qIGxlYWQgMiovXG4iICsKKwkJCQkiLy8g
dGVzdDJcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0M1xuIiArCisJ
CQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAg
ICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAg
ICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIg
KyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOwor
ICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkp
OworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93
X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3NjkzMF80KCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICAv
LyBhbGwgaW1wb3J0cyBhcmUgaW4gc2FtZSBncm91cAorICAgICAgICAvLyBsZWFkaW5nIGFuZCB0
cmFpbGluZyBjb21tZW50cworICAgICAgICAvLyB0d28gb24gZGVtYW5kIGltcG9ydHMgaW4gdGhl
IGdyb3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFj
azE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNv
bW1lbnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51
dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQg
amF2YS51dGlsLk1hcC4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBw
dztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJo
ZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29t
cGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisg
ICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGls
IiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3
SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5z
ZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGltcG9y
dHMuYWRkSW1wb3J0KCJqYXZhLmlvLlByaW50V3JpdGVyIik7CisKKyAgICAgICAgYXBwbHkoaW1w
b3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYu
YXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAg
ICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsgCisgICAg
ICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLmlvLio7XG4iICsgCisgICAgICAg
ICAgICAgICAgIlxuIiArICAKKyAgICAgICAgICAgICAgICAiaW1wb3J0IGphdmEudXRpbC4qOyAv
LyB0ZXN0MVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEudXRp
bC5NYXAuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBv
cnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAg
ICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAg
ICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBw
dWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0i
KTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmlu
ZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mv
c2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIHJlbW92ZSBpbXBvcnRzLCBwcmVzZXJ2ZSBh
bGwgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzRhKCkgdGhyb3dzIEV4
Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZv
bGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAg
ICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBw
ZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEudXRpbC5NYXAuKjsg
Ly8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51
dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAg
ICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAg
ICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5q
YXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBv
cmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIg
fTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1
LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRUb0Zp
bHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQoImph
dmEuaW8uUHJpbnRXcml0ZXIiKTsKKworICAgICAgICBhcHBseShpbXBvcnRzKTsKKworICAgICAg
ICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAg
ICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisg
ICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIgKwor
CQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MVxuIiArCisJCQkJIi8q
IGxlYWQgMiovXG4iICsKKwkJCQkiLy8gdGVzdDJcbiIgKworCQkJCSIvKiBsZWFkIDMqLyBcbiIg
KworCQkJCSIvLyB0ZXN0M1xuIiArCisJCQkJIi8vIGNvbW1lbiAzXG4iICsKKyAgICAgICAgICAg
ICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBl
PSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQ
cmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAK
KyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRT
b3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1
Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZv
aWQgdGVzdEJ1ZzM3NjkzMF81KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdl
RnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQo
InBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0
cmluZ0J1ZmZlcigpOworICAgICAgICAvLyBhbGwgaW1wb3J0cyBvZiBzYW1lIGdyb3VwIGFyZSBz
Y2F0dGVyZWQgYXJvdW5kCisgICAgICAgIC8vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGNvbW1lbnRz
CisgICAgICAgIC8vIGFkZGluZyBhbiBvbi1kZW1hbmQgaW1wb3J0IGJlbG9uZ2luZyB0byBhIGdy
b3VwCisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1l
bnQgMVxuIiArIAorICAgICAgICAgICAgICAgICIvKiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGls
Lio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2
YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxl
YWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsK
KyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAg
ICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAg
ICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRl
ciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
XCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAg
ICAgICAgICAifSIpOworICAgICAgICBJQ29tcGlsYXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRl
Q29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYudG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOwor
CisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51
dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAgICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0g
bmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAxLCAxLCB0cnVlKTsKKyAgICAgICAgaW1wb3J0
cy5zZXRVc2VDb250ZXh0VG9GaWx0ZXJJbXBsaWNpdEltcG9ydHModHJ1ZSk7CisgICAgICAgIGlt
cG9ydHMuYWRkSW1wb3J0KCJqYXZhLnV0aWwuTWFwLioiKTsKKworICAgICAgICBhcHBseShpbXBv
cnRzKTsKKworICAgICAgICBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisgICAgICAgIGJ1Zi5h
cHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2UgcGFjazE7XG4iICsgCisgICAgICAgICAg
ICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAgICAg
ICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxuIiAr
CisgICAgICAgICAgICAgICAgImltcG9ydCBqYXZhLnV0aWwuTWFwLio7XG4iICsKKyAgICAgICAg
ICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAyKi9pbXBvcnQgamF2YS5p
by5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQg
MyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNvbWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAg
ICAgICAgICAgICAgICAiLy8gY29tbWVuIDNcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAg
IlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBw
dztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJo
ZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAg
ICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmluZyhjdS5nZXRTb3VyY2UoKSwgYnVm
LnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBodHRwczovL2J1Z3MuZWNsaXBzZS5v
cmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAgcHVibGljIHZvaWQgdGVzdEJ1ZzM3
NjkzMF81YSgpIHRocm93cyBFeGNlcHRpb24geworICAgICAgICBJUGFja2FnZUZyYWdtZW50IHBh
Y2sxID0gdGhpcy5zb3VyY2VGb2xkZXIuY3JlYXRlUGFja2FnZUZyYWdtZW50KCJwYWNrMSIsIGZh
bHNlLCBudWxsKTsKKyAgICAgICAgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIo
KTsKKyAgICAgICAgLy8gYWxsIGltcG9ydHMgYXJlIGluIHNhbWUgZ3JvdXAKKyAgICAgICAgLy8g
bGVhZGluZyBhbmQgdHJhaWxpbmcgY29tbWVudHMKKyAgICAgICAgLy8gYWRkaW5nIGFuIG9uLWRl
bWFuZCBpbXBvcnQgYmVsb25naW5nIHRvIGEgZ3JvdXAKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAg
ICAgICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4i
ICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVudCAxXG4iICsKKyAgICAgICAgICAgICAgICAi
LyogbGVhZCAyKi9pbXBvcnQgamF2YS5pby5QcmludFdyaXRlci4qOyAvLyB0ZXN0MlxuIiArCisg
ICAgICAgICAgICAgICAgIi8qIGxlYWQgMSovIGltcG9ydCBqYXZhLnV0aWwuKjsgLy8gdGVzdDFc
biIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5T
b21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAz
XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMg
Y2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFz
aE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAg
ICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAg
ICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgSUNvbXBp
bGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5pdCgiQy5qYXZhIiwgYnVm
LnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJpbmdbXSBvcmRlciA9IG5l
dyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAicGFjayIgfTsKKworICAg
ICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdyaXRlKGN1LCBvcmRlciwg
MSwgMSwgdHJ1ZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLk1h
cC4qIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAgICAgYnVmID0gbmV3IFN0
cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNr
YWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAg
ICAiLy8gY29tbWVudCAxXG4iICsgCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0
IGphdmEuaW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIv
KiBsZWFkIDEqLyBpbXBvcnQgamF2YS51dGlsLio7IC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAg
ICAgICAiaW1wb3J0IGphdmEudXRpbC5NYXAuKjtcbiIgKworICAgICAgICAgICAgICAgICIvKiBs
ZWFkIDMqLyBpbXBvcnQgamF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiAr
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsg
CisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAg
ICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0
ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAg
ICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCks
IGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlw
c2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIGFkZGVkIGltcG9ydCBz
aG91bGQgZ2V0IGZvbGRlZCBpbnRvIGV4aXN0aW5nICosIHdpdGhvdXQgdG91Y2hpbmcgY29tbWVu
dHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzViKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNvdXJjZUZvbGRlci5jcmVh
dGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOworICAgICAgICBTdHJpbmdC
dWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAg
ICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIg
KworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIv
KiBsZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMyovIGltcG9ydCBqYXZhLnV0aWwuTWFwLlNv
bWV0aGluZ0Vsc2U7IC8vIHRlc3QzXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVuIDNc
biIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBj
bGFzcyBDIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNo
TWFwIGg7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIg
ICAgICAgIE1hcC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAg
IEVudHJ5IGUyPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAg
ICAgICAiICAgIH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBJQ29tcGls
YXRpb25Vbml0IGN1ID0gcGFjazEuY3JlYXRlQ29tcGlsYXRpb25Vbml0KCJDLmphdmEiLCBidWYu
dG9TdHJpbmcoKSwgZmFsc2UsIG51bGwpOworCisgICAgICAgIFN0cmluZ1tdIG9yZGVyID0gbmV3
IFN0cmluZ1tdIHsgImphdmEiLCAiamF2YS51dGlsIiwgImNvbSIsICJwYWNrIiB9OworCisgICAg
ICAgIEltcG9ydFJld3JpdGUgaW1wb3J0cz0gbmV3SW1wb3J0c1Jld3JpdGUoY3UsIG9yZGVyLCAx
LCAxLCBmYWxzZSk7CisgICAgICAgIGltcG9ydHMuc2V0VXNlQ29udGV4dFRvRmlsdGVySW1wbGlj
aXRJbXBvcnRzKHRydWUpOworICAgICAgICBpbXBvcnRzLmFkZEltcG9ydCgiamF2YS51dGlsLk1h
cCIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAgICAgIGJ1ZiA9IG5ldyBTdHJp
bmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAgICAgICAgICAgICAicGFja2Fn
ZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAi
Ly8gY29tbWVudCAxXG4iICsKKwkJCQkiLyogbGVhZCAyKi8iICsKKwkJCQkiaW1wb3J0IGphdmEu
dXRpbC4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MlxuIiArCisJCQkJIi8qIGxlYWQgMSovIFxuIiAr
CisJCQkJIi8vIHRlc3QxXG4iICsKKwkJCQkiLyogbGVhZCAzKi8gXG4iICsKKwkJCQkiLy8gdGVz
dDNcbiIgKworCQkJCSIvLyBjb21tZW4gM1xuIiArCisgICAgICAgICAgICAgICAgIlxuIiArIAor
ICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAg
IiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAK
KyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVs
bG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAg
ICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmcoY3UuZ2V0U291cmNlKCksIGJ1Zi50
b1N0cmluZygpKTsKKyAgICB9CisgICAgCisgICAgLy8gaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3Jn
L2J1Z3Mvc2hvd19idWcuY2dpP2lkPTM3NjkzMAorICAgIC8vIHJlbW92ZSBpbXBvcnRzLCBwcmVz
ZXJ2ZSBhbGwgY29tbWVudHMKKyAgICBwdWJsaWMgdm9pZCB0ZXN0QnVnMzc2OTMwXzVjKCkgdGhy
b3dzIEV4Y2VwdGlvbiB7CisgICAgICAgIElQYWNrYWdlRnJhZ21lbnQgcGFjazEgPSB0aGlzLnNv
dXJjZUZvbGRlci5jcmVhdGVQYWNrYWdlRnJhZ21lbnQoInBhY2sxIiwgZmFsc2UsIG51bGwpOwor
ICAgICAgICBTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBi
dWYuYXBwZW5kKAorICAgICAgICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAg
ICAgICAgICAgICJcbiIgKworICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gaW1wb3J0IGphdmEudXRpbC4qOyAvLyB0ZXN0MVxu
IiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEuaW8uUHJpbnRXcml0
ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFkIDMqLyBpbXBvcnQg
amF2YS51dGlsLk1hcC5Tb21ldGhpbmdFbHNlOyAvLyB0ZXN0M1xuIiArCisgICAgICAgICAgICAg
ICAgIi8vIGNvbW1lbiAzXG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAg
ICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAg
ICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAg
ICAgICAgICAgICAgICAiICAgICAgICBNYXAuRW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAg
ICAgICAgICAiICAgICAgICBFbnRyeSBlMj0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAi
XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisg
ICAgICAgICAgICAgICAgIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICB9XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsK
KyAgICAgICAgSUNvbXBpbGF0aW9uVW5pdCBjdSA9IHBhY2sxLmNyZWF0ZUNvbXBpbGF0aW9uVW5p
dCgiQy5qYXZhIiwgYnVmLnRvU3RyaW5nKCksIGZhbHNlLCBudWxsKTsKKworICAgICAgICBTdHJp
bmdbXSBvcmRlciA9IG5ldyBTdHJpbmdbXSB7ICJqYXZhIiwgImphdmEudXRpbCIsICJjb20iLCAi
cGFjayIgfTsKKworICAgICAgICBJbXBvcnRSZXdyaXRlIGltcG9ydHM9IG5ld0ltcG9ydHNSZXdy
aXRlKGN1LCBvcmRlciwgMSwgMSwgZmFsc2UpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRl
eHRUb0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBv
cnQoImphdmEudXRpbC5NYXAuKiIpOworCisgICAgICAgIGFwcGx5KGltcG9ydHMpOworCisgICAg
ICAgIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsKKyAgICAgICAgYnVmLmFwcGVuZCgKKyAgICAg
ICAgICAgICAgICAicGFja2FnZSBwYWNrMTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsg
CisgICAgICAgICAgICAgICAgIi8vIGNvbW1lbnQgMVxuIiArCisJCQkJIi8qIGxlYWQgMSovICIg
KworCQkJCSJpbXBvcnQgamF2YS51dGlsLk1hcC4qO1xuIiArIAorCQkJCSIvLyB0ZXN0MVxuIiAr
CisJCQkJIi8qIGxlYWQgMiovXG4iICsKKwkJCQkiLy8gdGVzdDJcbiIgKworCQkJCSIvKiBsZWFk
IDMqLyBcbiIgKworCQkJCSIvLyB0ZXN0M1xuIiArCisJCQkJIi8vIGNvbW1lbiAzXG4iICsKKyAg
ICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgInB1YmxpYyBjbGFzcyBDIHtc
biIgKyAKKyAgICAgICAgICAgICAgICAiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu
Z1tdIGFyZ3MpIHtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBIYXNoTWFwIGg7XG4i
ICsgCisgICAgICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIE1h
cC5FbnRyeSBlPSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIEVudHJ5IGUy
PSBudWxsO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAi
ICAgICAgICBQcmludFdyaXRlciBwdztcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBT
eXN0ZW0ub3V0LnByaW50bG4oXCJoZWxsb1wiKTtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAg
IH1cbiIgKyAKKyAgICAgICAgICAgICAgICAifSIpOworICAgICAgICBhc3NlcnRFcXVhbFN0cmlu
ZyhjdS5nZXRTb3VyY2UoKSwgYnVmLnRvU3RyaW5nKCkpOworICAgIH0KKyAgICAKKyAgICAvLyBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9Mzc2OTMwCisgICAg
Ly8gYWRkZWQgaW1wb3J0IHNob3VsZCBnZXQgZm9sZGVkIGFsb25nIHdpdGggZXhpc3RpbmcgaW1w
b3J0IGludG8gKiwgd2l0aG91dCBkZWxldGluZyBjb21tZW50cworICAgIHB1YmxpYyB2b2lkIHRl
c3RCdWczNzY5MzBfNWQoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKyAgICAgICAgSVBhY2thZ2VGcmFn
bWVudCBwYWNrMSA9IHRoaXMuc291cmNlRm9sZGVyLmNyZWF0ZVBhY2thZ2VGcmFnbWVudCgicGFj
azEiLCBmYWxzZSwgbnVsbCk7CisgICAgICAgIFN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CisgICAgICAgIGJ1Zi5hcHBlbmQoCisgICAgICAgICAgICAgICAgInBhY2thZ2Ug
cGFjazE7XG4iICsgCisgICAgICAgICAgICAgICAgIlxuIiArCisgICAgICAgICAgICAgICAgIi8v
IGNvbW1lbnQgMVxuIiArCisgICAgICAgICAgICAgICAgIi8qIGxlYWQgMiovaW1wb3J0IGphdmEu
aW8uUHJpbnRXcml0ZXIuKjsgLy8gdGVzdDJcbiIgKworICAgICAgICAgICAgICAgICIvKiBsZWFk
IDEqLyBpbXBvcnQgamF2YS51dGlsLk1hcDsgLy8gdGVzdDFcbiIgKworICAgICAgICAgICAgICAg
ICIvLyBjb21tZW4gM1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAg
ICAgICAicHVibGljIGNsYXNzIEMge1xuIiArIAorICAgICAgICAgICAgICAgICIgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIiArIAorICAgICAgICAgICAgICAg
ICIgICAgICAgIEhhc2hNYXAgaDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAg
ICAgICAgICAgICAgIiAgICAgICAgTWFwLkVudHJ5IGU9IG51bGw7XG4iICsgCisgICAgICAgICAg
ICAgICAgIiAgICAgICAgRW50cnkgZTI9IG51bGw7XG4iICsgCisgICAgICAgICAgICAgICAgIlxu
IiArIAorICAgICAgICAgICAgICAgICIgICAgICAgIFByaW50V3JpdGVyIHB3O1xuIiArIAorICAg
ICAgICAgICAgICAgICIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImhlbGxvXCIpO1xuIiAr
IAorICAgICAgICAgICAgICAgICIgICAgfVxuIiArIAorICAgICAgICAgICAgICAgICJ9Iik7Cisg
ICAgICAgIElDb21waWxhdGlvblVuaXQgY3UgPSBwYWNrMS5jcmVhdGVDb21waWxhdGlvblVuaXQo
IkMuamF2YSIsIGJ1Zi50b1N0cmluZygpLCBmYWxzZSwgbnVsbCk7CisKKyAgICAgICAgU3RyaW5n
W10gb3JkZXIgPSBuZXcgU3RyaW5nW10geyAiamF2YSIsICJqYXZhLnV0aWwiLCAiY29tIiwgInBh
Y2siIH07CisKKyAgICAgICAgSW1wb3J0UmV3cml0ZSBpbXBvcnRzPSBuZXdJbXBvcnRzUmV3cml0
ZShjdSwgb3JkZXIsIDIsIDIsIHRydWUpOworICAgICAgICBpbXBvcnRzLnNldFVzZUNvbnRleHRU
b0ZpbHRlckltcGxpY2l0SW1wb3J0cyh0cnVlKTsKKyAgICAgICAgaW1wb3J0cy5hZGRJbXBvcnQo
ImphdmEudXRpbC5IYXNoTWFwIik7CisKKyAgICAgICAgYXBwbHkoaW1wb3J0cyk7CisKKyAgICAg
ICAgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOworICAgICAgICBidWYuYXBwZW5kKAorICAgICAg
ICAgICAgICAgICJwYWNrYWdlIHBhY2sxO1xuIiArIAorICAgICAgICAgICAgICAgICJcbiIgKwor
ICAgICAgICAgICAgICAgICIvLyBjb21tZW50IDFcbiIgKworICAgICAgICAgICAgICAgICIvKiBs
ZWFkIDIqL2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyLio7IC8vIHRlc3QyXG4iICsKKyAgICAg
ICAgICAgICAgICAiXG4iICsKKyAgICAgICAgICAgICAgICAiLyogbGVhZCAxKi8gXG4iICsKKyAg
ICAgICAgICAgICAgICAiIC8vIHRlc3QxXG4iICsKKyAgICAgICAgICAgICAgICAiLy8gY29tbWVu
IDNcbiIgKworICAgICAgICAgICAgICAgICJpbXBvcnQgamF2YS51dGlsLio7XG4iICsgCisgICAg
ICAgICAgICAgICAgIlxuIiArIAorICAgICAgICAgICAgICAgICJwdWJsaWMgY2xhc3MgQyB7XG4i
ICsgCisgICAgICAgICAgICAgICAgIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb
XSBhcmdzKSB7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgSGFzaE1hcCBoO1xuIiAr
IAorICAgICAgICAgICAgICAgICJcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBNYXAu
RW50cnkgZT0gbnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiICAgICAgICBFbnRyeSBlMj0g
bnVsbDtcbiIgKyAKKyAgICAgICAgICAgICAgICAiXG4iICsgCisgICAgICAgICAgICAgICAgIiAg
ICAgICAgUHJpbnRXcml0ZXIgcHc7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICAgICAgU3lz
dGVtLm91dC5wcmludGxuKFwiaGVsbG9cIik7XG4iICsgCisgICAgICAgICAgICAgICAgIiAgICB9
XG4iICsgCisgICAgICAgICAgICAgICAgIn0iKTsKKyAgICAgICAgYXNzZXJ0RXF1YWxTdHJpbmco
Y3UuZ2V0U291cmNlKCksIGJ1Zi50b1N0cmluZygpKTsKKyAgICB9CiAKIAlwcml2YXRlIHZvaWQg
YXNzZXJ0QWRkZWRBbmRSZW1vdmVkKEltcG9ydFJld3JpdGUgaW1wb3J0cywgU3RyaW5nW10gZXhw
ZWN0ZWRBZGRlZCwgU3RyaW5nW10gZXhwZWN0ZWRSZW1vdmVkLCBTdHJpbmdbXSBleHBlY3RlZEFk
ZGVkU3RhdGljLCBTdHJpbmdbXSBleHBlY3RlZFJlbW92ZWRTdGF0aWMpIHsKIAkJYXNzZXJ0RXF1
YWxTdHJpbmdzSWdub3JlT3JkZXIoaW1wb3J0cy5nZXRBZGRlZEltcG9ydHMoKSwgZXhwZWN0ZWRB
ZGRlZCk7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9kb20vb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
ZG9tL3Jld3JpdGUvSW1wb3J0UmV3cml0ZUFuYWx5emVyLmphdmEKaW5kZXggNWE0M2RhZi4uNTYz
YWI5MCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL2RvbS9yZXdyaXRlL0ltcG9ydFJld3JpdGVBbmFseXplci5qYXZhCisr
KyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS9kb20vcmV3cml0ZS9JbXBvcnRSZXdyaXRlQW5hbHl6ZXIuamF2YQpAQCAtMSw1ICsxLDUgQEAK
IC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTIgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAq
IHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0
CkBAIC0yNzEsMjggKzI3MSwzOSBAQAogCQkJaW50IG5leHRMZW5ndGg9IG5leHQuZ2V0TGVuZ3Ro
KCk7CiAJCQlpbnQgbmV4dE9mZnNldExpbmU9IHJvb3QuZ2V0TGluZU51bWJlcihuZXh0T2Zmc2V0
KTsKIAotCQkJaW50IGV4dGVuZGVkU3RhcnQgPSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlv
bihuZXh0KTsKLQkJCWludCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5ndGgo
bmV4dCk7CisJCQlpbnQgZXh0ZW5kZWRTdGFydCA9IHJvb3QuZ2V0RXh0ZW5kZWRTdGFydFBvc2l0
aW9uKGN1cnIpOworCQkJaWYgKGV4dGVuZGVkU3RhcnQgPCB0aGlzLnJlcGxhY2VSYW5nZS5nZXRP
ZmZzZXQoKSkgeworCQkJCS8vIGRvbid0IHRvdWNoIHRoZSBmaXJzdCBjb21tZW50cyBiZWZvcmUg
dGhlIHN0YXJ0IG9mIGltcG9ydCBkZWNsYXJhdGlvbnMKKwkJCQlleHRlbmRlZFN0YXJ0ID0gY3Vy
ck9mZnNldDsKKwkJCX0KKwkJCWludCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRM
ZW5ndGgoY3Vycik7CiAJCQkvLyBpZiBuZXh0IGltcG9ydCBpcyBvbiBhIGRpZmZlcmVudCBsaW5l
LCBtb2RpZnkgdGhlIGVuZCBwb3NpdGlvbiB0byB0aGUgbmV4dCBsaW5lIGJlZ2luIG9mZnNldAor
CQkJaW50IG5leHRMaW5lT2Zmc2V0ID0gbmV4dE9mZnNldDsgLy8gb2Zmc2V0IGF0IHRoZSBzdGFy
dCBvZiBuZXh0IGxpbmUuIE5leHQgaW1wb3J0IG1heSBub3Qgc3RhcnQgaGVyZQogCQkJaWYgKGN1
cnJFbmRMaW5lIDwgbmV4dE9mZnNldExpbmUpIHsKIAkJCQljdXJyRW5kTGluZSsrOwotCQkJCW5l
eHRPZmZzZXQ9IHJvb3QuZ2V0UG9zaXRpb24oY3VyckVuZExpbmUsIDApOworCQkJCW5leHRMaW5l
T2Zmc2V0ID0gcm9vdC5nZXRQb3NpdGlvbihjdXJyRW5kTGluZSwgMCk7IAorCQkJCS8vIFRoZXJl
IG1heSBiZSBzb21lIGxlYWRpbmcgY29tbWVudHMgKG9yIGxpbmUgZGVsaW1pdGVycykgYmVmb3Jl
IHRoZSBuZXh0IGltcG9ydC4gVGhlIHN0YXJ0IG9mIHRob3NlIGNvbW1lbnRzCisJCQkJLy8gaXMg
bm90IHRoZSByZWFsIHN0YXJ0IG9mZnNldCBvZiB0aGUgbmV4dCBpbXBvcnQuIFNvIGRvbid0IGNo
YW5nZSBuZXh0T2Zmc2V0CiAJCQl9CiAJCQkvLyByZXRyaWV2ZSBwcmVjZWRpbmcgYW5kIHRyYWls
aW5nIGNvbW1lbnRzIGlmIGFueQogCQkJSVJlZ2lvbiByYW5nZUJlZm9yZSA9IG51bGw7CiAJCQlJ
UmVnaW9uIHJhbmdlQWZ0ZXIgPSBudWxsOwotCQkJaWYgKG5leHRPZmZzZXQgIT0gZXh0ZW5kZWRT
dGFydCkgewotCQkJCXJhbmdlQmVmb3JlID0gbmV3IFJlZ2lvbihleHRlbmRlZFN0YXJ0LCBleHRl
bmRlZFN0YXJ0IC0gbmV4dE9mZnNldCArIDEpOworCQkJCisJCQlpZiAoY3Vyck9mZnNldCA+IGV4
dGVuZGVkU3RhcnQpIHsKKwkJCQlyYW5nZUJlZm9yZSA9IG5ldyBSZWdpb24oZXh0ZW5kZWRTdGFy
dCwgY3Vyck9mZnNldCAtIGV4dGVuZGVkU3RhcnQpOwogCQkJfQotCQkJaWYgKG5leHRMZW5ndGgg
IT0gZXh0ZW5kZWRMZW5ndGgpIHsKLQkJCQlyYW5nZUFmdGVyID0gbmV3IFJlZ2lvbihuZXh0T2Zm
c2V0ICsgbmV4dExlbmd0aCwgZXh0ZW5kZWRMZW5ndGggLSBuZXh0TGVuZ3RoICsgMSk7CisJCQlp
bnQgY3VyckxlbiA9IGN1cnIuZ2V0TGVuZ3RoKCk7CisJCQlpZiAoY3VyckxlbiA8IGV4dGVuZGVk
TGVuZ3RoIC0gKGN1cnJPZmZzZXQgLSBleHRlbmRlZFN0YXJ0KSkgeworCQkJCWludCBjdXJyRW5k
T2Zmc2V0ID0gY3Vyck9mZnNldCArIGN1cnJMZW47CisJCQkJaW50IHJhbmdlQmVmb3JlTGVuID0g
cmFuZ2VCZWZvcmUgIT0gbnVsbD8gcmFuZ2VCZWZvcmUuZ2V0TGVuZ3RoKCkgOiAwOworCQkJCXJh
bmdlQWZ0ZXIgPSBuZXcgUmVnaW9uKGN1cnJFbmRPZmZzZXQsIGV4dGVuZGVkTGVuZ3RoIC0gcmFu
Z2VCZWZvcmVMZW4gLSBjdXJyTGVuKTsKIAkJCX0KIAkJCWN1cnJQYWNrYWdlLmFkZCgKIAkJCQkJ
bmV3IEltcG9ydERlY2xFbnRyeSgKIAkJCQkJCQlwYWNrTmFtZS5sZW5ndGgoKSwgCiAJCQkJCQkJ
bmFtZSwgCiAJCQkJCQkJaXNTdGF0aWMsIAotCQkJCQkJCW5ldyBSZWdpb24oY3Vyck9mZnNldCwg
bmV4dE9mZnNldCAtIGN1cnJPZmZzZXQpLAorCQkJCQkJCW5ldyBSZWdpb24oY3Vyck9mZnNldCwg
bmV4dExpbmVPZmZzZXQgLSBjdXJyT2Zmc2V0KSwgLy8gc2hvdWxkIG5vdCBpbmNsdWRlIGxlYWRp
bmcgY29tbWVudHMgb2YgbmV4dCBpbXBvcnQsIGxpbmUgZGVsaW1pdGVycywgZXRjLgogCQkJCQkJ
CXJhbmdlQmVmb3JlLAogCQkJCQkJCXJhbmdlQWZ0ZXIpKTsKIAkJCWN1cnJPZmZzZXQ9IG5leHRP
ZmZzZXQ7CkBAIC0zMDQsNyArMzE1LDcgQEAKIAogCQkJCWN1cnJQYWNrYWdlPSBuZXcgUGFja2Fn
ZUVudHJ5KCk7IC8vIGNyZWF0ZSBhIGNvbW1lbnQgcGFja2FnZSBlbnRyeSBmb3IgdGhpcwogCQkJ
CXRoaXMucGFja2FnZUVudHJpZXMuYWRkKGN1cnJQYWNrYWdlKTsKLQkJCQljdXJyUGFja2FnZS5h
ZGQobmV3IEltcG9ydERlY2xFbnRyeShwYWNrTmFtZS5sZW5ndGgoKSwgbnVsbCwgZmFsc2UsIG5l
dyBSZWdpb24oY3Vyck9mZnNldCwgbmV4dE9mZnNldCAtIGN1cnJPZmZzZXQpKSk7CisJCQkJY3Vy
clBhY2thZ2UuYWRkKG5ldyBJbXBvcnREZWNsRW50cnkocGFja05hbWUubGVuZ3RoKCksIG51bGws
IGZhbHNlLCBuZXcgUmVnaW9uKG5leHRMaW5lT2Zmc2V0LCBuZXh0T2Zmc2V0IC0gbmV4dExpbmVP
ZmZzZXQpKSk7CiAKIAkJCQljdXJyT2Zmc2V0PSBuZXh0T2Zmc2V0OwogCQkJfQpAQCAtMzE4LDgg
KzMyOSwyMyBAQAogCQkJY3VyclBhY2thZ2U9IG5ldyBQYWNrYWdlRW50cnkocGFja05hbWUsIG51
bGwsIGlzU3RhdGljKTsKIAkJCXRoaXMucGFja2FnZUVudHJpZXMuYWRkKGN1cnJQYWNrYWdlKTsK
IAkJfQotCQlpbnQgbGVuZ3RoPSB0aGlzLnJlcGxhY2VSYW5nZS5nZXRPZmZzZXQoKSArIHRoaXMu
cmVwbGFjZVJhbmdlLmdldExlbmd0aCgpIC0gY3Vyci5nZXRTdGFydFBvc2l0aW9uKCk7Ci0JCWN1
cnJQYWNrYWdlLmFkZChuZXcgSW1wb3J0RGVjbEVudHJ5KHBhY2tOYW1lLmxlbmd0aCgpLCBuYW1l
LCBpc1N0YXRpYywgbmV3IFJlZ2lvbihjdXJyLmdldFN0YXJ0UG9zaXRpb24oKSwgbGVuZ3RoKSkp
OworCQlpbnQgY3VyclN0YXJ0T2Zmc2V0ID0gY3Vyci5nZXRTdGFydFBvc2l0aW9uKCk7CisJCWlu
dCBjdXJyTGVuID0gY3Vyci5nZXRMZW5ndGgoKTsKKwkJaW50IGV4dGVuZGVkU3RhcnRPZmZzZXQg
PSByb290LmdldEV4dGVuZGVkU3RhcnRQb3NpdGlvbihjdXJyKTsKKwkJSVJlZ2lvbiBsZWFkaW5n
Q29tbWVudHMgPSBudWxsOworCQlJUmVnaW9uIGFsbFRyYWlsaW5nQ29tbWVudHMgPSBudWxsOwor
CQkKKwkJaWYgKGN1cnJTdGFydE9mZnNldCA+IGV4dGVuZGVkU3RhcnRPZmZzZXQpIHsKKwkJCWxl
YWRpbmdDb21tZW50cyA9IG5ldyBSZWdpb24oZXh0ZW5kZWRTdGFydE9mZnNldCwgY3Vyck9mZnNl
dCAtIGV4dGVuZGVkU3RhcnRPZmZzZXQpOworCQl9CisJCWludCBsZW5ndGg9IHRoaXMucmVwbGFj
ZVJhbmdlLmdldE9mZnNldCgpICsgdGhpcy5yZXBsYWNlUmFuZ2UuZ2V0TGVuZ3RoKCkgLSBjdXJy
U3RhcnRPZmZzZXQ7CisJCWludCBleHRlbmRlZExlbmd0aCA9IHJvb3QuZ2V0RXh0ZW5kZWRMZW5n
dGgoY3Vycik7CisJCWlmIChjdXJyTGVuIDwgZXh0ZW5kZWRMZW5ndGggLSAoY3Vyck9mZnNldCAt
IGV4dGVuZGVkU3RhcnRPZmZzZXQpKSB7CisJCQlpbnQgY3VyckVuZE9mZnNldCA9IGN1cnJPZmZz
ZXQgKyBjdXJyTGVuOworCQkJaW50IGxlYWRpbmdDb21tZW50c0xlbiA9IGxlYWRpbmdDb21tZW50
cyAhPSBudWxsPyBsZWFkaW5nQ29tbWVudHMuZ2V0TGVuZ3RoKCkgOiAwOworCQkJYWxsVHJhaWxp
bmdDb21tZW50cyA9IG5ldyBSZWdpb24oY3VyckVuZE9mZnNldCwgZXh0ZW5kZWRMZW5ndGggLSBs
ZWFkaW5nQ29tbWVudHNMZW4gLSBjdXJyTGVuKTsKKwkJfQorCQljdXJyUGFja2FnZS5hZGQobmV3
IEltcG9ydERlY2xFbnRyeShwYWNrTmFtZS5sZW5ndGgoKSwgbmFtZSwgaXNTdGF0aWMsIG5ldyBS
ZWdpb24oY3Vyci5nZXRTdGFydFBvc2l0aW9uKCksIGxlbmd0aCksIGxlYWRpbmdDb21tZW50cywg
YWxsVHJhaWxpbmdDb21tZW50cykpOwogCX0KIAogCXByaXZhdGUgSVJlZ2lvbltdIHJldHJpZXZl
RXhpc3RpbmdDb21tZW50c0luSW1wb3J0cyhDb21waWxhdGlvblVuaXQgcm9vdCkgewpAQCAtNzY2
LDYgKzc5MiwxNCBAQAogCQkJCQkJfQogCQkJCQl9IGVsc2UgaWYgKCFkb1N0YXJJbXBvcnQgfHwg
Y3VyckRlY2wuaXNPbkRlbWFuZCgpIHx8IG9uRGVtYW5kQ29uZmxpY3RzID09IG51bGwgfHwgb25E
ZW1hbmRDb25mbGljdHMuY29udGFpbnMoY3VyckRlY2wuZ2V0U2ltcGxlTmFtZSgpKSkgewogCQkJ
CQkJaW50IG9mZnNldD0gcmVnaW9uLmdldE9mZnNldCgpOworCQkJCQkJSVJlZ2lvbiByYW5nZUJl
Zm9yZSA9IGN1cnJEZWNsLmdldFByZWNlZGluZ0NvbW1lbnRSYW5nZSgpOworCQkJCQkJaWYgKHJh
bmdlQmVmb3JlICE9IG51bGwgJiYgY3VyclBvcyA+IHJhbmdlQmVmb3JlLmdldE9mZnNldCgpKSB7
CisJCQkJCQkJLy8gbW92ZWQgYWhlYWQgb2YgdGhlIGxlYWRpbmcgY29tbWVudHMsIGJyaW5nIHRo
ZSBjdXJyUG9zIGJhY2sKKwkJCQkJCQljdXJyUG9zID0gcmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCk7
CisJCQkJCQl9CisJCQkJCQlpZiAocmFuZ2VCZWZvcmUgIT0gbnVsbCkgeworCQkJCQkJCXN0cmlu
Z3NUb0luc2VydC5hZGQoYnVmZmVyLmdldFRleHQocmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCksIHJh
bmdlQmVmb3JlLmdldExlbmd0aCgpKSk7CisJCQkJCQl9CiAJCQkJCQlyZW1vdmVBbmRJbnNlcnRO
ZXcoYnVmZmVyLCBjdXJyUG9zLCBvZmZzZXQsIHN0cmluZ3NUb0luc2VydCwgcmVzRWRpdCk7CiAJ
CQkJCQlzdHJpbmdzVG9JbnNlcnQuY2xlYXIoKTsKIAkJCQkJCWN1cnJQb3M9IG9mZnNldCArIHJl
Z2lvbi5nZXRMZW5ndGgoKTsKQEAgLTc3Myw2ICs4MDcsMTAgQEAKIAkJCQkJCVN0cmluZyBzaW1w
bGVOYW1lID0gY3VyckRlY2wuZ2V0VHlwZVF1YWxpZmllZE5hbWUoKTsKIAkJCQkJCWlmIChzaW1w
bGVOYW1lLmluZGV4T2YoJy4nKSAhPSAtMSkgewogCQkJCQkJCUlSZWdpb24gcmFuZ2VCZWZvcmUg
PSBjdXJyRGVjbC5nZXRQcmVjZWRpbmdDb21tZW50UmFuZ2UoKTsKKwkJCQkJCQlpZiAocmFuZ2VC
ZWZvcmUgIT0gbnVsbCAmJiBjdXJyUG9zID4gcmFuZ2VCZWZvcmUuZ2V0T2Zmc2V0KCkpIHsKKwkJ
CQkJCQkJLy8gbW92ZWQgYWhlYWQgb2YgdGhlIGxlYWRpbmcgY29tbWVudHMsIGJyaW5nIHRoZSBj
dXJyUG9zIGJhY2sKKwkJCQkJCQkJY3VyclBvcyA9IHJhbmdlQmVmb3JlLmdldE9mZnNldCgpOwor
CQkJCQkJCX0KIAkJCQkJCQlpZiAocmFuZ2VCZWZvcmUgIT0gbnVsbCkgewogCQkJCQkJCQlzdHJp
bmdzVG9JbnNlcnQuYWRkKGJ1ZmZlci5nZXRUZXh0KHJhbmdlQmVmb3JlLmdldE9mZnNldCgpLCBy
YW5nZUJlZm9yZS5nZXRMZW5ndGgoKSkpOwogCQkJCQkJCX0=
</data>
<flag name="review"
          id="50472"
          type_id="6"
          status="+"
          setter="daniel_megert"
    />
          </attachment>
      

    </bug>

</bugzilla>