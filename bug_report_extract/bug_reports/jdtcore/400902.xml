<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>400902</bug_id>
          
          <creation_ts>2013-02-15 05:04:00 -0500</creation_ts>
          <short_desc>[1.8][search] Search engine fails to annotation matches in extends/implements clauses.</short_desc>
          <delta_ts>2013-02-27 12:06:03 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>400899</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Manoj Palat Away Until May 11 2015">manpalat</assigned_to>
          <cc>manpalat</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="55859"
          type_id="1"
          status="+"
          setter="srikanth_sankaran"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2217254</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-02-15 05:04:22 -0500</bug_when>
    <thetext>BETA_JAVA8:

// ---------

import java.lang.annotation.ElementType;
import java.lang.annotation.Target;
import java.io.Serializable;

public class X extends @Marker Object implements @Marker Serializable {
	int x = (@Marker int) 0;
}

@Target(ElementType.TYPE_USE)	
@interface Marker {
	
}
// ------------------------


Searching for references to Marker brings up only one result - the one
inside the cast. The other two are missing.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2219727</commentid>
    <comment_count>1</comment_count>
      <attachid>227378</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-02-20 21:06:14 -0500</bug_when>
    <thetext>Created attachment 227378
Work-In-Progress Patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2222618</commentid>
    <comment_count>2</comment_count>
      <attachid>227670</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-02-27 09:34:47 -0500</bug_when>
    <thetext>Created attachment 227670
Proposed Patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2222620</commentid>
    <comment_count>3</comment_count>
      <attachid>227671</attachid>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-02-27 09:39:54 -0500</bug_when>
    <thetext>Created attachment 227671
Proposed Patch

corrected patch (comments removed)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2223242</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-02-27 12:04:06 -0500</bug_when>
    <thetext>Fix looks good. I made a few changes:

(1) JCP disclaimer is missing in both files - fixed.
(2) I moved the fix to down below - this eliminates the need for various
null checks
(3) We should always extract array length computation outside of the for
loop&apos;s condition as it is invariant.
(4) Since the for loop&apos;s index variable&apos;s scope is limited to the for loop,
we can reuse the same variable i as the index in the second loop - i as the
index variable is lot less distracting, the moment we see j, it conjures up
the notion of a nested loop which is not the case here.
(5) When fixing a method, it helps to just eyeball the neighborhood of the
change - We are missing reporting of annotations on type variables of a class.
I&apos;ll raise a separate bug for that.

Fix and tests released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=4005c370e6cbaf5fe897eaa7c9410e92ff25148d

Thanks Manoj.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2223246</commentid>
    <comment_count>5</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-02-27 12:06:03 -0500</bug_when>
    <thetext>(In reply to comment #4)
&gt; (5) When fixing a method, it helps to just eyeball the neighborhood of the
&gt; change - We are missing reporting of annotations on type variables of a
&gt; class.
&gt; I&apos;ll raise a separate bug for that.

This is already there: https://bugs.eclipse.org/bugs/show_bug.cgi?id=400919</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>227378</attachid>
            <date>2013-02-20 21:06:00 -0500</date>
            <delta_ts>2013-02-27 09:34:47 -0500</delta_ts>
            <desc>Work-In-Progress Patch</desc>
            <filename>Bug-400902--18search-Search-engine-fails-to-annotati.wip.patch</filename>
            <type>text/plain</type>
            <size>1998</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvc2VhcmNo
L21hdGNoaW5nL01hdGNoTG9jYXRvci5qYXZhCmluZGV4IDU1ODVhZTkuLjcxNWUwNDEgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29yZS9zZWFyY2gvbWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJjaC9t
YXRjaGluZy9NYXRjaExvY2F0b3IuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTIgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFu
aWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0yNjY1LDYgKzI2
NjUsMjYgQEAKIAkJcmVwb3J0TWF0Y2hpbmcodHlwZS5hbm5vdGF0aW9ucywgZW5jbG9zaW5nRWxl
bWVudCwgbnVsbCwgdHlwZS5iaW5kaW5nLCBub2RlU2V0LCBtYXRjaGVkQ2xhc3NDb250YWluZXIs
IGVuY2xvc2VzRWxlbWVudCk7CiAJfQogCisJLy8gYW5ub3RhdGlvbnMgb24gc3VwZXJjbGFzcwor
CVR5cGVSZWZlcmVuY2UgdHlwZVJlZmVyZW5jZSAgPSB0eXBlLnN1cGVyY2xhc3M7CisJaWYgKHR5
cGVSZWZlcmVuY2UgIT0gbnVsbCAmJiAgdHlwZVJlZmVyZW5jZS5hbm5vdGF0aW9ucyAhPSAgbnVs
bCkgeworCQlmb3IgKGludCBpID0gMDsgaSA8IHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnMubGVu
Z3RoOyBpKyspIHsKKwkJCXJlcG9ydE1hdGNoaW5nKHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnNb
aV0sIGVuY2xvc2luZ0VsZW1lbnQsIG51bGwsIHR5cGUuYmluZGluZywgbm9kZVNldCwgbWF0Y2hl
ZENsYXNzQ29udGFpbmVyLCBlbmNsb3Nlc0VsZW1lbnQpOwkKKwkJfQorCX0KKwkKKwkvLyBhbm5v
dGF0aW9ucyBvbiBzdXBlcmludGVyZmFjZXMKKwlpZiAodHlwZS5zdXBlckludGVyZmFjZXMgIT0g
bnVsbCkgeworCQlmb3IgKGludCBqID0gMDsgaiA8IHR5cGUuc3VwZXJJbnRlcmZhY2VzLmxlbmd0
aDsgaisrKSB7CisJCQl0eXBlUmVmZXJlbmNlICA9IHR5cGUuc3VwZXJJbnRlcmZhY2VzW2pdOwor
CQkJaWYgKHR5cGVSZWZlcmVuY2UgIT0gbnVsbCAmJiAgdHlwZVJlZmVyZW5jZS5hbm5vdGF0aW9u
cyAhPSAgbnVsbCkgeworCQkJCWZvciAoaW50IGkgPSAwOyBpIDwgdHlwZVJlZmVyZW5jZS5hbm5v
dGF0aW9ucy5sZW5ndGg7IGkrKykgeworCQkJCQlyZXBvcnRNYXRjaGluZyh0eXBlUmVmZXJlbmNl
LmFubm90YXRpb25zW2ldLCBlbmNsb3NpbmdFbGVtZW50LCBudWxsLCB0eXBlLmJpbmRpbmcsIG5v
ZGVTZXQsIG1hdGNoZWRDbGFzc0NvbnRhaW5lciwgZW5jbG9zZXNFbGVtZW50KTsJCisJCQkJfQor
CQkJfQkJCQorCQl9CisJfQorCQogCS8vIHJlcG9ydCByZWZlcmVuY2VzIGluIGphdmFkb2MKIAlp
ZiAodHlwZS5qYXZhZG9jICE9IG51bGwpIHsKIAkJQVNUTm9kZVtdIG5vZGVzID0gbm9kZVNldC5t
YXRjaGluZ05vZGVzKHR5cGUuZGVjbGFyYXRpb25Tb3VyY2VTdGFydCwgdHlwZS5zb3VyY2VTdGFy
dCk7
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>227670</attachid>
            <date>2013-02-27 09:34:00 -0500</date>
            <delta_ts>2013-02-27 09:39:54 -0500</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-400902--18search-Search-engine-fails-to-.patch</filename>
            <type>text/plain</type>
            <size>4683</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvSmF2YVNlYXJjaEJ1Z3NUZXN0cy5qYXZhCmluZGV4IDRhYjk2ZDIuLmRkODg0MGMg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8q
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTIgSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUg
dW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdo
aWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBA
IC0xMzc0Myw1ICsxMzc0Myw0NiBAQAogCQkKIAl9CiB9CisJLyoqCisJICogQGJ1ZyA0MDI5MDI6
ICBbMS44XVtzZWFyY2hdIFNlYXJjaCBlbmdpbmUgZmFpbHMgdG8gYW5ub3RhdGlvbiBtYXRjaGVz
IGluIGV4dGVuZHMvaW1wbGVtZW50cyBjbGF1c2VzCisJICogQHRlc3QgRW5zdXJlcyB0aGF0IHRo
ZSBzZWFyY2ggZm9yIHR5cGUgdXNlIGFubm90YXRpb24gZmluZHMgbWF0Y2hlcyAKKwkgKiBpbiBl
eHRlbmRzIGFuZCBpbXBsZW1lbnRzIGNsYXVzZXMuIAorCSAqCQkKKwkgKiBAc2VlICJodHRwczov
L2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDAyOTAyIgorCSAqLworcHVi
bGljIHZvaWQgdGVzdEJ1ZzQwMDkwMmEoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdGhpcy53
b3JraW5nQ29waWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJdGhpcy53b3JraW5nQ29w
aWVzWzBdID0gZ2V0V29ya2luZ0NvcHkoIi9KYXZhU2VhcmNoQnVncy9zcmMvYjQwMDkwMi9YLmph
dmEiLAorCQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZTtcbiIgKwor
CQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5UYXJnZXQ7XG4iICsKKwkJCSJpbXBvcnQg
amF2YS5pby5TZXJpYWxpemFibGU7XG4iICsKKwkJCSJATWFya2VyMSBATWFya2VyIHB1YmxpYyBj
bGFzcyBYIGV4dGVuZHMgQE1hcmtlciBPYmplY3QgaW1wbGVtZW50cyBATWFya2VyIFNlcmlhbGl6
YWJsZSB7XG4iICsKKwkJCSIJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9u
VUlEID0gMUw7XG4iICsKKwkJCSIJaW50IHggPSAoQE1hcmtlciBpbnQpIDA7XG4iICsKKwkJCSIg
CUBNYXJrZXIgcHVibGljIGNsYXNzIFkge31cbiIgKworCQkJIn1cbiIgKworCQkJIkBUYXJnZXQo
RWxlbWVudFR5cGUuVFlQRV9VU0UpXG4iICsJCisJCQkiQGludGVyZmFjZSBNYXJrZXIge31cbiIg
KworCQkJIkBUYXJnZXQoRWxlbWVudFR5cGUuVFlQRSlcbiIgKwkKKwkJCSJAaW50ZXJmYWNlIE1h
cmtlcjEge30iCisJCSk7CisJU2VhcmNoUGF0dGVybiBwYXR0ZXJuID0gU2VhcmNoUGF0dGVybi5j
cmVhdGVQYXR0ZXJuKAorCQkJIk1hcmtlciIsCisJCQlBTk5PVEFUSU9OX1RZUEUsCisJCQlSRUZF
UkVOQ0VTLAorCQkJRVhBQ1RfUlVMRSk7CisJbmV3IFNlYXJjaEVuZ2luZSh0aGlzLndvcmtpbmdD
b3BpZXMpLnNlYXJjaChwYXR0ZXJuLAorCW5ldyBTZWFyY2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hF
bmdpbmUuZ2V0RGVmYXVsdFNlYXJjaFBhcnRpY2lwYW50KCl9LAorCWdldEphdmFTZWFyY2hXb3Jr
aW5nQ29waWVzU2NvcGUoKSwKKwl0aGlzLnJlc3VsdENvbGxlY3RvciwKKwludWxsKTsKKwlhc3Nl
cnRTZWFyY2hSZXN1bHRzKAorCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlggW01hcmtl
cl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlggW01h
cmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlgg
W01hcmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAy
LlgueCBbTWFya2VyXSBFWEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0MDA5MDIvWC5qYXZhIGI0
MDA5MDIuWCRZIFtNYXJrZXJdIEVYQUNUX01BVENIIiAKKwkpOwkKK30KIC8vIEFkZCBuZXcgdGVz
dHMgaW4gSmF2YVNlYXJjaEJ1Z3NUZXN0czIKIH0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxl
CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01hdGNoTG9jYXRvci5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJj
aC9tYXRjaGluZy9NYXRjaExvY2F0b3IuamF2YQppbmRleCA1NTg1YWU5Li5lZmYwNTNkIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01hdGNoTG9jYXRvci5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9zZWFyY2gv
bWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEyIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjY2NSw3ICsy
NjY1LDI3IEBACiAJCXJlcG9ydE1hdGNoaW5nKHR5cGUuYW5ub3RhdGlvbnMsIGVuY2xvc2luZ0Vs
ZW1lbnQsIG51bGwsIHR5cGUuYmluZGluZywgbm9kZVNldCwgbWF0Y2hlZENsYXNzQ29udGFpbmVy
LCBlbmNsb3Nlc0VsZW1lbnQpOwogCX0KIAotCS8vIHJlcG9ydCByZWZlcmVuY2VzIGluIGphdmFk
b2MKKy8qCS8vIGFubm90YXRpb25zIG9uIHN1cGVyY2xhc3MKKwlUeXBlUmVmZXJlbmNlIHR5cGVS
ZWZlcmVuY2UgID0gdHlwZS5zdXBlcmNsYXNzOworCWlmICh0eXBlUmVmZXJlbmNlICE9IG51bGwg
JiYgIHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnMgIT0gIG51bGwpIHsKKwkJZm9yIChpbnQgaSA9
IDA7IGkgPCB0eXBlUmVmZXJlbmNlLmFubm90YXRpb25zLmxlbmd0aDsgaSsrKSB7CisJCQlyZXBv
cnRNYXRjaGluZyh0eXBlUmVmZXJlbmNlLmFubm90YXRpb25zW2ldLCBlbmNsb3NpbmdFbGVtZW50
LCBudWxsLCB0eXBlLmJpbmRpbmcsIG5vZGVTZXQsIG1hdGNoZWRDbGFzc0NvbnRhaW5lciwgZW5j
bG9zZXNFbGVtZW50KTsJCisJCX0KKwl9CisJCisJLy8gYW5ub3RhdGlvbnMgb24gc3VwZXJpbnRl
cmZhY2VzCisJaWYgKHR5cGUuc3VwZXJJbnRlcmZhY2VzICE9IG51bGwpIHsKKwkJZm9yIChpbnQg
aiA9IDA7IGogPCB0eXBlLnN1cGVySW50ZXJmYWNlcy5sZW5ndGg7IGorKykgeworCQkJdHlwZVJl
ZmVyZW5jZSAgPSB0eXBlLnN1cGVySW50ZXJmYWNlc1tqXTsKKwkJCWlmICh0eXBlUmVmZXJlbmNl
ICE9IG51bGwgJiYgIHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnMgIT0gIG51bGwpIHsKKwkJCQlm
b3IgKGludCBpID0gMDsgaSA8IHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnMubGVuZ3RoOyBpKysp
IHsKKwkJCQkJcmVwb3J0TWF0Y2hpbmcodHlwZVJlZmVyZW5jZS5hbm5vdGF0aW9uc1tpXSwgZW5j
bG9zaW5nRWxlbWVudCwgbnVsbCwgdHlwZS5iaW5kaW5nLCBub2RlU2V0LCBtYXRjaGVkQ2xhc3ND
b250YWluZXIsIGVuY2xvc2VzRWxlbWVudCk7CQorCQkJCX0KKwkJCX0JCQkKKwkJfQorCX0KKwkK
KyovCS8vIHJlcG9ydCByZWZlcmVuY2VzIGluIGphdmFkb2MKIAlpZiAodHlwZS5qYXZhZG9jICE9
IG51bGwpIHsKIAkJQVNUTm9kZVtdIG5vZGVzID0gbm9kZVNldC5tYXRjaGluZ05vZGVzKHR5cGUu
ZGVjbGFyYXRpb25Tb3VyY2VTdGFydCwgdHlwZS5zb3VyY2VTdGFydCk7CiAJCWlmIChub2RlcyAh
PSBudWxsKSB7
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>227671</attachid>
            <date>2013-02-27 09:39:00 -0500</date>
            <delta_ts>2013-02-27 09:39:54 -0500</delta_ts>
            <desc>Proposed Patch</desc>
            <filename>Fix-for-Bug-400902--18search-Search-engine-fails-to-.patch</filename>
            <type>text/plain</type>
            <size>4621</size>
            <attacher name="Manoj Palat Away Until May 11 2015">manpalat</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvbW9kZWwvSmF2YVNlYXJjaEJ1Z3NUZXN0cy5qYXZhCmluZGV4IDRhYjk2ZDIuLmRkODg0MGMg
MTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9tb2RlbC9KYXZhU2VhcmNoQnVnc1Rlc3RzLmphdmEKKysrIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL21vZGVsL0phdmFTZWFyY2hCdWdzVGVzdHMuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8q
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTIgSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUg
dW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdo
aWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBA
IC0xMzc0Myw1ICsxMzc0Myw0NiBAQAogCQkKIAl9CiB9CisJLyoqCisJICogQGJ1ZyA0MDI5MDI6
ICBbMS44XVtzZWFyY2hdIFNlYXJjaCBlbmdpbmUgZmFpbHMgdG8gYW5ub3RhdGlvbiBtYXRjaGVz
IGluIGV4dGVuZHMvaW1wbGVtZW50cyBjbGF1c2VzCisJICogQHRlc3QgRW5zdXJlcyB0aGF0IHRo
ZSBzZWFyY2ggZm9yIHR5cGUgdXNlIGFubm90YXRpb24gZmluZHMgbWF0Y2hlcyAKKwkgKiBpbiBl
eHRlbmRzIGFuZCBpbXBsZW1lbnRzIGNsYXVzZXMuIAorCSAqCQkKKwkgKiBAc2VlICJodHRwczov
L2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9NDAyOTAyIgorCSAqLworcHVi
bGljIHZvaWQgdGVzdEJ1ZzQwMDkwMmEoKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7CisJdGhpcy53
b3JraW5nQ29waWVzID0gbmV3IElDb21waWxhdGlvblVuaXRbMV07CisJdGhpcy53b3JraW5nQ29w
aWVzWzBdID0gZ2V0V29ya2luZ0NvcHkoIi9KYXZhU2VhcmNoQnVncy9zcmMvYjQwMDkwMi9YLmph
dmEiLAorCQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5FbGVtZW50VHlwZTtcbiIgKwor
CQkJImltcG9ydCBqYXZhLmxhbmcuYW5ub3RhdGlvbi5UYXJnZXQ7XG4iICsKKwkJCSJpbXBvcnQg
amF2YS5pby5TZXJpYWxpemFibGU7XG4iICsKKwkJCSJATWFya2VyMSBATWFya2VyIHB1YmxpYyBj
bGFzcyBYIGV4dGVuZHMgQE1hcmtlciBPYmplY3QgaW1wbGVtZW50cyBATWFya2VyIFNlcmlhbGl6
YWJsZSB7XG4iICsKKwkJCSIJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9u
VUlEID0gMUw7XG4iICsKKwkJCSIJaW50IHggPSAoQE1hcmtlciBpbnQpIDA7XG4iICsKKwkJCSIg
CUBNYXJrZXIgcHVibGljIGNsYXNzIFkge31cbiIgKworCQkJIn1cbiIgKworCQkJIkBUYXJnZXQo
RWxlbWVudFR5cGUuVFlQRV9VU0UpXG4iICsJCisJCQkiQGludGVyZmFjZSBNYXJrZXIge31cbiIg
KworCQkJIkBUYXJnZXQoRWxlbWVudFR5cGUuVFlQRSlcbiIgKwkKKwkJCSJAaW50ZXJmYWNlIE1h
cmtlcjEge30iCisJCSk7CisJU2VhcmNoUGF0dGVybiBwYXR0ZXJuID0gU2VhcmNoUGF0dGVybi5j
cmVhdGVQYXR0ZXJuKAorCQkJIk1hcmtlciIsCisJCQlBTk5PVEFUSU9OX1RZUEUsCisJCQlSRUZF
UkVOQ0VTLAorCQkJRVhBQ1RfUlVMRSk7CisJbmV3IFNlYXJjaEVuZ2luZSh0aGlzLndvcmtpbmdD
b3BpZXMpLnNlYXJjaChwYXR0ZXJuLAorCW5ldyBTZWFyY2hQYXJ0aWNpcGFudFtdIHtTZWFyY2hF
bmdpbmUuZ2V0RGVmYXVsdFNlYXJjaFBhcnRpY2lwYW50KCl9LAorCWdldEphdmFTZWFyY2hXb3Jr
aW5nQ29waWVzU2NvcGUoKSwKKwl0aGlzLnJlc3VsdENvbGxlY3RvciwKKwludWxsKTsKKwlhc3Nl
cnRTZWFyY2hSZXN1bHRzKAorCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlggW01hcmtl
cl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlggW01h
cmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAyLlgg
W01hcmtlcl0gRVhBQ1RfTUFUQ0hcbiIgKworCQkJInNyYy9iNDAwOTAyL1guamF2YSBiNDAwOTAy
LlgueCBbTWFya2VyXSBFWEFDVF9NQVRDSFxuIiArCisJCQkic3JjL2I0MDA5MDIvWC5qYXZhIGI0
MDA5MDIuWCRZIFtNYXJrZXJdIEVYQUNUX01BVENIIiAKKwkpOwkKK30KIC8vIEFkZCBuZXcgdGVz
dHMgaW4gSmF2YVNlYXJjaEJ1Z3NUZXN0czIKIH0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxl
CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01hdGNoTG9jYXRvci5qYXZhIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvc2VhcmNoL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3NlYXJj
aC9tYXRjaGluZy9NYXRjaExvY2F0b3IuamF2YQppbmRleCA1NTg1YWU5Li43MTVlMDQxIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9zZWFyY2gvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvc2VhcmNoL21hdGNoaW5nL01hdGNoTG9jYXRvci5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL3NlYXJjaC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS9zZWFyY2gv
bWF0Y2hpbmcvTWF0Y2hMb2NhdG9yLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEyIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjY2NSw2ICsy
NjY1LDI2IEBACiAJCXJlcG9ydE1hdGNoaW5nKHR5cGUuYW5ub3RhdGlvbnMsIGVuY2xvc2luZ0Vs
ZW1lbnQsIG51bGwsIHR5cGUuYmluZGluZywgbm9kZVNldCwgbWF0Y2hlZENsYXNzQ29udGFpbmVy
LCBlbmNsb3Nlc0VsZW1lbnQpOwogCX0KIAorCS8vIGFubm90YXRpb25zIG9uIHN1cGVyY2xhc3MK
KwlUeXBlUmVmZXJlbmNlIHR5cGVSZWZlcmVuY2UgID0gdHlwZS5zdXBlcmNsYXNzOworCWlmICh0
eXBlUmVmZXJlbmNlICE9IG51bGwgJiYgIHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlvbnMgIT0gIG51
bGwpIHsKKwkJZm9yIChpbnQgaSA9IDA7IGkgPCB0eXBlUmVmZXJlbmNlLmFubm90YXRpb25zLmxl
bmd0aDsgaSsrKSB7CisJCQlyZXBvcnRNYXRjaGluZyh0eXBlUmVmZXJlbmNlLmFubm90YXRpb25z
W2ldLCBlbmNsb3NpbmdFbGVtZW50LCBudWxsLCB0eXBlLmJpbmRpbmcsIG5vZGVTZXQsIG1hdGNo
ZWRDbGFzc0NvbnRhaW5lciwgZW5jbG9zZXNFbGVtZW50KTsJCisJCX0KKwl9CisJCisJLy8gYW5u
b3RhdGlvbnMgb24gc3VwZXJpbnRlcmZhY2VzCisJaWYgKHR5cGUuc3VwZXJJbnRlcmZhY2VzICE9
IG51bGwpIHsKKwkJZm9yIChpbnQgaiA9IDA7IGogPCB0eXBlLnN1cGVySW50ZXJmYWNlcy5sZW5n
dGg7IGorKykgeworCQkJdHlwZVJlZmVyZW5jZSAgPSB0eXBlLnN1cGVySW50ZXJmYWNlc1tqXTsK
KwkJCWlmICh0eXBlUmVmZXJlbmNlICE9IG51bGwgJiYgIHR5cGVSZWZlcmVuY2UuYW5ub3RhdGlv
bnMgIT0gIG51bGwpIHsKKwkJCQlmb3IgKGludCBpID0gMDsgaSA8IHR5cGVSZWZlcmVuY2UuYW5u
b3RhdGlvbnMubGVuZ3RoOyBpKyspIHsKKwkJCQkJcmVwb3J0TWF0Y2hpbmcodHlwZVJlZmVyZW5j
ZS5hbm5vdGF0aW9uc1tpXSwgZW5jbG9zaW5nRWxlbWVudCwgbnVsbCwgdHlwZS5iaW5kaW5nLCBu
b2RlU2V0LCBtYXRjaGVkQ2xhc3NDb250YWluZXIsIGVuY2xvc2VzRWxlbWVudCk7CQorCQkJCX0K
KwkJCX0JCQkKKwkJfQorCX0KKwkKIAkvLyByZXBvcnQgcmVmZXJlbmNlcyBpbiBqYXZhZG9jCiAJ
aWYgKHR5cGUuamF2YWRvYyAhPSBudWxsKSB7CiAJCUFTVE5vZGVbXSBub2RlcyA9IG5vZGVTZXQu
bWF0Y2hpbmdOb2Rlcyh0eXBlLmRlY2xhcmF0aW9uU291cmNlU3RhcnQsIHR5cGUuc291cmNlU3Rh
cnQpOw==
</data>

          </attachment>
      

    </bug>

</bugzilla>