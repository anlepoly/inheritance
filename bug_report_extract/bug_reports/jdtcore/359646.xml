<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>359646</bug_id>
          
          <creation_ts>2011-10-01 20:18:00 -0400</creation_ts>
          <short_desc>Formatter fails silently if Java source contains 0x8000000000000000L</short_desc>
          <delta_ts>2012-07-05 09:49:24 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7.1</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>3.7.2</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Fernando Colombo">fernacolo</reporter>
          <assigned_to name="Olivier Thomann">Olivier_Thomann</assigned_to>
          <cc>amj87.iitr</cc>
    
    <cc>daniel_megert</cc>
    
    <cc>kdevolder</cc>
    
    <cc>marco.kaufmann</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>shiose</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      <flag name="pmc_approved"
          id="46121"
          type_id="2"
          status="+"
          setter="daniel_megert"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2003700</commentid>
    <comment_count>0</comment_count>
    <who name="Fernando Colombo">fernacolo</who>
    <bug_when>2011-10-01 20:18:46 -0400</bug_when>
    <thetext>Build Identifier: 3.7.1, M20110909-1335

Try to format this code (Ctrl+Shift+F or right-click &gt; Source &gt; Format):

public class FormatterBug {

  public static void main(String[] args) {
   long x = 0x8000000000000000L; System. out   . println(x);
               }
}

It won&apos;t work. Now remove a zero from 0x8000000000000000L or replace it by Long.MIN_VALUE. Then format again and notice it now works.


Reproducible: Always</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2003709</commentid>
    <comment_count>1</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2011-10-02 02:43:15 -0400</bug_when>
    <thetext>Can reproduce using I20110927-0800.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2003772</commentid>
    <comment_count>2</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-02 17:47:58 -0400</bug_when>
    <thetext>Fix is trivial.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2003778</commentid>
    <comment_count>3</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-02 19:38:43 -0400</bug_when>
    <thetext>I think we should backport the fix to 3.7.2 as there is no workaround.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2003781</commentid>
    <comment_count>4</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-02 19:59:27 -0400</bug_when>
    <thetext>Fixed for 3.8M3.
Commit 35e16686684b05bd7e21fa56e9152b82d8651f61</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2003782</commentid>
    <comment_count>5</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-02 19:59:41 -0400</bug_when>
    <thetext>Fixed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2004389</commentid>
    <comment_count>6</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2011-10-04 03:22:48 -0400</bug_when>
    <thetext>(In reply to comment #3)
&gt; I think we should backport the fix to 3.7.2 as there is no workaround.
Yes. And it worked in 3.7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2006216</commentid>
    <comment_count>7</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-06 17:13:45 -0400</bug_when>
    <thetext>Fixed and released for 3.7.2.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2006217</commentid>
    <comment_count>8</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-06 17:14:29 -0400</bug_when>
    <thetext>Commit 0ae3a6d7f76cc62f69bfafe0f0bf3e4ef6c2f3e5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2008813</commentid>
    <comment_count>9</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-12 01:09:37 -0400</bug_when>
    <thetext>*** Bug 360600 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2009316</commentid>
    <comment_count>10</comment_count>
    <who name="Kris De Volder">kdevolder</who>
    <bug_when>2011-10-12 13:46:28 -0400</bug_when>
    <thetext>It&apos;s not clear to me, from the bug description and comments that an analogous case for the contant 0x80000000 (i.e &apos;minimum&apos; Integer instead of Long) has also been fixed.

If it is also covered and fixed then please just ignore my comment.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2010387</commentid>
    <comment_count>11</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-14 02:53:55 -0400</bug_when>
    <thetext>(In reply to comment #10)
&gt; It&apos;s not clear to me, from the bug description and comments that an analogous
&gt; case for the contant 0x80000000 (i.e &apos;minimum&apos; Integer instead of Long) has
&gt; also been fixed.
&gt; 
&gt; If it is also covered and fixed then please just ignore my comment.

I checked that both cases are now fixed before marking dups.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2016060</commentid>
    <comment_count>12</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2011-10-25 06:53:12 -0400</bug_when>
    <thetext>Verified for 3.8 M3 using build id: N20111022-2000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2046952</commentid>
    <comment_count>13</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-05 21:21:36 -0500</bug_when>
    <thetext>*** Bug 367913 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2052631</commentid>
    <comment_count>14</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2012-01-19 01:23:07 -0500</bug_when>
    <thetext>Verified for 3.7.2RC2 using build M20120118-0800</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2133228</commentid>
    <comment_count>15</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2012-07-05 09:49:24 -0400</bug_when>
    <thetext>*** Bug 384361 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>