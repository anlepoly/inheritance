<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>399600</bug_id>
          
          <creation_ts>2013-01-31 05:55:00 -0500</creation_ts>
          <short_desc>ASTConverter#retrieveEndOfRightParenthesisPosition fails for certain cases</short_desc>
          <delta_ts>2013-02-01 01:49:20 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jay Arthanareeswaran">jarthana</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2210360</commentid>
    <comment_count>0</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-01-31 05:55:52 -0500</bug_when>
    <thetext>From bug 391895, comment #29:

The *existing* method ASTConverter#retrieveEndOfRightParenthesisPosition 
is totally bogus and will fail for a test case like:

public class X {
 	static void foo(@ReadOnly(&quot;Blah&quot;) int z) { 
 		
 	} 
}

@interface ReadOnly {
	String value() default &quot;Blah&quot;;
}

The method must discount balanced parentheses.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2210922</commentid>
    <comment_count>1</comment_count>
      <attachid>226437</attachid>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-01 01:19:45 -0500</bug_when>
    <thetext>Created attachment 226437
Patch with test

The buggy method is causing extra dimensions to be ignored in the following case:

int foo(@Marker(\&quot;Blah\&quot;) int z) @Marker [] @Marker [] {
    return null;
}

Will release after running the tests.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2210928</commentid>
    <comment_count>2</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-02-01 01:49:20 -0500</bug_when>
    <thetext>Tests are green and I have pushed the fix to BETA_JAVA8.

Srikanth, it&apos;s a minor fix. If you would like to review it, it&apos;s here:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=ea916b0462fec6996e619f84c30f348e2877686a</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>226437</attachid>
            <date>2013-02-01 01:19:00 -0500</date>
            <delta_ts>2013-02-01 01:19:45 -0500</delta_ts>
            <desc>Patch with test</desc>
            <filename>Fix-for-bug-399600.patch</filename>
            <type>text/plain</type>
            <size>2552</size>
            <attacher name="Jay Arthanareeswaran">jarthana</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMv
ZG9tL0FTVENvbnZlcnRlcjE4VGVzdC5qYXZhCmluZGV4IDVmZjcyMDUuLmFkZGI4NDcgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9q
ZHQvY29yZS90ZXN0cy9kb20vQVNUQ29udmVydGVyMThUZXN0LmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2Rv
bS9BU1RDb252ZXJ0ZXIxOFRlc3QuamF2YQpAQCAtMTA3MCw0ICsxMDcwLDI2IEBACiAJCW1ldGhv
ZCA9IG1ldGhvZHNbMl07CiAJCWFzc2VydEV4dHJhRGltZW5zaW9uc0VxdWFsKCJJbmNvcnJlY3Qg
ZGltZW5zaW9uIGluZm8iLCBtZXRob2QuZ2V0RXh0cmFEaW1lbnNpb25JbmZvcygpLCAiQEFubm90
MSBAQW5ub3QyIFtdIFtdIik7CiAJfQorCS8vIGh0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdz
L3Nob3dfYnVnLmNnaT9pZD0zOTk2MDAKKwlwdWJsaWMgdm9pZCB0ZXN0MDAxMCgpIHRocm93cyBK
YXZhTW9kZWxFeGNlcHRpb24geworCQlTdHJpbmcgY29udGVudHMgPQorCQkJCSJpbXBvcnQgamF2
YS5sYW5nLmFubm90YXRpb24uRWxlbWVudFR5cGU7XG4iICsKKwkJCQkJCSJwdWJsaWMgY2xhc3Mg
WCB7XG4iICsKKwkJCQkJCSIJQE1hcmtlciBpbnQgZm9vKEBNYXJrZXIoXCJCbGFoXCIpIGludCB6
KSBATWFya2VyIFtdIEBNYXJrZXIgW10ge1xuIiArCisJCQkJCQkiCQlyZXR1cm4gbnVsbDtcbiIg
KworCQkJCQkJIgl9XG4iICsKKwkJCQkJCSJ9XG4iICsKKwkJCQkJCSJAamF2YS5sYW5nLmFubm90
YXRpb24uVGFyZ2V0IChFbGVtZW50VHlwZS5UWVBFX1VTRSlcbiIgKworCQkJCQkJIkBpbnRlcmZh
Y2UgTWFya2VyIHtcbiIgKworCQkJCQkJIglTdHJpbmcgdmFsdWUoKSBkZWZhdWx0IFwiQmxhaFwi
O1xuIiArCisJCQkJCQkifSI7CisJCXRoaXMud29ya2luZ0NvcHkgPSBnZXRXb3JraW5nQ29weSgi
L0NvbnZlcnRlcjE4L3NyYy9YLmphdmEiLCB0cnVlKTsKKwkJQVNUTm9kZSBub2RlID0gYnVpbGRB
U1QoY29udGVudHMsIHRoaXMud29ya2luZ0NvcHkpOworCQlhc3NlcnRFcXVhbHMoIk5vdCBhIGNv
bXBpbGF0aW9uIHVuaXQiLCBBU1ROb2RlLkNPTVBJTEFUSU9OX1VOSVQsIG5vZGUuZ2V0Tm9kZVR5
cGUoKSk7CisJCUNvbXBpbGF0aW9uVW5pdCB1bml0ID0gKENvbXBpbGF0aW9uVW5pdCkgbm9kZTsK
KwkJbm9kZSA9IGdldEFTVE5vZGUodW5pdCwgMCwgMCk7CisJCWFzc2VydEVxdWFscygiTm90IGEg
bWV0aG9kIGRlY2xhcmF0aW9uIiwgQVNUTm9kZS5NRVRIT0RfREVDTEFSQVRJT04sIG5vZGUuZ2V0
Tm9kZVR5cGUoKSk7CisJCU1ldGhvZERlY2xhcmF0aW9uIG1ldGhvZCA9IChNZXRob2REZWNsYXJh
dGlvbikgbm9kZTsKKwkJYXNzZXJ0RXh0cmFEaW1lbnNpb25zRXF1YWwoIkluY29ycmVjdCBkaW1l
bnNpb24gaW5mbyIsIG1ldGhvZC5nZXRFeHRyYURpbWVuc2lvbkluZm9zKCksICJATWFya2VyIFtd
IEBNYXJrZXIgW10iKTsKKwl9CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9k
b20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL0FTVENvbnZlcnRlci5qYXZhIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvZG9tL29yZy9lY2xpcHNlL2pkdC9jb3JlL2RvbS9BU1RDb252ZXJ0ZXIuamF2
YQppbmRleCA4YTFhYzMxLi43OTBhZWM3IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9kb20vb3JnL2VjbGlwc2UvamR0L2NvcmUvZG9tL0FTVENvbnZlcnRlci5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2RvbS9vcmcvZWNsaXBzZS9qZHQvY29yZS9kb20vQVNUQ29udmVy
dGVyLmphdmEKQEAgLTQzOTgsMTAgKzQzOTgsMTggQEAKIAkJdGhpcy5zY2FubmVyLnJlc2V0VG8o
c3RhcnQsIGVuZCk7CiAJCXRyeSB7CiAJCQlpbnQgdG9rZW47CisJCQlpbnQgY291bnQgPSAwOwog
CQkJd2hpbGUgKCh0b2tlbiA9IHRoaXMuc2Nhbm5lci5nZXROZXh0VG9rZW4oKSkgIT0gVGVybWlu
YWxUb2tlbnMuVG9rZW5OYW1lRU9GKSB7CiAJCQkJc3dpdGNoKHRva2VuKSB7CiAJCQkJCWNhc2Ug
VGVybWluYWxUb2tlbnMuVG9rZW5OYW1lUlBBUkVOOgotCQkJCQkJcmV0dXJuIHRoaXMuc2Nhbm5l
ci5jdXJyZW50UG9zaXRpb247CisJCQkJCQljb3VudC0tOworCQkJCQkJaWYgKGNvdW50IDw9IDAp
IHJldHVybiB0aGlzLnNjYW5uZXIuY3VycmVudFBvc2l0aW9uOworCQkJCQkJIGJyZWFrOworCQkJ
CQljYXNlIFRlcm1pbmFsVG9rZW5zLlRva2VuTmFtZUxQQVJFTjoKKwkJCQkJCWNvdW50Kys7CisJ
CQkJCQkvLyRGQUxMLVRIUk9VR0gkCisJCQkJCWRlZmF1bHQ6CisJCQkJCQlicmVhazsKIAkJCQl9
CiAJCQl9CiAJCX0gY2F0Y2goSW52YWxpZElucHV0RXhjZXB0aW9uIGUpIHs=
</data>

          </attachment>
      

    </bug>

</bugzilla>