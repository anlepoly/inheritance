<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>425063</bug_id>
          
          <creation_ts>2014-01-08 02:48:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] Type mismatch: cannot convert from int to Comparable&lt;? super Comparable&lt;? super U&gt;&gt;</short_desc>
          <delta_ts>2014-01-28 17:06:13 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>DUPLICATE</resolution>
          <dup_id>426676</dup_id>
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          <blocked>424053</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Andrey Loskutov">loskutov</reporter>
          <assigned_to name="Stephan Herrmann">stephan.herrmann</assigned_to>
          <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2346758</commentid>
    <comment_count>0</comment_count>
    <who name="Andrey Loskutov">loskutov</who>
    <bug_when>2014-01-08 02:48:51 -0500</bug_when>
    <thetext>Using Eclipse Java Development Tools Patch for Java 8 Support (BETA) 1.0.0.v20140108-0103_BETA_JAVA8

Steps to reproduce:

1 Create empty default 1.8 Java project with wizard
2 Copy/paste content below to the src folder
3 Notice that the code is not compilable (javac 1.8.0-ea-b121 compiles fine). Reported problem: &quot;Type mismatch: cannot convert from int to Comparable&lt;? super Comparable&lt;? super U&gt;&gt;&quot;

Source:
#############
import java.util.Comparator;
public class ComparatorUse {
	Comparator&lt;String&gt; c =
			Comparator.comparing((String s)-&gt;s.toString())
			.thenComparing(s -&gt; s.length());
}
#############</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2348574</commentid>
    <comment_count>1</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-01-11 18:59:08 -0500</bug_when>
    <thetext>Thanks for the test.

I wonder whether thenComparingInt(..) was intended for exactly this kind of situation? If you use that, both compilers accept.

If we accept your original code, what would thenComparingInt be for?

Might be a bug in javac? I&apos;m not sure, could also be a problem in ECJ of not considering boxing where we should. I&apos;ll check both paths.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2355681</commentid>
    <comment_count>2</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2014-01-28 17:06:13 -0500</bug_when>
    <thetext>Since the fix for bug 426676 we no longer raise an error. As this corresponds to javac behavior, let&apos;s mark as resolved :)

*** This bug has been marked as a duplicate of bug 426676 ***</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>