<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>428524</bug_id>
          
          <creation_ts>2014-02-19 05:39:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] NPE when using JSE8 Class Constructor ref &quot;TheClass::new&quot; and &quot;TheClass&quot; is using default no-arg constructor</short_desc>
          <delta_ts>2014-02-24 22:06:17 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Tony Jewell">tjewell</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>manju656</cc>
    
    <cc>srikanth_sankaran</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2365346</commentid>
    <comment_count>0</comment_count>
      <attachid>240103</attachid>
    <who name="Tony Jewell">tjewell</who>
    <bug_when>2014-02-19 05:39:21 -0500</bug_when>
    <thetext>Created attachment 240103
Example class and NPE Stack in Event Details

When using a Class Constructor Ref &quot;TheClass::new&quot; and &quot;TheClass&quot; is using a default no-arg constructor the JDT fails with NPE.

java.lang.NullPointerException
	at org.eclipse.jdt.internal.compiler.lookup.SyntheticMethodBinding.&lt;init&gt;(SyntheticMethodBinding.java:385)
	at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticFactoryMethod(SourceTypeBinding.java:687)

when using 
		Supplier&lt;WithoutNoArgConstructor&gt; error = WithoutNoArgConstructor::new;
		System.err.println(error.get());
...
	private static class WithoutNoArgConstructor {
	}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2365448</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-02-19 08:25:24 -0500</bug_when>
    <thetext>Thanks for the defect report. Fix and tests released here: 
http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=36487b734fd6779096039708f8fb8542e6d8c362.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2367944</commentid>
    <comment_count>2</comment_count>
    <who name="Manju Mathew">manju656</who>
    <bug_when>2014-02-24 22:06:17 -0500</bug_when>
    <thetext>Verified that the code given in comment 0 compiles and execute fine using Kepler SR2 + Java 8 RC1 + Eclipse Java Development Tools Patch for Java 8 Support (BETA) 1.0.0.v20140223-2022</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>240103</attachid>
            <date>2014-02-19 05:39:00 -0500</date>
            <delta_ts>2014-02-19 05:39:21 -0500</delta_ts>
            <desc>Example class and NPE Stack in Event Details</desc>
            <filename>Error.txt</filename>
            <type>text/plain</type>
            <size>3559</size>
            <attacher name="Tony Jewell">tjewell</attacher>
            
              <data encoding="base64">V2hlbiB1c2luZyBhIENsYXNzIENvbnN0cnVjdG9yIFJlZiAiVGhlQ2xhc3M6Om5ldyIgYW5kICJU
aGVDbGFzcyIgaXMgdXNpbmcgYSBkZWZhdWx0IG5vLWFyZyBjb25zdHJ1Y3RvciB0aGUgSkRUIGZh
aWxzIHdpdGggTlBFLg0KDQpFeGFtcGxlIENvbXBpbGVzIGFuZCBydW5zIHdpdGggSkRLMS44LjA6
DQoJamF2YSB2ZXJzaW9uICIxLjguMCINCglKYXZhKFRNKSBTRSBSdW50aW1lIEVudmlyb25tZW50
IChidWlsZCAxLjguMC1iMTI5KQ0KCUphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTSAo
YnVpbGQgMjUuMC1iNjksIG1peGVkIG1vZGUpDQoNCg0KPT1FeGFtcGxlPT09PT09PT09PTg8PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NCnBhY2thZ2UgY29tLmNyZWdnYW5uYS5leGFtcGxl
cy5qc2U4LnRyeWxhbWJkYTsNCg0KaW1wb3J0IGphdmEudXRpbC5mdW5jdGlvbi5TdXBwbGllcjsN
Cg0KcHVibGljIGNsYXNzIENsYXNzQ29uc3RydWN0b3JSZWZKRFRCdWcgew0KDQoJcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykgew0KCQlTdXBwbGllcjxXaXRoTm9BcmdDb25z
dHJ1Y3Rvcj4gd29ya3MgPSBXaXRoTm9BcmdDb25zdHJ1Y3Rvcjo6bmV3Ow0KCQlTeXN0ZW0uZXJy
LnByaW50bG4od29ya3MuZ2V0KCkpOw0KDQoJCVN1cHBsaWVyPFdpdGhvdXROb0FyZ0NvbnN0cnVj
dG9yPiBlcnJvciA9IFdpdGhvdXROb0FyZ0NvbnN0cnVjdG9yOjpuZXc7DQoJCVN5c3RlbS5lcnIu
cHJpbnRsbihlcnJvci5nZXQoKSk7DQoJCQ0KCX0NCg0KCXByaXZhdGUgc3RhdGljIGNsYXNzIFdp
dGhOb0FyZ0NvbnN0cnVjdG9yIHsNCgkJcHVibGljIFdpdGhOb0FyZ0NvbnN0cnVjdG9yKCkgew0K
CQl9DQoJfQ0KCQ0KCXByaXZhdGUgc3RhdGljIGNsYXNzIFdpdGhvdXROb0FyZ0NvbnN0cnVjdG9y
IHsNCgl9DQoNCn0NCj09PT09PT09PT09PT09PT09PT04PD09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQoNCj09RXZlbnQgRGV0YWlscz09PT04PD09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQplY2xpcHNlLmJ1aWxkSWQ9NC40LjAuSTIwMTQwMTIzLTE2MDANCmphdmEudmVyc2lvbj0x
LjguMA0KamF2YS52ZW5kb3I9T3JhY2xlIENvcnBvcmF0aW9uDQpCb290TG9hZGVyIGNvbnN0YW50
czogT1M9d2luMzIsIEFSQ0g9eDg2XzY0LCBXUz13aW4zMiwgTkw9ZW5fSUUNCkNvbW1hbmQtbGlu
ZSBhcmd1bWVudHM6ICAtb3Mgd2luMzIgLXdzIHdpbjMyIC1hcmNoIHg4Nl82NA0KDQpvcmcuZWNs
aXBzZS5qZHQudWkNCkVycm9yDQpXZWQgRmViIDE5IDA5OjI2OjI2IEdNVCAyMDE0DQpQcm9ibGVt
cyBvY2N1cnJlZCB3aGVuIGludm9raW5nIGNvZGUgZnJvbSBwbHVnLWluOiAib3JnLmVjbGlwc2Uu
amR0LnVpIi4NCg0KamF2YS5sYW5nLk51bGxQb2ludGVyRXhjZXB0aW9uDQoJYXQgb3JnLmVjbGlw
c2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cC5TeW50aGV0aWNNZXRob2RCaW5kaW5nLjxp
bml0PihTeW50aGV0aWNNZXRob2RCaW5kaW5nLmphdmE6Mzg1KQ0KCWF0IG9yZy5lY2xpcHNlLmpk
dC5pbnRlcm5hbC5jb21waWxlci5sb29rdXAuU291cmNlVHlwZUJpbmRpbmcuYWRkU3ludGhldGlj
RmFjdG9yeU1ldGhvZChTb3VyY2VUeXBlQmluZGluZy5qYXZhOjY4NykNCglhdCBvcmcuZWNsaXBz
ZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYXN0LlJlZmVyZW5jZUV4cHJlc3Npb24uZ2VuZXJhdGVD
b2RlKFJlZmVyZW5jZUV4cHJlc3Npb24uamF2YToyMzgpDQoJYXQgb3JnLmVjbGlwc2UuamR0Lmlu
dGVybmFsLmNvbXBpbGVyLmFzdC5Mb2NhbERlY2xhcmF0aW9uLmdlbmVyYXRlQ29kZShMb2NhbERl
Y2xhcmF0aW9uLmphdmE6MTUyKQ0KCWF0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxl
ci5hc3QuQWJzdHJhY3RNZXRob2REZWNsYXJhdGlvbi5nZW5lcmF0ZUNvZGUoQWJzdHJhY3RNZXRo
b2REZWNsYXJhdGlvbi5qYXZhOjMyOCkNCglhdCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29t
cGlsZXIuYXN0LkFic3RyYWN0TWV0aG9kRGVjbGFyYXRpb24uZ2VuZXJhdGVDb2RlKEFic3RyYWN0
TWV0aG9kRGVjbGFyYXRpb24uamF2YToyNzMpDQoJYXQgb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvbXBpbGVyLmFzdC5UeXBlRGVjbGFyYXRpb24uZ2VuZXJhdGVDb2RlKFR5cGVEZWNsYXJhdGlv
bi5qYXZhOjU3MCkNCglhdCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYXN0LlR5
cGVEZWNsYXJhdGlvbi5nZW5lcmF0ZUNvZGUoVHlwZURlY2xhcmF0aW9uLmphdmE6NjM5KQ0KCWF0
IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3QuQ29tcGlsYXRpb25Vbml0RGVj
bGFyYXRpb24uZ2VuZXJhdGVDb2RlKENvbXBpbGF0aW9uVW5pdERlY2xhcmF0aW9uLmphdmE6Mzcw
KQ0KCWF0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmRvbS5Db21waWxhdGlvblVuaXRSZXNvbHZlci5y
ZXNvbHZlKENvbXBpbGF0aW9uVW5pdFJlc29sdmVyLmphdmE6MTIxNCkNCglhdCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS5kb20uQ29tcGlsYXRpb25Vbml0UmVzb2x2ZXIucmVzb2x2ZShDb21waWxhdGlv
blVuaXRSZXNvbHZlci5qYXZhOjY5MykNCglhdCBvcmcuZWNsaXBzZS5qZHQuY29yZS5kb20uQVNU
UGFyc2VyLmludGVybmFsQ3JlYXRlQVNUKEFTVFBhcnNlci5qYXZhOjExODcpDQoJYXQgb3JnLmVj
bGlwc2UuamR0LmNvcmUuZG9tLkFTVFBhcnNlci5jcmVhdGVBU1QoQVNUUGFyc2VyLmphdmE6ODEz
KQ0KCWF0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9yLkFTVFByb3ZpZGVy
JDEucnVuKEFTVFByb3ZpZGVyLmphdmE6NTQ4KQ0KCWF0IG9yZy5lY2xpcHNlLmNvcmUucnVudGlt
ZS5TYWZlUnVubmVyLnJ1bihTYWZlUnVubmVyLmphdmE6NDIpDQoJYXQgb3JnLmVjbGlwc2UuamR0
LmludGVybmFsLnVpLmphdmFlZGl0b3IuQVNUUHJvdmlkZXIuY3JlYXRlQVNUKEFTVFByb3ZpZGVy
LmphdmE6NTQxKQ0KCWF0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS5qYXZhZWRpdG9yLkFT
VFByb3ZpZGVyLmdldEFTVChBU1RQcm92aWRlci5qYXZhOjQ4NCkNCglhdCBvcmcuZWNsaXBzZS5q
ZHQudWkuU2hhcmVkQVNUUHJvdmlkZXIuZ2V0QVNUKFNoYXJlZEFTVFByb3ZpZGVyLmphdmE6MTMy
KQ0KCWF0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC51aS52aWV3c3VwcG9ydC5TZWxlY3Rpb25M
aXN0ZW5lcldpdGhBU1RNYW5hZ2VyJFBhcnRMaXN0ZW5lckdyb3VwLmNhbGN1bGF0ZUFTVGFuZElu
Zm9ybShTZWxlY3Rpb25MaXN0ZW5lcldpdGhBU1RNYW5hZ2VyLmphdmE6MTcwKQ0KCWF0IG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC51aS52aWV3c3VwcG9ydC5TZWxlY3Rpb25MaXN0ZW5lcldpdGhB
U1RNYW5hZ2VyJFBhcnRMaXN0ZW5lckdyb3VwJDMucnVuKFNlbGVjdGlvbkxpc3RlbmVyV2l0aEFT
VE1hbmFnZXIuamF2YToxNTUpDQoJYXQgb3JnLmVjbGlwc2UuY29yZS5pbnRlcm5hbC5qb2JzLldv
cmtlci5ydW4oV29ya2VyLmphdmE6NTMpDQoNCj09PT09PT09PT09PT09PT09PT04PD09PT09PT09
PT09PT09PT09PT09PT09PT09PT09DQoNCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>