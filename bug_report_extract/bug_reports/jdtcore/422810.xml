<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>422810</bug_id>
          
          <creation_ts>2013-11-28 22:48:00 -0500</creation_ts>
          <short_desc>[1.8][compiler] Incorrect ambiguous call error</short_desc>
          <delta_ts>2015-01-20 07:07:31 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.4.2</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Srikanth Sankaran">srikanth_sankaran</assigned_to>
          <cc>alienisty</cc>
    
    <cc>jarthana</cc>
    
    <cc>lukas.eder</cc>
    
    <cc>shankhba</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2335771</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-11-28 22:48:59 -0500</bug_when>
    <thetext>BETA_JAVA8:

The following program triggers an ambiguous call error from javac 8b115. ATM,
I have adjusted the behavior of eclipse to match. But this is most certainly
wrong - I have asked for clarifications from the EG and once confirmed, we should fix accordingly.

// --
 interface I {
  String foo(String [] x, String y);
 }
 interface J {
  void foo(int x, int y);
 }
 public class X {
     static void goo(J j) {
         System.out.println(&quot;goo(J)&quot;);
     }
     static void goo(I i) {
         System.out.println(&quot;goo(I)&quot;);
     }
     public static void main(String[] args) throws InterruptedException {
        goo((x, y) -&gt; { return x[0] += 1; });
     }
 }</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2357408</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-01-31 17:36:25 -0500</bug_when>
    <thetext>Postponed to 4.4 - See that the corresponding javac bug is targetted
for an update release.

https://bugs.openjdk.java.net/browse/JDK-8029718:

&quot;This issue is important but it&apos;s a corner case, also solving this issue is not
trivial and may introduce regression issues. We think that it&apos;s better to wait 
till 8u20 to fix this.&quot;

In eclipse implementation it is a fairly trivial fix - simply change the
order of checks in LE.isCompatibleWith, but this can wait.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2445239</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-08-29 00:17:42 -0400</bug_when>
    <thetext>*** Bug 434642 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2445897</commentid>
    <comment_count>3</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-01 02:07:20 -0400</bug_when>
    <thetext>I confirmed that jdk8u20 has adjusted its behavior and so also modified ECJ
to conform to the spec and reference compiler here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=3284f738bbf7a2dbd90434dea313c8629bed5722.

Error reporting continues to cry out for improvement. Particularly when
the enclosing scope have errors, we punt on shape analysis via flow analysis
and this results in some very weird bogus secondary errors. 

See NLET.test401939b for example. Rather than try to improve matters in ad-hoc
fashion, I deferred that work to:

https://bugs.eclipse.org/bugs/show_bug.cgi?id=406614
https://bugs.eclipse.org/bugs/show_bug.cgi?id=400831 
https://bugs.eclipse.org/bugs/show_bug.cgi?id=424290 and
https://bugs.eclipse.org/bugs/show_bug.cgi?id=423429</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2445900</commentid>
    <comment_count>4</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-09-01 02:09:26 -0400</bug_when>
    <thetext>Resolved for 4.5 M2</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2452861</commentid>
    <comment_count>5</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-09-17 02:06:13 -0400</bug_when>
    <thetext>Verified for 4.5 M2 using build I20140915-2000</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2473889</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-10-30 02:05:29 -0400</bug_when>
    <thetext>+1 for back port, reopening.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2474342</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-10-31 00:29:39 -0400</bug_when>
    <thetext>*** Bug 449410 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2477700</commentid>
    <comment_count>8</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2014-11-06 03:55:38 -0500</bug_when>
    <thetext>Released in R4_4_maintenance via commit(s):

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=R4_4_maintenance&amp;id=393d8cc0c90091afd7b2949fcd813c9642fc09d5</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2507791</commentid>
    <comment_count>9</comment_count>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2015-01-20 07:07:31 -0500</bug_when>
    <thetext>Verified for 4.4.2 RC1 using build M20150114-1500.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>