<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>466675</bug_id>
          
          <creation_ts>2015-05-07 03:04:00 -0400</creation_ts>
          <short_desc>A number of &quot;class file&quot; comparator errors in I20150506-2000</short_desc>
          <delta_ts>2015-05-10 12:46:03 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          <see_also>https://git.eclipse.org/r/47524</see_also>
    
    <see_also>https://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=27f0a8bf5e0182b2f55d23c88165e43a56aee13f</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 RC1</target_milestone>
          <dependson>445231</dependson>
          <blocked>461101</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="David Williams">david_williams</reporter>
          <assigned_to name="Markus Keller">markus_keller</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>jarthana</cc>
    
    <cc>markus_keller</cc>
    
    <cc>saammana</cc>
    
    <cc>shankhba</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="64668"
          type_id="1"
          status="+"
          setter="stephan.herrmann"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2559504</commentid>
    <comment_count>0</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-07 03:04:07 -0400</bug_when>
    <thetext>See

http://download.eclipse.org/eclipse/downloads/drops4/I20150506-2000/buildlogs/comparatorlogs/buildtimeComparatorUnanticipated.log.txt

I did update the compiler, since last I-build ... but will try to attach some &quot;diffs&quot; to see if it a difference in string constants or similar, again. 




= = = = = 
Comparator differences from current build
	/shared/eclipse/builds/4I/siteDir/eclipse/downloads/drops4/I20150506-2000
compared to reference repo at 
	http://download.eclipse.org/eclipse/updates/4.5-I-builds

1.  eclipse.platform.ui/bundles/org.eclipse.e4.core.commands
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/e4/core/commands/CommandServiceAddon.class: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [pack200, sources]

2.  eclipse.platform.ua/org.eclipse.help.ui
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/help/ui/internal/DefaultHelpUI.class: different
      org/eclipse/help/ui/internal/ShowInTocAction$1.class: different
      org/eclipse/help/ui/internal/views/BrowserPart.class: different
      org/eclipse/help/ui/internal/views/HelpView.class: different
      org/eclipse/help/ui/internal/views/SearchResultsPart.class: different
      org/eclipse/help/ui/internal/views/SeeAlsoPart$2.class: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [pack200, sources]

3.  eclipse.platform.ua/org.eclipse.ui.cheatsheets
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/ui/cheatsheets/OpenCheatSheetAction.class: different
      org/eclipse/ui/internal/cheatsheets/views/CheatSheetViewer.class: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [pack200, sources]

4.  eclipse.jdt.debug/org.eclipse.jdt.debug.ui
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/jdt/debug/ui/launchConfigurations/AppletMainTab.class: different
      org/eclipse/jdt/debug/ui/launchConfigurations/JavaConnectTab.class: different
      org/eclipse/jdt/debug/ui/launchConfigurations/JavaMainTab.class: different
      snippetsupport.jar: different
         META-INF/ECLIPSE_.RSA: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [sources]

5.  eclipse.platform.team/bundles/org.eclipse.team.cvs.core
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/team/internal/ccvs/core/resources/RemoteModule.class: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [pack200, sources]

6.  eclipse.platform.team/bundles/org.eclipse.team.cvs.ui
   no-classifier: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
      org/eclipse/team/internal/ccvs/ui/operations/DiffOperation.class: different
   classifier-sources: different
      META-INF/ECLIPSE_.RSA: different
      META-INF/ECLIPSE_.SF: different
    The main artifact has been replaced with the baseline version.
    The following attached artifacts have been replaced with the baseline version: [pack200, sources]</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559517</commentid>
    <comment_count>1</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-07 03:13:03 -0400</bug_when>
    <thetext>e4 commands looks &quot;normal&quot;, though no idea what it means: 

       [03:10:58] david_williams@build:/opt/public/eclipse/builds/4I/gitCache/eclipse.platform.releng.aggregator/eclipse.platform.ui/bundles/org.eclipse.e4.core.commands/target/artifactcomparison/no-classifier/org/eclipse/e4/core/commands
 
$ diff CommandServiceAddon.class-baseline CommandServiceAddon.class-build 
5,6d4
&lt;   // access flags 0x8
&lt;   static INNERCLASS org/eclipse/e4/core/commands/internal/HandlerServiceImpl$ExecutionContexts org/eclipse/e4/core/commands/internal/HandlerServiceImpl ExecutionContexts</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559523</commentid>
    <comment_count>2</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-07 03:20:29 -0400</bug_when>
    <thetext>At least one of help class files is similar: 

$ diff -r ./eclipse.platform.ua/org.eclipse.help.ui/target/artifactcomparison/no-classifier/org/eclipse/help/ui/internal/DefaultHelpUI.class-baseline  ./eclipse.platform.ua/org.eclipse.help.ui/target/artifactcomparison/no-classifier/org/eclipse/help/ui/internal/DefaultHelpUI.class-build 
7,8d6
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559526</commentid>
    <comment_count>3</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-07 03:22:25 -0400</bug_when>
    <thetext>Jay, does this look like an expected change? After moving to the M7 version of JDT Compiler. 

Do the other .class files need to be examined for &quot;errors&quot;, or, would you recommend all these bundles simply be touched?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559821</commentid>
    <comment_count>4</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-07 09:16:25 -0400</bug_when>
    <thetext>(In reply to David Williams from comment #1)
The removal of the INNERCLASS info in the new classfile CommandServiceAddon.class-build looks wrong. The JVMS says that there must be an InnerClasses entry for every CONSTANT_Class_info entry in the constant_pool table that refers to an inner class.

Looks like bug 445231 has caused this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559856</commentid>
    <comment_count>5</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-05-07 10:02:19 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #4)
&gt; (In reply to David Williams from comment #1)
&gt; The removal of the INNERCLASS info in the new classfile
&gt; CommandServiceAddon.class-build looks wrong. The JVMS says that there must
&gt; be an InnerClasses entry for every CONSTANT_Class_info entry in the
&gt; constant_pool table that refers to an inner class.
&gt; 
&gt; Looks like bug 445231 has caused this.

That could mean on of two things: 
- our fix in bug 445231 is not precise enough, causing unwanted effects, or
- javac is in conflict with JVMS and we have to chose which we want to conform to</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2559920</commentid>
    <comment_count>6</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-07 10:45:19 -0400</bug_when>
    <thetext>Not to add (too much) pressure, but suggest this be ironed out soon. 

I know Tycho is planning (if they haven&apos;t already) to update to M7 JDT for Tycho 0.23.0. Should we warn them not to? 

Keep in mind, we only &quot;catch&quot; issues like this because nothing else changed in those bundles to change the &apos;qualifier&apos;. Other classes may be effected too.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560170</commentid>
    <comment_count>7</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-07 14:44:32 -0400</bug_when>
    <thetext>In the JVMS, I don&apos;t see anything that says that InnerClasses entries can or should be omitted if the inner class is not visible.

The class files produced by ECJ without the change for bug 445231 execute fine with IBM SDKs (tried an old 1.7 and ibm-java-sdk-80-win-x86_64 pwa6480sr1-20150417_01).

I think bug 445231 should be reverted. This is a bug in the Oracle JVM. It seems to rely on the order of InnerClasses entries. But it&apos;s not specified anywhere that the entries for inner classes of the current class must be listed before entries for inner classes of other classes.

Minimal test case (compile 2 files with ecj, run with Oracle java.exe):

package com.g;
class Base {
	static class Builder { }
}
public final class Child extends Base {
	public Builder setJobName() {
		return null;
	}
}

package com.n;
import com.g.Child;
public final class Buggered {
	public static final class Foo { }
	void unused() {
		new Child().setJobName();
	}
	public static void main(String[] args) {
		Class&lt;?&gt; clazz = Buggered.Foo.class;
		clazz.isAnonymousClass();
	}
}

Note that renaming the package com.g to com.z works around the java.exe bug.

A hack to make ECJ bug-compatible with the Oracle JDK could be to initialize ClassFile#innerClassesBindings with a LinkedHashMap and remove the sorting in ClassFile#addAttributes().</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560209</commentid>
    <comment_count>8</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-07 15:37:47 -0400</bug_when>
    <thetext>Filed bug at http://bugs.java.com/ =&gt; Review ID: JI-9021063 (not yet available)

* Synopsis:
Wrong IllegalAccessError when trying access InnerClasses attribute

* Description:
The Oracle JRE depends on undocumented ordering of the InnerClasses attribute entries. In certain cases, Class.getDeclaringClass0() throws a wrong IllegalAccessError.

Javac seems to produce .class files that don&apos;t trigger this bug.

Class files produced by the Eclipse compiler for Java (ecj) can trigger the bug, since ecj orders InnerClasses entries alphabetically.

Here&apos;s the javap -v of an affected .class file:

  InnerClasses:
       static #45= #41 of #43; //Builder=class com/g/Base$Builder of class com/g/Base
       public static final #46= #24 of #1; //Foo=class com/n/Buggered$Foo of class com/n/Buggered

Note that another entry appears before the com/n/Buggered$Foo.

* Steps:
- compile the given source with ecj (simplest way is to install the Eclipse SDK from [1], and then past the complete source into the Package Explorer)
- run class com.n.Buggered

Original issues reported against Eclipse JDT:
https://bugs.eclipse.org/bugs/show_bug.cgi?id=445231
https://bugs.eclipse.org/bugs/show_bug.cgi?id=466675

* Error Message:
Exception in thread &quot;main&quot; java.lang.IllegalAccessError: tried to access class com.g.Base from class com.n.Buggered
	at java.lang.Class.getDeclaringClass0(Native Method)
	at java.lang.Class.getDeclaringClass(Class.java:1235)
	at java.lang.Class.getEnclosingClass(Class.java:1277)
	at java.lang.Class.getSimpleBinaryName(Class.java:1443)
	at java.lang.Class.getSimpleName(Class.java:1309)
	at java.lang.Class.isAnonymousClass(Class.java:1411)
	at com.n.Buggered.main(Buggered.java:10)

* Source:
(example from comment 7)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560276</commentid>
    <comment_count>9</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-05-07 17:19:45 -0400</bug_when>
    <thetext>I agree with all that Markus wrote here, except maybe the suggested compatibility-hack mentioned in comment 7: wouldn&apos;t that aggravate the original comparator issue into a land-slide?

Maybe we can get a comment from Jay before reverting bug 445231?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560515</commentid>
    <comment_count>10</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-05-08 06:07:01 -0400</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/47524</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560516</commentid>
    <comment_count>11</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-08 06:10:31 -0400</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #9)
&gt; I agree with all that Markus wrote here, except maybe the suggested
&gt; compatibility-hack mentioned in comment 7: wouldn&apos;t that aggravate the
&gt; original comparator issue into a land-slide?

Yes, I missed that. And the LinkedHashMap would also make other class file comparisons harder, since the InnerClasses entry would effectively be unordered and could change greatly after small code changes.

Even a point-hack that would just move inner classes from the current class file to the top would probably cause many unnecessary class file changes as well.

But we could just move those entries to the bottom that were found to be problematic in 445231. Created a Gerrit change for that:
https://git.eclipse.org/r/#/c/47524/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560566</commentid>
    <comment_count>12</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-08 08:29:21 -0400</bug_when>
    <thetext>I&apos;ve lost track a little of where things are, here. 

I assume the comparator errors from last night&apos;s build, I20150507-2000
are the same as previous night&apos;s build?

http://download.eclipse.org/eclipse/downloads/drops4/I20150507-2000/buildlogs/comparatorlogs/buildtimeComparatorUnanticipated.log.txt</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560605</commentid>
    <comment_count>13</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-08 09:09:31 -0400</bug_when>
    <thetext>(In reply to David Williams from comment #12)
&gt; I&apos;ve lost track a little of where things are, here. 
&gt; 
&gt; I assume the comparator errors from last night&apos;s build, I20150507-2000
&gt; are the same as previous night&apos;s build?
&gt; 
&gt; http://download.eclipse.org/eclipse/downloads/drops4/I20150507-2000/
&gt; buildlogs/comparatorlogs/buildtimeComparatorUnanticipated.log.txt

I wrote a little script, so not completely automatically, can diff files in &quot;/artifactcomparison/&quot; directories (which is generated by Tycho):

$ ./compareList.sh 
7,8d6
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab$WidgetListener org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab WidgetListener
17,18d16
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab$WidgetListener org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab WidgetListener
5,6d4
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab$WidgetListener org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaMainTab WidgetListener
9,10d8
&lt;   // access flags 0x40C
&lt;   protected static abstract INNERCLASS org/eclipse/team/internal/ccvs/core/client/Command$Option org/eclipse/team/internal/ccvs/core/client/Command Option
9,10d8
&lt;   // access flags 0x40C
&lt;   protected static abstract INNERCLASS org/eclipse/team/internal/ccvs/core/client/Command$Option org/eclipse/team/internal/ccvs/core/client/Command Option
7,8d6
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
7,8d6
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
27,28d26
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
7,8d6
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
5,6d4
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
5,6d4
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
5,6d4
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
5,6d4
&lt;   // access flags 0x2
&lt;   private INNERCLASS org/eclipse/help/ui/internal/views/ReusableHelpPart$HelpPartPage org/eclipse/help/ui/internal/views/ReusableHelpPart HelpPartPage
5,6d4
&lt;   // access flags 0x8
&lt;   static INNERCLASS org/eclipse/e4/core/commands/internal/HandlerServiceImpl$ExecutionContexts org/eclipse/e4/core/commands/internal/HandlerServiceImpl ExecutionContexts</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2560649</commentid>
    <comment_count>14</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-08 09:47:19 -0400</bug_when>
    <thetext>(In reply to David Williams from comment #12)
&gt; I assume the comparator errors from last night&apos;s build, I20150507-2000
&gt; are the same as previous night&apos;s build?

Correct. Nothing has been released yet, nothing has been force-tagged, and the build still uses the 4.5 M7 compiler.

JDT Core committers, please review https://git.eclipse.org/r/#/c/47524/ .
I think we should release that ASAP. It will fix some of the comparator problems and keep bug 445231 happy by replacing the bad fix (missing InnerClasses entries) with a correct fix that works around the Oracle JRE bug.

Example that will still show up as comparator error (but this is harmless):
http://build.eclipse.org/eclipse/builds/4I/gitCache/eclipse.platform.releng.aggregator/eclipse.platform.team/bundles/org.eclipse.team.cvs.ui/target/artifactcomparison/no-classifier/org/eclipse/team/internal/ccvs/ui/operations/DiffOperation.class-baseline
With my fix, the
&gt; protected static abstract INNERCLASS org/eclipse/team/internal/ccvs/core/client/Command$Option org/eclipse/team/internal/ccvs/core/client/Command Option
will be moved to the end of the InnerClasses list.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2561011</commentid>
    <comment_count>15</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-05-08 19:27:05 -0400</bug_when>
    <thetext>The change https://git.eclipse.org/r/#/c/47524/ looks fine!

I&apos;m only slightly saddened by the fact that this extreme corner case penalizes also the good cases, but for a normal small number of inner class entries this shouldn&apos;t be significant.

Was I too naive, when I wrote this:

(In reply to Stephan Herrmann from bug 445231 comment #9)
&gt; Even more interesting I cannot find any significant difference between the
&gt; code generated by javac (which works) and the code generated by ecj.
&gt; Differences found:
&gt; - different order of InnerClasses
&gt; - different order of constant pool entries
&gt; - different #entries in LineNumberTable of ctor of Buggered
&gt; None of these should be significant.

Talk about &quot;should&quot; ...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2561088</commentid>
    <comment_count>16</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-05-09 10:46:51 -0400</bug_when>
    <thetext>Gerrit change https://git.eclipse.org/r/47524 was merged to [master].
Commit: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=27f0a8bf5e0182b2f55d23c88165e43a56aee13f</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2561090</commentid>
    <comment_count>17</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-05-09 10:58:05 -0400</bug_when>
    <thetext>(In reply to Markus Keller from comment #8)
Forget about the search at http://bugs.java.com/ . It doesn&apos;t find anything.
Here&apos;s the JDK bug: https://bugs.openjdk.java.net/browse/JDK-8079784

I&apos;ve pushed the workaround, so that the JDT compiler from the next I-build can be used in subsequent SDK builds.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2561183</commentid>
    <comment_count>18</comment_count>
      <attachid>253368</attachid>
    <who name="David Williams">david_williams</who>
    <bug_when>2015-05-10 12:46:03 -0400</bug_when>
    <thetext>Created attachment 253368
comparator errors, after updating to Saturday&apos;s build

Even though a &quot;test build&quot;, I think the &quot;comparator log&quot; generated will be accurate for what it will be tonight (Sunday, 8 PM) so if anyone wanted to &quot;touch&quot; these two bundles before the build, to &quot;set things right&quot;. The two bundles flagged are, I am assuming, simple cases where they were modified while the M7 compiler was being used, hence have to be touched again, to be &quot;reset&quot; to the &quot;normal&quot; behavior of compiler. 

diffing the &apos;artifactComparison directories&apos; gives the following: 

18a19,20
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext$Enum org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext Enum
10a11,12
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext$Enum org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext Enum
12a13,14
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext$Enum org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext Enum
6a7,8
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/ui/viewsupport/JavaElementLabelComposer$PackageNameAbbreviation org/eclipse/jdt/internal/ui/viewsupport/JavaElementLabelComposer PackageNameAbbreviation
4a5,6
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext$Enum org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext Enum
8a9,10
&gt;   // access flags 0xA
&gt;   private static INNERCLASS org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext$Enum org/eclipse/jdt/internal/corext/refactoring/code/flow/FlowContext Enum
6a7,8
&gt;   // access flags 0x8
&gt;   static INNERCLASS org/eclipse/e4/core/commands/internal/HandlerServiceImpl$ExecutionContexts org/eclipse/e4/core/commands/internal/HandlerServiceImpl ExecutionContexts</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>253368</attachid>
            <date>2015-05-10 12:46:00 -0400</date>
            <delta_ts>2015-05-10 12:46:03 -0400</delta_ts>
            <desc>comparator errors, after updating to Saturday&apos;s build</desc>
            <filename>buildtimeComparatorUnanticipated.log.txt</filename>
            <type>text/plain</type>
            <size>1644</size>
            <attacher name="David Williams">david_williams</attacher>
            
              <data encoding="base64">Q29tcGFyYXRvciBkaWZmZXJlbmNlcyBmcm9tIGN1cnJlbnQgYnVpbGQKCS9zaGFyZWQvZWNsaXBz
ZS9idWlsZHMvNEkvc2l0ZURpci9lY2xpcHNlL2Rvd25sb2Fkcy9kcm9wczQvSTIwMTUwNTEwLTA0
NDMKY29tcGFyZWQgdG8gcmVmZXJlbmNlIHJlcG8gYXQgCglodHRwOi8vZG93bmxvYWQuZWNsaXBz
ZS5vcmcvZWNsaXBzZS91cGRhdGVzLzQuNS1JLWJ1aWxkcwoKMS4gIGVjbGlwc2UucGxhdGZvcm0u
dWkvYnVuZGxlcy9vcmcuZWNsaXBzZS51aS53b3JrYmVuY2gKICAgbm8tY2xhc3NpZmllcjogZGlm
ZmVyZW50CiAgICAgIE1FVEEtSU5GL0VDTElQU0VfLlJTQTogZGlmZmVyZW50CiAgICAgIE1FVEEt
SU5GL0VDTElQU0VfLlNGOiBkaWZmZXJlbnQKICAgICAgb3JnL2VjbGlwc2UvdWkvaW50ZXJuYWwv
V29ya2JlbmNoV2luZG93LmNsYXNzOiBkaWZmZXJlbnQKICAgY2xhc3NpZmllci1zb3VyY2VzOiBk
aWZmZXJlbnQKICAgICAgTUVUQS1JTkYvRUNMSVBTRV8uUlNBOiBkaWZmZXJlbnQKICAgICAgTUVU
QS1JTkYvRUNMSVBTRV8uU0Y6IGRpZmZlcmVudAogICAgVGhlIG1haW4gYXJ0aWZhY3QgaGFzIGJl
ZW4gcmVwbGFjZWQgd2l0aCB0aGUgYmFzZWxpbmUgdmVyc2lvbi4KICAgIFRoZSBmb2xsb3dpbmcg
YXR0YWNoZWQgYXJ0aWZhY3RzIGhhdmUgYmVlbiByZXBsYWNlZCB3aXRoIHRoZSBiYXNlbGluZSB2
ZXJzaW9uOiBbcGFjazIwMCwgc291cmNlc10KCjIuICBlY2xpcHNlLmpkdC51aS9vcmcuZWNsaXBz
ZS5qZHQudWkKICAgbm8tY2xhc3NpZmllcjogZGlmZmVyZW50CiAgICAgIE1FVEEtSU5GL0VDTElQ
U0VfLlJTQTogZGlmZmVyZW50CiAgICAgIE1FVEEtSU5GL0VDTElQU0VfLlNGOiBkaWZmZXJlbnQK
ICAgICAgb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmV4dC9yZWZhY3RvcmluZy9jb2RlL0Nh
bGxJbmxpbmVyLmNsYXNzOiBkaWZmZXJlbnQKICAgICAgb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmV4dC9yZWZhY3RvcmluZy9jb2RlL0V4dHJhY3RNZXRob2RBbmFseXplci5jbGFzczogZGlm
ZmVyZW50CiAgICAgIG9yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JleHQvcmVmYWN0b3Jpbmcv
Y29kZS9Tb3VyY2VBbmFseXplci5jbGFzczogZGlmZmVyZW50CiAgICAgIG9yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC91aS9wcmVmZXJlbmNlcy9BcHBlYXJhbmNlUHJlZmVyZW5jZVBhZ2UuY2xhc3M6
IGRpZmZlcmVudAogICAgICBvcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvdWkvc2VhcmNoL01ldGhv
ZEV4aXRzRmluZGVyLmNsYXNzOiBkaWZmZXJlbnQKICAgICAgb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL3VpL3RleHQvY29ycmVjdGlvbi9TdXJyb3VuZFdpdGguY2xhc3M6IGRpZmZlcmVudAogICBj
bGFzc2lmaWVyLXNvdXJjZXM6IGRpZmZlcmVudAogICAgICBNRVRBLUlORi9FQ0xJUFNFXy5SU0E6
IGRpZmZlcmVudAogICAgICBNRVRBLUlORi9FQ0xJUFNFXy5TRjogZGlmZmVyZW50CiAgICBUaGUg
bWFpbiBhcnRpZmFjdCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIHRoZSBiYXNlbGluZSB2ZXJzaW9u
LgogICAgVGhlIGZvbGxvd2luZyBhdHRhY2hlZCBhcnRpZmFjdHMgaGF2ZSBiZWVuIHJlcGxhY2Vk
IHdpdGggdGhlIGJhc2VsaW5lIHZlcnNpb246IFtwYWNrMjAwLCBzb3VyY2VzXQoK
</data>

          </attachment>
      

    </bug>

</bugzilla>