<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>340029</bug_id>
          
          <creation_ts>2011-03-15 10:26:00 -0400</creation_ts>
          <short_desc>[1.5][compiler] Enum constructor that throws Exception reports a confusing error message</short_desc>
          <delta_ts>2011-04-25 11:04:37 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.7</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.7 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Olivier Thomann">Olivier_Thomann</reporter>
          <assigned_to name="Olivier Thomann">Olivier_Thomann</assigned_to>
          <cc>satyam.kandula</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1899049</commentid>
    <comment_count>0</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-15 10:26:02 -0400</bug_when>
    <thetext>Compiling the following code:
public enum X {
  A, B;
  private X() throws Exception {
  }
}
It reports:
----------
1. ERROR in C:\tests_sources\X.java (at line 1)
	public enum X {
	^
Unhandled exception type Exception
----------
2. ERROR in C:\tests_sources\X.java (at line 1)
	public enum X {
	^
Unhandled exception type Exception
----------
2 problems (2 errors)

It is confusing to find out what the problem is.
The error should be reported against the enum constant.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1899225</commentid>
    <comment_count>1</comment_count>
      <attachid>191229</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-15 13:27:08 -0400</bug_when>
    <thetext>Created attachment 191229
Proposed fix + regression test</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1899226</commentid>
    <comment_count>2</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-03-15 13:27:21 -0400</bug_when>
    <thetext>Released for 3.7M7.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1918405</commentid>
    <comment_count>3</comment_count>
    <who name="Satyam Kandula">satyam.kandula</who>
    <bug_when>2011-04-25 11:04:37 -0400</bug_when>
    <thetext>I think the error message could be further improved by giving the error at X rather than A and B. I have filed bug 343738 to take care of it. 
As the error message has improved, I am marking this as Verified. 
Verified for 3.7M7 using I20110421-1800</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>191229</attachid>
            <date>2011-03-15 13:27:00 -0400</date>
            <delta_ts>2011-03-15 13:27:08 -0400</delta_ts>
            <desc>Proposed fix + regression test</desc>
            <filename>patch_340029.txt</filename>
            <type>text/plain</type>
            <size>4737</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmNvcmUN
CkluZGV4OiBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2Vy
L1BhcnNlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvcGFyc2VyL1BhcnNlci5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40MjIuMi4xNQ0K
ZGlmZiAtdSAtcjEuNDIyLjIuMTUgUGFyc2VyLmphdmENCi0tLSBjb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCTE0IE1hciAyMDExIDE4
OjU5OjU2IC0wMDAwCTEuNDIyLjIuMTUNCisrKyBjb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvcGFyc2VyL1BhcnNlci5qYXZhCTE1IE1hciAyMDExIDE0OjMwOjI4IC0w
MDAwDQpAQCAtMzMxMCw2ICszMzEwLDggQEANCiAgICAgICB9DQogICAgICAgZW51bUNvbnN0YW50
LmluaXRpYWxpemF0aW9uID0gYWxsb2NhdGlvbkV4cHJlc3Npb247DQogICAgfQ0KKyAgIC8vIGlu
aXRpYWxpemUgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBhbGxvY2F0aW9uIGV4cHJlc3Np
b24NCisgICBlbnVtQ29uc3RhbnQuaW5pdGlhbGl6YXRpb24uc291cmNlU3RhcnQgPSBlbnVtQ29u
c3RhbnQuZGVjbGFyYXRpb25Tb3VyY2VTdGFydDsNCiANCiAgICAvLyByZWNvdmVyeQ0KICAgIGlm
ICh0aGlzLmN1cnJlbnRFbGVtZW50ICE9IG51bGwpIHsNCkBAIC0zMzc3LDIyICszMzc5LDMyIEBA
DQogCWZpbmFsIEZpZWxkRGVjbGFyYXRpb24gZmllbGREZWNsYXJhdGlvbiA9IChGaWVsZERlY2xh
cmF0aW9uKSB0aGlzLmFzdFN0YWNrW3RoaXMuYXN0UHRyXTsNCiAJZmllbGREZWNsYXJhdGlvbi5k
ZWNsYXJhdGlvbkVuZCA9IGVuZE9mRW51bUNvbnN0YW50Ow0KIAlmaWVsZERlY2xhcmF0aW9uLmRl
Y2xhcmF0aW9uU291cmNlRW5kID0gZW5kT2ZFbnVtQ29uc3RhbnQ7DQorCS8vIGluaXRpYWxpemUg
dGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBhbGxvY2F0aW9uIGV4cHJlc3Npb24NCisJQVNU
Tm9kZSBpbml0aWFsaXphdGlvbiA9IGZpZWxkRGVjbGFyYXRpb24uaW5pdGlhbGl6YXRpb247DQor
CWlmIChpbml0aWFsaXphdGlvbiAhPSBudWxsKSB7DQorCQlpbml0aWFsaXphdGlvbi5zb3VyY2VF
bmQgPSBlbmRPZkVudW1Db25zdGFudDsNCisJfQ0KIH0NCiBwcm90ZWN0ZWQgdm9pZCBjb25zdW1l
RW51bUNvbnN0YW50cygpIHsNCiAJY29uY2F0Tm9kZUxpc3RzKCk7DQogfQ0KIHByb3RlY3RlZCB2
b2lkIGNvbnN1bWVFbnVtQ29uc3RhbnRXaXRoQ2xhc3NCb2R5KCkgew0KLSAgIGRpc3BhdGNoRGVj
bGFyYXRpb25JbnRvKHRoaXMuYXN0TGVuZ3RoU3RhY2tbdGhpcy5hc3RMZW5ndGhQdHItLV0pOw0K
LSAgIFR5cGVEZWNsYXJhdGlvbiBhbm9ueW1vdXNUeXBlID0gKFR5cGVEZWNsYXJhdGlvbikgdGhp
cy5hc3RTdGFja1t0aGlzLmFzdFB0ci0tXTsgLy8gcG9wIHR5cGUNCi0gICB0aGlzLmFzdExlbmd0
aFB0ci0tOw0KLSAgIGFub255bW91c1R5cGUuYm9keUVuZCA9IHRoaXMuZW5kUG9zaXRpb247DQot
ICAgYW5vbnltb3VzVHlwZS5kZWNsYXJhdGlvblNvdXJjZUVuZCA9IGZsdXNoQ29tbWVudHNEZWZp
bmVkUHJpb3JUbyh0aGlzLmVuZFN0YXRlbWVudFBvc2l0aW9uKTsNCi0gICBmaW5hbCBGaWVsZERl
Y2xhcmF0aW9uIGZpZWxkRGVjbGFyYXRpb24gPSAoKEZpZWxkRGVjbGFyYXRpb24pIHRoaXMuYXN0
U3RhY2tbdGhpcy5hc3RQdHJdKTsNCi0gICBmaWVsZERlY2xhcmF0aW9uLmRlY2xhcmF0aW9uRW5k
ID0gdGhpcy5lbmRTdGF0ZW1lbnRQb3NpdGlvbjsNCi0gICBmaWVsZERlY2xhcmF0aW9uLmRlY2xh
cmF0aW9uU291cmNlRW5kID0gYW5vbnltb3VzVHlwZS5kZWNsYXJhdGlvblNvdXJjZUVuZDsNCi0g
ICB0aGlzLmludFB0ciAtLTsgLy8gcmVtb3ZlIGVuZCBwb3NpdGlvbiBvZiB0aGUgYXJndW1lbnRz
DQotICAgdGhpcy52YXJpYWJsZXNDb3VudGVyW3RoaXMubmVzdGVkVHlwZV0gPSAwOw0KLSAgIHRo
aXMubmVzdGVkVHlwZS0tOw0KKwlkaXNwYXRjaERlY2xhcmF0aW9uSW50byh0aGlzLmFzdExlbmd0
aFN0YWNrW3RoaXMuYXN0TGVuZ3RoUHRyLS1dKTsNCisJVHlwZURlY2xhcmF0aW9uIGFub255bW91
c1R5cGUgPSAoVHlwZURlY2xhcmF0aW9uKSB0aGlzLmFzdFN0YWNrW3RoaXMuYXN0UHRyLS1dOyAv
LyBwb3AgdHlwZQ0KKwl0aGlzLmFzdExlbmd0aFB0ci0tOw0KKwlhbm9ueW1vdXNUeXBlLmJvZHlF
bmQgPSB0aGlzLmVuZFBvc2l0aW9uOw0KKwlhbm9ueW1vdXNUeXBlLmRlY2xhcmF0aW9uU291cmNl
RW5kID0gZmx1c2hDb21tZW50c0RlZmluZWRQcmlvclRvKHRoaXMuZW5kU3RhdGVtZW50UG9zaXRp
b24pOw0KKwlmaW5hbCBGaWVsZERlY2xhcmF0aW9uIGZpZWxkRGVjbGFyYXRpb24gPSAoKEZpZWxk
RGVjbGFyYXRpb24pIHRoaXMuYXN0U3RhY2tbdGhpcy5hc3RQdHJdKTsNCisJZmllbGREZWNsYXJh
dGlvbi5kZWNsYXJhdGlvbkVuZCA9IHRoaXMuZW5kU3RhdGVtZW50UG9zaXRpb247DQorCWludCBk
ZWNsYXJhdGlvblNvdXJjZUVuZCA9IGFub255bW91c1R5cGUuZGVjbGFyYXRpb25Tb3VyY2VFbmQ7
DQorCWZpZWxkRGVjbGFyYXRpb24uZGVjbGFyYXRpb25Tb3VyY2VFbmQgPSBkZWNsYXJhdGlvblNv
dXJjZUVuZDsNCisJdGhpcy5pbnRQdHIgLS07IC8vIHJlbW92ZSBlbmQgcG9zaXRpb24gb2YgdGhl
IGFyZ3VtZW50cw0KKwl0aGlzLnZhcmlhYmxlc0NvdW50ZXJbdGhpcy5uZXN0ZWRUeXBlXSA9IDA7
DQorCXRoaXMubmVzdGVkVHlwZS0tOw0KKwlBU1ROb2RlIGluaXRpYWxpemF0aW9uID0gZmllbGRE
ZWNsYXJhdGlvbi5pbml0aWFsaXphdGlvbjsNCisJaWYgKGluaXRpYWxpemF0aW9uICE9IG51bGwp
IHsNCisJCWluaXRpYWxpemF0aW9uLnNvdXJjZUVuZCA9IGRlY2xhcmF0aW9uU291cmNlRW5kOw0K
Kwl9DQogfQ0KIHByb3RlY3RlZCB2b2lkIGNvbnN1bWVFbnVtRGVjbGFyYXRpb24oKSB7DQogCS8v
IEVudW1EZWNsYXJhdGlvbiA6Oj0gRW51bUhlYWRlciBDbGFzc0hlYWRlckltcGxlbWVudHNvcHQg
RW51bUJvZHkNCiNQIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyDQpJbmRleDog
c3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vRW51bVRl
c3QuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlw
c2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L2NvbXBpbGVyL3JlZ3Jlc3Npb24vRW51bVRlc3QuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9u
IDEuMTU1LjIuMQ0KZGlmZiAtdSAtcjEuMTU1LjIuMSBFbnVtVGVzdC5qYXZhDQotLS0gc3JjL29y
Zy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vRW51bVRlc3QuamF2
YQkxNCBNYXIgMjAxMSAxOTowMDoyMSAtMDAwMAkxLjE1NS4yLjENCisrKyBzcmMvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9FbnVtVGVzdC5qYXZhCTE1IE1h
ciAyMDExIDE0OjMwOjI5IC0wMDAwDQpAQCAtMzMsNyArMzMsNyBAQA0KIAkvLyBBbGwgc3BlY2lm
aWVkIHRlc3RzIHdoaWNoIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgY2xhc3MgYXJlIHNraXBwZWQu
Li4NCiAJc3RhdGljIHsNCiAvLwkJVEVTVFNfTkFNRVMgPSBuZXcgU3RyaW5nW10geyAidGVzdDAw
MCIgfTsNCi0vLwkJVEVTVFNfTlVNQkVSUyA9IG5ldyBpbnRbXSB7IDE4MiB9Ow0KKy8vCQlURVNU
U19OVU1CRVJTID0gbmV3IGludFtdIHsgMTg1IH07DQogLy8JCVRFU1RTX1JBTkdFID0gbmV3IGlu
dFtdIHsgMjEsIDUwIH07DQogCX0NCiAJcHVibGljIHN0YXRpYyBUZXN0IHN1aXRlKCkgew0KQEAg
LTY2NjQsNCArNjY2NCwyNyBAQA0KIAkJY3VzdG9tT3B0aW9ucywNCiAJCW51bGwpOw0KIH0NCisv
L2h0dHBzOi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0NCitwdWJsaWMg
dm9pZCB0ZXN0MTg1KCkgew0KKwl0aGlzLnJ1bk5lZ2F0aXZlVGVzdCgNCisJCW5ldyBTdHJpbmdb
XSB7DQorCQkJIlguamF2YSIsDQorCQkJInB1YmxpYyBlbnVtIFgge1xuIiArIA0KKwkJCSIgIEEs
IEI7XG4iICsgDQorCQkJIiAgcHJpdmF0ZSBYKCkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4iICsgDQor
CQkJIiAgfVxuIiArIA0KKwkJCSJ9IiwNCisJCX0sDQorCQkiLS0tLS0tLS0tLVxuIiArIA0KKwkJ
IjEuIEVSUk9SIGluIFguamF2YSAoYXQgbGluZSAyKVxuIiArIA0KKwkJIglBLCBCO1xuIiArIA0K
KwkJIgleXG4iICsgDQorCQkiVW5oYW5kbGVkIGV4Y2VwdGlvbiB0eXBlIEV4Y2VwdGlvblxuIiAr
IA0KKwkJIi0tLS0tLS0tLS1cbiIgKyANCisJCSIyLiBFUlJPUiBpbiBYLmphdmEgKGF0IGxpbmUg
MilcbiIgKyANCisJCSIJQSwgQjtcbiIgKyANCisJCSIJICAgXlxuIiArIA0KKwkJIlVuaGFuZGxl
ZCBleGNlcHRpb24gdHlwZSBFeGNlcHRpb25cbiIgKyANCisJCSItLS0tLS0tLS0tXG4iKTsNCit9
DQogfQ0K
</data>

          </attachment>
      

    </bug>

</bugzilla>