<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>421017</bug_id>
          
          <creation_ts>2013-11-04 14:55:00 -0500</creation_ts>
          <short_desc>Change jdt.core execution environment to JavaSE-1.6</short_desc>
          <delta_ts>2013-12-10 06:05:54 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.4</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>4.4 M4</target_milestone>
          
          <blocked>421101</blocked>
    
    <blocked>421120</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="John Glassmyer">jogl</reporter>
          <assigned_to name="Jay Arthanareeswaran">jarthana</assigned_to>
          <cc>daniel_megert</cc>
    
    <cc>manpalat</cc>
    
    <cc>markus_keller</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>shankhba</cc>
    
    <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
    
    <cc>thirumala</cc>
    
    <cc>tparker</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2326408</commentid>
    <comment_count>0</comment_count>
    <who name="John Glassmyer">jogl</who>
    <bug_when>2013-11-04 14:55:57 -0500</bug_when>
    <thetext>Change the minimum execution environment for org.eclipse.jdt.core from J2SE-1.4 to JavaSE-1.6.  This will allow the use of Java 1.5 and 1.6 language features in ongoing development and in the refactoring of internal jdt.core classes.

Note that this bug neither requires nor suggests any changes to public API classes of jdt.core or migration of existing jdt.core code; it is assumed that those things would be proposed and tracked separately if and when they were deemed appropriate.

This bug simply allows the use of generics, enums, and other language features introduced since 1.4 to facilitate development and avoid the accumulation of technical debt within internal jdt.core code.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326442</commentid>
    <comment_count>1</comment_count>
    <who name="John Glassmyer">jogl</who>
    <bug_when>2013-11-04 16:14:27 -0500</bug_when>
    <thetext>Change is at https://git.eclipse.org/r/18054.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326499</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-11-04 21:04:48 -0500</bug_when>
    <thetext>Interesting that you should raise this bug now. Just last week, we discussed
this and decide to move to either 1.6 or 1.7 for development for JDT/Core.
(of course we will still continue to support projects built with lower levels
as we do today.)

Out of curiosity, what is your interest in this ?

Jay, let us do this for M4 and cherry pick to JAVA8 branch as soon as possible
please. TIA.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326552</commentid>
    <comment_count>3</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-11-05 02:36:01 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #2)
&gt; Interesting that you should raise this bug now. Just last week, we discussed
&gt; this and decide to move to either 1.6 or 1.7 for development for JDT/Core.

At the end we decided that 1.7 is too eager, but 1.6 is fine. When doing the switch, please make sure that the corresponding compiler settings/warnings are correctly adjusted for 1.6.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326724</commentid>
    <comment_count>4</comment_count>
    <who name="John Glassmyer">jogl</who>
    <bug_when>2013-11-05 09:46:42 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #2)
&gt; Out of curiosity, what is your interest in this ?

I am looking at rewriting parts of ImportRewriteAnalyzer and wouldn&apos;t want to do so without generics.  Also, a co-worker has been doing work on the formatter and would like to use generics and enums there.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2326886</commentid>
    <comment_count>5</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-11-05 13:19:56 -0500</bug_when>
    <thetext>Sounds good. I just wanted to stress again that this is only for

&gt; internal jdt.core code

As we all know, APIs usually cannot be generified piecewise, so we should not start projects like bug 421101 for now and keep APIs raw until we have time to do this right.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2330558</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-15 02:48:10 -0500</bug_when>
    <thetext>(In reply to John Glassmyer from comment #1)
&gt; Change is at https://git.eclipse.org/r/18054.

This needs adjustments in compiler error preferences. With the patch, even after ignoring &apos;Unchecked generic type&apos; and &apos;Usage or raw type&apos;, there are quite a few extra warnings. These need to be taken care of as part of the fix.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333163</commentid>
    <comment_count>7</comment_count>
    <who name="John Glassmyer">jogl</who>
    <bug_when>2013-11-21 15:31:15 -0500</bug_when>
    <thetext>Thanks, Jayaprakash.  I have updated the patch:

- Included all the changes to org.eclipse.jdt.core.prefs which get applied automatically when switching execution environment 1.4 -&gt; 1.6, except:
-- Set &quot;Unchecked generic type operation&quot; to &quot;Ignore&quot;.
-- Set &quot;Usage of a raw type&quot; to &quot;Ignore&quot;.
- Fixed warnings related to unnecessary casts and ambiguity in varargs array arguments.

Please let me know if this is appropriate.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333361</commentid>
    <comment_count>8</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-22 06:39:51 -0500</bug_when>
    <thetext>(In reply to John Glassmyer from comment #7)
&gt; Thanks, Jayaprakash.  I have updated the patch:
&gt; Please let me know if this is appropriate.

Changes look good to me.

Just to make sure that everyone here understands, this will mean that from now on, ECJ can&apos;t be used with a JRE &lt; 1.6. If anyone sees any problem with that, please raise your concern.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333372</commentid>
    <comment_count>9</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-11-22 07:13:15 -0500</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #8)
&gt; (In reply to John Glassmyer from comment #7)
&gt; &gt; Thanks, Jayaprakash.  I have updated the patch:
&gt; &gt; Please let me know if this is appropriate.
&gt; 
&gt; Changes look good to me.
&gt; 
&gt; Just to make sure that everyone here understands, this will mean that from
&gt; now on, ECJ can&apos;t be used with a JRE &lt; 1.6. If anyone sees any problem with
&gt; that, please raise your concern.

Dani, is there a need to send a blastogram via eclipse-dev and/or jdt-dev to
alert folks ?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2333856</commentid>
    <comment_count>10</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2013-11-25 03:58:48 -0500</bug_when>
    <thetext>(In reply to Srikanth Sankaran from comment #9)
&gt; (In reply to Jayaprakash Arthanareeswaran from comment #8)
&gt; &gt; (In reply to John Glassmyer from comment #7)
&gt; &gt; &gt; Thanks, Jayaprakash.  I have updated the patch:
&gt; &gt; &gt; Please let me know if this is appropriate.
&gt; &gt; 
&gt; &gt; Changes look good to me.
&gt; &gt; 
&gt; &gt; Just to make sure that everyone here understands, this will mean that from
&gt; &gt; now on, ECJ can&apos;t be used with a JRE &lt; 1.6. If anyone sees any problem with
&gt; &gt; that, please raise your concern.
&gt; 
&gt; Dani, is there a need to send a blastogram via eclipse-dev and/or jdt-dev to
&gt; alert folks ?

I don&apos;t think this is needed. Java SE 5 is EOL for the public since October 2009.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2334019</commentid>
    <comment_count>11</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-25 10:15:47 -0500</bug_when>
    <thetext>I have looked at the patch and found it to be good. 

Stephan, can you take a look at the null analysis related preferences and see if you are fine with them? Once you approve we can release the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2334023</commentid>
    <comment_count>12</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2013-11-25 10:23:14 -0500</bug_when>
    <thetext>(In reply to Jayaprakash Arthanareeswaran from comment #8)
&gt; (In reply to John Glassmyer from comment #7)
&gt; &gt; Thanks, Jayaprakash.  I have updated the patch:
&gt; &gt; Please let me know if this is appropriate.
&gt; 
&gt; Changes look good to me.
&gt; 
&gt; Just to make sure that everyone here understands, this will mean that from
&gt; now on, ECJ can&apos;t be used with a JRE &lt; 1.6. If anyone sees any problem with
&gt; that, please raise your concern.
We should check with Tomcat if they are still using ecj and require a 1.4 VM. We had that requirement a long time ago. Maybe this is no longer the case.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2334165</commentid>
    <comment_count>13</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2013-11-25 13:31:38 -0500</bug_when>
    <thetext>http://tomcat.apache.org/whichversion.html says:
- Tomcat 7.x (latest stable release) requires Java 1.6
- Tomcat 6.x (earlier stable release) requires Java 1.5

=&gt; I wouldn&apos;t expect a maintenance release to update to ecj from Luna, so that should not keep us away from 1.6 (whose EOL for public updates was Feb 2013).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2335403</commentid>
    <comment_count>14</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-28 04:54:07 -0500</bug_when>
    <thetext>(In reply to Markus Keller from comment #13)
&gt; http://tomcat.apache.org/whichversion.html says:
&gt; - Tomcat 7.x (latest stable release) requires Java 1.6
&gt; - Tomcat 6.x (earlier stable release) requires Java 1.5

The last tomcat 6 release (6.0.37) is dated 2012-10-01. I supposed they won&apos;t have another release after all, will they? I have done a bit of testing and everything work as expected and I will push the changes now.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2335424</commentid>
    <comment_count>15</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-28 05:34:55 -0500</bug_when>
    <thetext>Released:

http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e8930029b77e0476bcc546eb53a911b883170f0a</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2335486</commentid>
    <comment_count>16</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2013-11-28 08:08:42 -0500</bug_when>
    <thetext>Stephan, I went ahead and released this so we could test for any issues early enough. Feel free to adjust any preferences which you think necessary.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2339794</commentid>
    <comment_count>17</comment_count>
    <who name="Manoj Palat Away Until May 11 2015">manpalat</who>
    <bug_when>2013-12-10 06:05:54 -0500</bug_when>
    <thetext> Verified for Eclipse Luna (4.4M4) Build id: I20131209-2000</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>