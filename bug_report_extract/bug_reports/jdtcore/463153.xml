<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>463153</bug_id>
          
          <creation_ts>2015-03-26 04:11:00 -0400</creation_ts>
          <short_desc>[test][builder] test failures in BasicBuildTests and BuildPathTests</short_desc>
          <delta_ts>2015-04-02 12:09:26 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M7</target_milestone>
          <dependson>461838</dependson>
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Sasikanth Bharadwaj">saammana</reporter>
          <assigned_to name="Markus Keller">markus_keller</assigned_to>
          <cc>jarthana</cc>
    
    <cc>manpalat</cc>
    
    <cc>markus_keller</cc>
    
    <cc>stephan.herrmann</cc>
    
    <cc>szymon.ptaszkiewicz</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2537662</commentid>
    <comment_count>0</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-03-26 04:11:39 -0400</bug_when>
    <thetext>Platforms: all

build Id: N20150325-2000

http://download.eclipse.org/eclipse/downloads/drops4/N20150325-2000/testResults.php

testbBug386901	Failure	Invalid problem(s)!!!. ----------- Expected ------------ Problem : AZ cannot be resolved to a type [ resource : &lt;/Project/src/p/AB.java&gt; range : &lt;36,38&gt; category : &lt;40&gt; severity : &lt;2&gt;] ------------ but was ------------ --------- Difference is ---------- expected:&lt;[Problem : AZ cannot be resolved to a type [ resource : &lt;/Project/src/p/AB.java&gt; range : &lt;36,38&gt; category : &lt;40&gt; severity : &lt;2&gt;]]&gt; but was:&lt;[]&gt;

junit.framework.ComparisonFailure: Invalid problem(s)!!!.
----------- Expected ------------
Problem : AZ cannot be resolved to a type [ resource : &lt;/Project/src/p/AB.java&gt; range : &lt;36,38&gt; category : &lt;40&gt; severity : &lt;2&gt;]
------------ but was ------------

--------- Difference is ----------
expected:&lt;[Problem : AZ cannot be resolved to a type [ resource : &lt;/Project/src/p/AB.java&gt; range : &lt;36,38&gt; category : &lt;40&gt; severity : &lt;2&gt;]]&gt; but was:&lt;[]&gt;
at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertStringEquals(TestCase.java:268)
at org.eclipse.jdt.core.tests.junit.extension.TestCase.assumeEquals(TestCase.java:288)
at org.eclipse.jdt.core.tests.builder.BuilderTests.expectingProblemsFor(BuilderTests.java:333)
at org.eclipse.jdt.core.tests.builder.BuilderTests.expectingProblemsFor(BuilderTests.java:326)
at org.eclipse.jdt.core.tests.builder.BasicBuildTests.testbBug386901(BasicBuildTests.java:600)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:657)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)
at org.eclipse.equinox.launcher.Main.run(Main.java:1465)
at org.eclipse.equinox.launcher.Main.main(Main.java:1438)
at org.eclipse.core.launcher.Main.main(Main.java:34)

testMissingLibrary2	Failure	missing expected problem: Problem : The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files [ resource : &lt;/Project/src/p1/Test1.java&gt; range : &lt;-1,-1&gt; category : &lt;-1&gt; severity : &lt;2&gt;]

junit.framework.AssertionFailedError: missing expected problem: Problem : The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files [ resource : &lt;/Project/src/p1/Test1.java&gt; range : &lt;-1,-1&gt; category : &lt;-1&gt; severity : &lt;2&gt;]
at org.eclipse.jdt.core.tests.junit.extension.TestCase.assumeTrue(TestCase.java:350)
at org.eclipse.jdt.core.tests.builder.BuilderTests.expectingSpecificProblemsFor(BuilderTests.java:389)
at org.eclipse.jdt.core.tests.builder.BuilderTests.expectingSpecificProblemFor(BuilderTests.java:354)
at org.eclipse.jdt.core.tests.builder.BuildpathTests.testMissingLibrary2(BuildpathTests.java:670)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:657)
at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310)
at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36)
at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32)
at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)
at org.eclipse.equinox.launcher.Main.run(Main.java:1465)
at org.eclipse.equinox.launcher.Main.main(Main.java:1438)
at org.eclipse.core.launcher.Main.main(Main.java:34)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2538294</commentid>
    <comment_count>1</comment_count>
    <who name="Sasikanth Bharadwaj">saammana</who>
    <bug_when>2015-03-27 04:18:59 -0400</bug_when>
    <thetext>Failed in N20150325-2000 as well.
Platform: all

http://download.eclipse.org/eclipse/downloads/drops4/N20150326-2000/testResults.php</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2538755</commentid>
    <comment_count>2</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-27 19:45:24 -0400</bug_when>
    <thetext>Gee, how can this consistently fail on all platforms, twice in a row, but pass when run locally?

Has it been failing in any Gerrit jobs?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2538817</commentid>
    <comment_count>3</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-28 09:10:28 -0400</bug_when>
    <thetext>(In reply to Stephan Herrmann from comment #2)
&gt; Gee, how can this consistently fail on all platforms, twice in a row, but
&gt; pass when run locally?
&gt; 
&gt; Has it been failing in any Gerrit jobs?

To answer my own question, it also failed via Gerrit:

https://hudson.eclipse.org/platform/job/eclipse.jdt.core-Gerrit/151/testReport/org.eclipse.jdt.core.tests.builder/BasicBuildTests/testbBug386901/

https://hudson.eclipse.org/platform/job/eclipse.jdt.core-Gerrit/151/testReport/org.eclipse.jdt.core.tests.builder/BuildpathTests/testMissingLibrary2/</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2538819</commentid>
    <comment_count>4</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-03-28 10:24:56 -0400</bug_when>
    <thetext>The regression is caused by http://git.eclipse.org/c/platform/eclipse.platform.resources.git/commit/?id=f334481779d0a0d85761605e516392186acbb789 on behalf of bug 461838.

I&apos;ve disabled the two tests in question via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=ade181db7356e902754c81dd9d71430c049ed0c1</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2539373</commentid>
    <comment_count>5</comment_count>
    <who name="Markus Keller">markus_keller</who>
    <bug_when>2015-03-30 09:36:14 -0400</bug_when>
    <thetext>Instead of disabling and forgetting the tests, let&apos;s just adapt them to the new build order.

Fixed with http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=c7f9539fa0d2c7dd5ba718179636fb1d50eefced</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2541717</commentid>
    <comment_count>6</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-04-02 12:09:26 -0400</bug_when>
    <thetext>Verified for 4.5 M7 with build I20150331-0800.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>