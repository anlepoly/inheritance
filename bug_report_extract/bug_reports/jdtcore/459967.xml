<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>459967</bug_id>
          
          <creation_ts>2015-02-15 16:54:00 -0500</creation_ts>
          <short_desc>[null] compiler should know about nullness of special methods like MyEnum.valueOf()</short_desc>
          <delta_ts>2015-04-27 05:12:19 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.5</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          <see_also>https://git.eclipse.org/r/45592</see_also>
    
    <see_also>https://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e92ab0eafbe7472576da485243db5aa49da5df74</see_also>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>4.5 M7</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Stephan Herrmann">stephan.herrmann</reporter>
          <assigned_to name="Stephan Herrmann">stephan.herrmann</assigned_to>
          <cc>jarthana</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2519102</commentid>
    <comment_count>0</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-02-15 16:54:48 -0500</bug_when>
    <thetext>Missing nullness information for the JRE can be attached using external annotations (see bug 331651), but for some methods, we still don&apos;t have a place to put annotations, because those methods are never declared in any source.

Examples are the values() / valueOf() pair of methods generated into each enum type. Given we statically know the contract of those methods, the compiler should implicitly know about their nullness, too.

Basically, all kinds of SyntheticMethodBinding are candidates, to be scanned which ones can actually impact null analysis.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2544513</commentid>
    <comment_count>1</comment_count>
    <who name="Eclipse Genie">genie</who>
    <bug_when>2015-04-09 16:07:42 -0400</bug_when>
    <thetext>New Gerrit change created: https://git.eclipse.org/r/45592</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2545216</commentid>
    <comment_count>2</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2015-04-11 09:59:56 -0400</bug_when>
    <thetext>Resolved for 4.5 M7 via http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?id=e92ab0eafbe7472576da485243db5aa49da5df74

The fix handles:

 - MyEnum.valueOf()
   -&gt; @NonNull MyEnum

 - MyEnum.values()
   1.7- -&gt; @NonNull MyEnum[] (nonnull array, unknown elements)
   1.8+ -&gt; @NonNull MyEnum @NonNull[]

 - X[]::new
   -&gt; () -&gt; X @NonNull[] (nonnull array, unknown elements)

 - X[]::clone
   -&gt; () -&gt; X @NonNull[] (nonnull array, unknown elements)


Looking at SyntheticMethodBinding.purpose these should be all relevant synthetic methods.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2552062</commentid>
    <comment_count>3</comment_count>
    <who name="Jay Arthanareeswaran">jarthana</who>
    <bug_when>2015-04-27 05:12:19 -0400</bug_when>
    <thetext>Verified for 4.5 M7 with build I20150426-2000.</thetext>
  </long_desc>
      
      

    </bug>

</bugzilla>