<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>359943</bug_id>
          
          <creation_ts>2011-10-05 00:57:00 -0400</creation_ts>
          <short_desc>invokedynamic in generated class file is not correctly recognized by the eclipse compiler</short_desc>
          <delta_ts>2011-10-25 10:17:54 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>3.8</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.8 M3</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Sebastian Sickelmann">sebastian.sickelmann</reporter>
          <assigned_to name="Olivier Thomann">Olivier_Thomann</assigned_to>
          <cc>amj87.iitr</cc>
    
    <cc>daniel_megert</cc>
    
    <cc>Olivier_Thomann</cc>
    
    <cc>srikanth_sankaran</cc>
    
    <cc>stephan.herrmann</cc>
          
          <votes>0</votes>

      

      

      <flag name="review"
          id="46141"
          type_id="1"
          status="+"
          setter="amj87.iitr"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2005070</commentid>
    <comment_count>0</comment_count>
    <who name="Sebastian Sickelmann">sebastian.sickelmann</who>
    <bug_when>2011-10-05 00:57:53 -0400</bug_when>
    <thetext>Build Identifier: 20110916-0149

An invokedynamic instruction in a generated classfile is not resolved correct by the eclipse compiler and the &quot;Class File Editor&quot;-view. I uploaded a demo project to my github-incubator.

Reproducible: Always

Steps to Reproduce:
1. Download eclipse project under jdk/invokedynamic/helloDyn from git://github.com/picpromusic/incubator.git (for a quick look use this url:https://github.com/picpromusic/incubator/tree/master/jdk/invokedynamic/helloDyn)
2. Install (http://forge.ow2.org/projects/asm/) and install it as eclipse library (name asm4) to complete classpath of the project. I used asm 4.0 RC1
3. Compile with eclipse and start class M (output should be START\nDONE\nEND\n)
4. Start class GEN (this generated a class G in directory gen which is up most on the classpath)
5. Start class M (without any refresh/recompile on the project) (output should be (START\nBootstrap\nDONE\nEND)
6. Refresh project / Recompile Project (now there is a compile error in M, the class G cannot be resolved)
7. Double click on gen/G.class doesn&apos;t show up no byte code instructions (maybe it has the same reason as the unresolveable G)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005282</commentid>
    <comment_count>1</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-05 09:39:38 -0400</bug_when>
    <thetext>(In reply to comment #0)
&gt; 2. Install (http://forge.ow2.org/projects/asm/) and install it as eclipse
&gt; library (name asm4) to complete classpath of the project. I used asm 4.0 RC1

I downloaded asm-4.0RC1.jar, but when i add that to the classpath I still see classpath errors. 

Project &apos;helloDyn&apos; is missing required Java project: &apos;asm3&apos;
Project &apos;helloDyn&apos; is missing required library: &apos;gen&apos;

Am i missing something?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005329</commentid>
    <comment_count>2</comment_count>
    <who name="Sebastian Sickelmann">sebastian.sickelmann</who>
    <bug_when>2011-10-05 10:39:14 -0400</bug_when>
    <thetext>(In reply to comment #1)
&gt; (In reply to comment #0)
&gt; &gt; 2. Install (http://forge.ow2.org/projects/asm/) and install it as eclipse
&gt; &gt; library (name asm4) to complete classpath of the project. I used asm 4.0 RC1
&gt; 
&gt; I downloaded asm-4.0RC1.jar, but when i add that to the classpath I still see
&gt; classpath errors. 
&gt; 
&gt; Project &apos;helloDyn&apos; is missing required Java project: &apos;asm3&apos;
&gt; Project &apos;helloDyn&apos; is missing required library: &apos;gen&apos;
&gt; 
&gt; Am i missing something?

I am sorry. Forgot to push my classpath changes, now it should use asm4 as System-library. If you want to add asm-4.0RC1.jar to the classpath by your own, then you must remove the asm4 library entry in classpath.

Please pull actual version.

the gen-directory was deleted by git, because it was empty. Now i put a .txt file in the dir.

Sorry. It was my fault.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005353</commentid>
    <comment_count>3</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 10:54:58 -0400</bug_when>
    <thetext>Reproduced it by manually updating the classpath. I am working on adding support for the new constant pool entries.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005514</commentid>
    <comment_count>4</comment_count>
      <attachid>204625</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 15:19:47 -0400</bug_when>
    <thetext>Created attachment 204625
Proposed fix

You might have to remove the first two segments of the patch to be able to apply it.

With this patch, G.class can now be disassembled:
//  (version 1.7 : 51.0, no super bit)
public class G {
  
  // Method descriptor #6 ()V
  // Stack: 0, Locals: 0
  public static void call();
    0  invokedynamic 0 dyn() : void [17]
    5  return

Bootstrap methods:
  0 : # 13 arguments: {#14}
}

It looks better when using the disassembler from the command line:
//  (version 1.7 : 51.0, no super bit)
public class G {
  Constant pool:
    constant #1 utf8: &quot;G&quot;
    constant #2 class: #1 G
    constant #3 utf8: &quot;java/lang/Object&quot;
    constant #4 class: #3 java/lang/Object
    constant #5 utf8: &quot;call&quot;
    constant #6 utf8: &quot;()V&quot;
    constant #7 utf8: &quot;M&quot;
    constant #8 class: #7 M
    constant #9 utf8: &quot;bootstrap&quot;
    constant #10 utf8: &quot;(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;&quot;
    constant #11 name_and_type: #9.#10 bootstrap (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;
    constant #12 method_ref: #8.#11 M.bootstrap (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;
    constant #13 method handle: invokestatic (6) #12 
    constant #14 integer: 1
    constant #15 utf8: &quot;dyn&quot;
    constant #16 name_and_type: #15.#6 dyn ()V
    constant #17 invoke dynamic: #0 #16 dyn ()V
    constant #18 utf8: &quot;Code&quot;
    constant #19 utf8: &quot;BootstrapMethods&quot;
  
  // Method descriptor #6 ()V
  // Stack: 0, Locals: 0
  public static void call();
    0  invokedynamic 0 dyn() : void [17]
    5  return

Bootstrap methods:
  0 : # 13 arguments: {#14}
}

And the reference to G.call() is not longer seen as unresolved.

Ayushman, please review.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005533</commentid>
    <comment_count>5</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 15:51:11 -0400</bug_when>
    <thetext>According to Jay, that patch doesn&apos;t apply well. Working on a new patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005540</commentid>
    <comment_count>6</comment_count>
      <attachid>204629</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 16:00:19 -0400</bug_when>
    <thetext>Created attachment 204629
Proposed fix

This patch should apply, but it might report whitespaces warnings.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005575</commentid>
    <comment_count>7</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 16:34:43 -0400</bug_when>
    <thetext>Daniel,

I was not aware of any particular changes in the class file format for Java 7. New constant pool entries have been added and a new attribute (Bootstrap Methoew) as well.
The patch adds the missing pieces and tried to prevent API breakage. I added a new interface IConstantPoolEntry2 to handle the new entries.

Let me know what you think. The given test case can now be handled without an issue. I am not how frequent .class files with these new elements can be found. So for now I would only fix this inside master and backport it to 3.7.2 only if necessary.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005588</commentid>
    <comment_count>8</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 16:55:10 -0400</bug_when>
    <thetext>Sebastian, could you please provide an example that would end up using the MethodType constant pool entry to validate the new support?
Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005591</commentid>
    <comment_count>9</comment_count>
      <attachid>204639</attachid>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-05 16:57:21 -0400</bug_when>
    <thetext>Created attachment 204639
Sample of G.class that is using some of the new constant pool entries

This .class file cannot be properly disassembled using the disassembler inside master. It works fine with the patch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005668</commentid>
    <comment_count>10</comment_count>
    <who name="Sebastian Sickelmann">sebastian.sickelmann</who>
    <bug_when>2011-10-05 23:42:25 -0400</bug_when>
    <thetext>(In reply to comment #7)
&gt; Daniel,
&gt; 
&gt; I was not aware of any particular changes in the class file format for Java 7.
&gt; New constant pool entries have been added and a new attribute (Bootstrap
&gt; Methoew) as well.
&gt; The patch adds the missing pieces and tried to prevent API breakage. I added a
&gt; new interface IConstantPoolEntry2 to handle the new entries.
&gt; 
&gt; Let me know what you think. The given test case can now be handled without an
&gt; issue. I am not how frequent .class files with these new elements can be found.
&gt; So for now I would only fix this inside master and backport it to 3.7.2 only if
&gt; necessary.

I am not quite sure how often this will be used in the nearest future but almost any dynamic language that runs on the jvm is actually porting to invoke dynamic. And for interoperability it would be nice to have this in 3.7.2.

Not be able to build against a library that is created with ex. &quot;jruby for jvm7&quot; would a real blocker in the future.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005674</commentid>
    <comment_count>11</comment_count>
    <who name="Sebastian Sickelmann">sebastian.sickelmann</who>
    <bug_when>2011-10-06 00:56:32 -0400</bug_when>
    <thetext>(In reply to comment #9)
&gt; Created attachment 204639 [details]
&gt; Sample of G.class that is using some of the new constant pool entries
&gt; 
&gt; This .class file cannot be properly disassembled using the disassembler inside
&gt; master. It works fine with the patch.

(In reply to comment #8)
&gt; Sebastian, could you please provide an example that would end up using the
&gt; MethodType constant pool entry to validate the new support?
&gt; Thanks.

For this i am unfortuantly forces to refactor the project. So that G now is in package test. I pushed these changed to my github-incubator.

Please pull the changes.

I will upload a shrinked classfile (this should be contain the MethodType constant pool, but i am not sure it does).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005675</commentid>
    <comment_count>12</comment_count>
      <attachid>204649</attachid>
    <who name="Sebastian Sickelmann">sebastian.sickelmann</who>
    <bug_when>2011-10-06 00:58:57 -0400</bug_when>
    <thetext>Created attachment 204649
Class file that should contain the methodtype constant pool

Don&apos;t know if it realy contains the constant pool. And i don&apos;t know why a shrinked (ASM-Library Shrinker-Class) version of the class is actually bigger that the original. Maybe because of another constant-pool.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2005683</commentid>
    <comment_count>13</comment_count>
    <who name="Dani Megert">daniel_megert</who>
    <bug_when>2011-10-06 01:53:23 -0400</bug_when>
    <thetext>Let&apos;s keep this on the waiting list for 3.7.2. Depending on whether we get more reports during the next weeks we can include it.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2006184</commentid>
    <comment_count>14</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-06 16:21:00 -0400</bug_when>
    <thetext>(In reply to comment #12)
&gt; Don&apos;t know if it realy contains the constant pool. And i don&apos;t know why a
&gt; shrinked (ASM-Library Shrinker-Class) version of the class is actually bigger
&gt; that the original. Maybe because of another constant-pool.
Thanks. It does contain the MethodType constant pool entry.
//  (version 1.2 : 46.0, no super bit)
public class test.G {
  Constant pool:
    constant #1 integer: 1
    constant #2 utf8: &quot;()V&quot;
    constant #3 utf8: &quot;(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;&quot;
    constant #4 utf8: &quot;Code&quot;
    constant #5 utf8: &quot;bootstrap&quot;
    constant #6 utf8: &quot;call&quot;
    constant #7 utf8: &quot;dyn&quot;
    constant #8 utf8: &quot;java/lang/Object&quot;
    constant #9 utf8: &quot;test/G&quot;
    constant #10 utf8: &quot;test/M&quot;
    constant #11 class: #8 java/lang/Object
    constant #12 class: #9 test/G
    constant #13 class: #10 test/M
    constant #14 name_and_type: #5.#3 bootstrap (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;
    constant #15 name_and_type: #7.#2 dyn ()V
    constant #16 method_ref: #13.#14 test/M.bootstrap (Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;I)Ljava/lang/invoke/CallSite;
    constant #17 method handle: invokestatic (6) #16 
    constant #18 invoke dynamic: #0 #15 dyn ()V
    constant #19 method type: #7 dyn
    constant #20 utf8: &quot;BootstrapMethods&quot;
  
  // Method descriptor #2 ()V
  // Stack: 0, Locals: 0
  public static void call();
    0  invokedynamic 0 dyn() : void [18]
    5  return

Bootstrap methods:
  0 : # 17 arguments: {#1}
}

I&apos;ll commit the code to origin/master to ease Ayushman&apos;s review as the patch has some whitespace issues.
Ayushman, I&apos;ll update the buildnotes with the new APIs once your review is done.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2006367</commentid>
    <comment_count>15</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-07 05:45:42 -0400</bug_when>
    <thetext>Patch looks good. Verified against JVM spec (Java 7 edition).

Olivier, just like we added tests for the new Stackmap attribute in java6, can we also add a few for the new Bootstrap methods attribute?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2006412</commentid>
    <comment_count>16</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-07 08:07:46 -0400</bug_when>
    <thetext>I think we should use the given G.class ans open them using the disassembler for regression tests.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2007094</commentid>
    <comment_count>17</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-10-08 14:14:55 -0400</bug_when>
    <thetext>(In reply to comment #14)
&gt; I&apos;ll commit the code to origin/master ...

could this commit be responsible for the regressions in builds &gt;= 20111007?

We get a header like
// Compiled from X.java (version 1.6 : 50.0, super bit)\n
where it is not expected.

I couldn&apos;t exactly see what would have caused this to change, did anything
in the patch change the disassemble mode??</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2007308</commentid>
    <comment_count>18</comment_count>
    <who name="Olivier Thomann">Olivier_Thomann</who>
    <bug_when>2011-10-09 22:26:07 -0400</bug_when>
    <thetext>(In reply to comment #17)
&gt; could this commit be responsible for the regressions in builds &gt;= 20111007?
It was responsible for the 14 failures. I cannot explain all the failures on Windows XP 1.6.
Should be fixed either in this N-build or the next one.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2007328</commentid>
    <comment_count>19</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-10 01:29:25 -0400</bug_when>
    <thetext>(In reply to comment #18)
&gt; (In reply to comment #17)
&gt; &gt; could this commit be responsible for the regressions in builds &gt;= 20111007?
&gt; It was responsible for the 14 failures. I cannot explain all the failures on
&gt; Windows XP 1.6.
&gt; Should be fixed either in this N-build or the next one.

Filed bug 360379 to track this.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2009146</commentid>
    <comment_count>20</comment_count>
    <who name="Ayushman Jain">amj87.iitr</who>
    <bug_when>2011-10-12 10:13:24 -0400</bug_when>
    <thetext>Added a regression test using the G.class file.
Released in HEAD via Commit id 18358d3eb05898fd25311c84d0aaa48b90eefeb3</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2016189</commentid>
    <comment_count>21</comment_count>
    <who name="Stephan Herrmann">stephan.herrmann</who>
    <bug_when>2011-10-25 10:17:54 -0400</bug_when>
    <thetext>Verified for 3.8 M3 using build N20111022-2000</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>204625</attachid>
            <date>2011-10-05 15:19:00 -0400</date>
            <delta_ts>2011-10-05 16:00:19 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>patch_359943.txt</filename>
            <type>text/plain</type>
            <size>61694</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2YQppbmRleCA3MDk1YWYxLi5hMjFi
NjgxIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3NmbXQvQ2xhc3NGaWxlQ29uc3RhbnRzLmphdmEK
KysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmlsZUNvbnN0YW50cy5qYXZhCkBAIC0xLDUgKzEs
NSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAw
OCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAx
MSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRo
aXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2
YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEu
MAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFi
bGUgYXQKQEAgLTU4LDYgKzU4LDkgQEAgcHVibGljIGludGVyZmFjZSBDbGFzc0ZpbGVDb25zdGFu
dHMgewogCWludCBNZXRob2RSZWZUYWcgPSAxMDsKIAlpbnQgSW50ZXJmYWNlTWV0aG9kUmVmVGFn
ID0gMTE7CiAJaW50IE5hbWVBbmRUeXBlVGFnID0gMTI7CisJaW50IE1ldGhvZEhhbmRsZVRhZyA9
IDE1OworCWludCBNZXRob2RUeXBlVGFnID0gMTY7CisJaW50IEludm9rZUR5bmFtaWNUYWcgPSAx
ODsKIAogCWludCBDb25zdGFudE1ldGhvZFJlZkZpeGVkU2l6ZSA9IDU7CiAJaW50IENvbnN0YW50
Q2xhc3NGaXhlZFNpemUgPSAzOwpAQCAtNzAsNiArNzMsOSBAQCBwdWJsaWMgaW50ZXJmYWNlIENs
YXNzRmlsZUNvbnN0YW50cyB7CiAJaW50IENvbnN0YW50U3RyaW5nRml4ZWRTaXplID0gMzsKIAlp
bnQgQ29uc3RhbnRVdGY4Rml4ZWRTaXplID0gMzsKIAlpbnQgQ29uc3RhbnROYW1lQW5kVHlwZUZp
eGVkU2l6ZSA9IDU7CisJaW50IENvbnN0YW50TWV0aG9kSGFuZGxlRml4ZWRTaXplID0gNDsKKwlp
bnQgQ29uc3RhbnRNZXRob2RUeXBlRml4ZWRTaXplID0gMzsKKwlpbnQgQ29uc3RhbnRJbnZva2VE
eW5hbWljRml4ZWRTaXplID0gNTsKIAogCWludCBNQUpPUl9WRVJTSU9OXzFfMSA9IDQ1OwogCWlu
dCBNQUpPUl9WRVJTSU9OXzFfMiA9IDQ2OwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0Ns
YXNzRmlsZVJlYWRlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmlsZVJlYWRlci5qYXZh
CmluZGV4IGQyYTJiNjIuLjhmZWM0Y2IgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jbGFzc2ZtdC9DbGFz
c0ZpbGVSZWFkZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3NmbXQvQ2xhc3NGaWxlUmVhZGVyLmph
dmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0
IChjKSAyMDAwLCAyMDEwIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0
IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwog
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjA3LDYgKzIwNywxOSBAQCBwdWJsaWMgQ2xhc3NGaWxl
UmVhZGVyKGJ5dGVbXSBjbGFzc0ZpbGVCeXRlcywgY2hhcltdIGZpbGVOYW1lLCBib29sZWFuIGZ1
bGx5SW5pdAogCQkJCWNhc2UgQ2xhc3NGaWxlQ29uc3RhbnRzLk5hbWVBbmRUeXBlVGFnIDoKIAkJ
CQkJdGhpcy5jb25zdGFudFBvb2xPZmZzZXRzW2ldID0gcmVhZE9mZnNldDsKIAkJCQkJcmVhZE9m
ZnNldCArPSBDbGFzc0ZpbGVDb25zdGFudHMuQ29uc3RhbnROYW1lQW5kVHlwZUZpeGVkU2l6ZTsK
KwkJCQkJYnJlYWs7CisJCQkJY2FzZSBDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFuZGxlVGFn
IDoKKwkJCQkJdGhpcy5jb25zdGFudFBvb2xPZmZzZXRzW2ldID0gcmVhZE9mZnNldDsKKwkJCQkJ
cmVhZE9mZnNldCArPSBDbGFzc0ZpbGVDb25zdGFudHMuQ29uc3RhbnRNZXRob2RIYW5kbGVGaXhl
ZFNpemU7CisJCQkJCWJyZWFrOworCQkJCWNhc2UgQ2xhc3NGaWxlQ29uc3RhbnRzLk1ldGhvZFR5
cGVUYWcgOgorCQkJCQl0aGlzLmNvbnN0YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0Owor
CQkJCQlyZWFkT2Zmc2V0ICs9IENsYXNzRmlsZUNvbnN0YW50cy5Db25zdGFudE1ldGhvZFR5cGVG
aXhlZFNpemU7CisJCQkJCWJyZWFrOworCQkJCWNhc2UgQ2xhc3NGaWxlQ29uc3RhbnRzLkludm9r
ZUR5bmFtaWNUYWcgOgorCQkJCQl0aGlzLmNvbnN0YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zm
c2V0OworCQkJCQlyZWFkT2Zmc2V0ICs9IENsYXNzRmlsZUNvbnN0YW50cy5Db25zdGFudEludm9r
ZUR5bmFtaWNGaXhlZFNpemU7CisJCQkJCWJyZWFrOwogCQkJfQogCQl9CiAJCS8vIFJlYWQgYW5k
IHZhbGlkYXRlIGFjY2VzcyBmbGFncwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUv
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9CeXRlQ29kZVZpc2l0b3JBZGFwdGVyLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGls
L0J5dGVDb2RlVmlzaXRvckFkYXB0ZXIuamF2YQppbmRleCBkZDg5NGFkLi5jMjNhZjEzIDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91
dGlsL0J5dGVDb2RlVmlzaXRvckFkYXB0ZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0J5dGVDb2RlVmlzaXRvckFkYXB0ZXIu
amF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmln
aHQgKGMpIDIwMDAsIDIwMDkgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmln
aHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmln
aHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxz
CiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1
YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC05MjMsOCArOTIzLDkgQEAgcHVibGljIGNsYXNzIEJ5
dGVDb2RlVmlzaXRvckFkYXB0ZXIgaW1wbGVtZW50cyBJQnl0ZWNvZGVWaXNpdG9yIHsKIAkJLy8g
ZGVmYXVsdCBiZWhhdmlvciBpcyB0byBkbyBub3RoaW5nCiAJfQogCS8qKgotCSAqIEBzZWUgSUJ5
dGVjb2RlVmlzaXRvciNfaW52b2tlaW50ZXJmYWNlKGludCwgaW50LCBieXRlLCBJQ29uc3RhbnRQ
b29sRW50cnkpCisJICogQHNlZSBJQnl0ZWNvZGVWaXNpdG9yI19pbnZva2VkeW5hbWljKGludCwg
aW50LCBJQ29uc3RhbnRQb29sRW50cnksIElDb25zdGFudFBvb2xFbnRyeSkKIAkgKiBAc2luY2Ug
My42CisJICogQGRlcHJlY2F0ZWQgVGhpcyBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIHtAbGluayBJ
Qnl0ZWNvZGVWaXNpdG9yI19pbnZva2VkeW5hbWljKGludCwgaW50LCBJQ29uc3RhbnRQb29sRW50
cnkpfQogCSAqLwogCXB1YmxpYyB2b2lkIF9pbnZva2VkeW5hbWljKAogCQkJaW50IHBjLApAQCAt
OTM0LDYgKzkzNSwxNiBAQCBwdWJsaWMgY2xhc3MgQnl0ZUNvZGVWaXNpdG9yQWRhcHRlciBpbXBs
ZW1lbnRzIElCeXRlY29kZVZpc2l0b3IgewogCQkvLyBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGRv
IG5vdGhpbmcKIAl9CiAJLyoqCisJICogQHNlZSBJQnl0ZWNvZGVWaXNpdG9yI19pbnZva2VkeW5h
bWljKGludCwgaW50LCBJQ29uc3RhbnRQb29sRW50cnkpCisJICogQHNpbmNlIDMuOAorCSAqLwor
CXB1YmxpYyB2b2lkIF9pbnZva2VkeW5hbWljKAorCQkJaW50IHBjLAorCQkJaW50IGluZGV4LAor
CQkJSUNvbnN0YW50UG9vbEVudHJ5IGludm9rZUR5bmFtaWNFbnRyeSkgeworCQkvLyBkZWZhdWx0
IGJlaGF2aW9yIGlzIHRvIGRvIG5vdGhpbmcKKwl9CisJLyoqCiAJICogQHNlZSBJQnl0ZWNvZGVW
aXNpdG9yI19pbnZva2VpbnRlcmZhY2UoaW50LCBpbnQsIGJ5dGUsIElDb25zdGFudFBvb2xFbnRy
eSkKIAkgKi8KIAlwdWJsaWMgdm9pZCBfaW52b2tlaW50ZXJmYWNlKApkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQXR0cmli
dXRlTmFtZXNDb25zdGFudHMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3V0aWwvSUF0dHJpYnV0ZU5hbWVzQ29uc3RhbnRzLmphdmEKaW5kZXgg
ZTVkYWZhNC4uZGE4MzhlYyAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQXR0cmlidXRlTmFtZXNDb25zdGFudHMuamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGls
L0lBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwOCBJQk0gQ29ycG9yYXRp
b24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRp
b24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQg
dGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE0MCw0
ICsxNDAsMTAgQEAgcHVibGljIGludGVyZmFjZSBJQXR0cmlidXRlTmFtZXNDb25zdGFudHMgewog
CSAqIEBzaW5jZSAzLjIKIAkgKi8KIAljaGFyW10gU1RBQ0tfTUFQID0gIlN0YWNrTWFwIi50b0No
YXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJCisJLyoqCisJICogIkJvb3RzdHJhcE1ldGhvZHMi
IGF0dHJpYnV0ZSAoYWRkZWQgaW4gY2xkYzEuMCkuCisJICogQHNpbmNlIDMuOAorCSAqLworCWNo
YXJbXSBCT09UU1RSQVBfTUVUSE9EUyA9ICJCb290c3RyYXBNZXRob2RzIi50b0NoYXJBcnJheSgp
OyAvLyROT04tTkxTLTEkCiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2Rl
bC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCb290c3RyYXBNZXRob2RzQXR0cmlidXRlLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGls
L0lCb290c3RyYXBNZXRob2RzQXR0cmlidXRlLmphdmEKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5k
ZXggMDAwMDAwMC4uYTBiODE2NgotLS0gL2Rldi9udWxsCisrKyBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGUuamF2YQpAQCAtMCwwICsxLDQwIEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICog
Q29weXJpZ2h0IChjKSAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwKKyAqCisgKiBDb250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KK3BhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbDsKKworLyoqCisgKiBEZXNjcmlw
dGlvbiBvZiBhIGJvb3RzdHJhcCBtZXRob2RzIGF0dHJpYnV0ZSBhcyBkZXNjcmliZWQgaW4gdGhl
IEpWTSBzcGVjaWZpY2F0aW9ucy4KKyAqCisgKiBUaGlzIGludGVyZmFjZSBtYXkgYmUgaW1wbGVt
ZW50ZWQgYnkgY2xpZW50cy4KKyAqCisgKiBAc2luY2UgMy44CisgKi8KK3B1YmxpYyBpbnRlcmZh
Y2UgSUJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUgZXh0ZW5kcyBJQ2xhc3NGaWxlQXR0cmlidXRl
IHsKKworCS8qKgorCSAqIEFuc3dlciBiYWNrIHRoZSBudW1iZXIgb2YgYm9vdHN0cmFwIG1ldGhv
ZHMgb2YgdGhpcyBlbnRyeSBhcyBzcGVjaWZpZWQgaW4KKwkgKiB0aGUgSlZNIHNwZWNpZmljYXRp
b25zLgorCSAqCisJICogQHJldHVybiB0aGUgbG9jYWwgdmFyaWFibGUgdGFibGUgbGVuZ3RoIG9m
IHRoaXMgZW50cnkgYXMgc3BlY2lmaWVkIGluCisJICogdGhlIEpWTSBzcGVjaWZpY2F0aW9ucwor
CSAqLworCWludCBnZXRCb290c3RyYXBNZXRob2RzTGVuZ3RoKCk7CisKKwkvKioKKwkgKiBBbnN3
ZXIgYmFjayB0aGUgYm9vdHN0cmFwIG1ldGhvZHMgdGFibGUgb2YgdGhpcyBlbnRyeSBhcyBzcGVj
aWZpZWQgaW4KKwkgKiB0aGUgSlZNIHNwZWNpZmljYXRpb25zLiBBbnN3ZXIgYW4gZW1wdHkgYXJy
YXkgaWYgbm9uZS4KKwkgKgorCSAqIEByZXR1cm4gdGhlIGJvb3RzdHJhcCBtZXRob2RzIHRhYmxl
IG9mIHRoaXMgZW50cnkgYXMgc3BlY2lmaWVkIGluCisJICogdGhlIEpWTSBzcGVjaWZpY2F0aW9u
cy4gQW5zd2VyIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUKKwkgKi8KKwlJQm9vdHN0cmFwTWV0aG9k
c0VudHJ5W10gZ2V0Qm9vdHN0cmFwTWV0aG9kcygpOworCit9CmRpZmYgLS1naXQgYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCb290c3RyYXBN
ZXRob2RzRW50cnkuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNl
L2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNFbnRyeS5qYXZhCm5ldyBmaWxlIG1vZGUg
MTAwNjQ0CmluZGV4IDAwMDAwMDAuLjQwNzhlODUKLS0tIC9kZXYvbnVsbAorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCb290c3RyYXBN
ZXRob2RzRW50cnkuamF2YQpAQCAtMCwwICsxLDI0IEBACisvKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KgorICogQ29weXJpZ2h0IChjKSAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICog
QWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1h
dGVyaWFscworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9s
ZWdhbC9lcGwtdjEwLmh0bWwKKyAqCisgKiBDb250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8KK3BhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbDsKKworLyoqCisgKiBE
ZXNjcmlwdGlvbiBvZiBhIGJvb3RzdHJhcCBtZXRob2QgdGFibGUgZW50cnkgYXMgc3BlY2lmaWVk
IGluIHRoZSBKVk0gc3BlY2lmaWNhdGlvbnMuCisgKgorICogVGhpcyBpbnRlcmZhY2UgbWF5IGJl
IGltcGxlbWVudGVkIGJ5IGNsaWVudHMuCisgKgorICogQHNpbmNlIDMuOAorICovCitwdWJsaWMg
aW50ZXJmYWNlIElCb290c3RyYXBNZXRob2RzRW50cnkgeworCisJaW50IGdldEJvb3RzdHJhcE1l
dGhvZFJlZmVyZW5jZSgpOworCWludFtdIGdldEJvb3RzdHJhcEFyZ3VtZW50cygpOworfQpkaWZm
IC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUv
dXRpbC9JQnl0ZWNvZGVWaXNpdG9yLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9v
cmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCeXRlY29kZVZpc2l0b3IuamF2YQppbmRleCA1MmNj
YjE2Li5mMzZkYjhjIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcv
ZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCeXRlY29kZVZpc2l0b3IuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCeXRlY29kZVZp
c2l0b3IuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBD
b3B5cmlnaHQgKGMpIDIwMDAsIDIwMDkgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBD
b3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJp
YnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0xNjgsMTIgKzE2OCwyMCBAQCBwdWJsaWMg
aW50ZXJmYWNlIElCeXRlY29kZVZpc2l0b3IgewogCQlJQ29uc3RhbnRQb29sRW50cnkgY29uc3Rh
bnRDbGFzcyk7CiAJLyoqCiAJICogQHNpbmNlIDMuNgorCSAqIEBkZXByZWNhdGVkIFRoaXMgaGFz
IGJlZW4gcmVwbGFjZWQgd2l0aCB7QGxpbmsgI19pbnZva2VkeW5hbWljKGludCwgaW50LCBJQ29u
c3RhbnRQb29sRW50cnkpfQogCSAqLwogCXZvaWQgX2ludm9rZWR5bmFtaWMoCiAJCQlpbnQgcGMs
CiAJCQlpbnQgaW5kZXgsCiAJCQlJQ29uc3RhbnRQb29sRW50cnkgbmFtZUVudHJ5LAogCQkJSUNv
bnN0YW50UG9vbEVudHJ5IGRlc2NyaXB0b3JFbnRyeSk7CisJLyoqCisJICogQHNpbmNlIDMuOAor
CSAqLworCXZvaWQgX2ludm9rZWR5bmFtaWMoCisJCQlpbnQgcGMsCisJCQlpbnQgaW5kZXgsCisJ
CQlJQ29uc3RhbnRQb29sRW50cnkgaW52b2tlRHluYW1pYyk7CiAJdm9pZCBfaW52b2tlaW50ZXJm
YWNlKAogCQlpbnQgcGMsCiAJCWludCBpbmRleCwKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbC5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9J
Q29uc3RhbnRQb29sLmphdmEKaW5kZXggNjk1MjYwNi4uOWY1N2JiMSAxMDA2NDQKLS0tIGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3Rh
bnRQb29sLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2Uv
amR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA5IElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBh
Y2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjcs
OCArMjcsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2wgewogCWludCBnZXRDb25z
dGFudFBvb2xDb3VudCgpOwogCiAJLyoqCi0JICogQW5zd2VyIGJhY2sgdGhlIHR5cGUgb2YgdGhl
IGVudHJ5IGF0IHRoZSBpbmRleCBAaW5kZXgKLQkgKiBpbiB0aGUgY29uc3RhbnQgcG9vbC4KKwkg
KiBBbnN3ZXIgYmFjayB0aGUgdHlwZSBvZiB0aGUgZW50cnkgYXQgdGhlIGdpdmVuIGluZGV4IGlu
IHRoZSBjb25zdGFudCBwb29sLgogCSAqCiAJICogQHBhcmFtIGluZGV4IHRoZSBpbmRleCBvZiB0
aGUgZW50cnkgaW4gdGhlIGNvbnN0YW50IHBvb2wKIAkgKiBAcmV0dXJuIHRoZSB0eXBlIG9mIHRo
ZSBlbnRyeSBhdCB0aGUgaW5kZXggQGluZGV4IGluIHRoZSBjb25zdGFudCBwb29sCkBAIC0zNiwx
MSArMzUsMTQgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sIHsKIAlpbnQgZ2V0RW50
cnlLaW5kKGludCBpbmRleCk7CiAKIAkvKioKLQkgKiBBbnN3ZXIgYmFjayB0aGUgZW50cnkgYXQg
dGhlIGluZGV4IEBpbmRleAotCSAqIGluIHRoZSBjb25zdGFudCBwb29sLgorCSAqIEFuc3dlciBi
YWNrIHRoZSBlbnRyeSBhdCB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIGNvbnN0YW50IHBvb2wuCisJ
ICogCisJICogPHA+VGhlIHJldHVybiB2YWx1ZSBjYW4gYmUgYW4gaW5zdGFuY2Ugb2Yge0BsaW5r
IElDb25zdGFudFBvb2xFbnRyeTJ9IGlmIHRoZSB2YWx1ZSByZXR1cm5lZAorCSAqIGJ5IHtAbGlu
ayAjZ2V0RW50cnlLaW5kKGludCl9IGlzIGVpdGhlciB7QGxpbmsgSUNvbnN0YW50UG9vbENvbnN0
YW50I0NPTlNUQU5UX01ldGhvZEhhbmRsZX0sCisJICoge0BsaW5rIElDb25zdGFudFBvb2xDb25z
dGFudCNDT05TVEFOVF9NZXRob2RUeXBlfSBvciB7QGxpbmsgSUNvbnN0YW50UG9vbENvbnN0YW50
I0NPTlNUQU5UX0ludm9rZUR5bmFtaWN9LjwvcD4KIAkgKgogCSAqIEBwYXJhbSBpbmRleCB0aGUg
aW5kZXggb2YgdGhlIGVudHJ5IGluIHRoZSBjb25zdGFudCBwb29sCi0JICogQHJldHVybiB0aGUg
ZW50cnkgYXQgdGhlIGluZGV4IEBpbmRleCBpbiB0aGUgY29uc3RhbnQgcG9vbAorCSAqIEByZXR1
cm4gdGhlIGVudHJ5IGF0IHRoZSBnaXZlbiBpbmRleCBpbiB0aGUgY29uc3RhbnQgcG9vbAogCSAq
LwogCUlDb25zdGFudFBvb2xFbnRyeSBkZWNvZGVFbnRyeShpbnQgaW5kZXgpOwogfQpkaWZmIC0t
Z2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRp
bC9JQ29uc3RhbnRQb29sQ29uc3RhbnQuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVs
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbENvbnN0YW50LmphdmEKaW5k
ZXggYmM3Y2I1NC4uZmY2ZWQyMiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9k
ZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sQ29uc3RhbnQuamF2YQor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGls
L0lDb25zdGFudFBvb2xDb25zdGFudC5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwOCBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhl
IGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUg
dGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21w
YW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTI5LDYgKzI5
LDE4IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbENvbnN0YW50IHsKIAlpbnQgQ09O
U1RBTlRfRG91YmxlID0gNjsKIAlpbnQgQ09OU1RBTlRfTmFtZUFuZFR5cGUgPSAxMjsKIAlpbnQg
Q09OU1RBTlRfVXRmOCA9IDE7CisJLyoqCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBDT05T
VEFOVF9NZXRob2RIYW5kbGUgPSAxNTsKKwkvKioKKwkgKiBAc2luY2UgMy44CisJICovCisJaW50
IENPTlNUQU5UX01ldGhvZFR5cGUgPSAxNjsKKwkvKioKKwkgKiBAc2luY2UgMy44CisJICovCisJ
aW50IENPTlNUQU5UX0ludm9rZUR5bmFtaWMgPSAxODsKIAogCWludCBDT05TVEFOVF9NZXRob2Ry
ZWZfU0laRSA9IDU7CiAJaW50IENPTlNUQU5UX0NsYXNzX1NJWkUgPSAzOwpAQCAtNDEsNSArNTMs
NjIgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQgewogCWludCBDT05T
VEFOVF9TdHJpbmdfU0laRSA9IDM7CiAJaW50IENPTlNUQU5UX1V0ZjhfU0laRSA9IDM7CiAJaW50
IENPTlNUQU5UX05hbWVBbmRUeXBlX1NJWkUgPSA1OworCS8qKgorCSAqIEBzaW5jZSAzLjgKKwkg
Ki8KKwlpbnQgQ09OU1RBTlRfTWV0aG9kSGFuZGxlX1NJWkUgPSA0OworCS8qKgorCSAqIEBzaW5j
ZSAzLjgKKwkgKi8KKwlpbnQgQ09OU1RBTlRfTWV0aG9kVHlwZV9TSVpFID0gMzsKKwkvKioKKwkg
KiBAc2luY2UgMy44CisJICovCisJaW50IENPTlNUQU5UX0ludm9rZUR5bmFtaWNfU0laRSA9IDU7
CiAKKwkvKioKKwkgKiBUaGUgY29uc3RhbnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhl
IEphdmEgNyBWTSBzcGVjaWZpY2F0aW9uIChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkgKi8K
KwlpbnQgTUVUSE9EX1RZUEVfUkVGX0dldEZpZWxkID0gMTsKKwkvKioKKwkgKiBUaGUgY29uc3Rh
bnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhlIEphdmEgNyBWTSBzcGVjaWZpY2F0aW9u
IChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgTUVUSE9EX1RZUEVfUkVGX0dl
dFN0YXRpYyA9IDI7CisJLyoqCisJICogVGhlIGNvbnN0YW50IGlzIGRlc2NyaWJlZCBhdCA1LjQu
My41IGluIHRoZSBKYXZhIDcgVk0gc3BlY2lmaWNhdGlvbiAocGFydCAzKS4KKwkgKiBAc2luY2Ug
My44CisJICovCisJaW50IE1FVEhPRF9UWVBFX1JFRl9QdXRGaWVsZCA9IDM7CisJLyoqCisJICog
VGhlIGNvbnN0YW50IGlzIGRlc2NyaWJlZCBhdCA1LjQuMy41IGluIHRoZSBKYXZhIDcgVk0gc3Bl
Y2lmaWNhdGlvbiAocGFydCAzKS4KKwkgKiBAc2luY2UgMy44CisJICovCisJaW50IE1FVEhPRF9U
WVBFX1JFRl9QdXRTdGF0aWMgPSA0OworCS8qKgorCSAqIFRoZSBjb25zdGFudCBpcyBkZXNjcmli
ZWQgYXQgNS40LjMuNSBpbiB0aGUgSmF2YSA3IFZNIHNwZWNpZmljYXRpb24gKHBhcnQgMykuCisJ
ICogQHNpbmNlIDMuOAorCSAqLworCWludCBNRVRIT0RfVFlQRV9SRUZfSW52b2tlVmlydHVhbCA9
IDU7CisJLyoqCisJICogVGhlIGNvbnN0YW50IGlzIGRlc2NyaWJlZCBhdCA1LjQuMy41IGluIHRo
ZSBKYXZhIDcgVk0gc3BlY2lmaWNhdGlvbiAocGFydCAzKS4KKwkgKiBAc2luY2UgMy44CisJICov
CisJaW50IE1FVEhPRF9UWVBFX1JFRl9JbnZva2VTdGF0aWMgPSA2OworCS8qKgorCSAqIFRoZSBj
b25zdGFudCBpcyBkZXNjcmliZWQgYXQgNS40LjMuNSBpbiB0aGUgSmF2YSA3IFZNIHNwZWNpZmlj
YXRpb24gKHBhcnQgMykuCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBNRVRIT0RfVFlQRV9S
RUZfSW52b2tlU3BlY2lhbCA9IDc7CisJLyoqCisJICogVGhlIGNvbnN0YW50IGlzIGRlc2NyaWJl
ZCBhdCA1LjQuMy41IGluIHRoZSBKYXZhIDcgVk0gc3BlY2lmaWNhdGlvbiAocGFydCAzKS4KKwkg
KiBAc2luY2UgMy44CisJICovCisJaW50IE1FVEhPRF9UWVBFX1JFRl9OZXdJbnZva2VTcGVjaWFs
ID0gODsKKwkvKioKKwkgKiBUaGUgY29uc3RhbnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4g
dGhlIEphdmEgNyBWTSBzcGVjaWZpY2F0aW9uIChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkg
Ki8KKwlpbnQgTUVUSE9EX1RZUEVfUkVGX0ludm9rZUludGVyZmFjZSA9IDk7CiB9CmRpZmYgLS1n
aXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGls
L0lDb25zdGFudFBvb2xFbnRyeS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3Jn
L2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sRW50cnkuamF2YQppbmRleCA0ODdh
ZDgyLi5jNzViZDQwIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcv
ZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFudFBvb2xFbnRyeS5qYXZhCisrKyBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50
UG9vbEVudHJ5LmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgot
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA5IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgor
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgog
ICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5n
IG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRp
c3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMzIsNiArMzIsNyBAQCBwdWJsaWMg
aW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lm
aWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhlIG5hbWUgaW5kZXggZm9yIGEgQ09O
U1RBTlRfQ2xhc3MgdHlwZSBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NP
TlNUQU5UX0NsYXNzCiAJICovCiAJaW50IGdldENsYXNzSW5mb05hbWVJbmRleCgpOwogCkBAIC00
MiwxNiArNDMsMjUgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sRW50cnkgewogCSAq
CiAJICogQHJldHVybiB0aGUgY2xhc3MgaW5kZXggZm9yIGEgQ09OU1RBTlRfRmllbGRyZWYsCiAJ
ICogQ09OU1RBTlRfTWV0aG9kcmVmLCBDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYgdHlwZSBl
bnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX0ZpZWxkcmVmCisJ
ICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfTWV0aG9kcmVmCisJICogQHNl
ZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmCiAJICov
CiAJaW50IGdldENsYXNzSW5kZXgoKTsKIAogCS8qKgogCSAqIFJldHVybnMgdGhlIG5hbWVBbmRU
eXBlIGluZGV4IGZvciBhIENPTlNUQU5UX0ZpZWxkcmVmLAotCSAqIENPTlNUQU5UX01ldGhvZHJl
ZiwgQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIHR5cGUgZW50cnkuCisJICogQ09OU1RBTlRf
TWV0aG9kcmVmLCBDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYsCisJICogQ09OU1RBTlRfSW52
b2tlRHluYW1pYyB0eXBlIGVudHJ5LgogCSAqIFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhl
cndpc2UuCiAJICoKIAkgKiBAcmV0dXJuIHRoZSBuYW1lQW5kVHlwZSBpbmRleCBmb3IgYSBDT05T
VEFOVF9GaWVsZHJlZiwKLQkgKiBDT05TVEFOVF9NZXRob2RyZWYsIENPTlNUQU5UX0ludGVyZmFj
ZU1ldGhvZHJlZiB0eXBlIGVudHJ5CisJICogQ09OU1RBTlRfTWV0aG9kcmVmLCBDT05TVEFOVF9J
bnRlcmZhY2VNZXRob2RyZWYsCisJICogQ09OU1RBTlRfSW52b2tlRHluYW1pYyB0eXBlIGVudHJ5
CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmllbGRyZWYKKwkgKiBA
c2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRob2RyZWYKKwkgKiBAc2VlIElD
b25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYKKwkgKiBAc2Vl
IElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9JbnZva2VEeW5hbWljCiAJICovCiAJaW50
IGdldE5hbWVBbmRUeXBlSW5kZXgoKTsKIApAQCAtNjAsNiArNzAsNyBAQCBwdWJsaWMgaW50ZXJm
YWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90
aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhlIHN0cmluZyBpbmRleCBmb3IgYSBDT05TVEFO
VF9TdHJpbmcgdHlwZSBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNU
QU5UX1N0cmluZwogCSAqLwogCWludCBnZXRTdHJpbmdJbmRleCgpOwogCkBAIC02OCw2ICs3OSw3
IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBSZXR1cm5zIG51
bGwgb3RoZXJ3aXNlLgogCSAqCiAJICogQHJldHVybiB0aGUgc3RyaW5nIHZhbHVlIGZvciBhIENP
TlNUQU5UX1N0cmluZyB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQj
Q09OU1RBTlRfU3RyaW5nCiAJICovCiAJU3RyaW5nIGdldFN0cmluZ1ZhbHVlKCk7CiAKQEAgLTc2
LDYgKzg4LDcgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sRW50cnkgewogCSAqIFRo
ZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhlcndpc2UuCiAJICoKIAkgKiBAcmV0dXJuIHRoZSBp
bnRlZ2VyIHZhbHVlIGZvciBhIENPTlNUQU5UX0ludGVnZXIgdHlwZSBlbnRyeQorCSAqIEBzZWUg
SUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX0ludGVnZXIKIAkgKi8KIAlpbnQgZ2V0SW50
ZWdlclZhbHVlKCk7CiAKQEAgLTg0LDYgKzk3LDcgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3Rh
bnRQb29sRW50cnkgewogCSAqIFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhlcndpc2UuCiAJ
ICoKIAkgKiBAcmV0dXJuIHRoZSBmbG9hdCB2YWx1ZSBmb3IgYSBDT05TVEFOVF9GbG9hdCB0eXBl
IGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmxvYXQKIAkg
Ki8KIAlmbG9hdCBnZXRGbG9hdFZhbHVlKCk7CiAKQEAgLTkyLDYgKzEwNiw3IEBAIHB1YmxpYyBp
bnRlcmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZp
ZWQgb3RoZXJ3aXNlLgogCSAqCiAJICogQHJldHVybiB0aGUgZG91YmxlIHZhbHVlIGZvciBhIENP
TlNUQU5UX0RvdWJsZSB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQj
Q09OU1RBTlRfRG91YmxlCiAJICovCiAJZG91YmxlIGdldERvdWJsZVZhbHVlKCk7CiAKQEAgLTEw
MCw2ICsxMTUsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICog
VGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhl
IGxvbmcgdmFsdWUgZm9yIGEgQ09OU1RBTlRfTG9uZyB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29u
c3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfTG9uZwogCSAqLwogCWxvbmcgZ2V0TG9uZ1ZhbHVl
KCk7CiAKQEAgLTEwOCw2ICsxMjQsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xF
bnRyeSB7CiAJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KIAkgKgogCSAq
IEByZXR1cm4gdGhlIGRlc2NyaXB0b3IgaW5kZXggZm9yIGEgQ09OU1RBTlRfTmFtZUFuZFR5cGUg
dHlwZSBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX05hbWVB
bmRUeXBlCiAJICovCiAJaW50IGdldE5hbWVBbmRUeXBlSW5mb0Rlc2NyaXB0b3JJbmRleCgpOwog
CkBAIC0xMTYsNiArMTMzLDcgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sRW50cnkg
ewogCSAqIFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhlcndpc2UuCiAJICoKIAkgKiBAcmV0
dXJuIHRoZSBuYW1lIGluZGV4IGZvciBhIENPTlNUQU5UX05hbWVBbmRUeXBlIHR5cGUgZW50cnkK
KwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9OYW1lQW5kVHlwZQogCSAq
LwogCWludCBnZXROYW1lQW5kVHlwZUluZm9OYW1lSW5kZXgoKTsKIApAQCAtMTI0LDYgKzE0Miw3
IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBSZXR1cm5zIG51
bGwgb3RoZXJ3aXNlLgogCSAqCiAJICogQHJldHVybiB0aGUgY2xhc3MgbmFtZSBmb3IgYSBDT05T
VEFOVF9DbGFzcyB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09O
U1RBTlRfQ2xhc3MKIAkgKi8KIAljaGFyW10gZ2V0Q2xhc3NJbmZvTmFtZSgpOwogCkBAIC0xMzQs
NiArMTUzLDkgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sRW50cnkgewogCSAqCiAJ
ICogQHJldHVybiB0aGUgY2xhc3MgbmFtZSBmb3IgYSBDT05TVEFOVF9GaWVsZHJlZiwKIAkgKiBD
T05TVEFOVF9NZXRob2RyZWYsIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZiB0eXBlIGVudHJ5
CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmllbGRyZWYKKwkgKiBA
c2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRob2RyZWYKKwkgKiBAc2VlIElD
b25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYKIAkgKi8KIAlj
aGFyW10gZ2V0Q2xhc3NOYW1lKCk7CiAKQEAgLTE0MiwxNiArMTY0LDIwIEBAIHB1YmxpYyBpbnRl
cmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBSZXR1cm5zIG51bGwgb3RoZXJ3aXNlLgog
CSAqCiAJICogQHJldHVybiB0aGUgZmllbGQgbmFtZSBmb3IgYSBDT05TVEFOVF9GaWVsZHJlZiB0
eXBlIGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmllbGRy
ZWYKIAkgKi8KIAljaGFyW10gZ2V0RmllbGROYW1lKCk7CiAKIAkvKioKLQkgKiBSZXR1cm5zIHRo
ZSBmaWVsZCBuYW1lIGZvciBhIENPTlNUQU5UX01ldGhvZHJlZiBvciBDT05TVEFOVF9JbnRlcmZh
Y2VNZXRob2RyZWQKLQkgKiB0eXBlIGVudHJ5LgorCSAqIFJldHVybnMgdGhlIGZpZWxkIG5hbWUg
Zm9yIGEgQ09OU1RBTlRfTWV0aG9kcmVmLCBDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYKKwkg
KiBvciBDT05TVEFOVF9JbnZva2VEeW5hbWljIHR5cGUgZW50cnkuCiAJICogUmV0dXJucyBudWxs
IG90aGVyd2lzZS4KIAkgKgotCSAqIEByZXR1cm4gdGhlIGZpZWxkIG5hbWUgZm9yIGEgQ09OU1RB
TlRfTWV0aG9kcmVmIG9yIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZAotCSAqIHR5cGUgZW50
cnkKKwkgKiBAcmV0dXJuIHRoZSBtZXRob2QgbmFtZSBmb3IgYSBDT05TVEFOVF9NZXRob2RyZWYs
IENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZgorCSAqIG9yIENPTlNUQU5UX0ludm9rZUR5bmFt
aWMgdHlwZSBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX01l
dGhvZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX0ludGVyZmFj
ZU1ldGhvZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX0ludm9r
ZUR5bmFtaWMKIAkgKi8KIAljaGFyW10gZ2V0TWV0aG9kTmFtZSgpOwogCkBAIC0xNjIsMTggKzE4
OCwyNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICoKIAkgKiBA
cmV0dXJuIHRoZSBmaWVsZCBkZXNjcmlwdG9yIHZhbHVlIGZvciBhIENPTlNUQU5UX0ZpZWxkcmVm
IHR5cGUgZW50cnkuIFRoaXMgdmFsdWUKIAkgKiBpcyBzZXQgb25seSB3aGVuIGRlY29kaW5nIHRo
ZSBDT05TVEFOVF9GaWVsZHJlZiBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50
I0NPTlNUQU5UX0ZpZWxkcmVmCiAJICovCiAJY2hhcltdIGdldEZpZWxkRGVzY3JpcHRvcigpOwog
CiAJLyoqCiAJICogUmV0dXJucyB0aGUgbWV0aG9kIGRlc2NyaXB0b3IgdmFsdWUgZm9yIGEgQ09O
U1RBTlRfTWV0aG9kcmVmIG9yCiAJICogQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIHR5cGUg
ZW50cnkuIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyB0aGUKLQkgKiBDT05T
VEFOVF9NZXRob2RyZWYgb3IgQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIGVudHJ5LgorCSAq
IENPTlNUQU5UX01ldGhvZHJlZiwgQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmLCBDT05TVEFO
VF9NZXRob2RUeXBlCisJICogb3IgQ09OU1RBTlRfSW52b2tlRHluYW1pYyBlbnRyeS4KKwkgKiAK
IAkgKiBSZXR1cm5zIG51bGwgb3RoZXJ3aXNlLgogCSAqCi0JICogQHJldHVybiB0aGUgbWV0aG9k
IGRlc2NyaXB0b3IgdmFsdWUgZm9yIGEgQ09OU1RBTlRfTWV0aG9kcmVmIG9yCisJICogQHJldHVy
biB0aGUgbWV0aG9kIGRlc2NyaXB0b3IgdmFsdWUgZm9yIGEgQ09OU1RBTlRfTWV0aG9kcmVmLAog
CSAqIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZiB0eXBlIGVudHJ5LiBUaGlzIHZhbHVlIGlz
IHNldCBvbmx5IHdoZW4gZGVjb2RpbmcgdGhlCi0JICogQ09OU1RBTlRfTWV0aG9kcmVmIG9yIENP
TlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZiBlbnRyeQorCSAqIENPTlNUQU5UX01ldGhvZHJlZiwg
Q09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmLCBDT05TVEFOVF9NZXRob2RUeXBlCisJICogb3Ig
Q09OU1RBTlRfSW52b2tlRHluYW1pYyBlbnRyeQorCSAqCisJICogQHNlZSBJQ29uc3RhbnRQb29s
Q29uc3RhbnQjQ09OU1RBTlRfTWV0aG9kcmVmCisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3Rh
bnQjQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmCisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29u
c3RhbnQjQ09OU1RBTlRfTWV0aG9kVHlwZQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50
I0NPTlNUQU5UX0ludm9rZUR5bmFtaWMKIAkgKi8KIAljaGFyW10gZ2V0TWV0aG9kRGVzY3JpcHRv
cigpOwogCkBAIC0xODQsNiArMjE5LDcgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29s
RW50cnkgewogCSAqCiAJICogQHJldHVybiB0aGUgdXRmOCB2YWx1ZSBmb3IgYSBDT05TVEFOVF9V
dGY4IHR5cGUgZW50cnkuIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbgogCSAqIGRlY29kaW5n
IGEgVVRGOCBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX1V0
ZjgKIAkgKi8KIAljaGFyW10gZ2V0VXRmOFZhbHVlKCk7CiAKQEAgLTE5NCw2ICsyMzAsNyBAQCBw
dWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICoKIAkgKiBAcmV0dXJuIHRo
ZSB1dGY4IGxlbmd0aCBmb3IgYSBDT05TVEFOVF9VdGY4IHR5cGUgZW50cnkuIFRoaXMgdmFsdWUg
aXMgc2V0IG9ubHkgd2hlbgogCSAqIGRlY29kaW5nIGEgVVRGOCBlbnRyeQorCSAqIEBzZWUgSUNv
bnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX1V0ZjgKIAkgKi8KIAlpbnQgZ2V0VXRmOExlbmd0
aCgpOwogfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sRW50cnkyLmphdmEgYi9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFudFBvb2xFbnRy
eTIuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi4zYjQ5ODRiCi0tLSAv
ZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0
L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sRW50cnkyLmphdmEKQEAgLTAsMCArMSw1OSBAQAorLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMTEgSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRl
ciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNo
IGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICog
aHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRy
aWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxl
bWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBz
ZS5qZHQuY29yZS51dGlsOw0KKw0KKy8qKg0KKyAqIERlc2NyaXB0aW9uIG9mIHRoZSBuZXcgY29u
c3RhbnQgcG9vbCBlbnRyeSBhcyBkZXNjcmliZWQgaW4gdGhlIEpWTSBzcGVjaWZpY2F0aW9ucw0K
KyAqIGFkZGVkIGZvciBKYXZhIDcgc3VwcG9ydC4NCisgKiBJdHMgY29udGVudHMgaXMgaW5pdGlh
bGl6ZWQgYWNjb3JkaW5nIHRvIGl0cyBraW5kLg0KKyAqDQorICogVGhpcyBpbnRlcmZhY2UgbWF5
IGJlIGltcGxlbWVudGVkIGJ5IGNsaWVudHMuDQorICoNCisgKiBAc2luY2UgMy44DQorICovDQor
cHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29sRW50cnkyIGV4dGVuZHMgSUNvbnN0YW50UG9v
bEVudHJ5IHsNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIGRlc2NyaXB0b3IgaW5kZXguIFRoaXMg
dmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyBhIE1ldGhvZFR5cGUgZW50cnkuDQorCSAq
IFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhlcndpc2UuIFRoZSBjb3JyZXNwb25kaW5nIFVU
RjggdmFsdWUgY2FuIGJlIHJldHJpZXZlZCBieSB1c2luZw0KKwkgKiB7QGxpbmsgI2dldE1ldGhv
ZERlc2NyaXB0b3IoKX0uDQorCSAqDQorCSAqIEByZXR1cm4gdGhlIGRlc2NyaXB0b3IgaW5kZXgu
IFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyBhIE1ldGhvZFR5cGUgZW50cnku
DQorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX01ldGhvZFR5cGUNCisJ
ICovDQorCWludCBnZXREZXNjcmlwdG9ySW5kZXgoKTsNCisNCisJLyoqDQorCSAqIFJldHVybnMg
dGhlIHJlZmVyZW5jZSBraW5kLiBUaGlzIHZhbHVlIGlzIHNldCBvbmx5IHdoZW4gZGVjb2Rpbmcg
YSBNZXRob2RIYW5kbGUgZW50cnkuDQorCSAqIFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhl
cndpc2UuDQorCSAqDQorCSAqIEByZXR1cm4gdGhlIHJlZmVyZW5jZSBraW5kLiBUaGlzIHZhbHVl
IGlzIHNldCBvbmx5IHdoZW4gZGVjb2RpbmcgYSBNZXRob2RIYW5kbGUgZW50cnkuDQorCSAqIEBz
ZWUgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX01ldGhvZEhhbmRsZQ0KKwkgKi8NCisJ
aW50IGdldFJlZmVyZW5jZUtpbmQoKTsNCisNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIHJlZmVy
ZW5jZSBpbmRleC4gVGhpcyB2YWx1ZSBpcyBzZXQgb25seSB3aGVuIGRlY29kaW5nIGEgTWV0aG9k
SGFuZGxlIGVudHJ5Lg0KKwkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZpZWQgb3RoZXJ3aXNlLg0K
KwkgKg0KKwkgKiBAcmV0dXJuIHRoZSByZWZlcmVuY2Uga2luZC4gVGhpcyB2YWx1ZSBpcyBzZXQg
b25seSB3aGVuIGRlY29kaW5nIGEgTWV0aG9kSGFuZGxlIGVudHJ5Lg0KKwkgKiBAc2VlIElDb25z
dGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRob2RIYW5kbGUNCisJICovDQorCWludCBnZXRS
ZWZlcmVuY2VJbmRleCgpOw0KKwkNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIGJvb3RzdHJhcCBt
ZXRob2QgYXR0cmlidXRlIGluZGV4LiBUaGlzIHZhbHVlIGlzIHNldCBvbmx5IHdoZW4gZGVjb2Rp
bmcgYSBJbnZva2VEeW5hbWljIGVudHJ5Lg0KKwkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZpZWQg
b3RoZXJ3aXNlLg0KKwkgKg0KKwkgKiBAcmV0dXJuIHRoZSByZWZlcmVuY2Uga2luZC4gVGhpcyB2
YWx1ZSBpcyBzZXQgb25seSB3aGVuIGRlY29kaW5nIGEgTWV0aG9kSGFuZGxlIGVudHJ5Lg0KKwkg
KiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9JbnZva2VEeW5hbWljDQorCSAq
Lw0KKwlpbnQgZ2V0Qm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXgoKTsNCit9DQpkaWZmIC0t
Z2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvdXRpbC9Cb290c3RyYXBNZXRob2RzQXR0cmlidXRlLmphdmEgYi9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0Jvb3RzdHJh
cE1ldGhvZHNBdHRyaWJ1dGUuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAw
Li5iMTk2OTI3Ci0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Cb290c3RyYXBNZXRob2RzQXR0cmli
dXRlLmphdmEKQEAgLTAsMCArMSw2MyBAQAorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqIENv
cHlyaWdodCAoYykgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIEFsbCByaWdo
dHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMK
KyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMAorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24s
IGFuZCBpcyBhdmFpbGFibGUgYXQKKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBs
LXYxMC5odG1sCisgKgorICogQ29udHJpYnV0b3JzOgorICogICAgIElCTSBDb3Jwb3JhdGlvbiAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CitwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JlLnV0aWw7CisKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkNsYXNzRm9ybWF0RXhjZXB0aW9uOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGU7CitpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQm9vdHN0cmFwTWV0aG9kc0VudHJ5OworaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvbnN0YW50UG9vbDsKKworLyoqCisgKiBE
ZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIElCb290c3RyYXBNZXRob2RzQXR0cmlidXRlLgorICov
CitwdWJsaWMgY2xhc3MgQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSBleHRlbmRzIENsYXNzRmls
ZUF0dHJpYnV0ZSBpbXBsZW1lbnRzIElCb290c3RyYXBNZXRob2RzQXR0cmlidXRlIHsKKwlwcml2
YXRlIHN0YXRpYyBmaW5hbCBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5W10gTk9fRU5UUklFUyA9IG5l
dyBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5WzBdOworCisJcHJpdmF0ZSBJQm9vdHN0cmFwTWV0aG9k
c0VudHJ5W10gZW50cmllczsKKwlwcml2YXRlIGludCBudW1iZXJPZkJvb3RzdHJhcE1ldGhvZHM7
CisKKwkvKioKKwkgKiBDb25zdHJ1Y3RvciBmb3IgQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS4K
KwkgKiBAcGFyYW0gY2xhc3NGaWxlQnl0ZXMKKwkgKiBAcGFyYW0gY29uc3RhbnRQb29sCisJICog
QHBhcmFtIG9mZnNldAorCSAqIEB0aHJvd3MgQ2xhc3NGb3JtYXRFeGNlcHRpb24KKwkgKi8KKwlw
dWJsaWMgQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSgKKwkJCWJ5dGVbXSBjbGFzc0ZpbGVCeXRl
cywKKwkJCUlDb25zdGFudFBvb2wgY29uc3RhbnRQb29sLAorCQkJaW50IG9mZnNldCkgdGhyb3dz
IENsYXNzRm9ybWF0RXhjZXB0aW9uIHsKKwkJc3VwZXIoY2xhc3NGaWxlQnl0ZXMsIGNvbnN0YW50
UG9vbCwgb2Zmc2V0KTsKKwkJdGhpcy5udW1iZXJPZkJvb3RzdHJhcE1ldGhvZHMgPSB1MkF0KGNs
YXNzRmlsZUJ5dGVzLCA2LCBvZmZzZXQpOworCQlmaW5hbCBpbnQgbGVuZ3RoID0gdGhpcy5udW1i
ZXJPZkJvb3RzdHJhcE1ldGhvZHM7CisJCWlmIChsZW5ndGggIT0gMCkgeworCQkJaW50IHJlYWRP
ZmZzZXQgPSA4OworCQkJdGhpcy5lbnRyaWVzID0gbmV3IElCb290c3RyYXBNZXRob2RzRW50cnlb
bGVuZ3RoXTsKKwkJCWZvciAoaW50IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKKwkJCQl0aGlz
LmVudHJpZXNbaV0gPSBuZXcgQm9vdHN0cmFwTWV0aG9kc0VudHJ5KGNsYXNzRmlsZUJ5dGVzLCBj
b25zdGFudFBvb2wsIG9mZnNldCArIHJlYWRPZmZzZXQpOworCQkJCXJlYWRPZmZzZXQgKz0gODsK
KwkJCX0KKwkJfSBlbHNlIHsKKwkJCXRoaXMuZW50cmllcyA9IE5PX0VOVFJJRVM7CisJCX0KKwl9
CisKKwkvKioKKwkgKiBAc2VlIElCb290c3RyYXBNZXRob2RzQXR0cmlidXRlI2dldEJvb3RzdHJh
cE1ldGhvZHMoKQorCSAqLworCXB1YmxpYyBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5W10gZ2V0Qm9v
dHN0cmFwTWV0aG9kcygpIHsKKwkJcmV0dXJuIHRoaXMuZW50cmllczsKKwl9CisJCisJcHVibGlj
IGludCBnZXRCb290c3RyYXBNZXRob2RzTGVuZ3RoKCkgeworCQlyZXR1cm4gdGhpcy5udW1iZXJP
ZkJvb3RzdHJhcE1ldGhvZHM7CisJfQorfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNv
cmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Cb290c3RyYXBNZXRo
b2RzRW50cnkuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb3JlL3V0aWwvQm9vdHN0cmFwTWV0aG9kc0VudHJ5LmphdmEKbmV3IGZpbGUg
bW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uZTQ0NGRiZAotLS0gL2Rldi9udWxsCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0
aWwvQm9vdHN0cmFwTWV0aG9kc0VudHJ5LmphdmEKQEAgLTAsMCArMSw1MiBAQAorLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioKKyAqIENvcHlyaWdodCAoYykgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5k
IG90aGVycy4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFj
Y29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVy
bXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICogd2hpY2ggYWNjb21wYW5p
ZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKKyAqIGh0dHA6Ly93d3cu
ZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogQ29udHJpYnV0b3JzOgorICog
ICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovCitwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5j
b3JlLnV0aWw7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkNsYXNzRm9ybWF0
RXhjZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUJvb3RzdHJhcE1l
dGhvZHNFbnRyeTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklDb25zdGFudFBv
b2w7CisKKy8qKgorICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgSUJvb3RzdHJh
cE1ldGhvZHNFbnRyeX0KKyAqLworcHVibGljIGNsYXNzIEJvb3RzdHJhcE1ldGhvZHNFbnRyeQor
CWV4dGVuZHMgQ2xhc3NGaWxlU3RydWN0CisJaW1wbGVtZW50cyBJQm9vdHN0cmFwTWV0aG9kc0Vu
dHJ5IHsKKworCXByaXZhdGUgaW50IGJvb3RzdHJhcE1ldGhvZFJlZmVyZW5jZTsKKwlwcml2YXRl
IGludFtdIGJvb3RzdHJhcEFyZ3VtZW50czsKKworCXB1YmxpYyBCb290c3RyYXBNZXRob2RzRW50
cnkoYnl0ZSBjbGFzc0ZpbGVCeXRlc1tdLCBJQ29uc3RhbnRQb29sIGNvbnN0YW50UG9vbCwgaW50
IG9mZnNldCkgdGhyb3dzIENsYXNzRm9ybWF0RXhjZXB0aW9uIHsKKwkJdGhpcy5ib290c3RyYXBN
ZXRob2RSZWZlcmVuY2UgPSB1MkF0KGNsYXNzRmlsZUJ5dGVzLCAwLCBvZmZzZXQpOworCQlpbnQg
bGVuZ3RoID0gdTJBdChjbGFzc0ZpbGVCeXRlcywgMiwgb2Zmc2V0KTsKKwkJaW50W10gYXJndW1l
bnRzID0gbmV3IGludFtsZW5ndGhdOworCQlpbnQgcG9zaXRpb24gPSA0OworCQlmb3IgKGludCBp
ID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CisJCQlhcmd1bWVudHNbaV0gPSB1MkF0KGNsYXNzRmls
ZUJ5dGVzLCBwb3NpdGlvbiwgb2Zmc2V0KTsKKwkJCXBvc2l0aW9uICs9IDI7CisJCX0KKwkJdGhp
cy5ib290c3RyYXBBcmd1bWVudHMgPSBhcmd1bWVudHM7CisJfQorCisJLyoqCisJICogQHNlZSBJ
Qm9vdHN0cmFwTWV0aG9kc0VudHJ5I2dldEJvb3RzdHJhcEFyZ3VtZW50cygpCisJICovCisJcHVi
bGljIGludFtdIGdldEJvb3RzdHJhcEFyZ3VtZW50cygpIHsKKwkJcmV0dXJuIHRoaXMuYm9vdHN0
cmFwQXJndW1lbnRzOworCX0KKworCS8qKgorCSAqIEBzZWUgSUJvb3RzdHJhcE1ldGhvZHNFbnRy
eSNnZXRCb290c3RyYXBNZXRob2RSZWZlcmVuY2UoKQorCSAqLworCXB1YmxpYyBpbnQgZ2V0Qm9v
dHN0cmFwTWV0aG9kUmVmZXJlbmNlKCkgeworCQlyZXR1cm4gdGhpcy5ib290c3RyYXBNZXRob2RS
ZWZlcmVuY2U7CisJfQorfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9DbGFzc0ZpbGVSZWFkZXIuamF2YSBi
L29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3Jl
L3V0aWwvQ2xhc3NGaWxlUmVhZGVyLmphdmEKaW5kZXggMTliODBkYy4uMDQyNmRjNCAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvdXRpbC9DbGFzc0ZpbGVSZWFkZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NsYXNzRmlsZVJlYWRl
ci5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHly
aWdodCAoYykgMjAwMCwgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHly
aWdodCAoYykgMjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCBy
aWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlh
bHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2Ug
UHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRp
b24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE0MCw2ICsxNDAsMTggQEAgcHVibGljIGNsYXNz
IENsYXNzRmlsZVJlYWRlciBleHRlbmRzIENsYXNzRmlsZVN0cnVjdCBpbXBsZW1lbnRzIElDbGFz
c0ZpbGVSZWFkZXIKIAkJCQkJCWNvbnN0YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0Owog
CQkJCQkJcmVhZE9mZnNldCArPSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfTmFtZUFu
ZFR5cGVfU0laRTsKIAkJCQkJCWJyZWFrOworCQkJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFu
dC5DT05TVEFOVF9NZXRob2RIYW5kbGUgOgorCQkJCQkJY29uc3RhbnRQb29sT2Zmc2V0c1tpXSA9
IHJlYWRPZmZzZXQ7CisJCQkJCQlyZWFkT2Zmc2V0ICs9IElDb25zdGFudFBvb2xDb25zdGFudC5D
T05TVEFOVF9NZXRob2RIYW5kbGVfU0laRTsKKwkJCQkJCWJyZWFrOworCQkJCQljYXNlIElDb25z
dGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RUeXBlIDoKKwkJCQkJCWNvbnN0YW50UG9v
bE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0OworCQkJCQkJcmVhZE9mZnNldCArPSBJQ29uc3RhbnRQ
b29sQ29uc3RhbnQuQ09OU1RBTlRfTWV0aG9kVHlwZV9TSVpFOworCQkJCQkJYnJlYWs7CisJCQkJ
CWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0ludm9rZUR5bmFtaWMgOgorCQkJ
CQkJY29uc3RhbnRQb29sT2Zmc2V0c1tpXSA9IHJlYWRPZmZzZXQ7CisJCQkJCQlyZWFkT2Zmc2V0
ICs9IElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9JbnZva2VEeW5hbWljX1NJWkU7CisJ
CQkJCQlicmVhazsKIAkJCQkJZGVmYXVsdDoKIAkJCQkJCXRocm93IG5ldyBDbGFzc0Zvcm1hdEV4
Y2VwdGlvbihDbGFzc0Zvcm1hdEV4Y2VwdGlvbi5JTlZBTElEX1RBR19DT05TVEFOVCk7CiAJCQkJ
fQpAQCAtMjYxLDYgKzI3Myw4IEBAIHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGVSZWFkZXIgZXh0ZW5k
cyBDbGFzc0ZpbGVTdHJ1Y3QgaW1wbGVtZW50cyBJQ2xhc3NGaWxlUmVhZGVyCiAJCQkJCQkJdGhp
cy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZXNJbmRleCsrXSA9IG5ldyBSdW50aW1lVmlzaWJsZUFubm90
YXRpb25zQXR0cmlidXRlKGNsYXNzRmlsZUJ5dGVzLCB0aGlzLmNvbnN0YW50UG9vbCwgcmVhZE9m
ZnNldCk7CiAJCQkJCQl9IGVsc2UgaWYgKGVxdWFscyhhdHRyaWJ1dGVOYW1lLCBJQXR0cmlidXRl
TmFtZXNDb25zdGFudHMuUlVOVElNRV9JTlZJU0lCTEVfQU5OT1RBVElPTlMpKSB7CiAJCQkJCQkJ
dGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZXNJbmRleCsrXSA9IG5ldyBSdW50aW1lSW52aXNpYmxl
QW5ub3RhdGlvbnNBdHRyaWJ1dGUoY2xhc3NGaWxlQnl0ZXMsIHRoaXMuY29uc3RhbnRQb29sLCBy
ZWFkT2Zmc2V0KTsKKwkJCQkJCX0gZWxzZSBpZiAoZXF1YWxzKGF0dHJpYnV0ZU5hbWUsIElBdHRy
aWJ1dGVOYW1lc0NvbnN0YW50cy5CT09UU1RSQVBfTUVUSE9EUykpIHsKKwkJCQkJCQl0aGlzLmF0
dHJpYnV0ZXNbYXR0cmlidXRlc0luZGV4KytdID0gbmV3IEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1
dGUoY2xhc3NGaWxlQnl0ZXMsIHRoaXMuY29uc3RhbnRQb29sLCByZWFkT2Zmc2V0KTsKIAkJCQkJ
CX0gZWxzZSB7CiAJCQkJCQkJdGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZXNJbmRleCsrXSA9IG5l
dyBDbGFzc0ZpbGVBdHRyaWJ1dGUoY2xhc3NGaWxlQnl0ZXMsIHRoaXMuY29uc3RhbnRQb29sLCBy
ZWFkT2Zmc2V0KTsKIAkJCQkJCX0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQ29kZUF0dHJpYnV0ZS5qYXZh
IGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmUvdXRpbC9Db2RlQXR0cmlidXRlLmphdmEKaW5kZXggODJiYTk1NS4uYTI4MWFiMCAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvdXRpbC9Db2RlQXR0cmlidXRlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db2RlQXR0cmlidXRlLmph
dmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0
IChjKSAyMDAwLCAyMDA5IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0
IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwog
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTA0OSwxNCArMTA0OSwxMyBAQCBwdWJsaWMgY2xhc3Mg
Q29kZUF0dHJpYnV0ZSBleHRlbmRzIENsYXNzRmlsZUF0dHJpYnV0ZSBpbXBsZW1lbnRzIElDb2Rl
QXR0cmlidXRlCiAJCQkJY2FzZSBJT3Bjb2RlTW5lbW9uaWNzLklOVk9LRURZTkFNSUMgOgogCQkJ
CQlpbmRleCA9IHUyQXQodGhpcy5jbGFzc0ZpbGVCeXRlcywgMSwgcGMpOwogCQkJCQljb25zdGFu
dFBvb2xFbnRyeSA9IHRoaXMuY29uc3RhbnRQb29sLmRlY29kZUVudHJ5KGluZGV4KTsKLQkJCQkJ
aWYgKGNvbnN0YW50UG9vbEVudHJ5LmdldEtpbmQoKSAhPSBJQ29uc3RhbnRQb29sQ29uc3RhbnQu
Q09OU1RBTlRfTmFtZUFuZFR5cGUpIHsKKwkJCQkJaWYgKGNvbnN0YW50UG9vbEVudHJ5LmdldEtp
bmQoKSAhPSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfSW52b2tlRHluYW1pYykgewog
CQkJCQkJdGhyb3cgbmV3IENsYXNzRm9ybWF0RXhjZXB0aW9uKENsYXNzRm9ybWF0RXhjZXB0aW9u
LklOVkFMSURfQ09OU1RBTlRfUE9PTF9FTlRSWSk7CiAJCQkJCX0KIAkJCQkJdmlzaXRvci5faW52
b2tlZHluYW1pYygKIAkJCQkJCQlwYyAtIHRoaXMuY29kZU9mZnNldCwKIAkJCQkJCQlpbmRleCwK
LQkJCQkJCQl0aGlzLmNvbnN0YW50UG9vbC5kZWNvZGVFbnRyeShjb25zdGFudFBvb2xFbnRyeS5n
ZXROYW1lQW5kVHlwZUluZm9OYW1lSW5kZXgoKSksCi0JCQkJCQkJdGhpcy5jb25zdGFudFBvb2wu
ZGVjb2RlRW50cnkoY29uc3RhbnRQb29sRW50cnkuZ2V0TmFtZUFuZFR5cGVJbmZvRGVzY3JpcHRv
ckluZGV4KCkpKTsKKwkJCQkJCQljb25zdGFudFBvb2xFbnRyeSk7CiAJCQkJCXBjICs9IDU7CiAJ
CQkJCWJyZWFrOwogCQkJCWNhc2UgSU9wY29kZU1uZW1vbmljcy5ORVcgOgpkaWZmIC0tZ2l0IGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
dXRpbC9Db25zdGFudFBvb2wuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQ29uc3RhbnRQb29sLmphdmEKaW5kZXggYWVl
ZWUyNC4uYTljNDY5OSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2wuamF2YQorKysgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91
dGlsL0NvbnN0YW50UG9vbC5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwOSBJQk0gQ29ycG9yYXRpb24gYW5kIG90
aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90
aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29t
cGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMg
b2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMg
dGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTMzLDE5ICszMywyOCBA
QCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGV4dGVuZHMgQ2xhc3NGaWxlU3RydWN0IGltcGxl
bWVudHMgSUNvbnN0YW50UG9vbCB7CiAJICogQHNlZSBJQ29uc3RhbnRQb29sI2RlY29kZUVudHJ5
KGludCkKIAkgKi8KIAlwdWJsaWMgSUNvbnN0YW50UG9vbEVudHJ5IGRlY29kZUVudHJ5KGludCBp
bmRleCkgewotCQlDb25zdGFudFBvb2xFbnRyeSBjb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25z
dGFudFBvb2xFbnRyeSgpOwotCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQlDb25zdGFu
dFBvb2xFbnRyeSBjb25zdGFudFBvb2xFbnRyeSA9IG51bGw7CiAJCWludCBraW5kID0gZ2V0RW50
cnlLaW5kKGluZGV4KTsKLQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJc3dp
dGNoKGtpbmQpIHsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0NsYXNz
IDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJ
CWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2lu
ZChraW5kKTsKIAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXRDbGFzc0luZm9OYW1lSW5kZXgodTJB
dCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhd
KSk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0Q2xhc3NJbmZvTmFtZShnZXRVdGY4VmFsdWVB
dChjb25zdGFudFBvb2xFbnRyeS5nZXRDbGFzc0luZm9OYW1lSW5kZXgoKSkpOwogCQkJCWJyZWFr
OwogCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfRG91YmxlIDoKKwkJCQlj
b25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50
UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsK
IAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXREb3VibGVWYWx1ZShkb3VibGVBdCh0aGlzLmNsYXNz
RmlsZUJ5dGVzLCAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlicmVh
azsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0ZpZWxkcmVmIDoKKwkJ
CQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0
YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5k
KTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5
LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0Q2xhc3NJbmRleCh1MkF0
KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0p
KTsKIAkJCQlpbnQgZGVjbGFyaW5nQ2xhc3NJbmRleCA9IHUyQXQodGhpcy5jbGFzc0ZpbGVCeXRl
cywgIDEsIHRoaXMuY29uc3RhbnRQb29sT2Zmc2V0W2NvbnN0YW50UG9vbEVudHJ5LmdldENsYXNz
SW5kZXgoKV0pOwogCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldENsYXNzTmFtZShnZXRVdGY4VmFs
dWVBdChkZWNsYXJpbmdDbGFzc0luZGV4KSk7CkBAIC01Nyw2ICs2NiwxMSBAQCBwdWJsaWMgY2xh
c3MgQ29uc3RhbnRQb29sIGV4dGVuZHMgQ2xhc3NGaWxlU3RydWN0IGltcGxlbWVudHMgSUNvbnN0
YW50UG9vbCB7CiAJCQkJYnJlYWs7CiAJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05T
VEFOVF9NZXRob2RyZWYgOgogCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRf
SW50ZXJmYWNlTWV0aG9kcmVmIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFu
dFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3Rh
bnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgp
OworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29s
RW50cnkuc2V0Q2xhc3NJbmRleCh1MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNv
bnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlkZWNsYXJpbmdDbGFzc0luZGV4ID0gdTJB
dCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbY29uc3Rh
bnRQb29sRW50cnkuZ2V0Q2xhc3NJbmRleCgpXSk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0
Q2xhc3NOYW1lKGdldFV0ZjhWYWx1ZUF0KGRlY2xhcmluZ0NsYXNzSW5kZXgpKTsKQEAgLTY3LDI1
ICs4MSw3NiBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGV4dGVuZHMgQ2xhc3NGaWxlU3Ry
dWN0IGltcGxlbWVudHMgSUNvbnN0YW50UG9vbCB7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0
TWV0aG9kRGVzY3JpcHRvcihnZXRVdGY4VmFsdWVBdChtZXRob2REZXNjcmlwdG9ySW5kZXgpKTsK
IAkJCQlicmVhazsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0Zsb2F0
IDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJ
CWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2lu
ZChraW5kKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9v
bEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0RmxvYXRWYWx1
ZShmbG9hdEF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsIDEsIHRoaXMuY29uc3RhbnRQb29sT2Zmc2V0
W2luZGV4XSkpOwogCQkJCWJyZWFrOwogCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09O
U1RBTlRfSW50ZWdlciA6CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBuZXcgQ29uc3RhbnRQb29s
RW50cnkoKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9v
bEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0SW50ZWdlclZh
bHVlKGk0QXQodGhpcy5jbGFzc0ZpbGVCeXRlcywgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRb
aW5kZXhdKSk7CiAJCQkJYnJlYWs7CiAJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05T
VEFOVF9Mb25nIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRy
eSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50
cnkuc2V0S2luZChraW5kKTsKIAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXRMb25nVmFsdWUoaThB
dCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0p
KTsKIAkJCQlicmVhazsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX05h
bWVBbmRUeXBlIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRy
eSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50
cnkuc2V0S2luZChraW5kKTsKIAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXROYW1lQW5kVHlwZU5h
bWVJbmRleCh1MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9m
ZnNldFtpbmRleF0pKTsKIAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXROYW1lQW5kVHlwZURlc2Ny
aXB0b3JJbmRleCh1MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAzLCB0aGlzLmNvbnN0YW50UG9v
bE9mZnNldFtpbmRleF0pKTsKIAkJCQlicmVhazsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0
YW50LkNPTlNUQU5UX1N0cmluZyA6CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBuZXcgQ29uc3Rh
bnRQb29sRW50cnkoKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0
YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0U3Ry
aW5nSW5kZXgodTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMSwgdGhpcy5jb25zdGFudFBvb2xP
ZmZzZXRbaW5kZXhdKSk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0U3RyaW5nVmFsdWUoZ2V0
VXRmOFZhbHVlQXQoY29uc3RhbnRQb29sRW50cnkuZ2V0U3RyaW5nSW5kZXgoKSkpOwogCQkJCWJy
ZWFrOwogCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfVXRmOCA6CisJCQkJ
Y29uc3RhbnRQb29sRW50cnkgPSBuZXcgQ29uc3RhbnRQb29sRW50cnkoKTsKKwkJCQljb25zdGFu
dFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7
CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0VXRmOExlbmd0aCh1MkF0KHRoaXMuY2xhc3NGaWxl
Qnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQljb25zdGFu
dFBvb2xFbnRyeS5zZXRVdGY4VmFsdWUoZ2V0VXRmOFZhbHVlQXQoaW5kZXgpKTsKKwkJCQlicmVh
azsKKwkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX01ldGhvZEhhbmRsZSA6
CisJCQkJQ29uc3RhbnRQb29sRW50cnkyIGNvbnN0YW50UG9vbEVudHJ5MiA9IG5ldyBDb25zdGFu
dFBvb2xFbnRyeTIoKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIucmVzZXQoKTsKKwkJCQljb25z
dGFudFBvb2xFbnRyeTIuc2V0S2luZChraW5kKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0
UmVmZXJlbmNlS2luZCh1MUF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50
UG9vbE9mZnNldFtpbmRleF0pKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0UmVmZXJlbmNl
SW5kZXgodTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMiwgdGhpcy5jb25zdGFudFBvb2xPZmZz
ZXRbaW5kZXhdKSk7CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBjb25zdGFudFBvb2xFbnRyeTI7
CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRo
b2RUeXBlIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeTIgPSBuZXcgQ29uc3RhbnRQb29sRW50cnky
KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50
cnkyLnNldEtpbmQoa2luZCk7CisJCQkJbWV0aG9kRGVzY3JpcHRvckluZGV4ID0gdTJBdCh0aGlz
LmNsYXNzRmlsZUJ5dGVzLCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKTsKKwkJ
CQljb25zdGFudFBvb2xFbnRyeTIuc2V0RGVzY3JpcHRvckluZGV4KG1ldGhvZERlc2NyaXB0b3JJ
bmRleCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnNldE1ldGhvZERlc2NyaXB0b3IoZ2V0VXRm
OFZhbHVlQXQobWV0aG9kRGVzY3JpcHRvckluZGV4KSk7CisJCQkJY29uc3RhbnRQb29sRW50cnkg
PSBjb25zdGFudFBvb2xFbnRyeTI7CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xD
b25zdGFudC5DT05TVEFOVF9JbnZva2VEeW5hbWljIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeTIg
PSBuZXcgQ29uc3RhbnRQb29sRW50cnkyKCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnJlc2V0
KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnNldEtpbmQoa2luZCk7CisJCQkJY29uc3RhbnRQ
b29sRW50cnkyLnNldEJvb3RzdHJhcE1ldGhvZEF0dHJpYnV0ZUluZGV4KHUyQXQodGhpcy5jbGFz
c0ZpbGVCeXRlcywgIDEsIHRoaXMuY29uc3RhbnRQb29sT2Zmc2V0W2luZGV4XSkpOworCQkJCWlu
dCBuYW1lQW5kVHlwZUluZGV4ID0gdTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMywgdGhpcy5j
b25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0TmFt
ZUFuZFR5cGVJbmRleChuYW1lQW5kVHlwZUluZGV4KTsKKwkJCQltZXRob2ROYW1lSW5kZXggPSB1
MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtuYW1l
QW5kVHlwZUluZGV4XSk7CisJCQkJbWV0aG9kRGVzY3JpcHRvckluZGV4ID0gdTJBdCh0aGlzLmNs
YXNzRmlsZUJ5dGVzLCAgMywgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbbmFtZUFuZFR5cGVJbmRl
eF0pOworCQkJCWNvbnN0YW50UG9vbEVudHJ5Mi5zZXRNZXRob2ROYW1lKGdldFV0ZjhWYWx1ZUF0
KG1ldGhvZE5hbWVJbmRleCkpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5Mi5zZXRNZXRob2REZXNj
cmlwdG9yKGdldFV0ZjhWYWx1ZUF0KG1ldGhvZERlc2NyaXB0b3JJbmRleCkpOworCQkJCWNvbnN0
YW50UG9vbEVudHJ5ID0gY29uc3RhbnRQb29sRW50cnkyOworCQkJCWJyZWFrOwogCQl9CiAJCXJl
dHVybiBjb25zdGFudFBvb2xFbnRyeTsKIAl9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NvbnN0YW50UG9v
bEVudHJ5LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5LmphdmEKaW5kZXggNTVjYzE3MC4u
OWY5Y2FlNiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2xFbnRyeS5qYXZhCisrKyBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0
aWwvQ29uc3RhbnRQb29sRW50cnkuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFu
aWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0zNDEsNiArMzQx
LDcgQEAgcHVibGljIGNsYXNzIENvbnN0YW50UG9vbEVudHJ5IGltcGxlbWVudHMgSUNvbnN0YW50
UG9vbEVudHJ5IHsKIAogCS8qKgogCSAqIFNldHMgdGhlIG1ldGhvZERlc2NyaXB0b3IuCisJICoK
IAkgKiBAcGFyYW0gbWV0aG9kRGVzY3JpcHRvciBUaGUgbWV0aG9kRGVzY3JpcHRvciB0byBzZXQK
IAkgKi8KIAlwdWJsaWMgdm9pZCBzZXRNZXRob2REZXNjcmlwdG9yKGNoYXJbXSBtZXRob2REZXNj
cmlwdG9yKSB7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5Mi5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRp
bC9Db25zdGFudFBvb2xFbnRyeTIuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAw
MDAwLi5jNmM5Njg2Ci0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9k
ZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2xFbnRyeTIu
amF2YQpAQCAtMCwwICsxLDY2IEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29weXJp
Z2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwKKyAqCisgKiBDb250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KK3BhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmUudXRpbDsKKworaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvbnN0YW50UG9vbEVudHJ5MjsKKworLyoqCisg
KiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIElDb25zdGFudFBvb2xFbnRyeQorICoKKyAqIEBz
aW5jZSAyLjAKKyAqLworcHVibGljIGNsYXNzIENvbnN0YW50UG9vbEVudHJ5MiBleHRlbmRzIENv
bnN0YW50UG9vbEVudHJ5IGltcGxlbWVudHMgSUNvbnN0YW50UG9vbEVudHJ5MiB7CisJCisJcHJp
dmF0ZSBpbnQgZGVzY3JpcHRvckluZGV4OworCXByaXZhdGUgaW50IHJlZmVyZW5jZUtpbmQ7CisJ
cHJpdmF0ZSBpbnQgcmVmZXJlbmNlSW5kZXg7CisJcHJpdmF0ZSBpbnQgYm9vdHN0cmFwTWV0aG9k
QXR0cmlidXRlSW5kZXg7CisJCisJcHVibGljIGludCBnZXREZXNjcmlwdG9ySW5kZXgoKSB7CisJ
CXJldHVybiB0aGlzLmRlc2NyaXB0b3JJbmRleDsKKwl9CisKKwlwdWJsaWMgaW50IGdldFJlZmVy
ZW5jZUtpbmQoKSB7CisJCXJldHVybiB0aGlzLnJlZmVyZW5jZUtpbmQ7CisJfQorCisJcHVibGlj
IGludCBnZXRSZWZlcmVuY2VJbmRleCgpIHsKKwkJcmV0dXJuIHRoaXMucmVmZXJlbmNlSW5kZXg7
CisJfQorCisJcHVibGljIGludCBnZXRCb290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleCgpIHsK
KwkJcmV0dXJuIHRoaXMuYm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXg7CisJfQorCisJcHVi
bGljIHZvaWQgc2V0RGVzY3JpcHRvckluZGV4KGludCBkZXNjcmlwdG9ySW5kZXgpIHsKKwkJdGhp
cy5kZXNjcmlwdG9ySW5kZXggPSBkZXNjcmlwdG9ySW5kZXg7CisJfQorCisJcHVibGljIHZvaWQg
c2V0UmVmZXJlbmNlS2luZChpbnQgcmVmZXJlbmNlS2luZCkgeworCQl0aGlzLnJlZmVyZW5jZUtp
bmQgPSByZWZlcmVuY2VLaW5kOworCX0KKworCXB1YmxpYyB2b2lkIHNldFJlZmVyZW5jZUluZGV4
KGludCByZWZlcmVuY2VJbmRleCkgeworCQl0aGlzLnJlZmVyZW5jZUluZGV4ID0gcmVmZXJlbmNl
SW5kZXg7CisJfQorCisJcHVibGljIHZvaWQgc2V0Qm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5k
ZXgoaW50IGJvb3RzdHJhcE1ldGhvZEF0dHJpYnV0ZUluZGV4KSB7CisJCXRoaXMuYm9vdHN0cmFw
TWV0aG9kQXR0cmlidXRlSW5kZXggPSBib290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleDsKKwl9
CisJCisJcHVibGljIHZvaWQgcmVzZXQoKSB7CisJCXN1cGVyLnJlc2V0KCk7CisJCXRoaXMuZGVz
Y3JpcHRvckluZGV4ID0gMDsKKwkJdGhpcy5yZWZlcmVuY2VLaW5kID0gMDsKKwkJdGhpcy5yZWZl
cmVuY2VJbmRleCA9IDA7CisJCXRoaXMuYm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXggPSAw
OworCX0KK30KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvRGVmYXVsdEJ5dGVjb2RlVmlzaXRvci5qYXZhIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
dXRpbC9EZWZhdWx0Qnl0ZWNvZGVWaXNpdG9yLmphdmEKaW5kZXggZDk0ZGQ0ZS4uYjVmZTJhYiAx
MDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvdXRpbC9EZWZhdWx0Qnl0ZWNvZGVWaXNpdG9yLmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9E
ZWZhdWx0Qnl0ZWNvZGVWaXNpdG9yLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA5IElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTcsNiArMTcs
NyBAQCBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQnl0ZWNvZGVWaXNpdG9yOwog
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvZGVBdHRyaWJ1dGU7CiBpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQ29uc3RhbnRQb29sQ29uc3RhbnQ7CiBpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQ29uc3RhbnRQb29sRW50cnk7CitpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQ29uc3RhbnRQb29sRW50cnkyOwogaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlLnV0aWwuSUxvY2FsVmFyaWFibGVBdHRyaWJ1dGU7CiBpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmNvcmUudXRpbC5JTG9jYWxWYXJpYWJsZVRhYmxlRW50cnk7CiBpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5PcGNvZGVTdHJpbmdWYWx1ZXM7CkBAIC0xNDkxLDcg
KzE0OTIsNyBAQCBwdWJsaWMgY2xhc3MgRGVmYXVsdEJ5dGVjb2RlVmlzaXRvciBpbXBsZW1lbnRz
IElCeXRlY29kZVZpc2l0b3IgewogCQl3cml0ZU5ld0xpbmUoKTsKIAl9CiAJLyoqCi0JICogQHNl
ZSBJQnl0ZWNvZGVWaXNpdG9yI19pbnZva2VkeW5hbWljKGludCwgaW50LCBJQ29uc3RhbnRQb29s
RW50cnksIElDb25zdGFudFBvb2xFbnRyeSkKKwkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2lu
dm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25zdGFudFBvb2xFbnRyeSkKIAkgKi8KIAlwdWJsaWMg
dm9pZCBfaW52b2tlZHluYW1pYygKIAkJaW50IHBjLApAQCAtMTUxMyw2ICsxNTE0LDMwIEBAIHB1
YmxpYyBjbGFzcyBEZWZhdWx0Qnl0ZWNvZGVWaXNpdG9yIGltcGxlbWVudHMgSUJ5dGVjb2RlVmlz
aXRvciB7CiAJCXdyaXRlTmV3TGluZSgpOwogCX0KIAkvKioKKwkgKiBAc2VlIElCeXRlY29kZVZp
c2l0b3IjX2ludm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25zdGFudFBvb2xFbnRyeSkKKwkgKi8K
KwlwdWJsaWMgdm9pZCBfaW52b2tlZHluYW1pYygKKwkJaW50IHBjLAorCQlpbnQgaW5kZXgsCisJ
CUlDb25zdGFudFBvb2xFbnRyeSBpbnZva2VEeW5hbWljRW50cnkpIHsKKworCQlkdW1wUGNOdW1i
ZXIocGMpOworCQlJQ29uc3RhbnRQb29sRW50cnkyIGVudHJ5ID0gKElDb25zdGFudFBvb2xFbnRy
eTIpIGludm9rZUR5bmFtaWNFbnRyeTsKKwkJdGhpcy5idWZmZXIuYXBwZW5kKE1lc3NhZ2VzLmJp
bmQoTWVzc2FnZXMuY2xhc3Nmb3JtYXRfaW52b2tlZHluYW1pYywKKwkJCW5ldyBTdHJpbmdbXSB7
CisJCQkJT3Bjb2RlU3RyaW5nVmFsdWVzLkJZVEVDT0RFX05BTUVTW0lPcGNvZGVNbmVtb25pY3Mu
SU5WT0tFRFlOQU1JQ10sCisJCQkJSW50ZWdlci50b1N0cmluZyhpbmRleCksCisJCQkJSW50ZWdl
ci50b1N0cmluZyhlbnRyeS5nZXRCb290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleCgpKSwKKwkJ
CQlVdGlsLnRvU3RyaW5nKAorCQkJCQludWxsLAorCQkJCQllbnRyeS5nZXRNZXRob2ROYW1lKCks
CisJCQkJCWVudHJ5LmdldE1ldGhvZERlc2NyaXB0b3IoKSwKKwkJCQkJdHJ1ZSwKKwkJCQkJaXND
b21wYWN0KCkpCisJCQl9KSk7CisJCXdyaXRlTmV3TGluZSgpOworCX0KKwkvKioKIAkgKiBAc2Vl
IElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWludGVyZmFjZShpbnQsIGludCwgYnl0ZSwgSUNvbnN0
YW50UG9vbEVudHJ5KQogCSAqLwogCXB1YmxpYyB2b2lkIF9pbnZva2VpbnRlcmZhY2UoCmRpZmYg
LS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29yZS91dGlsL0Rpc2Fzc2VtYmxlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9k
ZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9EaXNhc3NlbWJsZXIuamF2YQpp
bmRleCBjNTRmZDczLi44MWI4OGYyIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9t
b2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0Rpc2Fzc2VtYmxlci5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb3JlL3V0aWwvRGlzYXNzZW1ibGVyLmphdmEKQEAgLTgwMSw2ICs4MDEsOCBAQCBwdWJsaWMg
Y2xhc3MgRGlzYXNzZW1ibGVyIGV4dGVuZHMgQ2xhc3NGaWxlQnl0ZXNEaXNhc3NlbWJsZXIgewog
CQlJQ2xhc3NGaWxlQXR0cmlidXRlIHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUg
PSBVdGlsLmdldEF0dHJpYnV0ZShjbGFzc0ZpbGVSZWFkZXIsIElBdHRyaWJ1dGVOYW1lc0NvbnN0
YW50cy5SVU5USU1FX1ZJU0lCTEVfQU5OT1RBVElPTlMpOwogCQlJQ2xhc3NGaWxlQXR0cmlidXRl
IHJ1bnRpbWVJbnZpc2libGVBbm5vdGF0aW9uc0F0dHJpYnV0ZSA9IFV0aWwuZ2V0QXR0cmlidXRl
KGNsYXNzRmlsZVJlYWRlciwgSUF0dHJpYnV0ZU5hbWVzQ29uc3RhbnRzLlJVTlRJTUVfSU5WSVNJ
QkxFX0FOTk9UQVRJT05TKTsKIAorCQlJQ2xhc3NGaWxlQXR0cmlidXRlIGJvb3RzdHJhcE1ldGhv
ZHMgPSBVdGlsLmdldEF0dHJpYnV0ZShjbGFzc0ZpbGVSZWFkZXIsIElBdHRyaWJ1dGVOYW1lc0Nv
bnN0YW50cy5CT09UU1RSQVBfTUVUSE9EUyk7CisKIAkJaWYgKGNoZWNrTW9kZShtb2RlLCBERVRB
SUxFRCkpIHsKIAkJCS8vIGRpc2Fzc2VtYmxlIGNvbXBhY3QgdmVyc2lvbiBvZiBhbm5vdGF0aW9u
cwogCQkJaWYgKHJ1bnRpbWVJbnZpc2libGVBbm5vdGF0aW9uc0F0dHJpYnV0ZSAhPSBudWxsKSB7
CkBAIC05MDQsMjggKzkwNiwxNSBAQCBwdWJsaWMgY2xhc3MgRGlzYXNzZW1ibGVyIGV4dGVuZHMg
Q2xhc3NGaWxlQnl0ZXNEaXNhc3NlbWJsZXIgewogCQkJSUNsYXNzRmlsZUF0dHJpYnV0ZVtdIGF0
dHJpYnV0ZXMgPSBjbGFzc0ZpbGVSZWFkZXIuZ2V0QXR0cmlidXRlcygpOwogCQkJaW50IGxlbmd0
aCA9IGF0dHJpYnV0ZXMubGVuZ3RoOwogCQkJSUVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSBlbmNs
b3NpbmdNZXRob2RBdHRyaWJ1dGUgPSBnZXRFbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUoY2xhc3NG
aWxlUmVhZGVyKTsKLQkJCWludCByZW1haW5pbmdBdHRyaWJ1dGVzTGVuZ3RoID0gbGVuZ3RoOwot
CQkJaWYgKGlubmVyQ2xhc3Nlc0F0dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0
cmlidXRlc0xlbmd0aC0tOwotCQkJfQotCQkJaWYgKGVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSAh
PSBudWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0cmlidXRlc0xlbmd0aC0tOwotCQkJfQotCQkJaWYg
KHNvdXJjZUF0dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0cmlidXRlc0xlbmd0
aC0tOwotCQkJfQotCQkJaWYgKHNpZ25hdHVyZUF0dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVt
YWluaW5nQXR0cmlidXRlc0xlbmd0aC0tOwotCQkJfQotCQkJaWYgKGlubmVyQ2xhc3Nlc0F0dHJp
YnV0ZSAhPSBudWxsIHx8IGVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSAhPSBudWxsIHx8IHJlbWFp
bmluZ0F0dHJpYnV0ZXNMZW5ndGggIT0gMCkgewotCQkJCXdyaXRlTmV3TGluZShidWZmZXIsIGxp
bmVTZXBhcmF0b3IsIDApOwotCQkJfQogCQkJaWYgKGlubmVyQ2xhc3Nlc0F0dHJpYnV0ZSAhPSBu
dWxsKSB7CiAJCQkJZGlzYXNzZW1ibGUoaW5uZXJDbGFzc2VzQXR0cmlidXRlLCBidWZmZXIsIGxp
bmVTZXBhcmF0b3IsIDEpOwogCQkJfQogCQkJaWYgKGVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSAh
PSBudWxsKSB7CiAJCQkJZGlzYXNzZW1ibGUoZW5jbG9zaW5nTWV0aG9kQXR0cmlidXRlLCBidWZm
ZXIsIGxpbmVTZXBhcmF0b3IsIDApOwogCQkJfQorCQkJaWYgKGJvb3RzdHJhcE1ldGhvZHMgIT0g
bnVsbCkgeworCQkJCWRpc2Fzc2VtYmxlKChJQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSkgYm9v
dHN0cmFwTWV0aG9kcywgYnVmZmVyLCBsaW5lU2VwYXJhdG9yLCAwKTsKKwkJCX0KIAkJCWlmIChj
aGVja01vZGUobW9kZSwgU1lTVEVNKSkgewogCQkJCWlmIChydW50aW1lVmlzaWJsZUFubm90YXRp
b25zQXR0cmlidXRlICE9IG51bGwpIHsKIAkJCQkJZGlzYXNzZW1ibGUoKElSdW50aW1lVmlzaWJs
ZUFubm90YXRpb25zQXR0cmlidXRlKSBydW50aW1lVmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRl
LCBidWZmZXIsIGxpbmVTZXBhcmF0b3IsIDAsIG1vZGUpOwpAQCAtOTM3LDEzICs5MjYsMTQgQEAg
cHVibGljIGNsYXNzIERpc2Fzc2VtYmxlciBleHRlbmRzIENsYXNzRmlsZUJ5dGVzRGlzYXNzZW1i
bGVyIHsKIAkJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogCQkJCQkJSUNs
YXNzRmlsZUF0dHJpYnV0ZSBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldOwogCQkJCQkJaWYgKGF0
dHJpYnV0ZSAhPSBpbm5lckNsYXNzZXNBdHRyaWJ1dGUKLQkJCQkJCQkmJiBhdHRyaWJ1dGUgIT0g
c291cmNlQXR0cmlidXRlCi0JCQkJCQkJJiYgYXR0cmlidXRlICE9IHNpZ25hdHVyZUF0dHJpYnV0
ZQotCQkJCQkJCSYmIGF0dHJpYnV0ZSAhPSBlbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUKLQkJCQkJ
CQkmJiBhdHRyaWJ1dGUgIT0gcnVudGltZUludmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRlCi0J
CQkJCQkJJiYgYXR0cmlidXRlICE9IHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUK
LQkJCQkJCQkmJiAhQ2hhck9wZXJhdGlvbi5lcXVhbHMoYXR0cmlidXRlLmdldEF0dHJpYnV0ZU5h
bWUoKSwgSUF0dHJpYnV0ZU5hbWVzQ29uc3RhbnRzLkRFUFJFQ0FURUQpCi0JCQkJCQkJJiYgIUNo
YXJPcGVyYXRpb24uZXF1YWxzKGF0dHJpYnV0ZS5nZXRBdHRyaWJ1dGVOYW1lKCksIElBdHRyaWJ1
dGVOYW1lc0NvbnN0YW50cy5TWU5USEVUSUMpKSB7CisJCQkJCQkJCSYmIGF0dHJpYnV0ZSAhPSBz
b3VyY2VBdHRyaWJ1dGUKKwkJCQkJCQkJJiYgYXR0cmlidXRlICE9IHNpZ25hdHVyZUF0dHJpYnV0
ZQorCQkJCQkJCQkmJiBhdHRyaWJ1dGUgIT0gZW5jbG9zaW5nTWV0aG9kQXR0cmlidXRlCisJCQkJ
CQkJCSYmIGF0dHJpYnV0ZSAhPSBydW50aW1lSW52aXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUK
KwkJCQkJCQkJJiYgYXR0cmlidXRlICE9IHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1
dGUKKwkJCQkJCQkJJiYgIUNoYXJPcGVyYXRpb24uZXF1YWxzKGF0dHJpYnV0ZS5nZXRBdHRyaWJ1
dGVOYW1lKCksIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5ERVBSRUNBVEVEKQorCQkJCQkJCQkm
JiAhQ2hhck9wZXJhdGlvbi5lcXVhbHMoYXR0cmlidXRlLmdldEF0dHJpYnV0ZU5hbWUoKSwgSUF0
dHJpYnV0ZU5hbWVzQ29uc3RhbnRzLlNZTlRIRVRJQykKKwkJCQkJCQkJJiYgYXR0cmlidXRlICE9
IGJvb3RzdHJhcE1ldGhvZHMpIHsKIAkJCQkJCQlkaXNhc3NlbWJsZShhdHRyaWJ1dGUsIGJ1ZmZl
ciwgbGluZVNlcGFyYXRvciwgMCwgbW9kZSk7CiAJCQkJCQl9CiAJCQkJCX0KQEAgLTE0MDgsOSAr
MTM5OCw3MyBAQCBwdWJsaWMgY2xhc3MgRGlzYXNzZW1ibGVyIGV4dGVuZHMgQ2xhc3NGaWxlQnl0
ZXNEaXNhc3NlbWJsZXIgewogCQkJCQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGkpLAogCQkJCQkJCQlk
ZWNvZGVTdHJpbmdWYWx1ZShuZXcgU3RyaW5nKGNvbnN0YW50UG9vbEVudHJ5LmdldFV0ZjhWYWx1
ZSgpKSl9KSk7CiAJCQkJCWJyZWFrOworCQkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNP
TlNUQU5UX01ldGhvZEhhbmRsZSA6CisJCQkJCUlDb25zdGFudFBvb2xFbnRyeTIgZW50cnkyID0g
KElDb25zdGFudFBvb2xFbnRyeTIpIGNvbnN0YW50UG9vbEVudHJ5OworCQkJCQlidWZmZXIuYXBw
ZW5kKAorCQkJCQkJCU1lc3NhZ2VzLmJpbmQoTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2NvbnN0YW50
cG9vbF9tZXRob2RoYW5kbGUsCisJCQkJCQkJCW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCQlJbnRl
Z2VyLnRvU3RyaW5nKGkpLAorCQkJCQkJCQkJZ2V0UmVmZXJlbmNlS2luZChlbnRyeTIuZ2V0UmVm
ZXJlbmNlS2luZCgpKSwKKwkJCQkJCQkJCUludGVnZXIudG9TdHJpbmcoZW50cnkyLmdldFJlZmVy
ZW5jZUluZGV4KCkpLAorCQkJCQkJCQl9KSk7CisJCQkJCWJyZWFrOworCQkJCWNhc2UgSUNvbnN0
YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX01ldGhvZFR5cGUgOgorCQkJCQllbnRyeTIgPSAoSUNv
bnN0YW50UG9vbEVudHJ5MikgY29uc3RhbnRQb29sRW50cnk7CisJCQkJCWJ1ZmZlci5hcHBlbmQo
CisJCQkJCQkJTWVzc2FnZXMuYmluZChNZXNzYWdlcy5kaXNhc3NlbWJsZXJfY29uc3RhbnRwb29s
X21ldGhvZHR5cGUsCisJCQkJCQkJCW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCQlJbnRlZ2VyLnRv
U3RyaW5nKGkpLAorCQkJCQkJCQkJSW50ZWdlci50b1N0cmluZyhlbnRyeTIuZ2V0RGVzY3JpcHRv
ckluZGV4KCkpLAorCQkJCQkJCQkJU3RyaW5nLnZhbHVlT2YoZW50cnkyLmdldE1ldGhvZERlc2Ny
aXB0b3IoKSksCisJCQkJCQkJCX0pKTsKKwkJCQkJYnJlYWs7CisJCQkJY2FzZSBJQ29uc3RhbnRQ
b29sQ29uc3RhbnQuQ09OU1RBTlRfSW52b2tlRHluYW1pYyA6CisJCQkJCWVudHJ5MiA9IChJQ29u
c3RhbnRQb29sRW50cnkyKSBjb25zdGFudFBvb2xFbnRyeTsKKwkJCQkJYnVmZmVyLmFwcGVuZCgK
KwkJCQkJCU1lc3NhZ2VzLmJpbmQoTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF9p
bnZva2VkeW5hbWljLAorCQkJCQkJCW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCUludGVnZXIudG9T
dHJpbmcoaSksCisJCQkJCQkJCUludGVnZXIudG9TdHJpbmcoZW50cnkyLmdldEJvb3RzdHJhcE1l
dGhvZEF0dHJpYnV0ZUluZGV4KCkpLAorCQkJCQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGVudHJ5Mi5n
ZXROYW1lQW5kVHlwZUluZGV4KCkpLAorCQkJCQkJCQluZXcgU3RyaW5nKGNvbnN0YW50UG9vbEVu
dHJ5LmdldE1ldGhvZE5hbWUoKSksCisJCQkJCQkJCW5ldyBTdHJpbmcoY29uc3RhbnRQb29sRW50
cnkuZ2V0TWV0aG9kRGVzY3JpcHRvcigpKQorCQkJCQkJCX0pKTsKIAkJCX0KIAkJfQogCX0KKwkK
Kwlwcml2YXRlIFN0cmluZyBnZXRSZWZlcmVuY2VLaW5kKGludCByZWZlcmVuY2VLaW5kKSB7CisJ
CVN0cmluZyBtZXNzYWdlID0gbnVsbDsKKwkJc3dpdGNoKHJlZmVyZW5jZUtpbmQpIHsKKwkJCWNh
c2UgSUNvbnN0YW50UG9vbENvbnN0YW50Lk1FVEhPRF9UWVBFX1JFRl9HZXRGaWVsZCA6CisJCQkJ
bWVzc2FnZSA9IE1lc3NhZ2VzLmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfZ2V0ZmllbGQ7
CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9S
RUZfR2V0U3RhdGljIDoKKwkJCQltZXNzYWdlID0gTWVzc2FnZXMuZGlzYXNzZW1ibGVyX21ldGhv
ZF90eXBlX3JlZl9nZXRzdGF0aWM7CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xD
b25zdGFudC5NRVRIT0RfVFlQRV9SRUZfUHV0RmllbGQgOgorCQkJCW1lc3NhZ2UgPSBNZXNzYWdl
cy5kaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dGZpZWxkOworCQkJCWJyZWFrOworCQkJ
Y2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuTUVUSE9EX1RZUEVfUkVGX1B1dFN0YXRpYyA6CisJ
CQkJbWVzc2FnZSA9IE1lc3NhZ2VzLmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfcHV0c3Rh
dGljOworCQkJCWJyZWFrOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuTUVUSE9EX1RZ
UEVfUkVGX0ludm9rZUludGVyZmFjZSA6CisJCQkJbWVzc2FnZSA9IE1lc3NhZ2VzLmRpc2Fzc2Vt
Ymxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tlaW50ZXJmYWNlOworCQkJCWJyZWFrOworCQkJY2Fz
ZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuTUVUSE9EX1RZUEVfUkVGX0ludm9rZVNwZWNpYWwgOgor
CQkJCW1lc3NhZ2UgPSBNZXNzYWdlcy5kaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX2ludm9r
ZXNwZWNpYWw7CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5NRVRI
T0RfVFlQRV9SRUZfSW52b2tlU3RhdGljIDoKKwkJCQltZXNzYWdlID0gTWVzc2FnZXMuZGlzYXNz
ZW1ibGVyX21ldGhvZF90eXBlX3JlZl9pbnZva2VzdGF0aWM7CisJCQkJYnJlYWs7CisJCQljYXNl
IElDb25zdGFudFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9SRUZfSW52b2tlVmlydHVhbCA6CisJ
CQkJbWVzc2FnZSA9IE1lc3NhZ2VzLmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tl
dmlydHVhbDsKKwkJCQlicmVhazsKKwkJCWRlZmF1bHQgOgorCQkJCW1lc3NhZ2UgPSBNZXNzYWdl
cy5kaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX25ld2ludm9rZXNwZWNpYWw7CisJCX0KKwkJ
cmV0dXJuIE1lc3NhZ2VzLmJpbmQobWVzc2FnZSwgbmV3IFN0cmluZ1tdIHsgSW50ZWdlci50b1N0
cmluZyhyZWZlcmVuY2VLaW5kKSB9KTsKKwl9CiAKIAlwcml2YXRlIHZvaWQgZGlzYXNzZW1ibGUo
SUVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSBlbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUsIFN0cmlu
Z0J1ZmZlciBidWZmZXIsIFN0cmluZyBsaW5lU2VwYXJhdG9yLCBpbnQgdGFiTnVtYmVyKSB7CiAJ
CXdyaXRlTmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIHRhYk51bWJlciArIDEpOwpAQCAt
MTY2OSw2ICsxNzIzLDQ2IEBAIHB1YmxpYyBjbGFzcyBEaXNhc3NlbWJsZXIgZXh0ZW5kcyBDbGFz
c0ZpbGVCeXRlc0Rpc2Fzc2VtYmxlciB7CiAJCX0KIAl9CiAKKwlwcml2YXRlIHZvaWQgZGlzYXNz
ZW1ibGUoSUJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUgYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0
ZSwgU3RyaW5nQnVmZmVyIGJ1ZmZlciwgU3RyaW5nIGxpbmVTZXBhcmF0b3IsIGludCB0YWJOdW1i
ZXIpIHsKKwkJd3JpdGVOZXdMaW5lKGJ1ZmZlciwgbGluZVNlcGFyYXRvciwgdGFiTnVtYmVyKTsK
KwkJYnVmZmVyLmFwcGVuZChNZXNzYWdlcy5kaXNhc3NlbWJsZXJfYm9vdHN0cmFwbWV0aG9kYXR0
cmlidXRlc2hlYWRlcik7CisJCXdyaXRlTmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIHRh
Yk51bWJlciArIDEpOworCQlJQm9vdHN0cmFwTWV0aG9kc0VudHJ5W10gZW50cmllcyA9IGJvb3Rz
dHJhcE1ldGhvZHNBdHRyaWJ1dGUuZ2V0Qm9vdHN0cmFwTWV0aG9kcygpOworCQlpbnQgbGVuZ3Ro
ID0gZW50cmllcy5sZW5ndGg7CisJCWZvciAoaW50IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsK
KwkJCWlmIChpICE9IDApIHsKKwkJCQlidWZmZXIuYXBwZW5kKE1lc3NhZ2VzLmRpc2Fzc2VtYmxl
cl9jb21tYSk7CisJCQkJd3JpdGVOZXdMaW5lKGJ1ZmZlciwgbGluZVNlcGFyYXRvciwgdGFiTnVt
YmVyICsgMSk7CisJCQl9CisJCQlJQm9vdHN0cmFwTWV0aG9kc0VudHJ5IGVudHJ5ID0gZW50cmll
c1tpXTsKKwkJCWJ1ZmZlci5hcHBlbmQoCisJCQkJTWVzc2FnZXMuYmluZCgKKwkJCQkJTWVzc2Fn
ZXMuZGlzYXNzZW1ibGVyX2Jvb3RzdHJhcG1ldGhvZGVudHJ5LAorCQkJCQluZXcgU3RyaW5nW10g
eworCQkJCQkJSW50ZWdlci50b1N0cmluZyhpKSwKKwkJCQkJCUludGVnZXIudG9TdHJpbmcoZW50
cnkuZ2V0Qm9vdHN0cmFwTWV0aG9kUmVmZXJlbmNlKCkpLAorCQkJCQkJZ2V0QXJndW1lbnRzKGVu
dHJ5LmdldEJvb3RzdHJhcEFyZ3VtZW50cygpKQorCQkJCQl9KSk7CisJCX0KKwl9CisKKwlwcml2
YXRlIFN0cmluZyBnZXRBcmd1bWVudHMoaW50W10gYXJndW1lbnRzKSB7CisJCVN0cmluZ0J1ZmZl
ciBidWZmZXIgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCWJ1ZmZlci5hcHBlbmQoJ3snKTsKKwkJ
Zm9yIChpbnQgaSA9IDAsIG1heCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgewor
CQkJaWYgKGkgIT0gMCkgeworCQkJCWJ1ZmZlci5hcHBlbmQoTWVzc2FnZXMuZGlzYXNzZW1ibGVy
X2NvbW1hKTsKKwkJCX0KKwkJCWJ1ZmZlci5hcHBlbmQoCisJCQkJTWVzc2FnZXMuYmluZCgKKwkJ
CQkJTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2Jvb3RzdHJhcG1ldGhvZGVudHJ5X2FyZ3VtZW50LAor
CQkJCQluZXcgU3RyaW5nW10geworCQkJCQkJSW50ZWdlci50b1N0cmluZyhhcmd1bWVudHNbaV0p
LAorCQkJCQl9KSk7CisJCX0KKwkJYnVmZmVyLmFwcGVuZCgnfScpOworCQlyZXR1cm4gU3RyaW5n
LnZhbHVlT2YoYnVmZmVyKTsKKwl9CiAJcHJpdmF0ZSB2b2lkIGRpc2Fzc2VtYmxlKGludCBpbmRl
eCwgSVBhcmFtZXRlckFubm90YXRpb24gcGFyYW1ldGVyQW5ub3RhdGlvbiwgU3RyaW5nQnVmZmVy
IGJ1ZmZlciwgU3RyaW5nIGxpbmVTZXBhcmF0b3IsIGludCB0YWJOdW1iZXIsIGludCBtb2RlKSB7
CiAJCUlBbm5vdGF0aW9uW10gYW5ub3RhdGlvbnMgPSBwYXJhbWV0ZXJBbm5vdGF0aW9uLmdldEFu
bm90YXRpb25zKCk7CiAJCXdyaXRlTmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIHRhYk51
bWJlciArIDEpOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9NZXNzYWdlcy5qYXZhIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9NZXNzYWdl
cy5qYXZhCmluZGV4IDc1ZWNiYWIuLmZmMWNmODMgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvTWVzc2FnZXMu
amF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29yZS91dGlsL01lc3NhZ2VzLmphdmEKQEAgLTI1OSw2ICsyNTksOSBAQCBwdWJsaWMg
ZmluYWwgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBOTFMgewogCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IGRpc2Fzc2VtYmxlcl9pbm5lcl9hY2Nlc3NmbGFnczsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBk
aXNhc3NlbWJsZXJfZ2VuZXJpY2F0dHJpYnV0ZWhlYWRlcjsKIAlwdWJsaWMgc3RhdGljIFN0cmlu
ZyBkaXNhc3NlbWJsZXJfc2lnbmF0dXJlYXR0cmlidXRlaGVhZGVyOworCXB1YmxpYyBzdGF0aWMg
U3RyaW5nIGRpc2Fzc2VtYmxlcl9ib290c3RyYXBtZXRob2RhdHRyaWJ1dGVzaGVhZGVyOworCXB1
YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9ib290c3RyYXBtZXRob2RlbnRyeTsKKwlw
dWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfYm9vdHN0cmFwbWV0aG9kZW50cnlfYXJn
dW1lbnQ7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX2luZGVudGF0aW9uOwog
CXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xpbmRleDsKIAlw
dWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfc3BhY2U7CkBAIC0yNzgsNiArMjgxLDkg
QEAgcHVibGljIGZpbmFsIGNsYXNzIE1lc3NhZ2VzIGV4dGVuZHMgTkxTIHsKIAlwdWJsaWMgc3Rh
dGljIFN0cmluZyBkaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX21ldGhvZHJlZjsKIAlwdWJsaWMg
c3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX25hbWVfYW5kX3R5cGU7CiAJ
cHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF91dGY4OworCXB1
YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kaGFuZGxl
OworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9k
dHlwZTsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX2lu
dm9rZWR5bmFtaWM7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX2Fubm90YXRp
b25kZWZhdWx0aGVhZGVyOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9hbm5v
dGF0aW9uZGVmYXVsdHZhbHVlOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9h
bm5vdGF0aW9uZW51bXZhbHVlOwpAQCAtMzQ4LDYgKzM1NCwxNiBAQCBwdWJsaWMgZmluYWwgY2xh
c3MgTWVzc2FnZXMgZXh0ZW5kcyBOTFMgewogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2Vt
Ymxlcl9mcmFtZV9zYW1lX2ZyYW1lOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxl
cl9mcmFtZV9zYW1lX2xvY2Fsc18xX3N0YWNrX2l0ZW07CiAJcHVibGljIHN0YXRpYyBTdHJpbmcg
Y29kZV9hc3Npc3RfaW50ZXJuYWxfZXJyb3I7CisJCisJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlz
YXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9nZXRmaWVsZDsKKwlwdWJsaWMgc3RhdGljIFN0cmlu
ZyBkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dGZpZWxkOworCXB1YmxpYyBzdGF0aWMg
U3RyaW5nIGRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfZ2V0c3RhdGljOworCXB1YmxpYyBz
dGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfcHV0c3RhdGljOworCXB1
YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tlc3Rh
dGljOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZf
aW52b2tldmlydHVhbDsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfbWV0aG9k
X3R5cGVfcmVmX2ludm9rZXNwZWNpYWw7CisJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1i
bGVyX21ldGhvZF90eXBlX3JlZl9pbnZva2VpbnRlcmZhY2U7CisJcHVibGljIHN0YXRpYyBTdHJp
bmcgZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9uZXdpbnZva2VzcGVjaWFsOwogCiAJc3Rh
dGljIHsKIAkJTkxTLmluaXRpYWxpemVNZXNzYWdlcyhCVU5ETEVfTkFNRSwgTWVzc2FnZXMuY2xh
c3MpOwpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvdXRpbC9tZXNzYWdlcy5wcm9wZXJ0aWVzIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9tZXNzYWdl
cy5wcm9wZXJ0aWVzCmluZGV4IGU3NWU1NmIuLjVhZjg4ZGIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xp
cHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvbWVz
c2FnZXMucHJvcGVydGllcworKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL21lc3NhZ2VzLnByb3BlcnRpZXMKQEAgLTI4NSw2
ICsyODUsOSBAQCBkaXNhc3NlbWJsZXJfZ2VuZXJpY2F0dHJpYnV0ZWhlYWRlciA9IEF0dHJpYnV0
ZTogezB9IExlbmd0aDogezF9CiBkaXNhc3NlbWJsZXJfc3RhY2ttYXB0YWJsZWF0dHJpYnV0ZWhl
YWRlciA9IFN0YWNrIG1hcCB0YWJsZTogbnVtYmVyIG9mIGZyYW1lcyB7MH0KIGRpc2Fzc2VtYmxl
cl9zdGFja21hcGF0dHJpYnV0ZWhlYWRlciA9ICBTdGFjayBtYXAgOiBudW1iZXIgb2YgZnJhbWVz
IHswfQogZGlzYXNzZW1ibGVyX3NpZ25hdHVyZWF0dHJpYnV0ZWhlYWRlciA9IC8vIFNpZ25hdHVy
ZTogezB9CitkaXNhc3NlbWJsZXJfYm9vdHN0cmFwbWV0aG9kYXR0cmlidXRlc2hlYWRlciA9IEJv
b3RzdHJhcCBtZXRob2RzOgorZGlzYXNzZW1ibGVyX2Jvb3RzdHJhcG1ldGhvZGVudHJ5ID0gezB9
IDogIyB7MX0gYXJndW1lbnRzOiB7Mn0KK2Rpc2Fzc2VtYmxlcl9ib290c3RyYXBtZXRob2RlbnRy
eV9hcmd1bWVudCA9ICN7MH0KIGRpc2Fzc2VtYmxlcl9pbmRlbnRhdGlvbiA9IFwgIAogZGlzYXNz
ZW1ibGVyX2NvbnN0YW50cG9vbGluZGV4ID1cICMKIGRpc2Fzc2VtYmxlcl9zcGFjZSA9IFwgCkBA
IC0zMDQsNiArMzA3LDkgQEAgZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF9pbnRlcmZhY2VtZXRo
b2RyZWYgPSBjb25zdGFudCAjezB9IGludGVyZmFjZV9tZXRob2RfcmUKIGRpc2Fzc2VtYmxlcl9j
b25zdGFudHBvb2xfbWV0aG9kcmVmID0gY29uc3RhbnQgI3swfSBtZXRob2RfcmVmOiAjezF9LiN7
Mn0gezN9Lns0fSB7NX0KIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbmFtZV9hbmRfdHlwZSA9
IGNvbnN0YW50ICN7MH0gbmFtZV9hbmRfdHlwZTogI3sxfS4jezJ9IHszfSB7NH0KIGRpc2Fzc2Vt
Ymxlcl9jb25zdGFudHBvb2xfdXRmOCA9IGNvbnN0YW50ICN7MH0gdXRmODogInsxfSIKK2Rpc2Fz
c2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kaGFuZGxlID0gY29uc3RhbnQgI3swfSBtZXRob2Qg
aGFuZGxlOiB7MX0gI3syfSAKK2Rpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kdHlwZSA9
IGNvbnN0YW50ICN7MH0gbWV0aG9kIHR5cGU6ICN7MX0gezJ9CitkaXNhc3NlbWJsZXJfY29uc3Rh
bnRwb29sX2ludm9rZWR5bmFtaWMgPSBjb25zdGFudCAjezB9IGludm9rZSBkeW5hbWljOiAjezF9
ICN7Mn0gezN9IHs0fQogZGlzYXNzZW1ibGVyX2Fubm90YXRpb25kZWZhdWx0aGVhZGVyID0gQW5u
b3RhdGlvbiBEZWZhdWx0OlwgCiBkaXNhc3NlbWJsZXJfYW5ub3RhdGlvbmRlZmF1bHR2YWx1ZT0g
ezB9IChjb25zdGFudCB0eXBlKQogZGlzYXNzZW1ibGVyX2Fubm90YXRpb25lbnVtdmFsdWUgPSB7
Mn0uezN9KGVudW0gdHlwZSAjezB9LiN7MX0pCkBAIC0zMjMsNiArMzI5LDE1IEBAIGRpc2Fzc2Vt
Ymxlcl9mcmFtZV9zYW1lX2xvY2Fsc18xX3N0YWNrX2l0ZW1fZXh0ZW5kZWQ9W3BjOiB7MH0sIHNh
bWVfbG9jYWxzXzFfc3RhCiBkaXNhc3NlbWJsZXJfZnJhbWVfY2hvcD1bcGM6IHswfSwgY2hvcCB7
MX0gbG9jYWwocyldCiBkaXNhc3NlbWJsZXJfZnJhbWVfc2FtZV9mcmFtZV9leHRlbmRlZD1bcGM6
IHswfSwgc2FtZV9leHRlbmRlZF0KIGRpc2Fzc2VtYmxlcl9mcmFtZV9hcHBlbmQ9W3BjOiB7MH0s
IGFwcGVuZDogezF9XQorZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9nZXRmaWVsZCA9IGdl
dGZpZWxkICh7MH0pCitkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dGZpZWxkID0gcHV0
ZmllbGQgKHswfSkKK2Rpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfZ2V0c3RhdGljID0gZ2V0
c3RhdGljICh7MH0pCitkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dHN0YXRpYyA9IHB1
dHN0YXRpYyAoezB9KQorZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9pbnZva2VzdGF0aWMg
PSBpbnZva2VzdGF0aWMgKHswfSkKK2Rpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tl
dmlydHVhbCA9IGludm9rZXZpcnR1YWwgKHswfSkKK2Rpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9y
ZWZfaW52b2tlaW50ZXJmYWNlID0gaW52b2tlaW50ZXJmYWNlICh7MH0pCitkaXNhc3NlbWJsZXJf
bWV0aG9kX3R5cGVfcmVmX2ludm9rZXNwZWNpYWwgPSBpbnZva2VzcGVjaWFsICh7MH0pCitkaXNh
c3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX25ld2ludm9rZXNwZWNpYWwgPSBuZXdpbnZva2VzcGVj
aWFsICh7MH0pCiAjIHswfSA9IG9mZnNldCBkZWx0YQogIyB7MX0gPSBudW1iZXIgb2YgbG9jYWxz
CiAjIHsyfSA9IGxvY2FscwpAQCAtMzU4LDcgKzM3Myw3IEBAIGNsYXNzZm9ybWF0X25ldyA9IHsw
fSB7Mn0gW3sxfV0KIGNsYXNzZm9ybWF0X2lpbmMgPSB7MH0gezF9IHsyfXszfQogY2xhc3Nmb3Jt
YXRfaW52b2tlc3BlY2lhbCA9ezB9IHsyfSBbezF9XQogY2xhc3Nmb3JtYXRfaW52b2tlaW50ZXJm
YWNlID17MH0gezN9IFt7MX1dIFtuYXJnczogezJ9XQotY2xhc3Nmb3JtYXRfaW52b2tlZHluYW1p
Yz17MH0gezJ9IFt7MX1dCitjbGFzc2Zvcm1hdF9pbnZva2VkeW5hbWljPXswfSB7Mn0gezN9IFt7
MX1dCiBjbGFzc2Zvcm1hdF9pbnZva2VzdGF0aWMgPXswfSB7Mn0gW3sxfV0KIGNsYXNzZm9ybWF0
X2ludm9rZXZpcnR1YWwgPXswfSB7Mn0gW3sxfV0KIGNsYXNzZm9ybWF0X2dldGZpZWxkID17MH0g
ezJ9LnszfSA6IHs0fSBbezF9XQo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>204629</attachid>
            <date>2011-10-05 16:00:00 -0400</date>
            <delta_ts>2011-10-05 16:00:19 -0400</delta_ts>
            <desc>Proposed fix</desc>
            <filename>patch_java7_jvm.txt</filename>
            <type>text/plain</type>
            <size>64088</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">RnJvbSBhYjIzMzU1MGRiNjU3ODU1MDA3ZDdmZDJjNTY5NDFhM2IwN2M2ZmE2IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBPbGl2aWVyIFRob21hbm4gPG9saXZpZXJfdGhvbWFubkBjYS5p
Ym0uY29tPgpEYXRlOiBXZWQsIDUgT2N0IDIwMTEgMTU6MDk6MzkgLTA0MDAKU3ViamVjdDogW1BB
VENIXSBIRUFEIC0gRml4ZWQgYnVnIDM1OTk0MzogaW52b2tlZHluYW1pYyBpbiBnZW5lcmF0ZWQg
Y2xhc3MKIGZpbGUgaXMgbm90IGNvcnJlY3RseSByZWNvZ25pemVkIGJ5IHRoZSBlY2xpcHNlIGNv
bXBpbGVyCgotLS0KIC4uLi9jb21waWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2
YSAgICAgIHwgICAgOCArLQogLi4uL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmlsZVJlYWRlci5q
YXZhICAgICAgICAgfCAgIDE1ICsrLQogLi4uL2pkdC9jb3JlL3V0aWwvQnl0ZUNvZGVWaXNpdG9y
QWRhcHRlci5qYXZhICAgICAgfCAgIDE1ICsrLQogLi4uL2pkdC9jb3JlL3V0aWwvSUF0dHJpYnV0
ZU5hbWVzQ29uc3RhbnRzLmphdmEgICAgfCAgICA4ICstCiAuLi4vamR0L2NvcmUvdXRpbC9JQm9v
dHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS5qYXZhICB8ICAgNDAgKysrKysrCiAuLi4vamR0L2NvcmUv
dXRpbC9JQm9vdHN0cmFwTWV0aG9kc0VudHJ5LmphdmEgICAgICB8ICAgMjQgKysrKwogLi4uL2Vj
bGlwc2UvamR0L2NvcmUvdXRpbC9JQnl0ZWNvZGVWaXNpdG9yLmphdmEgICAgfCAgIDEwICsrLQog
Li4uL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbC5qYXZhICAgfCAgIDE0
ICstCiAuLi4vamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sQ29uc3RhbnQuamF2YSAgICAgICB8
ICAgNzEgKysrKysrKysrKy0KIC4uLi9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9v
bEVudHJ5LmphdmEgIHwgICA1NyArKysrKysrLS0KIC4uLi9lY2xpcHNlL2pkdC9jb3JlL3V0aWwv
SUNvbnN0YW50UG9vbEVudHJ5Mi5qYXZhIHwgICA1OSArKysrKysrKwogLi4uL2NvcmUvdXRpbC9C
b290c3RyYXBNZXRob2RzQXR0cmlidXRlLmphdmEgICAgICAgfCAgIDYzICsrKysrKysrKwogLi4u
L2ludGVybmFsL2NvcmUvdXRpbC9Cb290c3RyYXBNZXRob2RzRW50cnkuamF2YSAgfCAgIDUyICsr
KysrKysKIC4uLi9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NsYXNzRmlsZVJlYWRlci5qYXZhICAg
IHwgICAxNiArKy0KIC4uLi9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NvZGVBdHRyaWJ1dGUuamF2
YSAgICAgIHwgICAgNyArLQogLi4uL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQ29uc3RhbnRQb29s
LmphdmEgICAgICAgfCAgIDczICsrKysrKysrKystCiAuLi4vamR0L2ludGVybmFsL2NvcmUvdXRp
bC9Db25zdGFudFBvb2xFbnRyeS5qYXZhICB8ICAgIDMgKy0KIC4uLi9qZHQvaW50ZXJuYWwvY29y
ZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5Mi5qYXZhIHwgICA2NiArKysrKysrKysKIC4uLi9pbnRl
cm5hbC9jb3JlL3V0aWwvRGVmYXVsdEJ5dGVjb2RlVmlzaXRvci5qYXZhIHwgICAyOSArKysrLQog
Li4uL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvRGlzYXNzZW1ibGVyLmphdmEgICAgICAgfCAgMTQw
ICsrKysrKysrKysrKysrKystLS0tCiAuLi4vZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGls
L01lc3NhZ2VzLmphdmEgICB8ICAgMTYgKysrCiAuLi4vamR0L2ludGVybmFsL2NvcmUvdXRpbC9t
ZXNzYWdlcy5wcm9wZXJ0aWVzICAgICB8ICAgMTcgKysrLQogMjIgZmlsZXMgY2hhbmdlZCwgNzQ0
IGluc2VydGlvbnMoKyksIDU5IGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IG9yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJh
cE1ldGhvZHNBdHRyaWJ1dGUuamF2YQogY3JlYXRlIG1vZGUgMTAwNjQ0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNF
bnRyeS5qYXZhCiBjcmVhdGUgbW9kZSAxMDA2NDQgb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwv
b3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sRW50cnkyLmphdmEKIGNyZWF0
ZSBtb2RlIDEwMDY0NCBvcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS91dGlsL0Jvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUuamF2YQogY3JlYXRl
IG1vZGUgMTAwNjQ0IG9yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb3JlL3V0aWwvQm9vdHN0cmFwTWV0aG9kc0VudHJ5LmphdmEKIGNyZWF0ZSBtb2Rl
IDEwMDY0NCBvcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29yZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5Mi5qYXZhCgpkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2NsYXNzZm10L0NsYXNzRmlsZUNvbnN0YW50cy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNz
RmlsZUNvbnN0YW50cy5qYXZhCmluZGV4IDcwOTVhZjEuLmEyMWI2ODEgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2YQorKysgYi9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3Nm
bXQvQ2xhc3NGaWxlQ29uc3RhbnRzLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtNTgsNiArNTgs
OSBAQCBwdWJsaWMgaW50ZXJmYWNlIENsYXNzRmlsZUNvbnN0YW50cyB7CiAJaW50IE1ldGhvZFJl
ZlRhZyA9IDEwOwogCWludCBJbnRlcmZhY2VNZXRob2RSZWZUYWcgPSAxMTsKIAlpbnQgTmFtZUFu
ZFR5cGVUYWcgPSAxMjsKKwlpbnQgTWV0aG9kSGFuZGxlVGFnID0gMTU7CisJaW50IE1ldGhvZFR5
cGVUYWcgPSAxNjsKKwlpbnQgSW52b2tlRHluYW1pY1RhZyA9IDE4OwogCiAJaW50IENvbnN0YW50
TWV0aG9kUmVmRml4ZWRTaXplID0gNTsKIAlpbnQgQ29uc3RhbnRDbGFzc0ZpeGVkU2l6ZSA9IDM7
CkBAIC03MCw2ICs3Myw5IEBAIHB1YmxpYyBpbnRlcmZhY2UgQ2xhc3NGaWxlQ29uc3RhbnRzIHsK
IAlpbnQgQ29uc3RhbnRTdHJpbmdGaXhlZFNpemUgPSAzOwogCWludCBDb25zdGFudFV0ZjhGaXhl
ZFNpemUgPSAzOwogCWludCBDb25zdGFudE5hbWVBbmRUeXBlRml4ZWRTaXplID0gNTsKKwlpbnQg
Q29uc3RhbnRNZXRob2RIYW5kbGVGaXhlZFNpemUgPSA0OworCWludCBDb25zdGFudE1ldGhvZFR5
cGVGaXhlZFNpemUgPSAzOworCWludCBDb25zdGFudEludm9rZUR5bmFtaWNGaXhlZFNpemUgPSA1
OwogCiAJaW50IE1BSk9SX1ZFUlNJT05fMV8xID0gNDU7CiAJaW50IE1BSk9SX1ZFUlNJT05fMV8y
ID0gNDY7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3NmbXQvQ2xhc3NGaWxlUmVhZGVyLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvY2xhc3NmbXQvQ2xhc3NGaWxlUmVhZGVyLmphdmEKaW5kZXggZDJhMmI2Mi4uOGZl
YzRjYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmlsZVJlYWRlci5qYXZhCisr
KyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5h
bC9jb21waWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVSZWFkZXIuamF2YQpAQCAtMSw1ICsxLDUgQEAK
IC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTAgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAq
IHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0
CkBAIC0yMDcsNiArMjA3LDE5IEBAIHB1YmxpYyBDbGFzc0ZpbGVSZWFkZXIoYnl0ZVtdIGNsYXNz
RmlsZUJ5dGVzLCBjaGFyW10gZmlsZU5hbWUsIGJvb2xlYW4gZnVsbHlJbml0CiAJCQkJY2FzZSBD
bGFzc0ZpbGVDb25zdGFudHMuTmFtZUFuZFR5cGVUYWcgOgogCQkJCQl0aGlzLmNvbnN0YW50UG9v
bE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0OwogCQkJCQlyZWFkT2Zmc2V0ICs9IENsYXNzRmlsZUNv
bnN0YW50cy5Db25zdGFudE5hbWVBbmRUeXBlRml4ZWRTaXplOworCQkJCQlicmVhazsKKwkJCQlj
YXNlIENsYXNzRmlsZUNvbnN0YW50cy5NZXRob2RIYW5kbGVUYWcgOgorCQkJCQl0aGlzLmNvbnN0
YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0OworCQkJCQlyZWFkT2Zmc2V0ICs9IENsYXNz
RmlsZUNvbnN0YW50cy5Db25zdGFudE1ldGhvZEhhbmRsZUZpeGVkU2l6ZTsKKwkJCQkJYnJlYWs7
CisJCQkJY2FzZSBDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kVHlwZVRhZyA6CisJCQkJCXRoaXMu
Y29uc3RhbnRQb29sT2Zmc2V0c1tpXSA9IHJlYWRPZmZzZXQ7CisJCQkJCXJlYWRPZmZzZXQgKz0g
Q2xhc3NGaWxlQ29uc3RhbnRzLkNvbnN0YW50TWV0aG9kVHlwZUZpeGVkU2l6ZTsKKwkJCQkJYnJl
YWs7CisJCQkJY2FzZSBDbGFzc0ZpbGVDb25zdGFudHMuSW52b2tlRHluYW1pY1RhZyA6CisJCQkJ
CXRoaXMuY29uc3RhbnRQb29sT2Zmc2V0c1tpXSA9IHJlYWRPZmZzZXQ7CisJCQkJCXJlYWRPZmZz
ZXQgKz0gQ2xhc3NGaWxlQ29uc3RhbnRzLkNvbnN0YW50SW52b2tlRHluYW1pY0ZpeGVkU2l6ZTsK
KwkJCQkJYnJlYWs7CiAJCQl9CiAJCX0KIAkJLy8gUmVhZCBhbmQgdmFsaWRhdGUgYWNjZXNzIGZs
YWdzCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9q
ZHQvY29yZS91dGlsL0J5dGVDb2RlVmlzaXRvckFkYXB0ZXIuamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvQnl0ZUNvZGVWaXNpdG9yQWRh
cHRlci5qYXZhCmluZGV4IGRkODk0YWQuLmMyM2FmMTMgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvQnl0ZUNvZGVWaXNpdG9y
QWRhcHRlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNl
L2pkdC9jb3JlL3V0aWwvQnl0ZUNvZGVWaXNpdG9yQWRhcHRlci5qYXZhCkBAIC0xLDUgKzEsNSBA
QAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwOSBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWls
YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAog
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQKQEAgLTkyMyw4ICs5MjMsOSBAQCBwdWJsaWMgY2xhc3MgQnl0ZUNvZGVWaXNpdG9yQWRhcHRl
ciBpbXBsZW1lbnRzIElCeXRlY29kZVZpc2l0b3IgewogCQkvLyBkZWZhdWx0IGJlaGF2aW9yIGlz
IHRvIGRvIG5vdGhpbmcKIAl9CiAJLyoqCi0JICogQHNlZSBJQnl0ZWNvZGVWaXNpdG9yI19pbnZv
a2VpbnRlcmZhY2UoaW50LCBpbnQsIGJ5dGUsIElDb25zdGFudFBvb2xFbnRyeSkKKwkgKiBAc2Vl
IElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25zdGFudFBvb2xF
bnRyeSwgSUNvbnN0YW50UG9vbEVudHJ5KQogCSAqIEBzaW5jZSAzLjYKKwkgKiBAZGVwcmVjYXRl
ZCBUaGlzIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGgge0BsaW5rIElCeXRlY29kZVZpc2l0b3IjX2lu
dm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25zdGFudFBvb2xFbnRyeSl9CiAJICovCiAJcHVibGlj
IHZvaWQgX2ludm9rZWR5bmFtaWMoCiAJCQlpbnQgcGMsCkBAIC05MzQsNiArOTM1LDE2IEBAIHB1
YmxpYyBjbGFzcyBCeXRlQ29kZVZpc2l0b3JBZGFwdGVyIGltcGxlbWVudHMgSUJ5dGVjb2RlVmlz
aXRvciB7CiAJCS8vIGRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gZG8gbm90aGluZwogCX0KIAkvKioK
KwkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25z
dGFudFBvb2xFbnRyeSkKKwkgKiBAc2luY2UgMy44CisJICovCisJcHVibGljIHZvaWQgX2ludm9r
ZWR5bmFtaWMoCisJCQlpbnQgcGMsCisJCQlpbnQgaW5kZXgsCisJCQlJQ29uc3RhbnRQb29sRW50
cnkgaW52b2tlRHluYW1pY0VudHJ5KSB7CisJCS8vIGRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gZG8g
bm90aGluZworCX0KKwkvKioKIAkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWludGVy
ZmFjZShpbnQsIGludCwgYnl0ZSwgSUNvbnN0YW50UG9vbEVudHJ5KQogCSAqLwogCXB1YmxpYyB2
b2lkIF9pbnZva2VpbnRlcmZhY2UoCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9t
b2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5q
YXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRp
bC9JQXR0cmlidXRlTmFtZXNDb25zdGFudHMuamF2YQppbmRleCBlNWRhZmE0Li5kYTgzOGVjIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29y
ZS91dGlsL0lBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUF0dHJpYnV0ZU5hbWVzQ29u
c3RhbnRzLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICog
Q29weXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICog
Q29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICog
QWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1h
dGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTQwLDQgKzE0MCwxMCBAQCBwdWJsaWMg
aW50ZXJmYWNlIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cyB7CiAJICogQHNpbmNlIDMuMgogCSAq
LwogCWNoYXJbXSBTVEFDS19NQVAgPSAiU3RhY2tNYXAiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1O
TFMtMSQKKwkKKwkvKioKKwkgKiAiQm9vdHN0cmFwTWV0aG9kcyIgYXR0cmlidXRlIChhZGRlZCBp
biBjbGRjMS4wKS4KKwkgKiBAc2luY2UgMy44CisJICovCisJY2hhcltdIEJPT1RTVFJBUF9NRVRI
T0RTID0gIkJvb3RzdHJhcE1ldGhvZHMiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIH0K
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9j
b3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUuamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNB
dHRyaWJ1dGUuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5hMGI4MTY2
Ci0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlw
c2UvamR0L2NvcmUvdXRpbC9JQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS5qYXZhCkBAIC0wLDAg
KzEsNDAgQEAKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMpIDIwMTEg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
KyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAorICoKKyAq
IENvbnRyaWJ1dG9yczoKKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQg
aW1wbGVtZW50YXRpb24KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNs
aXBzZS5qZHQuY29yZS51dGlsOworCisvKioKKyAqIERlc2NyaXB0aW9uIG9mIGEgYm9vdHN0cmFw
IG1ldGhvZHMgYXR0cmlidXRlIGFzIGRlc2NyaWJlZCBpbiB0aGUgSlZNIHNwZWNpZmljYXRpb25z
LgorICoKKyAqIFRoaXMgaW50ZXJmYWNlIG1heSBiZSBpbXBsZW1lbnRlZCBieSBjbGllbnRzLgor
ICoKKyAqIEBzaW5jZSAzLjgKKyAqLworcHVibGljIGludGVyZmFjZSBJQm9vdHN0cmFwTWV0aG9k
c0F0dHJpYnV0ZSBleHRlbmRzIElDbGFzc0ZpbGVBdHRyaWJ1dGUgeworCisJLyoqCisJICogQW5z
d2VyIGJhY2sgdGhlIG51bWJlciBvZiBib290c3RyYXAgbWV0aG9kcyBvZiB0aGlzIGVudHJ5IGFz
IHNwZWNpZmllZCBpbgorCSAqIHRoZSBKVk0gc3BlY2lmaWNhdGlvbnMuCisJICoKKwkgKiBAcmV0
dXJuIHRoZSBsb2NhbCB2YXJpYWJsZSB0YWJsZSBsZW5ndGggb2YgdGhpcyBlbnRyeSBhcyBzcGVj
aWZpZWQgaW4KKwkgKiB0aGUgSlZNIHNwZWNpZmljYXRpb25zCisJICovCisJaW50IGdldEJvb3Rz
dHJhcE1ldGhvZHNMZW5ndGgoKTsKKworCS8qKgorCSAqIEFuc3dlciBiYWNrIHRoZSBib290c3Ry
YXAgbWV0aG9kcyB0YWJsZSBvZiB0aGlzIGVudHJ5IGFzIHNwZWNpZmllZCBpbgorCSAqIHRoZSBK
Vk0gc3BlY2lmaWNhdGlvbnMuIEFuc3dlciBhbiBlbXB0eSBhcnJheSBpZiBub25lLgorCSAqCisJ
ICogQHJldHVybiB0aGUgYm9vdHN0cmFwIG1ldGhvZHMgdGFibGUgb2YgdGhpcyBlbnRyeSBhcyBz
cGVjaWZpZWQgaW4KKwkgKiB0aGUgSlZNIHNwZWNpZmljYXRpb25zLiBBbnN3ZXIgYW4gZW1wdHkg
YXJyYXkgaWYgbm9uZQorCSAqLworCUlCb290c3RyYXBNZXRob2RzRW50cnlbXSBnZXRCb290c3Ry
YXBNZXRob2RzKCk7CisKK30KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVs
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNFbnRyeS5qYXZhIGIv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQm9v
dHN0cmFwTWV0aG9kc0VudHJ5LmphdmEKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAw
MC4uNDA3OGU4NQotLS0gL2Rldi9udWxsCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVs
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJvb3RzdHJhcE1ldGhvZHNFbnRyeS5qYXZhCkBA
IC0wLDAgKzEsMjQgQEAKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMp
IDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBhcmUgbWFk
ZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNl
IHYxLjAKKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAor
ICoKKyAqIENvbnRyaWJ1dG9yczoKKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQ
SSBhbmQgaW1wbGVtZW50YXRpb24KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLworcGFja2FnZSBv
cmcuZWNsaXBzZS5qZHQuY29yZS51dGlsOworCisvKioKKyAqIERlc2NyaXB0aW9uIG9mIGEgYm9v
dHN0cmFwIG1ldGhvZCB0YWJsZSBlbnRyeSBhcyBzcGVjaWZpZWQgaW4gdGhlIEpWTSBzcGVjaWZp
Y2F0aW9ucy4KKyAqCisgKiBUaGlzIGludGVyZmFjZSBtYXkgYmUgaW1wbGVtZW50ZWQgYnkgY2xp
ZW50cy4KKyAqCisgKiBAc2luY2UgMy44CisgKi8KK3B1YmxpYyBpbnRlcmZhY2UgSUJvb3RzdHJh
cE1ldGhvZHNFbnRyeSB7CisKKwlpbnQgZ2V0Qm9vdHN0cmFwTWV0aG9kUmVmZXJlbmNlKCk7CisJ
aW50W10gZ2V0Qm9vdHN0cmFwQXJndW1lbnRzKCk7Cit9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lCeXRlY29kZVZpc2l0
b3IuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3V0aWwvSUJ5dGVjb2RlVmlzaXRvci5qYXZhCmluZGV4IDUyY2NiMTYuLmYzNmRiOGMgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0
aWwvSUJ5dGVjb2RlVmlzaXRvci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVs
L29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUJ5dGVjb2RlVmlzaXRvci5qYXZhCkBAIC0xLDUg
KzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwg
MjAwOSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwg
MjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQu
IFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFp
bGFibGUgYXQKQEAgLTE2OCwxMiArMTY4LDIwIEBAIHB1YmxpYyBpbnRlcmZhY2UgSUJ5dGVjb2Rl
VmlzaXRvciB7CiAJCUlDb25zdGFudFBvb2xFbnRyeSBjb25zdGFudENsYXNzKTsKIAkvKioKIAkg
KiBAc2luY2UgMy42CisJICogQGRlcHJlY2F0ZWQgVGhpcyBoYXMgYmVlbiByZXBsYWNlZCB3aXRo
IHtAbGluayAjX2ludm9rZWR5bmFtaWMoaW50LCBpbnQsIElDb25zdGFudFBvb2xFbnRyeSl9CiAJ
ICovCiAJdm9pZCBfaW52b2tlZHluYW1pYygKIAkJCWludCBwYywKIAkJCWludCBpbmRleCwKIAkJ
CUlDb25zdGFudFBvb2xFbnRyeSBuYW1lRW50cnksCiAJCQlJQ29uc3RhbnRQb29sRW50cnkgZGVz
Y3JpcHRvckVudHJ5KTsKKwkvKioKKwkgKiBAc2luY2UgMy44CisJICovCisJdm9pZCBfaW52b2tl
ZHluYW1pYygKKwkJCWludCBwYywKKwkJCWludCBpbmRleCwKKwkJCUlDb25zdGFudFBvb2xFbnRy
eSBpbnZva2VEeW5hbWljKTsKIAl2b2lkIF9pbnZva2VpbnRlcmZhY2UoCiAJCWludCBwYywKIAkJ
aW50IGluZGV4LApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2Vj
bGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFudFBvb2wuamF2YQpp
bmRleCA2OTUyNjA2Li45ZjU3YmIxIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9t
b2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFudFBvb2wuamF2YQorKysgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25z
dGFudFBvb2wuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0g
KiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMDkgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisg
KiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAg
KiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcg
bWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBF
Y2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlz
dHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0yNyw4ICsyNyw3IEBAIHB1YmxpYyBp
bnRlcmZhY2UgSUNvbnN0YW50UG9vbCB7CiAJaW50IGdldENvbnN0YW50UG9vbENvdW50KCk7CiAK
IAkvKioKLQkgKiBBbnN3ZXIgYmFjayB0aGUgdHlwZSBvZiB0aGUgZW50cnkgYXQgdGhlIGluZGV4
IEBpbmRleAotCSAqIGluIHRoZSBjb25zdGFudCBwb29sLgorCSAqIEFuc3dlciBiYWNrIHRoZSB0
eXBlIG9mIHRoZSBlbnRyeSBhdCB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIGNvbnN0YW50IHBvb2wu
CiAJICoKIAkgKiBAcGFyYW0gaW5kZXggdGhlIGluZGV4IG9mIHRoZSBlbnRyeSBpbiB0aGUgY29u
c3RhbnQgcG9vbAogCSAqIEByZXR1cm4gdGhlIHR5cGUgb2YgdGhlIGVudHJ5IGF0IHRoZSBpbmRl
eCBAaW5kZXggaW4gdGhlIGNvbnN0YW50IHBvb2wKQEAgLTM2LDExICszNSwxNCBAQCBwdWJsaWMg
aW50ZXJmYWNlIElDb25zdGFudFBvb2wgewogCWludCBnZXRFbnRyeUtpbmQoaW50IGluZGV4KTsK
IAogCS8qKgotCSAqIEFuc3dlciBiYWNrIHRoZSBlbnRyeSBhdCB0aGUgaW5kZXggQGluZGV4Ci0J
ICogaW4gdGhlIGNvbnN0YW50IHBvb2wuCisJICogQW5zd2VyIGJhY2sgdGhlIGVudHJ5IGF0IHRo
ZSBnaXZlbiBpbmRleCBpbiB0aGUgY29uc3RhbnQgcG9vbC4KKwkgKiAKKwkgKiA8cD5UaGUgcmV0
dXJuIHZhbHVlIGNhbiBiZSBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgSUNvbnN0YW50UG9vbEVudHJ5
Mn0gaWYgdGhlIHZhbHVlIHJldHVybmVkCisJICogYnkge0BsaW5rICNnZXRFbnRyeUtpbmQoaW50
KX0gaXMgZWl0aGVyIHtAbGluayBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfTWV0aG9k
SGFuZGxlfSwKKwkgKiB7QGxpbmsgSUNvbnN0YW50UG9vbENvbnN0YW50I0NPTlNUQU5UX01ldGhv
ZFR5cGV9IG9yIHtAbGluayBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfSW52b2tlRHlu
YW1pY30uPC9wPgogCSAqCiAJICogQHBhcmFtIGluZGV4IHRoZSBpbmRleCBvZiB0aGUgZW50cnkg
aW4gdGhlIGNvbnN0YW50IHBvb2wKLQkgKiBAcmV0dXJuIHRoZSBlbnRyeSBhdCB0aGUgaW5kZXgg
QGluZGV4IGluIHRoZSBjb25zdGFudCBwb29sCisJICogQHJldHVybiB0aGUgZW50cnkgYXQgdGhl
IGdpdmVuIGluZGV4IGluIHRoZSBjb25zdGFudCBwb29sCiAJICovCiAJSUNvbnN0YW50UG9vbEVu
dHJ5IGRlY29kZUVudHJ5KGludCBpbmRleCk7CiB9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFudFBvb2xDb25z
dGFudC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2Nv
cmUvdXRpbC9JQ29uc3RhbnRQb29sQ29uc3RhbnQuamF2YQppbmRleCBiYzdjYjU0Li5mZjZlZDIy
IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQv
Y29yZS91dGlsL0lDb25zdGFudFBvb2xDb25zdGFudC5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbENvbnN0
YW50LmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxs
IHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVy
aWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBz
ZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1
dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjksNiArMjksMTggQEAgcHVibGljIGludGVy
ZmFjZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQgewogCWludCBDT05TVEFOVF9Eb3VibGUgPSA2Owog
CWludCBDT05TVEFOVF9OYW1lQW5kVHlwZSA9IDEyOwogCWludCBDT05TVEFOVF9VdGY4ID0gMTsK
KwkvKioKKwkgKiBAc2luY2UgMy44CisJICovCisJaW50IENPTlNUQU5UX01ldGhvZEhhbmRsZSA9
IDE1OworCS8qKgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgQ09OU1RBTlRfTWV0aG9kVHlw
ZSA9IDE2OworCS8qKgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgQ09OU1RBTlRfSW52b2tl
RHluYW1pYyA9IDE4OwogCiAJaW50IENPTlNUQU5UX01ldGhvZHJlZl9TSVpFID0gNTsKIAlpbnQg
Q09OU1RBTlRfQ2xhc3NfU0laRSA9IDM7CkBAIC00MSw1ICs1Myw2MiBAQCBwdWJsaWMgaW50ZXJm
YWNlIElDb25zdGFudFBvb2xDb25zdGFudCB7CiAJaW50IENPTlNUQU5UX1N0cmluZ19TSVpFID0g
MzsKIAlpbnQgQ09OU1RBTlRfVXRmOF9TSVpFID0gMzsKIAlpbnQgQ09OU1RBTlRfTmFtZUFuZFR5
cGVfU0laRSA9IDU7CisJLyoqCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBDT05TVEFOVF9N
ZXRob2RIYW5kbGVfU0laRSA9IDQ7CisJLyoqCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBD
T05TVEFOVF9NZXRob2RUeXBlX1NJWkUgPSAzOworCS8qKgorCSAqIEBzaW5jZSAzLjgKKwkgKi8K
KwlpbnQgQ09OU1RBTlRfSW52b2tlRHluYW1pY19TSVpFID0gNTsKIAorCS8qKgorCSAqIFRoZSBj
b25zdGFudCBpcyBkZXNjcmliZWQgYXQgNS40LjMuNSBpbiB0aGUgSmF2YSA3IFZNIHNwZWNpZmlj
YXRpb24gKHBhcnQgMykuCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBNRVRIT0RfVFlQRV9S
RUZfR2V0RmllbGQgPSAxOworCS8qKgorCSAqIFRoZSBjb25zdGFudCBpcyBkZXNjcmliZWQgYXQg
NS40LjMuNSBpbiB0aGUgSmF2YSA3IFZNIHNwZWNpZmljYXRpb24gKHBhcnQgMykuCisJICogQHNp
bmNlIDMuOAorCSAqLworCWludCBNRVRIT0RfVFlQRV9SRUZfR2V0U3RhdGljID0gMjsKKwkvKioK
KwkgKiBUaGUgY29uc3RhbnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhlIEphdmEgNyBW
TSBzcGVjaWZpY2F0aW9uIChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgTUVU
SE9EX1RZUEVfUkVGX1B1dEZpZWxkID0gMzsKKwkvKioKKwkgKiBUaGUgY29uc3RhbnQgaXMgZGVz
Y3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhlIEphdmEgNyBWTSBzcGVjaWZpY2F0aW9uIChwYXJ0IDMp
LgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgTUVUSE9EX1RZUEVfUkVGX1B1dFN0YXRpYyA9
IDQ7CisJLyoqCisJICogVGhlIGNvbnN0YW50IGlzIGRlc2NyaWJlZCBhdCA1LjQuMy41IGluIHRo
ZSBKYXZhIDcgVk0gc3BlY2lmaWNhdGlvbiAocGFydCAzKS4KKwkgKiBAc2luY2UgMy44CisJICov
CisJaW50IE1FVEhPRF9UWVBFX1JFRl9JbnZva2VWaXJ0dWFsID0gNTsKKwkvKioKKwkgKiBUaGUg
Y29uc3RhbnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhlIEphdmEgNyBWTSBzcGVjaWZp
Y2F0aW9uIChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkgKi8KKwlpbnQgTUVUSE9EX1RZUEVf
UkVGX0ludm9rZVN0YXRpYyA9IDY7CisJLyoqCisJICogVGhlIGNvbnN0YW50IGlzIGRlc2NyaWJl
ZCBhdCA1LjQuMy41IGluIHRoZSBKYXZhIDcgVk0gc3BlY2lmaWNhdGlvbiAocGFydCAzKS4KKwkg
KiBAc2luY2UgMy44CisJICovCisJaW50IE1FVEhPRF9UWVBFX1JFRl9JbnZva2VTcGVjaWFsID0g
NzsKKwkvKioKKwkgKiBUaGUgY29uc3RhbnQgaXMgZGVzY3JpYmVkIGF0IDUuNC4zLjUgaW4gdGhl
IEphdmEgNyBWTSBzcGVjaWZpY2F0aW9uIChwYXJ0IDMpLgorCSAqIEBzaW5jZSAzLjgKKwkgKi8K
KwlpbnQgTUVUSE9EX1RZUEVfUkVGX05ld0ludm9rZVNwZWNpYWwgPSA4OworCS8qKgorCSAqIFRo
ZSBjb25zdGFudCBpcyBkZXNjcmliZWQgYXQgNS40LjMuNSBpbiB0aGUgSmF2YSA3IFZNIHNwZWNp
ZmljYXRpb24gKHBhcnQgMykuCisJICogQHNpbmNlIDMuOAorCSAqLworCWludCBNRVRIT0RfVFlQ
RV9SRUZfSW52b2tlSW50ZXJmYWNlID0gOTsKIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbEVudHJ5
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91
dGlsL0lDb25zdGFudFBvb2xFbnRyeS5qYXZhCmluZGV4IDQ4N2FkODIuLmM3NWJkNDAgMTAwNjQ0
Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9jb3JlL3V0
aWwvSUNvbnN0YW50UG9vbEVudHJ5LmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9k
ZWwvb3JnL2VjbGlwc2UvamR0L2NvcmUvdXRpbC9JQ29uc3RhbnRQb29sRW50cnkuamF2YQpAQCAt
MSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIw
MDAsIDIwMDkgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIw
MDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2Vy
dmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMg
YXZhaWxhYmxlIGF0CkBAIC0zMiw2ICszMiw3IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50
UG9vbEVudHJ5IHsKIAkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZpZWQgb3RoZXJ3aXNlLgogCSAq
CiAJICogQHJldHVybiB0aGUgbmFtZSBpbmRleCBmb3IgYSBDT05TVEFOVF9DbGFzcyB0eXBlIGVu
dHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfQ2xhc3MKIAkgKi8K
IAlpbnQgZ2V0Q2xhc3NJbmZvTmFtZUluZGV4KCk7CiAKQEAgLTQyLDE2ICs0MywyNSBAQCBwdWJs
aWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICoKIAkgKiBAcmV0dXJuIHRoZSBj
bGFzcyBpbmRleCBmb3IgYSBDT05TVEFOVF9GaWVsZHJlZiwKIAkgKiBDT05TVEFOVF9NZXRob2Ry
ZWYsIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZiB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29u
c3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmllbGRyZWYKKwkgKiBAc2VlIElDb25zdGFudFBv
b2xDb25zdGFudCNDT05TVEFOVF9NZXRob2RyZWYKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25z
dGFudCNDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYKIAkgKi8KIAlpbnQgZ2V0Q2xhc3NJbmRl
eCgpOwogCiAJLyoqCiAJICogUmV0dXJucyB0aGUgbmFtZUFuZFR5cGUgaW5kZXggZm9yIGEgQ09O
U1RBTlRfRmllbGRyZWYsCi0JICogQ09OU1RBTlRfTWV0aG9kcmVmLCBDT05TVEFOVF9JbnRlcmZh
Y2VNZXRob2RyZWYgdHlwZSBlbnRyeS4KKwkgKiBDT05TVEFOVF9NZXRob2RyZWYsIENPTlNUQU5U
X0ludGVyZmFjZU1ldGhvZHJlZiwKKwkgKiBDT05TVEFOVF9JbnZva2VEeW5hbWljIHR5cGUgZW50
cnkuCiAJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEBy
ZXR1cm4gdGhlIG5hbWVBbmRUeXBlIGluZGV4IGZvciBhIENPTlNUQU5UX0ZpZWxkcmVmLAotCSAq
IENPTlNUQU5UX01ldGhvZHJlZiwgQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIHR5cGUgZW50
cnkKKwkgKiBDT05TVEFOVF9NZXRob2RyZWYsIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZiwK
KwkgKiBDT05TVEFOVF9JbnZva2VEeW5hbWljIHR5cGUgZW50cnkKKwkgKiBAc2VlIElDb25zdGFu
dFBvb2xDb25zdGFudCNDT05TVEFOVF9GaWVsZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENv
bnN0YW50I0NPTlNUQU5UX01ldGhvZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50
I0NPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0
YW50I0NPTlNUQU5UX0ludm9rZUR5bmFtaWMKIAkgKi8KIAlpbnQgZ2V0TmFtZUFuZFR5cGVJbmRl
eCgpOwogCkBAIC02MCw2ICs3MCw3IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbEVu
dHJ5IHsKIAkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZpZWQgb3RoZXJ3aXNlLgogCSAqCiAJICog
QHJldHVybiB0aGUgc3RyaW5nIGluZGV4IGZvciBhIENPTlNUQU5UX1N0cmluZyB0eXBlIGVudHJ5
CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfU3RyaW5nCiAJICovCiAJ
aW50IGdldFN0cmluZ0luZGV4KCk7CiAKQEAgLTY4LDYgKzc5LDcgQEAgcHVibGljIGludGVyZmFj
ZSBJQ29uc3RhbnRQb29sRW50cnkgewogCSAqIFJldHVybnMgbnVsbCBvdGhlcndpc2UuCiAJICoK
IAkgKiBAcmV0dXJuIHRoZSBzdHJpbmcgdmFsdWUgZm9yIGEgQ09OU1RBTlRfU3RyaW5nIHR5cGUg
ZW50cnkKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9TdHJpbmcKIAkg
Ki8KIAlTdHJpbmcgZ2V0U3RyaW5nVmFsdWUoKTsKIApAQCAtNzYsNiArODgsNyBAQCBwdWJsaWMg
aW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lm
aWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhlIGludGVnZXIgdmFsdWUgZm9yIGEg
Q09OU1RBTlRfSW50ZWdlciB0eXBlIGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3Rh
bnQjQ09OU1RBTlRfSW50ZWdlcgogCSAqLwogCWludCBnZXRJbnRlZ2VyVmFsdWUoKTsKIApAQCAt
ODQsNiArOTcsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICog
VGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhl
IGZsb2F0IHZhbHVlIGZvciBhIENPTlNUQU5UX0Zsb2F0IHR5cGUgZW50cnkKKwkgKiBAc2VlIElD
b25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9GbG9hdAogCSAqLwogCWZsb2F0IGdldEZsb2F0
VmFsdWUoKTsKIApAQCAtOTIsNiArMTA2LDcgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQ
b29sRW50cnkgewogCSAqIFRoZSB2YWx1ZSBpcyB1bnNwZWNpZmllZCBvdGhlcndpc2UuCiAJICoK
IAkgKiBAcmV0dXJuIHRoZSBkb3VibGUgdmFsdWUgZm9yIGEgQ09OU1RBTlRfRG91YmxlIHR5cGUg
ZW50cnkKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9Eb3VibGUKIAkg
Ki8KIAlkb3VibGUgZ2V0RG91YmxlVmFsdWUoKTsKIApAQCAtMTAwLDYgKzExNSw3IEBAIHB1Ymxp
YyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBUaGUgdmFsdWUgaXMgdW5zcGVj
aWZpZWQgb3RoZXJ3aXNlLgogCSAqCiAJICogQHJldHVybiB0aGUgbG9uZyB2YWx1ZSBmb3IgYSBD
T05TVEFOVF9Mb25nIHR5cGUgZW50cnkKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCND
T05TVEFOVF9Mb25nCiAJICovCiAJbG9uZyBnZXRMb25nVmFsdWUoKTsKIApAQCAtMTA4LDYgKzEy
NCw3IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKiBUaGUgdmFs
dWUgaXMgdW5zcGVjaWZpZWQgb3RoZXJ3aXNlLgogCSAqCiAJICogQHJldHVybiB0aGUgZGVzY3Jp
cHRvciBpbmRleCBmb3IgYSBDT05TVEFOVF9OYW1lQW5kVHlwZSB0eXBlIGVudHJ5CisJICogQHNl
ZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfTmFtZUFuZFR5cGUKIAkgKi8KIAlpbnQg
Z2V0TmFtZUFuZFR5cGVJbmZvRGVzY3JpcHRvckluZGV4KCk7CiAKQEAgLTExNiw2ICsxMzMsNyBA
QCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICogVGhlIHZhbHVlIGlz
IHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KIAkgKgogCSAqIEByZXR1cm4gdGhlIG5hbWUgaW5kZXgg
Zm9yIGEgQ09OU1RBTlRfTmFtZUFuZFR5cGUgdHlwZSBlbnRyeQorCSAqIEBzZWUgSUNvbnN0YW50
UG9vbENvbnN0YW50I0NPTlNUQU5UX05hbWVBbmRUeXBlCiAJICovCiAJaW50IGdldE5hbWVBbmRU
eXBlSW5mb05hbWVJbmRleCgpOwogCkBAIC0xMjQsNiArMTQyLDcgQEAgcHVibGljIGludGVyZmFj
ZSBJQ29uc3RhbnRQb29sRW50cnkgewogCSAqIFJldHVybnMgbnVsbCBvdGhlcndpc2UuCiAJICoK
IAkgKiBAcmV0dXJuIHRoZSBjbGFzcyBuYW1lIGZvciBhIENPTlNUQU5UX0NsYXNzIHR5cGUgZW50
cnkKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9DbGFzcwogCSAqLwog
CWNoYXJbXSBnZXRDbGFzc0luZm9OYW1lKCk7CiAKQEAgLTEzNCw2ICsxNTMsOSBAQCBwdWJsaWMg
aW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICoKIAkgKiBAcmV0dXJuIHRoZSBjbGFz
cyBuYW1lIGZvciBhIENPTlNUQU5UX0ZpZWxkcmVmLAogCSAqIENPTlNUQU5UX01ldGhvZHJlZiwg
Q09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIHR5cGUgZW50cnkKKwkgKiBAc2VlIElDb25zdGFu
dFBvb2xDb25zdGFudCNDT05TVEFOVF9GaWVsZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENv
bnN0YW50I0NPTlNUQU5UX01ldGhvZHJlZgorCSAqIEBzZWUgSUNvbnN0YW50UG9vbENvbnN0YW50
I0NPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZgogCSAqLwogCWNoYXJbXSBnZXRDbGFzc05hbWUo
KTsKIApAQCAtMTQyLDE2ICsxNjQsMjAgQEAgcHVibGljIGludGVyZmFjZSBJQ29uc3RhbnRQb29s
RW50cnkgewogCSAqIFJldHVybnMgbnVsbCBvdGhlcndpc2UuCiAJICoKIAkgKiBAcmV0dXJuIHRo
ZSBmaWVsZCBuYW1lIGZvciBhIENPTlNUQU5UX0ZpZWxkcmVmIHR5cGUgZW50cnkKKwkgKiBAc2Vl
IElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9GaWVsZHJlZgogCSAqLwogCWNoYXJbXSBn
ZXRGaWVsZE5hbWUoKTsKIAogCS8qKgotCSAqIFJldHVybnMgdGhlIGZpZWxkIG5hbWUgZm9yIGEg
Q09OU1RBTlRfTWV0aG9kcmVmIG9yIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZAotCSAqIHR5
cGUgZW50cnkuCisJICogUmV0dXJucyB0aGUgZmllbGQgbmFtZSBmb3IgYSBDT05TVEFOVF9NZXRo
b2RyZWYsIENPTlNUQU5UX0ludGVyZmFjZU1ldGhvZHJlZgorCSAqIG9yIENPTlNUQU5UX0ludm9r
ZUR5bmFtaWMgdHlwZSBlbnRyeS4KIAkgKiBSZXR1cm5zIG51bGwgb3RoZXJ3aXNlLgogCSAqCi0J
ICogQHJldHVybiB0aGUgZmllbGQgbmFtZSBmb3IgYSBDT05TVEFOVF9NZXRob2RyZWYgb3IgQ09O
U1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVkCi0JICogdHlwZSBlbnRyeQorCSAqIEByZXR1cm4gdGhl
IG1ldGhvZCBuYW1lIGZvciBhIENPTlNUQU5UX01ldGhvZHJlZiwgQ09OU1RBTlRfSW50ZXJmYWNl
TWV0aG9kcmVmCisJICogb3IgQ09OU1RBTlRfSW52b2tlRHluYW1pYyB0eXBlIGVudHJ5CisJICog
QHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfTWV0aG9kcmVmCisJICogQHNlZSBJ
Q29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmCisJICogQHNl
ZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfSW52b2tlRHluYW1pYwogCSAqLwogCWNo
YXJbXSBnZXRNZXRob2ROYW1lKCk7CiAKQEAgLTE2MiwxOCArMTg4LDI3IEBAIHB1YmxpYyBpbnRl
cmZhY2UgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAkgKgogCSAqIEByZXR1cm4gdGhlIGZpZWxkIGRl
c2NyaXB0b3IgdmFsdWUgZm9yIGEgQ09OU1RBTlRfRmllbGRyZWYgdHlwZSBlbnRyeS4gVGhpcyB2
YWx1ZQogCSAqIGlzIHNldCBvbmx5IHdoZW4gZGVjb2RpbmcgdGhlIENPTlNUQU5UX0ZpZWxkcmVm
IGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfRmllbGRyZWYK
IAkgKi8KIAljaGFyW10gZ2V0RmllbGREZXNjcmlwdG9yKCk7CiAKIAkvKioKIAkgKiBSZXR1cm5z
IHRoZSBtZXRob2QgZGVzY3JpcHRvciB2YWx1ZSBmb3IgYSBDT05TVEFOVF9NZXRob2RyZWYgb3IK
IAkgKiBDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYgdHlwZSBlbnRyeS4gVGhpcyB2YWx1ZSBp
cyBzZXQgb25seSB3aGVuIGRlY29kaW5nIHRoZQotCSAqIENPTlNUQU5UX01ldGhvZHJlZiBvciBD
T05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYgZW50cnkuCisJICogQ09OU1RBTlRfTWV0aG9kcmVm
LCBDT05TVEFOVF9JbnRlcmZhY2VNZXRob2RyZWYsIENPTlNUQU5UX01ldGhvZFR5cGUKKwkgKiBv
ciBDT05TVEFOVF9JbnZva2VEeW5hbWljIGVudHJ5LgorCSAqIAogCSAqIFJldHVybnMgbnVsbCBv
dGhlcndpc2UuCiAJICoKLQkgKiBAcmV0dXJuIHRoZSBtZXRob2QgZGVzY3JpcHRvciB2YWx1ZSBm
b3IgYSBDT05TVEFOVF9NZXRob2RyZWYgb3IKKwkgKiBAcmV0dXJuIHRoZSBtZXRob2QgZGVzY3Jp
cHRvciB2YWx1ZSBmb3IgYSBDT05TVEFOVF9NZXRob2RyZWYsCiAJICogQ09OU1RBTlRfSW50ZXJm
YWNlTWV0aG9kcmVmIHR5cGUgZW50cnkuIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNv
ZGluZyB0aGUKLQkgKiBDT05TVEFOVF9NZXRob2RyZWYgb3IgQ09OU1RBTlRfSW50ZXJmYWNlTWV0
aG9kcmVmIGVudHJ5CisJICogQ09OU1RBTlRfTWV0aG9kcmVmLCBDT05TVEFOVF9JbnRlcmZhY2VN
ZXRob2RyZWYsIENPTlNUQU5UX01ldGhvZFR5cGUKKwkgKiBvciBDT05TVEFOVF9JbnZva2VEeW5h
bWljIGVudHJ5CisJICoKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9N
ZXRob2RyZWYKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9JbnRlcmZh
Y2VNZXRob2RyZWYKKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRo
b2RUeXBlCisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfSW52b2tlRHlu
YW1pYwogCSAqLwogCWNoYXJbXSBnZXRNZXRob2REZXNjcmlwdG9yKCk7CiAKQEAgLTE4NCw2ICsy
MTksNyBAQCBwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeSB7CiAJICoKIAkgKiBA
cmV0dXJuIHRoZSB1dGY4IHZhbHVlIGZvciBhIENPTlNUQU5UX1V0ZjggdHlwZSBlbnRyeS4gVGhp
cyB2YWx1ZSBpcyBzZXQgb25seSB3aGVuCiAJICogZGVjb2RpbmcgYSBVVEY4IGVudHJ5CisJICog
QHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQjQ09OU1RBTlRfVXRmOAogCSAqLwogCWNoYXJbXSBn
ZXRVdGY4VmFsdWUoKTsKIApAQCAtMTk0LDYgKzIzMCw3IEBAIHB1YmxpYyBpbnRlcmZhY2UgSUNv
bnN0YW50UG9vbEVudHJ5IHsKIAkgKgogCSAqIEByZXR1cm4gdGhlIHV0ZjggbGVuZ3RoIGZvciBh
IENPTlNUQU5UX1V0ZjggdHlwZSBlbnRyeS4gVGhpcyB2YWx1ZSBpcyBzZXQgb25seSB3aGVuCiAJ
ICogZGVjb2RpbmcgYSBVVEY4IGVudHJ5CisJICogQHNlZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQj
Q09OU1RBTlRfVXRmOAogCSAqLwogCWludCBnZXRVdGY4TGVuZ3RoKCk7CiB9CmRpZmYgLS1naXQg
YS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lD
b25zdGFudFBvb2xFbnRyeTIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3V0aWwvSUNvbnN0YW50UG9vbEVudHJ5Mi5qYXZhCm5ldyBmaWxlIG1v
ZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjNiNDk4NGIKLS0tIC9kZXYvbnVsbAorKysgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvY29yZS91dGlsL0lDb25zdGFu
dFBvb2xFbnRyeTIuamF2YQpAQCAtMCwwICsxLDU5IEBACisvKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KgorICogQ29weXJpZ2h0IChjKSAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICog
QWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1h
dGVyaWFscworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9s
ZWdhbC9lcGwtdjEwLmh0bWwKKyAqCisgKiBDb250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8KK3BhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbDsKKworLyoqCisgKiBE
ZXNjcmlwdGlvbiBvZiB0aGUgbmV3IGNvbnN0YW50IHBvb2wgZW50cnkgYXMgZGVzY3JpYmVkIGlu
IHRoZSBKVk0gc3BlY2lmaWNhdGlvbnMKKyAqIGFkZGVkIGZvciBKYXZhIDcgc3VwcG9ydC4KKyAq
IEl0cyBjb250ZW50cyBpcyBpbml0aWFsaXplZCBhY2NvcmRpbmcgdG8gaXRzIGtpbmQuCisgKgor
ICogVGhpcyBpbnRlcmZhY2UgbWF5IGJlIGltcGxlbWVudGVkIGJ5IGNsaWVudHMuCisgKgorICog
QHNpbmNlIDMuOAorICovCitwdWJsaWMgaW50ZXJmYWNlIElDb25zdGFudFBvb2xFbnRyeTIgZXh0
ZW5kcyBJQ29uc3RhbnRQb29sRW50cnkgeworCS8qKgorCSAqIFJldHVybnMgdGhlIGRlc2NyaXB0
b3IgaW5kZXguIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyBhIE1ldGhvZFR5
cGUgZW50cnkuCisJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4gVGhlIGNv
cnJlc3BvbmRpbmcgVVRGOCB2YWx1ZSBjYW4gYmUgcmV0cmlldmVkIGJ5IHVzaW5nCisJICoge0Bs
aW5rICNnZXRNZXRob2REZXNjcmlwdG9yKCl9LgorCSAqCisJICogQHJldHVybiB0aGUgZGVzY3Jp
cHRvciBpbmRleC4gVGhpcyB2YWx1ZSBpcyBzZXQgb25seSB3aGVuIGRlY29kaW5nIGEgTWV0aG9k
VHlwZSBlbnRyeS4KKwkgKiBAc2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRo
b2RUeXBlCisJICovCisJaW50IGdldERlc2NyaXB0b3JJbmRleCgpOworCisJLyoqCisJICogUmV0
dXJucyB0aGUgcmVmZXJlbmNlIGtpbmQuIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNv
ZGluZyBhIE1ldGhvZEhhbmRsZSBlbnRyeS4KKwkgKiBUaGUgdmFsdWUgaXMgdW5zcGVjaWZpZWQg
b3RoZXJ3aXNlLgorCSAqCisJICogQHJldHVybiB0aGUgcmVmZXJlbmNlIGtpbmQuIFRoaXMgdmFs
dWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyBhIE1ldGhvZEhhbmRsZSBlbnRyeS4KKwkgKiBA
c2VlIElDb25zdGFudFBvb2xDb25zdGFudCNDT05TVEFOVF9NZXRob2RIYW5kbGUKKwkgKi8KKwlp
bnQgZ2V0UmVmZXJlbmNlS2luZCgpOworCisJLyoqCisJICogUmV0dXJucyB0aGUgcmVmZXJlbmNl
IGluZGV4LiBUaGlzIHZhbHVlIGlzIHNldCBvbmx5IHdoZW4gZGVjb2RpbmcgYSBNZXRob2RIYW5k
bGUgZW50cnkuCisJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KKwkgKgor
CSAqIEByZXR1cm4gdGhlIHJlZmVyZW5jZSBraW5kLiBUaGlzIHZhbHVlIGlzIHNldCBvbmx5IHdo
ZW4gZGVjb2RpbmcgYSBNZXRob2RIYW5kbGUgZW50cnkuCisJICogQHNlZSBJQ29uc3RhbnRQb29s
Q29uc3RhbnQjQ09OU1RBTlRfTWV0aG9kSGFuZGxlCisJICovCisJaW50IGdldFJlZmVyZW5jZUlu
ZGV4KCk7CisJCisJLyoqCisJICogUmV0dXJucyB0aGUgYm9vdHN0cmFwIG1ldGhvZCBhdHRyaWJ1
dGUgaW5kZXguIFRoaXMgdmFsdWUgaXMgc2V0IG9ubHkgd2hlbiBkZWNvZGluZyBhIEludm9rZUR5
bmFtaWMgZW50cnkuCisJICogVGhlIHZhbHVlIGlzIHVuc3BlY2lmaWVkIG90aGVyd2lzZS4KKwkg
KgorCSAqIEByZXR1cm4gdGhlIHJlZmVyZW5jZSBraW5kLiBUaGlzIHZhbHVlIGlzIHNldCBvbmx5
IHdoZW4gZGVjb2RpbmcgYSBNZXRob2RIYW5kbGUgZW50cnkuCisJICogQHNlZSBJQ29uc3RhbnRQ
b29sQ29uc3RhbnQjQ09OU1RBTlRfSW52b2tlRHluYW1pYworCSAqLworCWludCBnZXRCb290c3Ry
YXBNZXRob2RBdHRyaWJ1dGVJbmRleCgpOworfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Cb290c3RyYXBN
ZXRob2RzQXR0cmlidXRlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0Jvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUuamF2
YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5iMTk2OTI3Ci0tLSAvZGV2L251
bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvdXRpbC9Cb290c3RyYXBNZXRob2RzQXR0cmlidXRlLmphdmEKQEAgLTAsMCArMSw2
MyBAQAorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqIENvcHlyaWdodCAoYykgMjAxMSBJQk0g
Q29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJv
Z3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJs
ZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQK
KyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogQ29u
dHJpYnV0b3JzOgorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBs
ZW1lbnRhdGlvbgorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCitwYWNrYWdlIG9yZy5lY2xpcHNl
LmpkdC5pbnRlcm5hbC5jb3JlLnV0aWw7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51
dGlsLkNsYXNzRm9ybWF0RXhjZXB0aW9uOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0
aWwuSUJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUudXRpbC5JQm9vdHN0cmFwTWV0aG9kc0VudHJ5OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5j
b3JlLnV0aWwuSUNvbnN0YW50UG9vbDsKKworLyoqCisgKiBEZWZhdWx0IGltcGxlbWVudGF0aW9u
IG9mIElCb290c3RyYXBNZXRob2RzQXR0cmlidXRlLgorICovCitwdWJsaWMgY2xhc3MgQm9vdHN0
cmFwTWV0aG9kc0F0dHJpYnV0ZSBleHRlbmRzIENsYXNzRmlsZUF0dHJpYnV0ZSBpbXBsZW1lbnRz
IElCb290c3RyYXBNZXRob2RzQXR0cmlidXRlIHsKKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBJQm9v
dHN0cmFwTWV0aG9kc0VudHJ5W10gTk9fRU5UUklFUyA9IG5ldyBJQm9vdHN0cmFwTWV0aG9kc0Vu
dHJ5WzBdOworCisJcHJpdmF0ZSBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5W10gZW50cmllczsKKwlw
cml2YXRlIGludCBudW1iZXJPZkJvb3RzdHJhcE1ldGhvZHM7CisKKwkvKioKKwkgKiBDb25zdHJ1
Y3RvciBmb3IgQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS4KKwkgKiBAcGFyYW0gY2xhc3NGaWxl
Qnl0ZXMKKwkgKiBAcGFyYW0gY29uc3RhbnRQb29sCisJICogQHBhcmFtIG9mZnNldAorCSAqIEB0
aHJvd3MgQ2xhc3NGb3JtYXRFeGNlcHRpb24KKwkgKi8KKwlwdWJsaWMgQm9vdHN0cmFwTWV0aG9k
c0F0dHJpYnV0ZSgKKwkJCWJ5dGVbXSBjbGFzc0ZpbGVCeXRlcywKKwkJCUlDb25zdGFudFBvb2wg
Y29uc3RhbnRQb29sLAorCQkJaW50IG9mZnNldCkgdGhyb3dzIENsYXNzRm9ybWF0RXhjZXB0aW9u
IHsKKwkJc3VwZXIoY2xhc3NGaWxlQnl0ZXMsIGNvbnN0YW50UG9vbCwgb2Zmc2V0KTsKKwkJdGhp
cy5udW1iZXJPZkJvb3RzdHJhcE1ldGhvZHMgPSB1MkF0KGNsYXNzRmlsZUJ5dGVzLCA2LCBvZmZz
ZXQpOworCQlmaW5hbCBpbnQgbGVuZ3RoID0gdGhpcy5udW1iZXJPZkJvb3RzdHJhcE1ldGhvZHM7
CisJCWlmIChsZW5ndGggIT0gMCkgeworCQkJaW50IHJlYWRPZmZzZXQgPSA4OworCQkJdGhpcy5l
bnRyaWVzID0gbmV3IElCb290c3RyYXBNZXRob2RzRW50cnlbbGVuZ3RoXTsKKwkJCWZvciAoaW50
IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKKwkJCQl0aGlzLmVudHJpZXNbaV0gPSBuZXcgQm9v
dHN0cmFwTWV0aG9kc0VudHJ5KGNsYXNzRmlsZUJ5dGVzLCBjb25zdGFudFBvb2wsIG9mZnNldCAr
IHJlYWRPZmZzZXQpOworCQkJCXJlYWRPZmZzZXQgKz0gODsKKwkJCX0KKwkJfSBlbHNlIHsKKwkJ
CXRoaXMuZW50cmllcyA9IE5PX0VOVFJJRVM7CisJCX0KKwl9CisKKwkvKioKKwkgKiBAc2VlIElC
b290c3RyYXBNZXRob2RzQXR0cmlidXRlI2dldEJvb3RzdHJhcE1ldGhvZHMoKQorCSAqLworCXB1
YmxpYyBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5W10gZ2V0Qm9vdHN0cmFwTWV0aG9kcygpIHsKKwkJ
cmV0dXJuIHRoaXMuZW50cmllczsKKwl9CisJCisJcHVibGljIGludCBnZXRCb290c3RyYXBNZXRo
b2RzTGVuZ3RoKCkgeworCQlyZXR1cm4gdGhpcy5udW1iZXJPZkJvb3RzdHJhcE1ldGhvZHM7CisJ
fQorfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvcmUvdXRpbC9Cb290c3RyYXBNZXRob2RzRW50cnkuamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwv
Qm9vdHN0cmFwTWV0aG9kc0VudHJ5LmphdmEKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAw
MDAwMC4uZTQ0NGRiZAotLS0gL2Rldi9udWxsCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQm9vdHN0cmFwTWV0aG9kc0Vu
dHJ5LmphdmEKQEAgLTAsMCArMSw1MiBAQAorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKyAqIENv
cHlyaWdodCAoYykgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIEFsbCByaWdo
dHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMK
KyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMAorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24s
IGFuZCBpcyBhdmFpbGFibGUgYXQKKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBs
LXYxMC5odG1sCisgKgorICogQ29udHJpYnV0b3JzOgorICogICAgIElCTSBDb3Jwb3JhdGlvbiAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CitwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb3JlLnV0aWw7CisKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLkNsYXNzRm9ybWF0RXhjZXB0aW9uOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUJvb3RzdHJhcE1ldGhvZHNFbnRyeTsKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklDb25zdGFudFBvb2w7CisKKy8qKgorICogRGVmYXVs
dCBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgSUJvb3RzdHJhcE1ldGhvZHNFbnRyeX0KKyAqLwor
cHVibGljIGNsYXNzIEJvb3RzdHJhcE1ldGhvZHNFbnRyeQorCWV4dGVuZHMgQ2xhc3NGaWxlU3Ry
dWN0CisJaW1wbGVtZW50cyBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5IHsKKworCXByaXZhdGUgaW50
IGJvb3RzdHJhcE1ldGhvZFJlZmVyZW5jZTsKKwlwcml2YXRlIGludFtdIGJvb3RzdHJhcEFyZ3Vt
ZW50czsKKworCXB1YmxpYyBCb290c3RyYXBNZXRob2RzRW50cnkoYnl0ZSBjbGFzc0ZpbGVCeXRl
c1tdLCBJQ29uc3RhbnRQb29sIGNvbnN0YW50UG9vbCwgaW50IG9mZnNldCkgdGhyb3dzIENsYXNz
Rm9ybWF0RXhjZXB0aW9uIHsKKwkJdGhpcy5ib290c3RyYXBNZXRob2RSZWZlcmVuY2UgPSB1MkF0
KGNsYXNzRmlsZUJ5dGVzLCAwLCBvZmZzZXQpOworCQlpbnQgbGVuZ3RoID0gdTJBdChjbGFzc0Zp
bGVCeXRlcywgMiwgb2Zmc2V0KTsKKwkJaW50W10gYXJndW1lbnRzID0gbmV3IGludFtsZW5ndGhd
OworCQlpbnQgcG9zaXRpb24gPSA0OworCQlmb3IgKGludCBpID0gMDsgaSA8IGxlbmd0aDsgaSsr
KSB7CisJCQlhcmd1bWVudHNbaV0gPSB1MkF0KGNsYXNzRmlsZUJ5dGVzLCBwb3NpdGlvbiwgb2Zm
c2V0KTsKKwkJCXBvc2l0aW9uICs9IDI7CisJCX0KKwkJdGhpcy5ib290c3RyYXBBcmd1bWVudHMg
PSBhcmd1bWVudHM7CisJfQorCisJLyoqCisJICogQHNlZSBJQm9vdHN0cmFwTWV0aG9kc0VudHJ5
I2dldEJvb3RzdHJhcEFyZ3VtZW50cygpCisJICovCisJcHVibGljIGludFtdIGdldEJvb3RzdHJh
cEFyZ3VtZW50cygpIHsKKwkJcmV0dXJuIHRoaXMuYm9vdHN0cmFwQXJndW1lbnRzOworCX0KKwor
CS8qKgorCSAqIEBzZWUgSUJvb3RzdHJhcE1ldGhvZHNFbnRyeSNnZXRCb290c3RyYXBNZXRob2RS
ZWZlcmVuY2UoKQorCSAqLworCXB1YmxpYyBpbnQgZ2V0Qm9vdHN0cmFwTWV0aG9kUmVmZXJlbmNl
KCkgeworCQlyZXR1cm4gdGhpcy5ib290c3RyYXBNZXRob2RSZWZlcmVuY2U7CisJfQorfQpkaWZm
IC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvcmUvdXRpbC9DbGFzc0ZpbGVSZWFkZXIuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQ2xhc3NGaWxlUmVhZGVy
LmphdmEKaW5kZXggMTliODBkYy4uMDQyNmRjNCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9DbGFzc0ZpbGVS
ZWFkZXIuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29yZS91dGlsL0NsYXNzRmlsZVJlYWRlci5qYXZhCkBAIC0xLDUgKzEsNSBA
QAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwOCBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMSBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWls
YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAog
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQKQEAgLTE0MCw2ICsxNDAsMTggQEAgcHVibGljIGNsYXNzIENsYXNzRmlsZVJlYWRlciBleHRl
bmRzIENsYXNzRmlsZVN0cnVjdCBpbXBsZW1lbnRzIElDbGFzc0ZpbGVSZWFkZXIKIAkJCQkJCWNv
bnN0YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zmc2V0OwogCQkJCQkJcmVhZE9mZnNldCArPSBJ
Q29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfTmFtZUFuZFR5cGVfU0laRTsKIAkJCQkJCWJy
ZWFrOworCQkJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RIYW5k
bGUgOgorCQkJCQkJY29uc3RhbnRQb29sT2Zmc2V0c1tpXSA9IHJlYWRPZmZzZXQ7CisJCQkJCQly
ZWFkT2Zmc2V0ICs9IElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RIYW5kbGVf
U0laRTsKKwkJCQkJCWJyZWFrOworCQkJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05T
VEFOVF9NZXRob2RUeXBlIDoKKwkJCQkJCWNvbnN0YW50UG9vbE9mZnNldHNbaV0gPSByZWFkT2Zm
c2V0OworCQkJCQkJcmVhZE9mZnNldCArPSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRf
TWV0aG9kVHlwZV9TSVpFOworCQkJCQkJYnJlYWs7CisJCQkJCWNhc2UgSUNvbnN0YW50UG9vbENv
bnN0YW50LkNPTlNUQU5UX0ludm9rZUR5bmFtaWMgOgorCQkJCQkJY29uc3RhbnRQb29sT2Zmc2V0
c1tpXSA9IHJlYWRPZmZzZXQ7CisJCQkJCQlyZWFkT2Zmc2V0ICs9IElDb25zdGFudFBvb2xDb25z
dGFudC5DT05TVEFOVF9JbnZva2VEeW5hbWljX1NJWkU7CisJCQkJCQlicmVhazsKIAkJCQkJZGVm
YXVsdDoKIAkJCQkJCXRocm93IG5ldyBDbGFzc0Zvcm1hdEV4Y2VwdGlvbihDbGFzc0Zvcm1hdEV4
Y2VwdGlvbi5JTlZBTElEX1RBR19DT05TVEFOVCk7CiAJCQkJfQpAQCAtMjYxLDYgKzI3Myw4IEBA
IHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGVSZWFkZXIgZXh0ZW5kcyBDbGFzc0ZpbGVTdHJ1Y3QgaW1w
bGVtZW50cyBJQ2xhc3NGaWxlUmVhZGVyCiAJCQkJCQkJdGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0
ZXNJbmRleCsrXSA9IG5ldyBSdW50aW1lVmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRlKGNsYXNz
RmlsZUJ5dGVzLCB0aGlzLmNvbnN0YW50UG9vbCwgcmVhZE9mZnNldCk7CiAJCQkJCQl9IGVsc2Ug
aWYgKGVxdWFscyhhdHRyaWJ1dGVOYW1lLCBJQXR0cmlidXRlTmFtZXNDb25zdGFudHMuUlVOVElN
RV9JTlZJU0lCTEVfQU5OT1RBVElPTlMpKSB7CiAJCQkJCQkJdGhpcy5hdHRyaWJ1dGVzW2F0dHJp
YnV0ZXNJbmRleCsrXSA9IG5ldyBSdW50aW1lSW52aXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUo
Y2xhc3NGaWxlQnl0ZXMsIHRoaXMuY29uc3RhbnRQb29sLCByZWFkT2Zmc2V0KTsKKwkJCQkJCX0g
ZWxzZSBpZiAoZXF1YWxzKGF0dHJpYnV0ZU5hbWUsIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5C
T09UU1RSQVBfTUVUSE9EUykpIHsKKwkJCQkJCQl0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlc0lu
ZGV4KytdID0gbmV3IEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoY2xhc3NGaWxlQnl0ZXMsIHRo
aXMuY29uc3RhbnRQb29sLCByZWFkT2Zmc2V0KTsKIAkJCQkJCX0gZWxzZSB7CiAJCQkJCQkJdGhp
cy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZXNJbmRleCsrXSA9IG5ldyBDbGFzc0ZpbGVBdHRyaWJ1dGUo
Y2xhc3NGaWxlQnl0ZXMsIHRoaXMuY29uc3RhbnRQb29sLCByZWFkT2Zmc2V0KTsKIAkJCQkJCX0K
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb3JlL3V0aWwvQ29kZUF0dHJpYnV0ZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db2RlQXR0cmlidXRl
LmphdmEKaW5kZXggODJiYTk1NS4uYTI4MWFiMCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db2RlQXR0cmli
dXRlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvcmUvdXRpbC9Db2RlQXR0cmlidXRlLmphdmEKQEAgLTEsNSArMSw1IEBACiAv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA5IElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9n
cmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3
aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApA
QCAtMTA0OSwxNCArMTA0OSwxMyBAQCBwdWJsaWMgY2xhc3MgQ29kZUF0dHJpYnV0ZSBleHRlbmRz
IENsYXNzRmlsZUF0dHJpYnV0ZSBpbXBsZW1lbnRzIElDb2RlQXR0cmlidXRlCiAJCQkJY2FzZSBJ
T3Bjb2RlTW5lbW9uaWNzLklOVk9LRURZTkFNSUMgOgogCQkJCQlpbmRleCA9IHUyQXQodGhpcy5j
bGFzc0ZpbGVCeXRlcywgMSwgcGMpOwogCQkJCQljb25zdGFudFBvb2xFbnRyeSA9IHRoaXMuY29u
c3RhbnRQb29sLmRlY29kZUVudHJ5KGluZGV4KTsKLQkJCQkJaWYgKGNvbnN0YW50UG9vbEVudHJ5
LmdldEtpbmQoKSAhPSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfTmFtZUFuZFR5cGUp
IHsKKwkJCQkJaWYgKGNvbnN0YW50UG9vbEVudHJ5LmdldEtpbmQoKSAhPSBJQ29uc3RhbnRQb29s
Q29uc3RhbnQuQ09OU1RBTlRfSW52b2tlRHluYW1pYykgewogCQkJCQkJdGhyb3cgbmV3IENsYXNz
Rm9ybWF0RXhjZXB0aW9uKENsYXNzRm9ybWF0RXhjZXB0aW9uLklOVkFMSURfQ09OU1RBTlRfUE9P
TF9FTlRSWSk7CiAJCQkJCX0KIAkJCQkJdmlzaXRvci5faW52b2tlZHluYW1pYygKIAkJCQkJCQlw
YyAtIHRoaXMuY29kZU9mZnNldCwKIAkJCQkJCQlpbmRleCwKLQkJCQkJCQl0aGlzLmNvbnN0YW50
UG9vbC5kZWNvZGVFbnRyeShjb25zdGFudFBvb2xFbnRyeS5nZXROYW1lQW5kVHlwZUluZm9OYW1l
SW5kZXgoKSksCi0JCQkJCQkJdGhpcy5jb25zdGFudFBvb2wuZGVjb2RlRW50cnkoY29uc3RhbnRQ
b29sRW50cnkuZ2V0TmFtZUFuZFR5cGVJbmZvRGVzY3JpcHRvckluZGV4KCkpKTsKKwkJCQkJCQlj
b25zdGFudFBvb2xFbnRyeSk7CiAJCQkJCXBjICs9IDU7CiAJCQkJCWJyZWFrOwogCQkJCWNhc2Ug
SU9wY29kZU1uZW1vbmljcy5ORVcgOgpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUv
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2wuamF2
YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b3JlL3V0aWwvQ29uc3RhbnRQb29sLmphdmEKaW5kZXggYWVlZWUyNC4uYTljNDY5OSAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvcmUvdXRpbC9Db25zdGFudFBvb2wuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9t
b2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NvbnN0YW50UG9vbC5qYXZh
CkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAo
YykgMjAwMCwgMjAwOSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAo
YykgMjAwMCwgMjAxMSBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMg
cmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFu
ZCBpcyBhdmFpbGFibGUgYXQKQEAgLTMzLDE5ICszMywyOCBAQCBwdWJsaWMgY2xhc3MgQ29uc3Rh
bnRQb29sIGV4dGVuZHMgQ2xhc3NGaWxlU3RydWN0IGltcGxlbWVudHMgSUNvbnN0YW50UG9vbCB7
CiAJICogQHNlZSBJQ29uc3RhbnRQb29sI2RlY29kZUVudHJ5KGludCkKIAkgKi8KIAlwdWJsaWMg
SUNvbnN0YW50UG9vbEVudHJ5IGRlY29kZUVudHJ5KGludCBpbmRleCkgewotCQlDb25zdGFudFBv
b2xFbnRyeSBjb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOwotCQlj
b25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQlDb25zdGFudFBvb2xFbnRyeSBjb25zdGFudFBv
b2xFbnRyeSA9IG51bGw7CiAJCWludCBraW5kID0gZ2V0RW50cnlLaW5kKGluZGV4KTsKLQkJY29u
c3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJc3dpdGNoKGtpbmQpIHsKIAkJCWNhc2Ug
SUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0NsYXNzIDoKKwkJCQljb25zdGFudFBvb2xF
bnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJl
c2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJCQljb25zdGFu
dFBvb2xFbnRyeS5zZXRDbGFzc0luZm9OYW1lSW5kZXgodTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVz
LCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKSk7CiAJCQkJY29uc3RhbnRQb29s
RW50cnkuc2V0Q2xhc3NJbmZvTmFtZShnZXRVdGY4VmFsdWVBdChjb25zdGFudFBvb2xFbnRyeS5n
ZXRDbGFzc0luZm9OYW1lSW5kZXgoKSkpOwogCQkJCWJyZWFrOwogCQkJY2FzZSBJQ29uc3RhbnRQ
b29sQ29uc3RhbnQuQ09OU1RBTlRfRG91YmxlIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5l
dyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJ
CQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJCQljb25zdGFudFBvb2xFbnRy
eS5zZXREb3VibGVWYWx1ZShkb3VibGVBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAxLCB0aGlzLmNv
bnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlicmVhazsKIAkJCWNhc2UgSUNvbnN0YW50
UG9vbENvbnN0YW50LkNPTlNUQU5UX0ZpZWxkcmVmIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeSA9
IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7
CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKKwkJCQljb25zdGFudFBvb2xF
bnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJ
Y29uc3RhbnRQb29sRW50cnkuc2V0Q2xhc3NJbmRleCh1MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMs
ICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlpbnQgZGVjbGFyaW5n
Q2xhc3NJbmRleCA9IHUyQXQodGhpcy5jbGFzc0ZpbGVCeXRlcywgIDEsIHRoaXMuY29uc3RhbnRQ
b29sT2Zmc2V0W2NvbnN0YW50UG9vbEVudHJ5LmdldENsYXNzSW5kZXgoKV0pOwogCQkJCWNvbnN0
YW50UG9vbEVudHJ5LnNldENsYXNzTmFtZShnZXRVdGY4VmFsdWVBdChkZWNsYXJpbmdDbGFzc0lu
ZGV4KSk7CkBAIC01Nyw2ICs2NiwxMSBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGV4dGVu
ZHMgQ2xhc3NGaWxlU3RydWN0IGltcGxlbWVudHMgSUNvbnN0YW50UG9vbCB7CiAJCQkJYnJlYWs7
CiAJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RyZWYgOgogCQkJ
Y2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfSW50ZXJmYWNlTWV0aG9kcmVmIDoK
KwkJCQljb25zdGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNv
bnN0YW50UG9vbEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChr
aW5kKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVu
dHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0Q2xhc3NJbmRleCh1
MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRl
eF0pKTsKIAkJCQlkZWNsYXJpbmdDbGFzc0luZGV4ID0gdTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVz
LCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbY29uc3RhbnRQb29sRW50cnkuZ2V0Q2xhc3NJ
bmRleCgpXSk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0Q2xhc3NOYW1lKGdldFV0ZjhWYWx1
ZUF0KGRlY2xhcmluZ0NsYXNzSW5kZXgpKTsKQEAgLTY3LDI1ICs4MSw3NiBAQCBwdWJsaWMgY2xh
c3MgQ29uc3RhbnRQb29sIGV4dGVuZHMgQ2xhc3NGaWxlU3RydWN0IGltcGxlbWVudHMgSUNvbnN0
YW50UG9vbCB7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0TWV0aG9kRGVzY3JpcHRvcihnZXRV
dGY4VmFsdWVBdChtZXRob2REZXNjcmlwdG9ySW5kZXgpKTsKIAkJCQlicmVhazsKIAkJCWNhc2Ug
SUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0Zsb2F0IDoKKwkJCQljb25zdGFudFBvb2xF
bnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnJl
c2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKKwkJCQljb25zdGFu
dFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7
CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0RmxvYXRWYWx1ZShmbG9hdEF0KHRoaXMuY2xhc3NG
aWxlQnl0ZXMsIDEsIHRoaXMuY29uc3RhbnRQb29sT2Zmc2V0W2luZGV4XSkpOwogCQkJCWJyZWFr
OwogCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfSW50ZWdlciA6CisJCQkJ
Y29uc3RhbnRQb29sRW50cnkgPSBuZXcgQ29uc3RhbnRQb29sRW50cnkoKTsKKwkJCQljb25zdGFu
dFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7
CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0SW50ZWdlclZhbHVlKGk0QXQodGhpcy5jbGFzc0Zp
bGVCeXRlcywgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKSk7CiAJCQkJYnJlYWs7
CiAJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9Mb25nIDoKKwkJCQljb25z
dGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9v
bEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJ
CQljb25zdGFudFBvb2xFbnRyeS5zZXRMb25nVmFsdWUoaThBdCh0aGlzLmNsYXNzRmlsZUJ5dGVz
LCAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlicmVhazsKIAkJCWNh
c2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX05hbWVBbmRUeXBlIDoKKwkJCQljb25z
dGFudFBvb2xFbnRyeSA9IG5ldyBDb25zdGFudFBvb2xFbnRyeSgpOworCQkJCWNvbnN0YW50UG9v
bEVudHJ5LnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0S2luZChraW5kKTsKIAkJ
CQljb25zdGFudFBvb2xFbnRyeS5zZXROYW1lQW5kVHlwZU5hbWVJbmRleCh1MkF0KHRoaXMuY2xh
c3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQlj
b25zdGFudFBvb2xFbnRyeS5zZXROYW1lQW5kVHlwZURlc2NyaXB0b3JJbmRleCh1MkF0KHRoaXMu
Y2xhc3NGaWxlQnl0ZXMsICAzLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJ
CQlicmVhazsKIAkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX1N0cmluZyA6
CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBuZXcgQ29uc3RhbnRQb29sRW50cnkoKTsKKwkJCQlj
b25zdGFudFBvb2xFbnRyeS5yZXNldCgpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQo
a2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50cnkuc2V0U3RyaW5nSW5kZXgodTJBdCh0aGlzLmNs
YXNzRmlsZUJ5dGVzLCAgMSwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKSk7CiAJCQkJ
Y29uc3RhbnRQb29sRW50cnkuc2V0U3RyaW5nVmFsdWUoZ2V0VXRmOFZhbHVlQXQoY29uc3RhbnRQ
b29sRW50cnkuZ2V0U3RyaW5nSW5kZXgoKSkpOwogCQkJCWJyZWFrOwogCQkJY2FzZSBJQ29uc3Rh
bnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfVXRmOCA6CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBu
ZXcgQ29uc3RhbnRQb29sRW50cnkoKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeS5yZXNldCgpOwor
CQkJCWNvbnN0YW50UG9vbEVudHJ5LnNldEtpbmQoa2luZCk7CiAJCQkJY29uc3RhbnRQb29sRW50
cnkuc2V0VXRmOExlbmd0aCh1MkF0KHRoaXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0
YW50UG9vbE9mZnNldFtpbmRleF0pKTsKIAkJCQljb25zdGFudFBvb2xFbnRyeS5zZXRVdGY4VmFs
dWUoZ2V0VXRmOFZhbHVlQXQoaW5kZXgpKTsKKwkJCQlicmVhazsKKwkJCWNhc2UgSUNvbnN0YW50
UG9vbENvbnN0YW50LkNPTlNUQU5UX01ldGhvZEhhbmRsZSA6CisJCQkJQ29uc3RhbnRQb29sRW50
cnkyIGNvbnN0YW50UG9vbEVudHJ5MiA9IG5ldyBDb25zdGFudFBvb2xFbnRyeTIoKTsKKwkJCQlj
b25zdGFudFBvb2xFbnRyeTIucmVzZXQoKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0S2lu
ZChraW5kKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0UmVmZXJlbmNlS2luZCh1MUF0KHRo
aXMuY2xhc3NGaWxlQnl0ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtpbmRleF0pKTsK
KwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0UmVmZXJlbmNlSW5kZXgodTJBdCh0aGlzLmNsYXNz
RmlsZUJ5dGVzLCAgMiwgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKSk7CisJCQkJY29u
c3RhbnRQb29sRW50cnkgPSBjb25zdGFudFBvb2xFbnRyeTI7CisJCQkJYnJlYWs7CisJCQljYXNl
IElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RUeXBlIDoKKwkJCQljb25zdGFu
dFBvb2xFbnRyeTIgPSBuZXcgQ29uc3RhbnRQb29sRW50cnkyKCk7CisJCQkJY29uc3RhbnRQb29s
RW50cnkyLnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnNldEtpbmQoa2luZCk7CisJ
CQkJbWV0aG9kRGVzY3JpcHRvckluZGV4ID0gdTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMSwg
dGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5kZXhdKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIu
c2V0RGVzY3JpcHRvckluZGV4KG1ldGhvZERlc2NyaXB0b3JJbmRleCk7CisJCQkJY29uc3RhbnRQ
b29sRW50cnkyLnNldE1ldGhvZERlc2NyaXB0b3IoZ2V0VXRmOFZhbHVlQXQobWV0aG9kRGVzY3Jp
cHRvckluZGV4KSk7CisJCQkJY29uc3RhbnRQb29sRW50cnkgPSBjb25zdGFudFBvb2xFbnRyeTI7
CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9JbnZv
a2VEeW5hbWljIDoKKwkJCQljb25zdGFudFBvb2xFbnRyeTIgPSBuZXcgQ29uc3RhbnRQb29sRW50
cnkyKCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnJlc2V0KCk7CisJCQkJY29uc3RhbnRQb29s
RW50cnkyLnNldEtpbmQoa2luZCk7CisJCQkJY29uc3RhbnRQb29sRW50cnkyLnNldEJvb3RzdHJh
cE1ldGhvZEF0dHJpYnV0ZUluZGV4KHUyQXQodGhpcy5jbGFzc0ZpbGVCeXRlcywgIDEsIHRoaXMu
Y29uc3RhbnRQb29sT2Zmc2V0W2luZGV4XSkpOworCQkJCWludCBuYW1lQW5kVHlwZUluZGV4ID0g
dTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMywgdGhpcy5jb25zdGFudFBvb2xPZmZzZXRbaW5k
ZXhdKTsKKwkJCQljb25zdGFudFBvb2xFbnRyeTIuc2V0TmFtZUFuZFR5cGVJbmRleChuYW1lQW5k
VHlwZUluZGV4KTsKKwkJCQltZXRob2ROYW1lSW5kZXggPSB1MkF0KHRoaXMuY2xhc3NGaWxlQnl0
ZXMsICAxLCB0aGlzLmNvbnN0YW50UG9vbE9mZnNldFtuYW1lQW5kVHlwZUluZGV4XSk7CisJCQkJ
bWV0aG9kRGVzY3JpcHRvckluZGV4ID0gdTJBdCh0aGlzLmNsYXNzRmlsZUJ5dGVzLCAgMywgdGhp
cy5jb25zdGFudFBvb2xPZmZzZXRbbmFtZUFuZFR5cGVJbmRleF0pOworCQkJCWNvbnN0YW50UG9v
bEVudHJ5Mi5zZXRNZXRob2ROYW1lKGdldFV0ZjhWYWx1ZUF0KG1ldGhvZE5hbWVJbmRleCkpOwor
CQkJCWNvbnN0YW50UG9vbEVudHJ5Mi5zZXRNZXRob2REZXNjcmlwdG9yKGdldFV0ZjhWYWx1ZUF0
KG1ldGhvZERlc2NyaXB0b3JJbmRleCkpOworCQkJCWNvbnN0YW50UG9vbEVudHJ5ID0gY29uc3Rh
bnRQb29sRW50cnkyOworCQkJCWJyZWFrOwogCQl9CiAJCXJldHVybiBjb25zdGFudFBvb2xFbnRy
eTsKIAl9CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5LmphdmEgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0Nv
bnN0YW50UG9vbEVudHJ5LmphdmEKaW5kZXggNTVjYzE3MC4uOWY5Y2FlNiAxMDA2NDQKLS0tIGEv
b3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUv
dXRpbC9Db25zdGFudFBvb2xFbnRyeS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL21v
ZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvQ29uc3RhbnRQb29sRW50cnku
amF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmln
aHQgKGMpIDIwMDAsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmln
aHQgKGMpIDIwMDAsIDIwMTEgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmln
aHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxz
CiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1
YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0zNDEsNiArMzQxLDcgQEAgcHVibGljIGNsYXNzIENv
bnN0YW50UG9vbEVudHJ5IGltcGxlbWVudHMgSUNvbnN0YW50UG9vbEVudHJ5IHsKIAogCS8qKgog
CSAqIFNldHMgdGhlIG1ldGhvZERlc2NyaXB0b3IuCisJICoKIAkgKiBAcGFyYW0gbWV0aG9kRGVz
Y3JpcHRvciBUaGUgbWV0aG9kRGVzY3JpcHRvciB0byBzZXQKIAkgKi8KIAlwdWJsaWMgdm9pZCBz
ZXRNZXRob2REZXNjcmlwdG9yKGNoYXJbXSBtZXRob2REZXNjcmlwdG9yKSB7CmRpZmYgLS1naXQg
YS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS91dGlsL0NvbnN0YW50UG9vbEVudHJ5Mi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9k
ZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2xFbnRyeTIu
amF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi5jNmM5Njg2Ci0tLSAvZGV2
L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvdXRpbC9Db25zdGFudFBvb2xFbnRyeTIuamF2YQpAQCAtMCwwICsxLDY2IEBA
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDExIElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBw
cm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscworICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCisg
KiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBh
dAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwKKyAqCisgKiBD
b250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGlt
cGxlbWVudGF0aW9uCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KK3BhY2thZ2Ugb3JnLmVjbGlw
c2UuamR0LmludGVybmFsLmNvcmUudXRpbDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LnV0aWwuSUNvbnN0YW50UG9vbEVudHJ5MjsKKworLyoqCisgKiBEZWZhdWx0IGltcGxlbWVudGF0
aW9uIG9mIElDb25zdGFudFBvb2xFbnRyeQorICoKKyAqIEBzaW5jZSAyLjAKKyAqLworcHVibGlj
IGNsYXNzIENvbnN0YW50UG9vbEVudHJ5MiBleHRlbmRzIENvbnN0YW50UG9vbEVudHJ5IGltcGxl
bWVudHMgSUNvbnN0YW50UG9vbEVudHJ5MiB7CisJCisJcHJpdmF0ZSBpbnQgZGVzY3JpcHRvcklu
ZGV4OworCXByaXZhdGUgaW50IHJlZmVyZW5jZUtpbmQ7CisJcHJpdmF0ZSBpbnQgcmVmZXJlbmNl
SW5kZXg7CisJcHJpdmF0ZSBpbnQgYm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXg7CisJCisJ
cHVibGljIGludCBnZXREZXNjcmlwdG9ySW5kZXgoKSB7CisJCXJldHVybiB0aGlzLmRlc2NyaXB0
b3JJbmRleDsKKwl9CisKKwlwdWJsaWMgaW50IGdldFJlZmVyZW5jZUtpbmQoKSB7CisJCXJldHVy
biB0aGlzLnJlZmVyZW5jZUtpbmQ7CisJfQorCisJcHVibGljIGludCBnZXRSZWZlcmVuY2VJbmRl
eCgpIHsKKwkJcmV0dXJuIHRoaXMucmVmZXJlbmNlSW5kZXg7CisJfQorCisJcHVibGljIGludCBn
ZXRCb290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleCgpIHsKKwkJcmV0dXJuIHRoaXMuYm9vdHN0
cmFwTWV0aG9kQXR0cmlidXRlSW5kZXg7CisJfQorCisJcHVibGljIHZvaWQgc2V0RGVzY3JpcHRv
ckluZGV4KGludCBkZXNjcmlwdG9ySW5kZXgpIHsKKwkJdGhpcy5kZXNjcmlwdG9ySW5kZXggPSBk
ZXNjcmlwdG9ySW5kZXg7CisJfQorCisJcHVibGljIHZvaWQgc2V0UmVmZXJlbmNlS2luZChpbnQg
cmVmZXJlbmNlS2luZCkgeworCQl0aGlzLnJlZmVyZW5jZUtpbmQgPSByZWZlcmVuY2VLaW5kOwor
CX0KKworCXB1YmxpYyB2b2lkIHNldFJlZmVyZW5jZUluZGV4KGludCByZWZlcmVuY2VJbmRleCkg
eworCQl0aGlzLnJlZmVyZW5jZUluZGV4ID0gcmVmZXJlbmNlSW5kZXg7CisJfQorCisJcHVibGlj
IHZvaWQgc2V0Qm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXgoaW50IGJvb3RzdHJhcE1ldGhv
ZEF0dHJpYnV0ZUluZGV4KSB7CisJCXRoaXMuYm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXgg
PSBib290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleDsKKwl9CisJCisJcHVibGljIHZvaWQgcmVz
ZXQoKSB7CisJCXN1cGVyLnJlc2V0KCk7CisJCXRoaXMuZGVzY3JpcHRvckluZGV4ID0gMDsKKwkJ
dGhpcy5yZWZlcmVuY2VLaW5kID0gMDsKKwkJdGhpcy5yZWZlcmVuY2VJbmRleCA9IDA7CisJCXRo
aXMuYm9vdHN0cmFwTWV0aG9kQXR0cmlidXRlSW5kZXggPSAwOworCX0KK30KZGlmZiAtLWdpdCBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3Jl
L3V0aWwvRGVmYXVsdEJ5dGVjb2RlVmlzaXRvci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
bW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9EZWZhdWx0Qnl0ZWNvZGVW
aXNpdG9yLmphdmEKaW5kZXggZDk0ZGQ0ZS4uYjVmZTJhYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9EZWZh
dWx0Qnl0ZWNvZGVWaXNpdG9yLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9EZWZhdWx0Qnl0ZWNvZGVWaXNpdG9y
LmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJp
Z2h0IChjKSAyMDAwLCAyMDA5IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJp
Z2h0IChjKSAyMDAwLCAyMDExIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTcsNiArMTcsNyBAQCBpbXBvcnQgb3JnLmVjbGlw
c2UuamR0LmNvcmUudXRpbC5JQnl0ZWNvZGVWaXNpdG9yOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLnV0aWwuSUNvZGVBdHRyaWJ1dGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
dXRpbC5JQ29uc3RhbnRQb29sQ29uc3RhbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
dXRpbC5JQ29uc3RhbnRQb29sRW50cnk7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRp
bC5JQ29uc3RhbnRQb29sRW50cnkyOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwu
SUxvY2FsVmFyaWFibGVBdHRyaWJ1dGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRp
bC5JTG9jYWxWYXJpYWJsZVRhYmxlRW50cnk7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
dXRpbC5PcGNvZGVTdHJpbmdWYWx1ZXM7CkBAIC0xNDkxLDcgKzE0OTIsNyBAQCBwdWJsaWMgY2xh
c3MgRGVmYXVsdEJ5dGVjb2RlVmlzaXRvciBpbXBsZW1lbnRzIElCeXRlY29kZVZpc2l0b3Igewog
CQl3cml0ZU5ld0xpbmUoKTsKIAl9CiAJLyoqCi0JICogQHNlZSBJQnl0ZWNvZGVWaXNpdG9yI19p
bnZva2VkeW5hbWljKGludCwgaW50LCBJQ29uc3RhbnRQb29sRW50cnksIElDb25zdGFudFBvb2xF
bnRyeSkKKwkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWR5bmFtaWMoaW50LCBpbnQs
IElDb25zdGFudFBvb2xFbnRyeSkKIAkgKi8KIAlwdWJsaWMgdm9pZCBfaW52b2tlZHluYW1pYygK
IAkJaW50IHBjLApAQCAtMTUxMyw2ICsxNTE0LDMwIEBAIHB1YmxpYyBjbGFzcyBEZWZhdWx0Qnl0
ZWNvZGVWaXNpdG9yIGltcGxlbWVudHMgSUJ5dGVjb2RlVmlzaXRvciB7CiAJCXdyaXRlTmV3TGlu
ZSgpOwogCX0KIAkvKioKKwkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2ludm9rZWR5bmFtaWMo
aW50LCBpbnQsIElDb25zdGFudFBvb2xFbnRyeSkKKwkgKi8KKwlwdWJsaWMgdm9pZCBfaW52b2tl
ZHluYW1pYygKKwkJaW50IHBjLAorCQlpbnQgaW5kZXgsCisJCUlDb25zdGFudFBvb2xFbnRyeSBp
bnZva2VEeW5hbWljRW50cnkpIHsKKworCQlkdW1wUGNOdW1iZXIocGMpOworCQlJQ29uc3RhbnRQ
b29sRW50cnkyIGVudHJ5ID0gKElDb25zdGFudFBvb2xFbnRyeTIpIGludm9rZUR5bmFtaWNFbnRy
eTsKKwkJdGhpcy5idWZmZXIuYXBwZW5kKE1lc3NhZ2VzLmJpbmQoTWVzc2FnZXMuY2xhc3Nmb3Jt
YXRfaW52b2tlZHluYW1pYywKKwkJCW5ldyBTdHJpbmdbXSB7CisJCQkJT3Bjb2RlU3RyaW5nVmFs
dWVzLkJZVEVDT0RFX05BTUVTW0lPcGNvZGVNbmVtb25pY3MuSU5WT0tFRFlOQU1JQ10sCisJCQkJ
SW50ZWdlci50b1N0cmluZyhpbmRleCksCisJCQkJSW50ZWdlci50b1N0cmluZyhlbnRyeS5nZXRC
b290c3RyYXBNZXRob2RBdHRyaWJ1dGVJbmRleCgpKSwKKwkJCQlVdGlsLnRvU3RyaW5nKAorCQkJ
CQludWxsLAorCQkJCQllbnRyeS5nZXRNZXRob2ROYW1lKCksCisJCQkJCWVudHJ5LmdldE1ldGhv
ZERlc2NyaXB0b3IoKSwKKwkJCQkJdHJ1ZSwKKwkJCQkJaXNDb21wYWN0KCkpCisJCQl9KSk7CisJ
CXdyaXRlTmV3TGluZSgpOworCX0KKwkvKioKIAkgKiBAc2VlIElCeXRlY29kZVZpc2l0b3IjX2lu
dm9rZWludGVyZmFjZShpbnQsIGludCwgYnl0ZSwgSUNvbnN0YW50UG9vbEVudHJ5KQogCSAqLwog
CXB1YmxpYyB2b2lkIF9pbnZva2VpbnRlcmZhY2UoCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL0Rpc2Fzc2Vt
Ymxlci5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2lu
dGVybmFsL2NvcmUvdXRpbC9EaXNhc3NlbWJsZXIuamF2YQppbmRleCBjNTRmZDczLi44MWI4OGYy
IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29yZS91dGlsL0Rpc2Fzc2VtYmxlci5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL21vZGVsL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvRGlzYXNzZW1i
bGVyLmphdmEKQEAgLTgwMSw2ICs4MDEsOCBAQCBwdWJsaWMgY2xhc3MgRGlzYXNzZW1ibGVyIGV4
dGVuZHMgQ2xhc3NGaWxlQnl0ZXNEaXNhc3NlbWJsZXIgewogCQlJQ2xhc3NGaWxlQXR0cmlidXRl
IHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUgPSBVdGlsLmdldEF0dHJpYnV0ZShj
bGFzc0ZpbGVSZWFkZXIsIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5SVU5USU1FX1ZJU0lCTEVf
QU5OT1RBVElPTlMpOwogCQlJQ2xhc3NGaWxlQXR0cmlidXRlIHJ1bnRpbWVJbnZpc2libGVBbm5v
dGF0aW9uc0F0dHJpYnV0ZSA9IFV0aWwuZ2V0QXR0cmlidXRlKGNsYXNzRmlsZVJlYWRlciwgSUF0
dHJpYnV0ZU5hbWVzQ29uc3RhbnRzLlJVTlRJTUVfSU5WSVNJQkxFX0FOTk9UQVRJT05TKTsKIAor
CQlJQ2xhc3NGaWxlQXR0cmlidXRlIGJvb3RzdHJhcE1ldGhvZHMgPSBVdGlsLmdldEF0dHJpYnV0
ZShjbGFzc0ZpbGVSZWFkZXIsIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5CT09UU1RSQVBfTUVU
SE9EUyk7CisKIAkJaWYgKGNoZWNrTW9kZShtb2RlLCBERVRBSUxFRCkpIHsKIAkJCS8vIGRpc2Fz
c2VtYmxlIGNvbXBhY3QgdmVyc2lvbiBvZiBhbm5vdGF0aW9ucwogCQkJaWYgKHJ1bnRpbWVJbnZp
c2libGVBbm5vdGF0aW9uc0F0dHJpYnV0ZSAhPSBudWxsKSB7CkBAIC05MDQsMjggKzkwNiwxNSBA
QCBwdWJsaWMgY2xhc3MgRGlzYXNzZW1ibGVyIGV4dGVuZHMgQ2xhc3NGaWxlQnl0ZXNEaXNhc3Nl
bWJsZXIgewogCQkJSUNsYXNzRmlsZUF0dHJpYnV0ZVtdIGF0dHJpYnV0ZXMgPSBjbGFzc0ZpbGVS
ZWFkZXIuZ2V0QXR0cmlidXRlcygpOwogCQkJaW50IGxlbmd0aCA9IGF0dHJpYnV0ZXMubGVuZ3Ro
OwogCQkJSUVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSBlbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUg
PSBnZXRFbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUoY2xhc3NGaWxlUmVhZGVyKTsKLQkJCWludCBy
ZW1haW5pbmdBdHRyaWJ1dGVzTGVuZ3RoID0gbGVuZ3RoOwotCQkJaWYgKGlubmVyQ2xhc3Nlc0F0
dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0cmlidXRlc0xlbmd0aC0tOwotCQkJ
fQotCQkJaWYgKGVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVtYWlu
aW5nQXR0cmlidXRlc0xlbmd0aC0tOwotCQkJfQotCQkJaWYgKHNvdXJjZUF0dHJpYnV0ZSAhPSBu
dWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0cmlidXRlc0xlbmd0aC0tOwotCQkJfQotCQkJaWYgKHNp
Z25hdHVyZUF0dHJpYnV0ZSAhPSBudWxsKSB7Ci0JCQkJcmVtYWluaW5nQXR0cmlidXRlc0xlbmd0
aC0tOwotCQkJfQotCQkJaWYgKGlubmVyQ2xhc3Nlc0F0dHJpYnV0ZSAhPSBudWxsIHx8IGVuY2xv
c2luZ01ldGhvZEF0dHJpYnV0ZSAhPSBudWxsIHx8IHJlbWFpbmluZ0F0dHJpYnV0ZXNMZW5ndGgg
IT0gMCkgewotCQkJCXdyaXRlTmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIDApOwotCQkJ
fQogCQkJaWYgKGlubmVyQ2xhc3Nlc0F0dHJpYnV0ZSAhPSBudWxsKSB7CiAJCQkJZGlzYXNzZW1i
bGUoaW5uZXJDbGFzc2VzQXR0cmlidXRlLCBidWZmZXIsIGxpbmVTZXBhcmF0b3IsIDEpOwogCQkJ
fQogCQkJaWYgKGVuY2xvc2luZ01ldGhvZEF0dHJpYnV0ZSAhPSBudWxsKSB7CiAJCQkJZGlzYXNz
ZW1ibGUoZW5jbG9zaW5nTWV0aG9kQXR0cmlidXRlLCBidWZmZXIsIGxpbmVTZXBhcmF0b3IsIDAp
OwogCQkJfQorCQkJaWYgKGJvb3RzdHJhcE1ldGhvZHMgIT0gbnVsbCkgeworCQkJCWRpc2Fzc2Vt
YmxlKChJQm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSkgYm9vdHN0cmFwTWV0aG9kcywgYnVmZmVy
LCBsaW5lU2VwYXJhdG9yLCAwKTsKKwkJCX0KIAkJCWlmIChjaGVja01vZGUobW9kZSwgU1lTVEVN
KSkgewogCQkJCWlmIChydW50aW1lVmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRlICE9IG51bGwp
IHsKIAkJCQkJZGlzYXNzZW1ibGUoKElSdW50aW1lVmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRl
KSBydW50aW1lVmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRlLCBidWZmZXIsIGxpbmVTZXBhcmF0
b3IsIDAsIG1vZGUpOwpAQCAtOTM3LDEzICs5MjYsMTQgQEAgcHVibGljIGNsYXNzIERpc2Fzc2Vt
YmxlciBleHRlbmRzIENsYXNzRmlsZUJ5dGVzRGlzYXNzZW1ibGVyIHsKIAkJCQkJZm9yIChpbnQg
aSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogCQkJCQkJSUNsYXNzRmlsZUF0dHJpYnV0ZSBhdHRy
aWJ1dGUgPSBhdHRyaWJ1dGVzW2ldOwogCQkJCQkJaWYgKGF0dHJpYnV0ZSAhPSBpbm5lckNsYXNz
ZXNBdHRyaWJ1dGUKLQkJCQkJCQkmJiBhdHRyaWJ1dGUgIT0gc291cmNlQXR0cmlidXRlCi0JCQkJ
CQkJJiYgYXR0cmlidXRlICE9IHNpZ25hdHVyZUF0dHJpYnV0ZQotCQkJCQkJCSYmIGF0dHJpYnV0
ZSAhPSBlbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUKLQkJCQkJCQkmJiBhdHRyaWJ1dGUgIT0gcnVu
dGltZUludmlzaWJsZUFubm90YXRpb25zQXR0cmlidXRlCi0JCQkJCQkJJiYgYXR0cmlidXRlICE9
IHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUKLQkJCQkJCQkmJiAhQ2hhck9wZXJh
dGlvbi5lcXVhbHMoYXR0cmlidXRlLmdldEF0dHJpYnV0ZU5hbWUoKSwgSUF0dHJpYnV0ZU5hbWVz
Q29uc3RhbnRzLkRFUFJFQ0FURUQpCi0JCQkJCQkJJiYgIUNoYXJPcGVyYXRpb24uZXF1YWxzKGF0
dHJpYnV0ZS5nZXRBdHRyaWJ1dGVOYW1lKCksIElBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5TWU5U
SEVUSUMpKSB7CisJCQkJCQkJCSYmIGF0dHJpYnV0ZSAhPSBzb3VyY2VBdHRyaWJ1dGUKKwkJCQkJ
CQkJJiYgYXR0cmlidXRlICE9IHNpZ25hdHVyZUF0dHJpYnV0ZQorCQkJCQkJCQkmJiBhdHRyaWJ1
dGUgIT0gZW5jbG9zaW5nTWV0aG9kQXR0cmlidXRlCisJCQkJCQkJCSYmIGF0dHJpYnV0ZSAhPSBy
dW50aW1lSW52aXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUKKwkJCQkJCQkJJiYgYXR0cmlidXRl
ICE9IHJ1bnRpbWVWaXNpYmxlQW5ub3RhdGlvbnNBdHRyaWJ1dGUKKwkJCQkJCQkJJiYgIUNoYXJP
cGVyYXRpb24uZXF1YWxzKGF0dHJpYnV0ZS5nZXRBdHRyaWJ1dGVOYW1lKCksIElBdHRyaWJ1dGVO
YW1lc0NvbnN0YW50cy5ERVBSRUNBVEVEKQorCQkJCQkJCQkmJiAhQ2hhck9wZXJhdGlvbi5lcXVh
bHMoYXR0cmlidXRlLmdldEF0dHJpYnV0ZU5hbWUoKSwgSUF0dHJpYnV0ZU5hbWVzQ29uc3RhbnRz
LlNZTlRIRVRJQykKKwkJCQkJCQkJJiYgYXR0cmlidXRlICE9IGJvb3RzdHJhcE1ldGhvZHMpIHsK
IAkJCQkJCQlkaXNhc3NlbWJsZShhdHRyaWJ1dGUsIGJ1ZmZlciwgbGluZVNlcGFyYXRvciwgMCwg
bW9kZSk7CiAJCQkJCQl9CiAJCQkJCX0KQEAgLTE0MDgsOSArMTM5OCw3MyBAQCBwdWJsaWMgY2xh
c3MgRGlzYXNzZW1ibGVyIGV4dGVuZHMgQ2xhc3NGaWxlQnl0ZXNEaXNhc3NlbWJsZXIgewogCQkJ
CQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGkpLAogCQkJCQkJCQlkZWNvZGVTdHJpbmdWYWx1ZShuZXcg
U3RyaW5nKGNvbnN0YW50UG9vbEVudHJ5LmdldFV0ZjhWYWx1ZSgpKSl9KSk7CiAJCQkJCWJyZWFr
OworCQkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX01ldGhvZEhhbmRsZSA6
CisJCQkJCUlDb25zdGFudFBvb2xFbnRyeTIgZW50cnkyID0gKElDb25zdGFudFBvb2xFbnRyeTIp
IGNvbnN0YW50UG9vbEVudHJ5OworCQkJCQlidWZmZXIuYXBwZW5kKAorCQkJCQkJCU1lc3NhZ2Vz
LmJpbmQoTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF9tZXRob2RoYW5kbGUsCisJ
CQkJCQkJCW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGkpLAorCQkJ
CQkJCQkJZ2V0UmVmZXJlbmNlS2luZChlbnRyeTIuZ2V0UmVmZXJlbmNlS2luZCgpKSwKKwkJCQkJ
CQkJCUludGVnZXIudG9TdHJpbmcoZW50cnkyLmdldFJlZmVyZW5jZUluZGV4KCkpLAorCQkJCQkJ
CQl9KSk7CisJCQkJCWJyZWFrOworCQkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNU
QU5UX01ldGhvZFR5cGUgOgorCQkJCQllbnRyeTIgPSAoSUNvbnN0YW50UG9vbEVudHJ5MikgY29u
c3RhbnRQb29sRW50cnk7CisJCQkJCWJ1ZmZlci5hcHBlbmQoCisJCQkJCQkJTWVzc2FnZXMuYmlu
ZChNZXNzYWdlcy5kaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX21ldGhvZHR5cGUsCisJCQkJCQkJ
CW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGkpLAorCQkJCQkJCQkJ
SW50ZWdlci50b1N0cmluZyhlbnRyeTIuZ2V0RGVzY3JpcHRvckluZGV4KCkpLAorCQkJCQkJCQkJ
U3RyaW5nLnZhbHVlT2YoZW50cnkyLmdldE1ldGhvZERlc2NyaXB0b3IoKSksCisJCQkJCQkJCX0p
KTsKKwkJCQkJYnJlYWs7CisJCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRf
SW52b2tlRHluYW1pYyA6CisJCQkJCWVudHJ5MiA9IChJQ29uc3RhbnRQb29sRW50cnkyKSBjb25z
dGFudFBvb2xFbnRyeTsKKwkJCQkJYnVmZmVyLmFwcGVuZCgKKwkJCQkJCU1lc3NhZ2VzLmJpbmQo
TWVzc2FnZXMuZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF9pbnZva2VkeW5hbWljLAorCQkJCQkJ
CW5ldyBTdHJpbmdbXSB7CisJCQkJCQkJCUludGVnZXIudG9TdHJpbmcoaSksCisJCQkJCQkJCUlu
dGVnZXIudG9TdHJpbmcoZW50cnkyLmdldEJvb3RzdHJhcE1ldGhvZEF0dHJpYnV0ZUluZGV4KCkp
LAorCQkJCQkJCQlJbnRlZ2VyLnRvU3RyaW5nKGVudHJ5Mi5nZXROYW1lQW5kVHlwZUluZGV4KCkp
LAorCQkJCQkJCQluZXcgU3RyaW5nKGNvbnN0YW50UG9vbEVudHJ5LmdldE1ldGhvZE5hbWUoKSks
CisJCQkJCQkJCW5ldyBTdHJpbmcoY29uc3RhbnRQb29sRW50cnkuZ2V0TWV0aG9kRGVzY3JpcHRv
cigpKQorCQkJCQkJCX0pKTsKIAkJCX0KIAkJfQogCX0KKwkKKwlwcml2YXRlIFN0cmluZyBnZXRS
ZWZlcmVuY2VLaW5kKGludCByZWZlcmVuY2VLaW5kKSB7CisJCVN0cmluZyBtZXNzYWdlID0gbnVs
bDsKKwkJc3dpdGNoKHJlZmVyZW5jZUtpbmQpIHsKKwkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0
YW50Lk1FVEhPRF9UWVBFX1JFRl9HZXRGaWVsZCA6CisJCQkJbWVzc2FnZSA9IE1lc3NhZ2VzLmRp
c2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfZ2V0ZmllbGQ7CisJCQkJYnJlYWs7CisJCQljYXNl
IElDb25zdGFudFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9SRUZfR2V0U3RhdGljIDoKKwkJCQlt
ZXNzYWdlID0gTWVzc2FnZXMuZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9nZXRzdGF0aWM7
CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9S
RUZfUHV0RmllbGQgOgorCQkJCW1lc3NhZ2UgPSBNZXNzYWdlcy5kaXNhc3NlbWJsZXJfbWV0aG9k
X3R5cGVfcmVmX3B1dGZpZWxkOworCQkJCWJyZWFrOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29u
c3RhbnQuTUVUSE9EX1RZUEVfUkVGX1B1dFN0YXRpYyA6CisJCQkJbWVzc2FnZSA9IE1lc3NhZ2Vz
LmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfcHV0c3RhdGljOworCQkJCWJyZWFrOworCQkJ
Y2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuTUVUSE9EX1RZUEVfUkVGX0ludm9rZUludGVyZmFj
ZSA6CisJCQkJbWVzc2FnZSA9IE1lc3NhZ2VzLmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZf
aW52b2tlaW50ZXJmYWNlOworCQkJCWJyZWFrOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3Rh
bnQuTUVUSE9EX1RZUEVfUkVGX0ludm9rZVNwZWNpYWwgOgorCQkJCW1lc3NhZ2UgPSBNZXNzYWdl
cy5kaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX2ludm9rZXNwZWNpYWw7CisJCQkJYnJlYWs7
CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9SRUZfSW52b2tlU3Rh
dGljIDoKKwkJCQltZXNzYWdlID0gTWVzc2FnZXMuZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3Jl
Zl9pbnZva2VzdGF0aWM7CisJCQkJYnJlYWs7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFu
dC5NRVRIT0RfVFlQRV9SRUZfSW52b2tlVmlydHVhbCA6CisJCQkJbWVzc2FnZSA9IE1lc3NhZ2Vz
LmRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tldmlydHVhbDsKKwkJCQlicmVhazsK
KwkJCWRlZmF1bHQgOgorCQkJCW1lc3NhZ2UgPSBNZXNzYWdlcy5kaXNhc3NlbWJsZXJfbWV0aG9k
X3R5cGVfcmVmX25ld2ludm9rZXNwZWNpYWw7CisJCX0KKwkJcmV0dXJuIE1lc3NhZ2VzLmJpbmQo
bWVzc2FnZSwgbmV3IFN0cmluZ1tdIHsgSW50ZWdlci50b1N0cmluZyhyZWZlcmVuY2VLaW5kKSB9
KTsKKwl9CiAKIAlwcml2YXRlIHZvaWQgZGlzYXNzZW1ibGUoSUVuY2xvc2luZ01ldGhvZEF0dHJp
YnV0ZSBlbmNsb3NpbmdNZXRob2RBdHRyaWJ1dGUsIFN0cmluZ0J1ZmZlciBidWZmZXIsIFN0cmlu
ZyBsaW5lU2VwYXJhdG9yLCBpbnQgdGFiTnVtYmVyKSB7CiAJCXdyaXRlTmV3TGluZShidWZmZXIs
IGxpbmVTZXBhcmF0b3IsIHRhYk51bWJlciArIDEpOwpAQCAtMTY2OSw2ICsxNzIzLDQ2IEBAIHB1
YmxpYyBjbGFzcyBEaXNhc3NlbWJsZXIgZXh0ZW5kcyBDbGFzc0ZpbGVCeXRlc0Rpc2Fzc2VtYmxl
ciB7CiAJCX0KIAl9CiAKKwlwcml2YXRlIHZvaWQgZGlzYXNzZW1ibGUoSUJvb3RzdHJhcE1ldGhv
ZHNBdHRyaWJ1dGUgYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSwgU3RyaW5nQnVmZmVyIGJ1ZmZl
ciwgU3RyaW5nIGxpbmVTZXBhcmF0b3IsIGludCB0YWJOdW1iZXIpIHsKKwkJd3JpdGVOZXdMaW5l
KGJ1ZmZlciwgbGluZVNlcGFyYXRvciwgdGFiTnVtYmVyKTsKKwkJYnVmZmVyLmFwcGVuZChNZXNz
YWdlcy5kaXNhc3NlbWJsZXJfYm9vdHN0cmFwbWV0aG9kYXR0cmlidXRlc2hlYWRlcik7CisJCXdy
aXRlTmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIHRhYk51bWJlciArIDEpOworCQlJQm9v
dHN0cmFwTWV0aG9kc0VudHJ5W10gZW50cmllcyA9IGJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUu
Z2V0Qm9vdHN0cmFwTWV0aG9kcygpOworCQlpbnQgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7CisJ
CWZvciAoaW50IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKKwkJCWlmIChpICE9IDApIHsKKwkJ
CQlidWZmZXIuYXBwZW5kKE1lc3NhZ2VzLmRpc2Fzc2VtYmxlcl9jb21tYSk7CisJCQkJd3JpdGVO
ZXdMaW5lKGJ1ZmZlciwgbGluZVNlcGFyYXRvciwgdGFiTnVtYmVyICsgMSk7CisJCQl9CisJCQlJ
Qm9vdHN0cmFwTWV0aG9kc0VudHJ5IGVudHJ5ID0gZW50cmllc1tpXTsKKwkJCWJ1ZmZlci5hcHBl
bmQoCisJCQkJTWVzc2FnZXMuYmluZCgKKwkJCQkJTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2Jvb3Rz
dHJhcG1ldGhvZGVudHJ5LAorCQkJCQluZXcgU3RyaW5nW10geworCQkJCQkJSW50ZWdlci50b1N0
cmluZyhpKSwKKwkJCQkJCUludGVnZXIudG9TdHJpbmcoZW50cnkuZ2V0Qm9vdHN0cmFwTWV0aG9k
UmVmZXJlbmNlKCkpLAorCQkJCQkJZ2V0QXJndW1lbnRzKGVudHJ5LmdldEJvb3RzdHJhcEFyZ3Vt
ZW50cygpKQorCQkJCQl9KSk7CisJCX0KKwl9CisKKwlwcml2YXRlIFN0cmluZyBnZXRBcmd1bWVu
dHMoaW50W10gYXJndW1lbnRzKSB7CisJCVN0cmluZ0J1ZmZlciBidWZmZXIgPSBuZXcgU3RyaW5n
QnVmZmVyKCk7CisJCWJ1ZmZlci5hcHBlbmQoJ3snKTsKKwkJZm9yIChpbnQgaSA9IDAsIG1heCA9
IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgeworCQkJaWYgKGkgIT0gMCkgeworCQkJ
CWJ1ZmZlci5hcHBlbmQoTWVzc2FnZXMuZGlzYXNzZW1ibGVyX2NvbW1hKTsKKwkJCX0KKwkJCWJ1
ZmZlci5hcHBlbmQoCisJCQkJTWVzc2FnZXMuYmluZCgKKwkJCQkJTWVzc2FnZXMuZGlzYXNzZW1i
bGVyX2Jvb3RzdHJhcG1ldGhvZGVudHJ5X2FyZ3VtZW50LAorCQkJCQluZXcgU3RyaW5nW10gewor
CQkJCQkJSW50ZWdlci50b1N0cmluZyhhcmd1bWVudHNbaV0pLAorCQkJCQl9KSk7CisJCX0KKwkJ
YnVmZmVyLmFwcGVuZCgnfScpOworCQlyZXR1cm4gU3RyaW5nLnZhbHVlT2YoYnVmZmVyKTsKKwl9
CiAJcHJpdmF0ZSB2b2lkIGRpc2Fzc2VtYmxlKGludCBpbmRleCwgSVBhcmFtZXRlckFubm90YXRp
b24gcGFyYW1ldGVyQW5ub3RhdGlvbiwgU3RyaW5nQnVmZmVyIGJ1ZmZlciwgU3RyaW5nIGxpbmVT
ZXBhcmF0b3IsIGludCB0YWJOdW1iZXIsIGludCBtb2RlKSB7CiAJCUlBbm5vdGF0aW9uW10gYW5u
b3RhdGlvbnMgPSBwYXJhbWV0ZXJBbm5vdGF0aW9uLmdldEFubm90YXRpb25zKCk7CiAJCXdyaXRl
TmV3TGluZShidWZmZXIsIGxpbmVTZXBhcmF0b3IsIHRhYk51bWJlciArIDEpOwpkaWZmIC0tZ2l0
IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2Nv
cmUvdXRpbC9NZXNzYWdlcy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9NZXNzYWdlcy5qYXZhCmluZGV4IDc1ZWNiYWIu
LmZmMWNmODMgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvTWVzc2FnZXMuamF2YQorKysgYi9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29yZS91dGlsL01lc3Nh
Z2VzLmphdmEKQEAgLTI1OSw2ICsyNTksOSBAQCBwdWJsaWMgZmluYWwgY2xhc3MgTWVzc2FnZXMg
ZXh0ZW5kcyBOTFMgewogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9pbm5lcl9h
Y2Nlc3NmbGFnczsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfZ2VuZXJpY2F0
dHJpYnV0ZWhlYWRlcjsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfc2lnbmF0
dXJlYXR0cmlidXRlaGVhZGVyOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9i
b290c3RyYXBtZXRob2RhdHRyaWJ1dGVzaGVhZGVyOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRp
c2Fzc2VtYmxlcl9ib290c3RyYXBtZXRob2RlbnRyeTsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBk
aXNhc3NlbWJsZXJfYm9vdHN0cmFwbWV0aG9kZW50cnlfYXJndW1lbnQ7CiAJcHVibGljIHN0YXRp
YyBTdHJpbmcgZGlzYXNzZW1ibGVyX2luZGVudGF0aW9uOwogCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xpbmRleDsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBk
aXNhc3NlbWJsZXJfc3BhY2U7CkBAIC0yNzgsNiArMjgxLDkgQEAgcHVibGljIGZpbmFsIGNsYXNz
IE1lc3NhZ2VzIGV4dGVuZHMgTkxTIHsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJs
ZXJfY29uc3RhbnRwb29sX21ldGhvZHJlZjsKIAlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3Nl
bWJsZXJfY29uc3RhbnRwb29sX25hbWVfYW5kX3R5cGU7CiAJcHVibGljIHN0YXRpYyBTdHJpbmcg
ZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbF91dGY4OworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRp
c2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kaGFuZGxlOworCXB1YmxpYyBzdGF0aWMgU3Ry
aW5nIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kdHlwZTsKKwlwdWJsaWMgc3RhdGlj
IFN0cmluZyBkaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX2ludm9rZWR5bmFtaWM7CiAJcHVibGlj
IHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX2Fubm90YXRpb25kZWZhdWx0aGVhZGVyOwogCXB1
YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9hbm5vdGF0aW9uZGVmYXVsdHZhbHVlOwog
CXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9hbm5vdGF0aW9uZW51bXZhbHVlOwpA
QCAtMzQ4LDYgKzM1NCwxNiBAQCBwdWJsaWMgZmluYWwgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBO
TFMgewogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9mcmFtZV9zYW1lX2ZyYW1l
OwogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9mcmFtZV9zYW1lX2xvY2Fsc18x
X3N0YWNrX2l0ZW07CiAJcHVibGljIHN0YXRpYyBTdHJpbmcgY29kZV9hc3Npc3RfaW50ZXJuYWxf
ZXJyb3I7CisJCisJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX21ldGhvZF90eXBl
X3JlZl9nZXRmaWVsZDsKKwlwdWJsaWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfbWV0aG9k
X3R5cGVfcmVmX3B1dGZpZWxkOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2VtYmxlcl9t
ZXRob2RfdHlwZV9yZWZfZ2V0c3RhdGljOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRpc2Fzc2Vt
Ymxlcl9tZXRob2RfdHlwZV9yZWZfcHV0c3RhdGljOworCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGRp
c2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tlc3RhdGljOworCXB1YmxpYyBzdGF0aWMg
U3RyaW5nIGRpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tldmlydHVhbDsKKwlwdWJs
aWMgc3RhdGljIFN0cmluZyBkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX2ludm9rZXNwZWNp
YWw7CisJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX21ldGhvZF90eXBlX3JlZl9p
bnZva2VpbnRlcmZhY2U7CisJcHVibGljIHN0YXRpYyBTdHJpbmcgZGlzYXNzZW1ibGVyX21ldGhv
ZF90eXBlX3JlZl9uZXdpbnZva2VzcGVjaWFsOwogCiAJc3RhdGljIHsKIAkJTkxTLmluaXRpYWxp
emVNZXNzYWdlcyhCVU5ETEVfTkFNRSwgTWVzc2FnZXMuY2xhc3MpOwpkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRp
bC9tZXNzYWdlcy5wcm9wZXJ0aWVzIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvbW9kZWwvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvcmUvdXRpbC9tZXNzYWdlcy5wcm9wZXJ0aWVzCmluZGV4IGU3
NWU1NmIuLjVhZjg4ZGIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL21vZGVsL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb3JlL3V0aWwvbWVzc2FnZXMucHJvcGVydGllcworKysg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9tb2RlbC9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29y
ZS91dGlsL21lc3NhZ2VzLnByb3BlcnRpZXMKQEAgLTI4NSw2ICsyODUsOSBAQCBkaXNhc3NlbWJs
ZXJfZ2VuZXJpY2F0dHJpYnV0ZWhlYWRlciA9IEF0dHJpYnV0ZTogezB9IExlbmd0aDogezF9CiBk
aXNhc3NlbWJsZXJfc3RhY2ttYXB0YWJsZWF0dHJpYnV0ZWhlYWRlciA9IFN0YWNrIG1hcCB0YWJs
ZTogbnVtYmVyIG9mIGZyYW1lcyB7MH0KIGRpc2Fzc2VtYmxlcl9zdGFja21hcGF0dHJpYnV0ZWhl
YWRlciA9ICBTdGFjayBtYXAgOiBudW1iZXIgb2YgZnJhbWVzIHswfQogZGlzYXNzZW1ibGVyX3Np
Z25hdHVyZWF0dHJpYnV0ZWhlYWRlciA9IC8vIFNpZ25hdHVyZTogezB9CitkaXNhc3NlbWJsZXJf
Ym9vdHN0cmFwbWV0aG9kYXR0cmlidXRlc2hlYWRlciA9IEJvb3RzdHJhcCBtZXRob2RzOgorZGlz
YXNzZW1ibGVyX2Jvb3RzdHJhcG1ldGhvZGVudHJ5ID0gezB9IDogIyB7MX0gYXJndW1lbnRzOiB7
Mn0KK2Rpc2Fzc2VtYmxlcl9ib290c3RyYXBtZXRob2RlbnRyeV9hcmd1bWVudCA9ICN7MH0KIGRp
c2Fzc2VtYmxlcl9pbmRlbnRhdGlvbiA9IFwgIAogZGlzYXNzZW1ibGVyX2NvbnN0YW50cG9vbGlu
ZGV4ID1cICMKIGRpc2Fzc2VtYmxlcl9zcGFjZSA9IFwgCkBAIC0zMDQsNiArMzA3LDkgQEAgZGlz
YXNzZW1ibGVyX2NvbnN0YW50cG9vbF9pbnRlcmZhY2VtZXRob2RyZWYgPSBjb25zdGFudCAjezB9
IGludGVyZmFjZV9tZXRob2RfcmUKIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kcmVm
ID0gY29uc3RhbnQgI3swfSBtZXRob2RfcmVmOiAjezF9LiN7Mn0gezN9Lns0fSB7NX0KIGRpc2Fz
c2VtYmxlcl9jb25zdGFudHBvb2xfbmFtZV9hbmRfdHlwZSA9IGNvbnN0YW50ICN7MH0gbmFtZV9h
bmRfdHlwZTogI3sxfS4jezJ9IHszfSB7NH0KIGRpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfdXRm
OCA9IGNvbnN0YW50ICN7MH0gdXRmODogInsxfSIKK2Rpc2Fzc2VtYmxlcl9jb25zdGFudHBvb2xf
bWV0aG9kaGFuZGxlID0gY29uc3RhbnQgI3swfSBtZXRob2QgaGFuZGxlOiB7MX0gI3syfSAKK2Rp
c2Fzc2VtYmxlcl9jb25zdGFudHBvb2xfbWV0aG9kdHlwZSA9IGNvbnN0YW50ICN7MH0gbWV0aG9k
IHR5cGU6ICN7MX0gezJ9CitkaXNhc3NlbWJsZXJfY29uc3RhbnRwb29sX2ludm9rZWR5bmFtaWMg
PSBjb25zdGFudCAjezB9IGludm9rZSBkeW5hbWljOiAjezF9ICN7Mn0gezN9IHs0fQogZGlzYXNz
ZW1ibGVyX2Fubm90YXRpb25kZWZhdWx0aGVhZGVyID0gQW5ub3RhdGlvbiBEZWZhdWx0OlwgCiBk
aXNhc3NlbWJsZXJfYW5ub3RhdGlvbmRlZmF1bHR2YWx1ZT0gezB9IChjb25zdGFudCB0eXBlKQog
ZGlzYXNzZW1ibGVyX2Fubm90YXRpb25lbnVtdmFsdWUgPSB7Mn0uezN9KGVudW0gdHlwZSAjezB9
LiN7MX0pCkBAIC0zMjMsNiArMzI5LDE1IEBAIGRpc2Fzc2VtYmxlcl9mcmFtZV9zYW1lX2xvY2Fs
c18xX3N0YWNrX2l0ZW1fZXh0ZW5kZWQ9W3BjOiB7MH0sIHNhbWVfbG9jYWxzXzFfc3RhCiBkaXNh
c3NlbWJsZXJfZnJhbWVfY2hvcD1bcGM6IHswfSwgY2hvcCB7MX0gbG9jYWwocyldCiBkaXNhc3Nl
bWJsZXJfZnJhbWVfc2FtZV9mcmFtZV9leHRlbmRlZD1bcGM6IHswfSwgc2FtZV9leHRlbmRlZF0K
IGRpc2Fzc2VtYmxlcl9mcmFtZV9hcHBlbmQ9W3BjOiB7MH0sIGFwcGVuZDogezF9XQorZGlzYXNz
ZW1ibGVyX21ldGhvZF90eXBlX3JlZl9nZXRmaWVsZCA9IGdldGZpZWxkICh7MH0pCitkaXNhc3Nl
bWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dGZpZWxkID0gcHV0ZmllbGQgKHswfSkKK2Rpc2Fzc2Vt
Ymxlcl9tZXRob2RfdHlwZV9yZWZfZ2V0c3RhdGljID0gZ2V0c3RhdGljICh7MH0pCitkaXNhc3Nl
bWJsZXJfbWV0aG9kX3R5cGVfcmVmX3B1dHN0YXRpYyA9IHB1dHN0YXRpYyAoezB9KQorZGlzYXNz
ZW1ibGVyX21ldGhvZF90eXBlX3JlZl9pbnZva2VzdGF0aWMgPSBpbnZva2VzdGF0aWMgKHswfSkK
K2Rpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tldmlydHVhbCA9IGludm9rZXZpcnR1
YWwgKHswfSkKK2Rpc2Fzc2VtYmxlcl9tZXRob2RfdHlwZV9yZWZfaW52b2tlaW50ZXJmYWNlID0g
aW52b2tlaW50ZXJmYWNlICh7MH0pCitkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVfcmVmX2ludm9r
ZXNwZWNpYWwgPSBpbnZva2VzcGVjaWFsICh7MH0pCitkaXNhc3NlbWJsZXJfbWV0aG9kX3R5cGVf
cmVmX25ld2ludm9rZXNwZWNpYWwgPSBuZXdpbnZva2VzcGVjaWFsICh7MH0pCiAjIHswfSA9IG9m
ZnNldCBkZWx0YQogIyB7MX0gPSBudW1iZXIgb2YgbG9jYWxzCiAjIHsyfSA9IGxvY2FscwpAQCAt
MzU4LDcgKzM3Myw3IEBAIGNsYXNzZm9ybWF0X25ldyA9IHswfSB7Mn0gW3sxfV0KIGNsYXNzZm9y
bWF0X2lpbmMgPSB7MH0gezF9IHsyfXszfQogY2xhc3Nmb3JtYXRfaW52b2tlc3BlY2lhbCA9ezB9
IHsyfSBbezF9XQogY2xhc3Nmb3JtYXRfaW52b2tlaW50ZXJmYWNlID17MH0gezN9IFt7MX1dIFtu
YXJnczogezJ9XQotY2xhc3Nmb3JtYXRfaW52b2tlZHluYW1pYz17MH0gezJ9IFt7MX1dCitjbGFz
c2Zvcm1hdF9pbnZva2VkeW5hbWljPXswfSB7Mn0gezN9IFt7MX1dCiBjbGFzc2Zvcm1hdF9pbnZv
a2VzdGF0aWMgPXswfSB7Mn0gW3sxfV0KIGNsYXNzZm9ybWF0X2ludm9rZXZpcnR1YWwgPXswfSB7
Mn0gW3sxfV0KIGNsYXNzZm9ybWF0X2dldGZpZWxkID17MH0gezJ9LnszfSA6IHs0fSBbezF9XQot
LSAKMS43LjYubXN5c2dpdC4wCgo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>204639</attachid>
            <date>2011-10-05 16:57:00 -0400</date>
            <delta_ts>2011-10-05 16:57:21 -0400</delta_ts>
            <desc>Sample of G.class that is using some of the new constant pool entries</desc>
            <filename>G.class</filename>
            <type>application/octet-stream</type>
            <size>311</size>
            <attacher name="Olivier Thomann">Olivier_Thomann</attacher>
            
              <data encoding="base64">yv66vgAAADMAFAEAAUcHAAEBABBqYXZhL2xhbmcvT2JqZWN0BwADAQAEY2FsbAEAAygpVgEAAU0H
AAcBAAlib290c3RyYXABAHQoTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7
TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtJKUxqYXZhL2xh
bmcvaW52b2tlL0NhbGxTaXRlOwwACQAKCgAIAAsPBgAMAwAAAAEBAANkeW4MAA8ABhIAAAAQAQAE
Q29kZQEAEEJvb3RzdHJhcE1ldGhvZHMAAQACAAQAAAAAAAEACQAFAAYAAQASAAAAEgAAAAAAAAAG
ugARAACxAAAAAAABABMAAAAIAAEADQABAA4=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>204649</attachid>
            <date>2011-10-06 00:58:00 -0400</date>
            <delta_ts>2011-10-06 00:58:57 -0400</delta_ts>
            <desc>Class file that should contain the methodtype constant pool</desc>
            <filename>G.class</filename>
            <type>application/java-vm</type>
            <size>324</size>
            <attacher name="Sebastian Sickelmann">sebastian.sickelmann</attacher>
            
              <data encoding="base64">yv66vgAAAC4AFQMAAAABAQADKClWAQB0KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMk
TG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7SSlM
amF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTsBAARDb2RlAQAJYm9vdHN0cmFwAQAEY2FsbAEAA2R5
bgEAEGphdmEvbGFuZy9PYmplY3QBAAZ0ZXN0L0cBAAZ0ZXN0L00HAAgHAAkHAAoMAAUAAwwABwAC
CgANAA4PBgAQEgAAAA8QAAcBABBCb290c3RyYXBNZXRob2RzAAEADAALAAAAAAABAAkABgACAAEA
BAAAABIAAAAAAAAABroAEgAAsQAAAAAAAQAUAAAACAABABEAAQAB
</data>

          </attachment>
      

    </bug>

</bugzilla>