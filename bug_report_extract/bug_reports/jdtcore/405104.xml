<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.7"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>405104</bug_id>
          
          <creation_ts>2013-04-07 07:28:00 -0400</creation_ts>
          <short_desc>[1.8][compiler][codegen] Implement support for serializeable lambdas</short_desc>
          <delta_ts>2014-01-13 00:31:35 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>JDT</product>
          <component>Core</component>
          <version>4.3</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>BETA J8</target_milestone>
          <dependson>405066</dependson>
          <blocked>400875</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Srikanth Sankaran">srikanth_sankaran</reporter>
          <assigned_to name="Andrew Clement">aclement</assigned_to>
          <cc>jarthana</cc>
    
    <cc>shankhba</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>2240621</commentid>
    <comment_count>0</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-04-07 07:28:16 -0400</bug_when>
    <thetext>BETA_JAVA8:

This ER will be used to implement track support for serializeable lambdas.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2313336</commentid>
    <comment_count>1</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-10-02 06:58:41 -0400</bug_when>
    <thetext>Andy, this is another where we could use some help. The subject has serializability and lambdas have seen so much discussion and many things
have changed back and forth. We need to understand where things stand
at the spec and RI level and start from there. Thanks.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2342636</commentid>
    <comment_count>2</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2013-12-17 04:32:11 -0500</bug_when>
    <thetext>Once this is implemented, please see if https://bugs.eclipse.org/bugs/show_bug.cgi?id=424211 is a duplicate. Very likely.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2342926</commentid>
    <comment_count>3</comment_count>
      <attachid>238410</attachid>
    <who name="Andrew Clement">aclement</who>
    <bug_when>2013-12-17 13:16:22 -0500</bug_when>
    <thetext>Created attachment 238410
work in progress

Initial work-in-progress patch that causes the compiler to generate the $deserializeLambda$ method when a class contains serializable lambdas. More notes to follow</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2342933</commentid>
    <comment_count>4</comment_count>
    <who name="Andrew Clement">aclement</who>
    <bug_when>2013-12-17 13:28:17 -0500</bug_when>
    <thetext>Changes in the patch and what is/isnt done:

- when a lambda expression is resolved, we mark whether it is serializable. TODO Intersection casts are not yet handled here.

- The altMetafactory bootstrap method entries are generated for serialized lambdas (as opposed to the regular meta factory). TODO marker interfaces not yet handled which also need to use the altMetafactory - I suspect this is possibly a problem for our non serialized lambdas too, that are using intersection casts, since the altMetafactory call is the one where you can express marker interfaces.

- New $deserializedLambda$ method created that handles deserialization of a SerializedLambda object. Very complex code gen compared to the typical bridge/synthetic methods.  Ours is deliberately the same as what javac creates (b118/b120).  With two big switch statements and then a lot of checking of lambda fields before finally calling invokedynamic on the altMetafactory.

- New tests in SerializableLambdaTest. Note 2 of the tests fail but I *think* this is a JVM thing as the same code fails for javac.  Both failing tests are capturing the instance containing the lambda (e.g. referencing/capturing an instance field)

- Lots of supporting constants and helpers added here and there to support code generation.

more todos

- the names generated for lambdas by javac are more sophisticated than ours. There is an article in one of the mailing lists about their new scheme that we should also use (based on hashing captured information and containing methods for the lambda).

This patch is not in finished state but if anyone wants to look at it or try it, feedback welcome.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2344390</commentid>
    <comment_count>5</comment_count>
      <attachid>238522</attachid>
    <who name="Andrew Clement">aclement</who>
    <bug_when>2013-12-20 14:11:48 -0500</bug_when>
    <thetext>Created attachment 238522
Latest version of the patch to support serialized lambdas

This is a new version of the patch. There are more testcases and it includes more fixes:

- intersection casts for lambdas are now supported correctly. We no longer assume that the first entry in an intersection cast is the SAM type, we work out which one it is (if there is one!). Using intersection casts (regardless of whether the lambda is serializable) requires the use of altMetaFactory for lambda construction, since that can be passed additional marker interfaces - this is all now working too.

Path walk through:

- SerializableLambdaTest
new tests for serializing lambdas. Note two tests are commented out (the test methods have an x prefix) - these are valid tests but fail with what looks like a JVM issue because the same code fails in the same way when compile with javac. The tests verify the structure of the new $deserializeLambda$ generated method, the structure of bootstrap attributes and the lambda generated names.

- RunOnlyJava8Tests
new serializable lambda tests added

- ClassFile
New SyntheticMethodBinding variant for the $deserializeLambda$ method.
Bootstrap method generation altered to use metafactory/altmetafactory - also preserves marker interfaces from intersection casts.
Due to the complexity of the code in $deserializeLambda$ (branching) in order to keep the stack map computation code happy the local variable bindings are setup for synthetic bindings.

- FunctionalExpression
keeps track of the bootstrap method supporting it.

- LambdaExpression
New boolean indicating serializable and some code to determine it during resolution.
New getMarkerInterfaces() that, for intersectioncast lambdas, determines the subset of cast types that are not the SAM and not Serializable (since the latter is handled by a bitflag).

- ClassFileConstants
Added new bitflag values to support the options to altMetafactory

- CodeStream
New complex code for generating the body of $deserializeLambda$, intended to produce similar bytecode to javac.

- ConstantPool
New constants to support the new code generation.

- IntersectionCastTypeBinding
Added getSAMType helper - right place for this?

- Scope
Added some helper methods to support code generation.

- SourceTypeBinding
Recording info about $deserializeLambda$ synthetic method

- SyntheticMethodBinding
Constructor for $deserializeLambda$ synthetic.

- TypeConstants
New entries to support code generation.

----
What is not done?
This patch works as-is. The remaining work would be to alter the name generation policy for our lambdas. The names we have are a little fragile, especially for (de)serialization since they make it relatively easy to deserialize something as the wrong thing. A new naming scheme would include a hash of the context around the lambda: the enclosing method/signature where applicable, the captured variables and, when assignment occurs, the name of the variable to which it is assigned.  I propose we tackle this in another issue.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2347259</commentid>
    <comment_count>6</comment_count>
      <attachid>238804</attachid>
    <who name="shankha banerjee">shankhba</who>
    <bug_when>2014-01-09 01:44:17 -0500</bug_when>
    <thetext>Created attachment 238804
Modified Patch which can be integrated into latest code

Test results for SerializableLambdaTest are green.

---------------------------------------------------------------------

I have changed the copyright of all the files to 2014  and few indentation issues.

---------------------------------------------------------------------

The compilation results in two erros:

Description	Resource	Path	Location	Type
StringBuilder cannot be resolved to a type	SerializableLambdaTest.java	/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression	line 1141	Java Problem
StringBuilder cannot be resolved to a type	SerializableLambdaTest.java	/org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression	line 1141	Java Problem

Have modified StringBuilder to StringBuffer.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2348662</commentid>
    <comment_count>7</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-01-13 00:28:36 -0500</bug_when>
    <thetext>Thanks for the implementation Andy, Released here: http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/commit/?h=BETA_JAVA8&amp;id=a55be3089b1474701c6009071b6792ce21fce5bc.

Will test some more and raise follow up defects for any issues found.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>2348664</commentid>
    <comment_count>8</comment_count>
    <who name="Srikanth Sankaran">srikanth_sankaran</who>
    <bug_when>2014-01-13 00:31:35 -0500</bug_when>
    <thetext>*** Bug 424211 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>238410</attachid>
            <date>2013-12-17 13:16:00 -0500</date>
            <delta_ts>2013-12-20 14:11:48 -0500</delta_ts>
            <desc>work in progress</desc>
            <filename>0001-1.8-Bug405104-Supporting-serializable-lambdas.patch</filename>
            <type>text/plain</type>
            <size>72109</size>
            <attacher name="Andrew Clement">aclement</attacher>
            
              <data encoding="base64">RnJvbSBmZTNkNzVhZGE4YTg2ZjI5ZmFiMDM4YTJiNGU2OWU3ZTRjNzdkNTA2IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBBbmR5IENsZW1lbnQgPGFjbGVtZW50QGdvcGl2b3RhbC5jb20+
CkRhdGU6IFR1ZSwgMTcgRGVjIDIwMTMgMDk6NDU6MjEgLTA4MDAKU3ViamVjdDogW1BBVENIXSBb
MS44XSBCdWc0MDUxMDQ6IFN1cHBvcnRpbmcgc2VyaWFsaXphYmxlIGxhbWJkYXMKCi0tLQogLi4u
L3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhICAgICAgICAgfCA2ODYgKysr
KysrKysrKysrKysrKysrKysrCiAuLi4vZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2
YThUZXN0cy5qYXZhICB8ICAgMiArCiAuLi4vZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
Q2xhc3NGaWxlLmphdmEgICB8IDEzNyArKystCiAuLi4vY29tcGlsZXIvYXN0L0Z1bmN0aW9uYWxF
eHByZXNzaW9uLmphdmEgICAgICAgICB8ICAgMSArCiAuLi4vaW50ZXJuYWwvY29tcGlsZXIvYXN0
L0xhbWJkYUV4cHJlc3Npb24uamF2YSAgICB8ICAgNyArLQogLi4uL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSAgfCAzNTIgKysrKysrKysrKysKIC4uLi9pbnRl
cm5hbC9jb21waWxlci9jb2RlZ2VuL0NvbnN0YW50UG9vbC5qYXZhICAgIHwgIDIzICsKIC4uLi9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1Njb3BlLmphdmEgICAgICAgIHwgIDEzICsKIC4u
Li9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YSAgICAgICAgIHwgIDExICsK
IC4uLi9jb21waWxlci9sb29rdXAvU3ludGhldGljTWV0aG9kQmluZGluZy5qYXZhICAgIHwgIDE4
ICsKIC4uLi9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvVHlwZUNvbnN0YW50cy5qYXZhICAgIHwg
ICAyICsKIDExIGZpbGVzIGNoYW5nZWQsIDEyMjkgaW5zZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25z
KC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGls
ZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vU2Vy
aWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCgpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNv
cmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVy
L3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhIGIvb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBp
bGVyL3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCm5ldyBmaWxlIG1vZGUg
MTAwNjQ0CmluZGV4IDAwMDAwMDAuLmMzNGM1Y2EKLS0tIC9kZXYvbnVsbAorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvY29tcGlsZXIvcmVncmVzc2lvbi9TZXJpYWxpemFibGVMYW1iZGFUZXN0LmphdmEKQEAgLTAs
MCArMSw2ODYgQEAKKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCisgKiBDb3B5cmlnaHQgKGMpIDIw
MTMgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBU
aGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCisgKiBhcmUgbWFkZSBh
dmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYx
LjAKKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxh
YmxlIGF0CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbAorICoK
KyAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYW4gZWFybHktZHJhZnQgc3BlY2lmaWNh
dGlvbiBkZXZlbG9wZWQgdW5kZXIgdGhlIEphdmEKKyAqIENvbW11bml0eSBQcm9jZXNzIChKQ1Ap
IGFuZCBpcyBtYWRlIGF2YWlsYWJsZSBmb3IgdGVzdGluZyBhbmQgZXZhbHVhdGlvbiBwdXJwb3Nl
cworICogb25seS4gVGhlIGNvZGUgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBhbnkgc3BlY2lmaWNh
dGlvbiBvZiB0aGUgSkNQLgorICogCisgKiBDb250cmlidXRvcnM6CisgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uCisgKiAgICAgICAgQW5keSBD
bGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1
dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDM4MzYyNCAtIFsxLjhd
W2NvbXBpbGVyXSBSZXZpdmUgY29kZSBnZW5lcmF0aW9uIHN1cHBvcnQgZm9yIHR5cGUgYW5ub3Rh
dGlvbnMgKGZyb20gT2xpdmllcidzIHdvcmspCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAg
QnVnIDQwOTIzNiAtIFsxLjhdW2NvbXBpbGVyXSBUeXBlIGFubm90YXRpb25zIG9uIGludGVyc2Vj
dGlvbiBjYXN0IHR5cGVzIGRyb3BwZWQgYnkgY29kZSBnZW5lcmF0b3IKKyAqICAgICAgICAgICAg
ICAgICAgICAgICAgICBCdWcgNDA5MjQ2IC0gWzEuOF1bY29tcGlsZXJdIFR5cGUgYW5ub3RhdGlv
bnMgb24gY2F0Y2ggcGFyYW1ldGVycyBub3QgaGFuZGxlZCBwcm9wZXJseQorICogICAgICAgICAg
ICAgICAgICAgICAgICAgIEJ1ZyA0MDk1MTcgLSBbMS44XVtjb21waWxlcl0gVHlwZSBhbm5vdGF0
aW9uIHByb2JsZW1zIG9uIG1vcmUgZWxhYm9yYXRlIGFycmF5IHJlZmVyZW5jZXMKKyAqICAgICAg
ICAgICAgICAgICAgICAgICAgICBCdWcgNDE1ODIxIC0gWzEuOF1bY29tcGlsZXJdIENMQVNTX0VY
VEVORFMgdGFyZ2V0IHR5cGUgYW5ub3RhdGlvbiBtaXNzaW5nIGZvciBhbm9ueW1vdXMgY2xhc3Nl
cworICogICAgICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBDb250cmlidXRpb24gZm9yCisgKgkJCQkJ
CQlCdWcgNDE1OTExIC0gWzEuOF1bY29tcGlsZXJdIE5QRSB3aGVuIFRZUEVfVVNFIGFubm90YXRl
ZCBtZXRob2Qgd2l0aCBtaXNzaW5nIHJldHVybiB0eXBlCisgKgkJCQkJCQlCdWcgNDE2MTc2IC0g
WzEuOF1bY29tcGlsZXJdW251bGxdIG51bGwgdHlwZSBhbm5vdGF0aW9ucyBjYXVzZSBncmllZiBv
biB0eXBlIHZhcmlhYmxlcworICogICAgICAgICBKZXNwZXIgUyBNb2xsZXIgLSBDb250cmlidXRp
b25zIGZvcgorICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MTY4ODUgLSBbMS44XVtj
b21waWxlcl1JbmNvbXBhdGlibGVDbGFzc0NoYW5nZSBlcnJvciAoZWRpdCkKKyAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxl
ci5yZWdyZXNzaW9uOworCitpbXBvcnQgamF2YS5pby5GaWxlOworaW1wb3J0IGphdmEudXRpbC5N
YXA7CisKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5Ub29sRmFjdG9yeTsKK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklCb290c3RyYXBNZXRob2RzRW50cnk7CitpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQ2xhc3NGaWxlQXR0cmlidXRlOworaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNsYXNzRmlsZVJlYWRlcjsKK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZHQuY29yZS51dGlsLklDb25zdGFudFBvb2w7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUudXRpbC5JQ29uc3RhbnRQb29sQ29uc3RhbnQ7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUudXRpbC5JQ29uc3RhbnRQb29sRW50cnk7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUudXRpbC5JQ29uc3RhbnRQb29sRW50cnkyOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRl
cm5hbC5jb21waWxlci5pbXBsLkNvbXBpbGVyT3B0aW9uczsKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuaW50ZXJuYWwuY29yZS51dGlsLkJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGU7CisKK2ltcG9y
dCBqdW5pdC5mcmFtZXdvcmsuVGVzdDsKKworcHVibGljIGNsYXNzIFNlcmlhbGl6YWJsZUxhbWJk
YVRlc3QgZXh0ZW5kcyBBYnN0cmFjdFJlZ3Jlc3Npb25UZXN0IHsKKworCXN0YXRpYyB7CisvLwkJ
VEVTVFNfTlVNQkVSUyA9IG5ldyBpbnQgW10geyA0MCB9OworLy8JCVRFU1RTX05BTUVTID0gbmV3
IFN0cmluZ1tdIHsgInRlc3RUeXBlVmFyaWFibGUiIH07CisJfQorCQorCXB1YmxpYyBzdGF0aWMg
Q2xhc3MgdGVzdENsYXNzKCkgeworCQlyZXR1cm4gU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5jbGFz
czsKKwl9CisJcHVibGljIHN0YXRpYyBUZXN0IHN1aXRlKCkgeworCQlyZXR1cm4gYnVpbGRNaW5p
bWFsQ29tcGxpYW5jZVRlc3RTdWl0ZSh0ZXN0Q2xhc3MoKSwgRl8xXzgpOworCX0KKwlwdWJsaWMg
U2VyaWFsaXphYmxlTGFtYmRhVGVzdChTdHJpbmcgdGVzdE5hbWUpeworCQlzdXBlcih0ZXN0TmFt
ZSk7CisJfQorCisJLy8gRW5hYmxlcyB0aGUgdGVzdHMgdG8gcnVuIGluZGl2aWR1YWxseQorCXBy
b3RlY3RlZCBNYXAgZ2V0Q29tcGlsZXJPcHRpb25zKCkgeworCQlNYXAgZGVmYXVsdE9wdGlvbnMg
PSBzdXBlci5nZXRDb21waWxlck9wdGlvbnMoKTsKKwkJZGVmYXVsdE9wdGlvbnMucHV0KENvbXBp
bGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5jZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05fMV84
KTsKKwkJZGVmYXVsdE9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fU291cmNlLCBD
b21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlkZWZhdWx0T3B0aW9ucy5wdXQoQ29tcGls
ZXJPcHRpb25zLk9QVElPTl9UYXJnZXRQbGF0Zm9ybSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05f
MV84KTsKKwkJcmV0dXJuIGRlZmF1bHRPcHRpb25zOworCX0KKwkKKy8vCUkgaGF2ZSBub3QgZnVs
bHkgc3R1ZGllZC91bmRlcnN0b29kIHRoZSBwcm9ibGVtLCBidXQgaGVyZSBhcmUgc29tZSAKKy8v
CXN1Yi10YXNrczogCisvLworLy8JMS4gUmVjb2duaXppbmcgc2VyaWFsaXphYmxlIGxhbWJkYXM6
IFRvZGF5IExFIGRvZXMgbm90IGtub3cgd2hlbiAKKy8vCWl0IGlzIHN1cHBvc2VkIHRvIGJlIHNl
cmlhbGl6YWJsZS4gRHVyaW5nIExFLnJlc29sdmVUeXBlKCkgd2UgbmVlZCAKKy8vCXRvIHRhZyBp
dCBhcyBiZWluZyBzZXJpYWxpemFibGUgaWYgCisvLworLy8JKGEpIHRoZSBzYW0gdHlwZSBpdHNl
bGYgbWF5IGJlIHNlcmlhbGl6YWJsZS4gCisvLwkoYikgT3IgdGhlIG5ldyBpbnRlcnNlY3Rpb24g
Y2FzdCAKKy8vCisvLwkoU2FtVHlwZSAmIFNlcmlhbGl6YWJsZSkgKCktPiB7fSBzeW50YXggc2ln
bmFscyBpdC4gVGFrZSBhIGxvb2sgCisvLwlhdCBJbnRlcnNlY3Rpb25DYXN0VHlwZVJlZmVyZW5j
ZSBhbmQgSW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nLiAKKy8vCVdlIG1heSB3YW50IHRvIGFk
ZCBhbiBBUEkgUmVmZXJlbmNlQmluZGluZy5pc1NlcmlhbGl6YWJsZSBvciBzaW1wbHkgCisvLwlj
YXN0IHRoZSBleHBlY3RlZCB0eXBlIHRvIEludGVyc2VjdGlvbkNhc3RUeXBlQmluZGluZyB3aGVu
IHNhZmUgdG8gCisvLwlkbyBzbyBhbmQgcGVlayBhdCB0aGUgdHlwZXMgaW52b2x2ZWQuIAorLy8K
Ky8vCTIuIFNlcmlhbGl6YWJsZSBsYW1iZGEncyBuZWVkIHRvIGJlIGNyZWF0ZWQgdmlhIGRpZmZl
cmVudCBBUElzIGluIHRoZSAKKy8vCWxhbWJkYSBtZXRhIGZhY3RvcnkuIExvb2sgYXQgdGhlIHBy
ZXNlbnQgbWV0YSBmYWN0b3J5IHVzYWdlcyBpbiBjb2RlIAorLy8JZ2VuZXJhdGlvbi4gCisvLwor
Ly8JMy4gU3RhcnQgd2l0aCB0aGUgamF2YWRvY3MgZnJvbSB0aGUgKmxhdGVzdCogSlJFJ3MgamF2
YS5sYW5nLmludm9rZS5MYW1iZGFNZXRhZmFjdG9yeSAKKy8vCUl0IGdpdmVzIHJlZmVyZW5jZXMg
dG8gdHlwZXMgaW52b2x2ZWQuIAorLy8KKy8vCTQuIENvZGUgZ2VuZXJhdGlvbjogQXBhcnQgZnJv
bSB1c2luZyBhbHRlcm5hdGUgQVBJcyB0byBjcmVhdGUgdGhlIGxhbWJkYSwgCisvLwl0aGUgY29k
ZSBnZW5lcmF0ZWQgYnkgdXMgc2hvdWxkIGFsc28gaGF2ZSB2YXJpb3VzIGhlbHBlciBtZXRob2Rz
LiAKKy8vCUphdmFkb2MgKyBsb29raW5nIGF0IGphdmFjIGNvZGUgZ2VuZXJhdGlvbiBzaG91bGQg
ZmlsbCB5b3UgaW4gb24gdGhlIGRldGFpbHMuIAorLy8KKy8vCTUuIEhlcmUgaXMgc29tZXRoaW5n
IHRvIGJyb3dzZSB0aHJvdWdoOiAKKy8vCisvLwlodHRwczovL3d3dy5nb29nbGUuY28uaW4vc2Vh
cmNoP3E9bGFtYmRhK3NlcmlhbGl6YXRpb24rK3NpdGUlM0FodHRwJTNBJTJGJTJGbWFpbC5vcGVu
amRrLmphdmEubmV0JTJGcGlwZXJtYWlsJTJGbGFtYmRhLXNwZWMtZXhwZXJ0cyZvcT1sYW1iZGEr
c2VyaWFsaXphdGlvbisrc2l0ZSUzQWh0dHAlM0ElMkYlMkZtYWlsLm9wZW5qZGsuamF2YS5uZXQl
MkZwaXBlcm1haWwlMkZsYW1iZGEtc3BlYy1leHBlcnRzJmFxcz1jaHJvbWUuLjY5aTU3Ljg4MzBq
MGo3JnNvdXJjZWlkPWNocm9tZSZlc3B2PTIxMCZlc19zbT05MyZpZT1VVEYtOCAKKy8vCisvLwk2
LiBUaGlzIGRvY3VtZW50IGlzIG91dGRhdGVkLCBidXQgc2hvdWxkIGJlIHVzZWZ1bDogCisvLwor
Ly8JaHR0cDovL2NyLm9wZW5qZGsuamF2YS5uZXQvfmJyaWFuZ29ldHovbGFtYmRhL2xhbWJkYS10
cmFuc2xhdGlvbi5odG1sIAorLy8KKy8vCWhhdmUgZnVuLCBkb24ndCBoZXNpdGF0ZSB0byBhc2sg
Zm9yIGFueXRoaW5nIHlvdSBuZWVkIGZyb20gbXkgc2lkZS4gCisJCisJcHVibGljIHN0YXRpYyBm
aW5hbCBTdHJpbmcgUlVOTkVSX0NMQVNTID0gCisJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKworCQki
ICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCSIgICAgY29t
LmZvby5YLm1haW4oYXJncyk7XG4iKworCQkiICB9XG4iKworCQkifSI7CisJCisJcHJpdmF0ZSBz
dGF0aWMgZmluYWwgU3RyaW5nIEhFTFBFUl9DTEFTUyA9CisJCSJwYWNrYWdlIHV0aWw7XG4iKwor
CQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCSJwdWJsaWMgY2xhc3MgSGVscGVyIHtcbiIrCisJ
CSJwdWJsaWMgc3RhdGljIHZvaWQgcHJpbnQoT2JqZWN0IG8gKSB7U3lzdGVtLmVyci5wcmludGxu
KG8pO31cbiIrCisJICAgICJzdGF0aWMgYnl0ZVtdW10gZGF0YTtcbiIrCisJICAgICJcbiIrCisJ
ICAgICJwdWJsaWMgc3RhdGljIHZvaWQgd3JpdGUoT2JqZWN0IG8pIHsgd3JpdGUoMCxvKTsgfVxu
IisKKwkgICAgInB1YmxpYyBzdGF0aWMgdm9pZCB3cml0ZShpbnQgaSwgT2JqZWN0IG8pIHtcbiIr
CisJICAgICIgICAgaWYgKGRhdGE9PW51bGwpIGRhdGE9bmV3IGJ5dGVbMTBdW107XG4iKworCSAg
ICAiICAgIHRyeSB7XG4iKworCSAgICAiICAgICAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gYmFv
cyA9IG5ldyBCeXRlQXJyYXlPdXRwdXRTdHJlYW0oKTtcbiIrCisJICAgICIgICAgICAgIE9iamVj
dE91dHB1dFN0cmVhbSBvb3MgPSBuZXcgT2JqZWN0T3V0cHV0U3RyZWFtKGJhb3MpO1xuIisKKwkg
ICAgIiAgICAgICAgb29zLndyaXRlT2JqZWN0KG8pO1xuIisKKwkgICAgIiAgICAgICAgb29zLmZs
dXNoKCk7XG4iKworCSAgICAiICAgICAgICBvb3MuY2xvc2UoKTtcbiIrCisJICAgICIgICAgICAg
IGRhdGFbaV0gPSBiYW9zLnRvQnl0ZUFycmF5KCk7XG4iKworCSAgICAiICAgIH0gY2F0Y2ggKEV4
Y2VwdGlvbiBlKSB7XG4iKworCSAgICAiICAgIH1cbiIrCisJICAgICJ9XG4iKworCSAgICAiXG4i
KworCSAgICAicHVibGljIHN0YXRpYyBPYmplY3QgcmVhZCgpIHsgcmV0dXJuIHJlYWQoMCk7IH1c
biIrCisJICAgICJwdWJsaWMgc3RhdGljIE9iamVjdCByZWFkKGludCBpKSB7XG4iKworCSAgICAi
ICAgIHRyeSB7XG4iKworCSAgICAiICAgICAgICBCeXRlQXJyYXlJbnB1dFN0cmVhbSBiYWlzID0g
bmV3IEJ5dGVBcnJheUlucHV0U3RyZWFtKGRhdGFbaV0pO1xuIisKKwkgICAgIiAgICAgICAgT2Jq
ZWN0SW5wdXRTdHJlYW0gb2lzID0gbmV3IE9iamVjdElucHV0U3RyZWFtKGJhaXMpO1xuIisKKwkg
ICAgIiAgICAgICAgT2JqZWN0IG8gPSBvaXMucmVhZE9iamVjdCgpO1xuIisKKwkgICAgIiAgICAg
ICAgb2lzLmNsb3NlKCk7XG4iKworCSAgICAiICAgICAgICByZXR1cm4gbztcbiIrCisJICAgICIg
ICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiIrCisJICAgICIgICAgfVxuIisKKwkgICAgIiAg
ICByZXR1cm4gbnVsbDtcbiIrCisJICAgICJ9XG4iKworCQkifVxuIjsJCisKKwkvKioKKwkgKiBW
ZXJpZmllcyB0aGF0IGFmdGVyIGRlc2VyaWFsaXppbmcgaXQgaXMgdXNhYmxlLCBhbHNvIHRoYXQg
dGhlIGJvb3RzdHJhcCBtZXRob2RzIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgdXNlIG9mIGFsdE1ldGFm
YWN0b3J5CisJICovCisJcHVibGljIHZvaWQgdGVzdDAwMV9zaW1wbGUoKSB0aHJvd3MgRXhjZXB0
aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJY
LmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3Mg
WCB7XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBp
bnQgbSgpOyB9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBt
YWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgVGhyZWFkLmN1cnJlbnRUaHJlYWQoKS5z
ZXRDb250ZXh0Q2xhc3NMb2FkZXIobmV3IFgoKS5nZXRDbGFzcygpLmdldENsYXNzTG9hZGVyKCkp
O1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGYx
ID0gKCkgLT4gMztcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIr
CisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQki
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisK
KwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAor
CQkJCQkiMyIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAi
LURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBi
ZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9n
cmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0
ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFN
ZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxl
cyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtb
TGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQki
ICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9r
ZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFc
biI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBV
VF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhw
ZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQorCS8qKgorCSAqIFNhbml0eSB0ZXN0LCBub24gc2Vy
aWFsaXphYmxlIHNob3VsZCBoYXZlIGJvb3RzdHJhcCBtZXRob2RzIGF0dHJpYnV0ZSByZWZlcmVu
Y2UgdG8gbWV0YWZhY3RvcnkuCisJICovCisJcHVibGljIHZvaWQgdGVzdDAwMl9zaW1wbGVOb25T
ZXJpYWxpemFibGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgK
KwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8u
KjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBG
b28geyBpbnQgbSgpOyB9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMg
dm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51
bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9ICgpIC0+IDM7XG4iKworCQkJCQkiICAgICAgICBT
eXN0ZW0ub3V0LnByaW50bG4oZjEubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1c
biIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiMyIp
OworCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9s
YW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5tZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZv
a2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZv
a2UvTWV0aG9kVHlwZTtMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO0xqYXZhL2xhbmcvaW52
b2tlL01ldGhvZEhhbmRsZTtMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlOylMamF2YS9sYW5n
L2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJ
IiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJ
CQkJIiAgICAoKUlcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0
cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNr
RXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCisJLyoqCisJICogQmFzaWMgdGVz
dCB0aGF0IGRlc2VyaWFsaXplTGFtYmRhIGNhbiBjb3BlIHdpdGggdHdvIGxhbWJkYSBleHByZXNz
aW9ucy4KKwkgKi8KKwlwdWJsaWMgdm9pZCB0ZXN0MDAzX3R3b1NlcmlhbGl6ZWRMYW1iZGFzKCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQki
cHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2Vy
aWFsaXphYmxlIHsgaW50IG0oKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMg
c3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28g
ZjEgPSBudWxsLCBmMiA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9ICgpIC0+IDMzO1xu
IisKKwkJCQkJIiAgICAgICAgZjIgPSAoKSAtPiA5OTtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwu
SGVscGVyLndyaXRlKDAsZjEpO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUo
MSxmMik7XG4iKworCQkJCQkiICAgICAgICBmMiA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgxKTtc
biIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKDApO1xuIisKKwkJ
CQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgICAg
ICBTeXN0ZW0ub3V0LnByaW50bG4oZjIubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJ
In1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQki
MzNcbjk5IiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICIt
RGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJl
IHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dy
YW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3Rl
ZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1l
dGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVz
JExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tM
amF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIg
IE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tl
c3RhdGljIFgubGFtYmRhJDA6KClJXG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxu
IisKKwkJCQkiMTogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3Rv
cnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3Vw
O0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xh
bmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9k
IGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMg
WC5sYW1iZGEkMTooKUlcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlT
dHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsg
RmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0
cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDA0X2xhbWJkYVdpdGhQYXJhbWV0
ZXJJblBhY2thZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgK
KwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJZLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkg
e1xuIisKKwkJCQkJIiAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4i
KworCQkJCQkiICAgIGNvbS5mb28uWC5tYWluKGFyZ3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJ
CQkJIn0iLAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJInBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJ
CSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJ
CSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7IGludCBtKGludCBpKTsg
fVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJp
bmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsLCBmMiA9IG51bGw7
XG4iKworCQkJCQkiICAgICAgICBmMSA9IChpKSAtPiBpKjI7XG4iKworCQkJCQkiICAgICAgICB1
dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5I
ZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0o
NCkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZh
IixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSI4IiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1
ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVz
cyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFy
Z3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBl
eGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRp
YyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2
YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2
YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9p
bnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIg
ICAgKEkpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KEkp
SVxuIisKKwkJCQkiICAgIChJKUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9
IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0
b3IgKyAiY29tIitGaWxlLnNlcGFyYXRvcisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIp
OworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMg
dm9pZCB0ZXN0MDA1X2NhcHR1cmluZ1ZhcmlhYmxlTGFtYmRhV2l0aFBhcmFtZXRlckluUGFja2Fn
ZSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBT
dHJpbmdbXXsKKwkJCQkJIlkuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKworCQkJ
CQkiICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCQkJCSIg
ICAgY29tLmZvby5YLm1haW4oYXJncyk7XG4iKworCQkJCQkiICB9XG4iKworCQkJCQkifSIsCisJ
CQkJCSJYLmphdmEiLAorCQkJCQkicGFja2FnZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9ydCBq
YXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRl
cmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgaW50IG0oaW50IGkpOyB9XG4iKworCQkJ
CQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBp
bnQgbXVsdGlwbGllciA9IDM7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChpKSAtPiBpICogbXVs
dGlwbGllcjtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJ
CQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAg
ICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSg0KSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJ
CQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJ
CQkJIjEyIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICIt
RGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJl
IHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dy
YW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3Rl
ZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1l
dGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVz
JExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tM
amF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIg
IE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKEkpSVxuIisKKwkJCQkiICAgIGludm9r
ZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KElJKUlcbiIrCisJCQkJIiAgICAoSSlJXG4iKwor
CQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3Ir
ImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3Rl
ZE91dHB1dCxkYXRhKTsKKwl9CisKKwkvLyBkaWZmZXJpbmcgdHlwZXMsIG5vdCBqdXN0IGludAor
CXB1YmxpYyB2b2lkIHRlc3QwMDZfY2FwdHVyaW5nVmFyaWFibGVMYW1iZGFXaXRoUGFyYW1ldGVy
SW5QYWNrYWdlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJ
CQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWS5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBZIHtc
biIrCisJCQkJCSIgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xuIisK
KwkJCQkJIiAgICBjb20uZm9vLlgubWFpbihhcmdzKTtcbiIrCisJCQkJCSIgIH1cbiIrCisJCQkJ
CSJ9IiwKKwkJCQkJIlguamF2YSIsCisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQki
aW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQki
ICAgIGludGVyZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBpbnQgbShTdHJpbmcgbik7
IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3Ry
aW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJ
CSIgICAgICAgIGludCBtdWx0aXBsaWVyID0gMztcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKG4p
IC0+IEludGVnZXIudmFsdWVPZihuKSAqIG11bHRpcGxpZXI7XG4iKworCQkJCQkiICAgICAgICB1
dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5I
ZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0o
XCIzM1wiKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVy
LmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjk5IiwKKwkJCQkJbnVsbCwKKwkJ
CQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUs
IHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15
IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdo
IGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9r
ZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5
OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmlu
ZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEv
bGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKwor
CQkJCSIgICAgKExqYXZhL2xhbmcvU3RyaW5nOylJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGlj
IGNvbS9mb28vWC5sYW1iZGEkMDooSUxqYXZhL2xhbmcvU3RyaW5nOylJXG4iKworCQkJCSIgICAg
KExqYXZhL2xhbmcvU3RyaW5nOylJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEg
PSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJh
dG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3Mi
KTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJLy8gRmFp
bHMgdGhlIHNhbWUgd2F5IGFzIGphdmFjIHJpZ2h0IG5vdy4uLgorCXB1YmxpYyB2b2lkIHRlc3Qw
MDdfY2FwdHVyaW5nRmllbGRMYW1iZGFXaXRoUGFyYW1ldGVySW5QYWNrYWdlKCkgdGhyb3dzIEV4
Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJ
CQkiWS5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBZIHtcbiIrCisJCQkJCSIgIHB1YmxpYyBz
dGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xuIisKKwkJCQkJIiAgICBjb20uZm9vLlgu
bWFpbihhcmdzKTtcbiIrCisJCQkJCSIgIH1cbiIrCisJCQkJCSJ9IiwKKwkJCQkJIlguamF2YSIs
CisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIr
CisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludCBtdWx0aXBsaWVyID0g
MztcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7IGlu
dCBtKGludCBpKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZv
aWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgbmV3IFgoKS5ydW4oKTtc
biIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIiAgICBwdWJsaWMgdm9pZCBydW4oKSB7XG4iKwor
CQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoaSkg
LT4gaSAqIHRoaXMubXVsdGlwbGllcjtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndy
aXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKCk7
XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSg0KSk7XG4iKworCQkJ
CQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFT
UywKKwkJCQkJfSwKKwkJCQkJIjEyIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3
IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0
aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUg
Z2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJ
CVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcv
aW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9r
ZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9r
ZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNp
dGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKEkpSVxuIisK
KwkJCQkiICAgIGludm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KElJKUlcbiIrCisJCQkJ
IiAgICAoSSlJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3Rz
dHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgImNvbSIr
RmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJY2hlY2tF
eHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAw
OF9jYXB0dXJpbmdUd29WYXJpYWJsZUxhbWJkYVdpdGhQYXJhbWV0ZXJJblBhY2thZ2UoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117
CisJCQkJCSJZLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkge1xuIisKKwkJCQkJIiAgcHVi
bGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4iKworCQkJCQkiICAgIGNvbS5m
b28uWC5tYWluKGFyZ3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJCQkJIn0iLAorCQkJCQkiWC5q
YXZhIiwKKwkJCQkJInBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4q
O1xuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZv
byBleHRlbmRzIFNlcmlhbGl6YWJsZSB7IGZsb2F0IG0oaW50IGksIGZsb2F0IGYpOyB9XG4iKwor
CQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIrCisJCQkJCSIgICAgICBuZXcgWCgpLnJ1bigpO1xuIisKKwkJCQkJIiAgICB9XG4i
KworCQkJCQkiICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBm
MSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChpLGYpIC0+ICgoZmxvYXQpaSkgKiBm
O1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZjEpO1xuIisKKwkJCQkJIiAg
ICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5
c3RlbS5vdXQucHJpbnRsbihmMS5tKDMsNC4wZikpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJ
CQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJ
CSIxMi4wIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICIt
RGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJl
IHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dy
YW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3Rl
ZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1l
dGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVz
JExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tM
amF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIg
IE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKElGKUZcbiIrCisJCQkJIiAgICBpbnZv
a2VzdGF0aWMgY29tL2Zvby9YLmxhbWJkYSQwOihJRilGXG4iKworCQkJCSIgICAgKElGKUZcbiIr
CisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0
dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNlcGFyYXRv
cisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVj
dGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDA5X2NhcHR1cmluZ1R3
b1Nsb3RWYXJpYWJsZXNMYW1iZGFXaXRoUGFyYW1ldGVySW5QYWNrYWdlKCkgdGhyb3dzIEV4Y2Vw
dGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQki
WS5qYXZhIixSVU5ORVJfQ0xBU1MsCisJCQkJCSJYLmphdmEiLAorCQkJCQkicGFja2FnZSBjb20u
Zm9vO1xuIisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNz
IFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsg
ZG91YmxlIG0oaW50IGksIGxvbmcgbCk7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVi
bGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgIG5l
dyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSIgICAgcHVibGljIHZvaWQg
cnVuKCkge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAg
ICAgIGYxID0gKGksbCkgLT4gKGRvdWJsZSkoaSpsKTtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwu
SGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBl
ci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSgzLDQw
TCkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZh
IixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSIxMjAuMCIsCisJCQkJCW51bGwsCisJCQkJ
CXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1
bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2
bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBp
dHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2Vz
dGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeToo
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xh
bmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJ
CQkiICAgIChJSilEXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9mb28vWC5sYW1iZGEk
MDooSUopRFxuIisKKwkJCQkiICAgIChJSilEXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5n
IGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUu
c2VwYXJhdG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlgu
Y2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJ
cHVibGljIHZvaWQgdGVzdDAxMF9WYXJhcmdzTGFtYmRhRXhwcmVzc2lvbigpIHRocm93cyBFeGNl
cHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJ
IlkuamF2YSIsUlVOTkVSX0NMQVNTLAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJInBhY2thZ2UgY29t
LmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJInB1YmxpYyBjbGFz
cyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7
IFN0cmluZyBtKFN0cmluZy4uLiBzcyk7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVi
bGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgIG5l
dyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSIgICAgcHVibGljIHZvaWQg
cnVuKCkge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAg
ICAgIGYxID0gKHN0cmluZ3MpIC0+IHN0cmluZ3NbMF0rc3RyaW5nc1sxXTtcbiIrCisJCQkJCSIg
ICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZv
byl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50
bG4oZjEubShcImFiY1wiLFwiZGVmXCIpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1c
biIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiYWJj
ZGVmIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1
bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJl
dXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0g
YWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91
dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFm
YWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExv
b2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2
YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1l
dGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKFtMamF2YS9sYW5nL1N0cmluZzspTGphdmEv
bGFuZy9TdHJpbmc7XG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9mb28vWC5sYW1iZGEk
MDooW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJCQkJIiAgICAo
W0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJCQkJIiAgICAxXG4i
OworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRf
RElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNlcGFyYXRvcisiZm9vIitGaWxlLnNl
cGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEp
OworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDExX0NhcHR1cmluZ0luc3RhbmNlKCkgdGhyb3dz
IEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdewor
CQkJCQkiWS5qYXZhIixSVU5ORVJfQ0xBU1MsCisJCQkJCSJYLmphdmEiLAorCQkJCQkicGFja2Fn
ZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGlj
IGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXph
YmxlIHsgU3RyaW5nIG0oKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBTdHJpbmcgZmll
bGRWYWx1ZSA9IFwiaGVsbG9cIjtcbiIrCisJCQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1h
aW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgIG5ldyBYKCkucnVuKCk7XG4iKwor
CQkJCQkiICAgIH1cbiIrCisJCQkJCSIgICAgcHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJ
IiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKCkgLT4gdGhp
cy5maWVsZFZhbHVlO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZjEpO1xu
IisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKCkpO1xuIisKKwkJCQkJIiAgICB9XG4i
KworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0s
CisJCQkJCSJhYmNkZWYiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5n
IFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0
byBub3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0
ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5n
IGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2Uv
TGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhv
ZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhv
ZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIr
CisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoW0xqYXZhL2xhbmcvU3Ry
aW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgY29tL2Zv
by9YLmxhbWJkYSQwOihbTGphdmEvbGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1xuIisK
KwkJCQkiICAgIChbTGphdmEvbGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1xuIisKKwkJ
CQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJjb20iK0ZpbGUuc2VwYXJhdG9yKyJm
b28iK0ZpbGUuc2VwYXJhdG9yKyJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRP
dXRwdXQsZGF0YSk7CisJfQorCQorCS8vIFRPRE8gbW9yZSB0ZXN0Y2FzZXM6CisJLy8gbGFyZ2Ug
bnVtYmVycyBvZiBsYW1iZGFFeAorCS8vIG1peCBvZiBjYXB0dXJpbmcgYW5kIG5vdCBjYXB0dXJp
bmcgc2VyaWFsaXphYmxlIHRvZ2V0aGVyIHdpdGggbm9uIHNlcmlhbGl6YWJsZQorCS8vIFVzaW5n
IG11bHRpY2FzdHMKKwkvLyBMYW1iZGEgbWV0aG9kIG5hbWVzCisJCisJLy8gLS0tCisKKwkKKwlw
cml2YXRlIHZvaWQgY2hlY2tFeHBlY3RlZChTdHJpbmcgZXhwZWN0ZWQsIFN0cmluZyBhY3R1YWwp
IHsKKwkJaWYgKCFleHBlY3RlZC5lcXVhbHMoYWN0dWFsKSkgeworCQkJcHJpbnRJdChhY3R1YWwp
OworCQl9CisJCWFzc2VydEVxdWFscyhleHBlY3RlZCxhY3R1YWwpOworCX0KKwkKKwkvKioKKwkg
KiBQcmludCBhIHBpZWNlIG9mIHRleHQgd2l0aCB0aGUgbmVjZXNzYXJ5IGV4dHJhIHF1b3RlcyBh
bmQgbmV3bGluZXMgc28gdGhhdCBpdCBjYW4gYmUgY3V0L3Bhc3RlZCBpbnRvCisJICogdGhlIHRl
c3Qgc291cmNlIGZpbGUuCisJICovCisJcHJpdmF0ZSB2b2lkIHByaW50SXQoU3RyaW5nIHRleHQp
IHsKKwkJU3RyaW5nIHF1b3RlZFRleHQgPSB0ZXh0OworCQlpZiAoIXF1b3RlZFRleHQuc3RhcnRz
V2l0aCgiXCIiKSkgeworCQkJcXVvdGVkVGV4dCA9ICJcIiIrcXVvdGVkVGV4dC5yZXBsYWNlQWxs
KCJcbiIsICJcXFxcblwiK1xuXCIiKTsKKwkJCXF1b3RlZFRleHQgPSBxdW90ZWRUZXh0LnN1YnN0
cmluZygwLHF1b3RlZFRleHQubGVuZ3RoKCktMyk7CisJCX0KKwkJU3lzdGVtLm91dC5wcmludGxu
KHF1b3RlZFRleHQpOworCX0KKwkKKwkvKioKKwkgKiBQcmludCB0aGUgYm9vdHN0cmFwIG1ldGhv
ZHMgYXR0cmlidXRlIGluIGEgdmVyeSBzaW1pbGFyIGZhc2hpb24gdG8gamF2YXAgZm9yIGNoZWNr
aW5nLgorCSAqIFVubGlrZSBqYXZhcCB0aGUgY29uc3RhbnQgcG9vbCBpbmRleGVzIGFyZSBub3Qg
aW5jbHVkZWQsIHRvIG1ha2UgdGhlIHRlc3QgYSBsaXR0bGUgbGVzcworCSAqIGZyYWdpbGUuCisJ
ICovCisJcHJpdmF0ZSBTdHJpbmcgcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKFN0cmlu
ZyBmaWxlcGF0aCkgeworCQlJQ2xhc3NGaWxlUmVhZGVyIGNmciA9IFRvb2xGYWN0b3J5LmNyZWF0
ZURlZmF1bHRDbGFzc0ZpbGVSZWFkZXIoZmlsZXBhdGgsIElDbGFzc0ZpbGVSZWFkZXIuQ0xBU1NG
SUxFX0FUVFJJQlVURVMpOworCQlCb290c3RyYXBNZXRob2RzQXR0cmlidXRlIGJvb3RzdHJhcE1l
dGhvZHNBdHRyaWJ1dGUgPSBudWxsOworCQlJQ2xhc3NGaWxlQXR0cmlidXRlW10gYXR0cnMgPSBj
ZnIuZ2V0QXR0cmlidXRlcygpOworCQlmb3IgKGludCBpPTAsbWF4PWF0dHJzLmxlbmd0aDtpPG1h
eDtpKyspIHsKKwkJCWlmIChuZXcgU3RyaW5nKGF0dHJzW2ldLmdldEF0dHJpYnV0ZU5hbWUoKSku
ZXF1YWxzKCJCb290c3RyYXBNZXRob2RzIikpIHsKKwkJCQlib290c3RyYXBNZXRob2RzQXR0cmli
dXRlID0gKEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUpYXR0cnNbaV07CisJCQl9CisJCX0KKwkJ
aWYgKGJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGU9PW51bGwpIHsKKwkJCXJldHVybiAiIjsKKwkJ
fQorCQlJQ29uc3RhbnRQb29sIGNwID0gY2ZyLmdldENvbnN0YW50UG9vbCgpOworCQlTdHJpbmdC
dWlsZGVyIHNiID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKKwkJaW50IGJtYUxlbmd0aCA9IGJvb3Rz
dHJhcE1ldGhvZHNBdHRyaWJ1dGUuZ2V0Qm9vdHN0cmFwTWV0aG9kc0xlbmd0aCgpOworCQlmb3Ig
KGludCBpPTA7aTxibWFMZW5ndGg7aSsrKSB7CisJCQlJQm9vdHN0cmFwTWV0aG9kc0VudHJ5IGVu
dHJ5ID0gYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS5nZXRCb290c3RyYXBNZXRob2RzKClbaV07
CisJCQlpbnQgbXIgPSBlbnRyeS5nZXRCb290c3RyYXBNZXRob2RSZWZlcmVuY2UoKTsKKwkJCUlD
b25zdGFudFBvb2xFbnRyeTIgaWNwZSA9IChJQ29uc3RhbnRQb29sRW50cnkyKWNmci5nZXRDb25z
dGFudFBvb2woKS5kZWNvZGVFbnRyeShtcik7CisJCQkKKwkJCXNiLmFwcGVuZChpKS5hcHBlbmQo
IjogIikuYXBwZW5kKGZvcm1hdFJlZmVyZW5jZUtpbmQoaWNwZS5nZXRSZWZlcmVuY2VLaW5kKCkp
KTsKKwkJCXNiLmFwcGVuZCgiICIpLmFwcGVuZChmb3JtYXQoY3AsaWNwZS5nZXRSZWZlcmVuY2VJ
bmRleCgpKSk7CQorCQkJc2IuYXBwZW5kKCJcbiIpOworCQkJaW50W10gYXJncyA9IGVudHJ5Lmdl
dEJvb3RzdHJhcEFyZ3VtZW50cygpOworCQkJc2IuYXBwZW5kKCIgIE1ldGhvZCBhcmd1bWVudHM6
XG4iKTsKKwkJCWZvciAoaW50IGE9MDthPGFyZ3MubGVuZ3RoO2ErKykgeworCQkJCXNiLmFwcGVu
ZCgiICAgICIpLmFwcGVuZChmb3JtYXQoY3AsYXJnc1thXSkpLmFwcGVuZCgiXG4iKTsKKwkJCX0K
KwkJfQorCQlyZXR1cm4gc2IudG9TdHJpbmcoKTsKKwl9CisJCisJU3RyaW5nIGZvcm1hdFJlZmVy
ZW5jZUtpbmQoaW50IGtpbmQpIHsKKwkJc3dpdGNoIChraW5kKSB7CisJCQljYXNlIElDb25zdGFu
dFBvb2xDb25zdGFudC5NRVRIT0RfVFlQRV9SRUZfSW52b2tlU3RhdGljOgorCQkJCXJldHVybiAi
aW52b2tlc3RhdGljIjsKKwkJCWRlZmF1bHQ6CisJCQkJdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4
Y2VwdGlvbigibnlpIGZvciAiK2tpbmQpOworCQl9CisJfQorCQorCVN0cmluZyBmb3JtYXQoSUNv
bnN0YW50UG9vbCBjcCwgaW50IGVudHJ5TnVtYmVyKSB7CisJCUlDb25zdGFudFBvb2xFbnRyeSBl
bnRyeSA9IGNwLmRlY29kZUVudHJ5KGVudHJ5TnVtYmVyKTsKKwkJaWYgKGVudHJ5ID09IG51bGwp
IHsKKwkJCXJldHVybiAibnVsbCI7CisJCX0KKwkJc3dpdGNoIChlbnRyeS5nZXRLaW5kKCkpIHsK
KwkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX0ludGVnZXI6CisJCQkJcmV0
dXJuIEludGVnZXIudG9TdHJpbmcoZW50cnkuZ2V0SW50ZWdlclZhbHVlKCkpOworCQkJY2FzZSBJ
Q29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfVXRmODoKKwkJCQlyZXR1cm4gbmV3IFN0cmlu
ZyhlbnRyeS5nZXRVdGY4VmFsdWUoKSk7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5D
T05TVEFOVF9NZXRob2RyZWY6CisJCQkJcmV0dXJuIG5ldyBTdHJpbmcoZW50cnkuZ2V0Q2xhc3NO
YW1lKCkpKyIuIituZXcgU3RyaW5nKGVudHJ5LmdldE1ldGhvZE5hbWUoKSkrIjoiK25ldyBTdHJp
bmcoZW50cnkuZ2V0TWV0aG9kRGVzY3JpcHRvcigpKTsKKwkJCWNhc2UgSUNvbnN0YW50UG9vbENv
bnN0YW50LkNPTlNUQU5UX01ldGhvZEhhbmRsZToKKwkJCQlJQ29uc3RhbnRQb29sRW50cnkyIGVu
dHJ5MiA9IChJQ29uc3RhbnRQb29sRW50cnkyKWVudHJ5OworCQkJCXJldHVybiBmb3JtYXRSZWZl
cmVuY2VLaW5kKGVudHJ5Mi5nZXRSZWZlcmVuY2VLaW5kKCkpKyIgIitmb3JtYXQoY3AsZW50cnky
LmdldFJlZmVyZW5jZUluZGV4KCkpOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09O
U1RBTlRfTWV0aG9kVHlwZToKKwkJCQlyZXR1cm4gZm9ybWF0KGNwLCgoSUNvbnN0YW50UG9vbEVu
dHJ5MillbnRyeSkuZ2V0RGVzY3JpcHRvckluZGV4KCkpOworCQkJZGVmYXVsdDoKKwkJCQkJdGhy
b3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigibnlpIGZvciAiK2VudHJ5LmdldEtpbmQoKSk7
CisJCX0KKwl9CisJCit9CisKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3Rz
Lm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2YThUZXN0cy5q
YXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pk
dC9jb3JlL3Rlc3RzL1J1bk9ubHlKYXZhOFRlc3RzLmphdmEKaW5kZXggZDRkYmIwMy4uM2M4Yzll
ZCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9l
Y2xpcHNlL2pkdC9jb3JlL3Rlc3RzL1J1bk9ubHlKYXZhOFRlc3RzLmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3Rz
L1J1bk9ubHlKYXZhOFRlc3RzLmphdmEKQEAgLTQ3LDYgKzQ3LDcgQEAgaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Npb24uTmVnYXRpdmVUeXBlQW5ub3Rh
dGlvblRlc3QKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci5yZWdy
ZXNzaW9uLk51bGxUeXBlQW5ub3RhdGlvblRlc3Q7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNv
cmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5PdmVybG9hZFJlc29sdXRpb25UZXN0ODsKIGlt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci5yZWdyZXNzaW9uLlJlcGVh
dGFibGVBbm5vdGF0aW9uVGVzdDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5j
b21waWxlci5yZWdyZXNzaW9uLlNlcmlhbGl6YWJsZUxhbWJkYVRlc3Q7CiBpbXBvcnQgb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5UeXBlQW5ub3RhdGlvblRl
c3Q7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuZG9tLkFTVENvbnZlcnRlcjE1
SkxTOFRlc3Q7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuZG9tLkFTVENvbnZl
cnRlcjE4VGVzdDsKQEAgLTczLDYgKzc0LDcgQEAgcHVibGljIGNsYXNzIFJ1bk9ubHlKYXZhOFRl
c3RzIGV4dGVuZHMgVGVzdENhc2UgewogCQkJTGFtYmRhRXhwcmVzc2lvblN5bnRheFRlc3QuY2xh
c3MsCiAJCQlOZWdhdGl2ZUxhbWJkYUV4cHJlc3Npb25zVGVzdC5jbGFzcywKIAkJCUxhbWJkYUV4
cHJlc3Npb25zVGVzdC5jbGFzcywKKwkJCVNlcmlhbGl6YWJsZUxhbWJkYVRlc3QuY2xhc3MsCiAJ
CQlPdmVybG9hZFJlc29sdXRpb25UZXN0OC5jbGFzcywKIAkJCUpzcjMzNUNsYXNzRmlsZVRlc3Qu
Y2xhc3MsCiAJCQlOZWdhdGl2ZVR5cGVBbm5vdGF0aW9uVGVzdC5jbGFzcywKZGlmZiAtLWdpdCBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b21waWxlci9DbGFzc0ZpbGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9DbGFzc0ZpbGUuamF2YQppbmRleCBkYTZh
ZGQwLi4yOTMwNDc3IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvQ2xhc3NGaWxlLmphdmEKKysrIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL0NsYXNzRmlsZS5qYXZhCkBAIC05MzIsNiArOTMyLDEwIEBAIHB1YmxpYyBjbGFzcyBDbGFz
c0ZpbGUgaW1wbGVtZW50cyBUeXBlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkJCQkJCWNhc2UgU3lu
dGhldGljTWV0aG9kQmluZGluZy5GYWN0b3J5TWV0aG9kOgogCQkJCQkJCWFkZFN5bnRoZXRpY0Zh
Y3RvcnlNZXRob2Qoc3ludGhldGljTWV0aG9kKTsKIAkJCQkJCQlicmVhazsJCisJCQkJCQljYXNl
IFN5bnRoZXRpY01ldGhvZEJpbmRpbmcuRGVzZXJpYWxpemVMYW1iZGE6CisJCQkJCQkJLy8gVE9E
TyBbYW5keV0gZG8gd2UgbmVlZCB0byBkbyB0aGlzIGFmdGVyIHRoZSBsb29wIHRvIGVuc3VyZSBp
dCBpcyBkb25lIGxhc3Q/CisJCQkJCQkJYWRkU3ludGhldGljRGVzZXJpYWxpemVMYW1iZGEoc3lu
dGhldGljTWV0aG9kLHRoaXMucmVmZXJlbmNlQmluZGluZy5zeW50aGV0aWNNZXRob2RzKCkpOyAK
KwkJCQkJCQlicmVhazsKIAkJCQkJfQogCQkJCX0KIAkJCQllbWl0dGVkU3ludGhldGljc0NvdW50
ID0gY3VycmVudFN5bnRoZXRpY3NDb3VudDsKQEAgLTI4NDcsNTIgKzI4NTEsMTA2IEBAIHB1Ymxp
YyBjbGFzcyBDbGFzc0ZpbGUgaW1wbGVtZW50cyBUeXBlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkJ
aWYgKG1ldGhvZEhhbmRsZXNMb29rdXAgPT0gbnVsbCkgcmV0dXJuIDA7IC8vIHNraXAgYm9vdHN0
cmFwIHNlY3Rpb24sIGNsYXNzIHBhdGggcHJvYmxlbSBhbHJlYWR5IHJlcG9ydGVkLCBqdXN0IGF2
b2lkIE5QRS4KIAkJcmVjb3JkSW5uZXJDbGFzc2VzKG1ldGhvZEhhbmRsZXNMb29rdXApOyAvLyBT
aG91bGQgYmUgZG9uZSwgaXQncyB3aGF0IGphdmFjIGRvZXMgYWxzbwogCQlSZWZlcmVuY2VCaW5k
aW5nIGphdmFMYW5nSW52b2tlTGFtYmRhTWV0YWZhY3RvcnkgPSB0aGlzLnJlZmVyZW5jZUJpbmRp
bmcuc2NvcGUuZ2V0SmF2YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFjdG9yeSgpOyAKKwkJCisJCS8v
IERlcGVuZGluZyBvbiB0aGUgY29tcGxleGl0eSBvZiB0aGUgZXhwcmVzc2lvbiBpdCBtYXkgYmUg
bmVjZXNzYXJ5IHRvIHVzZSB0aGUgYWx0TWV0YWZhY3RvcnkoKSByYXRoZXIgdGhhbiB0aGUgbWV0
YWZhY3RvcnkoKQogCQlpbnQgaW5kZXhGb3JNZXRhRmFjdG9yeSA9IHRoaXMuY29uc3RhbnRQb29s
LmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRsZShDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFu
ZGxlUmVmS2luZEludm9rZVN0YXRpYywgamF2YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFjdG9yeSwg
CiAJCQkJQ29uc3RhbnRQb29sLk1FVEFGQUNUT1JZLCBDb25zdGFudFBvb2wuSkFWQV9MQU5HX0lO
Vk9LRV9MQU1CREFNRVRBRkFDVE9SWV9NRVRBRkFDVE9SWV9TSUdOQVRVUkUsIGZhbHNlKTsKKwkJ
aW50IGluZGV4Rm9yQWx0TWV0YUZhY3RvcnkgPSAwOwogCiAJCWludCBudW1iZXJPZkJvb3RzdHJh
cHMgPSBmdW5jdGlvbmFsRXhwcmVzc2lvbkxpc3Quc2l6ZSgpOwogCQlpbnQgbG9jYWxDb250ZW50
c09mZnNldCA9IHRoaXMuY29udGVudHNPZmZzZXQ7CiAJCS8vIEdlbmVyYXRlIHRoZSBib290IHN0
cmFwIGF0dHJpYnV0ZSAtIHNpbmNlIHdlIGFyZSBvbmx5IG1ha2luZyBsYW1iZGFzIGFuZAogCQkv
LyBmdW5jdGlvbmFsIGV4cHJlc3Npb25zLCB3ZSBrbm93IHRoZSBzaXplIGFoZWFkIG9mIHRpbWUg
LSB0aGlzIGxlc3MgZ2VuZXJhbAogCQkvLyB0aGFuIHRoZSBmdWxsIGludm9rZWR5bmFtaWMgc2Nv
cGUsIGJ1dCBmaW5lIGZvciBKYXZhIDgKKwkJCisJCS8vIE1ha2UgZW5vdWdoIHJvb20gZm9yIGxh
cmdlciBib290c3RyYXAgbWV0aG9kcworCQkvLyBUT0RPIHNpemUgd2lsbCBuZWVkIHRvIGJlIG1v
cmUgYWRhcHRpdmUgYmVsb3cKIAkJaW50IGV4U2l6ZSA9IDEwICogbnVtYmVyT2ZCb290c3RyYXBz
ICsgODsKIAkJaWYgKGV4U2l6ZSArIGxvY2FsQ29udGVudHNPZmZzZXQgPj0gdGhpcy5jb250ZW50
cy5sZW5ndGgpIHsKIAkJCXJlc2l6ZUNvbnRlbnRzKGV4U2l6ZSk7CiAJCX0KLQkJdGhpcy5jb250
ZW50c09mZnNldCArPSBleFNpemU7CisJCQorCQlpbnQgaW5kZXhGb3JGTEFHX1NFUklBTElaQUJM
RSA9IDA7CiAJCQogCQlpbnQgYXR0cmlidXRlTmFtZUluZGV4ID0KIAkJCXRoaXMuY29uc3RhbnRQ
b29sLmxpdGVyYWxJbmRleChBdHRyaWJ1dGVOYW1lc0NvbnN0YW50cy5Cb290c3RyYXBNZXRob2Rz
TmFtZSk7CiAJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAo
YXR0cmlidXRlTmFtZUluZGV4ID4+IDgpOwogCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNP
ZmZzZXQrK10gPSAoYnl0ZSkgYXR0cmlidXRlTmFtZUluZGV4OwotCQlpbnQgdmFsdWUgPSAobnVt
YmVyT2ZCb290c3RyYXBzICogMTApICsgMjsKLQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRz
T2Zmc2V0KytdID0gKGJ5dGUpICh2YWx1ZSA+PiAyNCk7Ci0JCXRoaXMuY29udGVudHNbbG9jYWxD
b250ZW50c09mZnNldCsrXSA9IChieXRlKSAodmFsdWUgPj4gMTYpOwotCQl0aGlzLmNvbnRlbnRz
W2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKHZhbHVlID4+IDgpOwotCQl0aGlzLmNv
bnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgdmFsdWU7CisJCS8vIGxlYXZl
IHNwYWNlIGZvciBhdHRyaWJ1dGVfbGVuZ3RoIGFuZCByZW1lbWJlciB3aGVyZSB0byBpbnNlcnQg
aXQKKwkJaW50IGF0dHJpYnV0ZUxlbmd0aFBvc2l0aW9uID0gbG9jYWxDb250ZW50c09mZnNldDsK
KwkJbG9jYWxDb250ZW50c09mZnNldCArPSA0OwogCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVu
dHNPZmZzZXQrK10gPSAoYnl0ZSkgKG51bWJlck9mQm9vdHN0cmFwcyA+PiA4KTsKIAkJdGhpcy5j
b250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIG51bWJlck9mQm9vdHN0cmFw
czsKIAkJZm9yIChpbnQgaSA9IDA7IGkgPCBudW1iZXJPZkJvb3RzdHJhcHM7IGkrKykgewogCQkJ
RnVuY3Rpb25hbEV4cHJlc3Npb24gZnVuY3Rpb25hbCA9IChGdW5jdGlvbmFsRXhwcmVzc2lvbikg
ZnVuY3Rpb25hbEV4cHJlc3Npb25MaXN0LmdldChpKTsKLQkJCXRoaXMuY29udGVudHNbbG9jYWxD
b250ZW50c09mZnNldCsrXSA9IChieXRlKSAoaW5kZXhGb3JNZXRhRmFjdG9yeSA+PiA4KTsKLQkJ
CXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBpbmRleEZvck1l
dGFGYWN0b3J5OwotCQkJCi0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10g
PSAwOwotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIDM7
CiAJCQkKLQkJCWludCBmdW5jdGlvbmFsRGVzY3JpcHRvckluZGV4ID0gdGhpcy5jb25zdGFudFBv
b2wubGl0ZXJhbEluZGV4Rm9yTWV0aG9kVHlwZShmdW5jdGlvbmFsLmRlc2NyaXB0b3Iub3JpZ2lu
YWwoKS5zaWduYXR1cmUoKSk7Ci0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQr
K10gPSAoYnl0ZSkgKGZ1bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXggPj4gOCk7Ci0JCQl0aGlzLmNv
bnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgZnVuY3Rpb25hbERlc2NyaXB0
b3JJbmRleDsKLQotCQkJaW50IG1ldGhvZEhhbmRsZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wu
bGl0ZXJhbEluZGV4Rm9yTWV0aG9kSGFuZGxlKGZ1bmN0aW9uYWwuYmluZGluZy5vcmlnaW5hbCgp
KTsgLy8gU3BlYWsgb2YgIiBpbXBsZW1lbnRhdGlvbiIgKGVyYXNlZCkgdmVyc2lvbiBoZXJlLCBh
ZGFwdGF0aW9ucyBkZXNjcmliZWQgYmVsb3cuCi0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVu
dHNPZmZzZXQrK10gPSAoYnl0ZSkgKG1ldGhvZEhhbmRsZUluZGV4ID4+IDgpOwotCQkJdGhpcy5j
b250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIG1ldGhvZEhhbmRsZUluZGV4
OworCQkJLy8gVE9ETyBUaGlzIGJsb2NrIHNob3VsZCBhbHNvIGJlIGhhbmRsaW5nIEZMQUdfTUFS
S0VSIChaQU1zIGlmIHlvdSB3YW50IHRvIGNhbGwgdGhlbSB0aGF0KSBhbmQgRkxBR19CUklER0UK
KwkJCWlmIChmdW5jdGlvbmFsIGluc3RhbmNlb2YgTGFtYmRhRXhwcmVzc2lvbiAmJiAoKExhbWJk
YUV4cHJlc3Npb24pZnVuY3Rpb25hbCkuaXNTZXJpYWxpemFibGUpIHsKKwkJCQkvLyBtYXkgbmVl
ZCBtb3JlIHNwYWNlCisJCQkJaWYgKDIgKyBsb2NhbENvbnRlbnRzT2Zmc2V0ID49IHRoaXMuY29u
dGVudHMubGVuZ3RoKSB7CisJCQkJCXJlc2l6ZUNvbnRlbnRzKDIpOworCQkJCX0KKwkJCQkKKwkJ
CQlpZiAoaW5kZXhGb3JBbHRNZXRhRmFjdG9yeSA9PSAwKSB7CisJCQkJCWluZGV4Rm9yQWx0TWV0
YUZhY3RvcnkgPSAKKwkJCQkJCXRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhv
ZEhhbmRsZShDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVN0YXRp
YywgamF2YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFjdG9yeSwgCisJCQkJCQlDb25zdGFudFBvb2wu
QUxUTUVUQUZBQ1RPUlksIENvbnN0YW50UG9vbC5KQVZBX0xBTkdfSU5WT0tFX0xBTUJEQU1FVEFG
QUNUT1JZX0FMVE1FVEFGQUNUT1JZX1NJR05BVFVSRSwgZmFsc2UpOworCQkJCX0KKwkJCQl0aGlz
LmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKGluZGV4Rm9yQWx0TWV0
YUZhY3RvcnkgPj4gOCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0Kytd
ID0gKGJ5dGUpIGluZGV4Rm9yQWx0TWV0YUZhY3Rvcnk7CisJCQkJCisJCQkJLy8gdTIgbnVtX2Jv
b3RzdHJhcF9hcmd1bWVudHMKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQr
K10gPSAwOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRl
KSA0OworCQkJCQorCQkJCWludCBmdW5jdGlvbmFsRGVzY3JpcHRvckluZGV4ID0gdGhpcy5jb25z
dGFudFBvb2wubGl0ZXJhbEluZGV4Rm9yTWV0aG9kVHlwZShmdW5jdGlvbmFsLmRlc2NyaXB0b3Iu
b3JpZ2luYWwoKS5zaWduYXR1cmUoKSk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRz
T2Zmc2V0KytdID0gKGJ5dGUpIChmdW5jdGlvbmFsRGVzY3JpcHRvckluZGV4ID4+IDgpOworCQkJ
CXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBmdW5jdGlvbmFs
RGVzY3JpcHRvckluZGV4OworCQorCQkJCWludCBtZXRob2RIYW5kbGVJbmRleCA9IHRoaXMuY29u
c3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRsZShmdW5jdGlvbmFsLmJpbmRpbmcu
b3JpZ2luYWwoKSk7IC8vIFNwZWFrIG9mICIgaW1wbGVtZW50YXRpb24iIChlcmFzZWQpIHZlcnNp
b24gaGVyZSwgYWRhcHRhdGlvbnMgZGVzY3JpYmVkIGJlbG93LgorCQkJCXRoaXMuY29udGVudHNb
bG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAobWV0aG9kSGFuZGxlSW5kZXggPj4gOCk7
CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIG1ldGhv
ZEhhbmRsZUluZGV4OworCQorCQkJCWNoYXIgW10gaW5zdGFudGlhdGVkU2lnbmF0dXJlID0gZnVu
Y3Rpb25hbC5kZXNjcmlwdG9yLnNpZ25hdHVyZSgpOworCQkJCWludCBtZXRob2RUeXBlSW5kZXgg
PSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RUeXBlKGluc3RhbnRpYXRl
ZFNpZ25hdHVyZSk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0g
KGJ5dGUpIChtZXRob2RUeXBlSW5kZXggPj4gOCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENv
bnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIG1ldGhvZFR5cGVJbmRleDsKIAotCQkJY2hhciBbXSBp
bnN0YW50aWF0ZWRTaWduYXR1cmUgPSBmdW5jdGlvbmFsLmRlc2NyaXB0b3Iuc2lnbmF0dXJlKCk7
Ci0JCQlpbnQgbWV0aG9kVHlwZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4
Rm9yTWV0aG9kVHlwZShpbnN0YW50aWF0ZWRTaWduYXR1cmUpOwotCQkJdGhpcy5jb250ZW50c1ts
b2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChtZXRob2RUeXBlSW5kZXggPj4gOCk7Ci0J
CQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgbWV0aG9kVHlw
ZUluZGV4OworCQkJCWlmIChpbmRleEZvckZMQUdfU0VSSUFMSVpBQkxFID09IDApIHsKKwkJCQkJ
aW5kZXhGb3JGTEFHX1NFUklBTElaQUJMRSA9IHRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRl
eCgxKTsKKwkJCQl9CisJCQkJCisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0
KytdID0gKGJ5dGUpKGluZGV4Rm9yRkxBR19TRVJJQUxJWkFCTEU+PjgpOworCQkJCXRoaXMuY29u
dGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKShpbmRleEZvckZMQUdfU0VSSUFM
SVpBQkxFKTsKKwkJCX0gZWxzZSB7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zm
c2V0KytdID0gKGJ5dGUpIChpbmRleEZvck1ldGFGYWN0b3J5ID4+IDgpOworCQkJCXRoaXMuY29u
dGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBpbmRleEZvck1ldGFGYWN0b3J5
OworCQkJCQorCQkJCS8vIHUyIG51bV9ib290c3RyYXBfYXJndW1lbnRzCisJCQkJdGhpcy5jb250
ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gMDsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2Fs
Q29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgMzsKKwkJCQkKKwkJCQlpbnQgZnVuY3Rpb25hbERl
c2NyaXB0b3JJbmRleCA9IHRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZFR5
cGUoZnVuY3Rpb25hbC5kZXNjcmlwdG9yLm9yaWdpbmFsKCkuc2lnbmF0dXJlKCkpOworCQkJCXRo
aXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAoZnVuY3Rpb25hbERl
c2NyaXB0b3JJbmRleCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZz
ZXQrK10gPSAoYnl0ZSkgZnVuY3Rpb25hbERlc2NyaXB0b3JJbmRleDsKKwkKKwkJCQlpbnQgbWV0
aG9kSGFuZGxlSW5kZXggPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RI
YW5kbGUoZnVuY3Rpb25hbC5iaW5kaW5nLm9yaWdpbmFsKCkpOyAvLyBTcGVhayBvZiAiIGltcGxl
bWVudGF0aW9uIiAoZXJhc2VkKSB2ZXJzaW9uIGhlcmUsIGFkYXB0YXRpb25zIGRlc2NyaWJlZCBi
ZWxvdy4KKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkg
KG1ldGhvZEhhbmRsZUluZGV4ID4+IDgpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50
c09mZnNldCsrXSA9IChieXRlKSBtZXRob2RIYW5kbGVJbmRleDsKKwkKKwkJCQljaGFyIFtdIGlu
c3RhbnRpYXRlZFNpZ25hdHVyZSA9IGZ1bmN0aW9uYWwuZGVzY3JpcHRvci5zaWduYXR1cmUoKTsK
KwkJCQlpbnQgbWV0aG9kVHlwZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4
Rm9yTWV0aG9kVHlwZShpbnN0YW50aWF0ZWRTaWduYXR1cmUpOworCQkJCXRoaXMuY29udGVudHNb
bG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAobWV0aG9kVHlwZUluZGV4ID4+IDgpOwor
CQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBtZXRob2RU
eXBlSW5kZXg7CQkJCQorCQkJfQogCQl9CisKKwkJaW50IGF0dHJpYnV0ZUxlbmd0aCA9IGxvY2Fs
Q29udGVudHNPZmZzZXQgLSBhdHRyaWJ1dGVMZW5ndGhQb3NpdGlvbiAtIDQ7CisJCXRoaXMuY29u
dGVudHNbYXR0cmlidXRlTGVuZ3RoUG9zaXRpb24rK10gPSAoYnl0ZSkgKGF0dHJpYnV0ZUxlbmd0
aCA+PiAyNCk7CisJCXRoaXMuY29udGVudHNbYXR0cmlidXRlTGVuZ3RoUG9zaXRpb24rK10gPSAo
Ynl0ZSkgKGF0dHJpYnV0ZUxlbmd0aCA+PiAxNik7CisJCXRoaXMuY29udGVudHNbYXR0cmlidXRl
TGVuZ3RoUG9zaXRpb24rK10gPSAoYnl0ZSkgKGF0dHJpYnV0ZUxlbmd0aCA+PiA4KTsKKwkJdGhp
cy5jb250ZW50c1thdHRyaWJ1dGVMZW5ndGhQb3NpdGlvbisrXSA9IChieXRlKSBhdHRyaWJ1dGVM
ZW5ndGg7CisJCXRoaXMuY29udGVudHNPZmZzZXQgPSBsb2NhbENvbnRlbnRzT2Zmc2V0OwogCQly
ZXR1cm4gMTsKIAl9CiAJcHJpdmF0ZSBpbnQgZ2VuZXJhdGVMaW5lTnVtYmVyQXR0cmlidXRlKCkg
ewpAQCAtMzI5Myw2ICszMzUxLDMzIEBAIHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGUgaW1wbGVtZW50
cyBUeXBlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkJdGhpcy5jb250ZW50c1t0aGlzLmNvbnRlbnRz
T2Zmc2V0KytdID0gKGJ5dGUpIChkZXNjcmlwdG9ySW5kZXggPj4gOCk7CiAJCXRoaXMuY29udGVu
dHNbdGhpcy5jb250ZW50c09mZnNldCsrXSA9IChieXRlKSBkZXNjcmlwdG9ySW5kZXg7CiAJfQor
CQorCXB1YmxpYyB2b2lkIGFkZFN5bnRoZXRpY0Rlc2VyaWFsaXplTGFtYmRhKFN5bnRoZXRpY01l
dGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZywgU3ludGhldGljTWV0aG9kQmluZGluZ1tdIHN5bnRo
ZXRpY01ldGhvZEJpbmRpbmdzICkgeworCQlnZW5lcmF0ZU1ldGhvZEluZm9IZWFkZXIobWV0aG9k
QmluZGluZyk7CisJCWludCBtZXRob2RBdHRyaWJ1dGVPZmZzZXQgPSB0aGlzLmNvbnRlbnRzT2Zm
c2V0OworCQkvLyB0aGlzIHdpbGwgYWRkIGV4Y2VwdGlvbiBhdHRyaWJ1dGUsIHN5bnRoZXRpYyBh
dHRyaWJ1dGUsIGRlcHJlY2F0ZWQgYXR0cmlidXRlLC4uLgorCQlpbnQgYXR0cmlidXRlTnVtYmVy
ID0gZ2VuZXJhdGVNZXRob2RJbmZvQXR0cmlidXRlcyhtZXRob2RCaW5kaW5nKTsKKwkJLy8gQ29k
ZSBhdHRyaWJ1dGUKKwkJaW50IGNvZGVBdHRyaWJ1dGVPZmZzZXQgPSB0aGlzLmNvbnRlbnRzT2Zm
c2V0OworCQlhdHRyaWJ1dGVOdW1iZXIrKzsgLy8gYWRkIGNvZGUgYXR0cmlidXRlCisJCWdlbmVy
YXRlQ29kZUF0dHJpYnV0ZUhlYWRlcigpOworCQl0aGlzLmNvZGVTdHJlYW0uaW5pdCh0aGlzKTsK
KwkJdGhpcy5jb2RlU3RyZWFtLmdlbmVyYXRlU3ludGhldGljQm9keUZvckRlc2VyaWFsaXplTGFt
YmRhKG1ldGhvZEJpbmRpbmcsIHN5bnRoZXRpY01ldGhvZEJpbmRpbmdzKTsKKwkJY29tcGxldGVD
b2RlQXR0cmlidXRlRm9yU3ludGhldGljTWV0aG9kKAorCQkJbWV0aG9kQmluZGluZywKKwkJCWNv
ZGVBdHRyaWJ1dGVPZmZzZXQsCisJCQkoKFNvdXJjZVR5cGVCaW5kaW5nKSBtZXRob2RCaW5kaW5n
LmRlY2xhcmluZ0NsYXNzKQorCQkJCS5zY29wZQorCQkJCS5yZWZlcmVuY2VDb21waWxhdGlvblVu
aXQoKQorCQkJCS5jb21waWxhdGlvblJlc3VsdAorCQkJCS5nZXRMaW5lU2VwYXJhdG9yUG9zaXRp
b25zKCkpOworCQkvLyB1cGRhdGUgdGhlIG51bWJlciBvZiBhdHRyaWJ1dGVzCisJCWlmICgodGhp
cy5wcm9kdWNlQXR0cmlidXRlcyAmIENsYXNzRmlsZUNvbnN0YW50cy5BVFRSX01FVEhPRF9QQVJB
TUVURVJTKSAhPSAwKSB7CisJCQlhdHRyaWJ1dGVOdW1iZXIgKz0gZ2VuZXJhdGVNZXRob2RQYXJh
bWV0ZXJzKG1ldGhvZEJpbmRpbmcpOworCQl9CisJCXRoaXMuY29udGVudHNbbWV0aG9kQXR0cmli
dXRlT2Zmc2V0KytdID0gKGJ5dGUpIChhdHRyaWJ1dGVOdW1iZXIgPj4gOCk7CisJCXRoaXMuY29u
dGVudHNbbWV0aG9kQXR0cmlidXRlT2Zmc2V0XSA9IChieXRlKSBhdHRyaWJ1dGVOdW1iZXI7CisJ
fQkKIAogCS8qKgogCSAqIElOVEVSTkFMIFVTRS1PTkxZCkBAIC00OTE3LDYgKzUwMDIsMTIgQEAg
cHVibGljIGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5cGVDb25zdGFudHMsIFR5cGVJZHMg
ewogCQkJCWlmICgoYXJndW1lbnRzID0gbWV0aG9kQmluZGluZy5wYXJhbWV0ZXJzKSAhPSBudWxs
KSB7CiAJCQkJCWZvciAoaW50IGkgPSAwLCBtYXggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbWF4
OyBpKyspIHsKIAkJCQkJCWZpbmFsIFR5cGVCaW5kaW5nIHR5cGVCaW5kaW5nID0gYXJndW1lbnRz
W2ldOworCQkJCQkJLy8gRm9yIHRoZSBicmFuY2hpbmcgY29tcGxleGl0aWVzIGluIHRoZSBnZW5l
cmF0ZWQgJGRlc2VyaWFsaXplTGFtYmRhJCB3ZSBuZWVkIHRoZSBsb2NhbCB2YXJpYWJsZQorCQkJ
CQkJTG9jYWxWYXJpYWJsZUJpbmRpbmcgbG9jYWxWYXJpYWJsZUJpbmRpbmcgPSBuZXcgTG9jYWxW
YXJpYWJsZUJpbmRpbmcoKCIgc3ludGhldGljIitpKS50b0NoYXJBcnJheSgpLCB0eXBlQmluZGlu
ZywgMCwgdHJ1ZSk7IC8vJE5PTi1OTFMtMSQKKwkJCQkJCWxvY2FsVmFyaWFibGVCaW5kaW5nLnJl
c29sdmVkUG9zaXRpb24gPSAwOworCQkJCQkJdGhpcy5jb2RlU3RyZWFtLnJlY29yZChsb2NhbFZh
cmlhYmxlQmluZGluZyk7CisJCQkJCQlsb2NhbFZhcmlhYmxlQmluZGluZy5yZWNvcmRJbml0aWFs
aXphdGlvblN0YXJ0UEMoMCk7CisJCQkJCQlsb2NhbFZhcmlhYmxlQmluZGluZy5yZWNvcmRJbml0
aWFsaXphdGlvbkVuZFBDKGNvZGVMZW5ndGgpOwogCQkJCQkJZnJhbWUucHV0TG9jYWwocmVzb2x2
ZWRQb3NpdGlvbiwKIAkJCQkJCQkJbmV3IFZlcmlmaWNhdGlvblR5cGVJbmZvKHR5cGVCaW5kaW5n
KSk7CiAJCQkJCQlzd2l0Y2ggKHR5cGVCaW5kaW5nLmlkKSB7CkBAIC00OTk5LDYgKzUwOTAsOCBA
QCBwdWJsaWMgY2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVudHMgVHlwZUNvbnN0YW50cywgVHlwZUlk
cyB7CiAJCQl0aGlzLmJvb3RzdHJhcE1ldGhvZHMgPSBuZXcgQXJyYXlMaXN0KCk7CiAJCX0KIAkJ
dGhpcy5ib290c3RyYXBNZXRob2RzLmFkZChleHByZXNzaW9uKTsKKwkJLy8gUmVjb3JkIHdoaWNo
IGJvb3RzdHJhcCBtZXRob2Qgd2FzIGFzc2lnbmVkIHRvIHRoZSBleHByZXNzaW9uCisJCWV4cHJl
c3Npb24uYm9vdHN0cmFwTWV0aG9kTnVtYmVyID0gdGhpcy5ib290c3RyYXBNZXRob2RzLnNpemUo
KSAtIDE7CiAJCXJldHVybiB0aGlzLmJvb3RzdHJhcE1ldGhvZHMuc2l6ZSgpIC0gMTsKIAl9CiAK
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9hc3QvRnVuY3Rpb25hbEV4cHJlc3Npb24uamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9hc3QvRnVuY3Rpb25hbEV4cHJlc3Npb24uamF2YQppbmRleCBmMjM3NGVmLi5jMTBlZjhkIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvYXN0L0Z1bmN0aW9uYWxFeHByZXNzaW9uLmphdmEKKysrIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL2FzdC9GdW5jdGlvbmFsRXhwcmVzc2lvbi5qYXZhCkBAIC01MCw2ICs1MCw3IEBAIHB1Ymxp
YyBhYnN0cmFjdCBjbGFzcyBGdW5jdGlvbmFsRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24g
aW1wbGVtZW50cyBQb2x5RXhwCiAJcHJvdGVjdGVkIENvbXBpbGF0aW9uUmVzdWx0IGNvbXBpbGF0
aW9uUmVzdWx0OwogCXB1YmxpYyBCbG9ja1Njb3BlIGVuY2xvc2luZ1Njb3BlOwogCXByb3RlY3Rl
ZCBib29sZWFuIGVsbGlwc2lzQXJndW1lbnQ7CisJcHVibGljIGludCBib290c3RyYXBNZXRob2RO
dW1iZXIgPSAtMTsKIAlwcm90ZWN0ZWQgc3RhdGljIElFcnJvckhhbmRsaW5nUG9saWN5IHNpbGVu
dEVycm9ySGFuZGxpbmdQb2xpY3kgPSBEZWZhdWx0RXJyb3JIYW5kbGluZ1BvbGljaWVzLmlnbm9y
ZUFsbFByb2JsZW1zKCk7CiAJcHJvdGVjdGVkIGJvb2xlYW4gaGFzSW5mZXJlbmNlRmluaXNoZWQg
PSBmYWxzZTsKIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3Jn
L2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9MYW1iZGFFeHByZXNzaW9uLmphdmEg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvYXN0L0xhbWJkYUV4cHJlc3Npb24uamF2YQppbmRleCA2NzNkYTgxLi5mOWE4ODYy
IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0xhbWJkYUV4cHJlc3Npb24uamF2YQorKysgYi9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvYXN0L0xhbWJkYUV4cHJlc3Npb24uamF2YQpAQCAtODMsOSArODMsMTAgQEAgcHVibGljIGNs
YXNzIExhbWJkYUV4cHJlc3Npb24gZXh0ZW5kcyBGdW5jdGlvbmFsRXhwcmVzc2lvbiBpbXBsZW1l
bnRzIFJlZmVyZW5jZUMKIAlib29sZWFuIHZhbHVlQ29tcGF0aWJsZSA9IGZhbHNlOwogCXByaXZh
dGUgYm9vbGVhbiBzaGFwZUFuYWx5c2lzQ29tcGxldGUgPSBmYWxzZTsKIAlib29sZWFuIHJldHVy
bnNWYWx1ZTsKKwlwdWJsaWMgYm9vbGVhbiBpc1NlcmlhbGl6YWJsZTsKIAlib29sZWFuIHJldHVy
bnNWb2lkOwogCXByaXZhdGUgTGFtYmRhRXhwcmVzc2lvbiBvcmlnaW5hbCA9IHRoaXM7Ci0JcHJp
dmF0ZSBTeW50aGV0aWNBcmd1bWVudEJpbmRpbmdbXSBvdXRlckxvY2FsVmFyaWFibGVzID0gTk9f
U1lOVEhFVElDX0FSR1VNRU5UUzsKKwlwdWJsaWMgU3ludGhldGljQXJndW1lbnRCaW5kaW5nW10g
b3V0ZXJMb2NhbFZhcmlhYmxlcyA9IE5PX1NZTlRIRVRJQ19BUkdVTUVOVFM7CiAJcHJpdmF0ZSBp
bnQgb3V0ZXJMb2NhbFZhcmlhYmxlc1Nsb3RTaXplID0gMDsKIAlwdWJsaWMgYm9vbGVhbiBzaG91
bGRDYXB0dXJlSW5zdGFuY2UgPSBmYWxzZTsKIAlwcml2YXRlIGJvb2xlYW4gYXNzaXN0Tm9kZSA9
IGZhbHNlOwpAQCAtMzY2LDYgKzM2NywxMCBAQCBwdWJsaWMgY2xhc3MgTGFtYmRhRXhwcmVzc2lv
biBleHRlbmRzIEZ1bmN0aW9uYWxFeHByZXNzaW9uIGltcGxlbWVudHMgUmVmZXJlbmNlQwogCQl9
IGVsc2UgewogCQkJdGhpcy5ib2R5LnJlc29sdmUodGhpcy5zY29wZSk7CiAJCX0KKwkJaWYgKHRo
aXMucmVzb2x2ZWRUeXBlICE9IG51bGwgJiYgCisJCQl0aGlzLnJlc29sdmVkVHlwZS5maW5kU3Vw
ZXJUeXBlT3JpZ2luYXRpbmdGcm9tKFR5cGVJZHMuVF9KYXZhSW9TZXJpYWxpemFibGUsIGZhbHNl
IC8qU2VyaWFsaXphYmxlIGlzIG5vdCBhIGNsYXNzKi8pICE9IG51bGwpIHsKKwkJCXRoaXMuaXNT
ZXJpYWxpemFibGUgPSB0cnVlOworCQl9CQkKIAkJcmV0dXJuIHRoaXMucmVzb2x2ZWRUeXBlOwog
CX0KIAkKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xp
cHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSBiL29yZy5l
Y2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YQppbmRleCBmZjE0NDMxLi5hZDA0ZGI1IDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvY29kZWdlbi9Db2RlU3RyZWFtLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NvZGVnZW4v
Q29kZVN0cmVhbS5qYXZhCkBAIC0yNSw2ICsyNSwxMyBAQAogICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5jb2RlZ2VuOwog
CitpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKK2ltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7
CitpbXBvcnQgamF2YS51dGlsLkxpbmtlZEhhc2hNYXA7CitpbXBvcnQgamF2YS51dGlsLkxpc3Q7
CitpbXBvcnQgamF2YS51dGlsLk1hcDsKK2ltcG9ydCBqYXZhLnV0aWwuU2V0OworCiBpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUuY29tcGlsZXIuQ2hhck9wZXJhdGlvbjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuQ2xhc3NGaWxlOwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5Db21waWxhdGlvblJlc3VsdDsKQEAgLTI1MDcsNiAr
MjUxNCwyNjQgQEAgcHVibGljIHZvaWQgZ2VuZXJhdGVTeW50aGV0aWNCb2R5Rm9yRW51bVZhbHVl
T2YoU3ludGhldGljTWV0aG9kQmluZGluZyBtZXRob2RCaW4KIAlhcmV0dXJuKCk7CiB9CiAKKy8v
IFRPRE8gd2hhdCBhYm91dCBibG93aW5nIHRoZSBtZXRob2QgbGltaXQ/IElnbm9yZSBmb3Igbm93
PworLyoqCisgKiBUaGlzIGlzIGludGVuZGVkIHRvIG1hdGNoIHdoYXQgamF2YWMgZ2VuZXJhdGVz
LiBGaXJzdCB0aGVyZSBpcyBhIHN3aXRjaCBzdGF0ZW1lbnQgb24gdGhlIGhhc2hjb2RlIG9mIHRo
ZSBsYW1iZGEgbWV0aG9kIG5hbWUgLSBiYXNlZCBvbiB0aGF0CisgKiBhbiBpZCBpcyBjb21wdXRl
ZCAoMC4uTikuIEFuIHVucmVjb2duaXplZCBoYXNoIGdldHMgdGhlIGlkIC0xLiBUaGVuIGEgc2Vj
b25kIHN3aXRjaCBpcyBvbiB0aGUgaWQgYW5kIGVhY2ggY2FzZSBoZXJlIGNoZWNrcyBhbGwgdGhl
IHByb3BlcnRpZXMKKyAqIG9mIHRoZSBzZXJpYWxpemVkIGxhbWJkYS4gSWYgdGhleSBhbGwgY2hl
Y2tvdXQgT0sgYW4gaW52b2tlZHluYW1pYyBjYWxsIHRvIGEgYm9vdHN0cmFwIG1ldGhvZCB0YXJn
ZXRpbmcgdGhlIGFsdE1ldGFmYWN0b3J5LiBJZiBhbnkgb2YgdGhlIHRlc3RzCisgKiBmYWlsIGFu
IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpcyB0aHJvd24uIFRoaXMgZXhjZXB0aW9uIGlzIG5v
dCB0eXBpY2FsbHkgc2VlbiBieSB0aGUgJ3VzZXInLCBpbnN0ZWFkIHRoZXkgc2VlbSB0byBzZWUg
YSBOUEUgd2hlbgorICogdGhlIGxhbWJkYSBkb2VzIG5vdCBkZXNlcmlhbGl6ZSBwcm9wZXJseS4K
KyAqLworcHVibGljIHZvaWQgZ2VuZXJhdGVTeW50aGV0aWNCb2R5Rm9yRGVzZXJpYWxpemVMYW1i
ZGEoU3ludGhldGljTWV0aG9kQmluZGluZyBtZXRob2RCaW5kaW5nLFN5bnRoZXRpY01ldGhvZEJp
bmRpbmdbXSBzeW50aGV0aWNNZXRob2RCaW5kaW5ncykgeworCWluaXRpYWxpemVNYXhMb2NhbHMo
bWV0aG9kQmluZGluZyk7CisJCisJLy8gQ29tcHV0ZSB0aGUgbGlzdCBvZiB0aGUgc2VyaWFsaXph
YmxlIGxhbWJkYXMgZnJvbSB0aGUgZnVsbCBzZXQgb2Ygc3ludGhldGljIG1ldGhvZCBiaW5kaW5n
cworCS8vIEFsc28gY29tcHV0ZSBhIG1hcCBvZiBoYXNoY29kZXMgdG8gYSBsaXN0IG9mIHNlcmlh
bGl6YWJsZSBsYW1iZGFzIHdob3NlIG5hbWVzIHNoYXJlIGEgaGFzaGNvZGUgCisJTGlzdCBzeW50
aGV0aWNzRm9yU2VyaWFsaXphYmxlTGFtYmRhcyA9IG5ldyBBcnJheUxpc3QoKTsJCisJTWFwIGhh
c2hjb2Rlc1RvTGFtYmRhcyA9IG5ldyBMaW5rZWRIYXNoTWFwKCk7CisJZm9yIChpbnQgaT0wLG1h
eD1zeW50aGV0aWNNZXRob2RCaW5kaW5ncy5sZW5ndGg7aTxtYXg7aSsrKSB7CisJCVN5bnRoZXRp
Y01ldGhvZEJpbmRpbmcgc3ludGhldGljTWV0aG9kQmluZGluZyA9IHN5bnRoZXRpY01ldGhvZEJp
bmRpbmdzW2ldOworCQlpZiAoc3ludGhldGljTWV0aG9kQmluZGluZy5sYW1iZGEhPW51bGwgJiYg
c3ludGhldGljTWV0aG9kQmluZGluZy5sYW1iZGEuaXNTZXJpYWxpemFibGUpIHsKKwkJCXN5bnRo
ZXRpY3NGb3JTZXJpYWxpemFibGVMYW1iZGFzLmFkZChzeW50aGV0aWNNZXRob2RCaW5kaW5nKTsK
KwkJCS8vIFRPRE8gY2FuIEkgdXNlID4gSmF2YSAxLjQgZmVhdHVyZXMgaGVyZT8KKwkJCUludGVn
ZXIgaGFzaGNvZGUgPSBuZXcgSW50ZWdlcihuZXcgU3RyaW5nKHN5bnRoZXRpY01ldGhvZEJpbmRp
bmcuc2VsZWN0b3IpLmhhc2hDb2RlKCkpOworCQkJTGlzdCBsYW1iZGFzRm9yVGhpc0hhc2hjb2Rl
ID0gKExpc3QpaGFzaGNvZGVzVG9MYW1iZGFzLmdldChoYXNoY29kZSk7CisJCQlpZiAoaGFzaGNv
ZGVzVG9MYW1iZGFzLmdldChoYXNoY29kZSk9PW51bGwpIHsKKwkJCQlsYW1iZGFzRm9yVGhpc0hh
c2hjb2RlID0gbmV3IEFycmF5TGlzdCgpOworCQkJCWhhc2hjb2Rlc1RvTGFtYmRhcy5wdXQoaGFz
aGNvZGUsbGFtYmRhc0ZvclRoaXNIYXNoY29kZSk7CisJCQl9CisJCQlsYW1iZGFzRm9yVGhpc0hh
c2hjb2RlLmFkZChzeW50aGV0aWNNZXRob2RCaW5kaW5nKTsKKwkJfQorCX0KKwlpbnQgbGFtYmRh
Q291bnQgPSBzeW50aGV0aWNzRm9yU2VyaWFsaXphYmxlTGFtYmRhcy5zaXplKCk7CisJQ2xhc3NT
Y29wZSBzY29wZSA9ICgoU291cmNlVHlwZUJpbmRpbmcpbWV0aG9kQmluZGluZy5kZWNsYXJpbmdD
bGFzcykuc2NvcGU7CisJCisJCisJLy8gR2VuZXJhdGUgdGhlIGZpcnN0IHN3aXRjaCwgb24gbWV0
aG9kIG5hbWUgaGFzaGNvZGUKKwlhbG9hZF8wKCk7CisJaW52b2tlKE9wY29kZXMuT1BDX2ludm9r
ZXZpcnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1i
ZGFDb25zdGFudFBvb2xOYW1lLCBDb25zdGFudFBvb2wuR2V0SW1wbE1ldGhvZE5hbWUsIENvbnN0
YW50UG9vbC5HZXRJbXBsTWV0aG9kTmFtZVNpZ25hdHVyZSk7CisJYXN0b3JlXzEoKTsKKwlMb2Nh
bFZhcmlhYmxlQmluZGluZyBsdmIxID0gbmV3IExvY2FsVmFyaWFibGVCaW5kaW5nKCJoYXNoY29k
ZSIudG9DaGFyQXJyYXkoKSxzY29wZS5nZXRKYXZhTGFuZ1N0cmluZygpLDAsZmFsc2UpOyAvLyRO
T04tTkxTLTEkCisJbHZiMS5yZXNvbHZlZFBvc2l0aW9uID0gMTsKKwlhZGRWYXJpYWJsZShsdmIx
KTsKKwlpY29uc3RfbTEoKTsKKwlpc3RvcmVfMigpOworCUxvY2FsVmFyaWFibGVCaW5kaW5nIGx2
YjIgPSBuZXcgTG9jYWxWYXJpYWJsZUJpbmRpbmcoImlkIi50b0NoYXJBcnJheSgpLFR5cGVCaW5k
aW5nLklOVCwwLGZhbHNlKTsgLy8kTk9OLU5MUy0xJAorCWx2YjIucmVzb2x2ZWRQb3NpdGlvbiA9
IDI7CisJYWRkVmFyaWFibGUobHZiMik7CisJYWxvYWRfMSgpOworCWludm9rZVN0cmluZ0hhc2hD
b2RlKCk7CisJCisJQnJhbmNoTGFiZWwgbGFiZWwgPSBuZXcgQnJhbmNoTGFiZWwodGhpcyk7CisJ
Q2FzZUxhYmVsIGRlZmF1bHRMYWJlbCA9IG5ldyBDYXNlTGFiZWwodGhpcyk7CisJaW50IG51bWJl
ck9mSGFzaGNvZGVzID0gaGFzaGNvZGVzVG9MYW1iZGFzLnNpemUoKTsKKwlDYXNlTGFiZWxbXSBz
d2l0Y2hMYWJlbHMgPSBuZXcgQ2FzZUxhYmVsW251bWJlck9mSGFzaGNvZGVzXTsKKwlpbnRbXSBr
ZXlzID0gbmV3IGludFtudW1iZXJPZkhhc2hjb2Rlc107CisJaW50W10gc29ydGVkSW5kZXhlcyA9
IG5ldyBpbnRbbnVtYmVyT2ZIYXNoY29kZXNdOworCVNldCBoYXNoY29kZXMgPSBoYXNoY29kZXNU
b0xhbWJkYXMua2V5U2V0KCk7CisJSXRlcmF0b3IgaGFzaGNvZGVJdGVyYXRvciA9IGhhc2hjb2Rl
cy5pdGVyYXRvcigpOworCWludCBpbmRleD0wOworCXdoaWxlIChoYXNoY29kZUl0ZXJhdG9yLmhh
c05leHQoKSkgeworCQlJbnRlZ2VyIGhhc2hjb2RlID0gKEludGVnZXIpaGFzaGNvZGVJdGVyYXRv
ci5uZXh0KCk7CisJCXN3aXRjaExhYmVsc1tpbmRleF0gPSBuZXcgQ2FzZUxhYmVsKHRoaXMpOwor
CQlrZXlzW2luZGV4XSA9IGhhc2hjb2RlLmludFZhbHVlKCk7CisJCXNvcnRlZEluZGV4ZXNbaW5k
ZXhdID0gaW5kZXg7CisJCWluZGV4Kys7CisJfQorCWludFtdIGxvY2FsS2V5c0NvcHk7CisJU3lz
dGVtLmFycmF5Y29weShrZXlzLDAsKGxvY2FsS2V5c0NvcHkgPSBuZXcgaW50W251bWJlck9mSGFz
aGNvZGVzXSksMCxudW1iZXJPZkhhc2hjb2Rlcyk7CisJc29ydChsb2NhbEtleXNDb3B5LCAwLCBu
dW1iZXJPZkhhc2hjb2Rlcy0xLCBzb3J0ZWRJbmRleGVzKTsKKwkvLyBUT0RPIG5lZWQgdG8gdXNl
IGEgdGFibGVzd2l0Y2ggYXQgc29tZSBzaXplIHRocmVzaG9sZD8KKwlsb29rdXBzd2l0Y2goZGVm
YXVsdExhYmVsLCBrZXlzLCBzb3J0ZWRJbmRleGVzLCBzd2l0Y2hMYWJlbHMpOworCS8vIFRPRE8g
Y29wZSB3aXRoIG11bHRpcGxlIG5hbWVzIHRoYXQgc2hhcmUgdGhlIHNhbWUgaGFzaGNvZGUJCisJ
aGFzaGNvZGVJdGVyYXRvciA9IGhhc2hjb2Rlcy5pdGVyYXRvcigpOworCWluZGV4ID0gMDsKKwl3
aGlsZSAoaGFzaGNvZGVJdGVyYXRvci5oYXNOZXh0KCkpIHsKKwkJSW50ZWdlciBoYXNoY29kZSA9
IChJbnRlZ2VyKWhhc2hjb2RlSXRlcmF0b3IubmV4dCgpOworCQlMaXN0IGxhbWJkYXMgPSAoTGlz
dCloYXNoY29kZXNUb0xhbWJkYXMuZ2V0KGhhc2hjb2RlKTsKKwkJc3dpdGNoTGFiZWxzW2luZGV4
XS5wbGFjZSgpOworCQlCcmFuY2hMYWJlbCBuZXh0T25lID0gbmV3IEJyYW5jaExhYmVsKHRoaXMp
OworCQkvLyBMb29wIHRocm91Z2ggYWxsIGxhbWJkYXMgdGhhdCBzaGFyZSB0aGUgc2FtZSBoYXNo
Y29kZQorCQlmb3IgKGludCBqPTAsbWF4PWxhbWJkYXMuc2l6ZSgpO2o8bWF4O2orKykgeworCQkJ
U3ludGhldGljTWV0aG9kQmluZGluZyBzeW50aGV0aWNNZXRob2RCaW5kaW5nID0gKFN5bnRoZXRp
Y01ldGhvZEJpbmRpbmcpbGFtYmRhcy5nZXQoaik7CisJCQlhbG9hZF8xKCk7CisJCQlsZGMobmV3
IFN0cmluZyhzeW50aGV0aWNNZXRob2RCaW5kaW5nLnNlbGVjdG9yKSk7CisJCQlpbnZva2VTdHJp
bmdFcXVhbHMoKTsKKwkJCWlmZXEobmV4dE9uZSk7CisJCQlsb2FkSW50KGluZGV4KyspOworCQkJ
aXN0b3JlXzIoKTsKKwkJCWdvdG9fKGxhYmVsKTsKKwkJCW5leHRPbmUucGxhY2UoKTsKKwkJCW5l
eHRPbmUgPSBuZXcgQnJhbmNoTGFiZWwodGhpcyk7CisJCX0KKwkJZ290b18obGFiZWwpOworCX0K
KwlkZWZhdWx0TGFiZWwucGxhY2UoKTsKKwlsYWJlbC5wbGFjZSgpOworCQorCS8vIFNlY29uZCBi
bG9jayBpcyBzd2l0Y2hpbmcgb24gdGhlIGxhbWJkYSBpZCwgLTEgaXMgdGhlIGVycm9yICh1bnJl
Y29nbml6ZWQpIGNhc2UKKwlzd2l0Y2hMYWJlbHMgPSBuZXcgQ2FzZUxhYmVsW2xhbWJkYUNvdW50
XTsKKwlrZXlzID0gbmV3IGludFtsYW1iZGFDb3VudF07CisJc29ydGVkSW5kZXhlcyA9IG5ldyBp
bnRbbGFtYmRhQ291bnRdOworCUJyYW5jaExhYmVsIGVycm9yTGFiZWwgPSBuZXcgQnJhbmNoTGFi
ZWwodGhpcyk7CisJZGVmYXVsdExhYmVsID0gbmV3IENhc2VMYWJlbCh0aGlzKTsKKwlpbG9hZF8y
KCk7CisJZm9yIChpbnQgaj0wO2o8bGFtYmRhQ291bnQ7aisrKSB7CisJCXN3aXRjaExhYmVsc1tq
XSA9IG5ldyBDYXNlTGFiZWwodGhpcyk7CisJCWtleXNbal0gPSBqOworCQlzb3J0ZWRJbmRleGVz
W2pdID0gajsKKwl9CisJU3lzdGVtLmFycmF5Y29weShrZXlzLDAsKGxvY2FsS2V5c0NvcHkgPSBu
ZXcgaW50W2xhbWJkYUNvdW50XSksMCxsYW1iZGFDb3VudCk7CisJLy8gVE9ETyBubyBuZWVkIHRv
IHNvcnQgaGVyZT8gVGhleSBzaG91bGQgYWxsIGJlIGluIG9yZGVyCisJc29ydChsb2NhbEtleXND
b3B5LCAwLCBsYW1iZGFDb3VudC0xLCBzb3J0ZWRJbmRleGVzKTsKKwkvLyBUT0RPIG5lZWQgdG8g
dXNlIGEgdGFibGVzd2l0Y2ggYXQgc29tZSBzaXplIHRocmVzaG9sZD8KKwlsb29rdXBzd2l0Y2go
ZGVmYXVsdExhYmVsLCBrZXlzLCBzb3J0ZWRJbmRleGVzLCBzd2l0Y2hMYWJlbHMpOworCWZvciAo
aW50IGk9MDtpPGxhbWJkYUNvdW50O2krKykgeworCQlTeW50aGV0aWNNZXRob2RCaW5kaW5nIHN5
bnRoZXRpY01ldGhvZEJpbmRpbmcgPSAoU3ludGhldGljTWV0aG9kQmluZGluZylzeW50aGV0aWNz
Rm9yU2VyaWFsaXphYmxlTGFtYmRhcy5nZXQoaSk7CisJCXN3aXRjaExhYmVsc1tpXS5wbGFjZSgp
OworCQkKKwkJLy8gQ29tcGFyZSBJbXBsTWV0aG9kS2luZAorCQlhbG9hZF8wKCk7CisJCUxhbWJk
YUV4cHJlc3Npb24gbGFtYmRhRXggPSBzeW50aGV0aWNNZXRob2RCaW5kaW5nLmxhbWJkYTsKKwkJ
TWV0aG9kQmluZGluZyBtYiA9IGxhbWJkYUV4LmJpbmRpbmc7CisJCWludm9rZShPcGNvZGVzLk9Q
Q19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJpYWxp
emVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29uc3RhbnRQb29sLkdldEltcGxNZXRo
b2RLaW5kLCBDb25zdGFudFBvb2wuR2V0SW1wbE1ldGhvZEtpbmRTaWduYXR1cmUpOworCQlieXRl
IG1ldGhvZEtpbmQgPSAwOworCQlpZiAobWIuaXNTdGF0aWMoKSkgeworCQkJbWV0aG9kS2luZCA9
IENsYXNzRmlsZUNvbnN0YW50cy5NZXRob2RIYW5kbGVSZWZLaW5kSW52b2tlU3RhdGljOworCQl9
IGVsc2UgaWYgKG1iLmlzUHJpdmF0ZSgpKSB7CisJCQltZXRob2RLaW5kID0gQ2xhc3NGaWxlQ29u
c3RhbnRzLk1ldGhvZEhhbmRsZVJlZktpbmRJbnZva2VTcGVjaWFsOworCQl9IGVsc2UgeworCQkJ
bWV0aG9kS2luZCA9IENsYXNzRmlsZUNvbnN0YW50cy5NZXRob2RIYW5kbGVSZWZLaW5kSW52b2tl
VmlydHVhbDsKKwkJfQorCQliaXB1c2gobWV0aG9kS2luZCk7Ly8gVE9ETyBzZWUgdGFibGUgYmVs
b3cKKwkJaWZfaWNtcG5lKGVycm9yTGFiZWwpOworCisJCS8vIENvbXBhcmUgRnVuY3Rpb25hbElu
dGVyZmFjZUNsYXNzCisJCWFsb2FkXzAoKTsKKwkJaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZp
cnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFD
b25zdGFudFBvb2xOYW1lLCAKKwkJCQlDb25zdGFudFBvb2wuR2V0RnVuY3Rpb25hbEludGVyZmFj
ZUNsYXNzLCBDb25zdGFudFBvb2wuR2V0RnVuY3Rpb25hbEludGVyZmFjZUNsYXNzU2lnbmF0dXJl
KTsKKwkJbGRjKG5ldyBTdHJpbmcoQ2hhck9wZXJhdGlvbi5jb25jYXRXaXRoKGxhbWJkYUV4LmRl
c2NyaXB0b3IuZGVjbGFyaW5nQ2xhc3MuY29tcG91bmROYW1lLCcvJykpKTsgLy8gZS5nLiAiY29t
L2Zvby9YJEZvbyIKKwkJaW52b2tlT2JqZWN0RXF1YWxzKCk7CisJCWlmZXEoZXJyb3JMYWJlbCk7
CisJCQorCQkvLyBDb21wYXJlIEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2ROYW1lCisJCWFsb2Fk
XzAoKTsKKwkJaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsIDEsIDEsIENvbnN0YW50
UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFDb25zdGFudFBvb2xOYW1lLCAKKwkJ
CQlDb25zdGFudFBvb2wuR2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZE5hbWUsIENvbnN0YW50
UG9vbC5HZXRGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kTmFtZVNpZ25hdHVyZSk7CisJCWxkYyhu
ZXcgU3RyaW5nKGxhbWJkYUV4LmRlc2NyaXB0b3Iuc2VsZWN0b3IpKTsgLy8gZS5nLiAibSIKKwkJ
aW52b2tlT2JqZWN0RXF1YWxzKCk7CisJCWlmZXEoZXJyb3JMYWJlbCk7CisKKwkJLy8gQ29tcGFy
ZSBGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kU2lnbmF0dXJlCisJCWFsb2FkXzAoKTsKKwkJaW52
b2tlKE9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5KYXZhTGFu
Z0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFDb25zdGFudFBvb2xOYW1lLCAKKwkJCQlDb25zdGFudFBv
b2wuR2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZFNpZ25hdHVyZSwgQ29uc3RhbnRQb29sLkdl
dEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmVTaWduYXR1cmUpOworCQlsZGMobmV3
IFN0cmluZyhsYW1iZGFFeC5kZXNjcmlwdG9yLnNpZ25hdHVyZSgpKSk7IC8vIGUuZyAiKClJIgor
CQlpbnZva2VPYmplY3RFcXVhbHMoKTsKKwkJaWZlcShlcnJvckxhYmVsKTsKKworCQkvLyBDb21w
YXJlIEltcGxDbGFzcworCQlhbG9hZF8wKCk7CisJCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2
aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRh
Q29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29uc3RhbnRQb29sLkdldEltcGxDbGFzcywgQ29uc3Rh
bnRQb29sLkdldEltcGxDbGFzc1NpZ25hdHVyZSk7CisJCWxkYyhuZXcgU3RyaW5nKENoYXJPcGVy
YXRpb24uY29uY2F0V2l0aChtYi5kZWNsYXJpbmdDbGFzcy5jb21wb3VuZE5hbWUsJy8nKSkpOyAv
LyBlLmcuICJjb20vZm9vL1giCisJCWludm9rZU9iamVjdEVxdWFscygpOworCQlpZmVxKGVycm9y
TGFiZWwpOworCisJCS8vIENvbXBhcmUgSW1wbE1ldGhvZFNpZ25hdHVyZQorCQlhbG9hZF8wKCk7
CisJCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wu
SmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29u
c3RhbnRQb29sLkdldEltcGxNZXRob2RTaWduYXR1cmUsIENvbnN0YW50UG9vbC5HZXRJbXBsTWV0
aG9kU2lnbmF0dXJlU2lnbmF0dXJlKTsKKwkJbGRjKG5ldyBTdHJpbmcobWIuc2lnbmF0dXJlKCkp
KTsgLy8gZS5nLiAiKEkpSSIKKwkJaW52b2tlT2JqZWN0RXF1YWxzKCk7CisJCWlmZXEoZXJyb3JM
YWJlbCk7CisKKwkJLy8gQ2FwdHVyZWQgYXJndW1lbnRzCisJCVN0cmluZ0J1ZmZlciBzaWcgPSBu
ZXcgU3RyaW5nQnVmZmVyKCIoIik7IC8vJE5PTi1OTFMtMSQKKwkJaW5kZXggPSAwOworCQlpZiAo
bGFtYmRhRXguc2hvdWxkQ2FwdHVyZUluc3RhbmNlKSB7CisJCQlhbG9hZF8wKCk7CisJCQlsb2Fk
SW50KGluZGV4KyspOworCQkJaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsIDEsIDEs
IENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFDb25zdGFudFBvb2xO
YW1lLCAKKwkJCQkJQ29uc3RhbnRQb29sLkdldENhcHR1cmVkQXJnLCBDb25zdGFudFBvb2wuR2V0
Q2FwdHVyZWRBcmdTaWduYXR1cmUpOworCQkJY2hlY2tjYXN0KG1iLmRlY2xhcmluZ0NsYXNzKTsK
KwkJCXNpZy5hcHBlbmQobWIuZGVjbGFyaW5nQ2xhc3Muc2lnbmF0dXJlKCkpOworCQl9CisJCQor
CQlTeW50aGV0aWNBcmd1bWVudEJpbmRpbmdbXSBvdXRlckxvY2FsVmFyaWFibGVzID0gbGFtYmRh
RXgub3V0ZXJMb2NhbFZhcmlhYmxlczsKKwkJZm9yIChpbnQgcD0wLG1heD1vdXRlckxvY2FsVmFy
aWFibGVzLmxlbmd0aDtwPG1heDtwKyspIHsKKwkJCWFsb2FkXzAoKTsKKwkJCWxvYWRJbnQocCk7
CisJCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29s
LkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIAorCQkJCQlD
b25zdGFudFBvb2wuR2V0Q2FwdHVyZWRBcmcsIENvbnN0YW50UG9vbC5HZXRDYXB0dXJlZEFyZ1Np
Z25hdHVyZSk7CisJCQlUeXBlQmluZGluZyB2YXJUeXBlID0gb3V0ZXJMb2NhbFZhcmlhYmxlc1tw
XS50eXBlOworCQkJaWYgKHZhclR5cGUuaXNCYXNlVHlwZSgpKSB7CisJCQkJY2hlY2tjYXN0KHNj
b3BlLmJveGluZyh2YXJUeXBlKSk7CisJCQkJZ2VuZXJhdGVVbmJveGluZ0NvbnZlcnNpb24odmFy
VHlwZS5pZCk7CisJCQkJaWYgKHZhclR5cGUuaWQgPT0gVHlwZUlkcy5UX0phdmFMYW5nTG9uZyB8
fCB2YXJUeXBlLmlkID09IFR5cGVJZHMuVF9KYXZhTGFuZ0RvdWJsZSkgeworCQkJCQlpbmRleCsr
OworCQkJCX0KKwkJCX0gZWxzZSB7CisJCQkJY2hlY2tjYXN0KHZhclR5cGUpOworCQkJfQorCQkJ
aW5kZXgrKzsKKwkJCXNpZy5hcHBlbmQodmFyVHlwZS5zaWduYXR1cmUoKSk7CisJCX0KKwkJc2ln
LmFwcGVuZCgiKSIpOyAvLyROT04tTkxTLTEkCisJCXNpZy5hcHBlbmQobGFtYmRhRXgucmVzb2x2
ZWRUeXBlLnNpZ25hdHVyZSgpKTsKKwkJLy8gRXhhbXBsZTogaW52b2tlRHluYW1pYygwLCAwLCAx
LCAibSIudG9DaGFyQXJyYXkoKSwgIigpTGNvbS9mb28vWCRGb287Ii50b0NoYXJBcnJheSgpKTsK
KwkJaW52b2tlRHluYW1pYyhsYW1iZGFFeC5ib290c3RyYXBNZXRob2ROdW1iZXIsIGluZGV4LCAx
LCBsYW1iZGFFeC5kZXNjcmlwdG9yLnNlbGVjdG9yLCBzaWcudG9TdHJpbmcoKS50b0NoYXJBcnJh
eSgpKTsKKwkJYXJldHVybigpOworCX0KKwkKKwlyZW1vdmVWYXJpYWJsZShsdmIxKTsKKwlyZW1v
dmVWYXJpYWJsZShsdmIyKTsKKwlkZWZhdWx0TGFiZWwucGxhY2UoKTsKKwllcnJvckxhYmVsLnBs
YWNlKCk7CisJLy8gQ29kZTogdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigiSW52
YWxpZCBsYW1iZGEgZGVzZXJpYWxpemF0aW9uIikKKwluZXdfKHNjb3BlLmdldEphdmFMYW5nSWxs
ZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkpOworCWR1cCgpOworCWxkYygiSW52YWxpZCBsYW1iZGEg
ZGVzZXJpYWxpemF0aW9uIik7IC8vJE5PTi1OTFMtMSQgLy8gVE9ETyBpbnRvIGEgY29uc3RhbnQ/
CQkKKwkvLyBpbnZva2VzcGVjaWFsOiBqYXZhLmxhbmcuSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9u
Ljxpbml0PihMamF2YS9sYW5nL1N0cmluZzspVgorCWludm9rZSgKKwkJCU9wY29kZXMuT1BDX2lu
dm9rZXNwZWNpYWwsCisJCQkyLCAvLyByZWNlaXZlckFuZEFyZ3NTaXplCisJCQkwLCAvLyByZXR1
cm4gdHlwZSBzaXplCisJCQlDb25zdGFudFBvb2wuSmF2YUxhbmdJbGxlZ2FsQXJndW1lbnRFeGNl
cHRpb25Db25zdGFudFBvb2xOYW1lLAorCQkJQ29uc3RhbnRQb29sLkluaXQsCisJCQlDb25zdGFu
dFBvb2wuSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uQ29uc3RydWN0b3JTaWduYXR1cmUpOworCWF0
aHJvdygpOworfQorCisvKioKKyAqIEJhc2VkIG9uIHRoZSBzdXBwbGllZCB2YWx1ZSBhZGQgdGhl
IG1vc3QgZWZmaWNpZW50IGxvYWQgaW5zdHJ1Y3Rpb24gdG8gdGhlIGNvZGUgc3RyZWFtIGZvciB0
aGF0IHZhbHVlLgorICogTm90ZTogRG9lcyBub3QgaGFuZGxlICBuZWdhdGl2ZSB2YWx1ZXMuCisg
Ki8KK3B1YmxpYyB2b2lkIGxvYWRJbnQoaW50IHZhbHVlKSB7CisJaWYgKHZhbHVlPDYpIHsKKwkJ
aWYgKHZhbHVlPT0wKSB7CisJCQlpY29uc3RfMCgpOworCQl9IGVsc2UgaWYgKHZhbHVlPT0xKSB7
CisJCQlpY29uc3RfMSgpOworCQl9IGVsc2UgaWYgKHZhbHVlPT0yKSB7CisJCQlpY29uc3RfMigp
OworCQl9IGVsc2UgaWYgKHZhbHVlPT0zKSB7CisJCQlpY29uc3RfMygpOworCQl9IGVsc2UgaWYg
KHZhbHVlPT00KSB7CisJCQlpY29uc3RfNCgpOworCQl9IGVsc2UgaWYgKHZhbHVlPT01KSB7CisJ
CQlpY29uc3RfNSgpOworCQl9CisJfSBlbHNlIGlmICh2YWx1ZSA8IDEyOCkgeworCQkvLyBUT0RP
IFthbmR5XSB0ZXN0Y2FzZXMgdGhhdCBoaXQgdGhpcworCQliaXB1c2goKGJ5dGUpdmFsdWUpOwor
CX0gZWxzZSB7CisJCS8vIFRPRE8gW2FuZHldIHRlc3RjYXNlcyB0aGF0IGhpdCB0aGlzLCB5aWtl
cworCQlsZGModmFsdWUpOworCX0KK30KKwogLy9zdGF0aWMgWFtdIHZhbHVlcygpIHsKIC8vIFhb
XSB2YWx1ZXM7CiAvLyBpbnQgbGVuZ3RoOwpAQCAtMjkzMCw2ICszMTk1LDgzIEBAIHB1YmxpYyB2
b2lkIGdlbmVyYXRlVW5ib3hpbmdDb252ZXJzaW9uKGludCB1bmJveGVkVHlwZUlEKSB7CiAJfQog
fQogCitwdWJsaWMgdm9pZCBnZW5lcmF0ZUNoZWNrY2FzdEZyb21PYmplY3RUb0JveGVkUHJpbWl0
aXZlVHlwZShUeXBlQmluZGluZyBiYXNlVHlwZSwgQ2xhc3NTY29wZSBzY29wZSkgeworCWNoZWNr
Y2FzdChzY29wZS5ib3hpbmcoYmFzZVR5cGUpKTsKKwlzd2l0Y2ggKGJhc2VUeXBlLmlkKSB7CisJ
CWNhc2UgVHlwZUlkcy5UX2J5dGUgOgorCQkJYnJlYWs7CisJCWNhc2UgVHlwZUlkcy5UX3Nob3J0
IDoKKwkJCS8vIGludm9rZXZpcnR1YWw6IHNob3J0VmFsdWUoKQorCQkJaW52b2tlKAorCQkJCQlP
cGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLAorCQkJCQkxLCAvLyByZWNlaXZlckFuZEFyZ3NTaXpl
CisJCQkJCTEsIC8vIHJldHVybiB0eXBlIHNpemUKKwkJCQkJQ29uc3RhbnRQb29sLkphdmFMYW5n
U2hvcnRDb25zdGFudFBvb2xOYW1lLAorCQkJCQlDb25zdGFudFBvb2wuU0hPUlRWQUxVRV9TSE9S
VF9NRVRIT0RfTkFNRSwKKwkJCQkJQ29uc3RhbnRQb29sLlNIT1JUVkFMVUVfU0hPUlRfTUVUSE9E
X1NJR05BVFVSRSk7CisJCQlicmVhazsKKwkJY2FzZSBUeXBlSWRzLlRfY2hhciA6CisJCQkvLyBp
bnZva2V2aXJ0dWFsOiBjaGFyVmFsdWUoKQorCQkJaW52b2tlKAorCQkJCQlPcGNvZGVzLk9QQ19p
bnZva2V2aXJ0dWFsLAorCQkJCQkxLCAvLyByZWNlaXZlckFuZEFyZ3NTaXplCisJCQkJCTEsIC8v
IHJldHVybiB0eXBlIHNpemUKKwkJCQkJQ29uc3RhbnRQb29sLkphdmFMYW5nQ2hhcmFjdGVyQ29u
c3RhbnRQb29sTmFtZSwKKwkJCQkJQ29uc3RhbnRQb29sLkNIQVJWQUxVRV9DSEFSQUNURVJfTUVU
SE9EX05BTUUsCisJCQkJCUNvbnN0YW50UG9vbC5DSEFSVkFMVUVfQ0hBUkFDVEVSX01FVEhPRF9T
SUdOQVRVUkUpOworCQkJYnJlYWs7CisJCWNhc2UgVHlwZUlkcy5UX2ludCA6CisJCQkvLyBpbnZv
a2V2aXJ0dWFsOiBpbnRWYWx1ZSgpCisJCQlpbnZva2UoCisJCQkJCU9wY29kZXMuT1BDX2ludm9r
ZXZpcnR1YWwsCisJCQkJCTEsIC8vIHJlY2VpdmVyQW5kQXJnc1NpemUKKwkJCQkJMSwgLy8gcmV0
dXJuIHR5cGUgc2l6ZQorCQkJCQlDb25zdGFudFBvb2wuSmF2YUxhbmdJbnRlZ2VyQ29uc3RhbnRQ
b29sTmFtZSwKKwkJCQkJQ29uc3RhbnRQb29sLklOVFZBTFVFX0lOVEVHRVJfTUVUSE9EX05BTUUs
CisJCQkJCUNvbnN0YW50UG9vbC5JTlRWQUxVRV9JTlRFR0VSX01FVEhPRF9TSUdOQVRVUkUpOwor
CQkJYnJlYWs7CisJCWNhc2UgVHlwZUlkcy5UX2xvbmcgOgorCQkJLy8gaW52b2tldmlydHVhbDog
bG9uZ1ZhbHVlKCkKKwkJCWludm9rZSgKKwkJCQkJT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwK
KwkJCQkJMSwgLy8gcmVjZWl2ZXJBbmRBcmdzU2l6ZQorCQkJCQkyLCAvLyByZXR1cm4gdHlwZSBz
aXplCisJCQkJCUNvbnN0YW50UG9vbC5KYXZhTGFuZ0xvbmdDb25zdGFudFBvb2xOYW1lLAorCQkJ
CQlDb25zdGFudFBvb2wuTE9OR1ZBTFVFX0xPTkdfTUVUSE9EX05BTUUsCisJCQkJCUNvbnN0YW50
UG9vbC5MT05HVkFMVUVfTE9OR19NRVRIT0RfU0lHTkFUVVJFKTsKKwkJCWJyZWFrOworCQljYXNl
IFR5cGVJZHMuVF9mbG9hdCA6CisJCQkvLyBpbnZva2V2aXJ0dWFsOiBmbG9hdFZhbHVlKCkKKwkJ
CWludm9rZSgKKwkJCQkJT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwKKwkJCQkJMSwgLy8gcmVj
ZWl2ZXJBbmRBcmdzU2l6ZQorCQkJCQkxLCAvLyByZXR1cm4gdHlwZSBzaXplCisJCQkJCUNvbnN0
YW50UG9vbC5KYXZhTGFuZ0Zsb2F0Q29uc3RhbnRQb29sTmFtZSwKKwkJCQkJQ29uc3RhbnRQb29s
LkZMT0FUVkFMVUVfRkxPQVRfTUVUSE9EX05BTUUsCisJCQkJCUNvbnN0YW50UG9vbC5GTE9BVFZB
TFVFX0ZMT0FUX01FVEhPRF9TSUdOQVRVUkUpOworCQkJYnJlYWs7CisJCWNhc2UgVHlwZUlkcy5U
X2RvdWJsZSA6CisJCQkvLyBpbnZva2V2aXJ0dWFsOiBkb3VibGVWYWx1ZSgpCisJCQlpbnZva2Uo
CisJCQkJCU9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsCisJCQkJCTEsIC8vIHJlY2VpdmVyQW5k
QXJnc1NpemUKKwkJCQkJMiwgLy8gcmV0dXJuIHR5cGUgc2l6ZQorCQkJCQlDb25zdGFudFBvb2wu
SmF2YUxhbmdEb3VibGVDb25zdGFudFBvb2xOYW1lLAorCQkJCQlDb25zdGFudFBvb2wuRE9VQkxF
VkFMVUVfRE9VQkxFX01FVEhPRF9OQU1FLAorCQkJCQlDb25zdGFudFBvb2wuRE9VQkxFVkFMVUVf
RE9VQkxFX01FVEhPRF9TSUdOQVRVUkUpOworCQkJYnJlYWs7CisJCWNhc2UgVHlwZUlkcy5UX2Jv
b2xlYW4gOgorCQkJLy8gaW52b2tldmlydHVhbDogYm9vbGVhblZhbHVlKCkKKwkJCWludm9rZSgK
KwkJCQkJT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwKKwkJCQkJMSwgLy8gcmVjZWl2ZXJBbmRB
cmdzU2l6ZQorCQkJCQkxLCAvLyByZXR1cm4gdHlwZSBzaXplCisJCQkJCUNvbnN0YW50UG9vbC5K
YXZhTGFuZ0Jvb2xlYW5Db25zdGFudFBvb2xOYW1lLAorCQkJCQlDb25zdGFudFBvb2wuQk9PTEVB
TlZBTFVFX0JPT0xFQU5fTUVUSE9EX05BTUUsCisJCQkJCUNvbnN0YW50UG9vbC5CT09MRUFOVkFM
VUVfQk9PTEVBTl9NRVRIT0RfU0lHTkFUVVJFKTsKKwl9Cit9CisKIC8qCiAgKiBXaWRlIGNvbmRp
dGlvbmFsIGJyYW5jaCBjb21wYXJlLCBpbXByb3ZlZCBieSBzd2FwcGluZyBjb21wYXJpc29uIG9w
Y29kZQogICogICBpZmVxIFdpZGVUYXJnZXQKQEAgLTQ2NTgsNiArNTAwMCwxNiBAQCBwdWJsaWMg
dm9pZCBpbnZva2VTdHJpbmdFcXVhbHMoKSB7CiAJCQlDb25zdGFudFBvb2wuRXF1YWxzLAogCQkJ
Q29uc3RhbnRQb29sLkVxdWFsc1NpZ25hdHVyZSk7CiB9CitwdWJsaWMgdm9pZCBpbnZva2VPYmpl
Y3RFcXVhbHMoKSB7CisJLy8gaW52b2tldmlydHVhbDogamF2YS5sYW5nLk9iamVjdC5lcXVhbHMo
KQorCWludm9rZSgKKwkJCU9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsCisJCQkyLCAvLyByZWNl
aXZlckFuZEFyZ3NTaXplCisJCQkxLCAvLyByZXR1cm4gdHlwZSBzaXplCisJCQlDb25zdGFudFBv
b2wuSmF2YUxhbmdPYmplY3RDb25zdGFudFBvb2xOYW1lLAorCQkJQ29uc3RhbnRQb29sLkVxdWFs
cywKKwkJCUNvbnN0YW50UG9vbC5FcXVhbHNTaWduYXR1cmUpOworfQogcHVibGljIHZvaWQgaW52
b2tlU3RyaW5nSGFzaENvZGUoKSB7CiAJLy8gaW52b2tldmlydHVhbDogamF2YS5sYW5nLlN0cmlu
Zy5oYXNoQ29kZSgpCiAJaW52b2tlKApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NvZGVnZW4vQ29uc3Rh
bnRQb29sLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wuamF2YQppbmRleCAwNjE0
NGFkLi4wYzVmMzBhIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wuamF2
YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wuamF2YQpAQCAtMTQ3LDYgKzE0Nyw3
IEBAIHB1YmxpYyBjbGFzcyBDb25zdGFudFBvb2wgaW1wbGVtZW50cyBDbGFzc0ZpbGVDb25zdGFu
dHMsIFR5cGVJZHMgewogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIElOVk9LRV9NRVRIT0Rf
TUVUSE9EX1NJR05BVFVSRSA9ICIoTGphdmEvbGFuZy9PYmplY3Q7W0xqYXZhL2xhbmcvT2JqZWN0
OylMamF2YS9sYW5nL09iamVjdDsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIAlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXVtdIEpBVkFfTEFOR19SRUZMRUNUX0FDQ0VTU0lCTEVPQkpF
Q1QgPSBuZXcgY2hhcltdW10ge1R5cGVDb25zdGFudHMuSkFWQSwgVHlwZUNvbnN0YW50cy5MQU5H
LCBUeXBlQ29uc3RhbnRzLlJFRkxFQ1QsICJBY2Nlc3NpYmxlT2JqZWN0Ii50b0NoYXJBcnJheSgp
fTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdW10gSkFWQV9MQU5H
X1JFRkxFQ1RfQVJSQVkgPSBuZXcgY2hhcltdW10ge1R5cGVDb25zdGFudHMuSkFWQSwgVHlwZUNv
bnN0YW50cy5MQU5HLCBUeXBlQ29uc3RhbnRzLlJFRkxFQ1QsICJBcnJheSIudG9DaGFyQXJyYXko
KX07IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBJbGxlZ2FsQXJn
dW1lbnRFeGNlcHRpb25Db25zdHJ1Y3RvclNpZ25hdHVyZSA9ICIoTGphdmEvbGFuZy9TdHJpbmc7
KVYiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIAkvLyBwcmVkZWZpbmVkIHR5cGUgY29u
c3RhbnQgbmFtZXMKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhSW9QcmludFN0cmVh
bVNpZ25hdHVyZSA9ICJMamF2YS9pby9QcmludFN0cmVhbTsiLnRvQ2hhckFycmF5KCk7IC8vJE5P
Ti1OTFMtMSQKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhTGFuZ0Fzc2VydGlvbkVy
cm9yQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvQXNzZXJ0aW9uRXJyb3IiLnRvQ2hhckFy
cmF5KCk7IC8vJE5PTi1OTFMtMSQKQEAgLTE4MCw2ICsxODEsNyBAQCBwdWJsaWMgY2xhc3MgQ29u
c3RhbnRQb29sIGltcGxlbWVudHMgQ2xhc3NGaWxlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhTGFuZ09iamVjdFNpZ25hdHVyZSA9ICJMamF2YS9s
YW5nL09iamVjdDsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIAlwdWJsaWMgc3RhdGlj
IGZpbmFsIGNoYXJbXSBKYXZhTGFuZ1N5c3RlbUNvbnN0YW50UG9vbE5hbWUgPSAiamF2YS9sYW5n
L1N5c3RlbSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmlu
YWwgY2hhcltdIEphdmFMYW5nVGhyb3dhYmxlQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcv
VGhyb3dhYmxlIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gSmF2YUxhbmdJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25Db25zdGFudFBvb2xO
YW1lID0gImphdmEvbGFuZy9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24iLnRvQ2hhckFycmF5KCk7
IC8vJE5PTi1OTFMtMSQKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhTGFuZ1ZvaWRD
b25zdGFudFBvb2xOYW1lID0gImphdmEvbGFuZy9Wb2lkIi50b0NoYXJBcnJheSgpOyAvLyROT04t
TkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YVV0aWxJdGVyYXRvckNvbnN0
YW50UG9vbE5hbWUgPSAiamF2YS91dGlsL0l0ZXJhdG9yIi50b0NoYXJBcnJheSgpOyAvLyROT04t
TkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gTG9uZ0NvbnN0clNpZ25hdHVyZSA9
ICIoSilWIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCkBAIC0yNjQsNiArMjY2LDI3IEBA
IHB1YmxpYyBjbGFzcyBDb25zdGFudFBvb2wgaW1wbGVtZW50cyBDbGFzc0ZpbGVDb25zdGFudHMs
IFR5cGVJZHMgewogCS8vIEphdmEgOCBsYW1iZGEgc3VwcG9ydAogCXB1YmxpYyBzdGF0aWMgZmlu
YWwgY2hhcltdIE1FVEFGQUNUT1JZID0gIm1ldGFmYWN0b3J5Ii50b0NoYXJBcnJheSgpOyAvLyRO
T04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSkFWQV9MQU5HX0lOVk9LRV9M
QU1CREFNRVRBRkFDVE9SWV9NRVRBRkFDVE9SWV9TSUdOQVRVUkUgPSAiKExqYXZhL2xhbmcvaW52
b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52
b2tlL01ldGhvZFR5cGU7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtMamF2YS9sYW5nL2lu
dm9rZS9NZXRob2RIYW5kbGU7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTspTGphdmEvbGFu
Zy9pbnZva2UvQ2FsbFNpdGU7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGlj
IHN0YXRpYyBmaW5hbCBjaGFyW10gQUxUTUVUQUZBQ1RPUlkgPSAiYWx0TWV0YWZhY3RvcnkiLnRv
Q2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBK
QVZBX0xBTkdfSU5WT0tFX0xBTUJEQU1FVEFGQUNUT1JZX0FMVE1FVEFGQUNUT1JZX1NJR05BVFVS
RSA9IAorCQkJIihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9s
YW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVj
dDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxT
LTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdJbnZva2VTZXJpYWxpemVk
TGFtYmRhID0gIkxqYXZhL2xhbmcvaW52b2tlL1NlcmlhbGl6ZWRMYW1iZGE7Ii50b0NoYXJBcnJh
eSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdJ
bnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvaW52b2tl
L1NlcmlhbGl6ZWRMYW1iZGEiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMg
c3RhdGljIGZpbmFsIGNoYXJbXSBHZXRJbXBsTWV0aG9kTmFtZSA9ICJnZXRJbXBsTWV0aG9kTmFt
ZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hh
cltdIEdldEltcGxNZXRob2ROYW1lU2lnbmF0dXJlID0gIigpTGphdmEvbGFuZy9TdHJpbmc7Ii50
b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10g
R2V0SW1wbE1ldGhvZEtpbmQgPSAiZ2V0SW1wbE1ldGhvZEtpbmQiLnRvQ2hhckFycmF5KCk7IC8v
JE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRJbXBsTWV0aG9kS2lu
ZFNpZ25hdHVyZSA9ICIoKUkiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMg
c3RhdGljIGZpbmFsIGNoYXJbXSBHZXRGdW5jdGlvbmFsSW50ZXJmYWNlQ2xhc3MgPSAiZ2V0RnVu
Y3Rpb25hbEludGVyZmFjZUNsYXNzIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVi
bGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0RnVuY3Rpb25hbEludGVyZmFjZUNsYXNzU2lnbmF0
dXJlID0gIigpTGphdmEvbGFuZy9TdHJpbmc7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEk
CisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhv
ZE5hbWUgPSAiZ2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZE5hbWUiLnRvQ2hhckFycmF5KCk7
IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRGdW5jdGlvbmFs
SW50ZXJmYWNlTWV0aG9kTmFtZVNpZ25hdHVyZSA9ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9D
aGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdl
dEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmUgPSAiZ2V0RnVuY3Rpb25hbEludGVy
ZmFjZU1ldGhvZFNpZ25hdHVyZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1
cmVTaWduYXR1cmUgPSAiKClMamF2YS9sYW5nL1N0cmluZzsiLnRvQ2hhckFycmF5KCk7IC8vJE5P
Ti1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRJbXBsQ2xhc3MgPSAiZ2V0
SW1wbENsYXNzIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gR2V0SW1wbENsYXNzU2lnbmF0dXJlID0gIigpTGphdmEvbGFuZy9TdHJpbmc7
Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFy
W10gR2V0SW1wbE1ldGhvZFNpZ25hdHVyZSA9ICJnZXRJbXBsTWV0aG9kU2lnbmF0dXJlIi50b0No
YXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0
SW1wbE1ldGhvZFNpZ25hdHVyZVNpZ25hdHVyZSA9ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9D
aGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdl
dENhcHR1cmVkQXJnID0gImdldENhcHR1cmVkQXJnIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxT
LTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0Q2FwdHVyZWRBcmdTaWduYXR1cmUg
PSAiKEkpTGphdmEvbGFuZy9PYmplY3Q7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJ
Ly8gSmF2YSA4IHJlcGVhdGFibGUgYW5ub3RhdGlvbiBzdXBwb3J0CiAJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gSkFWQV9MQU5HX0FOTk9UQVRJT05fUkVQRUFUQUJMRSA9ICJMamF2YS9sYW5n
L2Fubm90YXRpb24vUmVwZWF0YWJsZTsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIApk
aWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0
L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TY29wZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TY29w
ZS5qYXZhCmluZGV4IDAyYjljMWEuLmMwOTU1YjYgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAv
U2NvcGUuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1Njb3BlLmphdmEKQEAgLTI1OTMsNiArMjU5
MywxMiBAQCBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgU2NvcGUgewogCQl1bml0U2NvcGUucmVjb3Jk
UXVhbGlmaWVkUmVmZXJlbmNlKFR5cGVDb25zdGFudHMuSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFN
RVRBRkFDVE9SWSk7CiAJCXJldHVybiB1bml0U2NvcGUuZW52aXJvbm1lbnQuZ2V0UmVzb2x2ZWRU
eXBlKFR5cGVDb25zdGFudHMuSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9SWSwgdGhp
cyk7CiAJfQorCQorCXB1YmxpYyBmaW5hbCBSZWZlcmVuY2VCaW5kaW5nIGdldEphdmFMYW5nSW52
b2tlU2VyaWFsaXplZExhbWJkYSgpIHsKKwkJQ29tcGlsYXRpb25Vbml0U2NvcGUgdW5pdFNjb3Bl
ID0gY29tcGlsYXRpb25Vbml0U2NvcGUoKTsKKwkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJl
ZmVyZW5jZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTlZPS0VfU0VSSUFMSVpFRExBTUJEQSk7
CisJCXJldHVybiB1bml0U2NvcGUuZW52aXJvbm1lbnQuZ2V0UmVzb2x2ZWRUeXBlKFR5cGVDb25z
dGFudHMuSkFWQV9MQU5HX0lOVk9LRV9TRVJJQUxJWkVETEFNQkRBLCB0aGlzKTsKKwl9CiAKIAlw
dWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhTGFuZ0ludm9rZU1ldGhvZEhhbmRs
ZXNMb29rdXAoKSB7CiAJCUNvbXBpbGF0aW9uVW5pdFNjb3BlIHVuaXRTY29wZSA9IGNvbXBpbGF0
aW9uVW5pdFNjb3BlKCk7CkBAIC0yNjIzLDYgKzI2MjksMTMgQEAgcHVibGljIGFic3RyYWN0IGNs
YXNzIFNjb3BlIHsKIAkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJlZmVyZW5jZShUeXBlQ29u
c3RhbnRzLkpBVkFfTEFOR19USFJPV0FCTEUpOwogCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25t
ZW50LmdldFJlc29sdmVkVHlwZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19USFJPV0FCTEUsIHRo
aXMpOwogCX0KKwkKKwlwdWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhTGFuZ0ls
bGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpIHsKKwkJQ29tcGlsYXRpb25Vbml0U2NvcGUgdW5pdFNj
b3BlID0gY29tcGlsYXRpb25Vbml0U2NvcGUoKTsKKwkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmll
ZFJlZmVyZW5jZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTExFR0FMQVJHVU1FTlRFWENFUFRJ
T04pOworCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25tZW50LmdldFJlc29sdmVkVHlwZShUeXBl
Q29uc3RhbnRzLkpBVkFfTEFOR19JTExFR0FMQVJHVU1FTlRFWENFUFRJT04sIHRoaXMpOworCX0K
KwkKIAlwdWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhVXRpbEl0ZXJhdG9yKCkg
ewogCQlDb21waWxhdGlvblVuaXRTY29wZSB1bml0U2NvcGUgPSBjb21waWxhdGlvblVuaXRTY29w
ZSgpOwogCQl1bml0U2NvcGUucmVjb3JkUXVhbGlmaWVkUmVmZXJlbmNlKFR5cGVDb25zdGFudHMu
SkFWQV9VVElMX0lURVJBVE9SKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Nv
bXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlw
ZUJpbmRpbmcuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQppbmRl
eCAyMTU4ODRmLi5iNTk0Y2YxIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVC
aW5kaW5nLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCkBA
IC02MDEsNiArNjAxLDE3IEBAIHB1YmxpYyBTeW50aGV0aWNNZXRob2RCaW5kaW5nIGFkZFN5bnRo
ZXRpY01ldGhvZChMYW1iZGFFeHByZXNzaW9uIGxhbWJkYSkgewogCX0gZWxzZSB7CiAJCWxhbWJk
YU1ldGhvZCA9IGxhbWJkYU1ldGhvZHNbMF07CiAJfQorCQorCS8vIENyZWF0ZSBhICRkZXNlcmlh
bGl6ZUxhbWJkYSQgbWV0aG9kIGlmIG5lY2Vzc2FyeSwgb25lIGlzIHNoYXJlZCBhbW9uZ3N0IGFs
bCBsYW1iZGFzCisJaWYgKGxhbWJkYS5pc1NlcmlhbGl6YWJsZSkgeworCQlTeW50aGV0aWNNZXRo
b2RCaW5kaW5nW10gZGVzZXJpYWxpemVMYW1iZGFNZXRob2RzID0gKFN5bnRoZXRpY01ldGhvZEJp
bmRpbmdbXSkgdGhpcy5zeW50aGV0aWNzW1NvdXJjZVR5cGVCaW5kaW5nLk1FVEhPRF9FTVVMXS5n
ZXQoVHlwZUNvbnN0YW50cy5ERVNFUklBTElaRV9MQU1CREEpOworCQlpZiAoZGVzZXJpYWxpemVM
YW1iZGFNZXRob2RzID09IG51bGwpIHsKKwkJCVN5bnRoZXRpY01ldGhvZEJpbmRpbmcgZGVzZXJp
YWxpemVMYW1iZGFNZXRob2QgPSBuZXcgU3ludGhldGljTWV0aG9kQmluZGluZyh0aGlzKTsKKwkJ
CXRoaXMuc3ludGhldGljc1tTb3VyY2VUeXBlQmluZGluZy5NRVRIT0RfRU1VTF0ucHV0KFR5cGVD
b25zdGFudHMuREVTRVJJQUxJWkVfTEFNQkRBLGRlc2VyaWFsaXplTGFtYmRhTWV0aG9kcyA9IG5l
dyBTeW50aGV0aWNNZXRob2RCaW5kaW5nWzFdKTsKKwkJCWRlc2VyaWFsaXplTGFtYmRhTWV0aG9k
c1swXSA9IGRlc2VyaWFsaXplTGFtYmRhTWV0aG9kOworCQl9CisJfQorCQogCXJldHVybiBsYW1i
ZGFNZXRob2Q7CiB9CiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVy
L29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU3ludGhldGljTWV0aG9k
QmluZGluZy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TeW50aGV0aWNNZXRob2RCaW5kaW5nLmphdmEK
aW5kZXggYjI5M2FkNC4uNzVkMjZmYSAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TeW50aGV0
aWNNZXRob2RCaW5kaW5nLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TeW50aGV0aWNNZXRob2RC
aW5kaW5nLmphdmEKQEAgLTUyLDYgKzUyLDcgQEAgcHVibGljIGNsYXNzIFN5bnRoZXRpY01ldGhv
ZEJpbmRpbmcgZXh0ZW5kcyBNZXRob2RCaW5kaW5nIHsKIAlwdWJsaWMgZmluYWwgc3RhdGljIGlu
dCBBcnJheUNvbnN0cnVjdG9yID0gMTQ7IC8vIFhbXTo6bmV3CiAJcHVibGljIHN0YXRpYyBmaW5h
bCBpbnQgQXJyYXlDbG9uZSA9IDE1OyAvLyBYW106OmNsb25lCiAgICAgcHVibGljIHN0YXRpYyBm
aW5hbCBpbnQgRmFjdG9yeU1ldGhvZCA9IDE2OyAvLyBmb3IgaW5keSBjYWxsIHRvIHByaXZhdGUg
Y29uc3RydWN0b3IuCisgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRGVzZXJpYWxpemVMYW1i
ZGEgPSAxNzsgLy8gRm9yIHN1cHBvcnRpbmcgbGFtYmRhIGRlc2VyaWFsaXphdGlvbi4KICAgICAK
IAlwdWJsaWMgaW50IHNvdXJjZVN0YXJ0ID0gMDsgLy8gc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1h
dGNoaW5nIGRlY2xhcmF0aW9uCiAJcHVibGljIGludCBpbmRleDsgLy8gdXNlZCBmb3Igc29ydGlu
ZyBhY2Nlc3MgbWV0aG9kcyBpbiB0aGUgY2xhc3MgZmlsZQpAQCAtMjg0LDYgKzI4NSwyMyBAQCBw
dWJsaWMgY2xhc3MgU3ludGhldGljTWV0aG9kQmluZGluZyBleHRlbmRzIE1ldGhvZEJpbmRpbmcg
ewogCX0KIAkKIAkvKioKKwkgKiBDb25zdHJ1Y3QgJGRlc2VyaWFsaXplTGFtYmRhJCBtZXRob2QK
KwkgKi8KKwlwdWJsaWMgU3ludGhldGljTWV0aG9kQmluZGluZyhTb3VyY2VUeXBlQmluZGluZyBk
ZWNsYXJpbmdDbGFzcykgeworCQl0aGlzLmRlY2xhcmluZ0NsYXNzID0gZGVjbGFyaW5nQ2xhc3M7
CisJCXRoaXMuc2VsZWN0b3IgPSBUeXBlQ29uc3RhbnRzLkRFU0VSSUFMSVpFX0xBTUJEQTsKKwkJ
dGhpcy5tb2RpZmllcnMgPSBDbGFzc0ZpbGVDb25zdGFudHMuQWNjUHJpdmF0ZSB8IENsYXNzRmls
ZUNvbnN0YW50cy5BY2NTdGF0aWMgfCBDbGFzc0ZpbGVDb25zdGFudHMuQWNjU3ludGhldGljOwor
CQl0aGlzLnRhZ0JpdHMgfD0gKFRhZ0JpdHMuQW5ub3RhdGlvblJlc29sdmVkIHwgVGFnQml0cy5E
ZXByZWNhdGVkQW5ub3RhdGlvblJlc29sdmVkKTsKKwkJdGhpcy50aHJvd25FeGNlcHRpb25zID0g
QmluZGluZy5OT19FWENFUFRJT05TOworCQl0aGlzLnJldHVyblR5cGUgPSBkZWNsYXJpbmdDbGFz
cy5zY29wZS5nZXRKYXZhTGFuZ09iamVjdCgpOworCSAgICB0aGlzLnBhcmFtZXRlcnMgPSBuZXcg
VHlwZUJpbmRpbmdbXXtkZWNsYXJpbmdDbGFzcy5zY29wZS5nZXRKYXZhTGFuZ0ludm9rZVNlcmlh
bGl6ZWRMYW1iZGEoKX07CisJICAgIHRoaXMucHVycG9zZSA9IFN5bnRoZXRpY01ldGhvZEJpbmRp
bmcuRGVzZXJpYWxpemVMYW1iZGE7CisJCVN5bnRoZXRpY01ldGhvZEJpbmRpbmdbXSBrbm93bkFj
Y2Vzc01ldGhvZHMgPSBkZWNsYXJpbmdDbGFzcy5zeW50aGV0aWNNZXRob2RzKCk7CisJCWludCBt
ZXRob2RJZCA9IGtub3duQWNjZXNzTWV0aG9kcyA9PSBudWxsID8gMCA6IGtub3duQWNjZXNzTWV0
aG9kcy5sZW5ndGg7CisJCXRoaXMuaW5kZXggPSBtZXRob2RJZDsKKwl9CisJCisJLyoqCiAJICog
Q29uc3RydWN0IGVudW0gc3BlY2lhbCBtZXRob2RzOiB2YWx1ZXMgb3IgdmFsdWVPZiBtZXRob2Rz
CiAJICovCiAJcHVibGljIFN5bnRoZXRpY01ldGhvZEJpbmRpbmcoU291cmNlVHlwZUJpbmRpbmcg
ZGVjbGFyaW5nRW51bSwgaW50IHN0YXJ0SW5kZXgsIGludCBlbmRJbmRleCkgewpkaWZmIC0tZ2l0
IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2xvb2t1cC9UeXBlQ29uc3RhbnRzLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVD
b25zdGFudHMuamF2YQppbmRleCBmYWRhMjg2Li4yYTcwZWFhIDEwMDY0NAotLS0gYS9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
bG9va3VwL1R5cGVDb25zdGFudHMuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21w
aWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVDb25zdGFu
dHMuamF2YQpAQCAtOTIsNiArOTIsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIFR5cGVDb25zdGFudHMg
ewogICAgIGNoYXJbXSBVUFBFUl9BTk5PVEFUSU9OX1RZUEUgPSAiQU5OT1RBVElPTl9UWVBFIi50
b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAgICAgY2hhcltdIFVQUEVSX1BBQ0tBR0UgPSAi
UEFDS0FHRSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogICAgIGNoYXJbXSBBTk9OWU1P
VVNfTUVUSE9EID0gImxhbWJkYSQiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKyAgICBj
aGFyW10gREVTRVJJQUxJWkVfTEFNQkRBID0gIiRkZXNlcmlhbGl6ZUxhbWJkYSQiLnRvQ2hhckFy
cmF5KCk7IC8vJE5PTi1OTFMtMSQKICAgICAKIAkvLyBqc3IzMDgKIAljaGFyW10gVFlQRV9VU0Vf
VEFSR0VUICA9ICJUWVBFX1VTRSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJApAQCAtMTkz
LDYgKzE5NCw3IEBAIHB1YmxpYyBpbnRlcmZhY2UgVHlwZUNvbnN0YW50cyB7CiAJCQkiTWV0aG9k
SGFuZGxlJFBvbHltb3JwaGljU2lnbmF0dXJlIi50b0NoYXJBcnJheSgpIC8vJE5PTi1OTFMtMSQK
IAl9OwogCWNoYXJbXVtdIEpBVkFfTEFOR19JTlZPS0VfTEFNQkRBTUVUQUZBQ1RPUlkgPSB7SkFW
QSwgTEFORywgSU5WT0tFLCAiTGFtYmRhTWV0YWZhY3RvcnkiLnRvQ2hhckFycmF5KCl9OyAvLyRO
T04tTkxTLTEkCisJY2hhcltdW10gSkFWQV9MQU5HX0lOVk9LRV9TRVJJQUxJWkVETEFNQkRBID0g
e0pBVkEsIExBTkcsIElOVk9LRSwgIlNlcmlhbGl6ZWRMYW1iZGEiLnRvQ2hhckFycmF5KCl9OyAv
LyROT04tTkxTLTEkCiAJY2hhcltdW10gSkFWQV9MQU5HX0lOVk9LRV9NRVRIT0RIQU5ETEVTID0g
e0pBVkEsIExBTkcsIElOVk9LRSwgIk1ldGhvZEhhbmRsZXMiLnRvQ2hhckFycmF5KCl9OyAvLyRO
T04tTkxTLTEkCiAJY2hhcltdW10gSkFWQV9MQU5HX0FVVE9DTE9TRUFCTEUgPSAge0pBVkEsIExB
TkcsICJBdXRvQ2xvc2VhYmxlIi50b0NoYXJBcnJheSgpfTsgLy8kTk9OLU5MUy0xJAogCWNoYXJb
XSBDTE9TRSA9ICJjbG9zZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAotLSAKMS43LjEx
LjIKCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>238522</attachid>
            <date>2013-12-20 14:11:00 -0500</date>
            <delta_ts>2013-12-20 14:11:48 -0500</delta_ts>
            <desc>Latest version of the patch to support serialized lambdas</desc>
            <filename>0001-1.8-Bug405104-Supporting-serializable-lambdas.patch</filename>
            <type>text/plain</type>
            <size>105388</size>
            <attacher name="Andrew Clement">aclement</attacher>
            
              <data encoding="base64">RnJvbSBkYzQzYTJjY2RlOWM2ODUwMmY5MmFhMzUxNWE3MzY5MzY5ZjFhNzE5IE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBBbmR5IENsZW1lbnQgPGFjbGVtZW50QGdvcGl2b3RhbC5jb20+
CkRhdGU6IFR1ZSwgMTcgRGVjIDIwMTMgMDk6NDU6MjEgLTA4MDAKU3ViamVjdDogW1BBVENIXSBb
MS44XSBCdWc0MDUxMDQgLSBTdXBwb3J0aW5nIHNlcmlhbGl6YWJsZSBsYW1iZGFzCgotLS0KIC4u
Li9yZWdyZXNzaW9uL1NlcmlhbGl6YWJsZUxhbWJkYVRlc3QuamF2YSAgICAgICAgIHwgMTIxMyAr
KysrKysrKysrKysrKysrKysrKwogLi4uL2VjbGlwc2UvamR0L2NvcmUvdGVzdHMvUnVuT25seUph
dmE4VGVzdHMuamF2YSAgfCAgICA0ICsKIC4uLi9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxl
ci9DbGFzc0ZpbGUuamF2YSAgIHwgIDE2OSArKy0KIC4uLi9jb21waWxlci9hc3QvRnVuY3Rpb25h
bEV4cHJlc3Npb24uamF2YSAgICAgICAgIHwgICAgMyArCiAuLi4vaW50ZXJuYWwvY29tcGlsZXIv
YXN0L0xhbWJkYUV4cHJlc3Npb24uamF2YSAgICB8ICAgNTQgKy0KIC4uLi9jb21waWxlci9jbGFz
c2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2YSAgICAgIHwgICAgNyArCiAuLi4vamR0L2ludGVy
bmFsL2NvbXBpbGVyL2NvZGVnZW4vQ29kZVN0cmVhbS5qYXZhICB8ICAyODEgKysrKysKIC4uLi9p
bnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvbnN0YW50UG9vbC5qYXZhICAgIHwgICAyNSArCiAu
Li4vbG9va3VwL0ludGVyc2VjdGlvbkNhc3RUeXBlQmluZGluZy5qYXZhICAgICAgICB8ICAgMjAg
KwogLi4uL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU2NvcGUuamF2YSAgICAgICAgfCAg
IDE1ICsKIC4uLi9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YSAgICAgICAg
IHwgICAxMyArCiAuLi4vY29tcGlsZXIvbG9va3VwL1N5bnRoZXRpY01ldGhvZEJpbmRpbmcuamF2
YSAgICB8ICAgMjAgKwogLi4uL2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBlQ29uc3RhbnRz
LmphdmEgICAgfCAgICA0ICsKIDEzIGZpbGVzIGNoYW5nZWQsIDE4MDEgaW5zZXJ0aW9ucygrKSwg
MjcgZGVsZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgb3JnLmVjbGlwc2UuamR0LmNvcmUu
dGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3Jl
Z3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCgpkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhIGIvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3Jl
L3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCm5l
dyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjZhM2ZjNjAKLS0tIC9kZXYvbnVsbAor
KysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci9zcmMvb3JnL2VjbGlwc2Uv
amR0L2NvcmUvdGVzdHMvY29tcGlsZXIvcmVncmVzc2lvbi9TZXJpYWxpemFibGVMYW1iZGFUZXN0
LmphdmEKQEAgLTAsMCArMSwxMjEzIEBACisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgorICogQ29w
eXJpZ2h0IChjKSAyMDEzIEdvUGl2b3RhbCwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLgorICog
QWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1h
dGVyaWFscworICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdAorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9s
ZWdhbC9lcGwtdjEwLmh0bWwKKyAqCisgKiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIGFu
IGVhcmx5LWRyYWZ0IHNwZWNpZmljYXRpb24gZGV2ZWxvcGVkIHVuZGVyIHRoZSBKYXZhCisgKiBD
b21tdW5pdHkgUHJvY2VzcyAoSkNQKSBhbmQgaXMgbWFkZSBhdmFpbGFibGUgZm9yIHRlc3Rpbmcg
YW5kIGV2YWx1YXRpb24gcHVycG9zZXMKKyAqIG9ubHkuIFRoZSBjb2RlIGlzIG5vdCBjb21wYXRp
YmxlIHdpdGggYW55IHNwZWNpZmljYXRpb24gb2YgdGhlIEpDUC4KKyAqIAorICogQ29udHJpYnV0
b3JzOgorICogICAgICAgIEFuZHkgQ2xlbWVudCAoR29QaXZvdGFsLCBJbmMpIGFjbGVtZW50QGdv
cGl2b3RhbC5jb20gLSBDb250cmlidXRpb25zIGZvcgorICogICAgICAgICAgICAgICAgICAgICAg
ICAgIEJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBv
cnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcworICoqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCitw
YWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Npb247CisK
K2ltcG9ydCBqYXZhLmlvLkZpbGU7CitpbXBvcnQgamF2YS5sYW5nLnJlZmxlY3QuTW9kaWZpZXI7
CitpbXBvcnQgamF2YS51dGlsLk1hcDsKKworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLlRv
b2xGYWN0b3J5OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuQ2xhc3NGaWxlQnl0
ZXNEaXNhc3NlbWJsZXI7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQm9vdHN0
cmFwTWV0aG9kc0VudHJ5OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNsYXNz
RmlsZUF0dHJpYnV0ZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklDbGFzc0Zp
bGVSZWFkZXI7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JQ29uc3RhbnRQb29s
OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvbnN0YW50UG9vbENvbnN0YW50
OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvbnN0YW50UG9vbEVudHJ5Owor
aW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnV0aWwuSUNvbnN0YW50UG9vbEVudHJ5MjsKK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklNZXRob2RJbmZvOworaW1wb3J0IG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5pbXBsLkNvbXBpbGVyT3B0aW9uczsKK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29yZS51dGlsLkJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGU7CisKK2ltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdDsKKworcHVibGljIGNsYXNzIFNl
cmlhbGl6YWJsZUxhbWJkYVRlc3QgZXh0ZW5kcyBBYnN0cmFjdFJlZ3Jlc3Npb25UZXN0IHsKKwor
CXN0YXRpYyB7CisvLwkJVEVTVFNfTlVNQkVSUyA9IG5ldyBpbnQgW10geyA0MCB9OworLy8JCVRF
U1RTX05BTUVTID0gbmV3IFN0cmluZ1tdIHsgInRlc3RUeXBlVmFyaWFibGUiIH07CisJfQorCQor
CXB1YmxpYyBzdGF0aWMgQ2xhc3MgdGVzdENsYXNzKCkgeworCQlyZXR1cm4gU2VyaWFsaXphYmxl
TGFtYmRhVGVzdC5jbGFzczsKKwl9CisJcHVibGljIHN0YXRpYyBUZXN0IHN1aXRlKCkgeworCQly
ZXR1cm4gYnVpbGRNaW5pbWFsQ29tcGxpYW5jZVRlc3RTdWl0ZSh0ZXN0Q2xhc3MoKSwgRl8xXzgp
OworCX0KKwlwdWJsaWMgU2VyaWFsaXphYmxlTGFtYmRhVGVzdChTdHJpbmcgdGVzdE5hbWUpewor
CQlzdXBlcih0ZXN0TmFtZSk7CisJfQorCisJLy8gRW5hYmxlcyB0aGUgdGVzdHMgdG8gcnVuIGlu
ZGl2aWR1YWxseQorCXByb3RlY3RlZCBNYXAgZ2V0Q29tcGlsZXJPcHRpb25zKCkgeworCQlNYXAg
ZGVmYXVsdE9wdGlvbnMgPSBzdXBlci5nZXRDb21waWxlck9wdGlvbnMoKTsKKwkJZGVmYXVsdE9w
dGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fQ29tcGxpYW5jZSwgQ29tcGlsZXJPcHRp
b25zLlZFUlNJT05fMV84KTsKKwkJZGVmYXVsdE9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5P
UFRJT05fU291cmNlLCBDb21waWxlck9wdGlvbnMuVkVSU0lPTl8xXzgpOworCQlkZWZhdWx0T3B0
aW9ucy5wdXQoQ29tcGlsZXJPcHRpb25zLk9QVElPTl9UYXJnZXRQbGF0Zm9ybSwgQ29tcGlsZXJP
cHRpb25zLlZFUlNJT05fMV84KTsKKwkJcmV0dXJuIGRlZmF1bHRPcHRpb25zOworCX0KKwkKKwlw
dWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBSVU5ORVJfQ0xBU1MgPSAKKwkJInB1YmxpYyBjbGFz
cyBZIHtcbiIrCisJCSIgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xu
IisKKwkJIiAgICBjb20uZm9vLlgubWFpbihhcmdzKTtcbiIrCisJCSIgIH1cbiIrCisJCSJ9IjsK
KwkKKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgSEVMUEVSX0NMQVNTID0KKwkJInBhY2th
Z2UgdXRpbDtcbiIrCisJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJInB1YmxpYyBjbGFzcyBI
ZWxwZXIge1xuIisKKwkJInB1YmxpYyBzdGF0aWMgdm9pZCBwcmludChPYmplY3QgbyApIHtTeXN0
ZW0uZXJyLnByaW50bG4obyk7fVxuIisKKwkgICAgInN0YXRpYyBieXRlW11bXSBkYXRhO1xuIisK
KwkgICAgIlxuIisKKwkgICAgInB1YmxpYyBzdGF0aWMgdm9pZCB3cml0ZShPYmplY3QgbykgeyB3
cml0ZSgwLG8pOyB9XG4iKworCSAgICAicHVibGljIHN0YXRpYyB2b2lkIHdyaXRlKGludCBpLCBP
YmplY3Qgbykge1xuIisKKwkgICAgIiAgICBpZiAoZGF0YT09bnVsbCkgZGF0YT1uZXcgYnl0ZVsx
MF1bXTtcbiIrCisJICAgICIgICAgdHJ5IHtcbiIrCisJICAgICIgICAgICAgIEJ5dGVBcnJheU91
dHB1dFN0cmVhbSBiYW9zID0gbmV3IEJ5dGVBcnJheU91dHB1dFN0cmVhbSgpO1xuIisKKwkgICAg
IiAgICAgICAgT2JqZWN0T3V0cHV0U3RyZWFtIG9vcyA9IG5ldyBPYmplY3RPdXRwdXRTdHJlYW0o
YmFvcyk7XG4iKworCSAgICAiICAgICAgICBvb3Mud3JpdGVPYmplY3Qobyk7XG4iKworCSAgICAi
ICAgICAgICBvb3MuZmx1c2goKTtcbiIrCisJICAgICIgICAgICAgIG9vcy5jbG9zZSgpO1xuIisK
KwkgICAgIiAgICAgICAgZGF0YVtpXSA9IGJhb3MudG9CeXRlQXJyYXkoKTtcbiIrCisJICAgICIg
ICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHtcbiIrCisJICAgICIgICAgfVxuIisKKwkgICAgIn1c
biIrCisJICAgICJcbiIrCisJICAgICJwdWJsaWMgc3RhdGljIE9iamVjdCByZWFkKCkgeyByZXR1
cm4gcmVhZCgwKTsgfVxuIisKKwkgICAgInB1YmxpYyBzdGF0aWMgT2JqZWN0IHJlYWQoaW50IGkp
IHtcbiIrCisJICAgICIgICAgdHJ5IHtcbiIrCisJICAgICIgICAgICAgIEJ5dGVBcnJheUlucHV0
U3RyZWFtIGJhaXMgPSBuZXcgQnl0ZUFycmF5SW5wdXRTdHJlYW0oZGF0YVtpXSk7XG4iKworCSAg
ICAiICAgICAgICBPYmplY3RJbnB1dFN0cmVhbSBvaXMgPSBuZXcgT2JqZWN0SW5wdXRTdHJlYW0o
YmFpcyk7XG4iKworCSAgICAiICAgICAgICBPYmplY3QgbyA9IG9pcy5yZWFkT2JqZWN0KCk7XG4i
KworCSAgICAiICAgICAgICBvaXMuY2xvc2UoKTtcbiIrCisJICAgICIgICAgICAgIHJldHVybiBv
O1xuIisKKwkgICAgIiAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkge1xuIisKKwkgICAgIiAgICB9
XG4iKworCSAgICAiICAgIHJldHVybiBudWxsO1xuIisKKwkgICAgIn1cbiIrCisJCSJ9XG4iOwkK
KworCS8qKgorCSAqIFZlcmlmaWVzIHRoYXQgYWZ0ZXIgZGVzZXJpYWxpemluZyBpdCBpcyB1c2Fi
bGUsIGFsc28gdGhhdCB0aGUgYm9vdHN0cmFwIG1ldGhvZHMgYXR0cmlidXRlIGluZGljYXRlcyB1
c2Ugb2YgYWx0TWV0YWZhY3RvcnkKKwkgKi8KKwlwdWJsaWMgdm9pZCB0ZXN0MDAxX3NpbXBsZSgp
IHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJp
bmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJ
InB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNl
cmlhbGl6YWJsZSB7IGludCBtKCk7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGlj
IHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9v
IGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKCkgLT4gMztcbiIrCisJCQkJCSIg
ICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZv
byl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50
bG4oZjEubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxw
ZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiMyIsCisJCQkJCW51bGwsCisJ
CQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJl
LCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1t
eSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3Vn
aCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZv
a2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9y
eTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJp
bmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZh
L2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisK
KwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxu
IisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJp
bnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciAr
ICJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQor
CQorCS8qKgorCSAqIFNhbml0eSB0ZXN0LCBub24gc2VyaWFsaXphYmxlIHNob3VsZCBoYXZlIGJv
b3RzdHJhcCBtZXRob2RzIGF0dHJpYnV0ZSByZWZlcmVuY2UgdG8gbWV0YWZhY3RvcnkuCisJICov
CisJcHVibGljIHZvaWQgdGVzdDAwMl9zaW1wbGVOb25TZXJpYWxpemFibGUoKSB0aHJvd3MgRXhj
ZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJ
CSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xh
c3MgWCB7XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBGb28geyBpbnQgbSgpOyB9XG4iKworCQkJ
CQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3Mp
IHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBm
MSA9ICgpIC0+IDM7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSgp
KTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIs
SEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiMyIpOworCQlTdHJpbmcgZXhwZWN0ZWRPdXRw
dXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFj
dG9yeS5tZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7
TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtMamF2YS9sYW5n
L2ludm9rZS9NZXRob2RUeXBlO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZTtMamF2YS9s
YW5nL2ludm9rZS9NZXRob2RUeXBlOylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJ
CQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBp
bnZva2VzdGF0aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJCQkJIiAgICAoKUlcbiI7CisJCVN0cmlu
ZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxl
LnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQs
ZGF0YSk7CisJfQorCisJLyoqCisJICogQmFzaWMgdGVzdCB0aGF0IGRlc2VyaWFsaXplTGFtYmRh
IGNhbiBjb3BlIHdpdGggdHdvIGxhbWJkYSBleHByZXNzaW9ucy4KKwkgKi8KKwlwdWJsaWMgdm9p
ZCB0ZXN0MDAzX3R3b1NlcmlhbGl6ZWRMYW1iZGFzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRo
aXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJ
CQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJ
CQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgaW50IG0oKTsgfVxu
IisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdb
XSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsLCBmMiA9IG51bGw7XG4i
KworCQkJCQkiICAgICAgICBmMSA9ICgpIC0+IDMzO1xuIisKKwkJCQkJIiAgICAgICAgZjIgPSAo
KSAtPiA5OTtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKDAsZjEpO1xuIisK
KwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoMSxmMik7XG4iKworCQkJCQkiICAgICAg
ICBmMiA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0g
KEZvbyl1dGlsLkhlbHBlci5yZWFkKDApO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5w
cmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjIu
bSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2
YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiMzNcbjk5IiwKKwkJCQkJbnVsbCwKKwkJ
CQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUs
IHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15
IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdo
IGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9r
ZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5
OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmlu
ZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEv
bGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKwor
CQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4i
KworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIisKKwkJCQkiMTogaW52b2tlc3RhdGlj
IGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZh
L2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZh
L2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2lu
dm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAg
ICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMTooKUlcbiIrCisJCQkJ
IiAgICAoKUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0
cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFz
cyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJs
aWMgdm9pZCB0ZXN0MDA0X2xhbWJkYVdpdGhQYXJhbWV0ZXJJblBhY2thZ2UoKSB0aHJvd3MgRXhj
ZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJ
CSJZLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkge1xuIisKKwkJCQkJIiAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4iKworCQkJCQkiICAgIGNvbS5mb28uWC5t
YWluKGFyZ3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJCQkJIn0iLAorCQkJCQkiWC5qYXZhIiwK
KwkJCQkJInBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisK
KwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRl
bmRzIFNlcmlhbGl6YWJsZSB7IGludCBtKGludCBpKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJ
IiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQki
ICAgICAgICBGb28gZjEgPSBudWxsLCBmMiA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9
IChpKSAtPiBpKjI7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4i
KworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJ
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0oNCkpO1xuIisKKwkJCQkJIiAgICB9XG4i
KworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0s
CisJCQkJCSI4IiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7
ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90
IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHBy
b2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBl
Y3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJk
YU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5k
bGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBl
O1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJ
CSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKEkpSVxuIisKKwkJCQkiICAgIGlu
dm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KEkpSVxuIisKKwkJCQkiICAgIChJKUlcbiIr
CisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0
dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNlcGFyYXRv
cisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVj
dGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDA1X2NhcHR1cmluZ1Zh
cmlhYmxlTGFtYmRhV2l0aFBhcmFtZXRlckluUGFja2FnZSgpIHRocm93cyBFeGNlcHRpb24gewor
CQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlkuamF2YSIs
CisJCQkJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKworCQkJCQkiICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCQkJCSIgICAgY29tLmZvby5YLm1haW4oYXJncyk7
XG4iKworCQkJCQkiICB9XG4iKworCQkJCQkifSIsCisJCQkJCSJYLmphdmEiLAorCQkJCQkicGFj
a2FnZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVi
bGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFs
aXphYmxlIHsgaW50IG0oaW50IGkpOyB9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICAgIEZv
byBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBpbnQgbXVsdGlwbGllciA9IDM7XG4iKwor
CQkJCQkiICAgICAgICBmMSA9IChpKSAtPiBpICogbXVsdGlwbGllcjtcbiIrCisJCQkJCSIgICAg
ICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1
dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
ZjEubSg0KSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVy
LmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjEyIiwKKwkJCQkJbnVsbCwKKwkJ
CQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUs
IHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15
IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdo
IGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9r
ZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5
OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmlu
ZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEv
bGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKwor
CQkJCSIgICAgKEkpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRh
JDA6KElJKUlcbiIrCisJCQkJIiAgICAoSSlJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5n
IGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUu
c2VwYXJhdG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlgu
Y2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisKKwkv
LyBkaWZmZXJpbmcgdHlwZXMsIG5vdCBqdXN0IGludAorCXB1YmxpYyB2b2lkIHRlc3QwMDZfY2Fw
dHVyaW5nVmFyaWFibGVMYW1iZGFXaXRoUGFyYW1ldGVySW5QYWNrYWdlKCkgdGhyb3dzIEV4Y2Vw
dGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQki
WS5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBZIHtcbiIrCisJCQkJCSIgIHB1YmxpYyBzdGF0
aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xuIisKKwkJCQkJIiAgICBjb20uZm9vLlgubWFp
bihhcmdzKTtcbiIrCisJCQkJCSIgIH1cbiIrCisJCQkJCSJ9IiwKKwkJCQkJIlguamF2YSIsCisJ
CQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJ
CQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBGb28gZXh0ZW5k
cyBTZXJpYWxpemFibGUgeyBpbnQgbShTdHJpbmcgbik7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJ
CSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJ
IiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGludCBtdWx0aXBsaWVy
ID0gMztcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKG4pIC0+IEludGVnZXIudmFsdWVPZihuKSAq
IG11bHRpcGxpZXI7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4i
KworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJ
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0oXCIzM1wiKSk7XG4iKworCQkJCQkiICAg
IH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJ
CQkJfSwKKwkJCQkJIjk5IiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmlu
ZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0g
dG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJh
dGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmlu
ZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tl
L0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRo
b2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRo
b2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4i
KworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKExqYXZhL2xhbmcvU3Ry
aW5nOylJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9mb28vWC5sYW1iZGEkMDooSUxq
YXZhL2xhbmcvU3RyaW5nOylJXG4iKworCQkJCSIgICAgKExqYXZhL2xhbmcvU3RyaW5nOylJXG4i
KworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNB
dHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgImNvbSIrRmlsZS5zZXBhcmF0
b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBl
Y3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJLy8gRmFpbHMgdGhlIHNhbWUgd2F5IGFzIGphdmFj
IHJpZ2h0IG5vdy4uLiB3aXRoIE5QRSAoYjEyMCkKKwlwdWJsaWMgdm9pZCB4dGVzdDAwN19jYXB0
dXJpbmdGaWVsZExhbWJkYVdpdGhQYXJhbWV0ZXJJblBhY2thZ2UoKSB0aHJvd3MgRXhjZXB0aW9u
IHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJZLmph
dmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkge1xuIisKKwkJCQkJIiAgcHVibGljIHN0YXRpYyB2
b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4iKworCQkJCQkiICAgIGNvbS5mb28uWC5tYWluKGFy
Z3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJCQkJIn0iLAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJ
InBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJ
InB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50IG11bHRpcGxpZXIgPSAzO1xuIisK
KwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgaW50IG0oaW50
IGkpOyB9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICBuZXcgWCgpLnJ1bigpO1xuIisKKwkJ
CQkJIiAgICB9XG4iKworCQkJCQkiICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIg
ICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChpKSAtPiBpICog
dGhpcy5tdWx0aXBsaWVyO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZjEp
O1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJ
CQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKDQpKTtcbiIrCisJCQkJCSIgICAg
fVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJ
CQl9LAorCQkJCQkiMTIiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5n
IFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0
byBub3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0
ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5n
IGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2Uv
TGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhv
ZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhv
ZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIr
CisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoSSlJXG4iKworCQkJCSIg
ICAgaW52b2tlc3RhdGljIGNvbS9mb28vWC5sYW1iZGEkMDooSUkpSVxuIisKKwkJCQkiICAgIChJ
KUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0
aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNl
cGFyYXRvcisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVk
KGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDA4X2NhcHR1
cmluZ1R3b1ZhcmlhYmxlTGFtYmRhV2l0aFBhcmFtZXRlckluUGFja2FnZSgpIHRocm93cyBFeGNl
cHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJ
IlkuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKworCQkJCQkiICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCQkJCSIgICAgY29tLmZvby5YLm1h
aW4oYXJncyk7XG4iKworCQkJCQkiICB9XG4iKworCQkJCQkifSIsCisJCQkJCSJYLmphdmEiLAor
CQkJCQkicGFja2FnZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKwor
CQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVu
ZHMgU2VyaWFsaXphYmxlIHsgZmxvYXQgbShpbnQgaSwgZmxvYXQgZik7IH1cbiIrCisJCQkJCSJc
biIrCisJCQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xu
IisKKwkJCQkJIiAgICAgIG5ldyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJ
CSIgICAgcHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVs
bDtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKGksZikgLT4gKChmbG9hdClpKSAqIGY7XG4iKwor
CQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAgICAgICBm
MSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91
dC5wcmludGxuKGYxLm0oMyw0LjBmKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4i
LAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjEyLjAi
LAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXki
IH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2Vk
IGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9y
dHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0
ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3Rv
cnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3Vw
O0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xh
bmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9k
IGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoSUYpRlxuIisKKwkJCQkiICAgIGludm9rZXN0YXRp
YyBjb20vZm9vL1gubGFtYmRhJDA6KElGKUZcbiIrCisJCQkJIiAgICAoSUYpRlxuIisKKwkJCQki
ICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRl
KE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJjb20iK0ZpbGUuc2VwYXJhdG9yKyJmb28i
K0ZpbGUuc2VwYXJhdG9yKyJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRw
dXQsZGF0YSk7CisJfQorCQorCXB1YmxpYyB2b2lkIHRlc3QwMDlfY2FwdHVyaW5nVHdvU2xvdFZh
cmlhYmxlc0xhbWJkYVdpdGhQYXJhbWV0ZXJJblBhY2thZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJZLmphdmEi
LFJVTk5FUl9DTEFTUywKKwkJCQkJIlguamF2YSIsCisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4i
KworCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4i
KworCQkJCQkiICAgIGludGVyZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBkb3VibGUg
bShpbnQgaSwgbG9uZyBsKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgbmV3IFgoKS5y
dW4oKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIiAgICBwdWJsaWMgdm9pZCBydW4oKSB7
XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgZjEg
PSAoaSxsKSAtPiAoZG91YmxlKShpKmwpO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIu
d3JpdGUoZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQo
KTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKDMsNDBMKSk7XG4i
KworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBF
Ul9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjEyMC4wIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwK
KwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3
ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3Vt
ZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVj
dXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBq
YXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9s
YW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9s
YW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZv
a2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAg
KElKKURcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgY29tL2Zvby9YLmxhbWJkYSQwOihJSilE
XG4iKworCQkJCSIgICAgKElKKURcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9
IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0
b3IgKyAiY29tIitGaWxlLnNlcGFyYXRvcisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIp
OworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMg
dm9pZCB0ZXN0MDEwX1ZhcmFyZ3NMYW1iZGFFeHByZXNzaW9uKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWS5qYXZh
IixSVU5ORVJfQ0xBU1MsCisJCQkJCSJYLmphdmEiLAorCQkJCQkicGFja2FnZSBjb20uZm9vO1xu
IisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xu
IisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgU3RyaW5n
IG0oU3RyaW5nLi4uIHNzKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgbmV3IFgoKS5y
dW4oKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIiAgICBwdWJsaWMgdm9pZCBydW4oKSB7
XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgZjEg
PSAoc3RyaW5ncykgLT4gc3RyaW5nc1swXStzdHJpbmdzWzFdO1xuIisKKwkJCQkJIiAgICAgICAg
dXRpbC5IZWxwZXIud3JpdGUoZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwu
SGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5t
KFwiYWJjXCIsXCJkZWZcIikpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJ
CQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSJhYmNkZWYiLAor
CQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0p
OyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5
IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMg
bWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0K
KwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3Rvcnku
YWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xq
YXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcv
T2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFy
Z3VtZW50czpcbiIrCisJCQkJIiAgICAoW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0
cmluZztcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgY29tL2Zvby9YLmxhbWJkYSQwOihbTGph
dmEvbGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1xuIisKKwkJCQkiICAgIChbTGphdmEv
bGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1xuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0
cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBG
aWxlLnNlcGFyYXRvciArICJjb20iK0ZpbGUuc2VwYXJhdG9yKyJmb28iK0ZpbGUuc2VwYXJhdG9y
KyJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQor
CQorCS8vIEZhaWxzIHNhbWUgd2F5IGFzIGphdmFjIHJpZ2h0IG5vdy4uLiB3aXRoIGFuIE5QRSAo
YjEyMCkKKwlwdWJsaWMgdm9pZCB4dGVzdDAxMV9DYXB0dXJpbmdJbnN0YW5jZSgpIHRocm93cyBF
eGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJ
CQkJIlkuamF2YSIsUlVOTkVSX0NMQVNTLAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJInBhY2thZ2Ug
Y29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJInB1YmxpYyBj
bGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJs
ZSB7IFN0cmluZyBtKCk7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgU3RyaW5nIGZpZWxk
VmFsdWUgPSBcImhlbGxvXCI7XG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICBuZXcgWCgpLnJ1bigpO1xuIisKKwkJ
CQkJIiAgICB9XG4iKworCQkJCQkiICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIg
ICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9ICgpIC0+IHRoaXMu
ZmllbGRWYWx1ZTtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIr
CisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQki
ICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisK
KwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAor
CQkJCQkiYWJjZGVmIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBb
XSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8g
bm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVk
IHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBl
eHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xh
bWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RI
YW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RU
eXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKwor
CQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKFtMamF2YS9sYW5nL1N0cmlu
ZzspTGphdmEvbGFuZy9TdHJpbmc7XG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9mb28v
WC5sYW1iZGEkMDooW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJ
CQkJIiAgICAoW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJCQkJ
IiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0
ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNlcGFyYXRvcisiZm9v
IitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0
cHV0LGRhdGEpOworCX0KKworCXB1YmxpYyB2b2lkIHRlc3QwMTJfaW50ZXJzZWN0aW9uQ2FzdCgp
IHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJp
bmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJ
InB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNl
cmlhbGl6YWJsZSB7IGludCBtKCk7IH1cbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIE1hcmtlciB7
fVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJp
bmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJ
IiAgICAgICAgZjEgPSAoRm9vICYgTWFya2VyKSAoKSAtPiAzO1xuIisKKwkJCQkJIiAgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKFwiaXNNYXJrZXI/XCIrKGYxIGluc3RhbmNlb2YgTWFya2VyKSk7
XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAg
ICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lz
dGVtLm91dC5wcmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnBy
aW50bG4oXCJpc01hcmtlcj9cIisoZjEgaW5zdGFuY2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJCSIg
ICAgfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAor
CQkJCQl9LAorCQkJCQkiaXNNYXJrZXI/dHJ1ZVxuM1xuaXNNYXJrZXI/dHJ1ZSIsCisJCQkJCW51
bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5v
dCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2lu
ZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkg
dGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIw
OiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRh
ZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFu
Zy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7
KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRz
OlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQw
OigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDNcbiIrIC8vIEJpdEZsYWdzOiAw
eDAxID0gRkxBR19TRVJJQUxJWkFCTEUgMHgwMiA9IEZMQUdfTUFSS0VSCisJCQkJIiAgICAxXG4i
KyAvLyBNYXJrZXIgaW50ZXJmYWNlIGNvdW50CisJCQkJIiAgICBYJE1hcmtlclxuIjsKKwkJU3Ry
aW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZp
bGUuc2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1
dCxkYXRhKTsKKwl9CisKKwlwdWJsaWMgdm9pZCB0ZXN0MDEzX2ludGVyc2VjdGlvbkNhc3QoKSB0
aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5n
W117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJp
bnRlcmZhY2UgR29vIHt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAg
ICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgaW50IG0oKTsgfVxuIisKKwkJ
CQkJIiAgICBpbnRlcmZhY2UgTWFya2VyIHt9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1
YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICAg
IEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28gJiBHb28gJiBTZXJp
YWxpemFibGUgJiBNYXJrZXIpICgpIC0+IDM7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4oXCJpc01hcmtlcj9cIisoZjEgaW5zdGFuY2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzR29vP1wiKyhmMSBpbnN0YW5jZW9mIEdv
bykpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNTZXJpYWxpemFi
bGU/XCIrKGYxIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlKSk7XG4iKworCQkJCQkiICAgICAgICB1
dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5I
ZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0o
KSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc01hcmtlcj9cIiso
ZjEgaW5zdGFuY2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJp
bnRsbihcImlzR29vP1wiKyhmMSBpbnN0YW5jZW9mIEdvbykpO1xuIisKKwkJCQkJIiAgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKFwiaXNTZXJpYWxpemFibGU/XCIrKGYxIGluc3RhbmNlb2YgU2Vy
aWFsaXphYmxlKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVs
cGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJImlzTWFya2VyP3RydWVcbmlz
R29vP3RydWVcbmlzU2VyaWFsaXphYmxlP3RydWVcbjNcbmlzTWFya2VyP3RydWVcbmlzR29vP3Ry
dWVcbmlzU2VyaWFsaXphYmxlP3RydWUiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQlu
ZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNl
IHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRo
ZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4K
KwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFu
Zy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52
b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52
b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxs
U2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIr
CisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJCQkJIiAgICAoKUlc
biIrCisJCQkJIiAgICAzXG4iKyAvLyBCaXRGbGFnczogMHgwMSA9IEZMQUdfU0VSSUFMSVpBQkxF
IDB4MDIgPSBGTEFHX01BUktFUgorCQkJCSIgICAgMlxuIisgLy8gTWFya2VyIGludGVyZmFjZSBj
b3VudAorCQkJCSIgICAgR29vXG4iKworCQkJCSIgICAgWCRNYXJrZXJcbiI7CisJCVN0cmluZyBk
YXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNl
cGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0
YSk7CisJfQorCQorCXB1YmxpYyB2b2lkIHRlc3QwMTRfaW50ZXJzZWN0aW9uQ2FzdEFuZE5vdFNl
cmlhbGl6YWJsZSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAor
CQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby4q
O1xuIisKKwkJCQkJImludGVyZmFjZSBHb28ge31cbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7
XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBGb28geyBpbnQgbSgpOyB9XG4iKworCQkJCQkiICAg
IGludGVyZmFjZSBNYXJrZXIge31cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYx
ID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyAmIEdvbyAmIE1hcmtlcikgKCkg
LT4gMztcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzTWFya2VyP1wi
KyhmMSBpbnN0YW5jZW9mIE1hcmtlcikpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5w
cmludGxuKFwiaXNHb28/XCIrKGYxIGluc3RhbmNlb2YgR29vKSk7XG4iKworCQkJCQkiICAgICAg
ICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc1NlcmlhbGl6YWJsZT9cIisoZjEgaW5zdGFuY2VvZiBT
ZXJpYWxpemFibGUpKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5t
KCkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZh
IixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSJpc01hcmtlcj90cnVlXG5pc0dvbz90cnVl
XG5pc1NlcmlhbGl6YWJsZT9mYWxzZVxuMyIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJ
CW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9y
Y2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwg
dGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9u
LgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9s
YW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9p
bnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9p
bnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0Nh
bGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxu
IisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgp
SVxuIisKKwkJCQkiICAgIDJcbiIrIC8vIEJpdEZsYWdzOiAweDAyID0gRkxBR19NQVJLRVIKKwkJ
CQkiICAgIDJcbiIrIC8vIE1hcmtlciBpbnRlcmZhY2UgY291bnQKKwkJCQkiICAgIEdvb1xuIisK
KwkJCQkiICAgIFgkTWFya2VyXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0
aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOwor
CQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9p
ZCB0ZXN0MDE1X3NlcmlhbGl6YWJsZVZpYUludGVyc2VjdGlvbkNhc3QoKSB0aHJvd3MgRXhjZXB0
aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJY
LmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJpbnRlcmZhY2UgR29v
IHt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2Ug
Rm9vIHsgaW50IG0oKTsgfVxuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgTWFya2VyIHt9XG4iKwor
CQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFy
Z3MpIHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAg
ICBmMSA9IChGb28gJiBHb28gJiBTZXJpYWxpemFibGUgJiBNYXJrZXIpICgpIC0+IDM7XG4iKwor
CQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc01hcmtlcj9cIisoZjEgaW5zdGFu
Y2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlz
R29vP1wiKyhmMSBpbnN0YW5jZW9mIEdvbykpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91
dC5wcmludGxuKFwiaXNTZXJpYWxpemFibGU/XCIrKGYxIGluc3RhbmNlb2YgU2VyaWFsaXphYmxl
KSk7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQki
ICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0
LnByaW50bG4oXCJpc01hcmtlcj9cIisoZjEgaW5zdGFuY2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzR29vP1wiKyhmMSBpbnN0YW5jZW9mIEdv
bykpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNTZXJpYWxpemFi
bGU/XCIrKGYxIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlKSk7XG4iKworCQkJCQkiICAgIH1cbiIr
CisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwK
KwkJCQkJImlzTWFya2VyP3RydWVcbmlzR29vP3RydWVcbmlzU2VyaWFsaXphYmxlP3RydWVcbjNc
bmlzTWFya2VyP3RydWVcbmlzR29vP3RydWVcbmlzU2VyaWFsaXphYmxlP3RydWUiLAorCQkJCQlu
dWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBO
b3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3Np
bmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5
IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQki
MDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0
YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xh
bmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0
OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50
czpcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEk
MDooKUlcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAzXG4iKyAvLyBCaXRGbGFnczog
MHgwMSA9IEZMQUdfU0VSSUFMSVpBQkxFIDB4MDIgPSBGTEFHX01BUktFUgorCQkJCSIgICAgMlxu
IisgLy8gTWFya2VyIGludGVyZmFjZSBjb3VudAorCQkJCSIgICAgR29vXG4iKworCQkJCSIgICAg
WCRNYXJrZXJcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhw
ZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQorCS8vIFNBTSB0eXBlIG5vdCBmaXJz
dCBpbiBpbnRlcnNlY3Rpb24gY2FzdAorCXB1YmxpYyB2b2lkIHRlc3QwMTZfYnVnNDI0MjExKCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtc
biIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9p
ZCBtYWluKFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIgkJQXV0
b0Nsb3NlYWJsZSBvbmUgPSAoKFNlcmlhbGl6YWJsZSAmIEF1dG9DbG9zZWFibGUpICgoKSAtPiB7
fSkpO1xuIisKKwkJCQkJIgkJb25lLmNsb3NlKCk7XG4iKworCQkJCQkiCX1cbiIrCisJCQkJCSJ9
IgorCQkJCQl9LAorCQkJCQkiIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0
cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUg
Vk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2Vu
ZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0
cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52
b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7
XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKClWXG4iKworCQkJ
CSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClWXG4iKworCQkJCSIgICAgKClWXG4iKwor
CQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tF
eHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJLy8gTm93IFNBTSB0eXBlIGZp
cnN0CisJcHVibGljIHZvaWQgdGVzdDAxN19idWc0MjQyMTEoKSB0aHJvd3MgRXhjZXB0aW9uIHsK
KwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEi
LAorCQkJCQkiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlO1xuIisKKwkJCQkJInB1YmxpYyBj
bGFzcyBYIHtcbiIrCisJCQkJCSIJcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3Zb
XSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4iKworCQkJCQkiCQlBdXRvQ2xvc2VhYmxlIG9uZSA9ICgo
QXV0b0Nsb3NlYWJsZSAmIFNlcmlhbGl6YWJsZSkgKCgpIC0+IHt9KSk7XG4iKworCQkJCQkiCQlv
bmUuY2xvc2UoKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iCisJCQkJCX0sCisJCQkJCSIi
LAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXki
IH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2Vk
IGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9y
dHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0
ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3Rv
cnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3Vw
O0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xh
bmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9k
IGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKVZcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMg
WC5sYW1iZGEkMDooKVZcbiIrCisJCQkJIiAgICAoKVZcbiIrCisJCQkJIiAgICAxXG4iOworCQlT
dHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsg
RmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0
cHV0LGRhdGEpOworCX0KKwkKKwkvLyBOb3QgU2VyaWFsaXphYmxlIGJ1dCBhIHJlZ3VsYXIgbWFy
a2VyIGludGVyZmFjZQorCXB1YmxpYyB2b2lkIHRlc3QwMThfYnVnNDI0MjExKCkgdGhyb3dzIEV4
Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJ
CQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIrCisJCQkJ
CSJpbnRlcmZhY2UgTWFya2VyIHt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJ
CQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJvd3MgRXhjZXB0
aW9uIHtcbiIrCisJCQkJCSIJCUF1dG9DbG9zZWFibGUgb25lID0gKChNYXJrZXIgJiBBdXRvQ2xv
c2VhYmxlKSAoKCkgLT4ge30pKTtcbiIrCisJCQkJCSIJCW9uZS5jbG9zZSgpO1xuIisKKwkJCQkJ
Igl9XG4iKworCQkJCQkifSIKKwkJCQkJfSwKKwkJCQkJIiIsCisJCQkJCW51bGwsCisJCQkJCXRy
dWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxl
c3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBh
cmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMg
ZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0
aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGph
dmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGph
dmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcv
aW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQki
ICAgICgpVlxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpVlxuIisKKwkJ
CQkiICAgICgpVlxuIisKKwkJCQkiICAgIDJcbiIrCisJCQkJIiAgICAxXG4iKworCQkJCSIgICAg
TWFya2VyXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0
ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVj
dGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwkvLyBOb3cgU0FNIHR5cGUgbm90IGZp
cnN0IGFuZCBzZXJpYWxpemF0aW9uIG9jY3VycmluZworCXB1YmxpYyB2b2lkIHRlc3QwMTlfYnVn
NDI0MjExKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJ
bmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlh
bGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZhY2UgU0FNIHtpbnQgbSgpO31cbiIrCisJCQkJCSJw
dWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmlu
ZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIgkJU0FNIG9uZSA9ICgoU2Vy
aWFsaXphYmxlICYgU0FNKSAoKCkgLT4gMykpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91
dC5wcmludGxuKG9uZS5tKCkpO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUo
b25lKTtcbiIrCisJCQkJCSIgICAgICAgIG9uZSA9IChTQU0pdXRpbC5IZWxwZXIucmVhZCgpO1xu
IisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKG9uZS5tKCkpO1xuIisKKwkJCQkJ
Igl9XG4iKworCQkJCQkifSIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJ
CQl9LAorCQkJCQkiM1xuMyIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJp
bmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZN
IHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVy
YXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJp
bmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9r
ZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xu
IisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQki
ICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJ
CQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhw
ZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQorCXB1YmxpYyB2b2lkIHRlc3QwMjBf
bGFtYmRhTmFtZXMoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgK
KwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8u
U2VyaWFsaXphYmxlO1xuIisKKwkJCQkJImludGVyZmFjZSBGb28ge2ludCBtKCk7fVxuIisKKwkJ
CQkJImludGVyZmFjZSBGb29OIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQgbSgpO31cbiIrCisJ
CQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIgkJQXV0b0Nsb3Nl
YWJsZSBvbmUgPSAoKSAtPiB7fTtcbiIrCisJCQkJCSIgICAgICAgbmV3IFgoKS5tKCk7XG4iKwor
CQkJCQkiICAgICAgIG9uZS5jbG9zZSgpO1xuIisKKwkJCQkJIgl9XG4iKworCQkJCQkiICAgcHVi
bGljIHZvaWQgbSgpIHsgRm9vIGYgPSAoKSAtPiAzOyBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkp
O31cbiIrCisJCQkJCSIgICBwdWJsaWMgdm9pZCBuKCkgeyBGb29OIGYgPSAoKSAtPiAzOyBTeXN0
ZW0ub3V0LnByaW50bG4oZi5tKCkpO31cbiIrCisJCQkJCSJ9IgorCQkJCQl9LAorCQkJCQkiMyIs
CisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIg
fSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQg
YnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0
cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQg
PQorCQkJIiAgcHJpdmF0ZSBzdGF0aWMgc3ludGhldGljIHZvaWQgbGFtYmRhJDAoKSB0aHJvd3Mg
amF2YS5sYW5nLkV4Y2VwdGlvbjtcbiI7CisJCWNoZWNrRGlzYXNzZW1ibGVkQ2xhc3NGaWxlKE9V
VFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIiwgIlgiLCBleHBlY3RlZE91dHB1
dCwgQ2xhc3NGaWxlQnl0ZXNEaXNhc3NlbWJsZXIuU1lTVEVNKTsKKwkJZXhwZWN0ZWRPdXRwdXQg
PQorCQkJIiAgcHJpdmF0ZSBzdGF0aWMgc3ludGhldGljIGludCBsYW1iZGEkMSgpO1xuIjsKKwkJ
Y2hlY2tEaXNhc3NlbWJsZWRDbGFzc0ZpbGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsg
IlguY2xhc3MiLCAiWCIsIGV4cGVjdGVkT3V0cHV0LCBDbGFzc0ZpbGVCeXRlc0Rpc2Fzc2VtYmxl
ci5TWVNURU0pOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDIxX2xhbWJkYU5hbWVzVmFyaWFu
dHMoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcg
U3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXph
YmxlO1xuIisKKwkJCQkJImludGVyZmFjZSBGb28ge2ludCBtKCk7fVxuIisKKwkJCQkJImludGVy
ZmFjZSBGb29TZXIgZXh0ZW5kcyBTZXJpYWxpemFibGUge2ludCBtKCk7fVxuIisKKwkJCQkJImlu
dGVyZmFjZSBGb29JIHtpbnQgbShpbnQgaSk7fVxuIisKKwkJCQkJImludGVyZmFjZSBGb29TZXJJ
IGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQgbShpbnQgaSk7fVxuIisKKwkJCQkJInB1YmxpYyBj
bGFzcyBYIHtcbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICBGb28gaW5zdGFuY2VGaWVsZCA9ICgp
IC0+IDE7XG4iKworCQkJCQkiICAgRm9vU2VyIGluc3RhbmNlRmllbGRTZXIgPSAoKSAtPiAyO1xu
IisKKwkJCQkJIiAgIHN0YXRpYyBGb28gc3RhdGljRmllbGQgPSAoKSAtPiAzO1xuIisKKwkJCQkJ
IiAgIHN0YXRpYyBGb29TZXIgc3RhdGljRmllbGRTZXIgPSAoKSAtPiA0O1xuIisKKwkJCQkJIiAg
IEZvb0kgaW5zdGFuY2VGaWVsZEkgPSAoaSkgLT4gNTtcbiIrCisJCQkJCSIgICBGb29TZXJJIGlu
c3RhbmNlRmllbGRTZXJJID0gKGkpIC0+IDY7XG4iKworCQkJCQkiXG4iKworCQkJCQkiCXB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisK
KwkJCQkJIiAgICAgaW50IHggPSA0O1xuIisKKwkJCQkJIiAgICAgRm9vIGEgPSAoKSAtPiAxO1xu
IisKKwkJCQkJIiAgICAgRm9vU2VyIGIgPSAoKSAtPiAyO1xuIisKKwkJCQkJIiAgICAgRm9vSSBj
ID0gKGkpIC0+IDM7XG4iKworCQkJCQkiICAgICBGb29TZXJJIGQgPSAoaSkgLT4gNDtcbiIrCisJ
CQkJCSIgICAgIEZvbyBlID0gKCkgLT4geDtcbiIrCisJCQkJCSIgICAgIEZvb1NlciBmID0gKCkg
LT4geCsxO1xuIisKKwkJCQkJIiAgICAgRm9vSSBnID0gKGkpIC0+IHgrMjtcbiIrCisJCQkJCSIg
ICAgIEZvb1NlckkgaCA9IChpKSAtPiB4KzM7XG4iKworCQkJCQkiCX1cbiIrCisJCQkJCSJ9Igor
CQkJCQl9LAorCQkJCQkiIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmlu
ZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0g
dG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJh
dGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmlu
ZyBleHBlY3RlZE91dHB1dCA9CisJCQkJInN0YXRpYyBsYW1iZGEkMCgpSVxuIisKKwkJCQkic3Rh
dGljIGxhbWJkYSQxKClJXG4iKworCQkJCSJzdGF0aWMgbGFtYmRhJDIoKUlcbiIrCisJCQkJInN0
YXRpYyBsYW1iZGEkMygpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQ0KEkpSVxuIisKKwkJCQki
c3RhdGljIGxhbWJkYSQ1KEkpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQ2KClJXG4iKworCQkJ
CSJzdGF0aWMgbGFtYmRhJDcoKUlcbiIrCisJCQkJInN0YXRpYyBsYW1iZGEkOChJKUlcbiIrCisJ
CQkJInN0YXRpYyBsYW1iZGEkOShJKUlcbiIrCisJCQkJInN0YXRpYyBsYW1iZGEkMTAoSSlJXG4i
KworCQkJCSJzdGF0aWMgbGFtYmRhJDExKEkpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQxMihJ
SSlJXG4iKworCQkJCSJzdGF0aWMgbGFtYmRhJDEzKElJKUlcbiI7CisJCVN0cmluZyBhY3R1YWxP
dXRwdXQgPSBwcmludExhbWJkYU1ldGhvZHMoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsg
IlguY2xhc3MiKTsKKwkJaWYgKCFhY3R1YWxPdXRwdXQuZXF1YWxzKGV4cGVjdGVkT3V0cHV0KSkg
eworCQkJcHJpbnRJdChhY3R1YWxPdXRwdXQpOworCQkJYXNzZXJ0RXF1YWxzKGV4cGVjdGVkT3V0
cHV0LGFjdHVhbE91dHB1dCk7CisJCX0KKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAyMl9uZXN0
ZWRMYW1iZGFzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJ
CQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNl
cmlhbGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxl
IHtpbnQgbSgpO31cbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiCXB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisK
KwkJCQkJIgkJRm9vIGYgPSAoKSAtPiB7IHJldHVybiAoKEZvbykoKS0+MzMpLm0oKTt9O1xuIisK
KwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkpO1xuIisKKwkJCQkJIiAgICAg
ICB1dGlsLkhlbHBlci53cml0ZShmKTtcbiIrCisJCQkJCSIgICAgICAgZiA9IChGb28pdXRpbC5I
ZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkp
O1xuIisKKwkJCQkJIgl9XG4iKworCQkJCQkifSIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVS
X0NMQVNTLAorCQkJCQl9LAorCQkJCQkiMzNcbjMzIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwK
KwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3
ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3Vt
ZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVj
dXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBq
YXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9s
YW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9s
YW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZv
a2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAg
KClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4iKworCQkJCSIg
ICAgKClJXG4iKworCQkJCSIgICAgMVxuIisKKwkJCQkiMTogaW52b2tlc3RhdGljIGphdmEvbGFu
Zy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52
b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52
b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxs
U2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIr
CisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMTooKUlcbiIrCisJCQkJIiAgICAoKUlc
biIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9k
c0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQlj
aGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0
ZXN0MDIzX2xhbWJkYXNJbk90aGVyUGxhY2VzX0ZpZWxkKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJ
CXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwK
KwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZhY2Ug
Rm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQgbSgpO31cbiIrCisJCQkJCSJwdWJsaWMgY2xh
c3MgWCB7XG4iKworCQkJCQkiICAgRm9vIGYgPSAoKSAtPiA5OTtcbiIgKworCQkJCQkiCXB1Ymxp
YyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisK
KwkJCQkJIiAgICAgbmV3IFgoKS5ydW4oKTtcbiIrCisJCQkJCSIgICB9XG4iKworCQkJCQkiICAg
cHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
Zi5tKCkpO1xuIisKKwkJCQkJIiAgICAgICB1dGlsLkhlbHBlci53cml0ZShmKTtcbiIrCisJCQkJ
CSIgICAgICAgZiA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICBT
eXN0ZW0ub3V0LnByaW50bG4oZi5tKCkpO1xuIisKKwkJCQkJIgl9XG4iKworCQkJCQkifSIsCisJ
CQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiOTlcbjk5IiwK
KwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9
KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBi
eSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRz
IG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9
CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5
LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtM
amF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5n
L09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBh
cmd1bWVudHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgu
bGFtYmRhJDA6KClJXG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3Ry
aW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZp
bGUuc2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1
dCxkYXRhKTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAyNF9sYW1iZGFzSW5PdGhlclBsYWNl
c19NZXRob2RQYXJhbWV0ZXIoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3Jt
VGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGph
dmEuaW8uU2VyaWFsaXphYmxlO1xuIisKKwkJCQkJImludGVyZmFjZSBGb28gZXh0ZW5kcyBTZXJp
YWxpemFibGUge2ludCBtKCk7fVxuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJ
CSIJcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3ZbXSkgdGhyb3dzIEV4Y2VwdGlv
biB7XG4iKworCQkJCQkiICAgICAgIG5ldyBYKCkucnVuKCgpLT4zMyk7XG4iKworCQkJCQkiICAg
fVxuIisKKwkJCQkJIiAgIHB1YmxpYyB2b2lkIHJ1bihGb28gZikge1xuIisKKwkJCQkJIiAgICAg
ICBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkpO1xuIisKKwkJCQkJIiAgICAgICB1dGlsLkhlbHBl
ci53cml0ZShmKTtcbiIrCisJCQkJCSIgICAgICAgZiA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgp
O1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkpO1xuIisKKwkJCQkJ
Igl9XG4iKworCQkJCQkifSIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJ
CQl9LAorCQkJCQkiMzNcbjMzIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0
cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUg
Vk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2Vu
ZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0
cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52
b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7
XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJ
CSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4iKworCQkJCSIgICAgKClJXG4iKwor
CQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tF
eHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAy
NV9sYW1iZGFzV2l0aEdlbmVyaWNJbmZlcmVuY2luZygpIHRocm93cyBFeGNlcHRpb24geworCQl0
aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJ
CQkJCSJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7XG4iKworCQkJCQkiaW1wb3J0IGphdmEu
dXRpbC5mdW5jdGlvbi4qO1xuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIJ
cHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3ZbXSkgdGhyb3dzIEV4Y2VwdGlvbiB7
XG4iKworCQkJCQkiICAgICAgIG5ldyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgfVxuIisKKwkJ
CQkJIiAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIgICAgICAgSW50RnVuY3Rpb248
SW50ZWdlcj4gdGltZXMzID0gKEludEZ1bmN0aW9uPEludGVnZXI+ICYgU2VyaWFsaXphYmxlKSAo
dHJpcGxlKSAtPiAzICogdHJpcGxlO1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50
bG4odGltZXMzLmFwcGx5KDQpKTtcbiIrCisJCQkJCSIgICAgICAgdXRpbC5IZWxwZXIud3JpdGUo
dGltZXMzKTtcbiIrCisJCQkJCSIgICAgICAgdGltZXMzID0gKEludEZ1bmN0aW9uPEludGVnZXI+
KXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KHRpbWVzMy5hcHBseSg0KSk7XG4iKworCQkJCQkiCX1cbiIrCisJCQkJCSJ9IiwKKwkJCQkJIkhl
bHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSIxMlxuMTIiLAorCQkJCQlu
dWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBO
b3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3Np
bmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5
IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQki
MDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0
YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xh
bmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0
OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50
czpcbiIrCisJCQkJIiAgICAoSSlMamF2YS9sYW5nL09iamVjdDtcbiIrCisJCQkJIiAgICBpbnZv
a2VzdGF0aWMgWC5sYW1iZGEkMDooSSlMamF2YS9sYW5nL0ludGVnZXI7XG4iKworCQkJCSIgICAg
KEkpTGphdmEvbGFuZy9JbnRlZ2VyO1xuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRh
ID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFy
YXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7
CisJfQorCXB1YmxpYyB2b2lkIHRlc3QwMjZfbGFtYmRhc0luT3RoZXJQbGFjZXNfQ2xpbml0KCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtc
biIrCisJCQkJCSJpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQgbSgpO31c
biIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgc3RhdGljIHtcbiIrCisJ
CQkJCSIgICAgIEZvbyBmID0gKCkgLT4gOTk7XG4iICsKKwkJCQkJIiAgIH1cbiIrCisJCQkJCSIJ
cHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFyZ3ZbXSkgdGhyb3dzIEV4Y2VwdGlvbiB7
XG4iKworCQkJCQkiICAgICBuZXcgWCgpLnJ1bigpO1xuIisKKwkJCQkJIiAgIH1cbiIrCisJCQkJ
CSIgICBwdWJsaWMgdm9pZCBydW4oKSB7XG4iKworCQkJCQkiICAgICAgIEZvbyBmID0gKCktPjk5
O1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZi5tKCkpO1xuIisKKwkJCQkJ
IiAgICAgICB1dGlsLkhlbHBlci53cml0ZShmKTtcbiIrCisJCQkJCSIgICAgICAgZiA9IChGb28p
dXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4o
Zi5tKCkpO1xuIisKKwkJCQkJIgl9XG4iKworCQkJCQkifSIsCisJCQkJCSJIZWxwZXIuamF2YSIs
SEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiOTlcbjk5IiwKKwkJCQkJbnVsbCwKKwkJCQkJ
dHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVu
bGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZt
IGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0
cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0
YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihM
amF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztM
amF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFu
Zy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJ
CSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4iKwor
CQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIisKKwkJCQkiMTogaW52b2tlc3RhdGljIGph
dmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xh
bmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xh
bmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9r
ZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAo
KUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMTooKUlcbiIrCisJCQkJIiAg
ICAoKUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFw
TWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIp
OworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwkKKwkvLyAt
LS0KKwkKKwlwcml2YXRlIHZvaWQgY2hlY2tFeHBlY3RlZChTdHJpbmcgZXhwZWN0ZWQsIFN0cmlu
ZyBhY3R1YWwpIHsKKwkJaWYgKCFleHBlY3RlZC5lcXVhbHMoYWN0dWFsKSkgeworCQkJcHJpbnRJ
dChhY3R1YWwpOworCQl9CisJCWFzc2VydEVxdWFscyhleHBlY3RlZCxhY3R1YWwpOworCX0KKwkK
KwkvKioKKwkgKiBQcmludCBhIHBpZWNlIG9mIHRleHQgd2l0aCB0aGUgbmVjZXNzYXJ5IGV4dHJh
IHF1b3RlcyBhbmQgbmV3bGluZXMgc28gdGhhdCBpdCBjYW4gYmUgY3V0L3Bhc3RlZCBpbnRvCisJ
ICogdGhlIHRlc3Qgc291cmNlIGZpbGUuCisJICovCisJcHJpdmF0ZSB2b2lkIHByaW50SXQoU3Ry
aW5nIHRleHQpIHsKKwkJU3RyaW5nIHF1b3RlZFRleHQgPSB0ZXh0OworCQlpZiAoIXF1b3RlZFRl
eHQuc3RhcnRzV2l0aCgiXCIiKSkgeworCQkJcXVvdGVkVGV4dCA9ICJcIiIrcXVvdGVkVGV4dC5y
ZXBsYWNlQWxsKCJcbiIsICJcXFxcblwiK1xuXCIiKTsKKwkJCXF1b3RlZFRleHQgPSBxdW90ZWRU
ZXh0LnN1YnN0cmluZygwLHF1b3RlZFRleHQubGVuZ3RoKCktMyk7CisJCX0KKwkJU3lzdGVtLm91
dC5wcmludGxuKHF1b3RlZFRleHQpOworCX0KKwkKKwkvKioKKwkgKiBQcmludCB0aGUgYm9vdHN0
cmFwIG1ldGhvZHMgYXR0cmlidXRlIGluIGEgdmVyeSBzaW1pbGFyIGZhc2hpb24gdG8gamF2YXAg
Zm9yIGNoZWNraW5nLgorCSAqIFVubGlrZSBqYXZhcCB0aGUgY29uc3RhbnQgcG9vbCBpbmRleGVz
IGFyZSBub3QgaW5jbHVkZWQsIHRvIG1ha2UgdGhlIHRlc3QgYSBsaXR0bGUgbGVzcworCSAqIGZy
YWdpbGUuCisJICovCisJcHJpdmF0ZSBTdHJpbmcgcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKFN0cmluZyBmaWxlcGF0aCkgeworCQlJQ2xhc3NGaWxlUmVhZGVyIGNmciA9IFRvb2xGYWN0
b3J5LmNyZWF0ZURlZmF1bHRDbGFzc0ZpbGVSZWFkZXIoZmlsZXBhdGgsIElDbGFzc0ZpbGVSZWFk
ZXIuQ0xBU1NGSUxFX0FUVFJJQlVURVMpOworCQlCb290c3RyYXBNZXRob2RzQXR0cmlidXRlIGJv
b3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUgPSBudWxsOworCQlJQ2xhc3NGaWxlQXR0cmlidXRlW10g
YXR0cnMgPSBjZnIuZ2V0QXR0cmlidXRlcygpOworCQlmb3IgKGludCBpPTAsbWF4PWF0dHJzLmxl
bmd0aDtpPG1heDtpKyspIHsKKwkJCWlmIChuZXcgU3RyaW5nKGF0dHJzW2ldLmdldEF0dHJpYnV0
ZU5hbWUoKSkuZXF1YWxzKCJCb290c3RyYXBNZXRob2RzIikpIHsKKwkJCQlib290c3RyYXBNZXRo
b2RzQXR0cmlidXRlID0gKEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUpYXR0cnNbaV07CisJCQl9
CisJCX0KKwkJaWYgKGJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGU9PW51bGwpIHsKKwkJCXJldHVy
biAiIjsKKwkJfQorCQlJQ29uc3RhbnRQb29sIGNwID0gY2ZyLmdldENvbnN0YW50UG9vbCgpOwor
CQlTdHJpbmdCdWlsZGVyIHNiID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKKwkJaW50IGJtYUxlbmd0
aCA9IGJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUuZ2V0Qm9vdHN0cmFwTWV0aG9kc0xlbmd0aCgp
OworCQlmb3IgKGludCBpPTA7aTxibWFMZW5ndGg7aSsrKSB7CisJCQlJQm9vdHN0cmFwTWV0aG9k
c0VudHJ5IGVudHJ5ID0gYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS5nZXRCb290c3RyYXBNZXRo
b2RzKClbaV07CisJCQlpbnQgbXIgPSBlbnRyeS5nZXRCb290c3RyYXBNZXRob2RSZWZlcmVuY2Uo
KTsKKwkJCUlDb25zdGFudFBvb2xFbnRyeTIgaWNwZSA9IChJQ29uc3RhbnRQb29sRW50cnkyKWNm
ci5nZXRDb25zdGFudFBvb2woKS5kZWNvZGVFbnRyeShtcik7CisJCQkKKwkJCXNiLmFwcGVuZChp
KS5hcHBlbmQoIjogIikuYXBwZW5kKGZvcm1hdFJlZmVyZW5jZUtpbmQoaWNwZS5nZXRSZWZlcmVu
Y2VLaW5kKCkpKTsKKwkJCXNiLmFwcGVuZCgiICIpLmFwcGVuZChmb3JtYXQoY3AsaWNwZS5nZXRS
ZWZlcmVuY2VJbmRleCgpKSk7CQorCQkJc2IuYXBwZW5kKCJcbiIpOworCQkJaW50W10gYXJncyA9
IGVudHJ5LmdldEJvb3RzdHJhcEFyZ3VtZW50cygpOworCQkJc2IuYXBwZW5kKCIgIE1ldGhvZCBh
cmd1bWVudHM6XG4iKTsKKwkJCWZvciAoaW50IGE9MDthPGFyZ3MubGVuZ3RoO2ErKykgeworCQkJ
CXNiLmFwcGVuZCgiICAgICIpLmFwcGVuZChmb3JtYXQoY3AsYXJnc1thXSkpLmFwcGVuZCgiXG4i
KTsKKwkJCX0KKwkJfQorCQlyZXR1cm4gc2IudG9TdHJpbmcoKTsKKwl9CisJCisJcHJpdmF0ZSBT
dHJpbmcgcHJpbnRMYW1iZGFNZXRob2RzKFN0cmluZyBmaWxlcGF0aCkgeworCQlJQ2xhc3NGaWxl
UmVhZGVyIGNmciA9IFRvb2xGYWN0b3J5LmNyZWF0ZURlZmF1bHRDbGFzc0ZpbGVSZWFkZXIoZmls
ZXBhdGgsIElDbGFzc0ZpbGVSZWFkZXIuTUVUSE9EX0lORk9TKTsKKwkJSU1ldGhvZEluZm9bXSBt
ZXRob2RJbmZvcyA9IGNmci5nZXRNZXRob2RJbmZvcygpOworCQlTdHJpbmdCdWZmZXIgYnVmID0g
bmV3IFN0cmluZ0J1ZmZlcigpOworCQlmb3IgKGludCBpID0gMCwgbWF4ID0gbWV0aG9kSW5mb3Mu
bGVuZ3RoOyBpIDwgbWF4OyBpKyspIHsKKwkJCUlNZXRob2RJbmZvIG1ldGhvZEluZm8gPSBtZXRo
b2RJbmZvc1tpXTsKKwkJCWlmICghbmV3IFN0cmluZyhtZXRob2RJbmZvLmdldE5hbWUoKSkuc3Rh
cnRzV2l0aCgibGFtYmRhIikpIAorCQkJCWNvbnRpbnVlOworCQkJaW50IGFjY2Vzc0ZsYWdzID0g
bWV0aG9kSW5mby5nZXRBY2Nlc3NGbGFncygpOworCQkJaWYgKE1vZGlmaWVyLmlzU3RhdGljKGFj
Y2Vzc0ZsYWdzKSkgeworCQkJCWJ1Zi5hcHBlbmQoInN0YXRpYyAiKTsKKwkJCX0KKwkJCWJ1Zi5h
cHBlbmQobWV0aG9kSW5mby5nZXROYW1lKCkpOworCQkJYnVmLmFwcGVuZChtZXRob2RJbmZvLmdl
dERlc2NyaXB0b3IoKSk7CisJCQlidWYuYXBwZW5kKCJcbiIpOworCQl9CisJCXJldHVybiBidWYu
dG9TdHJpbmcoKTsKKwl9CisJCisJU3RyaW5nIGZvcm1hdFJlZmVyZW5jZUtpbmQoaW50IGtpbmQp
IHsKKwkJc3dpdGNoIChraW5kKSB7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5NRVRI
T0RfVFlQRV9SRUZfSW52b2tlU3RhdGljOgorCQkJCXJldHVybiAiaW52b2tlc3RhdGljIjsKKwkJ
CWRlZmF1bHQ6CisJCQkJdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigibnlpIGZvciAi
K2tpbmQpOworCQl9CisJfQorCQorCVN0cmluZyBmb3JtYXQoSUNvbnN0YW50UG9vbCBjcCwgaW50
IGVudHJ5TnVtYmVyKSB7CisJCUlDb25zdGFudFBvb2xFbnRyeSBlbnRyeSA9IGNwLmRlY29kZUVu
dHJ5KGVudHJ5TnVtYmVyKTsKKwkJaWYgKGVudHJ5ID09IG51bGwpIHsKKwkJCXJldHVybiAibnVs
bCI7CisJCX0KKwkJc3dpdGNoIChlbnRyeS5nZXRLaW5kKCkpIHsKKwkJCWNhc2UgSUNvbnN0YW50
UG9vbENvbnN0YW50LkNPTlNUQU5UX0ludGVnZXI6CisJCQkJcmV0dXJuIEludGVnZXIudG9TdHJp
bmcoZW50cnkuZ2V0SW50ZWdlclZhbHVlKCkpOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3Rh
bnQuQ09OU1RBTlRfVXRmODoKKwkJCQlyZXR1cm4gbmV3IFN0cmluZyhlbnRyeS5nZXRVdGY4VmFs
dWUoKSk7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9NZXRob2RyZWY6
CisJCQkJcmV0dXJuIG5ldyBTdHJpbmcoZW50cnkuZ2V0Q2xhc3NOYW1lKCkpKyIuIituZXcgU3Ry
aW5nKGVudHJ5LmdldE1ldGhvZE5hbWUoKSkrIjoiK25ldyBTdHJpbmcoZW50cnkuZ2V0TWV0aG9k
RGVzY3JpcHRvcigpKTsKKwkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNPTlNUQU5UX01l
dGhvZEhhbmRsZToKKwkJCQlJQ29uc3RhbnRQb29sRW50cnkyIGVudHJ5MiA9IChJQ29uc3RhbnRQ
b29sRW50cnkyKWVudHJ5OworCQkJCXJldHVybiBmb3JtYXRSZWZlcmVuY2VLaW5kKGVudHJ5Mi5n
ZXRSZWZlcmVuY2VLaW5kKCkpKyIgIitmb3JtYXQoY3AsZW50cnkyLmdldFJlZmVyZW5jZUluZGV4
KCkpOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfTWV0aG9kVHlwZToK
KwkJCQlyZXR1cm4gZm9ybWF0KGNwLCgoSUNvbnN0YW50UG9vbEVudHJ5MillbnRyeSkuZ2V0RGVz
Y3JpcHRvckluZGV4KCkpOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRf
Q2xhc3M6CisJCQkJcmV0dXJuIG5ldyBTdHJpbmcoZW50cnkuZ2V0Q2xhc3NJbmZvTmFtZSgpKTsK
KwkJCWRlZmF1bHQ6CisJCQkJCXRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oIm55aSBm
b3IgIitlbnRyeS5nZXRLaW5kKCkpOworCQl9CisJfQorCQorfQorCmRpZmYgLS1naXQgYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5tb2RlbC9zcmMvb3JnL2VjbGlwc2UvamR0L2NvcmUvdGVz
dHMvUnVuT25seUphdmE4VGVzdHMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1v
ZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2YThUZXN0cy5qYXZh
CmluZGV4IDBlZTM1MDUuLjViZWY1ZDUgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
LnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2YThU
ZXN0cy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2YThUZXN0cy5qYXZhCkBAIC0xMSw2ICsx
MSw4IEBACiAgKgogICogQ29udHJpYnV0b3JzOgogICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGlu
aXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgorICogICAgICAgIEFuZHkgQ2xlbWVudCAoR29Q
aXZvdGFsLCBJbmMpIGFjbGVtZW50QGdvcGl2b3RhbC5jb20gLSBDb250cmlidXRpb25zIGZvcgor
ICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1b
Y29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcwogICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3Rz
OwogCkBAIC00Nyw2ICs0OSw3IEBAIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5j
b21waWxlci5yZWdyZXNzaW9uLk5lZ2F0aXZlVHlwZUFubm90YXRpb25UZXN0CiBpbXBvcnQgb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5OdWxsVHlwZUFubm90
YXRpb25UZXN0OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJl
Z3Jlc3Npb24uT3ZlcmxvYWRSZXNvbHV0aW9uVGVzdDg7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5SZXBlYXRhYmxlQW5ub3RhdGlvblRlc3Q7
CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5T
ZXJpYWxpemFibGVMYW1iZGFUZXN0OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3Rz
LmNvbXBpbGVyLnJlZ3Jlc3Npb24uVHlwZUFubm90YXRpb25UZXN0OwogaW1wb3J0IG9yZy5lY2xp
cHNlLmpkdC5jb3JlLnRlc3RzLmRvbS5BU1RDb252ZXJ0ZXIxNUpMUzhUZXN0OwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmRvbS5BU1RDb252ZXJ0ZXIxOFRlc3Q7CkBAIC03Myw2
ICs3Niw3IEBAIHB1YmxpYyBjbGFzcyBSdW5Pbmx5SmF2YThUZXN0cyBleHRlbmRzIFRlc3RDYXNl
IHsKIAkJCUxhbWJkYUV4cHJlc3Npb25TeW50YXhUZXN0LmNsYXNzLAogCQkJTmVnYXRpdmVMYW1i
ZGFFeHByZXNzaW9uc1Rlc3QuY2xhc3MsCiAJCQlMYW1iZGFFeHByZXNzaW9uc1Rlc3QuY2xhc3Ms
CisJCQlTZXJpYWxpemFibGVMYW1iZGFUZXN0LmNsYXNzLAogCQkJT3ZlcmxvYWRSZXNvbHV0aW9u
VGVzdDguY2xhc3MsCiAJCQlKU1IzMzVDbGFzc0ZpbGVUZXN0LmNsYXNzLAogCQkJTmVnYXRpdmVU
eXBlQW5ub3RhdGlvblRlc3QuY2xhc3MsCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvQ2xhc3NGaWxlLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvQ2xhc3NGaWxlLmphdmEKaW5kZXggZGE2YWRkMC4uOGZhNjBiOCAxMDA2NDQK
LS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVy
bmFsL2NvbXBpbGVyL0NsYXNzRmlsZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2Nv
bXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9DbGFzc0ZpbGUuamF2YQpA
QCAtMjMsNiArMjMsNyBAQAogICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MTU1NDEg
LSBbMS44XVtjb21waWxlcl0gVHlwZSBhbm5vdGF0aW9ucyBpbiB0aGUgYm9keSBvZiBzdGF0aWMg
aW5pdGlhbGl6ZXIgZ2V0IGRyb3BwZWQKICAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcg
NDE1Mzk5IC0gWzEuOF1bY29tcGlsZXJdIFR5cGUgYW5ub3RhdGlvbnMgb24gY29uc3RydWN0b3Ig
cmVzdWx0cyBkcm9wcGVkIGJ5IHRoZSBjb2RlIGdlbmVyYXRvcgogICogICAgICAgICAgICAgICAg
ICAgICAgICAgIEJ1ZyA0MTU0NzAgLSBbMS44XVtjb21waWxlcl0gVHlwZSBhbm5vdGF0aW9ucyBv
biBjbGFzcyBkZWNsYXJhdGlvbiBnbyB2YW5pc2hpbmcKKyAqICAgICAgICAgICAgICAgICAgICAg
ICAgICBCdWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBzdXBw
b3J0IGZvciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKICAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwog
cGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXI7CiAKQEAgLTkzMiw2ICs5
MzMsMTAgQEAgcHVibGljIGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5cGVDb25zdGFudHMs
IFR5cGVJZHMgewogCQkJCQkJY2FzZSBTeW50aGV0aWNNZXRob2RCaW5kaW5nLkZhY3RvcnlNZXRo
b2Q6CiAJCQkJCQkJYWRkU3ludGhldGljRmFjdG9yeU1ldGhvZChzeW50aGV0aWNNZXRob2QpOwog
CQkJCQkJCWJyZWFrOwkKKwkJCQkJCWNhc2UgU3ludGhldGljTWV0aG9kQmluZGluZy5EZXNlcmlh
bGl6ZUxhbWJkYToKKwkJCQkJCQkvLyBUT0RPIFthbmR5XSBkbyB3ZSBuZWVkIHRvIGRvIHRoaXMg
YWZ0ZXIgdGhlIGxvb3AgdG8gZW5zdXJlIGl0IGlzIGRvbmUgbGFzdD8KKwkJCQkJCQlhZGRTeW50
aGV0aWNEZXNlcmlhbGl6ZUxhbWJkYShzeW50aGV0aWNNZXRob2QsdGhpcy5yZWZlcmVuY2VCaW5k
aW5nLnN5bnRoZXRpY01ldGhvZHMoKSk7IAorCQkJCQkJCWJyZWFrOwogCQkJCQl9CiAJCQkJfQog
CQkJCWVtaXR0ZWRTeW50aGV0aWNzQ291bnQgPSBjdXJyZW50U3ludGhldGljc0NvdW50OwpAQCAt
Mjg0Nyw1MiArMjg1MiwxMzEgQEAgcHVibGljIGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5
cGVDb25zdGFudHMsIFR5cGVJZHMgewogCQlpZiAobWV0aG9kSGFuZGxlc0xvb2t1cCA9PSBudWxs
KSByZXR1cm4gMDsgLy8gc2tpcCBib290c3RyYXAgc2VjdGlvbiwgY2xhc3MgcGF0aCBwcm9ibGVt
IGFscmVhZHkgcmVwb3J0ZWQsIGp1c3QgYXZvaWQgTlBFLgogCQlyZWNvcmRJbm5lckNsYXNzZXMo
bWV0aG9kSGFuZGxlc0xvb2t1cCk7IC8vIFNob3VsZCBiZSBkb25lLCBpdCdzIHdoYXQgamF2YWMg
ZG9lcyBhbHNvCiAJCVJlZmVyZW5jZUJpbmRpbmcgamF2YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFj
dG9yeSA9IHRoaXMucmVmZXJlbmNlQmluZGluZy5zY29wZS5nZXRKYXZhTGFuZ0ludm9rZUxhbWJk
YU1ldGFmYWN0b3J5KCk7IAotCQlpbnQgaW5kZXhGb3JNZXRhRmFjdG9yeSA9IHRoaXMuY29uc3Rh
bnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRsZShDbGFzc0ZpbGVDb25zdGFudHMuTWV0
aG9kSGFuZGxlUmVmS2luZEludm9rZVN0YXRpYywgamF2YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFj
dG9yeSwgCi0JCQkJQ29uc3RhbnRQb29sLk1FVEFGQUNUT1JZLCBDb25zdGFudFBvb2wuSkFWQV9M
QU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9SWV9NRVRBRkFDVE9SWV9TSUdOQVRVUkUsIGZhbHNl
KTsKKwkJCisJCS8vIERlcGVuZGluZyBvbiB0aGUgY29tcGxleGl0eSBvZiB0aGUgZXhwcmVzc2lv
biBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHVzZSB0aGUgYWx0TWV0YWZhY3RvcnkoKSByYXRoZXIg
dGhhbiB0aGUgbWV0YWZhY3RvcnkoKQorCQlpbnQgaW5kZXhGb3JNZXRhRmFjdG9yeSA9IDA7CisJ
CWludCBpbmRleEZvckFsdE1ldGFGYWN0b3J5ID0gMDsKIAogCQlpbnQgbnVtYmVyT2ZCb290c3Ry
YXBzID0gZnVuY3Rpb25hbEV4cHJlc3Npb25MaXN0LnNpemUoKTsKIAkJaW50IGxvY2FsQ29udGVu
dHNPZmZzZXQgPSB0aGlzLmNvbnRlbnRzT2Zmc2V0OwogCQkvLyBHZW5lcmF0ZSB0aGUgYm9vdCBz
dHJhcCBhdHRyaWJ1dGUgLSBzaW5jZSB3ZSBhcmUgb25seSBtYWtpbmcgbGFtYmRhcyBhbmQKIAkJ
Ly8gZnVuY3Rpb25hbCBleHByZXNzaW9ucywgd2Uga25vdyB0aGUgc2l6ZSBhaGVhZCBvZiB0aW1l
IC0gdGhpcyBsZXNzIGdlbmVyYWwKIAkJLy8gdGhhbiB0aGUgZnVsbCBpbnZva2VkeW5hbWljIHNj
b3BlLCBidXQgZmluZSBmb3IgSmF2YSA4CisJCQogCQlpbnQgZXhTaXplID0gMTAgKiBudW1iZXJP
ZkJvb3RzdHJhcHMgKyA4OwogCQlpZiAoZXhTaXplICsgbG9jYWxDb250ZW50c09mZnNldCA+PSB0
aGlzLmNvbnRlbnRzLmxlbmd0aCkgewogCQkJcmVzaXplQ29udGVudHMoZXhTaXplKTsKIAkJfQot
CQl0aGlzLmNvbnRlbnRzT2Zmc2V0ICs9IGV4U2l6ZTsKIAkJCiAJCWludCBhdHRyaWJ1dGVOYW1l
SW5kZXggPQogCQkJdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4KEF0dHJpYnV0ZU5hbWVz
Q29uc3RhbnRzLkJvb3RzdHJhcE1ldGhvZHNOYW1lKTsKIAkJdGhpcy5jb250ZW50c1tsb2NhbENv
bnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChhdHRyaWJ1dGVOYW1lSW5kZXggPj4gOCk7CiAJCXRo
aXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBhdHRyaWJ1dGVOYW1l
SW5kZXg7Ci0JCWludCB2YWx1ZSA9IChudW1iZXJPZkJvb3RzdHJhcHMgKiAxMCkgKyAyOwotCQl0
aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKHZhbHVlID4+IDI0
KTsKLQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpICh2YWx1
ZSA+PiAxNik7Ci0JCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRl
KSAodmFsdWUgPj4gOCk7Ci0JCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9
IChieXRlKSB2YWx1ZTsKKwkJLy8gbGVhdmUgc3BhY2UgZm9yIGF0dHJpYnV0ZV9sZW5ndGggYW5k
IHJlbWVtYmVyIHdoZXJlIHRvIGluc2VydCBpdAorCQlpbnQgYXR0cmlidXRlTGVuZ3RoUG9zaXRp
b24gPSBsb2NhbENvbnRlbnRzT2Zmc2V0OworCQlsb2NhbENvbnRlbnRzT2Zmc2V0ICs9IDQ7CiAJ
CXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAobnVtYmVyT2ZC
b290c3RyYXBzID4+IDgpOwogCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10g
PSAoYnl0ZSkgbnVtYmVyT2ZCb290c3RyYXBzOwogCQlmb3IgKGludCBpID0gMDsgaSA8IG51bWJl
ck9mQm9vdHN0cmFwczsgaSsrKSB7CiAJCQlGdW5jdGlvbmFsRXhwcmVzc2lvbiBmdW5jdGlvbmFs
ID0gKEZ1bmN0aW9uYWxFeHByZXNzaW9uKSBmdW5jdGlvbmFsRXhwcmVzc2lvbkxpc3QuZ2V0KGkp
OwotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChpbmRl
eEZvck1ldGFGYWN0b3J5ID4+IDgpOwotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zm
c2V0KytdID0gKGJ5dGUpIGluZGV4Rm9yTWV0YUZhY3Rvcnk7CiAJCQkKLQkJCXRoaXMuY29udGVu
dHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IDA7Ci0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29u
dGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgMzsKLQkJCQotCQkJaW50IGZ1bmN0aW9uYWxEZXNjcmlw
dG9ySW5kZXggPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RUeXBlKGZ1
bmN0aW9uYWwuZGVzY3JpcHRvci5vcmlnaW5hbCgpLnNpZ25hdHVyZSgpKTsKLQkJCXRoaXMuY29u
dGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAoZnVuY3Rpb25hbERlc2NyaXB0
b3JJbmRleCA+PiA4KTsKLQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9
IChieXRlKSBmdW5jdGlvbmFsRGVzY3JpcHRvckluZGV4OwotCi0JCQlpbnQgbWV0aG9kSGFuZGxl
SW5kZXggPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RIYW5kbGUoZnVu
Y3Rpb25hbC5iaW5kaW5nLm9yaWdpbmFsKCkpOyAvLyBTcGVhayBvZiAiIGltcGxlbWVudGF0aW9u
IiAoZXJhc2VkKSB2ZXJzaW9uIGhlcmUsIGFkYXB0YXRpb25zIGRlc2NyaWJlZCBiZWxvdy4KLQkJ
CXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAobWV0aG9kSGFu
ZGxlSW5kZXggPj4gOCk7Ci0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10g
PSAoYnl0ZSkgbWV0aG9kSGFuZGxlSW5kZXg7Ci0KLQkJCWNoYXIgW10gaW5zdGFudGlhdGVkU2ln
bmF0dXJlID0gZnVuY3Rpb25hbC5kZXNjcmlwdG9yLnNpZ25hdHVyZSgpOwotCQkJaW50IG1ldGhv
ZFR5cGVJbmRleCA9IHRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZFR5cGUo
aW5zdGFudGlhdGVkU2lnbmF0dXJlKTsKLQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09m
ZnNldCsrXSA9IChieXRlKSAobWV0aG9kVHlwZUluZGV4ID4+IDgpOwotCQkJdGhpcy5jb250ZW50
c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIG1ldGhvZFR5cGVJbmRleDsKKwkJCVR5
cGVCaW5kaW5nW10gbWFya2VySW50ZXJmYWNlcyA9IG51bGw7CisJCQlpZiAoZnVuY3Rpb25hbCBp
bnN0YW5jZW9mIExhbWJkYUV4cHJlc3Npb24gJiYgCisJCQkJICAgKCgobWFya2VySW50ZXJmYWNl
cz0oKExhbWJkYUV4cHJlc3Npb24pZnVuY3Rpb25hbCkuZ2V0TWFya2VySW50ZXJmYWNlcygpKSAh
PSBudWxsKSB8fAorCQkJCSAgIAkoKExhbWJkYUV4cHJlc3Npb24pZnVuY3Rpb25hbCkuaXNTZXJp
YWxpemFibGUpKSB7CisJCQkJCisJCQkJTGFtYmRhRXhwcmVzc2lvbiBsYW1iZGFFeCA9IChMYW1i
ZGFFeHByZXNzaW9uKWZ1bmN0aW9uYWw7CisJCQkJLy8gbWF5IG5lZWQgZXZlbiBtb3JlIHNwYWNl
CisJCQkJaW50IGV4dHJhU3BhY2UgPSAyOyAvLyBhdCBsZWFzdCAyIG1vcmUgdGhhbiB3aGVuIHRo
ZSBub3JtYWwgbWV0YWZhY3RvcnkgaXMgdXNlZCwgZm9yIHRoZSBiaXRmbGFncyBlbnRyeQorCQkJ
CWlmIChtYXJrZXJJbnRlcmZhY2VzICE9IG51bGwpIHsKKwkJCQkJLy8gMiBmb3IgdGhlIG1hcmtl
ciBpbnRlcmZhY2UgbGlzdCBzaXplIHRoZW4gMiBwZXIgbWFya2VyIGludGVyZmFjZSBpbmRleAor
CQkJCQlleHRyYVNwYWNlICs9ICgyICsgMiAqIG1hcmtlckludGVyZmFjZXMubGVuZ3RoKTsKKwkJ
CQl9CisJCQkJaWYgKGV4dHJhU3BhY2UgKyBsb2NhbENvbnRlbnRzT2Zmc2V0ID49IHRoaXMuY29u
dGVudHMubGVuZ3RoKSB7CisJCQkJCXJlc2l6ZUNvbnRlbnRzKGV4dHJhU3BhY2UpOworCQkJCX0g
CisJCQkJCisJCQkJaWYgKGluZGV4Rm9yQWx0TWV0YUZhY3RvcnkgPT0gMCkgeworCQkJCQlpbmRl
eEZvckFsdE1ldGFGYWN0b3J5ID0gCisJCQkJCQl0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5k
ZXhGb3JNZXRob2RIYW5kbGUoQ2xhc3NGaWxlQ29uc3RhbnRzLk1ldGhvZEhhbmRsZVJlZktpbmRJ
bnZva2VTdGF0aWMsIGphdmFMYW5nSW52b2tlTGFtYmRhTWV0YWZhY3RvcnksIAorCQkJCQkJQ29u
c3RhbnRQb29sLkFMVE1FVEFGQUNUT1JZLCBDb25zdGFudFBvb2wuSkFWQV9MQU5HX0lOVk9LRV9M
QU1CREFNRVRBRkFDVE9SWV9BTFRNRVRBRkFDVE9SWV9TSUdOQVRVUkUsIGZhbHNlKTsKKwkJCQl9
CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChpbmRl
eEZvckFsdE1ldGFGYWN0b3J5ID4+IDgpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50
c09mZnNldCsrXSA9IChieXRlKSBpbmRleEZvckFsdE1ldGFGYWN0b3J5OworCQkJCQorCQkJCS8v
IHUyIG51bV9ib290c3RyYXBfYXJndW1lbnRzCisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRl
bnRzT2Zmc2V0KytdID0gMDsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQr
K10gPSAoYnl0ZSkgKDQrKG1hcmtlckludGVyZmFjZXM9PW51bGw/MDoxK21hcmtlckludGVyZmFj
ZXMubGVuZ3RoKSk7CisJCQkJCisJCQkJaW50IGZ1bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXggPSB0
aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RUeXBlKGZ1bmN0aW9uYWwuZGVz
Y3JpcHRvci5vcmlnaW5hbCgpLnNpZ25hdHVyZSgpKTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2Fs
Q29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKGZ1bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXggPj4g
OCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIGZ1
bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXg7CisJCisJCQkJaW50IG1ldGhvZEhhbmRsZUluZGV4ID0g
dGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4Rm9yTWV0aG9kSGFuZGxlKGZ1bmN0aW9uYWwu
YmluZGluZy5vcmlnaW5hbCgpKTsgLy8gU3BlYWsgb2YgIiBpbXBsZW1lbnRhdGlvbiIgKGVyYXNl
ZCkgdmVyc2lvbiBoZXJlLCBhZGFwdGF0aW9ucyBkZXNjcmliZWQgYmVsb3cuCisJCQkJdGhpcy5j
b250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChtZXRob2RIYW5kbGVJbmRl
eCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0
ZSkgbWV0aG9kSGFuZGxlSW5kZXg7CisJCisJCQkJY2hhciBbXSBpbnN0YW50aWF0ZWRTaWduYXR1
cmUgPSBmdW5jdGlvbmFsLmRlc2NyaXB0b3Iuc2lnbmF0dXJlKCk7CisJCQkJaW50IG1ldGhvZFR5
cGVJbmRleCA9IHRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZFR5cGUoaW5z
dGFudGlhdGVkU2lnbmF0dXJlKTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZz
ZXQrK10gPSAoYnl0ZSkgKG1ldGhvZFR5cGVJbmRleCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRz
W2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgbWV0aG9kVHlwZUluZGV4OworCisJCQkJ
Ly8gRG9lcyB0aGlzIGJsb2NrIGhhdmUgdG8gZGVhbCB3aXRoIEZMQUdfQlJJREdFPyBXaGVuIGlz
IGl0IG5lZWRlZD8KKwkJCQlpbnQgYml0ZmxhZ3MgPSAwOworCQkJCWlmIChsYW1iZGFFeC5pc1Nl
cmlhbGl6YWJsZSkgeworCQkJCQliaXRmbGFncyB8PSBDbGFzc0ZpbGVDb25zdGFudHMuRkxBR19T
RVJJQUxJWkFCTEU7CisJCQkJfQorCQkJCWlmIChtYXJrZXJJbnRlcmZhY2VzIT1udWxsKSB7CisJ
CQkJCWJpdGZsYWdzIHw9IENsYXNzRmlsZUNvbnN0YW50cy5GTEFHX01BUktFUlM7CisJCQkJfQor
CQkJCWludCBpbmRleEZvckJpdGZsYWdzID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4
KGJpdGZsYWdzKTsKKwkJCQkKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQr
K10gPSAoYnl0ZSkoaW5kZXhGb3JCaXRmbGFncz4+OCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2Nh
bENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpKGluZGV4Rm9yQml0ZmxhZ3MpOworCQkJCQorCQkJ
CWlmIChtYXJrZXJJbnRlcmZhY2VzICE9IG51bGwpIHsKKwkJCQkJaW50IG1hcmtlckludGVyZmFj
ZUNvdW50SW5kZXggPSAgdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4KG1hcmtlckludGVy
ZmFjZXMubGVuZ3RoKTsKKwkJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0Kytd
ID0gKGJ5dGUpKG1hcmtlckludGVyZmFjZUNvdW50SW5kZXg+PjgpOworCQkJCQl0aGlzLmNvbnRl
bnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkobWFya2VySW50ZXJmYWNlQ291bnRJ
bmRleCk7CisJCQkJCWZvciAoaW50IG0gPSAwLCBtYXhtID0gbWFya2VySW50ZXJmYWNlcy5sZW5n
dGg7IG0gPCBtYXhtOyBtKyspIHsKKwkJCQkJCWludCBjbGFzc1R5cGVJbmRleCA9IHRoaXMuY29u
c3RhbnRQb29sLmxpdGVyYWxJbmRleEZvclR5cGUobWFya2VySW50ZXJmYWNlc1ttXSk7CisJCQkJ
CQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkoY2xhc3NUeXBl
SW5kZXg+PjgpOworCQkJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0g
KGJ5dGUpKGNsYXNzVHlwZUluZGV4KTsKKwkJCQkJfQkJCQkJCisJCQkJfQorCQkJfSBlbHNlIHsK
KwkJCQlpZiAoaW5kZXhGb3JNZXRhRmFjdG9yeSA9PSAwKSB7CisJCQkJCWluZGV4Rm9yTWV0YUZh
Y3RvcnkgPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RIYW5kbGUoQ2xh
c3NGaWxlQ29uc3RhbnRzLk1ldGhvZEhhbmRsZVJlZktpbmRJbnZva2VTdGF0aWMsIGphdmFMYW5n
SW52b2tlTGFtYmRhTWV0YWZhY3RvcnksIAorCQkJCQkJCUNvbnN0YW50UG9vbC5NRVRBRkFDVE9S
WSwgQ29uc3RhbnRQb29sLkpBVkFfTEFOR19JTlZPS0VfTEFNQkRBTUVUQUZBQ1RPUllfTUVUQUZB
Q1RPUllfU0lHTkFUVVJFLCBmYWxzZSk7CisJCQkJfQorCQkJCXRoaXMuY29udGVudHNbbG9jYWxD
b250ZW50c09mZnNldCsrXSA9IChieXRlKSAoaW5kZXhGb3JNZXRhRmFjdG9yeSA+PiA4KTsKKwkJ
CQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgaW5kZXhGb3JN
ZXRhRmFjdG9yeTsKKwkJCQkKKwkJCQkvLyB1MiBudW1fYm9vdHN0cmFwX2FyZ3VtZW50cworCQkJ
CXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IDA7CisJCQkJdGhpcy5jb250
ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIDM7CisJCQkJCisJCQkJaW50IGZ1
bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXggPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhG
b3JNZXRob2RUeXBlKGZ1bmN0aW9uYWwuZGVzY3JpcHRvci5vcmlnaW5hbCgpLnNpZ25hdHVyZSgp
KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKGZ1
bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXggPj4gOCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENv
bnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIGZ1bmN0aW9uYWxEZXNjcmlwdG9ySW5kZXg7CisJCisJ
CQkJaW50IG1ldGhvZEhhbmRsZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4
Rm9yTWV0aG9kSGFuZGxlKGZ1bmN0aW9uYWwuYmluZGluZy5vcmlnaW5hbCgpKTsgLy8gU3BlYWsg
b2YgIiBpbXBsZW1lbnRhdGlvbiIgKGVyYXNlZCkgdmVyc2lvbiBoZXJlLCBhZGFwdGF0aW9ucyBk
ZXNjcmliZWQgYmVsb3cuCisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0Kytd
ID0gKGJ5dGUpIChtZXRob2RIYW5kbGVJbmRleCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xv
Y2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgbWV0aG9kSGFuZGxlSW5kZXg7CisJCisJCQkJ
Y2hhciBbXSBpbnN0YW50aWF0ZWRTaWduYXR1cmUgPSBmdW5jdGlvbmFsLmRlc2NyaXB0b3Iuc2ln
bmF0dXJlKCk7CisJCQkJaW50IG1ldGhvZFR5cGVJbmRleCA9IHRoaXMuY29uc3RhbnRQb29sLmxp
dGVyYWxJbmRleEZvck1ldGhvZFR5cGUoaW5zdGFudGlhdGVkU2lnbmF0dXJlKTsKKwkJCQl0aGlz
LmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKG1ldGhvZFR5cGVJbmRl
eCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0
ZSkgbWV0aG9kVHlwZUluZGV4OwkJCQkKKwkJCX0KIAkJfQorCisJCWludCBhdHRyaWJ1dGVMZW5n
dGggPSBsb2NhbENvbnRlbnRzT2Zmc2V0IC0gYXR0cmlidXRlTGVuZ3RoUG9zaXRpb24gLSA0Owor
CQl0aGlzLmNvbnRlbnRzW2F0dHJpYnV0ZUxlbmd0aFBvc2l0aW9uKytdID0gKGJ5dGUpIChhdHRy
aWJ1dGVMZW5ndGggPj4gMjQpOworCQl0aGlzLmNvbnRlbnRzW2F0dHJpYnV0ZUxlbmd0aFBvc2l0
aW9uKytdID0gKGJ5dGUpIChhdHRyaWJ1dGVMZW5ndGggPj4gMTYpOworCQl0aGlzLmNvbnRlbnRz
W2F0dHJpYnV0ZUxlbmd0aFBvc2l0aW9uKytdID0gKGJ5dGUpIChhdHRyaWJ1dGVMZW5ndGggPj4g
OCk7CisJCXRoaXMuY29udGVudHNbYXR0cmlidXRlTGVuZ3RoUG9zaXRpb24rK10gPSAoYnl0ZSkg
YXR0cmlidXRlTGVuZ3RoOworCQl0aGlzLmNvbnRlbnRzT2Zmc2V0ID0gbG9jYWxDb250ZW50c09m
ZnNldDsKIAkJcmV0dXJuIDE7CiAJfQogCXByaXZhdGUgaW50IGdlbmVyYXRlTGluZU51bWJlckF0
dHJpYnV0ZSgpIHsKQEAgLTMyOTMsNiArMzM3NywzMyBAQCBwdWJsaWMgY2xhc3MgQ2xhc3NGaWxl
IGltcGxlbWVudHMgVHlwZUNvbnN0YW50cywgVHlwZUlkcyB7CiAJCXRoaXMuY29udGVudHNbdGhp
cy5jb250ZW50c09mZnNldCsrXSA9IChieXRlKSAoZGVzY3JpcHRvckluZGV4ID4+IDgpOwogCQl0
aGlzLmNvbnRlbnRzW3RoaXMuY29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgZGVzY3JpcHRvcklu
ZGV4OwogCX0KKwkKKwlwdWJsaWMgdm9pZCBhZGRTeW50aGV0aWNEZXNlcmlhbGl6ZUxhbWJkYShT
eW50aGV0aWNNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRpbmcsIFN5bnRoZXRpY01ldGhvZEJpbmRp
bmdbXSBzeW50aGV0aWNNZXRob2RCaW5kaW5ncyApIHsKKwkJZ2VuZXJhdGVNZXRob2RJbmZvSGVh
ZGVyKG1ldGhvZEJpbmRpbmcpOworCQlpbnQgbWV0aG9kQXR0cmlidXRlT2Zmc2V0ID0gdGhpcy5j
b250ZW50c09mZnNldDsKKwkJLy8gdGhpcyB3aWxsIGFkZCBleGNlcHRpb24gYXR0cmlidXRlLCBz
eW50aGV0aWMgYXR0cmlidXRlLCBkZXByZWNhdGVkIGF0dHJpYnV0ZSwuLi4KKwkJaW50IGF0dHJp
YnV0ZU51bWJlciA9IGdlbmVyYXRlTWV0aG9kSW5mb0F0dHJpYnV0ZXMobWV0aG9kQmluZGluZyk7
CisJCS8vIENvZGUgYXR0cmlidXRlCisJCWludCBjb2RlQXR0cmlidXRlT2Zmc2V0ID0gdGhpcy5j
b250ZW50c09mZnNldDsKKwkJYXR0cmlidXRlTnVtYmVyKys7IC8vIGFkZCBjb2RlIGF0dHJpYnV0
ZQorCQlnZW5lcmF0ZUNvZGVBdHRyaWJ1dGVIZWFkZXIoKTsKKwkJdGhpcy5jb2RlU3RyZWFtLmlu
aXQodGhpcyk7CisJCXRoaXMuY29kZVN0cmVhbS5nZW5lcmF0ZVN5bnRoZXRpY0JvZHlGb3JEZXNl
cmlhbGl6ZUxhbWJkYShtZXRob2RCaW5kaW5nLCBzeW50aGV0aWNNZXRob2RCaW5kaW5ncyk7CisJ
CWNvbXBsZXRlQ29kZUF0dHJpYnV0ZUZvclN5bnRoZXRpY01ldGhvZCgKKwkJCW1ldGhvZEJpbmRp
bmcsCisJCQljb2RlQXR0cmlidXRlT2Zmc2V0LAorCQkJKChTb3VyY2VUeXBlQmluZGluZykgbWV0
aG9kQmluZGluZy5kZWNsYXJpbmdDbGFzcykKKwkJCQkuc2NvcGUKKwkJCQkucmVmZXJlbmNlQ29t
cGlsYXRpb25Vbml0KCkKKwkJCQkuY29tcGlsYXRpb25SZXN1bHQKKwkJCQkuZ2V0TGluZVNlcGFy
YXRvclBvc2l0aW9ucygpKTsKKwkJLy8gdXBkYXRlIHRoZSBudW1iZXIgb2YgYXR0cmlidXRlcwor
CQlpZiAoKHRoaXMucHJvZHVjZUF0dHJpYnV0ZXMgJiBDbGFzc0ZpbGVDb25zdGFudHMuQVRUUl9N
RVRIT0RfUEFSQU1FVEVSUykgIT0gMCkgeworCQkJYXR0cmlidXRlTnVtYmVyICs9IGdlbmVyYXRl
TWV0aG9kUGFyYW1ldGVycyhtZXRob2RCaW5kaW5nKTsKKwkJfQorCQl0aGlzLmNvbnRlbnRzW21l
dGhvZEF0dHJpYnV0ZU9mZnNldCsrXSA9IChieXRlKSAoYXR0cmlidXRlTnVtYmVyID4+IDgpOwor
CQl0aGlzLmNvbnRlbnRzW21ldGhvZEF0dHJpYnV0ZU9mZnNldF0gPSAoYnl0ZSkgYXR0cmlidXRl
TnVtYmVyOworCX0JCiAKIAkvKioKIAkgKiBJTlRFUk5BTCBVU0UtT05MWQpAQCAtNDkxNyw2ICs1
MDI4LDEyIEBAIHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGUgaW1wbGVtZW50cyBUeXBlQ29uc3RhbnRz
LCBUeXBlSWRzIHsKIAkJCQlpZiAoKGFyZ3VtZW50cyA9IG1ldGhvZEJpbmRpbmcucGFyYW1ldGVy
cykgIT0gbnVsbCkgewogCQkJCQlmb3IgKGludCBpID0gMCwgbWF4ID0gYXJndW1lbnRzLmxlbmd0
aDsgaSA8IG1heDsgaSsrKSB7CiAJCQkJCQlmaW5hbCBUeXBlQmluZGluZyB0eXBlQmluZGluZyA9
IGFyZ3VtZW50c1tpXTsKKwkJCQkJCS8vIEZvciB0aGUgYnJhbmNoaW5nIGNvbXBsZXhpdGllcyBp
biB0aGUgZ2VuZXJhdGVkICRkZXNlcmlhbGl6ZUxhbWJkYSQgd2UgbmVlZCB0aGUgbG9jYWwgdmFy
aWFibGUKKwkJCQkJCUxvY2FsVmFyaWFibGVCaW5kaW5nIGxvY2FsVmFyaWFibGVCaW5kaW5nID0g
bmV3IExvY2FsVmFyaWFibGVCaW5kaW5nKCgiIHN5bnRoZXRpYyIraSkudG9DaGFyQXJyYXkoKSwg
dHlwZUJpbmRpbmcsIDAsIHRydWUpOyAvLyROT04tTkxTLTEkCisJCQkJCQlsb2NhbFZhcmlhYmxl
QmluZGluZy5yZXNvbHZlZFBvc2l0aW9uID0gaTsKKwkJCQkJCXRoaXMuY29kZVN0cmVhbS5yZWNv
cmQobG9jYWxWYXJpYWJsZUJpbmRpbmcpOworCQkJCQkJbG9jYWxWYXJpYWJsZUJpbmRpbmcucmVj
b3JkSW5pdGlhbGl6YXRpb25TdGFydFBDKDApOworCQkJCQkJbG9jYWxWYXJpYWJsZUJpbmRpbmcu
cmVjb3JkSW5pdGlhbGl6YXRpb25FbmRQQyhjb2RlTGVuZ3RoKTsKIAkJCQkJCWZyYW1lLnB1dExv
Y2FsKHJlc29sdmVkUG9zaXRpb24sCiAJCQkJCQkJCW5ldyBWZXJpZmljYXRpb25UeXBlSW5mbyh0
eXBlQmluZGluZykpOwogCQkJCQkJc3dpdGNoICh0eXBlQmluZGluZy5pZCkgewpAQCAtNDk5OSw2
ICs1MTE2LDggQEAgcHVibGljIGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5cGVDb25zdGFu
dHMsIFR5cGVJZHMgewogCQkJdGhpcy5ib290c3RyYXBNZXRob2RzID0gbmV3IEFycmF5TGlzdCgp
OwogCQl9CiAJCXRoaXMuYm9vdHN0cmFwTWV0aG9kcy5hZGQoZXhwcmVzc2lvbik7CisJCS8vIFJl
Y29yZCB3aGljaCBib290c3RyYXAgbWV0aG9kIHdhcyBhc3NpZ25lZCB0byB0aGUgZXhwcmVzc2lv
bgorCQlleHByZXNzaW9uLmJvb3RzdHJhcE1ldGhvZE51bWJlciA9IHRoaXMuYm9vdHN0cmFwTWV0
aG9kcy5zaXplKCkgLSAxOwogCQlyZXR1cm4gdGhpcy5ib290c3RyYXBNZXRob2RzLnNpemUoKSAt
IDE7CiAJfQogCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvYXN0L0Z1bmN0aW9uYWxFeHByZXNzaW9uLmph
dmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L0Z1bmN0aW9uYWxFeHByZXNzaW9uLmphdmEKaW5kZXggZjIzNzRlZi4u
YWJjZjQwYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9GdW5jdGlvbmFsRXhwcmVzc2lvbi5qYXZh
CisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9hc3QvRnVuY3Rpb25hbEV4cHJlc3Npb24uamF2YQpAQCAtMTcsNiArMTcs
OCBAQAogICogICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBDb250cmlidXRpb24gZm9yCiAgKgkJCQkJ
CQlCdWcgNDAwODc0IC0gWzEuOF1bY29tcGlsZXJdIEluZmVyZW5jZSBpbmZyYXN0cnVjdHVyZSBz
aG91bGQgZXZvbHZlIHRvIG1lZXQgSkxTOCAxOC54IChQYXJ0IEcgb2YgSlNSMzM1IHNwZWMpCiAg
KgkJCQkJCQlCdWcgNDIzNTA0IC0gWzEuOF0gSW1wbGVtZW50ICIxOC41LjMgRnVuY3Rpb25hbCBJ
bnRlcmZhY2UgUGFyYW1ldGVyaXphdGlvbiBJbmZlcmVuY2UiCisgKiAgICAgICAgQW5keSBDbGVt
ZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlv
bnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2Nv
bXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1i
ZGFzCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0Lmlu
dGVybmFsLmNvbXBpbGVyLmFzdDsKIApAQCAtNTAsNiArNTIsNyBAQCBwdWJsaWMgYWJzdHJhY3Qg
Y2xhc3MgRnVuY3Rpb25hbEV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIGltcGxlbWVudHMg
UG9seUV4cAogCXByb3RlY3RlZCBDb21waWxhdGlvblJlc3VsdCBjb21waWxhdGlvblJlc3VsdDsK
IAlwdWJsaWMgQmxvY2tTY29wZSBlbmNsb3NpbmdTY29wZTsKIAlwcm90ZWN0ZWQgYm9vbGVhbiBl
bGxpcHNpc0FyZ3VtZW50OworCXB1YmxpYyBpbnQgYm9vdHN0cmFwTWV0aG9kTnVtYmVyID0gLTE7
CiAJcHJvdGVjdGVkIHN0YXRpYyBJRXJyb3JIYW5kbGluZ1BvbGljeSBzaWxlbnRFcnJvckhhbmRs
aW5nUG9saWN5ID0gRGVmYXVsdEVycm9ySGFuZGxpbmdQb2xpY2llcy5pZ25vcmVBbGxQcm9ibGVt
cygpOwogCXByb3RlY3RlZCBib29sZWFuIGhhc0luZmVyZW5jZUZpbmlzaGVkID0gZmFsc2U7CiAK
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9hc3QvTGFtYmRhRXhwcmVzc2lvbi5qYXZhIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9MYW1iZGFFeHByZXNzaW9uLmphdmEKaW5kZXggNjczZGE4MS4uYWY2N2I4OCAxMDA2NDQKLS0t
IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2FzdC9MYW1iZGFFeHByZXNzaW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9MYW1i
ZGFFeHByZXNzaW9uLmphdmEKQEAgLTIxLDkgKzIxLDE0IEBACiAgKgkJCQkJCQlCdWcgMzkyMjM4
IC0gWzEuOF1bY29tcGlsZXJdW251bGxdIERldGVjdCBzZW1hbnRpY2FsbHkgaW52YWxpZCBudWxs
IHR5cGUgYW5ub3RhdGlvbnMKICAqCQkJCQkJCUJ1ZyA0MDA4NzQgLSBbMS44XVtjb21waWxlcl0g
SW5mZXJlbmNlIGluZnJhc3RydWN0dXJlIHNob3VsZCBldm9sdmUgdG8gbWVldCBKTFM4IDE4Lngg
KFBhcnQgRyBvZiBKU1IzMzUgc3BlYykKICAqCQkJCQkJCUJ1ZyA0MjM1MDQgLSBbMS44XSBJbXBs
ZW1lbnQgIjE4LjUuMyBGdW5jdGlvbmFsIEludGVyZmFjZSBQYXJhbWV0ZXJpemF0aW9uIEluZmVy
ZW5jZSIKKyAqICAgICAgICBBbmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xlbWVudEBn
b3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IKKyAqICAgICAgICAgICAgICAgICAgICAg
ICAgICBCdWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBzdXBw
b3J0IGZvciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKICAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwog
cGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuYXN0OwogCitpbXBvcnQg
amF2YS51dGlsLkxpbmtlZEhhc2hTZXQ7CitpbXBvcnQgamF2YS51dGlsLlNldDsKKwogaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmNvbXBpbGVyLkNhdGVnb3JpemVkUHJvYmxlbTsKIGltcG9y
dCBvcmcuZWNsaXBzZS5qZHQuY29yZS5jb21waWxlci5DaGFyT3BlcmF0aW9uOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLmpkdC5jb3JlLmNvbXBpbGVyLklQcm9ibGVtOwpAQCAtNDYsNiArNTEsNyBAQCBp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cC5CbG9ja1Njb3Bl
OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXAuQ2xhc3NT
Y29wZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9va3VwLkV4
dHJhQ29tcGlsZXJNb2RpZmllcnM7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNv
bXBpbGVyLmxvb2t1cC5JbmZlcmVuY2VDb250ZXh0MTg7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cC5JbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmc7CiBp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cC5Mb2NhbFZhcmlh
YmxlQmluZGluZzsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9v
a3VwLkxvb2t1cEVudmlyb25tZW50OwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5j
b21waWxlci5sb29rdXAuTWV0aG9kQmluZGluZzsKQEAgLTgzLDkgKzg5LDEwIEBAIHB1YmxpYyBj
bGFzcyBMYW1iZGFFeHByZXNzaW9uIGV4dGVuZHMgRnVuY3Rpb25hbEV4cHJlc3Npb24gaW1wbGVt
ZW50cyBSZWZlcmVuY2VDCiAJYm9vbGVhbiB2YWx1ZUNvbXBhdGlibGUgPSBmYWxzZTsKIAlwcml2
YXRlIGJvb2xlYW4gc2hhcGVBbmFseXNpc0NvbXBsZXRlID0gZmFsc2U7CiAJYm9vbGVhbiByZXR1
cm5zVmFsdWU7CisJcHVibGljIGJvb2xlYW4gaXNTZXJpYWxpemFibGU7CiAJYm9vbGVhbiByZXR1
cm5zVm9pZDsKIAlwcml2YXRlIExhbWJkYUV4cHJlc3Npb24gb3JpZ2luYWwgPSB0aGlzOwotCXBy
aXZhdGUgU3ludGhldGljQXJndW1lbnRCaW5kaW5nW10gb3V0ZXJMb2NhbFZhcmlhYmxlcyA9IE5P
X1NZTlRIRVRJQ19BUkdVTUVOVFM7CisJcHVibGljIFN5bnRoZXRpY0FyZ3VtZW50QmluZGluZ1td
IG91dGVyTG9jYWxWYXJpYWJsZXMgPSBOT19TWU5USEVUSUNfQVJHVU1FTlRTOwogCXByaXZhdGUg
aW50IG91dGVyTG9jYWxWYXJpYWJsZXNTbG90U2l6ZSA9IDA7CiAJcHVibGljIGJvb2xlYW4gc2hv
dWxkQ2FwdHVyZUluc3RhbmNlID0gZmFsc2U7CiAJcHJpdmF0ZSBib29sZWFuIGFzc2lzdE5vZGUg
PSBmYWxzZTsKQEAgLTE1OSw3ICsxNjYsMTEgQEAgcHVibGljIGNsYXNzIExhbWJkYUV4cHJlc3Np
b24gZXh0ZW5kcyBGdW5jdGlvbmFsRXhwcmVzc2lvbiBpbXBsZW1lbnRzIFJlZmVyZW5jZUMKIAkJ
CWNvZGVTdHJlYW0uZ2VuZXJhdGVPdXRlckFjY2VzcyhwYXRoLCB0aGlzLCBjYXB0dXJlZE91dGVy
TG9jYWwsIGN1cnJlbnRTY29wZSk7CiAJCX0KIAkJc2lnbmF0dXJlLmFwcGVuZCgnKScpOwotCQlz
aWduYXR1cmUuYXBwZW5kKHRoaXMuZXhwZWN0ZWRUeXBlLnNpZ25hdHVyZSgpKTsKKwkJaWYgKHRo
aXMuZXhwZWN0ZWRUeXBlIGluc3RhbmNlb2YgSW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nKSB7
CisJCQlzaWduYXR1cmUuYXBwZW5kKCgoSW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nKXRoaXMu
ZXhwZWN0ZWRUeXBlKS5nZXRTQU1UeXBlKGN1cnJlbnRTY29wZSkuc2lnbmF0dXJlKCkpOworCQl9
IGVsc2UgeworCQkJc2lnbmF0dXJlLmFwcGVuZCh0aGlzLmV4cGVjdGVkVHlwZS5zaWduYXR1cmUo
KSk7CisJCX0KIAkJaW50IGludm9rZUR5bmFtaWNOdW1iZXIgPSBjb2RlU3RyZWFtLmNsYXNzRmls
ZS5yZWNvcmRCb290c3RyYXBNZXRob2QodGhpcyk7CiAJCWNvZGVTdHJlYW0uaW52b2tlRHluYW1p
YyhpbnZva2VEeW5hbWljTnVtYmVyLCAodGhpcy5zaG91bGRDYXB0dXJlSW5zdGFuY2UgPyAxIDog
MCkgKyB0aGlzLm91dGVyTG9jYWxWYXJpYWJsZXNTbG90U2l6ZSwgMSwgdGhpcy5kZXNjcmlwdG9y
LnNlbGVjdG9yLCBzaWduYXR1cmUudG9TdHJpbmcoKS50b0NoYXJBcnJheSgpKTsKIAkJaWYgKCF2
YWx1ZVJlcXVpcmVkKQpAQCAtMzY2LDYgKzM3NywxOSBAQCBwdWJsaWMgY2xhc3MgTGFtYmRhRXhw
cmVzc2lvbiBleHRlbmRzIEZ1bmN0aW9uYWxFeHByZXNzaW9uIGltcGxlbWVudHMgUmVmZXJlbmNl
QwogCQl9IGVsc2UgewogCQkJdGhpcy5ib2R5LnJlc29sdmUodGhpcy5zY29wZSk7CiAJCX0KKwkJ
Ly8gVE9ETyBleHBlY3RlZFR5cGUgb3IgcmVzb2x2ZWRUeXBlIG9yIGRvZXMgaXQgbWF0dGVyPwor
CQlpZiAodGhpcy5leHBlY3RlZFR5cGUgaW5zdGFuY2VvZiBJbnRlcnNlY3Rpb25DYXN0VHlwZUJp
bmRpbmcpIHsKKwkJCVJlZmVyZW5jZUJpbmRpbmdbXSBpbnRlcnNlY3RpbmdUeXBlcyA9ICAoKElu
dGVyc2VjdGlvbkNhc3RUeXBlQmluZGluZyl0aGlzLmV4cGVjdGVkVHlwZSkuaW50ZXJzZWN0aW5n
VHlwZXM7CisJCQlmb3IgKGludCB0ID0gMCwgbWF4ID0gaW50ZXJzZWN0aW5nVHlwZXMubGVuZ3Ro
OyB0IDwgbWF4OyB0KyspIHsKKwkJCQlpZiAoaW50ZXJzZWN0aW5nVHlwZXNbdF0uZmluZFN1cGVy
VHlwZU9yaWdpbmF0aW5nRnJvbShUeXBlSWRzLlRfSmF2YUlvU2VyaWFsaXphYmxlLCBmYWxzZSAv
KlNlcmlhbGl6YWJsZSBpcyBub3QgYSBjbGFzcyovKSAhPSBudWxsKSB7CisJCQkJCXRoaXMuaXNT
ZXJpYWxpemFibGUgPSB0cnVlOworCQkJCQlicmVhazsKKwkJCQl9CisJCQl9CisJCX0gZWxzZSBp
ZiAodGhpcy5leHBlY3RlZFR5cGUgIT0gbnVsbCAmJiAKKwkJCQkgICB0aGlzLmV4cGVjdGVkVHlw
ZS5maW5kU3VwZXJUeXBlT3JpZ2luYXRpbmdGcm9tKFR5cGVJZHMuVF9KYXZhSW9TZXJpYWxpemFi
bGUsIGZhbHNlIC8qU2VyaWFsaXphYmxlIGlzIG5vdCBhIGNsYXNzKi8pICE9IG51bGwpIHsKKwkJ
CXRoaXMuaXNTZXJpYWxpemFibGUgPSB0cnVlOworCQl9CiAJCXJldHVybiB0aGlzLnJlc29sdmVk
VHlwZTsKIAl9CiAJCkBAIC0xMTEyLDQgKzExMzYsMzAgQEAgcHVibGljIGNsYXNzIExhbWJkYUV4
cHJlc3Npb24gZXh0ZW5kcyBGdW5jdGlvbmFsRXhwcmVzc2lvbiBpbXBsZW1lbnRzIFJlZmVyZW5j
ZUMKIAlwdWJsaWMgaW50IGRpYWdub3N0aWNzU291cmNlRW5kKCkgewogCQlyZXR1cm4gdGhpcy5i
b2R5IGluc3RhbmNlb2YgQmxvY2sgPyB0aGlzLmFycm93UG9zaXRpb24gOiB0aGlzLnNvdXJjZUVu
ZDsKIAl9CisKKwlwdWJsaWMgVHlwZUJpbmRpbmdbXSBnZXRNYXJrZXJJbnRlcmZhY2VzKCkgewor
CQlpZiAodGhpcy5leHBlY3RlZFR5cGUgaW5zdGFuY2VvZiBJbnRlcnNlY3Rpb25DYXN0VHlwZUJp
bmRpbmcpIHsKKwkJCVNldCBtYXJrZXJCaW5kaW5ncyA9IG5ldyBMaW5rZWRIYXNoU2V0KCk7CisJ
CQlUeXBlQmluZGluZ1tdIGludGVyc2VjdGlvblR5cGVzID0gKChJbnRlcnNlY3Rpb25DYXN0VHlw
ZUJpbmRpbmcpdGhpcy5leHBlY3RlZFR5cGUpLmludGVyc2VjdGluZ1R5cGVzOworCQkJZm9yIChp
bnQgaT0wLG1heD1pbnRlcnNlY3Rpb25UeXBlcy5sZW5ndGg7aTxtYXg7aSsrKSB7CisJCQkJVHlw
ZUJpbmRpbmcgdHlwZUJpbmRpbmcgPSBpbnRlcnNlY3Rpb25UeXBlc1tpXTsKKwkJCQlNZXRob2RC
aW5kaW5nIG1ldGhvZEJpbmRpbmcgPSB0eXBlQmluZGluZy5nZXRTaW5nbGVBYnN0cmFjdE1ldGhv
ZCh0aGlzLnNjb3BlLCBmYWxzZSk7CisJCQkJLy8gV2h5IGRvZXNuJ3QgZ2V0U2luZ2xlQWJzdHJh
Y3RNZXRob2QgZG8gYXMgdGhlIGphdmFkb2Mgc2F5cywgYW5kIHJldHVybiBudWxsCisJCQkJLy8g
d2hlbiBpdCBpcyBub3QgYSBTQU0gdHlwZQorCQkJCWlmICghKG1ldGhvZEJpbmRpbmcgaW5zdGFu
Y2VvZiBQcm9ibGVtTWV0aG9kQmluZGluZyAmJiAoKFByb2JsZW1NZXRob2RCaW5kaW5nKW1ldGhv
ZEJpbmRpbmcpLnByb2JsZW1JZCgpPT1Qcm9ibGVtUmVhc29ucy5Ob1N1Y2hTaW5nbGVBYnN0cmFj
dE1ldGhvZCkpIHsKKwkJCQkJY29udGludWU7CisJCQkJfQorCQkJCWlmICh0eXBlQmluZGluZy5p
ZCA9PSBUeXBlSWRzLlRfSmF2YUlvU2VyaWFsaXphYmxlKSB7CisJCQkJCS8vIFNlcmlhbGl6YWJs
ZSBpcyBjYXB0dXJlZCBhcyBhIGJpdGZsYWcKKwkJCQkJY29udGludWU7CisJCQkJfQorCQkJCW1h
cmtlckJpbmRpbmdzLmFkZCh0eXBlQmluZGluZyk7CisJCQl9CisJCQlpZiAobWFya2VyQmluZGlu
Z3Muc2l6ZSgpPjApIHsKKwkJCQlyZXR1cm4gKFR5cGVCaW5kaW5nW10pbWFya2VyQmluZGluZ3Mu
dG9BcnJheShuZXcgVHlwZUJpbmRpbmdbbWFya2VyQmluZGluZ3Muc2l6ZSgpXSk7CisJCQl9CisJ
CX0KKwkJcmV0dXJuIG51bGw7CisJfQorCQogfQpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10
L0NsYXNzRmlsZUNvbnN0YW50cy5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmlsZUNvbnN0
YW50cy5qYXZhCmluZGV4IGI5ZmEzOTUuLjQ4MWYzZDMgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jbGFz
c2ZtdC9DbGFzc0ZpbGVDb25zdGFudHMuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9j
b21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3NmbXQvQ2xhc3NG
aWxlQ29uc3RhbnRzLmphdmEKQEAgLTE0LDYgKzE0LDggQEAKICAqICAgICBKZXNwZXIgUyBNb2xs
ZXIgLSBDb250cmlidXRpb25zIGZvcgogICoJCQkJCQkJQnVnIDQwNTA2NiAtIFsxLjhdW2NvbXBp
bGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgY29kZSBnZW5lcmF0aW9uIGluZnJhc3RydWN0dXJlIGZv
ciBKU1IzMzUgICAgICAgICAgICAgCiAgKgkJCQkJCQlCdWcgNDA2OTgyIC0gWzEuOF1bY29tcGls
ZXJdIEdlbmVyYXRpb24gb2YgTWV0aG9kUGFyYW1ldGVycyBBdHRyaWJ1dGUgaW4gY2xhc3NmaWxl
CisgKiAgICAgICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZv
dGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAg
QnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBm
b3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2th
Z2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmNsYXNzZm10OwogCkBAIC0xNTUs
NCArMTU3LDkgQEAgcHVibGljIGludGVyZmFjZSBDbGFzc0ZpbGVDb25zdGFudHMgewogCWludCBB
VFRSX1NUQUNLX01BUCA9IDB4MTA7IC8vIFN0YWNrIG1hcCBhdHRyaWJ1dGU6IGNsZGMKIAlpbnQg
QVRUUl9UWVBFX0FOTk9UQVRJT04gPSAweDIwOyAvLyB0eXBlIGFubm90YXRpb24gYXR0cmlidXRl
IChqc3IgMzA4KQogCWludCBBVFRSX01FVEhPRF9QQVJBTUVURVJTID0gMHg0MDsgLy8gbWV0aG9k
IHBhcmFtZXRlcnMgYXR0cmlidXRlIChqZXAgMTE4KQorCisJLy8gU2VlIGphdmEubGFuZy5pbnZv
a2UuTGFtYmRhTWV0YWZhY3RvcnkgY29uc3RhbnRzIC0gb3B0aW9uIGJpdGZsYWdzIHdoZW4gY2Fs
bGluZyBhbHRNZXRhRmFjdG9yeSgpCisJaW50IEZMQUdfU0VSSUFMSVpBQkxFID0gMHgwMTsKKwlp
bnQgRkxBR19NQVJLRVJTID0gMHgwMjsKKwlpbnQgRkxBR19CUklER0VTID0gMHgwNDsKIH0KZGlm
ZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSBiL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jb2RlZ2Vu
L0NvZGVTdHJlYW0uamF2YQppbmRleCAyZjhmOGI3Li40ZjM2MDIzIDEwMDY0NAotLS0gYS9vcmcu
ZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGls
ZXIvY29kZWdlbi9Db2RlU3RyZWFtLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NvZGVnZW4vQ29kZVN0cmVh
bS5qYXZhCkBAIC0yMiw5ICsyMiwxNyBAQAogICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1
ZyA0MDkyNDcgLSBbMS44XVtjb21waWxlcl0gVmVyaWZ5IGVycm9yIHdpdGggY29kZSBhbGxvY2F0
aW5nIG11bHRpZGltZW5zaW9uYWwgYXJyYXkKICAqICAgICAgICAgICAgICAgICAgICAgICAgICBC
dWcgNDA5MjM2IC0gWzEuOF1bY29tcGlsZXJdIFR5cGUgYW5ub3RhdGlvbnMgb24gaW50ZXJzZWN0
aW9uIGNhc3QgdHlwZXMgZHJvcHBlZCBieSBjb2RlIGdlbmVyYXRvcgogICogICAgICAgICAgICAg
ICAgICAgICAgICAgIEJ1ZyA0MDkyNTAgLSBbMS44XVtjb21waWxlcl0gVmFyaW91cyBsb29zZSBl
bmRzIGluIDMwOCBjb2RlIGdlbmVyYXRpb24KKyAqICAgICAgICAgICAgICAgICAgICAgICAgICBC
dWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBzdXBwb3J0IGZv
ciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFja2Fn
ZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuY29kZWdlbjsKIAoraW1wb3J0IGph
dmEudXRpbC5BcnJheUxpc3Q7CitpbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOworaW1wb3J0IGph
dmEudXRpbC5MaW5rZWRIYXNoTWFwOworaW1wb3J0IGphdmEudXRpbC5MaXN0OworaW1wb3J0IGph
dmEudXRpbC5NYXA7CitpbXBvcnQgamF2YS51dGlsLlNldDsKKwogaW1wb3J0IG9yZy5lY2xpcHNl
LmpkdC5jb3JlLmNvbXBpbGVyLkNoYXJPcGVyYXRpb247CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmludGVybmFsLmNvbXBpbGVyLkNsYXNzRmlsZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50
ZXJuYWwuY29tcGlsZXIuQ29tcGlsYXRpb25SZXN1bHQ7CkBAIC0yNTA3LDYgKzI1MTUsMjY4IEBA
IHB1YmxpYyB2b2lkIGdlbmVyYXRlU3ludGhldGljQm9keUZvckVudW1WYWx1ZU9mKFN5bnRoZXRp
Y01ldGhvZEJpbmRpbmcgbWV0aG9kQmluCiAJYXJldHVybigpOwogfQogCisvLyBUT0RPIHdoYXQg
YWJvdXQgYmxvd2luZyB0aGUgbWV0aG9kIGxpbWl0PyBJZ25vcmUgZm9yIG5vdz8KKy8qKgorICog
VGhpcyBpcyBpbnRlbmRlZCB0byBtYXRjaCB3aGF0IGphdmFjIGdlbmVyYXRlcy4gRmlyc3QgdGhl
cmUgaXMgYSBzd2l0Y2ggc3RhdGVtZW50IG9uIHRoZSBoYXNoY29kZSBvZiB0aGUgbGFtYmRhIG1l
dGhvZCBuYW1lIC0gYmFzZWQgb24gdGhhdAorICogYW4gaWQgaXMgY29tcHV0ZWQgKDAuLk4pLiBB
biB1bnJlY29nbml6ZWQgaGFzaCBnZXRzIHRoZSBpZCAtMS4gVGhlbiBhIHNlY29uZCBzd2l0Y2gg
aXMgb24gdGhlIGlkIGFuZCBlYWNoIGNhc2UgaGVyZSBjaGVja3MgYWxsIHRoZSBwcm9wZXJ0aWVz
CisgKiBvZiB0aGUgc2VyaWFsaXplZCBsYW1iZGEuIElmIHRoZXkgYWxsIGNoZWNrb3V0IE9LIGFu
IGludm9rZWR5bmFtaWMgY2FsbCB0byBhIGJvb3RzdHJhcCBtZXRob2QgdGFyZ2V0aW5nIHRoZSBh
bHRNZXRhZmFjdG9yeS4gSWYgYW55IG9mIHRoZSB0ZXN0cworICogZmFpbCBhbiBJbGxlZ2FsQXJn
dW1lbnRFeGNlcHRpb24gaXMgdGhyb3duLiBUaGlzIGV4Y2VwdGlvbiBpcyBub3QgdHlwaWNhbGx5
IHNlZW4gYnkgdGhlICd1c2VyJywgaW5zdGVhZCB0aGV5IHNlZW0gdG8gc2VlIGEgTlBFIHdoZW4K
KyAqIHRoZSBsYW1iZGEgZG9lcyBub3QgZGVzZXJpYWxpemUgcHJvcGVybHkuCisgKi8KK3B1Ymxp
YyB2b2lkIGdlbmVyYXRlU3ludGhldGljQm9keUZvckRlc2VyaWFsaXplTGFtYmRhKFN5bnRoZXRp
Y01ldGhvZEJpbmRpbmcgbWV0aG9kQmluZGluZyxTeW50aGV0aWNNZXRob2RCaW5kaW5nW10gc3lu
dGhldGljTWV0aG9kQmluZGluZ3MpIHsKKwlpbml0aWFsaXplTWF4TG9jYWxzKG1ldGhvZEJpbmRp
bmcpOworCQorCS8vIENvbXB1dGUgdGhlIGxpc3Qgb2YgdGhlIHNlcmlhbGl6YWJsZSBsYW1iZGFz
IGZyb20gdGhlIGZ1bGwgc2V0IG9mIHN5bnRoZXRpYyBtZXRob2QgYmluZGluZ3MKKwkvLyBBbHNv
IGNvbXB1dGUgYSBtYXAgb2YgaGFzaGNvZGVzIHRvIGEgbGlzdCBvZiBzZXJpYWxpemFibGUgbGFt
YmRhcyB3aG9zZSBuYW1lcyBzaGFyZSBhIGhhc2hjb2RlIAorCUxpc3Qgc3ludGhldGljc0ZvclNl
cmlhbGl6YWJsZUxhbWJkYXMgPSBuZXcgQXJyYXlMaXN0KCk7CQorCU1hcCBoYXNoY29kZXNUb0xh
bWJkYXMgPSBuZXcgTGlua2VkSGFzaE1hcCgpOworCWZvciAoaW50IGk9MCxtYXg9c3ludGhldGlj
TWV0aG9kQmluZGluZ3MubGVuZ3RoO2k8bWF4O2krKykgeworCQlTeW50aGV0aWNNZXRob2RCaW5k
aW5nIHN5bnRoZXRpY01ldGhvZEJpbmRpbmcgPSBzeW50aGV0aWNNZXRob2RCaW5kaW5nc1tpXTsK
KwkJaWYgKHN5bnRoZXRpY01ldGhvZEJpbmRpbmcubGFtYmRhIT1udWxsICYmIHN5bnRoZXRpY01l
dGhvZEJpbmRpbmcubGFtYmRhLmlzU2VyaWFsaXphYmxlKSB7CisJCQlzeW50aGV0aWNzRm9yU2Vy
aWFsaXphYmxlTGFtYmRhcy5hZGQoc3ludGhldGljTWV0aG9kQmluZGluZyk7CisJCQkvLyBUT0RP
IGNhbiBJIHVzZSA+IEphdmEgMS40IGZlYXR1cmVzIGhlcmU/CisJCQlJbnRlZ2VyIGhhc2hjb2Rl
ID0gbmV3IEludGVnZXIobmV3IFN0cmluZyhzeW50aGV0aWNNZXRob2RCaW5kaW5nLnNlbGVjdG9y
KS5oYXNoQ29kZSgpKTsKKwkJCUxpc3QgbGFtYmRhc0ZvclRoaXNIYXNoY29kZSA9IChMaXN0KWhh
c2hjb2Rlc1RvTGFtYmRhcy5nZXQoaGFzaGNvZGUpOworCQkJaWYgKGhhc2hjb2Rlc1RvTGFtYmRh
cy5nZXQoaGFzaGNvZGUpPT1udWxsKSB7CisJCQkJbGFtYmRhc0ZvclRoaXNIYXNoY29kZSA9IG5l
dyBBcnJheUxpc3QoKTsKKwkJCQloYXNoY29kZXNUb0xhbWJkYXMucHV0KGhhc2hjb2RlLGxhbWJk
YXNGb3JUaGlzSGFzaGNvZGUpOworCQkJfQorCQkJbGFtYmRhc0ZvclRoaXNIYXNoY29kZS5hZGQo
c3ludGhldGljTWV0aG9kQmluZGluZyk7CisJCX0KKwl9CisJaW50IGxhbWJkYUNvdW50ID0gc3lu
dGhldGljc0ZvclNlcmlhbGl6YWJsZUxhbWJkYXMuc2l6ZSgpOworCUNsYXNzU2NvcGUgc2NvcGUg
PSAoKFNvdXJjZVR5cGVCaW5kaW5nKW1ldGhvZEJpbmRpbmcuZGVjbGFyaW5nQ2xhc3MpLnNjb3Bl
OworCQorCQorCS8vIEdlbmVyYXRlIHRoZSBmaXJzdCBzd2l0Y2gsIG9uIG1ldGhvZCBuYW1lIGhh
c2hjb2RlCisJYWxvYWRfMCgpOworCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAx
LCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQ
b29sTmFtZSwgQ29uc3RhbnRQb29sLkdldEltcGxNZXRob2ROYW1lLCBDb25zdGFudFBvb2wuR2V0
SW1wbE1ldGhvZE5hbWVTaWduYXR1cmUpOworCWFzdG9yZV8xKCk7CisJTG9jYWxWYXJpYWJsZUJp
bmRpbmcgbHZiMSA9IG5ldyBMb2NhbFZhcmlhYmxlQmluZGluZygiaGFzaGNvZGUiLnRvQ2hhckFy
cmF5KCksc2NvcGUuZ2V0SmF2YUxhbmdTdHJpbmcoKSwwLGZhbHNlKTsgLy8kTk9OLU5MUy0xJAor
CWx2YjEucmVzb2x2ZWRQb3NpdGlvbiA9IDE7CisJYWRkVmFyaWFibGUobHZiMSk7CisJaWNvbnN0
X20xKCk7CisJaXN0b3JlXzIoKTsKKwlMb2NhbFZhcmlhYmxlQmluZGluZyBsdmIyID0gbmV3IExv
Y2FsVmFyaWFibGVCaW5kaW5nKCJpZCIudG9DaGFyQXJyYXkoKSxUeXBlQmluZGluZy5JTlQsMCxm
YWxzZSk7IC8vJE5PTi1OTFMtMSQKKwlsdmIyLnJlc29sdmVkUG9zaXRpb24gPSAyOworCWFkZFZh
cmlhYmxlKGx2YjIpOworCWFsb2FkXzEoKTsKKwlpbnZva2VTdHJpbmdIYXNoQ29kZSgpOworCQor
CUJyYW5jaExhYmVsIGxhYmVsID0gbmV3IEJyYW5jaExhYmVsKHRoaXMpOworCUNhc2VMYWJlbCBk
ZWZhdWx0TGFiZWwgPSBuZXcgQ2FzZUxhYmVsKHRoaXMpOworCWludCBudW1iZXJPZkhhc2hjb2Rl
cyA9IGhhc2hjb2Rlc1RvTGFtYmRhcy5zaXplKCk7CisJQ2FzZUxhYmVsW10gc3dpdGNoTGFiZWxz
ID0gbmV3IENhc2VMYWJlbFtudW1iZXJPZkhhc2hjb2Rlc107CisJaW50W10ga2V5cyA9IG5ldyBp
bnRbbnVtYmVyT2ZIYXNoY29kZXNdOworCWludFtdIHNvcnRlZEluZGV4ZXMgPSBuZXcgaW50W251
bWJlck9mSGFzaGNvZGVzXTsKKwlTZXQgaGFzaGNvZGVzID0gaGFzaGNvZGVzVG9MYW1iZGFzLmtl
eVNldCgpOworCUl0ZXJhdG9yIGhhc2hjb2RlSXRlcmF0b3IgPSBoYXNoY29kZXMuaXRlcmF0b3Io
KTsKKwlpbnQgaW5kZXg9MDsKKwl3aGlsZSAoaGFzaGNvZGVJdGVyYXRvci5oYXNOZXh0KCkpIHsK
KwkJSW50ZWdlciBoYXNoY29kZSA9IChJbnRlZ2VyKWhhc2hjb2RlSXRlcmF0b3IubmV4dCgpOwor
CQlzd2l0Y2hMYWJlbHNbaW5kZXhdID0gbmV3IENhc2VMYWJlbCh0aGlzKTsKKwkJa2V5c1tpbmRl
eF0gPSBoYXNoY29kZS5pbnRWYWx1ZSgpOworCQlzb3J0ZWRJbmRleGVzW2luZGV4XSA9IGluZGV4
OworCQlpbmRleCsrOworCX0KKwlpbnRbXSBsb2NhbEtleXNDb3B5OworCVN5c3RlbS5hcnJheWNv
cHkoa2V5cywwLChsb2NhbEtleXNDb3B5ID0gbmV3IGludFtudW1iZXJPZkhhc2hjb2Rlc10pLDAs
bnVtYmVyT2ZIYXNoY29kZXMpOworCXNvcnQobG9jYWxLZXlzQ29weSwgMCwgbnVtYmVyT2ZIYXNo
Y29kZXMtMSwgc29ydGVkSW5kZXhlcyk7CisJLy8gVE9ETyBuZWVkIHRvIHVzZSBhIHRhYmxlc3dp
dGNoIGF0IHNvbWUgc2l6ZSB0aHJlc2hvbGQ/CisJbG9va3Vwc3dpdGNoKGRlZmF1bHRMYWJlbCwg
a2V5cywgc29ydGVkSW5kZXhlcywgc3dpdGNoTGFiZWxzKTsKKwkvLyBUT0RPIGNvcGUgd2l0aCBt
dWx0aXBsZSBuYW1lcyB0aGF0IHNoYXJlIHRoZSBzYW1lIGhhc2hjb2RlCQorCWhhc2hjb2RlSXRl
cmF0b3IgPSBoYXNoY29kZXMuaXRlcmF0b3IoKTsKKwlpbmRleCA9IDA7CisJd2hpbGUgKGhhc2hj
b2RlSXRlcmF0b3IuaGFzTmV4dCgpKSB7CisJCUludGVnZXIgaGFzaGNvZGUgPSAoSW50ZWdlcilo
YXNoY29kZUl0ZXJhdG9yLm5leHQoKTsKKwkJTGlzdCBsYW1iZGFzID0gKExpc3QpaGFzaGNvZGVz
VG9MYW1iZGFzLmdldChoYXNoY29kZSk7CisJCXN3aXRjaExhYmVsc1tpbmRleF0ucGxhY2UoKTsK
KwkJQnJhbmNoTGFiZWwgbmV4dE9uZSA9IG5ldyBCcmFuY2hMYWJlbCh0aGlzKTsKKwkJLy8gTG9v
cCB0aHJvdWdoIGFsbCBsYW1iZGFzIHRoYXQgc2hhcmUgdGhlIHNhbWUgaGFzaGNvZGUKKwkJZm9y
IChpbnQgaj0wLG1heD1sYW1iZGFzLnNpemUoKTtqPG1heDtqKyspIHsKKwkJCVN5bnRoZXRpY01l
dGhvZEJpbmRpbmcgc3ludGhldGljTWV0aG9kQmluZGluZyA9IChTeW50aGV0aWNNZXRob2RCaW5k
aW5nKWxhbWJkYXMuZ2V0KGopOworCQkJYWxvYWRfMSgpOworCQkJbGRjKG5ldyBTdHJpbmcoc3lu
dGhldGljTWV0aG9kQmluZGluZy5zZWxlY3RvcikpOworCQkJaW52b2tlU3RyaW5nRXF1YWxzKCk7
CisJCQlpZmVxKG5leHRPbmUpOworCQkJbG9hZEludChpbmRleCsrKTsKKwkJCWlzdG9yZV8yKCk7
CisJCQlnb3RvXyhsYWJlbCk7CisJCQluZXh0T25lLnBsYWNlKCk7CisJCQluZXh0T25lID0gbmV3
IEJyYW5jaExhYmVsKHRoaXMpOworCQl9CisJCWdvdG9fKGxhYmVsKTsKKwl9CisJZGVmYXVsdExh
YmVsLnBsYWNlKCk7CisJbGFiZWwucGxhY2UoKTsKKwkKKwkvLyBTZWNvbmQgYmxvY2sgaXMgc3dp
dGNoaW5nIG9uIHRoZSBsYW1iZGEgaWQsIC0xIGlzIHRoZSBlcnJvciAodW5yZWNvZ25pemVkKSBj
YXNlCisJc3dpdGNoTGFiZWxzID0gbmV3IENhc2VMYWJlbFtsYW1iZGFDb3VudF07CisJa2V5cyA9
IG5ldyBpbnRbbGFtYmRhQ291bnRdOworCXNvcnRlZEluZGV4ZXMgPSBuZXcgaW50W2xhbWJkYUNv
dW50XTsKKwlCcmFuY2hMYWJlbCBlcnJvckxhYmVsID0gbmV3IEJyYW5jaExhYmVsKHRoaXMpOwor
CWRlZmF1bHRMYWJlbCA9IG5ldyBDYXNlTGFiZWwodGhpcyk7CisJaWxvYWRfMigpOworCWZvciAo
aW50IGo9MDtqPGxhbWJkYUNvdW50O2orKykgeworCQlzd2l0Y2hMYWJlbHNbal0gPSBuZXcgQ2Fz
ZUxhYmVsKHRoaXMpOworCQlrZXlzW2pdID0gajsKKwkJc29ydGVkSW5kZXhlc1tqXSA9IGo7CisJ
fQorCVN5c3RlbS5hcnJheWNvcHkoa2V5cywwLChsb2NhbEtleXNDb3B5ID0gbmV3IGludFtsYW1i
ZGFDb3VudF0pLDAsbGFtYmRhQ291bnQpOworCS8vIFRPRE8gbm8gbmVlZCB0byBzb3J0IGhlcmU/
IFRoZXkgc2hvdWxkIGFsbCBiZSBpbiBvcmRlcgorCXNvcnQobG9jYWxLZXlzQ29weSwgMCwgbGFt
YmRhQ291bnQtMSwgc29ydGVkSW5kZXhlcyk7CisJLy8gVE9ETyBuZWVkIHRvIHVzZSBhIHRhYmxl
c3dpdGNoIGF0IHNvbWUgc2l6ZSB0aHJlc2hvbGQ/CisJbG9va3Vwc3dpdGNoKGRlZmF1bHRMYWJl
bCwga2V5cywgc29ydGVkSW5kZXhlcywgc3dpdGNoTGFiZWxzKTsKKwlmb3IgKGludCBpPTA7aTxs
YW1iZGFDb3VudDtpKyspIHsKKwkJU3ludGhldGljTWV0aG9kQmluZGluZyBzeW50aGV0aWNNZXRo
b2RCaW5kaW5nID0gKFN5bnRoZXRpY01ldGhvZEJpbmRpbmcpc3ludGhldGljc0ZvclNlcmlhbGl6
YWJsZUxhbWJkYXMuZ2V0KGkpOworCQlzd2l0Y2hMYWJlbHNbaV0ucGxhY2UoKTsKKwkJCisJCS8v
IENvbXBhcmUgSW1wbE1ldGhvZEtpbmQKKwkJYWxvYWRfMCgpOworCQlMYW1iZGFFeHByZXNzaW9u
IGxhbWJkYUV4ID0gc3ludGhldGljTWV0aG9kQmluZGluZy5sYW1iZGE7CisJCU1ldGhvZEJpbmRp
bmcgbWIgPSBsYW1iZGFFeC5iaW5kaW5nOworCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmly
dHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNv
bnN0YW50UG9vbE5hbWUsIAorCQkJCUNvbnN0YW50UG9vbC5HZXRJbXBsTWV0aG9kS2luZCwgQ29u
c3RhbnRQb29sLkdldEltcGxNZXRob2RLaW5kU2lnbmF0dXJlKTsKKwkJYnl0ZSBtZXRob2RLaW5k
ID0gMDsKKwkJaWYgKG1iLmlzU3RhdGljKCkpIHsKKwkJCW1ldGhvZEtpbmQgPSBDbGFzc0ZpbGVD
b25zdGFudHMuTWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVN0YXRpYzsKKwkJfSBlbHNlIGlmICht
Yi5pc1ByaXZhdGUoKSkgeworCQkJbWV0aG9kS2luZCA9IENsYXNzRmlsZUNvbnN0YW50cy5NZXRo
b2RIYW5kbGVSZWZLaW5kSW52b2tlU3BlY2lhbDsKKwkJfSBlbHNlIHsKKwkJCW1ldGhvZEtpbmQg
PSBDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVZpcnR1YWw7CisJ
CX0KKwkJYmlwdXNoKG1ldGhvZEtpbmQpOy8vIFRPRE8gc2VlIHRhYmxlIGJlbG93CisJCWlmX2lj
bXBuZShlcnJvckxhYmVsKTsKKworCQkvLyBDb21wYXJlIEZ1bmN0aW9uYWxJbnRlcmZhY2VDbGFz
cworCQlhbG9hZF8wKCk7CisJCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAx
LCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29s
TmFtZSwgCisJCQkJQ29uc3RhbnRQb29sLkdldEZ1bmN0aW9uYWxJbnRlcmZhY2VDbGFzcywgQ29u
c3RhbnRQb29sLkdldEZ1bmN0aW9uYWxJbnRlcmZhY2VDbGFzc1NpZ25hdHVyZSk7CisJCWxkYyhu
ZXcgU3RyaW5nKENoYXJPcGVyYXRpb24uY29uY2F0V2l0aChsYW1iZGFFeC5kZXNjcmlwdG9yLmRl
Y2xhcmluZ0NsYXNzLmNvbXBvdW5kTmFtZSwnLycpKSk7IC8vIGUuZy4gImNvbS9mb28vWCRGb28i
CisJCWludm9rZU9iamVjdEVxdWFscygpOworCQlpZmVxKGVycm9yTGFiZWwpOworCQkKKwkJLy8g
Q29tcGFyZSBGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kTmFtZQorCQlhbG9hZF8wKCk7CisJCWlu
dm9rZShPcGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxh
bmdJbnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29uc3RhbnRQ
b29sLkdldEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2ROYW1lLCBDb25zdGFudFBvb2wuR2V0RnVu
Y3Rpb25hbEludGVyZmFjZU1ldGhvZE5hbWVTaWduYXR1cmUpOworCQlsZGMobmV3IFN0cmluZyhs
YW1iZGFFeC5kZXNjcmlwdG9yLnNlbGVjdG9yKSk7IC8vIGUuZy4gIm0iCisJCWludm9rZU9iamVj
dEVxdWFscygpOworCQlpZmVxKGVycm9yTGFiZWwpOworCisJCS8vIENvbXBhcmUgRnVuY3Rpb25h
bEludGVyZmFjZU1ldGhvZFNpZ25hdHVyZQorCQlhbG9hZF8wKCk7CisJCWludm9rZShPcGNvZGVz
Lk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJp
YWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29uc3RhbnRQb29sLkdldEZ1bmN0
aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmUsIENvbnN0YW50UG9vbC5HZXRGdW5jdGlvbmFs
SW50ZXJmYWNlTWV0aG9kU2lnbmF0dXJlU2lnbmF0dXJlKTsKKwkJbGRjKG5ldyBTdHJpbmcobGFt
YmRhRXguZGVzY3JpcHRvci5vcmlnaW5hbCgpLnNpZ25hdHVyZSgpKSk7IC8vIGUuZyAiKClJIgor
CQlpbnZva2VPYmplY3RFcXVhbHMoKTsKKwkJaWZlcShlcnJvckxhYmVsKTsKKworCQkvLyBDb21w
YXJlIEltcGxDbGFzcworCQlhbG9hZF8wKCk7CisJCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2
aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRh
Q29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29uc3RhbnRQb29sLkdldEltcGxDbGFzcywgQ29uc3Rh
bnRQb29sLkdldEltcGxDbGFzc1NpZ25hdHVyZSk7CisJCWxkYyhuZXcgU3RyaW5nKENoYXJPcGVy
YXRpb24uY29uY2F0V2l0aChtYi5kZWNsYXJpbmdDbGFzcy5jb21wb3VuZE5hbWUsJy8nKSkpOyAv
LyBlLmcuICJjb20vZm9vL1giCisJCWludm9rZU9iamVjdEVxdWFscygpOworCQlpZmVxKGVycm9y
TGFiZWwpOworCisJCS8vIENvbXBhcmUgSW1wbE1ldGhvZFNpZ25hdHVyZQorCQlhbG9hZF8wKCk7
CisJCWludm9rZShPcGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wu
SmF2YUxhbmdJbnZva2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJQ29u
c3RhbnRQb29sLkdldEltcGxNZXRob2RTaWduYXR1cmUsIENvbnN0YW50UG9vbC5HZXRJbXBsTWV0
aG9kU2lnbmF0dXJlU2lnbmF0dXJlKTsKKwkJbGRjKG5ldyBTdHJpbmcobWIuc2lnbmF0dXJlKCkp
KTsgLy8gZS5nLiAiKEkpSSIKKwkJaW52b2tlT2JqZWN0RXF1YWxzKCk7CisJCWlmZXEoZXJyb3JM
YWJlbCk7CisKKwkJLy8gQ2FwdHVyZWQgYXJndW1lbnRzCisJCVN0cmluZ0J1ZmZlciBzaWcgPSBu
ZXcgU3RyaW5nQnVmZmVyKCIoIik7IC8vJE5PTi1OTFMtMSQKKwkJaW5kZXggPSAwOworCQlpZiAo
bGFtYmRhRXguc2hvdWxkQ2FwdHVyZUluc3RhbmNlKSB7CisJCQlhbG9hZF8wKCk7CisJCQlsb2Fk
SW50KGluZGV4KyspOworCQkJaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsIDEsIDEs
IENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFDb25zdGFudFBvb2xO
YW1lLCAKKwkJCQkJQ29uc3RhbnRQb29sLkdldENhcHR1cmVkQXJnLCBDb25zdGFudFBvb2wuR2V0
Q2FwdHVyZWRBcmdTaWduYXR1cmUpOworCQkJY2hlY2tjYXN0KG1iLmRlY2xhcmluZ0NsYXNzKTsK
KwkJCXNpZy5hcHBlbmQobWIuZGVjbGFyaW5nQ2xhc3Muc2lnbmF0dXJlKCkpOworCQl9CisJCQor
CQlTeW50aGV0aWNBcmd1bWVudEJpbmRpbmdbXSBvdXRlckxvY2FsVmFyaWFibGVzID0gbGFtYmRh
RXgub3V0ZXJMb2NhbFZhcmlhYmxlczsKKwkJZm9yIChpbnQgcD0wLG1heD1vdXRlckxvY2FsVmFy
aWFibGVzLmxlbmd0aDtwPG1heDtwKyspIHsKKwkJCWFsb2FkXzAoKTsKKwkJCWxvYWRJbnQocCk7
CisJCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29s
LkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIAorCQkJCQlD
b25zdGFudFBvb2wuR2V0Q2FwdHVyZWRBcmcsIENvbnN0YW50UG9vbC5HZXRDYXB0dXJlZEFyZ1Np
Z25hdHVyZSk7CisJCQlUeXBlQmluZGluZyB2YXJUeXBlID0gb3V0ZXJMb2NhbFZhcmlhYmxlc1tw
XS50eXBlOworCQkJaWYgKHZhclR5cGUuaXNCYXNlVHlwZSgpKSB7CisJCQkJY2hlY2tjYXN0KHNj
b3BlLmJveGluZyh2YXJUeXBlKSk7CisJCQkJZ2VuZXJhdGVVbmJveGluZ0NvbnZlcnNpb24odmFy
VHlwZS5pZCk7CisJCQkJaWYgKHZhclR5cGUuaWQgPT0gVHlwZUlkcy5UX0phdmFMYW5nTG9uZyB8
fCB2YXJUeXBlLmlkID09IFR5cGVJZHMuVF9KYXZhTGFuZ0RvdWJsZSkgeworCQkJCQlpbmRleCsr
OworCQkJCX0KKwkJCX0gZWxzZSB7CisJCQkJY2hlY2tjYXN0KHZhclR5cGUpOworCQkJfQorCQkJ
aW5kZXgrKzsKKwkJCXNpZy5hcHBlbmQodmFyVHlwZS5zaWduYXR1cmUoKSk7CisJCX0KKwkJc2ln
LmFwcGVuZCgiKSIpOyAvLyROT04tTkxTLTEkCisJCWlmIChsYW1iZGFFeC5yZXNvbHZlZFR5cGUg
aW5zdGFuY2VvZiBJbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcpIHsKKwkJCXNpZy5hcHBlbmQo
KChJbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcpbGFtYmRhRXgucmVzb2x2ZWRUeXBlKS5nZXRT
QU1UeXBlKHNjb3BlKS5zaWduYXR1cmUoKSk7CisJCX0gZWxzZSB7CisJCQlzaWcuYXBwZW5kKGxh
bWJkYUV4LnJlc29sdmVkVHlwZS5zaWduYXR1cmUoKSk7CisJCX0KKwkJLy8gRXhhbXBsZTogaW52
b2tlRHluYW1pYygwLCAwLCAxLCAibSIudG9DaGFyQXJyYXkoKSwgIigpTGNvbS9mb28vWCRGb287
Ii50b0NoYXJBcnJheSgpKTsKKwkJaW52b2tlRHluYW1pYyhsYW1iZGFFeC5ib290c3RyYXBNZXRo
b2ROdW1iZXIsIGluZGV4LCAxLCBsYW1iZGFFeC5kZXNjcmlwdG9yLnNlbGVjdG9yLCBzaWcudG9T
dHJpbmcoKS50b0NoYXJBcnJheSgpKTsKKwkJYXJldHVybigpOworCX0KKwkKKwlyZW1vdmVWYXJp
YWJsZShsdmIxKTsKKwlyZW1vdmVWYXJpYWJsZShsdmIyKTsKKwlkZWZhdWx0TGFiZWwucGxhY2Uo
KTsKKwllcnJvckxhYmVsLnBsYWNlKCk7CisJLy8gQ29kZTogdGhyb3cgbmV3IElsbGVnYWxBcmd1
bWVudEV4Y2VwdGlvbigiSW52YWxpZCBsYW1iZGEgZGVzZXJpYWxpemF0aW9uIikKKwluZXdfKHNj
b3BlLmdldEphdmFMYW5nSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkpOworCWR1cCgpOworCWxk
YygiSW52YWxpZCBsYW1iZGEgZGVzZXJpYWxpemF0aW9uIik7IC8vJE5PTi1OTFMtMSQgLy8gVE9E
TyBpbnRvIGEgY29uc3RhbnQ/CQkKKwkvLyBpbnZva2VzcGVjaWFsOiBqYXZhLmxhbmcuSWxsZWdh
bEFyZ3VtZW50RXhjZXB0aW9uLjxpbml0PihMamF2YS9sYW5nL1N0cmluZzspVgorCWludm9rZSgK
KwkJCU9wY29kZXMuT1BDX2ludm9rZXNwZWNpYWwsCisJCQkyLCAvLyByZWNlaXZlckFuZEFyZ3NT
aXplCisJCQkwLCAvLyByZXR1cm4gdHlwZSBzaXplCisJCQlDb25zdGFudFBvb2wuSmF2YUxhbmdJ
bGxlZ2FsQXJndW1lbnRFeGNlcHRpb25Db25zdGFudFBvb2xOYW1lLAorCQkJQ29uc3RhbnRQb29s
LkluaXQsCisJCQlDb25zdGFudFBvb2wuSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uQ29uc3RydWN0
b3JTaWduYXR1cmUpOworCWF0aHJvdygpOworfQorCisvKioKKyAqIEJhc2VkIG9uIHRoZSBzdXBw
bGllZCB2YWx1ZSBhZGQgdGhlIG1vc3QgZWZmaWNpZW50IGxvYWQgaW5zdHJ1Y3Rpb24gdG8gdGhl
IGNvZGUgc3RyZWFtIGZvciB0aGF0IHZhbHVlLgorICogTm90ZTogRG9lcyBub3QgaGFuZGxlICBu
ZWdhdGl2ZSB2YWx1ZXMuCisgKi8KK3B1YmxpYyB2b2lkIGxvYWRJbnQoaW50IHZhbHVlKSB7CisJ
aWYgKHZhbHVlPDYpIHsKKwkJaWYgKHZhbHVlPT0wKSB7CisJCQlpY29uc3RfMCgpOworCQl9IGVs
c2UgaWYgKHZhbHVlPT0xKSB7CisJCQlpY29uc3RfMSgpOworCQl9IGVsc2UgaWYgKHZhbHVlPT0y
KSB7CisJCQlpY29uc3RfMigpOworCQl9IGVsc2UgaWYgKHZhbHVlPT0zKSB7CisJCQlpY29uc3Rf
MygpOworCQl9IGVsc2UgaWYgKHZhbHVlPT00KSB7CisJCQlpY29uc3RfNCgpOworCQl9IGVsc2Ug
aWYgKHZhbHVlPT01KSB7CisJCQlpY29uc3RfNSgpOworCQl9CisJfSBlbHNlIGlmICh2YWx1ZSA8
IDEyOCkgeworCQkvLyBUT0RPIFthbmR5XSB0ZXN0Y2FzZXMgdGhhdCBoaXQgdGhpcworCQliaXB1
c2goKGJ5dGUpdmFsdWUpOworCX0gZWxzZSB7CisJCS8vIFRPRE8gW2FuZHldIHRlc3RjYXNlcyB0
aGF0IGhpdCB0aGlzLCB5aWtlcworCQlsZGModmFsdWUpOworCX0KK30KKwogLy9zdGF0aWMgWFtd
IHZhbHVlcygpIHsKIC8vIFhbXSB2YWx1ZXM7CiAvLyBpbnQgbGVuZ3RoOwpAQCAtMjkzMCw2ICsz
MjAwLDcgQEAgcHVibGljIHZvaWQgZ2VuZXJhdGVVbmJveGluZ0NvbnZlcnNpb24oaW50IHVuYm94
ZWRUeXBlSUQpIHsKIAl9CiB9CiAKKwogLyoKICAqIFdpZGUgY29uZGl0aW9uYWwgYnJhbmNoIGNv
bXBhcmUsIGltcHJvdmVkIGJ5IHN3YXBwaW5nIGNvbXBhcmlzb24gb3Bjb2RlCiAgKiAgIGlmZXEg
V2lkZVRhcmdldApAQCAtNDY1OCw2ICs0OTI5LDE2IEBAIHB1YmxpYyB2b2lkIGludm9rZVN0cmlu
Z0VxdWFscygpIHsKIAkJCUNvbnN0YW50UG9vbC5FcXVhbHMsCiAJCQlDb25zdGFudFBvb2wuRXF1
YWxzU2lnbmF0dXJlKTsKIH0KK3B1YmxpYyB2b2lkIGludm9rZU9iamVjdEVxdWFscygpIHsKKwkv
LyBpbnZva2V2aXJ0dWFsOiBqYXZhLmxhbmcuT2JqZWN0LmVxdWFscygpCisJaW52b2tlKAorCQkJ
T3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwKKwkJCTIsIC8vIHJlY2VpdmVyQW5kQXJnc1NpemUK
KwkJCTEsIC8vIHJldHVybiB0eXBlIHNpemUKKwkJCUNvbnN0YW50UG9vbC5KYXZhTGFuZ09iamVj
dENvbnN0YW50UG9vbE5hbWUsCisJCQlDb25zdGFudFBvb2wuRXF1YWxzLAorCQkJQ29uc3RhbnRQ
b29sLkVxdWFsc1NpZ25hdHVyZSk7Cit9CiBwdWJsaWMgdm9pZCBpbnZva2VTdHJpbmdIYXNoQ29k
ZSgpIHsKIAkvLyBpbnZva2V2aXJ0dWFsOiBqYXZhLmxhbmcuU3RyaW5nLmhhc2hDb2RlKCkKIAlp
bnZva2UoCmRpZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wuamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jb2RlZ2VuL0NvbnN0YW50UG9vbC5qYXZhCmluZGV4IDA2MTQ0YWQuLjQ3M2JmZjggMTAw
NjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9p
bnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvbnN0YW50UG9vbC5qYXZhCisrKyBiL29yZy5lY2xp
cHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9j
b2RlZ2VuL0NvbnN0YW50UG9vbC5qYXZhCkBAIC0xNiw2ICsxNiw4IEBACiAgKgkJCQkJCQlCdWcg
NDA2OTgyIC0gWzEuOF1bY29tcGlsZXJdIEdlbmVyYXRpb24gb2YgTWV0aG9kUGFyYW1ldGVycyBB
dHRyaWJ1dGUgaW4gY2xhc3NmaWxlCiAgKgkJCQkJCQlCdWcgNDE2ODg1IC0gWzEuOF1bY29tcGls
ZXJdSW5jb21wYXRpYmxlQ2xhc3NDaGFuZ2UgZXJyb3IgKGVkaXQpCiAgKgkJCQkJCQlCdWcgNDEy
MTUzIC0gWzEuOF1bY29tcGlsZXJdIENoZWNrIHZhbGlkaXR5IG9mIGFubm90YXRpb25zIHdoaWNo
IG1heSBiZSByZXBlYXRhYmxlCisgKiAgICAgICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIElu
YykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAg
ICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJ
bXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmNv
ZGVnZW47CiAKQEAgLTE0Nyw2ICsxNDksNyBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGlt
cGxlbWVudHMgQ2xhc3NGaWxlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAlwdWJsaWMgc3RhdGljIGZp
bmFsIGNoYXJbXSBJTlZPS0VfTUVUSE9EX01FVEhPRF9TSUdOQVRVUkUgPSAiKExqYXZhL2xhbmcv
T2JqZWN0O1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9PYmplY3Q7Ii50b0NoYXJBcnJh
eSgpOyAvLyROT04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW11bXSBKQVZBX0xB
TkdfUkVGTEVDVF9BQ0NFU1NJQkxFT0JKRUNUID0gbmV3IGNoYXJbXVtdIHtUeXBlQ29uc3RhbnRz
LkpBVkEsIFR5cGVDb25zdGFudHMuTEFORywgVHlwZUNvbnN0YW50cy5SRUZMRUNULCAiQWNjZXNz
aWJsZU9iamVjdCIudG9DaGFyQXJyYXkoKX07IC8vJE5PTi1OTFMtMSQKIAlwdWJsaWMgc3RhdGlj
IGZpbmFsIGNoYXJbXVtdIEpBVkFfTEFOR19SRUZMRUNUX0FSUkFZID0gbmV3IGNoYXJbXVtdIHtU
eXBlQ29uc3RhbnRzLkpBVkEsIFR5cGVDb25zdGFudHMuTEFORywgVHlwZUNvbnN0YW50cy5SRUZM
RUNULCAiQXJyYXkiLnRvQ2hhckFycmF5KCl9OyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRp
YyBmaW5hbCBjaGFyW10gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uQ29uc3RydWN0b3JTaWduYXR1
cmUgPSAiKExqYXZhL2xhbmcvU3RyaW5nOylWIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEk
CiAJLy8gcHJlZGVmaW5lZCB0eXBlIGNvbnN0YW50IG5hbWVzCiAJcHVibGljIHN0YXRpYyBmaW5h
bCBjaGFyW10gSmF2YUlvUHJpbnRTdHJlYW1TaWduYXR1cmUgPSAiTGphdmEvaW8vUHJpbnRTdHJl
YW07Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBj
aGFyW10gSmF2YUxhbmdBc3NlcnRpb25FcnJvckNvbnN0YW50UG9vbE5hbWUgPSAiamF2YS9sYW5n
L0Fzc2VydGlvbkVycm9yIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCkBAIC0xODAsNiAr
MTgzLDcgQEAgcHVibGljIGNsYXNzIENvbnN0YW50UG9vbCBpbXBsZW1lbnRzIENsYXNzRmlsZUNv
bnN0YW50cywgVHlwZUlkcyB7CiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdP
YmplY3RTaWduYXR1cmUgPSAiTGphdmEvbGFuZy9PYmplY3Q7Ii50b0NoYXJBcnJheSgpOyAvLyRO
T04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdTeXN0ZW1Db25z
dGFudFBvb2xOYW1lID0gImphdmEvbGFuZy9TeXN0ZW0iLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1O
TFMtMSQKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhTGFuZ1Rocm93YWJsZUNvbnN0
YW50UG9vbE5hbWUgPSAiamF2YS9sYW5nL1Rocm93YWJsZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9O
LU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEphdmFMYW5nSWxsZWdhbEFyZ3Vt
ZW50RXhjZXB0aW9uQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvSWxsZWdhbEFyZ3VtZW50
RXhjZXB0aW9uIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gSmF2YUxhbmdWb2lkQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvVm9p
ZCIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hh
cltdIEphdmFVdGlsSXRlcmF0b3JDb25zdGFudFBvb2xOYW1lID0gImphdmEvdXRpbC9JdGVyYXRv
ciIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hh
cltdIExvbmdDb25zdHJTaWduYXR1cmUgPSAiKEopViIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5M
Uy0xJApAQCAtMjY0LDYgKzI2OCwyNyBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGltcGxl
bWVudHMgQ2xhc3NGaWxlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkvLyBKYXZhIDggbGFtYmRhIHN1
cHBvcnQKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBNRVRBRkFDVE9SWSA9ICJtZXRhZmFj
dG9yeSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwg
Y2hhcltdIEpBVkFfTEFOR19JTlZPS0VfTEFNQkRBTUVUQUZBQ1RPUllfTUVUQUZBQ1RPUllfU0lH
TkFUVVJFID0gIihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9s
YW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO0xqYXZhL2xhbmcvaW52b2tl
L01ldGhvZFR5cGU7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlO0xqYXZhL2xhbmcvaW52
b2tlL01ldGhvZFR5cGU7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlOyIudG9DaGFyQXJyYXko
KTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEFMVE1FVEFGQUNU
T1JZID0gImFsdE1ldGFmYWN0b3J5Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVi
bGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9S
WV9BTFRNRVRBRkFDVE9SWV9TSUdOQVRVUkUgPSAKKwkJCSIoTGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlOyIu
dG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltd
IEphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYSA9ICJMamF2YS9sYW5nL2ludm9rZS9TZXJp
YWxpemVkTGFtYmRhOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0
aWMgZmluYWwgY2hhcltdIEphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9v
bE5hbWUgPSAiamF2YS9sYW5nL2ludm9rZS9TZXJpYWxpemVkTGFtYmRhIi50b0NoYXJBcnJheSgp
OyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0SW1wbE1ldGhv
ZE5hbWUgPSAiZ2V0SW1wbE1ldGhvZE5hbWUiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQK
KwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRJbXBsTWV0aG9kTmFtZVNpZ25hdHVyZSA9
ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1
YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEltcGxNZXRob2RLaW5kID0gImdldEltcGxNZXRo
b2RLaW5kIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5h
bCBjaGFyW10gR2V0SW1wbE1ldGhvZEtpbmRTaWduYXR1cmUgPSAiKClJIi50b0NoYXJBcnJheSgp
OyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0RnVuY3Rpb25h
bEludGVyZmFjZUNsYXNzID0gImdldEZ1bmN0aW9uYWxJbnRlcmZhY2VDbGFzcyIudG9DaGFyQXJy
YXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEZ1bmN0
aW9uYWxJbnRlcmZhY2VDbGFzc1NpZ25hdHVyZSA9ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9D
aGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdl
dEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2ROYW1lID0gImdldEZ1bmN0aW9uYWxJbnRlcmZhY2VN
ZXRob2ROYW1lIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gR2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZE5hbWVTaWduYXR1cmUgPSAi
KClMamF2YS9sYW5nL1N0cmluZzsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kU2lnbmF0
dXJlID0gImdldEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmUiLnRvQ2hhckFycmF5
KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRGdW5jdGlv
bmFsSW50ZXJmYWNlTWV0aG9kU2lnbmF0dXJlU2lnbmF0dXJlID0gIigpTGphdmEvbGFuZy9TdHJp
bmc7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBj
aGFyW10gR2V0SW1wbENsYXNzID0gImdldEltcGxDbGFzcyIudG9DaGFyQXJyYXkoKTsgLy8kTk9O
LU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEltcGxDbGFzc1NpZ25hdHVy
ZSA9ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAor
CXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEltcGxNZXRob2RTaWduYXR1cmUgPSAiZ2V0
SW1wbE1ldGhvZFNpZ25hdHVyZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEltcGxNZXRob2RTaWduYXR1cmVTaWduYXR1cmUgPSAi
KClMamF2YS9sYW5nL1N0cmluZzsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRDYXB0dXJlZEFyZyA9ICJnZXRDYXB0dXJlZEFyZyIu
dG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltd
IEdldENhcHR1cmVkQXJnU2lnbmF0dXJlID0gIihJKUxqYXZhL2xhbmcvT2JqZWN0OyIudG9DaGFy
QXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCS8vIEphdmEgOCByZXBlYXRhYmxlIGFubm90YXRpb24g
c3VwcG9ydAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEpBVkFfTEFOR19BTk5PVEFUSU9O
X1JFUEVBVEFCTEUgPSAiTGphdmEvbGFuZy9hbm5vdGF0aW9uL1JlcGVhdGFibGU7Ii50b0NoYXJB
cnJheSgpOyAvLyROT04tTkxTLTEkCiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3Jl
L2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvSW50ZXJz
ZWN0aW9uQ2FzdFR5cGVCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0ludGVyc2VjdGlvbkNh
c3RUeXBlQmluZGluZy5qYXZhCmluZGV4IDFkYjU1OTMuLjAwZWQ2ZjcgMTAwNjQ0Ci0tLSBhL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9sb29rdXAvSW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nLmphdmEKKysrIGIvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2xvb2t1cC9JbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcuamF2YQpAQCAtMTMsNiArMTMsOCBA
QAogICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlv
bgogICogICAgIFN0ZXBoYW4gSGVycm1hbm4gLSBDb250cmlidXRpb24gZm9yCiAgKgkJCQkJCQlC
dWcgNDIzNTA0IC0gWzEuOF0gSW1wbGVtZW50ICIxOC41LjMgRnVuY3Rpb25hbCBJbnRlcmZhY2Ug
UGFyYW1ldGVyaXphdGlvbiBJbmZlcmVuY2UiCisgKiAgICAgICAgQW5keSBDbGVtZW50IChHb1Bp
dm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisg
KiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtj
b2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKi8KIAogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
Y29tcGlsZXIubG9va3VwOwpAQCAtMTc5LDQgKzE4MSwyMiBAQCBwdWJsaWMgY2xhc3MgSW50ZXJz
ZWN0aW9uQ2FzdFR5cGVCaW5kaW5nIGV4dGVuZHMgUmVmZXJlbmNlQmluZGluZyB7CiAJcHVibGlj
IFN0cmluZyB0b1N0cmluZygpIHsKIAkgICAgcmV0dXJuIGRlYnVnTmFtZSgpOwogCX0KKworCXB1
YmxpYyBUeXBlQmluZGluZyBnZXRTQU1UeXBlKFNjb3BlIHNjb3BlKSB7CisJCVR5cGVCaW5kaW5n
IHNhbVR5cGUgPSBudWxsOworCQlmb3IgKGludCBpID0gMCwgbWF4ID0gdGhpcy5pbnRlcnNlY3Rp
bmdUeXBlcy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgeworCQkJVHlwZUJpbmRpbmcgdHlwZUJpbmRp
bmcgPSB0aGlzLmludGVyc2VjdGluZ1R5cGVzW2ldOworCQkJTWV0aG9kQmluZGluZyBtZXRob2RC
aW5kaW5nID0gdHlwZUJpbmRpbmcuZ2V0U2luZ2xlQWJzdHJhY3RNZXRob2Qoc2NvcGUsIGZhbHNl
KTsKKwkJCS8vIFdoeSBkb2Vzbid0IGdldFNpbmdsZUFic3RyYWN0TWV0aG9kIGRvIGFzIHRoZSBq
YXZhZG9jIHNheXMsIGFuZCByZXR1cm4gbnVsbAorCQkJLy8gd2hlbiBpdCBpcyBub3QgYSBTQU0g
dHlwZQorCQkJaWYgKG1ldGhvZEJpbmRpbmcgaW5zdGFuY2VvZiBQcm9ibGVtTWV0aG9kQmluZGlu
ZyAmJiAoKFByb2JsZW1NZXRob2RCaW5kaW5nKW1ldGhvZEJpbmRpbmcpLnByb2JsZW1JZCgpPT1Q
cm9ibGVtUmVhc29ucy5Ob1N1Y2hTaW5nbGVBYnN0cmFjdE1ldGhvZCkgeworCQkJCWNvbnRpbnVl
OworCQkJfQorCQkJaWYgKHNhbVR5cGUhPW51bGwpIHsKKwkJCQlyZXR1cm4gbnVsbDsgLy8gVGhl
cmUgaXMgbW9yZSB0aGFuIG9uZSAoISksIHNvIHdlIGRvbid0IGtub3cgd2hpY2gKKwkJCX0KKwkJ
CXNhbVR5cGUgPSB0eXBlQmluZGluZzsKKwkJfQorCQlyZXR1cm4gc2FtVHlwZTsKKwl9CiB9CmRp
ZmYgLS1naXQgYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1Njb3BlLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29y
ZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1Njb3Bl
LmphdmEKaW5kZXggOTAzMjQxMS4uYjdjYjg3NCAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2UuamR0
LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9T
Y29wZS5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNl
L2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU2NvcGUuamF2YQpAQCAtMjcsNiArMjcsOCBA
QAogICogICAgIEplc3BlciBTIE1vbGxlciAtIENvbnRyaWJ1dGlvbnMgZm9yCiAgKgkJCQkJCQkJ
QnVnIDM3ODY3NCAtICJUaGUgbWV0aG9kIGNhbiBiZSBkZWNsYXJlZCBhcyBzdGF0aWMiIGlzIHdy
b25nCiAgKiAgCQkJCQkJCUJ1ZyA0MDUwNjYgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1w
bGVtZW50IGNvZGUgZ2VuZXJhdGlvbiBpbmZyYXN0cnVjdHVyZSBmb3IgSlNSMzM1CisgKiAgICAg
ICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAt
IENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgCUJ1ZyA0MDUx
MDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlh
bGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7CiAKQEAgLTI1OTMsNiArMjU5NSwx
MiBAQCBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgU2NvcGUgewogCQl1bml0U2NvcGUucmVjb3JkUXVh
bGlmaWVkUmVmZXJlbmNlKFR5cGVDb25zdGFudHMuSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRB
RkFDVE9SWSk7CiAJCXJldHVybiB1bml0U2NvcGUuZW52aXJvbm1lbnQuZ2V0UmVzb2x2ZWRUeXBl
KFR5cGVDb25zdGFudHMuSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9SWSwgdGhpcyk7
CiAJfQorCQorCXB1YmxpYyBmaW5hbCBSZWZlcmVuY2VCaW5kaW5nIGdldEphdmFMYW5nSW52b2tl
U2VyaWFsaXplZExhbWJkYSgpIHsKKwkJQ29tcGlsYXRpb25Vbml0U2NvcGUgdW5pdFNjb3BlID0g
Y29tcGlsYXRpb25Vbml0U2NvcGUoKTsKKwkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJlZmVy
ZW5jZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTlZPS0VfU0VSSUFMSVpFRExBTUJEQSk7CisJ
CXJldHVybiB1bml0U2NvcGUuZW52aXJvbm1lbnQuZ2V0UmVzb2x2ZWRUeXBlKFR5cGVDb25zdGFu
dHMuSkFWQV9MQU5HX0lOVk9LRV9TRVJJQUxJWkVETEFNQkRBLCB0aGlzKTsKKwl9CiAKIAlwdWJs
aWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhTGFuZ0ludm9rZU1ldGhvZEhhbmRsZXNM
b29rdXAoKSB7CiAJCUNvbXBpbGF0aW9uVW5pdFNjb3BlIHVuaXRTY29wZSA9IGNvbXBpbGF0aW9u
VW5pdFNjb3BlKCk7CkBAIC0yNjIzLDYgKzI2MzEsMTMgQEAgcHVibGljIGFic3RyYWN0IGNsYXNz
IFNjb3BlIHsKIAkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJlZmVyZW5jZShUeXBlQ29uc3Rh
bnRzLkpBVkFfTEFOR19USFJPV0FCTEUpOwogCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25tZW50
LmdldFJlc29sdmVkVHlwZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19USFJPV0FCTEUsIHRoaXMp
OwogCX0KKwkKKwlwdWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhTGFuZ0lsbGVn
YWxBcmd1bWVudEV4Y2VwdGlvbigpIHsKKwkJQ29tcGlsYXRpb25Vbml0U2NvcGUgdW5pdFNjb3Bl
ID0gY29tcGlsYXRpb25Vbml0U2NvcGUoKTsKKwkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJl
ZmVyZW5jZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTExFR0FMQVJHVU1FTlRFWENFUFRJT04p
OworCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25tZW50LmdldFJlc29sdmVkVHlwZShUeXBlQ29u
c3RhbnRzLkpBVkFfTEFOR19JTExFR0FMQVJHVU1FTlRFWENFUFRJT04sIHRoaXMpOworCX0KKwkK
IAlwdWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBnZXRKYXZhVXRpbEl0ZXJhdG9yKCkgewog
CQlDb21waWxhdGlvblVuaXRTY29wZSB1bml0U2NvcGUgPSBjb21waWxhdGlvblVuaXRTY29wZSgp
OwogCQl1bml0U2NvcGUucmVjb3JkUXVhbGlmaWVkUmVmZXJlbmNlKFR5cGVDb25zdGFudHMuSkFW
QV9VVElMX0lURVJBVE9SKTsKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJp
bmRpbmcuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJpbmRpbmcuamF2YQppbmRleCAy
MTU4ODRmLi5jMzNiYzczIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5k
aW5nLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2Uv
amR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCkBAIC0z
Niw2ICszNiw4IEBACiAgKgkJCQkJCQkJQnVnIDQxMjE1MyAtIFsxLjhdW2NvbXBpbGVyXSBDaGVj
ayB2YWxpZGl0eSBvZiBhbm5vdGF0aW9ucyB3aGljaCBtYXkgYmUgcmVwZWF0YWJsZQogICogICAg
IFRpbGwgQnJ5Y2hjeSAtIENvbnRyaWJ1dGlvbnMgZm9yCiAgKiAgICAgCQkJCQkJCWJ1ZyA0MTUy
NjkgLSBOb25OdWxsQnlEZWZhdWx0IGlzIG5vdCBhbHdheXMgaW5oZXJpdGVkIHRvIG5lc3RlZCBj
bGFzc2VzCisgKiAgICAgICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRA
Z29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAg
ICAgICAgCUJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1
cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7CiAKQEAg
LTYwMSw2ICs2MDMsMTcgQEAgcHVibGljIFN5bnRoZXRpY01ldGhvZEJpbmRpbmcgYWRkU3ludGhl
dGljTWV0aG9kKExhbWJkYUV4cHJlc3Npb24gbGFtYmRhKSB7CiAJfSBlbHNlIHsKIAkJbGFtYmRh
TWV0aG9kID0gbGFtYmRhTWV0aG9kc1swXTsKIAl9CisJCisJLy8gQ3JlYXRlIGEgJGRlc2VyaWFs
aXplTGFtYmRhJCBtZXRob2QgaWYgbmVjZXNzYXJ5LCBvbmUgaXMgc2hhcmVkIGFtb25nc3QgYWxs
IGxhbWJkYXMKKwlpZiAobGFtYmRhLmlzU2VyaWFsaXphYmxlKSB7CisJCVN5bnRoZXRpY01ldGhv
ZEJpbmRpbmdbXSBkZXNlcmlhbGl6ZUxhbWJkYU1ldGhvZHMgPSAoU3ludGhldGljTWV0aG9kQmlu
ZGluZ1tdKSB0aGlzLnN5bnRoZXRpY3NbU291cmNlVHlwZUJpbmRpbmcuTUVUSE9EX0VNVUxdLmdl
dChUeXBlQ29uc3RhbnRzLkRFU0VSSUFMSVpFX0xBTUJEQSk7CisJCWlmIChkZXNlcmlhbGl6ZUxh
bWJkYU1ldGhvZHMgPT0gbnVsbCkgeworCQkJU3ludGhldGljTWV0aG9kQmluZGluZyBkZXNlcmlh
bGl6ZUxhbWJkYU1ldGhvZCA9IG5ldyBTeW50aGV0aWNNZXRob2RCaW5kaW5nKHRoaXMpOworCQkJ
dGhpcy5zeW50aGV0aWNzW1NvdXJjZVR5cGVCaW5kaW5nLk1FVEhPRF9FTVVMXS5wdXQoVHlwZUNv
bnN0YW50cy5ERVNFUklBTElaRV9MQU1CREEsZGVzZXJpYWxpemVMYW1iZGFNZXRob2RzID0gbmV3
IFN5bnRoZXRpY01ldGhvZEJpbmRpbmdbMV0pOworCQkJZGVzZXJpYWxpemVMYW1iZGFNZXRob2Rz
WzBdID0gZGVzZXJpYWxpemVMYW1iZGFNZXRob2Q7CisJCX0KKwl9CisJCiAJcmV0dXJuIGxhbWJk
YU1ldGhvZDsKIH0KIApkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIv
b3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TeW50aGV0aWNNZXRob2RC
aW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9q
ZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1N5bnRoZXRpY01ldGhvZEJpbmRpbmcuamF2YQpp
bmRleCBiMjkzYWQ0Li5mZGYyNTU5IDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9j
b21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1N5bnRoZXRp
Y01ldGhvZEJpbmRpbmcuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9v
cmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1N5bnRoZXRpY01ldGhvZEJp
bmRpbmcuamF2YQpAQCAtMTMsNiArMTMsOCBAQAogICoJCUlCTSBDb3Jwb3JhdGlvbiAtIGluaXRp
YWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbgogICoJCVN0ZXBoYW4gSGVycm1hbm4gLSBDb250cmli
dXRpb24gZm9yCiAgKgkJCQkJCQkJYnVnIDQwMDcxMCAtIFsxLjhdW2NvbXBpbGVyXSBzeW50aGV0
aWMgYWNjZXNzIHRvIGRlZmF1bHQgbWV0aG9kIGdlbmVyYXRlcyB3cm9uZyBjb2RlCisgKiAgICAg
ICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAt
IENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgCUJ1ZyA0MDUx
MDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlh
bGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5l
Y2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7CiAKQEAgLTUyLDYgKzU0LDcgQEAg
cHVibGljIGNsYXNzIFN5bnRoZXRpY01ldGhvZEJpbmRpbmcgZXh0ZW5kcyBNZXRob2RCaW5kaW5n
IHsKIAlwdWJsaWMgZmluYWwgc3RhdGljIGludCBBcnJheUNvbnN0cnVjdG9yID0gMTQ7IC8vIFhb
XTo6bmV3CiAJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgQXJyYXlDbG9uZSA9IDE1OyAvLyBYW106
OmNsb25lCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRmFjdG9yeU1ldGhvZCA9IDE2OyAv
LyBmb3IgaW5keSBjYWxsIHRvIHByaXZhdGUgY29uc3RydWN0b3IuCisgICAgcHVibGljIHN0YXRp
YyBmaW5hbCBpbnQgRGVzZXJpYWxpemVMYW1iZGEgPSAxNzsgLy8gRm9yIHN1cHBvcnRpbmcgbGFt
YmRhIGRlc2VyaWFsaXphdGlvbi4KICAgICAKIAlwdWJsaWMgaW50IHNvdXJjZVN0YXJ0ID0gMDsg
Ly8gc3RhcnQgcG9zaXRpb24gb2YgdGhlIG1hdGNoaW5nIGRlY2xhcmF0aW9uCiAJcHVibGljIGlu
dCBpbmRleDsgLy8gdXNlZCBmb3Igc29ydGluZyBhY2Nlc3MgbWV0aG9kcyBpbiB0aGUgY2xhc3Mg
ZmlsZQpAQCAtMjg0LDYgKzI4NywyMyBAQCBwdWJsaWMgY2xhc3MgU3ludGhldGljTWV0aG9kQmlu
ZGluZyBleHRlbmRzIE1ldGhvZEJpbmRpbmcgewogCX0KIAkKIAkvKioKKwkgKiBDb25zdHJ1Y3Qg
JGRlc2VyaWFsaXplTGFtYmRhJCBtZXRob2QKKwkgKi8KKwlwdWJsaWMgU3ludGhldGljTWV0aG9k
QmluZGluZyhTb3VyY2VUeXBlQmluZGluZyBkZWNsYXJpbmdDbGFzcykgeworCQl0aGlzLmRlY2xh
cmluZ0NsYXNzID0gZGVjbGFyaW5nQ2xhc3M7CisJCXRoaXMuc2VsZWN0b3IgPSBUeXBlQ29uc3Rh
bnRzLkRFU0VSSUFMSVpFX0xBTUJEQTsKKwkJdGhpcy5tb2RpZmllcnMgPSBDbGFzc0ZpbGVDb25z
dGFudHMuQWNjUHJpdmF0ZSB8IENsYXNzRmlsZUNvbnN0YW50cy5BY2NTdGF0aWMgfCBDbGFzc0Zp
bGVDb25zdGFudHMuQWNjU3ludGhldGljOworCQl0aGlzLnRhZ0JpdHMgfD0gKFRhZ0JpdHMuQW5u
b3RhdGlvblJlc29sdmVkIHwgVGFnQml0cy5EZXByZWNhdGVkQW5ub3RhdGlvblJlc29sdmVkKTsK
KwkJdGhpcy50aHJvd25FeGNlcHRpb25zID0gQmluZGluZy5OT19FWENFUFRJT05TOworCQl0aGlz
LnJldHVyblR5cGUgPSBkZWNsYXJpbmdDbGFzcy5zY29wZS5nZXRKYXZhTGFuZ09iamVjdCgpOwor
CSAgICB0aGlzLnBhcmFtZXRlcnMgPSBuZXcgVHlwZUJpbmRpbmdbXXtkZWNsYXJpbmdDbGFzcy5z
Y29wZS5nZXRKYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGEoKX07CisJICAgIHRoaXMucHVy
cG9zZSA9IFN5bnRoZXRpY01ldGhvZEJpbmRpbmcuRGVzZXJpYWxpemVMYW1iZGE7CisJCVN5bnRo
ZXRpY01ldGhvZEJpbmRpbmdbXSBrbm93bkFjY2Vzc01ldGhvZHMgPSBkZWNsYXJpbmdDbGFzcy5z
eW50aGV0aWNNZXRob2RzKCk7CisJCWludCBtZXRob2RJZCA9IGtub3duQWNjZXNzTWV0aG9kcyA9
PSBudWxsID8gMCA6IGtub3duQWNjZXNzTWV0aG9kcy5sZW5ndGg7CisJCXRoaXMuaW5kZXggPSBt
ZXRob2RJZDsKKwl9CisJCisJLyoqCiAJICogQ29uc3RydWN0IGVudW0gc3BlY2lhbCBtZXRob2Rz
OiB2YWx1ZXMgb3IgdmFsdWVPZiBtZXRob2RzCiAJICovCiAJcHVibGljIFN5bnRoZXRpY01ldGhv
ZEJpbmRpbmcoU291cmNlVHlwZUJpbmRpbmcgZGVjbGFyaW5nRW51bSwgaW50IHN0YXJ0SW5kZXgs
IGludCBlbmRJbmRleCkgewpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBlQ29uc3RhbnRz
LmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVDb25zdGFudHMuamF2YQppbmRleCBmYWRhMjg2Li5k
ZTgyMTNiIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNs
aXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVDb25zdGFudHMuamF2YQorKysg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvbG9va3VwL1R5cGVDb25zdGFudHMuamF2YQpAQCAtMjEsNiArMjEsOCBAQAogICog
ICAgSmVzcGVyIFMgTW9sbGVyIC0gQ29udHJpYnV0aW9ucyBmb3IKICAqCQkJCQkJCQlCdWcgNDA1
MDY2IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBjb2RlIGdlbmVyYXRpb24g
aW5mcmFzdHJ1Y3R1cmUgZm9yIEpTUjMzNQogICoJCQkJCQkJCUJ1ZyA0MTIxNTMgLSBbMS44XVtj
b21waWxlcl0gQ2hlY2sgdmFsaWRpdHkgb2YgYW5ub3RhdGlvbnMgd2hpY2ggbWF5IGJlIHJlcGVh
dGFibGUKKyAqICAgICAgICBBbmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xlbWVudEBn
b3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IKKyAqICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQg
c3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cDsKIApA
QCAtOTIsNiArOTQsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIFR5cGVDb25zdGFudHMgewogICAgIGNo
YXJbXSBVUFBFUl9BTk5PVEFUSU9OX1RZUEUgPSAiQU5OT1RBVElPTl9UWVBFIi50b0NoYXJBcnJh
eSgpOyAvLyROT04tTkxTLTEkCiAgICAgY2hhcltdIFVQUEVSX1BBQ0tBR0UgPSAiUEFDS0FHRSIu
dG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogICAgIGNoYXJbXSBBTk9OWU1PVVNfTUVUSE9E
ID0gImxhbWJkYSQiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKyAgICBjaGFyW10gREVT
RVJJQUxJWkVfTEFNQkRBID0gIiRkZXNlcmlhbGl6ZUxhbWJkYSQiLnRvQ2hhckFycmF5KCk7IC8v
JE5PTi1OTFMtMSQKICAgICAKIAkvLyBqc3IzMDgKIAljaGFyW10gVFlQRV9VU0VfVEFSR0VUICA9
ICJUWVBFX1VTRSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJApAQCAtMTkzLDYgKzE5Niw3
IEBAIHB1YmxpYyBpbnRlcmZhY2UgVHlwZUNvbnN0YW50cyB7CiAJCQkiTWV0aG9kSGFuZGxlJFBv
bHltb3JwaGljU2lnbmF0dXJlIi50b0NoYXJBcnJheSgpIC8vJE5PTi1OTFMtMSQKIAl9OwogCWNo
YXJbXVtdIEpBVkFfTEFOR19JTlZPS0VfTEFNQkRBTUVUQUZBQ1RPUlkgPSB7SkFWQSwgTEFORywg
SU5WT0tFLCAiTGFtYmRhTWV0YWZhY3RvcnkiLnRvQ2hhckFycmF5KCl9OyAvLyROT04tTkxTLTEk
CisJY2hhcltdW10gSkFWQV9MQU5HX0lOVk9LRV9TRVJJQUxJWkVETEFNQkRBID0ge0pBVkEsIExB
TkcsIElOVk9LRSwgIlNlcmlhbGl6ZWRMYW1iZGEiLnRvQ2hhckFycmF5KCl9OyAvLyROT04tTkxT
LTEkCiAJY2hhcltdW10gSkFWQV9MQU5HX0lOVk9LRV9NRVRIT0RIQU5ETEVTID0ge0pBVkEsIExB
TkcsIElOVk9LRSwgIk1ldGhvZEhhbmRsZXMiLnRvQ2hhckFycmF5KCl9OyAvLyROT04tTkxTLTEk
CiAJY2hhcltdW10gSkFWQV9MQU5HX0FVVE9DTE9TRUFCTEUgPSAge0pBVkEsIExBTkcsICJBdXRv
Q2xvc2VhYmxlIi50b0NoYXJBcnJheSgpfTsgLy8kTk9OLU5MUy0xJAogCWNoYXJbXSBDTE9TRSA9
ICJjbG9zZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAotLSAKMS43LjExLjIKCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>238804</attachid>
            <date>2014-01-09 01:44:00 -0500</date>
            <delta_ts>2014-01-09 01:44:17 -0500</delta_ts>
            <desc>Modified Patch which can be integrated into latest code</desc>
            <filename>Bug405104.patch</filename>
            <type>text/plain</type>
            <size>110679</size>
            <attacher name="shankha banerjee">shankhba</attacher>
            
              <data encoding="base64">ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9vcmcv
ZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL1NlcmlhbGl6YWJsZUxh
bWJkYVRlc3QuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyL3NyYy9v
cmcvZWNsaXBzZS9qZHQvY29yZS90ZXN0cy9jb21waWxlci9yZWdyZXNzaW9uL1NlcmlhbGl6YWJs
ZUxhbWJkYVRlc3QuamF2YQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi41NzI1
N2M3Ci0tLSAvZGV2L251bGwKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVzdHMuY29tcGls
ZXIvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL2NvbXBpbGVyL3JlZ3Jlc3Npb24vU2Vy
aWFsaXphYmxlTGFtYmRhVGVzdC5qYXZhCkBAIC0wLDAgKzEsMTIxMyBAQAorLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKKyAqIENvcHlyaWdodCAoYykgMjAxNCBHb1Bpdm90YWwsIEluYy4gQWxsIFJp
Z2h0cyBSZXNlcnZlZC4KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQg
dGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAorICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKKyAqIGh0dHA6
Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sCisgKgorICogVGhpcyBpcyBhbiBp
bXBsZW1lbnRhdGlvbiBvZiBhbiBlYXJseS1kcmFmdCBzcGVjaWZpY2F0aW9uIGRldmVsb3BlZCB1
bmRlciB0aGUgSmF2YQorICogQ29tbXVuaXR5IFByb2Nlc3MgKEpDUCkgYW5kIGlzIG1hZGUgYXZh
aWxhYmxlIGZvciB0ZXN0aW5nIGFuZCBldmFsdWF0aW9uIHB1cnBvc2VzCisgKiBvbmx5LiBUaGUg
Y29kZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGFueSBzcGVjaWZpY2F0aW9uIG9mIHRoZSBKQ1Au
CisgKiAKKyAqIENvbnRyaWJ1dG9yczoKKyAqICAgICAgICBBbmR5IENsZW1lbnQgKEdvUGl2b3Rh
bCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IKKyAqICAg
ICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVn
ZW5dIEltcGxlbWVudCBzdXBwb3J0IGZvciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKKyAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLworcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5jb21w
aWxlci5yZWdyZXNzaW9uOworCitpbXBvcnQgamF2YS5pby5GaWxlOworaW1wb3J0IGphdmEubGFu
Zy5yZWZsZWN0Lk1vZGlmaWVyOworaW1wb3J0IGphdmEudXRpbC5NYXA7CisKK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZHQuY29yZS5Ub29sRmFjdG9yeTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29y
ZS51dGlsLkNsYXNzRmlsZUJ5dGVzRGlzYXNzZW1ibGVyOworaW1wb3J0IG9yZy5lY2xpcHNlLmpk
dC5jb3JlLnV0aWwuSUJvb3RzdHJhcE1ldGhvZHNFbnRyeTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuY29yZS51dGlsLklDbGFzc0ZpbGVBdHRyaWJ1dGU7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0
LmNvcmUudXRpbC5JQ2xhc3NGaWxlUmVhZGVyOworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3Jl
LnV0aWwuSUNvbnN0YW50UG9vbDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklD
b25zdGFudFBvb2xDb25zdGFudDsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklD
b25zdGFudFBvb2xFbnRyeTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS51dGlsLklDb25z
dGFudFBvb2xFbnRyeTI7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmNvcmUudXRpbC5JTWV0aG9k
SW5mbzsKK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIuaW1wbC5Db21w
aWxlck9wdGlvbnM7CitpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvcmUudXRpbC5C
b290c3RyYXBNZXRob2RzQXR0cmlidXRlOworCitpbXBvcnQganVuaXQuZnJhbWV3b3JrLlRlc3Q7
CisKK3B1YmxpYyBjbGFzcyBTZXJpYWxpemFibGVMYW1iZGFUZXN0IGV4dGVuZHMgQWJzdHJhY3RS
ZWdyZXNzaW9uVGVzdCB7CisKKwlzdGF0aWMgeworLy8JCVRFU1RTX05VTUJFUlMgPSBuZXcgaW50
IFtdIHsgNDAgfTsKKy8vCQlURVNUU19OQU1FUyA9IG5ldyBTdHJpbmdbXSB7ICJ0ZXN0VHlwZVZh
cmlhYmxlIiB9OworCX0KKwkKKwlwdWJsaWMgc3RhdGljIENsYXNzIHRlc3RDbGFzcygpIHsKKwkJ
cmV0dXJuIFNlcmlhbGl6YWJsZUxhbWJkYVRlc3QuY2xhc3M7CisJfQorCXB1YmxpYyBzdGF0aWMg
VGVzdCBzdWl0ZSgpIHsKKwkJcmV0dXJuIGJ1aWxkTWluaW1hbENvbXBsaWFuY2VUZXN0U3VpdGUo
dGVzdENsYXNzKCksIEZfMV84KTsKKwl9CisJcHVibGljIFNlcmlhbGl6YWJsZUxhbWJkYVRlc3Qo
U3RyaW5nIHRlc3ROYW1lKXsKKwkJc3VwZXIodGVzdE5hbWUpOworCX0KKworCS8vIEVuYWJsZXMg
dGhlIHRlc3RzIHRvIHJ1biBpbmRpdmlkdWFsbHkKKwlwcm90ZWN0ZWQgTWFwIGdldENvbXBpbGVy
T3B0aW9ucygpIHsKKwkJTWFwIGRlZmF1bHRPcHRpb25zID0gc3VwZXIuZ2V0Q29tcGlsZXJPcHRp
b25zKCk7CisJCWRlZmF1bHRPcHRpb25zLnB1dChDb21waWxlck9wdGlvbnMuT1BUSU9OX0NvbXBs
aWFuY2UsIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCWRlZmF1bHRPcHRpb25zLnB1
dChDb21waWxlck9wdGlvbnMuT1BUSU9OX1NvdXJjZSwgQ29tcGlsZXJPcHRpb25zLlZFUlNJT05f
MV84KTsKKwkJZGVmYXVsdE9wdGlvbnMucHV0KENvbXBpbGVyT3B0aW9ucy5PUFRJT05fVGFyZ2V0
UGxhdGZvcm0sIENvbXBpbGVyT3B0aW9ucy5WRVJTSU9OXzFfOCk7CisJCXJldHVybiBkZWZhdWx0
T3B0aW9uczsKKwl9CisJCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgUlVOTkVSX0NMQVNT
ID0gCisJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKworCQkiICBwdWJsaWMgc3RhdGljIHZvaWQgbWFp
bihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCSIgICAgY29tLmZvby5YLm1haW4oYXJncyk7XG4iKwor
CQkiICB9XG4iKworCQkifSI7CisJCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEhFTFBF
Ul9DTEFTUyA9CisJCSJwYWNrYWdlIHV0aWw7XG4iKworCQkiaW1wb3J0IGphdmEuaW8uKjtcbiIr
CisJCSJwdWJsaWMgY2xhc3MgSGVscGVyIHtcbiIrCisJCSJwdWJsaWMgc3RhdGljIHZvaWQgcHJp
bnQoT2JqZWN0IG8gKSB7U3lzdGVtLmVyci5wcmludGxuKG8pO31cbiIrCisJICAgICJzdGF0aWMg
Ynl0ZVtdW10gZGF0YTtcbiIrCisJICAgICJcbiIrCisJICAgICJwdWJsaWMgc3RhdGljIHZvaWQg
d3JpdGUoT2JqZWN0IG8pIHsgd3JpdGUoMCxvKTsgfVxuIisKKwkgICAgInB1YmxpYyBzdGF0aWMg
dm9pZCB3cml0ZShpbnQgaSwgT2JqZWN0IG8pIHtcbiIrCisJICAgICIgICAgaWYgKGRhdGE9PW51
bGwpIGRhdGE9bmV3IGJ5dGVbMTBdW107XG4iKworCSAgICAiICAgIHRyeSB7XG4iKworCSAgICAi
ICAgICAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gYmFvcyA9IG5ldyBCeXRlQXJyYXlPdXRwdXRT
dHJlYW0oKTtcbiIrCisJICAgICIgICAgICAgIE9iamVjdE91dHB1dFN0cmVhbSBvb3MgPSBuZXcg
T2JqZWN0T3V0cHV0U3RyZWFtKGJhb3MpO1xuIisKKwkgICAgIiAgICAgICAgb29zLndyaXRlT2Jq
ZWN0KG8pO1xuIisKKwkgICAgIiAgICAgICAgb29zLmZsdXNoKCk7XG4iKworCSAgICAiICAgICAg
ICBvb3MuY2xvc2UoKTtcbiIrCisJICAgICIgICAgICAgIGRhdGFbaV0gPSBiYW9zLnRvQnl0ZUFy
cmF5KCk7XG4iKworCSAgICAiICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7XG4iKworCSAgICAi
ICAgIH1cbiIrCisJICAgICJ9XG4iKworCSAgICAiXG4iKworCSAgICAicHVibGljIHN0YXRpYyBP
YmplY3QgcmVhZCgpIHsgcmV0dXJuIHJlYWQoMCk7IH1cbiIrCisJICAgICJwdWJsaWMgc3RhdGlj
IE9iamVjdCByZWFkKGludCBpKSB7XG4iKworCSAgICAiICAgIHRyeSB7XG4iKworCSAgICAiICAg
ICAgICBCeXRlQXJyYXlJbnB1dFN0cmVhbSBiYWlzID0gbmV3IEJ5dGVBcnJheUlucHV0U3RyZWFt
KGRhdGFbaV0pO1xuIisKKwkgICAgIiAgICAgICAgT2JqZWN0SW5wdXRTdHJlYW0gb2lzID0gbmV3
IE9iamVjdElucHV0U3RyZWFtKGJhaXMpO1xuIisKKwkgICAgIiAgICAgICAgT2JqZWN0IG8gPSBv
aXMucmVhZE9iamVjdCgpO1xuIisKKwkgICAgIiAgICAgICAgb2lzLmNsb3NlKCk7XG4iKworCSAg
ICAiICAgICAgICByZXR1cm4gbztcbiIrCisJICAgICIgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUp
IHtcbiIrCisJICAgICIgICAgfVxuIisKKwkgICAgIiAgICByZXR1cm4gbnVsbDtcbiIrCisJICAg
ICJ9XG4iKworCQkifVxuIjsJCisKKwkvKioKKwkgKiBWZXJpZmllcyB0aGF0IGFmdGVyIGRlc2Vy
aWFsaXppbmcgaXQgaXMgdXNhYmxlLCBhbHNvIHRoYXQgdGhlIGJvb3RzdHJhcCBtZXRob2RzIGF0
dHJpYnV0ZSBpbmRpY2F0ZXMgdXNlIG9mIGFsdE1ldGFmYWN0b3J5CisJICovCisJcHVibGljIHZv
aWQgdGVzdDAwMV9zaW1wbGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3Jt
VGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGph
dmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludGVy
ZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBpbnQgbSgpOyB9XG4iKworCQkJCQkiXG4i
KworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIr
CisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9ICgp
IC0+IDM7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJ
CQkiICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAg
ICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJ
CSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJ
IjMiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVt
bXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1
c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBh
Ym9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0
cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZh
Y3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9v
a3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZh
L2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0
aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0
aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAxXG4iOwor
CQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElS
ICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVk
T3V0cHV0LGRhdGEpOworCX0KKwkKKwkvKioKKwkgKiBTYW5pdHkgdGVzdCwgbm9uIHNlcmlhbGl6
YWJsZSBzaG91bGQgaGF2ZSBib290c3RyYXAgbWV0aG9kcyBhdHRyaWJ1dGUgcmVmZXJlbmNlIHRv
IG1ldGFmYWN0b3J5LgorCSAqLworCXB1YmxpYyB2b2lkIHRlc3QwMDJfc2ltcGxlTm9uU2VyaWFs
aXphYmxlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJ
bmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4i
KworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIHsg
aW50IG0oKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQg
bWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xu
IisKKwkJCQkJIiAgICAgICAgZjEgPSAoKSAtPiAzO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKGYxLm0oKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAor
CQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjMiKTsKKwkJ
U3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9p
bnZva2UvTGFtYmRhTWV0YWZhY3RvcnkubWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01l
dGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01l
dGhvZFR5cGU7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RIYW5kbGU7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTspTGphdmEvbGFuZy9pbnZv
a2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAg
KClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4iKworCQkJCSIg
ICAgKClJXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0
ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVj
dGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKworCS8qKgorCSAqIEJhc2ljIHRlc3QgdGhh
dCBkZXNlcmlhbGl6ZUxhbWJkYSBjYW4gY29wZSB3aXRoIHR3byBsYW1iZGEgZXhwcmVzc2lvbnMu
CisJICovCisJcHVibGljIHZvaWQgdGVzdDAwM190d29TZXJpYWxpemVkTGFtYmRhcygpIHRocm93
cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsK
KwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJInB1Ymxp
YyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6
YWJsZSB7IGludCBtKCk7IH1cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGljIHN0YXRp
YyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0g
bnVsbCwgZjIgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoKSAtPiAzMztcbiIrCisJ
CQkJCSIgICAgICAgIGYyID0gKCkgLT4gOTk7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBl
ci53cml0ZSgwLGYxKTtcbiIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKDEsZjIp
O1xuIisKKwkJCQkJIiAgICAgICAgZjIgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoMSk7XG4iKwor
CQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgwKTtcbiIrCisJCQkJCSIg
ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKCkpO1xuIisKKwkJCQkJIiAgICAgICAgU3lz
dGVtLm91dC5wcmludGxuKGYyLm0oKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4i
LAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjMzXG45
OSIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1t
eSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVz
ZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFi
b3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRw
dXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFj
dG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29r
dXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEv
bGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRo
b2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRp
YyBYLmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFcbiIrCisJ
CQkJIjE6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFs
dE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2
YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09i
amVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1
bWVudHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFt
YmRhJDE6KClJXG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5n
IGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUu
c2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxk
YXRhKTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAwNF9sYW1iZGFXaXRoUGFyYW1ldGVySW5Q
YWNrYWdlKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJ
bmV3IFN0cmluZ1tdeworCQkJCQkiWS5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBZIHtcbiIr
CisJCQkJCSIgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xuIisKKwkJ
CQkJIiAgICBjb20uZm9vLlgubWFpbihhcmdzKTtcbiIrCisJCQkJCSIgIH1cbiIrCisJCQkJCSJ9
IiwKKwkJCQkJIlguamF2YSIsCisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQkiaW1w
b3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAg
IGludGVyZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBpbnQgbShpbnQgaSk7IH1cbiIr
CisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10g
YXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbCwgZjIgPSBudWxsO1xuIisK
KwkJCQkJIiAgICAgICAgZjEgPSAoaSkgLT4gaSoyO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5I
ZWxwZXIud3JpdGUoZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVy
LnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKDQpKTtc
biIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVM
UEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiOCIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJ
CQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2Ug
Zm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVu
dCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0
aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2
YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFu
Zy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFu
Zy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tl
L0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgIChJ
KUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgY29tL2Zvby9YLmxhbWJkYSQwOihJKUlcbiIr
CisJCQkJIiAgICAoSSlJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmlu
dEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsg
ImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJ
Y2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJcHVibGljIHZvaWQg
dGVzdDAwNV9jYXB0dXJpbmdWYXJpYWJsZUxhbWJkYVdpdGhQYXJhbWV0ZXJJblBhY2thZ2UoKSB0
aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5n
W117CisJCQkJCSJZLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkge1xuIisKKwkJCQkJIiAg
cHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4iKworCQkJCQkiICAgIGNv
bS5mb28uWC5tYWluKGFyZ3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJCQkJIn0iLAorCQkJCQki
WC5qYXZhIiwKKwkJCQkJInBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5p
by4qO1xuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNl
IEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7IGludCBtKGludCBpKTsgfVxuIisKKwkJCQkJIlxu
IisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4i
KworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgaW50IG11
bHRpcGxpZXIgPSAzO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoaSkgLT4gaSAqIG11bHRpcGxp
ZXI7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhlbHBlci53cml0ZShmMSk7XG4iKworCQkJCQki
ICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIucmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKGYxLm0oNCkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQki
fVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSIx
MiIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1t
eSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVz
ZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFi
b3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRw
dXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFj
dG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29r
dXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEv
bGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRo
b2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgIChJKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0
aWMgY29tL2Zvby9YLmxhbWJkYSQwOihJSSlJXG4iKworCQkJCSIgICAgKEkpSVxuIisKKwkJCQki
ICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRl
KE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJjb20iK0ZpbGUuc2VwYXJhdG9yKyJmb28i
K0ZpbGUuc2VwYXJhdG9yKyJYLmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRw
dXQsZGF0YSk7CisJfQorCisJLy8gZGlmZmVyaW5nIHR5cGVzLCBub3QganVzdCBpbnQKKwlwdWJs
aWMgdm9pZCB0ZXN0MDA2X2NhcHR1cmluZ1ZhcmlhYmxlTGFtYmRhV2l0aFBhcmFtZXRlckluUGFj
a2FnZSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5l
dyBTdHJpbmdbXXsKKwkJCQkJIlkuamF2YSIsCisJCQkJCSJwdWJsaWMgY2xhc3MgWSB7XG4iKwor
CQkJCQkiICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXWFyZ3MpIHtcbiIrCisJCQkJ
CSIgICAgY29tLmZvby5YLm1haW4oYXJncyk7XG4iKworCQkJCQkiICB9XG4iKworCQkJCQkifSIs
CisJCQkJCSJYLmphdmEiLAorCQkJCQkicGFja2FnZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9y
dCBqYXZhLmlvLio7XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBp
bnRlcmZhY2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHsgaW50IG0oU3RyaW5nIG4pOyB9XG4i
KworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1td
IGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAg
ICAgICBpbnQgbXVsdGlwbGllciA9IDM7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChuKSAtPiBJ
bnRlZ2VyLnZhbHVlT2YobikgKiBtdWx0aXBsaWVyO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5I
ZWxwZXIud3JpdGUoZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVy
LnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKFwiMzNc
IikpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZh
IixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSI5OSIsCisJCQkJCW51bGwsCisJCQkJCXRy
dWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxl
c3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBh
cmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMg
ZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0
aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGph
dmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGph
dmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcv
aW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQki
ICAgIChMamF2YS9sYW5nL1N0cmluZzspSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBjb20v
Zm9vL1gubGFtYmRhJDA6KElMamF2YS9sYW5nL1N0cmluZzspSVxuIisKKwkJCQkiICAgIChMamF2
YS9sYW5nL1N0cmluZzspSVxuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJp
bnRCb290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciAr
ICJjb20iK0ZpbGUuc2VwYXJhdG9yKyJmb28iK0ZpbGUuc2VwYXJhdG9yKyJYLmNsYXNzIik7CisJ
CWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQorCS8vIEZhaWxzIHRo
ZSBzYW1lIHdheSBhcyBqYXZhYyByaWdodCBub3cuLi4gd2l0aCBOUEUgKGIxMjApCisJcHVibGlj
IHZvaWQgeHRlc3QwMDdfY2FwdHVyaW5nRmllbGRMYW1iZGFXaXRoUGFyYW1ldGVySW5QYWNrYWdl
KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0
cmluZ1tdeworCQkJCQkiWS5qYXZhIiwKKwkJCQkJInB1YmxpYyBjbGFzcyBZIHtcbiIrCisJCQkJ
CSIgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdYXJncykge1xuIisKKwkJCQkJIiAg
ICBjb20uZm9vLlgubWFpbihhcmdzKTtcbiIrCisJCQkJCSIgIH1cbiIrCisJCQkJCSJ9IiwKKwkJ
CQkJIlguamF2YSIsCisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQkiaW1wb3J0IGph
dmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludCBt
dWx0aXBsaWVyID0gMztcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlh
bGl6YWJsZSB7IGludCBtKGludCBpKTsgfVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgbmV3
IFgoKS5ydW4oKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIiAgICBwdWJsaWMgdm9pZCBy
dW4oKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAg
ICAgZjEgPSAoaSkgLT4gaSAqIHRoaXMubXVsdGlwbGllcjtcbiIrCisJCQkJCSIgICAgICAgIHV0
aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyl1dGlsLkhl
bHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oZjEubSg0
KSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEi
LEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjEyIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1
ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVz
cyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFy
Z3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBl
eGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRp
YyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2
YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2
YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9p
bnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIg
ICAgKEkpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KElJ
KUlcbiIrCisJCQkJIiAgICAoSSlJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEg
PSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJh
dG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3Mi
KTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJcHVibGlj
IHZvaWQgdGVzdDAwOF9jYXB0dXJpbmdUd29WYXJpYWJsZUxhbWJkYVdpdGhQYXJhbWV0ZXJJblBh
Y2thZ2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQlu
ZXcgU3RyaW5nW117CisJCQkJCSJZLmphdmEiLAorCQkJCQkicHVibGljIGNsYXNzIFkge1xuIisK
KwkJCQkJIiAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW11hcmdzKSB7XG4iKworCQkJ
CQkiICAgIGNvbS5mb28uWC5tYWluKGFyZ3MpO1xuIisKKwkJCQkJIiAgfVxuIisKKwkJCQkJIn0i
LAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJInBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBv
cnQgamF2YS5pby4qO1xuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAg
aW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7IGZsb2F0IG0oaW50IGksIGZsb2F0
IGYpOyB9XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWlu
KFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJCQkJCSIgICAgICBuZXcgWCgpLnJ1bigpO1xuIisKKwkJ
CQkJIiAgICB9XG4iKworCQkJCQkiICAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIg
ICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChpLGYpIC0+ICgo
ZmxvYXQpaSkgKiBmO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZjEpO1xu
IisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKDMsNC4wZikpO1xuIisKKwkJCQkJIiAg
ICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJ
CQkJCX0sCisJCQkJCSIxMi4wIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0
cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUg
Vk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2Vu
ZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0
cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52
b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7
XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKElGKUZcbiIrCisJ
CQkJIiAgICBpbnZva2VzdGF0aWMgY29tL2Zvby9YLmxhbWJkYSQwOihJRilGXG4iKworCQkJCSIg
ICAgKElGKUZcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0
cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitG
aWxlLnNlcGFyYXRvcisiZm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4
cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDA5
X2NhcHR1cmluZ1R3b1Nsb3RWYXJpYWJsZXNMYW1iZGFXaXRoUGFyYW1ldGVySW5QYWNrYWdlKCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdeworCQkJCQkiWS5qYXZhIixSVU5ORVJfQ0xBU1MsCisJCQkJCSJYLmphdmEiLAorCQkJCQki
cGFja2FnZSBjb20uZm9vO1xuIisKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKworCQkJCQki
cHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIGV4dGVuZHMgU2Vy
aWFsaXphYmxlIHsgZG91YmxlIG0oaW50IGksIGxvbmcgbCk7IH1cbiIrCisJCQkJCSJcbiIrCisJ
CQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJ
CQkJIiAgICAgIG5ldyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSIgICAg
cHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIr
CisJCQkJCSIgICAgICAgIGYxID0gKGksbCkgLT4gKGRvdWJsZSkoaSpsKTtcbiIrCisJCQkJCSIg
ICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZv
byl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50
bG4oZjEubSgzLDQwTCkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJ
IkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSIxMjAuMCIsCisJCQkJ
CW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8v
IE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFz
c2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3
YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJ
CSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRN
ZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEv
bGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmpl
Y3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1l
bnRzOlxuIisKKwkJCQkiICAgIChJSilEXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9m
b28vWC5sYW1iZGEkMDooSUopRFxuIisKKwkJCQkiICAgIChJSilEXG4iKworCQkJCSIgICAgMVxu
IjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVU
X0RJUiArIEZpbGUuc2VwYXJhdG9yICsgImNvbSIrRmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5z
ZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRh
KTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAxMF9WYXJhcmdzTGFtYmRhRXhwcmVzc2lvbigp
IHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJp
bmdbXXsKKwkJCQkJIlkuamF2YSIsUlVOTkVSX0NMQVNTLAorCQkJCQkiWC5qYXZhIiwKKwkJCQkJ
InBhY2thZ2UgY29tLmZvbztcbiIrCisJCQkJCSJpbXBvcnQgamF2YS5pby4qO1xuIisKKwkJCQkJ
InB1YmxpYyBjbGFzcyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNl
cmlhbGl6YWJsZSB7IFN0cmluZyBtKFN0cmluZy4uLiBzcyk7IH1cbiIrCisJCQkJCSJcbiIrCisJ
CQkJCSIgICAgcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJ
CQkJIiAgICAgIG5ldyBYKCkucnVuKCk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSIgICAg
cHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYxID0gbnVsbDtcbiIr
CisJCQkJCSIgICAgICAgIGYxID0gKHN0cmluZ3MpIC0+IHN0cmluZ3NbMF0rc3RyaW5nc1sxXTtc
biIrCisJCQkJCSIgICAgICAgIHV0aWwuSGVscGVyLndyaXRlKGYxKTtcbiIrCisJCQkJCSIgICAg
ICAgIGYxID0gKEZvbyl1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oZjEubShcImFiY1wiLFwiZGVmXCIpKTtcbiIrCisJCQkJCSIgICAgfVxu
IisKKwkJCQkJIn1cbiIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9
LAorCQkJCQkiYWJjZGVmIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmlu
ZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0g
dG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJh
dGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmlu
ZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tl
L0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRo
b2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRo
b2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4i
KworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKFtMamF2YS9sYW5nL1N0
cmluZzspTGphdmEvbGFuZy9TdHJpbmc7XG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIGNvbS9m
b28vWC5sYW1iZGEkMDooW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIr
CisJCQkJIiAgICAoW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZztcbiIrCisJ
CQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJp
YnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiY29tIitGaWxlLnNlcGFyYXRvcisi
Zm9vIitGaWxlLnNlcGFyYXRvcisiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVk
T3V0cHV0LGRhdGEpOworCX0KKwkKKwkvLyBGYWlscyBzYW1lIHdheSBhcyBqYXZhYyByaWdodCBu
b3cuLi4gd2l0aCBhbiBOUEUgKGIxMjApCisJcHVibGljIHZvaWQgeHRlc3QwMTFfQ2FwdHVyaW5n
SW5zdGFuY2UoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJ
CQluZXcgU3RyaW5nW117CisJCQkJCSJZLmphdmEiLFJVTk5FUl9DTEFTUywKKwkJCQkJIlguamF2
YSIsCisJCQkJCSJwYWNrYWdlIGNvbS5mb287XG4iKworCQkJCQkiaW1wb3J0IGphdmEuaW8uKjtc
biIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludGVyZmFjZSBGb28g
ZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBTdHJpbmcgbSgpOyB9XG4iKworCQkJCQkiXG4iKworCQkJ
CQkiICAgIFN0cmluZyBmaWVsZFZhbHVlID0gXCJoZWxsb1wiO1xuIisKKwkJCQkJIiAgICBwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgbmV3
IFgoKS5ydW4oKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIiAgICBwdWJsaWMgdm9pZCBy
dW4oKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAg
ICAgZjEgPSAoKSAtPiB0aGlzLmZpZWxkVmFsdWU7XG4iKworCQkJCQkiICAgICAgICB1dGlsLkhl
bHBlci53cml0ZShmMSk7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28pdXRpbC5IZWxwZXIu
cmVhZCgpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYxLm0oKSk7XG4i
KworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBF
Ul9DTEFTUywKKwkJCQkJfSwKKwkJCQkJImFiY2RlZiIsCisJCQkJCW51bGwsCisJCQkJCXRydWUs
CisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mg
d2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1
bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhl
Y3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMg
amF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEv
bGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEv
bGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52
b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAg
IChbTGphdmEvbGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1xuIisKKwkJCQkiICAgIGlu
dm9rZXN0YXRpYyBjb20vZm9vL1gubGFtYmRhJDA6KFtMamF2YS9sYW5nL1N0cmluZzspTGphdmEv
bGFuZy9TdHJpbmc7XG4iKworCQkJCSIgICAgKFtMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFu
Zy9TdHJpbmc7XG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3Rz
dHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgImNvbSIr
RmlsZS5zZXBhcmF0b3IrImZvbyIrRmlsZS5zZXBhcmF0b3IrIlguY2xhc3MiKTsKKwkJY2hlY2tF
eHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisKKwlwdWJsaWMgdm9pZCB0ZXN0MDEy
X2ludGVyc2VjdGlvbkNhc3QoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3Jt
VGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGph
dmEuaW8uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiICAgIGludGVy
ZmFjZSBGb28gZXh0ZW5kcyBTZXJpYWxpemFibGUgeyBpbnQgbSgpOyB9XG4iKworCQkJCQkiICAg
IGludGVyZmFjZSBNYXJrZXIge31cbiIrCisJCQkJCSJcbiIrCisJCQkJCSIgICAgcHVibGljIHN0
YXRpYyB2b2lkIG1haW4oU3RyaW5nW10gYXJncykge1xuIisKKwkJCQkJIiAgICAgICAgRm9vIGYx
ID0gbnVsbDtcbiIrCisJCQkJCSIgICAgICAgIGYxID0gKEZvbyAmIE1hcmtlcikgKCkgLT4gMztc
biIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzTWFya2VyP1wiKyhmMSBp
bnN0YW5jZW9mIE1hcmtlcikpO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUo
ZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIr
CisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKCkpO1xuIisKKwkJCQkJIiAg
ICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNNYXJrZXI/XCIrKGYxIGluc3RhbmNlb2YgTWFy
a2VyKSk7XG4iKworCQkJCQkiICAgIH1cbiIrCisJCQkJCSJ9XG4iLAorCQkJCQkiSGVscGVyLmph
dmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJImlzTWFya2VyP3RydWVcbjNcbmlzTWFy
a2VyP3RydWUiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsg
Ii1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3Qg
YmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJv
Z3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVj
dGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRh
TWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRs
ZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7
W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJ
IiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZv
a2VzdGF0aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAz
XG4iKyAvLyBCaXRGbGFnczogMHgwMSA9IEZMQUdfU0VSSUFMSVpBQkxFIDB4MDIgPSBGTEFHX01B
UktFUgorCQkJCSIgICAgMVxuIisgLy8gTWFya2VyIGludGVyZmFjZSBjb3VudAorCQkJCSIgICAg
WCRNYXJrZXJcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhw
ZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCisJcHVibGljIHZvaWQgdGVzdDAxM19p
bnRlcnNlY3Rpb25DYXN0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRl
c3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZh
LmlvLio7XG4iKworCQkJCQkiaW50ZXJmYWNlIEdvbyB7fVxuIisKKwkJCQkJInB1YmxpYyBjbGFz
cyBYIHtcbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7
IGludCBtKCk7IH1cbiIrCisJCQkJCSIgICAgaW50ZXJmYWNlIE1hcmtlciB7fVxuIisKKwkJCQkJ
IlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7
XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxsO1xuIisKKwkJCQkJIiAgICAgICAgZjEg
PSAoRm9vICYgR29vICYgU2VyaWFsaXphYmxlICYgTWFya2VyKSAoKSAtPiAzO1xuIisKKwkJCQkJ
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNNYXJrZXI/XCIrKGYxIGluc3RhbmNlb2Yg
TWFya2VyKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc0dvbz9c
IisoZjEgaW5zdGFuY2VvZiBHb28pKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJp
bnRsbihcImlzU2VyaWFsaXphYmxlP1wiKyhmMSBpbnN0YW5jZW9mIFNlcmlhbGl6YWJsZSkpO1xu
IisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZjEpO1xuIisKKwkJCQkJIiAgICAg
ICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3Rl
bS5vdXQucHJpbnRsbihmMS5tKCkpO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmlu
dGxuKFwiaXNNYXJrZXI/XCIrKGYxIGluc3RhbmNlb2YgTWFya2VyKSk7XG4iKworCQkJCQkiICAg
ICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc0dvbz9cIisoZjEgaW5zdGFuY2VvZiBHb28pKTtc
biIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzU2VyaWFsaXphYmxlP1wi
KyhmMSBpbnN0YW5jZW9mIFNlcmlhbGl6YWJsZSkpO1xuIisKKwkJCQkJIiAgICB9XG4iKworCQkJ
CQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQRVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJ
CSJpc01hcmtlcj90cnVlXG5pc0dvbz90cnVlXG5pc1NlcmlhbGl6YWJsZT90cnVlXG4zXG5pc01h
cmtlcj90cnVlXG5pc0dvbz90cnVlXG5pc1NlcmlhbGl6YWJsZT90cnVlIiwKKwkJCQkJbnVsbCwK
KwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1
cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1
bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJv
dWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGlu
dm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0
b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0
cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGph
dmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4i
KworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClJ
XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgM1xuIisgLy8gQml0RmxhZ3M6IDB4MDEg
PSBGTEFHX1NFUklBTElaQUJMRSAweDAyID0gRkxBR19NQVJLRVIKKwkJCQkiICAgIDJcbiIrIC8v
IE1hcmtlciBpbnRlcmZhY2UgY291bnQKKwkJCQkiICAgIEdvb1xuIisKKwkJCQkiICAgIFgkTWFy
a2VyXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShP
VVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVk
KGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlwdWJsaWMgdm9pZCB0ZXN0MDE0X2ludGVy
c2VjdGlvbkNhc3RBbmROb3RTZXJpYWxpemFibGUoKSB0aHJvd3MgRXhjZXB0aW9uIHsKKwkJdGhp
cy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117CisJCQkJCSJYLmphdmEiLAorCQkJ
CQkiaW1wb3J0IGphdmEuaW8uKjtcbiIrCisJCQkJCSJpbnRlcmZhY2UgR29vIHt9XG4iKworCQkJ
CQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgRm9vIHsgaW50IG0o
KTsgfVxuIisKKwkJCQkJIiAgICBpbnRlcmZhY2UgTWFya2VyIHt9XG4iKworCQkJCQkiXG4iKwor
CQkJCQkiICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZ1tdIGFyZ3MpIHtcbiIrCisJ
CQkJCSIgICAgICAgIEZvbyBmMSA9IG51bGw7XG4iKworCQkJCQkiICAgICAgICBmMSA9IChGb28g
JiBHb28gJiBNYXJrZXIpICgpIC0+IDM7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnBy
aW50bG4oXCJpc01hcmtlcj9cIisoZjEgaW5zdGFuY2VvZiBNYXJrZXIpKTtcbiIrCisJCQkJCSIg
ICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzR29vP1wiKyhmMSBpbnN0YW5jZW9mIEdvbykp
O1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNTZXJpYWxpemFibGU/
XCIrKGYxIGluc3RhbmNlb2YgU2VyaWFsaXphYmxlKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oZjEubSgpKTtcbiIrCisJCQkJCSIgICAgfVxuIisKKwkJCQkJIn1cbiIs
CisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJCQkiaXNNYXJr
ZXI/dHJ1ZVxuaXNHb28/dHJ1ZVxuaXNTZXJpYWxpemFibGU/ZmFsc2VcbjMiLAorCQkJCQludWxs
LAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qg
c3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3Npbmcg
ZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRo
cm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDog
aW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZh
Y3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcv
U3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylM
amF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpc
biIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMDoo
KUlcbiIrCisJCQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAyXG4iKyAvLyBCaXRGbGFnczogMHgw
MiA9IEZMQUdfTUFSS0VSCisJCQkJIiAgICAyXG4iKyAvLyBNYXJrZXIgaW50ZXJmYWNlIGNvdW50
CisJCQkJIiAgICBHb29cbiIrCisJCQkJIiAgICBYJE1hcmtlclxuIjsKKwkJU3RyaW5nIGRhdGEg
PSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJh
dG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsK
Kwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAxNV9zZXJpYWxpemFibGVWaWFJbnRlcnNlY3Rpb25D
YXN0KCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3
IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLio7XG4iKwor
CQkJCQkiaW50ZXJmYWNlIEdvbyB7fVxuIisKKwkJCQkJInB1YmxpYyBjbGFzcyBYIHtcbiIrCisJ
CQkJCSIgICAgaW50ZXJmYWNlIEZvbyB7IGludCBtKCk7IH1cbiIrCisJCQkJCSIgICAgaW50ZXJm
YWNlIE1hcmtlciB7fVxuIisKKwkJCQkJIlxuIisKKwkJCQkJIiAgICBwdWJsaWMgc3RhdGljIHZv
aWQgbWFpbihTdHJpbmdbXSBhcmdzKSB7XG4iKworCQkJCQkiICAgICAgICBGb28gZjEgPSBudWxs
O1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vICYgR29vICYgU2VyaWFsaXphYmxlICYgTWFy
a2VyKSAoKSAtPiAzO1xuIisKKwkJCQkJIiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNN
YXJrZXI/XCIrKGYxIGluc3RhbmNlb2YgTWFya2VyKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0
ZW0ub3V0LnByaW50bG4oXCJpc0dvbz9cIisoZjEgaW5zdGFuY2VvZiBHb28pKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihcImlzU2VyaWFsaXphYmxlP1wiKyhmMSBpbnN0
YW5jZW9mIFNlcmlhbGl6YWJsZSkpO1xuIisKKwkJCQkJIiAgICAgICAgdXRpbC5IZWxwZXIud3Jp
dGUoZjEpO1xuIisKKwkJCQkJIiAgICAgICAgZjEgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtc
biIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihmMS5tKCkpO1xuIisKKwkJCQkJ
IiAgICAgICAgU3lzdGVtLm91dC5wcmludGxuKFwiaXNNYXJrZXI/XCIrKGYxIGluc3RhbmNlb2Yg
TWFya2VyKSk7XG4iKworCQkJCQkiICAgICAgICBTeXN0ZW0ub3V0LnByaW50bG4oXCJpc0dvbz9c
IisoZjEgaW5zdGFuY2VvZiBHb28pKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJp
bnRsbihcImlzU2VyaWFsaXphYmxlP1wiKyhmMSBpbnN0YW5jZW9mIFNlcmlhbGl6YWJsZSkpO1xu
IisKKwkJCQkJIiAgICB9XG4iKworCQkJCQkifVxuIiwKKwkJCQkJIkhlbHBlci5qYXZhIixIRUxQ
RVJfQ0xBU1MsCisJCQkJCX0sCisJCQkJCSJpc01hcmtlcj90cnVlXG5pc0dvbz90cnVlXG5pc1Nl
cmlhbGl6YWJsZT90cnVlXG4zXG5pc01hcmtlcj90cnVlXG5pc0dvbz90cnVlXG5pc1NlcmlhbGl6
YWJsZT90cnVlIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7
ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90
IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHBy
b2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBl
Y3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJk
YU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5k
bGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBl
O1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJ
CSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52
b2tlc3RhdGljIFgubGFtYmRhJDA6KClJXG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAg
M1xuIisgLy8gQml0RmxhZ3M6IDB4MDEgPSBGTEFHX1NFUklBTElaQUJMRSAweDAyID0gRkxBR19N
QVJLRVIKKwkJCQkiICAgIDJcbiIrIC8vIE1hcmtlciBpbnRlcmZhY2UgY291bnQKKwkJCQkiICAg
IEdvb1xuIisKKwkJCQkiICAgIFgkTWFya2VyXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9v
dHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5j
bGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwkv
LyBTQU0gdHlwZSBub3QgZmlyc3QgaW4gaW50ZXJzZWN0aW9uIGNhc3QKKwlwdWJsaWMgdm9pZCB0
ZXN0MDE2X2J1ZzQyNDIxMSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1U
ZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2
YS5pby5TZXJpYWxpemFibGU7XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJ
IglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJvd3MgRXhjZXB0aW9u
IHtcbiIrCisJCQkJCSIJCUF1dG9DbG9zZWFibGUgb25lID0gKChTZXJpYWxpemFibGUgJiBBdXRv
Q2xvc2VhYmxlKSAoKCkgLT4ge30pKTtcbiIrCisJCQkJCSIJCW9uZS5jbG9zZSgpO1xuIisKKwkJ
CQkJIgl9XG4iKworCQkJCQkifSIKKwkJCQkJfSwKKwkJCQkJIiIsCisJCQkJCW51bGwsCisJCQkJ
CXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1
bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2
bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBp
dHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2Vz
dGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeToo
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xh
bmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJ
CQkiICAgICgpVlxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpVlxuIisK
KwkJCQkiICAgICgpVlxuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRC
b290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJY
LmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQor
CS8vIE5vdyBTQU0gdHlwZSBmaXJzdAorCXB1YmxpYyB2b2lkIHRlc3QwMTdfYnVnNDI0MjExKCkg
dGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmlu
Z1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtc
biIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9p
ZCBtYWluKFN0cmluZyBhcmd2W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIgkJQXV0
b0Nsb3NlYWJsZSBvbmUgPSAoKEF1dG9DbG9zZWFibGUgJiBTZXJpYWxpemFibGUpICgoKSAtPiB7
fSkpO1xuIisKKwkJCQkJIgkJb25lLmNsb3NlKCk7XG4iKworCQkJCQkiCX1cbiIrCisJCQkJCSJ9
IgorCQkJCQl9LAorCQkJCQkiIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0
cmluZyBbXSB7ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUg
Vk0gdG8gbm90IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2Vu
ZXJhdGVkIHByb2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0
cmluZyBleHBlY3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52
b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9N
ZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7
XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKClWXG4iKworCQkJ
CSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KClWXG4iKworCQkJCSIgICAgKClWXG4iKwor
CQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRy
aWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tF
eHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJLy8gTm90IFNlcmlhbGl6YWJs
ZSBidXQgYSByZWd1bGFyIG1hcmtlciBpbnRlcmZhY2UKKwlwdWJsaWMgdm9pZCB0ZXN0MDE4X2J1
ZzQyNDIxMSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJ
CW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby5TZXJp
YWxpemFibGU7XG4iKworCQkJCQkiaW50ZXJmYWNlIE1hcmtlciB7fVxuIisKKwkJCQkJInB1Ymxp
YyBjbGFzcyBYIHtcbiIrCisJCQkJCSIJcHVibGljIHN0YXRpYyB2b2lkIG1haW4oU3RyaW5nIGFy
Z3ZbXSkgdGhyb3dzIEV4Y2VwdGlvbiB7XG4iKworCQkJCQkiCQlBdXRvQ2xvc2VhYmxlIG9uZSA9
ICgoTWFya2VyICYgQXV0b0Nsb3NlYWJsZSkgKCgpIC0+IHt9KSk7XG4iKworCQkJCQkiCQlvbmUu
Y2xvc2UoKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iCisJCQkJCX0sCisJCQkJCSIiLAor
CQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0p
OyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5
IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMg
bWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0K
KwkJCQkiMDogaW52b2tlc3RhdGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3Rvcnku
YWx0TWV0YWZhY3Rvcnk6KExqYXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xq
YXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcv
T2JqZWN0OylMamF2YS9sYW5nL2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFy
Z3VtZW50czpcbiIrCisJCQkJIiAgICAoKVZcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5s
YW1iZGEkMDooKVZcbiIrCisJCQkJIiAgICAoKVZcbiIrCisJCQkJIiAgICAyXG4iKworCQkJCSIg
ICAgMVxuIisKKwkJCQkiICAgIE1hcmtlclxuIjsKKwkJU3RyaW5nIGRhdGEgPSBwcmludEJvb3Rz
dHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9yICsgIlguY2xh
c3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9CisJCisJLy8g
Tm93IFNBTSB0eXBlIG5vdCBmaXJzdCBhbmQgc2VyaWFsaXphdGlvbiBvY2N1cnJpbmcKKwlwdWJs
aWMgdm9pZCB0ZXN0MDE5X2J1ZzQyNDIxMSgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1
bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJp
bXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7XG4iKworCQkJCQkiaW50ZXJmYWNlIFNBTSB7aW50
IG0oKTt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIglwdWJsaWMgc3Rh
dGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiIrCisJCQkJ
CSIJCVNBTSBvbmUgPSAoKFNlcmlhbGl6YWJsZSAmIFNBTSkgKCgpIC0+IDMpKTtcbiIrCisJCQkJ
CSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihvbmUubSgpKTtcbiIrCisJCQkJCSIgICAgICAg
IHV0aWwuSGVscGVyLndyaXRlKG9uZSk7XG4iKworCQkJCQkiICAgICAgICBvbmUgPSAoU0FNKXV0
aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgIFN5c3RlbS5vdXQucHJpbnRsbihv
bmUubSgpKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iLAorCQkJCQkiSGVscGVyLmphdmEi
LEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjNcbjMiLAorCQkJCQludWxsLAorCQkJCQl0
cnVlLAorCQkJCQluZXcgU3RyaW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5s
ZXNzIHdlIGZvcmNlIHRoZSBWTSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0g
YXJndW1lbnQsIHRoZSBnZW5lcmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRz
IGV4ZWN1dGlvbi4KKwkJU3RyaW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCQkiMDogaW52b2tlc3Rh
dGljIGphdmEvbGFuZy9pbnZva2UvTGFtYmRhTWV0YWZhY3RvcnkuYWx0TWV0YWZhY3Rvcnk6KExq
YXZhL2xhbmcvaW52b2tlL01ldGhvZEhhbmRsZXMkTG9va3VwO0xqYXZhL2xhbmcvU3RyaW5nO0xq
YXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7W0xqYXZhL2xhbmcvT2JqZWN0OylMamF2YS9sYW5n
L2ludm9rZS9DYWxsU2l0ZTtcbiIrCisJCQkJIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIrCisJCQkJ
IiAgICAoKUlcbiIrCisJCQkJIiAgICBpbnZva2VzdGF0aWMgWC5sYW1iZGEkMDooKUlcbiIrCisJ
CQkJIiAgICAoKUlcbiIrCisJCQkJIiAgICAxXG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9v
dHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5j
bGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwkKKwlw
dWJsaWMgdm9pZCB0ZXN0MDIwX2xhbWJkYU5hbWVzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRo
aXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJ
CQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9v
IHtpbnQgbSgpO31cbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9vTiBleHRlbmRzIFNlcmlhbGl6YWJs
ZSB7aW50IG0oKTt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIglwdWJs
aWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJvd3MgRXhjZXB0aW9uIHtcbiIr
CisJCQkJCSIJCUF1dG9DbG9zZWFibGUgb25lID0gKCkgLT4ge307XG4iKworCQkJCQkiICAgICAg
IG5ldyBYKCkubSgpO1xuIisKKwkJCQkJIiAgICAgICBvbmUuY2xvc2UoKTtcbiIrCisJCQkJCSIJ
fVxuIisKKwkJCQkJIiAgIHB1YmxpYyB2b2lkIG0oKSB7IEZvbyBmID0gKCkgLT4gMzsgU3lzdGVt
Lm91dC5wcmludGxuKGYubSgpKTt9XG4iKworCQkJCQkiICAgcHVibGljIHZvaWQgbigpIHsgRm9v
TiBmID0gKCkgLT4gMzsgU3lzdGVtLm91dC5wcmludGxuKGYubSgpKTt9XG4iKworCQkJCQkifSIK
KwkJCQkJfSwKKwkJCQkJIjMiLAorCQkJCQludWxsLAorCQkJCQl0cnVlLAorCQkJCQluZXcgU3Ry
aW5nIFtdIHsgIi1EZHVtbXkiIH0pOyAvLyBOb3Qgc3VyZSwgdW5sZXNzIHdlIGZvcmNlIHRoZSBW
TSB0byBub3QgYmUgcmV1c2VkIGJ5IHBhc3NpbmcgZHVtbXkgdm0gYXJndW1lbnQsIHRoZSBnZW5l
cmF0ZWQgcHJvZ3JhbSBhYm9ydHMgbWlkd2F5IHRocm91Z2ggaXRzIGV4ZWN1dGlvbi4KKwkJU3Ry
aW5nIGV4cGVjdGVkT3V0cHV0ID0KKwkJCSIgIHByaXZhdGUgc3RhdGljIHN5bnRoZXRpYyB2b2lk
IGxhbWJkYSQwKCkgdGhyb3dzIGphdmEubGFuZy5FeGNlcHRpb247XG4iOworCQljaGVja0Rpc2Fz
c2VtYmxlZENsYXNzRmlsZShPVVRQVVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIs
ICJYIiwgZXhwZWN0ZWRPdXRwdXQsIENsYXNzRmlsZUJ5dGVzRGlzYXNzZW1ibGVyLlNZU1RFTSk7
CisJCWV4cGVjdGVkT3V0cHV0ID0KKwkJCSIgIHByaXZhdGUgc3RhdGljIHN5bnRoZXRpYyBpbnQg
bGFtYmRhJDEoKTtcbiI7CisJCWNoZWNrRGlzYXNzZW1ibGVkQ2xhc3NGaWxlKE9VVFBVVF9ESVIg
KyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIiwgIlgiLCBleHBlY3RlZE91dHB1dCwgQ2xhc3NG
aWxlQnl0ZXNEaXNhc3NlbWJsZXIuU1lTVEVNKTsKKwl9CisJCisJcHVibGljIHZvaWQgdGVzdDAy
MV9sYW1iZGFOYW1lc1ZhcmlhbnRzKCkgdGhyb3dzIEV4Y2VwdGlvbiB7CisJCXRoaXMucnVuQ29u
Zm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZhIiwKKwkJCQkJImltcG9y
dCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9vIHtpbnQgbSgp
O31cbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9vU2VyIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQg
bSgpO31cbiIrCisJCQkJCSJpbnRlcmZhY2UgRm9vSSB7aW50IG0oaW50IGkpO31cbiIrCisJCQkJ
CSJpbnRlcmZhY2UgRm9vU2VySSBleHRlbmRzIFNlcmlhbGl6YWJsZSB7aW50IG0oaW50IGkpO31c
biIrCisJCQkJCSJwdWJsaWMgY2xhc3MgWCB7XG4iKworCQkJCQkiXG4iKworCQkJCQkiICAgRm9v
IGluc3RhbmNlRmllbGQgPSAoKSAtPiAxO1xuIisKKwkJCQkJIiAgIEZvb1NlciBpbnN0YW5jZUZp
ZWxkU2VyID0gKCkgLT4gMjtcbiIrCisJCQkJCSIgICBzdGF0aWMgRm9vIHN0YXRpY0ZpZWxkID0g
KCkgLT4gMztcbiIrCisJCQkJCSIgICBzdGF0aWMgRm9vU2VyIHN0YXRpY0ZpZWxkU2VyID0gKCkg
LT4gNDtcbiIrCisJCQkJCSIgICBGb29JIGluc3RhbmNlRmllbGRJID0gKGkpIC0+IDU7XG4iKwor
CQkJCQkiICAgRm9vU2VySSBpbnN0YW5jZUZpZWxkU2VySSA9IChpKSAtPiA2O1xuIisKKwkJCQkJ
IlxuIisKKwkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJv
d3MgRXhjZXB0aW9uIHtcbiIrCisJCQkJCSIgICAgIGludCB4ID0gNDtcbiIrCisJCQkJCSIgICAg
IEZvbyBhID0gKCkgLT4gMTtcbiIrCisJCQkJCSIgICAgIEZvb1NlciBiID0gKCkgLT4gMjtcbiIr
CisJCQkJCSIgICAgIEZvb0kgYyA9IChpKSAtPiAzO1xuIisKKwkJCQkJIiAgICAgRm9vU2VySSBk
ID0gKGkpIC0+IDQ7XG4iKworCQkJCQkiICAgICBGb28gZSA9ICgpIC0+IHg7XG4iKworCQkJCQki
ICAgICBGb29TZXIgZiA9ICgpIC0+IHgrMTtcbiIrCisJCQkJCSIgICAgIEZvb0kgZyA9IChpKSAt
PiB4KzI7XG4iKworCQkJCQkiICAgICBGb29TZXJJIGggPSAoaSkgLT4geCszO1xuIisKKwkJCQkJ
Igl9XG4iKworCQkJCQkifSIKKwkJCQkJfSwKKwkJCQkJIiIsCisJCQkJCW51bGwsCisJCQkJCXRy
dWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxl
c3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBh
cmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMg
ZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSJzdGF0aWMgbGFtYmRh
JDAoKUlcbiIrCisJCQkJInN0YXRpYyBsYW1iZGEkMSgpSVxuIisKKwkJCQkic3RhdGljIGxhbWJk
YSQyKClJXG4iKworCQkJCSJzdGF0aWMgbGFtYmRhJDMoKUlcbiIrCisJCQkJInN0YXRpYyBsYW1i
ZGEkNChJKUlcbiIrCisJCQkJInN0YXRpYyBsYW1iZGEkNShJKUlcbiIrCisJCQkJInN0YXRpYyBs
YW1iZGEkNigpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQ3KClJXG4iKworCQkJCSJzdGF0aWMg
bGFtYmRhJDgoSSlJXG4iKworCQkJCSJzdGF0aWMgbGFtYmRhJDkoSSlJXG4iKworCQkJCSJzdGF0
aWMgbGFtYmRhJDEwKEkpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQxMShJKUlcbiIrCisJCQkJ
InN0YXRpYyBsYW1iZGEkMTIoSUkpSVxuIisKKwkJCQkic3RhdGljIGxhbWJkYSQxMyhJSSlJXG4i
OworCQlTdHJpbmcgYWN0dWFsT3V0cHV0ID0gcHJpbnRMYW1iZGFNZXRob2RzKE9VVFBVVF9ESVIg
KyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWlmICghYWN0dWFsT3V0cHV0LmVxdWFs
cyhleHBlY3RlZE91dHB1dCkpIHsKKwkJCXByaW50SXQoYWN0dWFsT3V0cHV0KTsKKwkJCWFzc2Vy
dEVxdWFscyhleHBlY3RlZE91dHB1dCxhY3R1YWxPdXRwdXQpOworCQl9CisJfQorCQorCXB1Ymxp
YyB2b2lkIHRlc3QwMjJfbmVzdGVkTGFtYmRhcygpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlz
LnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJ
CSJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7XG4iKworCQkJCQkiaW50ZXJmYWNlIEZvbyBl
eHRlbmRzIFNlcmlhbGl6YWJsZSB7aW50IG0oKTt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgg
e1xuIisKKwkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJv
d3MgRXhjZXB0aW9uIHtcbiIrCisJCQkJCSIJCUZvbyBmID0gKCkgLT4geyByZXR1cm4gKChGb28p
KCktPjMzKS5tKCk7fTtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYubSgp
KTtcbiIrCisJCQkJCSIgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZik7XG4iKworCQkJCQkiICAg
ICAgIGYgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVt
Lm91dC5wcmludGxuKGYubSgpKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iLAorCQkJCQki
SGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjMzXG4zMyIsCisJCQkJ
CW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8v
IE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFz
c2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3
YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJ
CSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRN
ZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEv
bGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmpl
Y3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1l
bnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJk
YSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFcbiIrCisJCQkJIjE6IGlu
dm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0
b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0
cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVjdDspTGph
dmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVudHM6XG4i
KworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDE6KClJ
XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRhdGEgPSBw
cmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2VwYXJhdG9y
ICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRhKTsKKwl9
CisJCisJcHVibGljIHZvaWQgdGVzdDAyM19sYW1iZGFzSW5PdGhlclBsYWNlc19GaWVsZCgpIHRo
cm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1UZXN0KAorCQkJCW5ldyBTdHJpbmdb
XXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7XG4i
KworCQkJCQkiaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlhbGl6YWJsZSB7aW50IG0oKTt9XG4i
KworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJIiAgIEZvbyBmID0gKCkgLT4gOTk7
XG4iICsKKwkJCQkJIglwdWJsaWMgc3RhdGljIHZvaWQgbWFpbihTdHJpbmcgYXJndltdKSB0aHJv
d3MgRXhjZXB0aW9uIHtcbiIrCisJCQkJCSIgICAgIG5ldyBYKCkucnVuKCk7XG4iKworCQkJCQki
ICAgfVxuIisKKwkJCQkJIiAgIHB1YmxpYyB2b2lkIHJ1bigpIHtcbiIrCisJCQkJCSIgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKGYubSgpKTtcbiIrCisJCQkJCSIgICAgICAgdXRpbC5IZWxwZXIu
d3JpdGUoZik7XG4iKworCQkJCQkiICAgICAgIGYgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtc
biIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYubSgpKTtcbiIrCisJCQkJCSIJ
fVxuIisKKwkJCQkJIn0iLAorCQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJ
fSwKKwkJCQkJIjk5XG45OSIsCisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJp
bmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZN
IHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVy
YXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJp
bmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9r
ZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0
aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xu
IisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQki
ICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJ
CQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJYLmNsYXNzIik7CisJCWNoZWNrRXhw
ZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQorCXB1YmxpYyB2b2lkIHRlc3QwMjRf
bGFtYmRhc0luT3RoZXJQbGFjZXNfTWV0aG9kUGFyYW1ldGVyKCkgdGhyb3dzIEV4Y2VwdGlvbiB7
CisJCXRoaXMucnVuQ29uZm9ybVRlc3QoCisJCQkJbmV3IFN0cmluZ1tdeworCQkJCQkiWC5qYXZh
IiwKKwkJCQkJImltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTtcbiIrCisJCQkJCSJpbnRlcmZh
Y2UgRm9vIGV4dGVuZHMgU2VyaWFsaXphYmxlIHtpbnQgbSgpO31cbiIrCisJCQkJCSJwdWJsaWMg
Y2xhc3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2
W10pIHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIiAgICAgICBuZXcgWCgpLnJ1bigoKS0+
MzMpO1xuIisKKwkJCQkJIiAgIH1cbiIrCisJCQkJCSIgICBwdWJsaWMgdm9pZCBydW4oRm9vIGYp
IHtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxuKGYubSgpKTtcbiIrCisJCQkJ
CSIgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZik7XG4iKworCQkJCQkiICAgICAgIGYgPSAoRm9v
KXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KGYubSgpKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iLAorCQkJCQkiSGVscGVyLmphdmEi
LEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjMzXG4zMyIsCisJCQkJCW51bGwsCisJCQkJ
CXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIgfSk7IC8vIE5vdCBzdXJlLCB1
bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQgYnkgcGFzc2luZyBkdW1teSB2
bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0cyBtaWR3YXkgdGhyb3VnaCBp
dHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQgPQorCQkJCSIwOiBpbnZva2Vz
dGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9yeS5hbHRNZXRhZmFjdG9yeToo
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7TGphdmEvbGFuZy9TdHJpbmc7
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xh
bmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2QgYXJndW1lbnRzOlxuIisKKwkJ
CQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBYLmxhbWJkYSQwOigpSVxuIisK
KwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFcbiI7CisJCVN0cmluZyBkYXRhID0gcHJpbnRC
b290c3RyYXBNZXRob2RzQXR0cmlidXRlKE9VVFBVVF9ESVIgKyBGaWxlLnNlcGFyYXRvciArICJY
LmNsYXNzIik7CisJCWNoZWNrRXhwZWN0ZWQoZXhwZWN0ZWRPdXRwdXQsZGF0YSk7CisJfQorCQor
CXB1YmxpYyB2b2lkIHRlc3QwMjVfbGFtYmRhc1dpdGhHZW5lcmljSW5mZXJlbmNpbmcoKSB0aHJv
d3MgRXhjZXB0aW9uIHsKKwkJdGhpcy5ydW5Db25mb3JtVGVzdCgKKwkJCQluZXcgU3RyaW5nW117
CisJCQkJCSJYLmphdmEiLAorCQkJCQkiaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlO1xuIisK
KwkJCQkJImltcG9ydCBqYXZhLnV0aWwuZnVuY3Rpb24uKjtcbiIrCisJCQkJCSJwdWJsaWMgY2xh
c3MgWCB7XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2W10p
IHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIiAgICAgICBuZXcgWCgpLnJ1bigpO1xuIisK
KwkJCQkJIiAgIH1cbiIrCisJCQkJCSIgICBwdWJsaWMgdm9pZCBydW4oKSB7XG4iKworCQkJCQki
ICAgICAgIEludEZ1bmN0aW9uPEludGVnZXI+IHRpbWVzMyA9IChJbnRGdW5jdGlvbjxJbnRlZ2Vy
PiAmIFNlcmlhbGl6YWJsZSkgKHRyaXBsZSkgLT4gMyAqIHRyaXBsZTtcbiIrCisJCQkJCSIgICAg
ICAgU3lzdGVtLm91dC5wcmludGxuKHRpbWVzMy5hcHBseSg0KSk7XG4iKworCQkJCQkiICAgICAg
IHV0aWwuSGVscGVyLndyaXRlKHRpbWVzMyk7XG4iKworCQkJCQkiICAgICAgIHRpbWVzMyA9IChJ
bnRGdW5jdGlvbjxJbnRlZ2VyPil1dGlsLkhlbHBlci5yZWFkKCk7XG4iKworCQkJCQkiICAgICAg
IFN5c3RlbS5vdXQucHJpbnRsbih0aW1lczMuYXBwbHkoNCkpO1xuIisKKwkJCQkJIgl9XG4iKwor
CQkJCQkifSIsCisJCQkJCSJIZWxwZXIuamF2YSIsSEVMUEVSX0NMQVNTLAorCQkJCQl9LAorCQkJ
CQkiMTJcbjEyIiwKKwkJCQkJbnVsbCwKKwkJCQkJdHJ1ZSwKKwkJCQkJbmV3IFN0cmluZyBbXSB7
ICItRGR1bW15IiB9KTsgLy8gTm90IHN1cmUsIHVubGVzcyB3ZSBmb3JjZSB0aGUgVk0gdG8gbm90
IGJlIHJldXNlZCBieSBwYXNzaW5nIGR1bW15IHZtIGFyZ3VtZW50LCB0aGUgZ2VuZXJhdGVkIHBy
b2dyYW0gYWJvcnRzIG1pZHdheSB0aHJvdWdoIGl0cyBleGVjdXRpb24uCisJCVN0cmluZyBleHBl
Y3RlZE91dHB1dCA9CisJCQkJIjA6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJk
YU1ldGFmYWN0b3J5LmFsdE1ldGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5k
bGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBl
O1tMamF2YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJ
CSIgIE1ldGhvZCBhcmd1bWVudHM6XG4iKworCQkJCSIgICAgKEkpTGphdmEvbGFuZy9PYmplY3Q7
XG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRhJDA6KEkpTGphdmEvbGFuZy9JbnRl
Z2VyO1xuIisKKwkJCQkiICAgIChJKUxqYXZhL2xhbmcvSW50ZWdlcjtcbiIrCisJCQkJIiAgICAx
XG4iOworCQlTdHJpbmcgZGF0YSA9IHByaW50Qm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShPVVRQ
VVRfRElSICsgRmlsZS5zZXBhcmF0b3IgKyAiWC5jbGFzcyIpOworCQljaGVja0V4cGVjdGVkKGV4
cGVjdGVkT3V0cHV0LGRhdGEpOworCX0KKwlwdWJsaWMgdm9pZCB0ZXN0MDI2X2xhbWJkYXNJbk90
aGVyUGxhY2VzX0NsaW5pdCgpIHRocm93cyBFeGNlcHRpb24geworCQl0aGlzLnJ1bkNvbmZvcm1U
ZXN0KAorCQkJCW5ldyBTdHJpbmdbXXsKKwkJCQkJIlguamF2YSIsCisJCQkJCSJpbXBvcnQgamF2
YS5pby5TZXJpYWxpemFibGU7XG4iKworCQkJCQkiaW50ZXJmYWNlIEZvbyBleHRlbmRzIFNlcmlh
bGl6YWJsZSB7aW50IG0oKTt9XG4iKworCQkJCQkicHVibGljIGNsYXNzIFgge1xuIisKKwkJCQkJ
IiAgIHN0YXRpYyB7XG4iKworCQkJCQkiICAgICBGb28gZiA9ICgpIC0+IDk5O1xuIiArCisJCQkJ
CSIgICB9XG4iKworCQkJCQkiCXB1YmxpYyBzdGF0aWMgdm9pZCBtYWluKFN0cmluZyBhcmd2W10p
IHRocm93cyBFeGNlcHRpb24ge1xuIisKKwkJCQkJIiAgICAgbmV3IFgoKS5ydW4oKTtcbiIrCisJ
CQkJCSIgICB9XG4iKworCQkJCQkiICAgcHVibGljIHZvaWQgcnVuKCkge1xuIisKKwkJCQkJIiAg
ICAgICBGb28gZiA9ICgpLT45OTtcbiIrCisJCQkJCSIgICAgICAgU3lzdGVtLm91dC5wcmludGxu
KGYubSgpKTtcbiIrCisJCQkJCSIgICAgICAgdXRpbC5IZWxwZXIud3JpdGUoZik7XG4iKworCQkJ
CQkiICAgICAgIGYgPSAoRm9vKXV0aWwuSGVscGVyLnJlYWQoKTtcbiIrCisJCQkJCSIgICAgICAg
U3lzdGVtLm91dC5wcmludGxuKGYubSgpKTtcbiIrCisJCQkJCSIJfVxuIisKKwkJCQkJIn0iLAor
CQkJCQkiSGVscGVyLmphdmEiLEhFTFBFUl9DTEFTUywKKwkJCQkJfSwKKwkJCQkJIjk5XG45OSIs
CisJCQkJCW51bGwsCisJCQkJCXRydWUsCisJCQkJCW5ldyBTdHJpbmcgW10geyAiLURkdW1teSIg
fSk7IC8vIE5vdCBzdXJlLCB1bmxlc3Mgd2UgZm9yY2UgdGhlIFZNIHRvIG5vdCBiZSByZXVzZWQg
YnkgcGFzc2luZyBkdW1teSB2bSBhcmd1bWVudCwgdGhlIGdlbmVyYXRlZCBwcm9ncmFtIGFib3J0
cyBtaWR3YXkgdGhyb3VnaCBpdHMgZXhlY3V0aW9uLgorCQlTdHJpbmcgZXhwZWN0ZWRPdXRwdXQg
PQorCQkJCSIwOiBpbnZva2VzdGF0aWMgamF2YS9sYW5nL2ludm9rZS9MYW1iZGFNZXRhZmFjdG9y
eS5hbHRNZXRhZmFjdG9yeTooTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7
TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGphdmEvbGFu
Zy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlO1xuIisKKwkJCQkiICBNZXRob2Qg
YXJndW1lbnRzOlxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIGludm9rZXN0YXRpYyBY
LmxhbWJkYSQwOigpSVxuIisKKwkJCQkiICAgICgpSVxuIisKKwkJCQkiICAgIDFcbiIrCisJCQkJ
IjE6IGludm9rZXN0YXRpYyBqYXZhL2xhbmcvaW52b2tlL0xhbWJkYU1ldGFmYWN0b3J5LmFsdE1l
dGFmYWN0b3J5OihMamF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9s
YW5nL1N0cmluZztMamF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO1tMamF2YS9sYW5nL09iamVj
dDspTGphdmEvbGFuZy9pbnZva2UvQ2FsbFNpdGU7XG4iKworCQkJCSIgIE1ldGhvZCBhcmd1bWVu
dHM6XG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgaW52b2tlc3RhdGljIFgubGFtYmRh
JDE6KClJXG4iKworCQkJCSIgICAgKClJXG4iKworCQkJCSIgICAgMVxuIjsKKwkJU3RyaW5nIGRh
dGEgPSBwcmludEJvb3RzdHJhcE1ldGhvZHNBdHRyaWJ1dGUoT1VUUFVUX0RJUiArIEZpbGUuc2Vw
YXJhdG9yICsgIlguY2xhc3MiKTsKKwkJY2hlY2tFeHBlY3RlZChleHBlY3RlZE91dHB1dCxkYXRh
KTsKKwl9CisJCisJCisJLy8gLS0tCisJCisJcHJpdmF0ZSB2b2lkIGNoZWNrRXhwZWN0ZWQoU3Ry
aW5nIGV4cGVjdGVkLCBTdHJpbmcgYWN0dWFsKSB7CisJCWlmICghZXhwZWN0ZWQuZXF1YWxzKGFj
dHVhbCkpIHsKKwkJCXByaW50SXQoYWN0dWFsKTsKKwkJfQorCQlhc3NlcnRFcXVhbHMoZXhwZWN0
ZWQsYWN0dWFsKTsKKwl9CisJCisJLyoqCisJICogUHJpbnQgYSBwaWVjZSBvZiB0ZXh0IHdpdGgg
dGhlIG5lY2Vzc2FyeSBleHRyYSBxdW90ZXMgYW5kIG5ld2xpbmVzIHNvIHRoYXQgaXQgY2FuIGJl
IGN1dC9wYXN0ZWQgaW50bworCSAqIHRoZSB0ZXN0IHNvdXJjZSBmaWxlLgorCSAqLworCXByaXZh
dGUgdm9pZCBwcmludEl0KFN0cmluZyB0ZXh0KSB7CisJCVN0cmluZyBxdW90ZWRUZXh0ID0gdGV4
dDsKKwkJaWYgKCFxdW90ZWRUZXh0LnN0YXJ0c1dpdGgoIlwiIikpIHsKKwkJCXF1b3RlZFRleHQg
PSAiXCIiK3F1b3RlZFRleHQucmVwbGFjZUFsbCgiXG4iLCAiXFxcXG5cIitcblwiIik7CisJCQlx
dW90ZWRUZXh0ID0gcXVvdGVkVGV4dC5zdWJzdHJpbmcoMCxxdW90ZWRUZXh0Lmxlbmd0aCgpLTMp
OworCQl9CisJCVN5c3RlbS5vdXQucHJpbnRsbihxdW90ZWRUZXh0KTsKKwl9CisJCisJLyoqCisJ
ICogUHJpbnQgdGhlIGJvb3RzdHJhcCBtZXRob2RzIGF0dHJpYnV0ZSBpbiBhIHZlcnkgc2ltaWxh
ciBmYXNoaW9uIHRvIGphdmFwIGZvciBjaGVja2luZy4KKwkgKiBVbmxpa2UgamF2YXAgdGhlIGNv
bnN0YW50IHBvb2wgaW5kZXhlcyBhcmUgbm90IGluY2x1ZGVkLCB0byBtYWtlIHRoZSB0ZXN0IGEg
bGl0dGxlIGxlc3MKKwkgKiBmcmFnaWxlLgorCSAqLworCXByaXZhdGUgU3RyaW5nIHByaW50Qm9v
dHN0cmFwTWV0aG9kc0F0dHJpYnV0ZShTdHJpbmcgZmlsZXBhdGgpIHsKKwkJSUNsYXNzRmlsZVJl
YWRlciBjZnIgPSBUb29sRmFjdG9yeS5jcmVhdGVEZWZhdWx0Q2xhc3NGaWxlUmVhZGVyKGZpbGVw
YXRoLCBJQ2xhc3NGaWxlUmVhZGVyLkNMQVNTRklMRV9BVFRSSUJVVEVTKTsKKwkJQm9vdHN0cmFw
TWV0aG9kc0F0dHJpYnV0ZSBib290c3RyYXBNZXRob2RzQXR0cmlidXRlID0gbnVsbDsKKwkJSUNs
YXNzRmlsZUF0dHJpYnV0ZVtdIGF0dHJzID0gY2ZyLmdldEF0dHJpYnV0ZXMoKTsKKwkJZm9yIChp
bnQgaT0wLG1heD1hdHRycy5sZW5ndGg7aTxtYXg7aSsrKSB7CisJCQlpZiAobmV3IFN0cmluZyhh
dHRyc1tpXS5nZXRBdHRyaWJ1dGVOYW1lKCkpLmVxdWFscygiQm9vdHN0cmFwTWV0aG9kcyIpKSB7
CisJCQkJYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZSA9IChCb290c3RyYXBNZXRob2RzQXR0cmli
dXRlKWF0dHJzW2ldOworCQkJfQorCQl9CisJCWlmIChib290c3RyYXBNZXRob2RzQXR0cmlidXRl
PT1udWxsKSB7CisJCQlyZXR1cm4gIiI7CisJCX0KKwkJSUNvbnN0YW50UG9vbCBjcCA9IGNmci5n
ZXRDb25zdGFudFBvb2woKTsKKwkJU3RyaW5nQnVmZmVyIHNiID0gbmV3IFN0cmluZ0J1ZmZlcigp
OworCQlpbnQgYm1hTGVuZ3RoID0gYm9vdHN0cmFwTWV0aG9kc0F0dHJpYnV0ZS5nZXRCb290c3Ry
YXBNZXRob2RzTGVuZ3RoKCk7CisJCWZvciAoaW50IGk9MDtpPGJtYUxlbmd0aDtpKyspIHsKKwkJ
CUlCb290c3RyYXBNZXRob2RzRW50cnkgZW50cnkgPSBib290c3RyYXBNZXRob2RzQXR0cmlidXRl
LmdldEJvb3RzdHJhcE1ldGhvZHMoKVtpXTsKKwkJCWludCBtciA9IGVudHJ5LmdldEJvb3RzdHJh
cE1ldGhvZFJlZmVyZW5jZSgpOworCQkJSUNvbnN0YW50UG9vbEVudHJ5MiBpY3BlID0gKElDb25z
dGFudFBvb2xFbnRyeTIpY2ZyLmdldENvbnN0YW50UG9vbCgpLmRlY29kZUVudHJ5KG1yKTsKKwkJ
CQorCQkJc2IuYXBwZW5kKGkpLmFwcGVuZCgiOiAiKS5hcHBlbmQoZm9ybWF0UmVmZXJlbmNlS2lu
ZChpY3BlLmdldFJlZmVyZW5jZUtpbmQoKSkpOworCQkJc2IuYXBwZW5kKCIgIikuYXBwZW5kKGZv
cm1hdChjcCxpY3BlLmdldFJlZmVyZW5jZUluZGV4KCkpKTsJCisJCQlzYi5hcHBlbmQoIlxuIik7
CisJCQlpbnRbXSBhcmdzID0gZW50cnkuZ2V0Qm9vdHN0cmFwQXJndW1lbnRzKCk7CisJCQlzYi5h
cHBlbmQoIiAgTWV0aG9kIGFyZ3VtZW50czpcbiIpOworCQkJZm9yIChpbnQgYT0wO2E8YXJncy5s
ZW5ndGg7YSsrKSB7CisJCQkJc2IuYXBwZW5kKCIgICAgIikuYXBwZW5kKGZvcm1hdChjcCxhcmdz
W2FdKSkuYXBwZW5kKCJcbiIpOworCQkJfQorCQl9CisJCXJldHVybiBzYi50b1N0cmluZygpOwor
CX0KKwkKKwlwcml2YXRlIFN0cmluZyBwcmludExhbWJkYU1ldGhvZHMoU3RyaW5nIGZpbGVwYXRo
KSB7CisJCUlDbGFzc0ZpbGVSZWFkZXIgY2ZyID0gVG9vbEZhY3RvcnkuY3JlYXRlRGVmYXVsdENs
YXNzRmlsZVJlYWRlcihmaWxlcGF0aCwgSUNsYXNzRmlsZVJlYWRlci5NRVRIT0RfSU5GT1MpOwor
CQlJTWV0aG9kSW5mb1tdIG1ldGhvZEluZm9zID0gY2ZyLmdldE1ldGhvZEluZm9zKCk7CisJCVN0
cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7CisJCWZvciAoaW50IGkgPSAwLCBt
YXggPSBtZXRob2RJbmZvcy5sZW5ndGg7IGkgPCBtYXg7IGkrKykgeworCQkJSU1ldGhvZEluZm8g
bWV0aG9kSW5mbyA9IG1ldGhvZEluZm9zW2ldOworCQkJaWYgKCFuZXcgU3RyaW5nKG1ldGhvZElu
Zm8uZ2V0TmFtZSgpKS5zdGFydHNXaXRoKCJsYW1iZGEiKSkgCisJCQkJY29udGludWU7CisJCQlp
bnQgYWNjZXNzRmxhZ3MgPSBtZXRob2RJbmZvLmdldEFjY2Vzc0ZsYWdzKCk7CisJCQlpZiAoTW9k
aWZpZXIuaXNTdGF0aWMoYWNjZXNzRmxhZ3MpKSB7CisJCQkJYnVmLmFwcGVuZCgic3RhdGljICIp
OworCQkJfQorCQkJYnVmLmFwcGVuZChtZXRob2RJbmZvLmdldE5hbWUoKSk7CisJCQlidWYuYXBw
ZW5kKG1ldGhvZEluZm8uZ2V0RGVzY3JpcHRvcigpKTsKKwkJCWJ1Zi5hcHBlbmQoIlxuIik7CisJ
CX0KKwkJcmV0dXJuIGJ1Zi50b1N0cmluZygpOworCX0KKwkKKwlTdHJpbmcgZm9ybWF0UmVmZXJl
bmNlS2luZChpbnQga2luZCkgeworCQlzd2l0Y2ggKGtpbmQpIHsKKwkJCWNhc2UgSUNvbnN0YW50
UG9vbENvbnN0YW50Lk1FVEhPRF9UWVBFX1JFRl9JbnZva2VTdGF0aWM6CisJCQkJcmV0dXJuICJp
bnZva2VzdGF0aWMiOworCQkJZGVmYXVsdDoKKwkJCQl0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhj
ZXB0aW9uKCJueWkgZm9yICIra2luZCk7CisJCX0KKwl9CisJCisJU3RyaW5nIGZvcm1hdChJQ29u
c3RhbnRQb29sIGNwLCBpbnQgZW50cnlOdW1iZXIpIHsKKwkJSUNvbnN0YW50UG9vbEVudHJ5IGVu
dHJ5ID0gY3AuZGVjb2RlRW50cnkoZW50cnlOdW1iZXIpOworCQlpZiAoZW50cnkgPT0gbnVsbCkg
eworCQkJcmV0dXJuICJudWxsIjsKKwkJfQorCQlzd2l0Y2ggKGVudHJ5LmdldEtpbmQoKSkgewor
CQkJY2FzZSBJQ29uc3RhbnRQb29sQ29uc3RhbnQuQ09OU1RBTlRfSW50ZWdlcjoKKwkJCQlyZXR1
cm4gSW50ZWdlci50b1N0cmluZyhlbnRyeS5nZXRJbnRlZ2VyVmFsdWUoKSk7CisJCQljYXNlIElD
b25zdGFudFBvb2xDb25zdGFudC5DT05TVEFOVF9VdGY4OgorCQkJCXJldHVybiBuZXcgU3RyaW5n
KGVudHJ5LmdldFV0ZjhWYWx1ZSgpKTsKKwkJCWNhc2UgSUNvbnN0YW50UG9vbENvbnN0YW50LkNP
TlNUQU5UX01ldGhvZHJlZjoKKwkJCQlyZXR1cm4gbmV3IFN0cmluZyhlbnRyeS5nZXRDbGFzc05h
bWUoKSkrIi4iK25ldyBTdHJpbmcoZW50cnkuZ2V0TWV0aG9kTmFtZSgpKSsiOiIrbmV3IFN0cmlu
ZyhlbnRyeS5nZXRNZXRob2REZXNjcmlwdG9yKCkpOworCQkJY2FzZSBJQ29uc3RhbnRQb29sQ29u
c3RhbnQuQ09OU1RBTlRfTWV0aG9kSGFuZGxlOgorCQkJCUlDb25zdGFudFBvb2xFbnRyeTIgZW50
cnkyID0gKElDb25zdGFudFBvb2xFbnRyeTIpZW50cnk7CisJCQkJcmV0dXJuIGZvcm1hdFJlZmVy
ZW5jZUtpbmQoZW50cnkyLmdldFJlZmVyZW5jZUtpbmQoKSkrIiAiK2Zvcm1hdChjcCxlbnRyeTIu
Z2V0UmVmZXJlbmNlSW5kZXgoKSk7CisJCQljYXNlIElDb25zdGFudFBvb2xDb25zdGFudC5DT05T
VEFOVF9NZXRob2RUeXBlOgorCQkJCXJldHVybiBmb3JtYXQoY3AsKChJQ29uc3RhbnRQb29sRW50
cnkyKWVudHJ5KS5nZXREZXNjcmlwdG9ySW5kZXgoKSk7CisJCQljYXNlIElDb25zdGFudFBvb2xD
b25zdGFudC5DT05TVEFOVF9DbGFzczoKKwkJCQlyZXR1cm4gbmV3IFN0cmluZyhlbnRyeS5nZXRD
bGFzc0luZm9OYW1lKCkpOworCQkJZGVmYXVsdDoKKwkJCQkJdGhyb3cgbmV3IElsbGVnYWxTdGF0
ZUV4Y2VwdGlvbigibnlpIGZvciAiK2VudHJ5LmdldEtpbmQoKSk7CisJCX0KKwl9CisJCit9CisK
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLm1vZGVsL3NyYy9vcmcvZWNs
aXBzZS9qZHQvY29yZS90ZXN0cy9SdW5Pbmx5SmF2YThUZXN0cy5qYXZhIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL1J1bk9u
bHlKYXZhOFRlc3RzLmphdmEKaW5kZXggMGVlMzUwNS4uMzU0ZGQxNCAxMDA2NDQKLS0tIGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUudGVzdHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rl
c3RzL1J1bk9ubHlKYXZhOFRlc3RzLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUudGVz
dHMubW9kZWwvc3JjL29yZy9lY2xpcHNlL2pkdC9jb3JlL3Rlc3RzL1J1bk9ubHlKYXZhOFRlc3Rz
LmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJp
Z2h0IChjKSAyMDEzIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChj
KSAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZl
ZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1h
ZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5z
ZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2
YWlsYWJsZSBhdApAQCAtMTEsNiArMTEsOCBAQAogICoKICAqIENvbnRyaWJ1dG9yczoKICAqICAg
ICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24KKyAqICAg
ICBBbmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwuY29tIC0g
Q29udHJpYnV0aW9ucyBmb3IKKyAqICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDA1MTA0IC0g
WzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBzdXBwb3J0IGZvciBzZXJpYWxpemVh
YmxlIGxhbWJkYXMKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwogcGFja2FnZSBvcmcuZWNsaXBz
ZS5qZHQuY29yZS50ZXN0czsKIApAQCAtNDcsNiArNDksNyBAQCBpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LmNvcmUudGVzdHMuY29tcGlsZXIucmVncmVzc2lvbi5OZWdhdGl2ZVR5cGVBbm5vdGF0aW9u
VGVzdAogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Np
b24uTnVsbFR5cGVBbm5vdGF0aW9uVGVzdDsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50
ZXN0cy5jb21waWxlci5yZWdyZXNzaW9uLk92ZXJsb2FkUmVzb2x1dGlvblRlc3Q4OwogaW1wb3J0
IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBpbGVyLnJlZ3Jlc3Npb24uUmVwZWF0YWJs
ZUFubm90YXRpb25UZXN0OworaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLnRlc3RzLmNvbXBp
bGVyLnJlZ3Jlc3Npb24uU2VyaWFsaXphYmxlTGFtYmRhVGVzdDsKIGltcG9ydCBvcmcuZWNsaXBz
ZS5qZHQuY29yZS50ZXN0cy5jb21waWxlci5yZWdyZXNzaW9uLlR5cGVBbm5vdGF0aW9uVGVzdDsK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5kb20uQVNUQ29udmVydGVyMTVKTFM4
VGVzdDsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS50ZXN0cy5kb20uQVNUQ29udmVydGVy
MThUZXN0OwpAQCAtNzMsNiArNzYsNyBAQCBwdWJsaWMgY2xhc3MgUnVuT25seUphdmE4VGVzdHMg
ZXh0ZW5kcyBUZXN0Q2FzZSB7CiAJCQlMYW1iZGFFeHByZXNzaW9uU3ludGF4VGVzdC5jbGFzcywK
IAkJCU5lZ2F0aXZlTGFtYmRhRXhwcmVzc2lvbnNUZXN0LmNsYXNzLAogCQkJTGFtYmRhRXhwcmVz
c2lvbnNUZXN0LmNsYXNzLAorCQkJU2VyaWFsaXphYmxlTGFtYmRhVGVzdC5jbGFzcywKIAkJCU92
ZXJsb2FkUmVzb2x1dGlvblRlc3Q4LmNsYXNzLAogCQkJSlNSMzM1Q2xhc3NGaWxlVGVzdC5jbGFz
cywKIAkJCU5lZ2F0aXZlVHlwZUFubm90YXRpb25UZXN0LmNsYXNzLApkaWZmIC0tZ2l0IGEvb3Jn
LmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBp
bGVyL0NsYXNzRmlsZS5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL0NsYXNzRmlsZS5qYXZhCmluZGV4IGRhNmFkZDAu
LmI5MGVlYmIgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9DbGFzc0ZpbGUuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
Q2xhc3NGaWxlLmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgot
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgor
ICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgog
ICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5n
IG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRp
c3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTYsMTMgKzE2LDE0IEBACiAgKgkJ
CQkJCQlCdWcgNDA2OTgyIC0gWzEuOF1bY29tcGlsZXJdIEdlbmVyYXRpb24gb2YgTWV0aG9kUGFy
YW1ldGVycyBBdHRyaWJ1dGUgaW4gY2xhc3NmaWxlCiAgKgkJCQkJCQlCdWcgNDE2ODg1IC0gWzEu
OF1bY29tcGlsZXJdSW5jb21wYXRpYmxlQ2xhc3NDaGFuZ2UgZXJyb3IgKGVkaXQpCiAgKgkJCQkJ
CQlCdWcgNDEyMTQ5IC0gWzEuOF1bY29tcGlsZXJdIEVtaXQgcmVwZWF0ZWQgYW5ub3RhdGlvbnMg
aW50byB0aGUgZGVzaWduYXRlZCBjb250YWluZXIKLSAqICAgICAgICBBbmR5IENsZW1lbnQgKEdv
UGl2b3RhbCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IK
KyAqICAgICBBbmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwu
Y29tIC0gQ29udHJpYnV0aW9ucyBmb3IKICAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcg
MzgzNjI0IC0gWzEuOF1bY29tcGlsZXJdIFJldml2ZSBjb2RlIGdlbmVyYXRpb24gc3VwcG9ydCBm
b3IgdHlwZSBhbm5vdGF0aW9ucyAoZnJvbSBPbGl2aWVyJ3Mgd29yaykKICAqICAgICAgICAgICAg
ICAgICAgICAgICAgICBCdWcgNDA5MjM2IC0gWzEuOF1bY29tcGlsZXJdIFR5cGUgYW5ub3RhdGlv
bnMgb24gaW50ZXJzZWN0aW9uIGNhc3QgdHlwZXMgZHJvcHBlZCBieSBjb2RlIGdlbmVyYXRvcgog
ICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MDkyNDYgLSBbMS44XVtjb21waWxlcl0g
VHlwZSBhbm5vdGF0aW9ucyBvbiBjYXRjaCBwYXJhbWV0ZXJzIG5vdCBoYW5kbGVkIHByb3Blcmx5
CiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQxNTU0MSAtIFsxLjhdW2NvbXBpbGVy
XSBUeXBlIGFubm90YXRpb25zIGluIHRoZSBib2R5IG9mIHN0YXRpYyBpbml0aWFsaXplciBnZXQg
ZHJvcHBlZAogICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MTUzOTkgLSBbMS44XVtj
b21waWxlcl0gVHlwZSBhbm5vdGF0aW9ucyBvbiBjb25zdHJ1Y3RvciByZXN1bHRzIGRyb3BwZWQg
YnkgdGhlIGNvZGUgZ2VuZXJhdG9yCiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQx
NTQ3MCAtIFsxLjhdW2NvbXBpbGVyXSBUeXBlIGFubm90YXRpb25zIG9uIGNsYXNzIGRlY2xhcmF0
aW9uIGdvIHZhbmlzaGluZworICogICAgICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MDUxMDQg
LSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6
ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5lY2xp
cHNlLmpkdC5pbnRlcm5hbC5jb21waWxlcjsKIApAQCAtOTMyLDYgKzkzMywxMCBAQCBwdWJsaWMg
Y2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVudHMgVHlwZUNvbnN0YW50cywgVHlwZUlkcyB7CiAJCQkJ
CQljYXNlIFN5bnRoZXRpY01ldGhvZEJpbmRpbmcuRmFjdG9yeU1ldGhvZDoKIAkJCQkJCQlhZGRT
eW50aGV0aWNGYWN0b3J5TWV0aG9kKHN5bnRoZXRpY01ldGhvZCk7CiAJCQkJCQkJYnJlYWs7CQor
CQkJCQkJY2FzZSBTeW50aGV0aWNNZXRob2RCaW5kaW5nLkRlc2VyaWFsaXplTGFtYmRhOgorCQkJ
CQkJCS8vIFRPRE8gW2FuZHldIGRvIHdlIG5lZWQgdG8gZG8gdGhpcyBhZnRlciB0aGUgbG9vcCB0
byBlbnN1cmUgaXQgaXMgZG9uZSBsYXN0PworCQkJCQkJCWFkZFN5bnRoZXRpY0Rlc2VyaWFsaXpl
TGFtYmRhKHN5bnRoZXRpY01ldGhvZCx0aGlzLnJlZmVyZW5jZUJpbmRpbmcuc3ludGhldGljTWV0
aG9kcygpKTsgCisJCQkJCQkJYnJlYWs7CiAJCQkJCX0KIAkJCQl9CiAJCQkJZW1pdHRlZFN5bnRo
ZXRpY3NDb3VudCA9IGN1cnJlbnRTeW50aGV0aWNzQ291bnQ7CkBAIC0yODQ3LDUyICsyODUyLDEz
MSBAQCBwdWJsaWMgY2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVudHMgVHlwZUNvbnN0YW50cywgVHlw
ZUlkcyB7CiAJCWlmIChtZXRob2RIYW5kbGVzTG9va3VwID09IG51bGwpIHJldHVybiAwOyAvLyBz
a2lwIGJvb3RzdHJhcCBzZWN0aW9uLCBjbGFzcyBwYXRoIHByb2JsZW0gYWxyZWFkeSByZXBvcnRl
ZCwganVzdCBhdm9pZCBOUEUuCiAJCXJlY29yZElubmVyQ2xhc3NlcyhtZXRob2RIYW5kbGVzTG9v
a3VwKTsgLy8gU2hvdWxkIGJlIGRvbmUsIGl0J3Mgd2hhdCBqYXZhYyBkb2VzIGFsc28KIAkJUmVm
ZXJlbmNlQmluZGluZyBqYXZhTGFuZ0ludm9rZUxhbWJkYU1ldGFmYWN0b3J5ID0gdGhpcy5yZWZl
cmVuY2VCaW5kaW5nLnNjb3BlLmdldEphdmFMYW5nSW52b2tlTGFtYmRhTWV0YWZhY3RvcnkoKTsg
Ci0JCWludCBpbmRleEZvck1ldGFGYWN0b3J5ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbElu
ZGV4Rm9yTWV0aG9kSGFuZGxlKENsYXNzRmlsZUNvbnN0YW50cy5NZXRob2RIYW5kbGVSZWZLaW5k
SW52b2tlU3RhdGljLCBqYXZhTGFuZ0ludm9rZUxhbWJkYU1ldGFmYWN0b3J5LCAKLQkJCQlDb25z
dGFudFBvb2wuTUVUQUZBQ1RPUlksIENvbnN0YW50UG9vbC5KQVZBX0xBTkdfSU5WT0tFX0xBTUJE
QU1FVEFGQUNUT1JZX01FVEFGQUNUT1JZX1NJR05BVFVSRSwgZmFsc2UpOworCQkKKwkJLy8gRGVw
ZW5kaW5nIG9uIHRoZSBjb21wbGV4aXR5IG9mIHRoZSBleHByZXNzaW9uIGl0IG1heSBiZSBuZWNl
c3NhcnkgdG8gdXNlIHRoZSBhbHRNZXRhZmFjdG9yeSgpIHJhdGhlciB0aGFuIHRoZSBtZXRhZmFj
dG9yeSgpCisJCWludCBpbmRleEZvck1ldGFGYWN0b3J5ID0gMDsKKwkJaW50IGluZGV4Rm9yQWx0
TWV0YUZhY3RvcnkgPSAwOwogCiAJCWludCBudW1iZXJPZkJvb3RzdHJhcHMgPSBmdW5jdGlvbmFs
RXhwcmVzc2lvbkxpc3Quc2l6ZSgpOwogCQlpbnQgbG9jYWxDb250ZW50c09mZnNldCA9IHRoaXMu
Y29udGVudHNPZmZzZXQ7CiAJCS8vIEdlbmVyYXRlIHRoZSBib290IHN0cmFwIGF0dHJpYnV0ZSAt
IHNpbmNlIHdlIGFyZSBvbmx5IG1ha2luZyBsYW1iZGFzIGFuZAogCQkvLyBmdW5jdGlvbmFsIGV4
cHJlc3Npb25zLCB3ZSBrbm93IHRoZSBzaXplIGFoZWFkIG9mIHRpbWUgLSB0aGlzIGxlc3MgZ2Vu
ZXJhbAogCQkvLyB0aGFuIHRoZSBmdWxsIGludm9rZWR5bmFtaWMgc2NvcGUsIGJ1dCBmaW5lIGZv
ciBKYXZhIDgKKwkJCiAJCWludCBleFNpemUgPSAxMCAqIG51bWJlck9mQm9vdHN0cmFwcyArIDg7
CiAJCWlmIChleFNpemUgKyBsb2NhbENvbnRlbnRzT2Zmc2V0ID49IHRoaXMuY29udGVudHMubGVu
Z3RoKSB7CiAJCQlyZXNpemVDb250ZW50cyhleFNpemUpOwogCQl9Ci0JCXRoaXMuY29udGVudHNP
ZmZzZXQgKz0gZXhTaXplOwogCQkKIAkJaW50IGF0dHJpYnV0ZU5hbWVJbmRleCA9CiAJCQl0aGlz
LmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXgoQXR0cmlidXRlTmFtZXNDb25zdGFudHMuQm9vdHN0
cmFwTWV0aG9kc05hbWUpOwogCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10g
PSAoYnl0ZSkgKGF0dHJpYnV0ZU5hbWVJbmRleCA+PiA4KTsKIAkJdGhpcy5jb250ZW50c1tsb2Nh
bENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIGF0dHJpYnV0ZU5hbWVJbmRleDsKLQkJaW50IHZh
bHVlID0gKG51bWJlck9mQm9vdHN0cmFwcyAqIDEwKSArIDI7Ci0JCXRoaXMuY29udGVudHNbbG9j
YWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAodmFsdWUgPj4gMjQpOwotCQl0aGlzLmNvbnRl
bnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKHZhbHVlID4+IDE2KTsKLQkJdGhp
cy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpICh2YWx1ZSA+PiA4KTsK
LQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIHZhbHVlOwor
CQkvLyBsZWF2ZSBzcGFjZSBmb3IgYXR0cmlidXRlX2xlbmd0aCBhbmQgcmVtZW1iZXIgd2hlcmUg
dG8gaW5zZXJ0IGl0CisJCWludCBhdHRyaWJ1dGVMZW5ndGhQb3NpdGlvbiA9IGxvY2FsQ29udGVu
dHNPZmZzZXQ7CisJCWxvY2FsQ29udGVudHNPZmZzZXQgKz0gNDsKIAkJdGhpcy5jb250ZW50c1ts
b2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChudW1iZXJPZkJvb3RzdHJhcHMgPj4gOCk7
CiAJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBudW1iZXJP
ZkJvb3RzdHJhcHM7CiAJCWZvciAoaW50IGkgPSAwOyBpIDwgbnVtYmVyT2ZCb290c3RyYXBzOyBp
KyspIHsKIAkJCUZ1bmN0aW9uYWxFeHByZXNzaW9uIGZ1bmN0aW9uYWwgPSAoRnVuY3Rpb25hbEV4
cHJlc3Npb24pIGZ1bmN0aW9uYWxFeHByZXNzaW9uTGlzdC5nZXQoaSk7Ci0JCQl0aGlzLmNvbnRl
bnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKGluZGV4Rm9yTWV0YUZhY3Rvcnkg
Pj4gOCk7Ci0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkg
aW5kZXhGb3JNZXRhRmFjdG9yeTsKIAkJCQotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRz
T2Zmc2V0KytdID0gMDsKLQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9
IChieXRlKSAzOwotCQkJCi0JCQlpbnQgZnVuY3Rpb25hbERlc2NyaXB0b3JJbmRleCA9IHRoaXMu
Y29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZFR5cGUoZnVuY3Rpb25hbC5kZXNjcmlw
dG9yLm9yaWdpbmFsKCkuc2lnbmF0dXJlKCkpOwotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRl
bnRzT2Zmc2V0KytdID0gKGJ5dGUpIChmdW5jdGlvbmFsRGVzY3JpcHRvckluZGV4ID4+IDgpOwot
CQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIGZ1bmN0aW9u
YWxEZXNjcmlwdG9ySW5kZXg7Ci0KLQkJCWludCBtZXRob2RIYW5kbGVJbmRleCA9IHRoaXMuY29u
c3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRsZShmdW5jdGlvbmFsLmJpbmRpbmcu
b3JpZ2luYWwoKSk7IC8vIFNwZWFrIG9mICIgaW1wbGVtZW50YXRpb24iIChlcmFzZWQpIHZlcnNp
b24gaGVyZSwgYWRhcHRhdGlvbnMgZGVzY3JpYmVkIGJlbG93LgotCQkJdGhpcy5jb250ZW50c1ts
b2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUpIChtZXRob2RIYW5kbGVJbmRleCA+PiA4KTsK
LQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBtZXRob2RI
YW5kbGVJbmRleDsKLQotCQkJY2hhciBbXSBpbnN0YW50aWF0ZWRTaWduYXR1cmUgPSBmdW5jdGlv
bmFsLmRlc2NyaXB0b3Iuc2lnbmF0dXJlKCk7Ci0JCQlpbnQgbWV0aG9kVHlwZUluZGV4ID0gdGhp
cy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4Rm9yTWV0aG9kVHlwZShpbnN0YW50aWF0ZWRTaWdu
YXR1cmUpOwotCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5dGUp
IChtZXRob2RUeXBlSW5kZXggPj4gOCk7Ci0JCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNP
ZmZzZXQrK10gPSAoYnl0ZSkgbWV0aG9kVHlwZUluZGV4OworCQkJVHlwZUJpbmRpbmdbXSBtYXJr
ZXJJbnRlcmZhY2VzID0gbnVsbDsKKwkJCWlmIChmdW5jdGlvbmFsIGluc3RhbmNlb2YgTGFtYmRh
RXhwcmVzc2lvbiAmJiAKKwkJCQkgICAoKChtYXJrZXJJbnRlcmZhY2VzPSgoTGFtYmRhRXhwcmVz
c2lvbilmdW5jdGlvbmFsKS5nZXRNYXJrZXJJbnRlcmZhY2VzKCkpICE9IG51bGwpIHx8CisJCQkJ
ICAgCSgoTGFtYmRhRXhwcmVzc2lvbilmdW5jdGlvbmFsKS5pc1NlcmlhbGl6YWJsZSkpIHsKKwkJ
CQkKKwkJCQlMYW1iZGFFeHByZXNzaW9uIGxhbWJkYUV4ID0gKExhbWJkYUV4cHJlc3Npb24pZnVu
Y3Rpb25hbDsKKwkJCQkvLyBtYXkgbmVlZCBldmVuIG1vcmUgc3BhY2UKKwkJCQlpbnQgZXh0cmFT
cGFjZSA9IDI7IC8vIGF0IGxlYXN0IDIgbW9yZSB0aGFuIHdoZW4gdGhlIG5vcm1hbCBtZXRhZmFj
dG9yeSBpcyB1c2VkLCBmb3IgdGhlIGJpdGZsYWdzIGVudHJ5CisJCQkJaWYgKG1hcmtlckludGVy
ZmFjZXMgIT0gbnVsbCkgeworCQkJCQkvLyAyIGZvciB0aGUgbWFya2VyIGludGVyZmFjZSBsaXN0
IHNpemUgdGhlbiAyIHBlciBtYXJrZXIgaW50ZXJmYWNlIGluZGV4CisJCQkJCWV4dHJhU3BhY2Ug
Kz0gKDIgKyAyICogbWFya2VySW50ZXJmYWNlcy5sZW5ndGgpOworCQkJCX0KKwkJCQlpZiAoZXh0
cmFTcGFjZSArIGxvY2FsQ29udGVudHNPZmZzZXQgPj0gdGhpcy5jb250ZW50cy5sZW5ndGgpIHsK
KwkJCQkJcmVzaXplQ29udGVudHMoZXh0cmFTcGFjZSk7CisJCQkJfSAKKwkJCQkKKwkJCQlpZiAo
aW5kZXhGb3JBbHRNZXRhRmFjdG9yeSA9PSAwKSB7CisJCQkJCWluZGV4Rm9yQWx0TWV0YUZhY3Rv
cnkgPSAKKwkJCQkJCXRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRs
ZShDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVN0YXRpYywgamF2
YUxhbmdJbnZva2VMYW1iZGFNZXRhZmFjdG9yeSwgCisJCQkJCQlDb25zdGFudFBvb2wuQUxUTUVU
QUZBQ1RPUlksIENvbnN0YW50UG9vbC5KQVZBX0xBTkdfSU5WT0tFX0xBTUJEQU1FVEFGQUNUT1JZ
X0FMVE1FVEFGQUNUT1JZX1NJR05BVFVSRSwgZmFsc2UpOworCQkJCX0KKwkJCQl0aGlzLmNvbnRl
bnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKGluZGV4Rm9yQWx0TWV0YUZhY3Rv
cnkgPj4gOCk7CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0KytdID0gKGJ5
dGUpIGluZGV4Rm9yQWx0TWV0YUZhY3Rvcnk7CisJCQkJCisJCQkJLy8gdTIgbnVtX2Jvb3RzdHJh
cF9hcmd1bWVudHMKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAw
OworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAoNCso
bWFya2VySW50ZXJmYWNlcz09bnVsbD8wOjErbWFya2VySW50ZXJmYWNlcy5sZW5ndGgpKTsKKwkJ
CQkKKwkJCQlpbnQgZnVuY3Rpb25hbERlc2NyaXB0b3JJbmRleCA9IHRoaXMuY29uc3RhbnRQb29s
LmxpdGVyYWxJbmRleEZvck1ldGhvZFR5cGUoZnVuY3Rpb25hbC5kZXNjcmlwdG9yLm9yaWdpbmFs
KCkuc2lnbmF0dXJlKCkpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsr
XSA9IChieXRlKSAoZnVuY3Rpb25hbERlc2NyaXB0b3JJbmRleCA+PiA4KTsKKwkJCQl0aGlzLmNv
bnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgZnVuY3Rpb25hbERlc2NyaXB0
b3JJbmRleDsKKwkKKwkJCQlpbnQgbWV0aG9kSGFuZGxlSW5kZXggPSB0aGlzLmNvbnN0YW50UG9v
bC5saXRlcmFsSW5kZXhGb3JNZXRob2RIYW5kbGUoZnVuY3Rpb25hbC5iaW5kaW5nLm9yaWdpbmFs
KCkpOyAvLyBTcGVhayBvZiAiIGltcGxlbWVudGF0aW9uIiAoZXJhc2VkKSB2ZXJzaW9uIGhlcmUs
IGFkYXB0YXRpb25zIGRlc2NyaWJlZCBiZWxvdy4KKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29u
dGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKG1ldGhvZEhhbmRsZUluZGV4ID4+IDgpOworCQkJCXRo
aXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBtZXRob2RIYW5kbGVJ
bmRleDsKKwkKKwkJCQljaGFyIFtdIGluc3RhbnRpYXRlZFNpZ25hdHVyZSA9IGZ1bmN0aW9uYWwu
ZGVzY3JpcHRvci5zaWduYXR1cmUoKTsKKwkJCQlpbnQgbWV0aG9kVHlwZUluZGV4ID0gdGhpcy5j
b25zdGFudFBvb2wubGl0ZXJhbEluZGV4Rm9yTWV0aG9kVHlwZShpbnN0YW50aWF0ZWRTaWduYXR1
cmUpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAo
bWV0aG9kVHlwZUluZGV4ID4+IDgpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09m
ZnNldCsrXSA9IChieXRlKSBtZXRob2RUeXBlSW5kZXg7CisKKwkJCQkvLyBEb2VzIHRoaXMgYmxv
Y2sgaGF2ZSB0byBkZWFsIHdpdGggRkxBR19CUklER0U/IFdoZW4gaXMgaXQgbmVlZGVkPworCQkJ
CWludCBiaXRmbGFncyA9IDA7CisJCQkJaWYgKGxhbWJkYUV4LmlzU2VyaWFsaXphYmxlKSB7CisJ
CQkJCWJpdGZsYWdzIHw9IENsYXNzRmlsZUNvbnN0YW50cy5GTEFHX1NFUklBTElaQUJMRTsKKwkJ
CQl9CisJCQkJaWYgKG1hcmtlckludGVyZmFjZXMhPW51bGwpIHsKKwkJCQkJYml0ZmxhZ3MgfD0g
Q2xhc3NGaWxlQ29uc3RhbnRzLkZMQUdfTUFSS0VSUzsKKwkJCQl9CisJCQkJaW50IGluZGV4Rm9y
Qml0ZmxhZ3MgPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXgoYml0ZmxhZ3MpOworCQkJ
CQorCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKShpbmRl
eEZvckJpdGZsYWdzPj44KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQr
K10gPSAoYnl0ZSkoaW5kZXhGb3JCaXRmbGFncyk7CisJCQkJCisJCQkJaWYgKG1hcmtlckludGVy
ZmFjZXMgIT0gbnVsbCkgeworCQkJCQlpbnQgbWFya2VySW50ZXJmYWNlQ291bnRJbmRleCA9ICB0
aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXgobWFya2VySW50ZXJmYWNlcy5sZW5ndGgpOwor
CQkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkobWFya2Vy
SW50ZXJmYWNlQ291bnRJbmRleD4+OCk7CisJCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50
c09mZnNldCsrXSA9IChieXRlKShtYXJrZXJJbnRlcmZhY2VDb3VudEluZGV4KTsKKwkJCQkJZm9y
IChpbnQgbSA9IDAsIG1heG0gPSBtYXJrZXJJbnRlcmZhY2VzLmxlbmd0aDsgbSA8IG1heG07IG0r
KykgeworCQkJCQkJaW50IGNsYXNzVHlwZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJh
bEluZGV4Rm9yVHlwZShtYXJrZXJJbnRlcmZhY2VzW21dKTsKKwkJCQkJCXRoaXMuY29udGVudHNb
bG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKShjbGFzc1R5cGVJbmRleD4+OCk7CisJCQkJ
CQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkoY2xhc3NUeXBl
SW5kZXgpOworCQkJCQl9CQkJCQkKKwkJCQl9CisJCQl9IGVsc2UgeworCQkJCWlmIChpbmRleEZv
ck1ldGFGYWN0b3J5ID09IDApIHsKKwkJCQkJaW5kZXhGb3JNZXRhRmFjdG9yeSA9IHRoaXMuY29u
c3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZEhhbmRsZShDbGFzc0ZpbGVDb25zdGFudHMu
TWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVN0YXRpYywgamF2YUxhbmdJbnZva2VMYW1iZGFNZXRh
ZmFjdG9yeSwgCisJCQkJCQkJQ29uc3RhbnRQb29sLk1FVEFGQUNUT1JZLCBDb25zdGFudFBvb2wu
SkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9SWV9NRVRBRkFDVE9SWV9TSUdOQVRVUkUs
IGZhbHNlKTsKKwkJCQl9CisJCQkJdGhpcy5jb250ZW50c1tsb2NhbENvbnRlbnRzT2Zmc2V0Kytd
ID0gKGJ5dGUpIChpbmRleEZvck1ldGFGYWN0b3J5ID4+IDgpOworCQkJCXRoaXMuY29udGVudHNb
bG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBpbmRleEZvck1ldGFGYWN0b3J5OworCQkJ
CQorCQkJCS8vIHUyIG51bV9ib290c3RyYXBfYXJndW1lbnRzCisJCQkJdGhpcy5jb250ZW50c1ts
b2NhbENvbnRlbnRzT2Zmc2V0KytdID0gMDsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVu
dHNPZmZzZXQrK10gPSAoYnl0ZSkgMzsKKwkJCQkKKwkJCQlpbnQgZnVuY3Rpb25hbERlc2NyaXB0
b3JJbmRleCA9IHRoaXMuY29uc3RhbnRQb29sLmxpdGVyYWxJbmRleEZvck1ldGhvZFR5cGUoZnVu
Y3Rpb25hbC5kZXNjcmlwdG9yLm9yaWdpbmFsKCkuc2lnbmF0dXJlKCkpOworCQkJCXRoaXMuY29u
dGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSAoZnVuY3Rpb25hbERlc2NyaXB0
b3JJbmRleCA+PiA4KTsKKwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10g
PSAoYnl0ZSkgZnVuY3Rpb25hbERlc2NyaXB0b3JJbmRleDsKKwkKKwkJCQlpbnQgbWV0aG9kSGFu
ZGxlSW5kZXggPSB0aGlzLmNvbnN0YW50UG9vbC5saXRlcmFsSW5kZXhGb3JNZXRob2RIYW5kbGUo
ZnVuY3Rpb25hbC5iaW5kaW5nLm9yaWdpbmFsKCkpOyAvLyBTcGVhayBvZiAiIGltcGxlbWVudGF0
aW9uIiAoZXJhc2VkKSB2ZXJzaW9uIGhlcmUsIGFkYXB0YXRpb25zIGRlc2NyaWJlZCBiZWxvdy4K
KwkJCQl0aGlzLmNvbnRlbnRzW2xvY2FsQ29udGVudHNPZmZzZXQrK10gPSAoYnl0ZSkgKG1ldGhv
ZEhhbmRsZUluZGV4ID4+IDgpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNl
dCsrXSA9IChieXRlKSBtZXRob2RIYW5kbGVJbmRleDsKKwkKKwkJCQljaGFyIFtdIGluc3RhbnRp
YXRlZFNpZ25hdHVyZSA9IGZ1bmN0aW9uYWwuZGVzY3JpcHRvci5zaWduYXR1cmUoKTsKKwkJCQlp
bnQgbWV0aG9kVHlwZUluZGV4ID0gdGhpcy5jb25zdGFudFBvb2wubGl0ZXJhbEluZGV4Rm9yTWV0
aG9kVHlwZShpbnN0YW50aWF0ZWRTaWduYXR1cmUpOworCQkJCXRoaXMuY29udGVudHNbbG9jYWxD
b250ZW50c09mZnNldCsrXSA9IChieXRlKSAobWV0aG9kVHlwZUluZGV4ID4+IDgpOworCQkJCXRo
aXMuY29udGVudHNbbG9jYWxDb250ZW50c09mZnNldCsrXSA9IChieXRlKSBtZXRob2RUeXBlSW5k
ZXg7CQkJCQorCQkJfQogCQl9CisKKwkJaW50IGF0dHJpYnV0ZUxlbmd0aCA9IGxvY2FsQ29udGVu
dHNPZmZzZXQgLSBhdHRyaWJ1dGVMZW5ndGhQb3NpdGlvbiAtIDQ7CisJCXRoaXMuY29udGVudHNb
YXR0cmlidXRlTGVuZ3RoUG9zaXRpb24rK10gPSAoYnl0ZSkgKGF0dHJpYnV0ZUxlbmd0aCA+PiAy
NCk7CisJCXRoaXMuY29udGVudHNbYXR0cmlidXRlTGVuZ3RoUG9zaXRpb24rK10gPSAoYnl0ZSkg
KGF0dHJpYnV0ZUxlbmd0aCA+PiAxNik7CisJCXRoaXMuY29udGVudHNbYXR0cmlidXRlTGVuZ3Ro
UG9zaXRpb24rK10gPSAoYnl0ZSkgKGF0dHJpYnV0ZUxlbmd0aCA+PiA4KTsKKwkJdGhpcy5jb250
ZW50c1thdHRyaWJ1dGVMZW5ndGhQb3NpdGlvbisrXSA9IChieXRlKSBhdHRyaWJ1dGVMZW5ndGg7
CisJCXRoaXMuY29udGVudHNPZmZzZXQgPSBsb2NhbENvbnRlbnRzT2Zmc2V0OwogCQlyZXR1cm4g
MTsKIAl9CiAJcHJpdmF0ZSBpbnQgZ2VuZXJhdGVMaW5lTnVtYmVyQXR0cmlidXRlKCkgewpAQCAt
MzI5Myw2ICszMzc3LDMzIEBAIHB1YmxpYyBjbGFzcyBDbGFzc0ZpbGUgaW1wbGVtZW50cyBUeXBl
Q29uc3RhbnRzLCBUeXBlSWRzIHsKIAkJdGhpcy5jb250ZW50c1t0aGlzLmNvbnRlbnRzT2Zmc2V0
KytdID0gKGJ5dGUpIChkZXNjcmlwdG9ySW5kZXggPj4gOCk7CiAJCXRoaXMuY29udGVudHNbdGhp
cy5jb250ZW50c09mZnNldCsrXSA9IChieXRlKSBkZXNjcmlwdG9ySW5kZXg7CiAJfQorCQorCXB1
YmxpYyB2b2lkIGFkZFN5bnRoZXRpY0Rlc2VyaWFsaXplTGFtYmRhKFN5bnRoZXRpY01ldGhvZEJp
bmRpbmcgbWV0aG9kQmluZGluZywgU3ludGhldGljTWV0aG9kQmluZGluZ1tdIHN5bnRoZXRpY01l
dGhvZEJpbmRpbmdzICkgeworCQlnZW5lcmF0ZU1ldGhvZEluZm9IZWFkZXIobWV0aG9kQmluZGlu
Zyk7CisJCWludCBtZXRob2RBdHRyaWJ1dGVPZmZzZXQgPSB0aGlzLmNvbnRlbnRzT2Zmc2V0Owor
CQkvLyB0aGlzIHdpbGwgYWRkIGV4Y2VwdGlvbiBhdHRyaWJ1dGUsIHN5bnRoZXRpYyBhdHRyaWJ1
dGUsIGRlcHJlY2F0ZWQgYXR0cmlidXRlLC4uLgorCQlpbnQgYXR0cmlidXRlTnVtYmVyID0gZ2Vu
ZXJhdGVNZXRob2RJbmZvQXR0cmlidXRlcyhtZXRob2RCaW5kaW5nKTsKKwkJLy8gQ29kZSBhdHRy
aWJ1dGUKKwkJaW50IGNvZGVBdHRyaWJ1dGVPZmZzZXQgPSB0aGlzLmNvbnRlbnRzT2Zmc2V0Owor
CQlhdHRyaWJ1dGVOdW1iZXIrKzsgLy8gYWRkIGNvZGUgYXR0cmlidXRlCisJCWdlbmVyYXRlQ29k
ZUF0dHJpYnV0ZUhlYWRlcigpOworCQl0aGlzLmNvZGVTdHJlYW0uaW5pdCh0aGlzKTsKKwkJdGhp
cy5jb2RlU3RyZWFtLmdlbmVyYXRlU3ludGhldGljQm9keUZvckRlc2VyaWFsaXplTGFtYmRhKG1l
dGhvZEJpbmRpbmcsIHN5bnRoZXRpY01ldGhvZEJpbmRpbmdzKTsKKwkJY29tcGxldGVDb2RlQXR0
cmlidXRlRm9yU3ludGhldGljTWV0aG9kKAorCQkJbWV0aG9kQmluZGluZywKKwkJCWNvZGVBdHRy
aWJ1dGVPZmZzZXQsCisJCQkoKFNvdXJjZVR5cGVCaW5kaW5nKSBtZXRob2RCaW5kaW5nLmRlY2xh
cmluZ0NsYXNzKQorCQkJCS5zY29wZQorCQkJCS5yZWZlcmVuY2VDb21waWxhdGlvblVuaXQoKQor
CQkJCS5jb21waWxhdGlvblJlc3VsdAorCQkJCS5nZXRMaW5lU2VwYXJhdG9yUG9zaXRpb25zKCkp
OworCQkvLyB1cGRhdGUgdGhlIG51bWJlciBvZiBhdHRyaWJ1dGVzCisJCWlmICgodGhpcy5wcm9k
dWNlQXR0cmlidXRlcyAmIENsYXNzRmlsZUNvbnN0YW50cy5BVFRSX01FVEhPRF9QQVJBTUVURVJT
KSAhPSAwKSB7CisJCQlhdHRyaWJ1dGVOdW1iZXIgKz0gZ2VuZXJhdGVNZXRob2RQYXJhbWV0ZXJz
KG1ldGhvZEJpbmRpbmcpOworCQl9CisJCXRoaXMuY29udGVudHNbbWV0aG9kQXR0cmlidXRlT2Zm
c2V0KytdID0gKGJ5dGUpIChhdHRyaWJ1dGVOdW1iZXIgPj4gOCk7CisJCXRoaXMuY29udGVudHNb
bWV0aG9kQXR0cmlidXRlT2Zmc2V0XSA9IChieXRlKSBhdHRyaWJ1dGVOdW1iZXI7CisJfQkKIAog
CS8qKgogCSAqIElOVEVSTkFMIFVTRS1PTkxZCkBAIC00OTE3LDYgKzUwMjgsMTIgQEAgcHVibGlj
IGNsYXNzIENsYXNzRmlsZSBpbXBsZW1lbnRzIFR5cGVDb25zdGFudHMsIFR5cGVJZHMgewogCQkJ
CWlmICgoYXJndW1lbnRzID0gbWV0aG9kQmluZGluZy5wYXJhbWV0ZXJzKSAhPSBudWxsKSB7CiAJ
CQkJCWZvciAoaW50IGkgPSAwLCBtYXggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbWF4OyBpKysp
IHsKIAkJCQkJCWZpbmFsIFR5cGVCaW5kaW5nIHR5cGVCaW5kaW5nID0gYXJndW1lbnRzW2ldOwor
CQkJCQkJLy8gRm9yIHRoZSBicmFuY2hpbmcgY29tcGxleGl0aWVzIGluIHRoZSBnZW5lcmF0ZWQg
JGRlc2VyaWFsaXplTGFtYmRhJCB3ZSBuZWVkIHRoZSBsb2NhbCB2YXJpYWJsZQorCQkJCQkJTG9j
YWxWYXJpYWJsZUJpbmRpbmcgbG9jYWxWYXJpYWJsZUJpbmRpbmcgPSBuZXcgTG9jYWxWYXJpYWJs
ZUJpbmRpbmcoKCIgc3ludGhldGljIitpKS50b0NoYXJBcnJheSgpLCB0eXBlQmluZGluZywgMCwg
dHJ1ZSk7IC8vJE5PTi1OTFMtMSQKKwkJCQkJCWxvY2FsVmFyaWFibGVCaW5kaW5nLnJlc29sdmVk
UG9zaXRpb24gPSBpOworCQkJCQkJdGhpcy5jb2RlU3RyZWFtLnJlY29yZChsb2NhbFZhcmlhYmxl
QmluZGluZyk7CisJCQkJCQlsb2NhbFZhcmlhYmxlQmluZGluZy5yZWNvcmRJbml0aWFsaXphdGlv
blN0YXJ0UEMoMCk7CisJCQkJCQlsb2NhbFZhcmlhYmxlQmluZGluZy5yZWNvcmRJbml0aWFsaXph
dGlvbkVuZFBDKGNvZGVMZW5ndGgpOwogCQkJCQkJZnJhbWUucHV0TG9jYWwocmVzb2x2ZWRQb3Np
dGlvbiwKIAkJCQkJCQkJbmV3IFZlcmlmaWNhdGlvblR5cGVJbmZvKHR5cGVCaW5kaW5nKSk7CiAJ
CQkJCQlzd2l0Y2ggKHR5cGVCaW5kaW5nLmlkKSB7CkBAIC00OTk5LDYgKzUxMTYsOCBAQCBwdWJs
aWMgY2xhc3MgQ2xhc3NGaWxlIGltcGxlbWVudHMgVHlwZUNvbnN0YW50cywgVHlwZUlkcyB7CiAJ
CQl0aGlzLmJvb3RzdHJhcE1ldGhvZHMgPSBuZXcgQXJyYXlMaXN0KCk7CiAJCX0KIAkJdGhpcy5i
b290c3RyYXBNZXRob2RzLmFkZChleHByZXNzaW9uKTsKKwkJLy8gUmVjb3JkIHdoaWNoIGJvb3Rz
dHJhcCBtZXRob2Qgd2FzIGFzc2lnbmVkIHRvIHRoZSBleHByZXNzaW9uCisJCWV4cHJlc3Npb24u
Ym9vdHN0cmFwTWV0aG9kTnVtYmVyID0gdGhpcy5ib290c3RyYXBNZXRob2RzLnNpemUoKSAtIDE7
CiAJCXJldHVybiB0aGlzLmJvb3RzdHJhcE1ldGhvZHMuc2l6ZSgpIC0gMTsKIAl9CiAKZGlmZiAt
LWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRl
cm5hbC9jb21waWxlci9hc3QvRnVuY3Rpb25hbEV4cHJlc3Npb24uamF2YSBiL29yZy5lY2xpcHNl
LmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9hc3Qv
RnVuY3Rpb25hbEV4cHJlc3Npb24uamF2YQppbmRleCA2Y2MwOTJlLi41NzgyMjU4IDEwMDY0NAot
LS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJu
YWwvY29tcGlsZXIvYXN0L0Z1bmN0aW9uYWxFeHByZXNzaW9uLmphdmEKKysrIGIvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9GdW5jdGlvbmFsRXhwcmVzc2lvbi5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90
aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAxNCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4K
ICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhl
IEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBk
aXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE3LDYgKzE3LDggQEAKICAqICAg
ICBTdGVwaGFuIEhlcnJtYW5uIC0gQ29udHJpYnV0aW9uIGZvcgogICoJCQkJCQkJQnVnIDQwMDg3
NCAtIFsxLjhdW2NvbXBpbGVyXSBJbmZlcmVuY2UgaW5mcmFzdHJ1Y3R1cmUgc2hvdWxkIGV2b2x2
ZSB0byBtZWV0IEpMUzggMTgueCAoUGFydCBHIG9mIEpTUjMzNSBzcGVjKQogICoJCQkJCQkJQnVn
IDQyMzUwNCAtIFsxLjhdIEltcGxlbWVudCAiMTguNS4zIEZ1bmN0aW9uYWwgSW50ZXJmYWNlIFBh
cmFtZXRlcml6YXRpb24gSW5mZXJlbmNlIgorICogICAgIEFuZHkgQ2xlbWVudCAoR29QaXZvdGFs
LCBJbmMpIGFjbGVtZW50QGdvcGl2b3RhbC5jb20gLSBDb250cmlidXRpb25zIGZvcgorICogICAg
ICAgICAgICAgICAgICAgICAgICAgIEJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdl
bl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxl
ci5hc3Q7CiAKQEAgLTQ5LDYgKzUxLDcgQEAgcHVibGljIGFic3RyYWN0IGNsYXNzIEZ1bmN0aW9u
YWxFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7CiAJcHJvdGVjdGVkIENvbXBpbGF0aW9u
UmVzdWx0IGNvbXBpbGF0aW9uUmVzdWx0OwogCXB1YmxpYyBCbG9ja1Njb3BlIGVuY2xvc2luZ1Nj
b3BlOwogCXByb3RlY3RlZCBib29sZWFuIGVsbGlwc2lzQXJndW1lbnQ7CisJcHVibGljIGludCBi
b290c3RyYXBNZXRob2ROdW1iZXIgPSAtMTsKIAlwcm90ZWN0ZWQgc3RhdGljIElFcnJvckhhbmRs
aW5nUG9saWN5IHNpbGVudEVycm9ySGFuZGxpbmdQb2xpY3kgPSBEZWZhdWx0RXJyb3JIYW5kbGlu
Z1BvbGljaWVzLmlnbm9yZUFsbFByb2JsZW1zKCk7CiAKIAlwdWJsaWMgRnVuY3Rpb25hbEV4cHJl
c3Npb24oQ29tcGlsYXRpb25SZXN1bHQgY29tcGlsYXRpb25SZXN1bHQpIHsKZGlmZiAtLWdpdCBh
L29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9j
b21waWxlci9hc3QvTGFtYmRhRXhwcmVzc2lvbi5qYXZhIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUv
Y29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9MYW1iZGFFeHBy
ZXNzaW9uLmphdmEKaW5kZXggMDQ3ZTJiMi4uMzAwYTljYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlw
c2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2Fz
dC9MYW1iZGFFeHByZXNzaW9uLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGls
ZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2FzdC9MYW1iZGFFeHByZXNzaW9u
LmphdmEKQEAgLTEsNSArMSw1IEBACiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgotICogQ29weXJp
Z2h0IChjKSAyMDAwLCAyMDEzIElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJp
Z2h0IChjKSAyMDAwLCAyMDE0IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMjEsOSArMjEsMTQgQEAKICAqCQkJCQkJCUJ1ZyAz
OTIyMzggLSBbMS44XVtjb21waWxlcl1bbnVsbF0gRGV0ZWN0IHNlbWFudGljYWxseSBpbnZhbGlk
IG51bGwgdHlwZSBhbm5vdGF0aW9ucwogICoJCQkJCQkJQnVnIDQwMDg3NCAtIFsxLjhdW2NvbXBp
bGVyXSBJbmZlcmVuY2UgaW5mcmFzdHJ1Y3R1cmUgc2hvdWxkIGV2b2x2ZSB0byBtZWV0IEpMUzgg
MTgueCAoUGFydCBHIG9mIEpTUjMzNSBzcGVjKQogICoJCQkJCQkJQnVnIDQyMzUwNCAtIFsxLjhd
IEltcGxlbWVudCAiMTguNS4zIEZ1bmN0aW9uYWwgSW50ZXJmYWNlIFBhcmFtZXRlcml6YXRpb24g
SW5mZXJlbmNlIgorICogICAgIEFuZHkgQ2xlbWVudCAoR29QaXZvdGFsLCBJbmMpIGFjbGVtZW50
QGdvcGl2b3RhbC5jb20gLSBDb250cmlidXRpb25zIGZvcgorICogICAgICAgICAgICAgICAgICAg
ICAgICAgIEJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1
cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
CiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5hc3Q7CiAKK2ltcG9y
dCBqYXZhLnV0aWwuTGlua2VkSGFzaFNldDsKK2ltcG9ydCBqYXZhLnV0aWwuU2V0OworCiBpbXBv
cnQgb3JnLmVjbGlwc2UuamR0LmNvcmUuY29tcGlsZXIuQ2F0ZWdvcml6ZWRQcm9ibGVtOwogaW1w
b3J0IG9yZy5lY2xpcHNlLmpkdC5jb3JlLmNvbXBpbGVyLkNoYXJPcGVyYXRpb247CiBpbXBvcnQg
b3JnLmVjbGlwc2UuamR0LmNvcmUuY29tcGlsZXIuSVByb2JsZW07CkBAIC00Niw2ICs1MSw3IEBA
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9va3VwLkJsb2NrU2Nv
cGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmxvb2t1cC5DbGFz
c1Njb3BlOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXAu
RXh0cmFDb21waWxlck1vZGlmaWVyczsKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwu
Y29tcGlsZXIubG9va3VwLkluZmVyZW5jZUNvbnRleHQxODsKK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZHQuaW50ZXJuYWwuY29tcGlsZXIubG9va3VwLkludGVyc2VjdGlvbkNhc3RUeXBlQmluZGluZzsK
IGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9va3VwLkxvY2FsVmFy
aWFibGVCaW5kaW5nOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5s
b29rdXAuTG9va3VwRW52aXJvbm1lbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvbXBpbGVyLmxvb2t1cC5NZXRob2RCaW5kaW5nOwpAQCAtODMsOSArODksMTAgQEAgcHVibGlj
IGNsYXNzIExhbWJkYUV4cHJlc3Npb24gZXh0ZW5kcyBGdW5jdGlvbmFsRXhwcmVzc2lvbiBpbXBs
ZW1lbnRzIFJlZmVyZW5jZUMKIAlib29sZWFuIHZhbHVlQ29tcGF0aWJsZSA9IGZhbHNlOwogCXBy
aXZhdGUgYm9vbGVhbiBzaGFwZUFuYWx5c2lzQ29tcGxldGUgPSBmYWxzZTsKIAlib29sZWFuIHJl
dHVybnNWYWx1ZTsKKwlwdWJsaWMgYm9vbGVhbiBpc1NlcmlhbGl6YWJsZTsKIAlib29sZWFuIHJl
dHVybnNWb2lkOwogCXByaXZhdGUgTGFtYmRhRXhwcmVzc2lvbiBvcmlnaW5hbCA9IHRoaXM7Ci0J
cHJpdmF0ZSBTeW50aGV0aWNBcmd1bWVudEJpbmRpbmdbXSBvdXRlckxvY2FsVmFyaWFibGVzID0g
Tk9fU1lOVEhFVElDX0FSR1VNRU5UUzsKKwlwdWJsaWMgU3ludGhldGljQXJndW1lbnRCaW5kaW5n
W10gb3V0ZXJMb2NhbFZhcmlhYmxlcyA9IE5PX1NZTlRIRVRJQ19BUkdVTUVOVFM7CiAJcHJpdmF0
ZSBpbnQgb3V0ZXJMb2NhbFZhcmlhYmxlc1Nsb3RTaXplID0gMDsKIAlwdWJsaWMgYm9vbGVhbiBz
aG91bGRDYXB0dXJlSW5zdGFuY2UgPSBmYWxzZTsKIAlwcml2YXRlIGJvb2xlYW4gYXNzaXN0Tm9k
ZSA9IGZhbHNlOwpAQCAtMTU5LDcgKzE2NiwxMSBAQCBwdWJsaWMgY2xhc3MgTGFtYmRhRXhwcmVz
c2lvbiBleHRlbmRzIEZ1bmN0aW9uYWxFeHByZXNzaW9uIGltcGxlbWVudHMgUmVmZXJlbmNlQwog
CQkJY29kZVN0cmVhbS5nZW5lcmF0ZU91dGVyQWNjZXNzKHBhdGgsIHRoaXMsIGNhcHR1cmVkT3V0
ZXJMb2NhbCwgY3VycmVudFNjb3BlKTsKIAkJfQogCQlzaWduYXR1cmUuYXBwZW5kKCcpJyk7Ci0J
CXNpZ25hdHVyZS5hcHBlbmQodGhpcy5leHBlY3RlZFR5cGUuc2lnbmF0dXJlKCkpOworCQlpZiAo
dGhpcy5leHBlY3RlZFR5cGUgaW5zdGFuY2VvZiBJbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcp
IHsKKwkJCXNpZ25hdHVyZS5hcHBlbmQoKChJbnRlcnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcpdGhp
cy5leHBlY3RlZFR5cGUpLmdldFNBTVR5cGUoY3VycmVudFNjb3BlKS5zaWduYXR1cmUoKSk7CisJ
CX0gZWxzZSB7CisJCQlzaWduYXR1cmUuYXBwZW5kKHRoaXMuZXhwZWN0ZWRUeXBlLnNpZ25hdHVy
ZSgpKTsKKwkJfQogCQlpbnQgaW52b2tlRHluYW1pY051bWJlciA9IGNvZGVTdHJlYW0uY2xhc3NG
aWxlLnJlY29yZEJvb3RzdHJhcE1ldGhvZCh0aGlzKTsKIAkJY29kZVN0cmVhbS5pbnZva2VEeW5h
bWljKGludm9rZUR5bmFtaWNOdW1iZXIsICh0aGlzLnNob3VsZENhcHR1cmVJbnN0YW5jZSA/IDEg
OiAwKSArIHRoaXMub3V0ZXJMb2NhbFZhcmlhYmxlc1Nsb3RTaXplLCAxLCB0aGlzLmRlc2NyaXB0
b3Iuc2VsZWN0b3IsIHNpZ25hdHVyZS50b1N0cmluZygpLnRvQ2hhckFycmF5KCkpOwogCQlpZiAo
IXZhbHVlUmVxdWlyZWQpCkBAIC0zNjYsNiArMzc3LDE5IEBAIHB1YmxpYyBjbGFzcyBMYW1iZGFF
eHByZXNzaW9uIGV4dGVuZHMgRnVuY3Rpb25hbEV4cHJlc3Npb24gaW1wbGVtZW50cyBSZWZlcmVu
Y2VDCiAJCX0gZWxzZSB7CiAJCQl0aGlzLmJvZHkucmVzb2x2ZSh0aGlzLnNjb3BlKTsKIAkJfQor
CQkvLyBUT0RPIGV4cGVjdGVkVHlwZSBvciByZXNvbHZlZFR5cGUgb3IgZG9lcyBpdCBtYXR0ZXI/
CisJCWlmICh0aGlzLmV4cGVjdGVkVHlwZSBpbnN0YW5jZW9mIEludGVyc2VjdGlvbkNhc3RUeXBl
QmluZGluZykgeworCQkJUmVmZXJlbmNlQmluZGluZ1tdIGludGVyc2VjdGluZ1R5cGVzID0gICgo
SW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nKXRoaXMuZXhwZWN0ZWRUeXBlKS5pbnRlcnNlY3Rp
bmdUeXBlczsKKwkJCWZvciAoaW50IHQgPSAwLCBtYXggPSBpbnRlcnNlY3RpbmdUeXBlcy5sZW5n
dGg7IHQgPCBtYXg7IHQrKykgeworCQkJCWlmIChpbnRlcnNlY3RpbmdUeXBlc1t0XS5maW5kU3Vw
ZXJUeXBlT3JpZ2luYXRpbmdGcm9tKFR5cGVJZHMuVF9KYXZhSW9TZXJpYWxpemFibGUsIGZhbHNl
IC8qU2VyaWFsaXphYmxlIGlzIG5vdCBhIGNsYXNzKi8pICE9IG51bGwpIHsKKwkJCQkJdGhpcy5p
c1NlcmlhbGl6YWJsZSA9IHRydWU7CisJCQkJCWJyZWFrOworCQkJCX0KKwkJCX0KKwkJfSBlbHNl
IGlmICh0aGlzLmV4cGVjdGVkVHlwZSAhPSBudWxsICYmIAorCQkJCSAgIHRoaXMuZXhwZWN0ZWRU
eXBlLmZpbmRTdXBlclR5cGVPcmlnaW5hdGluZ0Zyb20oVHlwZUlkcy5UX0phdmFJb1NlcmlhbGl6
YWJsZSwgZmFsc2UgLypTZXJpYWxpemFibGUgaXMgbm90IGEgY2xhc3MqLykgIT0gbnVsbCkgewor
CQkJdGhpcy5pc1NlcmlhbGl6YWJsZSA9IHRydWU7CisJCX0KIAkJcmV0dXJuIHRoaXMucmVzb2x2
ZWRUeXBlOwogCX0KIApAQCAtMTA5Myw0ICsxMTE3LDI5IEBAIHB1YmxpYyBjbGFzcyBMYW1iZGFF
eHByZXNzaW9uIGV4dGVuZHMgRnVuY3Rpb25hbEV4cHJlc3Npb24gaW1wbGVtZW50cyBSZWZlcmVu
Y2VDCiAJcHVibGljIGludCBkaWFnbm9zdGljc1NvdXJjZUVuZCgpIHsKIAkJcmV0dXJuIHRoaXMu
Ym9keSBpbnN0YW5jZW9mIEJsb2NrID8gdGhpcy5hcnJvd1Bvc2l0aW9uIDogdGhpcy5zb3VyY2VF
bmQ7CiAJfQorCisJcHVibGljIFR5cGVCaW5kaW5nW10gZ2V0TWFya2VySW50ZXJmYWNlcygpIHsK
KwkJaWYgKHRoaXMuZXhwZWN0ZWRUeXBlIGluc3RhbmNlb2YgSW50ZXJzZWN0aW9uQ2FzdFR5cGVC
aW5kaW5nKSB7CisJCQlTZXQgbWFya2VyQmluZGluZ3MgPSBuZXcgTGlua2VkSGFzaFNldCgpOwor
CQkJVHlwZUJpbmRpbmdbXSBpbnRlcnNlY3Rpb25UeXBlcyA9ICgoSW50ZXJzZWN0aW9uQ2FzdFR5
cGVCaW5kaW5nKXRoaXMuZXhwZWN0ZWRUeXBlKS5pbnRlcnNlY3RpbmdUeXBlczsKKwkJCWZvciAo
aW50IGk9MCxtYXg9aW50ZXJzZWN0aW9uVHlwZXMubGVuZ3RoO2k8bWF4O2krKykgeworCQkJCVR5
cGVCaW5kaW5nIHR5cGVCaW5kaW5nID0gaW50ZXJzZWN0aW9uVHlwZXNbaV07CisJCQkJTWV0aG9k
QmluZGluZyBtZXRob2RCaW5kaW5nID0gdHlwZUJpbmRpbmcuZ2V0U2luZ2xlQWJzdHJhY3RNZXRo
b2QodGhpcy5zY29wZSwgZmFsc2UpOworCQkJCS8vIFdoeSBkb2Vzbid0IGdldFNpbmdsZUFic3Ry
YWN0TWV0aG9kIGRvIGFzIHRoZSBqYXZhZG9jIHNheXMsIGFuZCByZXR1cm4gbnVsbAorCQkJCS8v
IHdoZW4gaXQgaXMgbm90IGEgU0FNIHR5cGUKKwkJCQlpZiAoIShtZXRob2RCaW5kaW5nIGluc3Rh
bmNlb2YgUHJvYmxlbU1ldGhvZEJpbmRpbmcgJiYgKChQcm9ibGVtTWV0aG9kQmluZGluZyltZXRo
b2RCaW5kaW5nKS5wcm9ibGVtSWQoKT09UHJvYmxlbVJlYXNvbnMuTm9TdWNoU2luZ2xlQWJzdHJh
Y3RNZXRob2QpKSB7CisJCQkJCWNvbnRpbnVlOworCQkJCX0KKwkJCQlpZiAodHlwZUJpbmRpbmcu
aWQgPT0gVHlwZUlkcy5UX0phdmFJb1NlcmlhbGl6YWJsZSkgeworCQkJCQkvLyBTZXJpYWxpemFi
bGUgaXMgY2FwdHVyZWQgYXMgYSBiaXRmbGFnCisJCQkJCWNvbnRpbnVlOworCQkJCX0KKwkJCQlt
YXJrZXJCaW5kaW5ncy5hZGQodHlwZUJpbmRpbmcpOworCQkJfQorCQkJaWYgKG1hcmtlckJpbmRp
bmdzLnNpemUoKT4wKSB7CisJCQkJcmV0dXJuIChUeXBlQmluZGluZ1tdKW1hcmtlckJpbmRpbmdz
LnRvQXJyYXkobmV3IFR5cGVCaW5kaW5nW21hcmtlckJpbmRpbmdzLnNpemUoKV0pOworCQkJfQor
CQl9CisJCXJldHVybiBudWxsOworCX0KIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jbGFzc2ZtdC9D
bGFzc0ZpbGVDb25zdGFudHMuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jbGFzc2ZtdC9DbGFzc0ZpbGVDb25zdGFu
dHMuamF2YQppbmRleCBiOWZhMzk1Li5mNjIzYWQxIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY2xhc3Nm
bXQvQ2xhc3NGaWxlQ29uc3RhbnRzLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29t
cGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NsYXNzZm10L0NsYXNzRmls
ZUNvbnN0YW50cy5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioK
LSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4K
KyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4K
ICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhl
IEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBk
aXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE0LDYgKzE0LDggQEAKICAqICAg
ICBKZXNwZXIgUyBNb2xsZXIgLSBDb250cmlidXRpb25zIGZvcgogICoJCQkJCQkJQnVnIDQwNTA2
NiAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgY29kZSBnZW5lcmF0aW9uIGlu
ZnJhc3RydWN0dXJlIGZvciBKU1IzMzUgICAgICAgICAgICAgCiAgKgkJCQkJCQlCdWcgNDA2OTgy
IC0gWzEuOF1bY29tcGlsZXJdIEdlbmVyYXRpb24gb2YgTWV0aG9kUGFyYW1ldGVycyBBdHRyaWJ1
dGUgaW4gY2xhc3NmaWxlCisgKiAgICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNs
ZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAg
ICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1l
bnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmNsYXNzZm10
OwogCkBAIC0xNTUsNCArMTU3LDkgQEAgcHVibGljIGludGVyZmFjZSBDbGFzc0ZpbGVDb25zdGFu
dHMgewogCWludCBBVFRSX1NUQUNLX01BUCA9IDB4MTA7IC8vIFN0YWNrIG1hcCBhdHRyaWJ1dGU6
IGNsZGMKIAlpbnQgQVRUUl9UWVBFX0FOTk9UQVRJT04gPSAweDIwOyAvLyB0eXBlIGFubm90YXRp
b24gYXR0cmlidXRlIChqc3IgMzA4KQogCWludCBBVFRSX01FVEhPRF9QQVJBTUVURVJTID0gMHg0
MDsgLy8gbWV0aG9kIHBhcmFtZXRlcnMgYXR0cmlidXRlIChqZXAgMTE4KQorCisJLy8gU2VlIGph
dmEubGFuZy5pbnZva2UuTGFtYmRhTWV0YWZhY3RvcnkgY29uc3RhbnRzIC0gb3B0aW9uIGJpdGZs
YWdzIHdoZW4gY2FsbGluZyBhbHRNZXRhRmFjdG9yeSgpCisJaW50IEZMQUdfU0VSSUFMSVpBQkxF
ID0gMHgwMTsKKwlpbnQgRkxBR19NQVJLRVJTID0gMHgwMjsKKwlpbnQgRkxBR19CUklER0VTID0g
MHgwNDsKIH0KZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9l
Y2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YSBiL29y
Zy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21w
aWxlci9jb2RlZ2VuL0NvZGVTdHJlYW0uamF2YQppbmRleCAyZjhmOGI3Li41NjM0OTI1IDEwMDY0
NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db2RlU3RyZWFtLmphdmEKKysrIGIvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2NvZGVn
ZW4vQ29kZVN0cmVhbS5qYXZhCkBAIC0xLDUgKzEsNSBAQAogLyoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFu
eWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhp
cyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE3LDE0ICsxNywyMiBAQAog
ICoJCQkJCQkJCWJ1ZyA0MjE1NDMgLSBbMS44XVtjb21waWxlcl0gQ29tcGlsZXIgZmFpbHMgdG8g
cmVjb2duaXplIGRlZmF1bHQgbWV0aG9kIGJlaW5nIHR1cm5lZCBpbnRvIGFic3RyYWN0IGJ5IHN1
YnR5dHBlCiAgKiAgICAgSmVzcGVyIFMgTW9sbGVyIC0gQ29udHJpYnV0aW9ucyBmb3IKICAqCQkJ
CQkJCUJ1ZyA0MDUwNjYgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IGNvZGUg
Z2VuZXJhdGlvbiBpbmZyYXN0cnVjdHVyZSBmb3IgSlNSMzM1ICAgICAgICAKLSAqICAgICAgICBB
bmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwuY29tIC0gQ29u
dHJpYnV0aW9ucyBmb3IKKyAqICAgICBBbmR5IENsZW1lbnQgKEdvUGl2b3RhbCwgSW5jKSBhY2xl
bWVudEBnb3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IKICAqICAgICAgICAgICAgICAg
ICAgICAgICAgICBCdWcgMzgzNjI0IC0gWzEuOF1bY29tcGlsZXJdIFJldml2ZSBjb2RlIGdlbmVy
YXRpb24gc3VwcG9ydCBmb3IgdHlwZSBhbm5vdGF0aW9ucyAoZnJvbSBPbGl2aWVyJ3Mgd29yaykK
ICAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDA5MjQ3IC0gWzEuOF1bY29tcGlsZXJd
IFZlcmlmeSBlcnJvciB3aXRoIGNvZGUgYWxsb2NhdGluZyBtdWx0aWRpbWVuc2lvbmFsIGFycmF5
CiAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwOTIzNiAtIFsxLjhdW2NvbXBpbGVy
XSBUeXBlIGFubm90YXRpb25zIG9uIGludGVyc2VjdGlvbiBjYXN0IHR5cGVzIGRyb3BwZWQgYnkg
Y29kZSBnZW5lcmF0b3IKICAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDA5MjUwIC0g
WzEuOF1bY29tcGlsZXJdIFZhcmlvdXMgbG9vc2UgZW5kcyBpbiAzMDggY29kZSBnZW5lcmF0aW9u
CisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVy
XVtjb2RlZ2VuXSBJbXBsZW1lbnQgc3VwcG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAg
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFs
LmNvbXBpbGVyLmNvZGVnZW47CiAKK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OworaW1wb3J0
IGphdmEudXRpbC5JdGVyYXRvcjsKK2ltcG9ydCBqYXZhLnV0aWwuTGlua2VkSGFzaE1hcDsKK2lt
cG9ydCBqYXZhLnV0aWwuTGlzdDsKK2ltcG9ydCBqYXZhLnV0aWwuTWFwOworaW1wb3J0IGphdmEu
dXRpbC5TZXQ7CisKIGltcG9ydCBvcmcuZWNsaXBzZS5qZHQuY29yZS5jb21waWxlci5DaGFyT3Bl
cmF0aW9uOwogaW1wb3J0IG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5DbGFzc0Zp
bGU7CiBpbXBvcnQgb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLkNvbXBpbGF0aW9u
UmVzdWx0OwpAQCAtMjUwNyw2ICsyNTE1LDI2OCBAQCBwdWJsaWMgdm9pZCBnZW5lcmF0ZVN5bnRo
ZXRpY0JvZHlGb3JFbnVtVmFsdWVPZihTeW50aGV0aWNNZXRob2RCaW5kaW5nIG1ldGhvZEJpbgog
CWFyZXR1cm4oKTsKIH0KIAorLy8gVE9ETyB3aGF0IGFib3V0IGJsb3dpbmcgdGhlIG1ldGhvZCBs
aW1pdD8gSWdub3JlIGZvciBub3c/CisvKioKKyAqIFRoaXMgaXMgaW50ZW5kZWQgdG8gbWF0Y2gg
d2hhdCBqYXZhYyBnZW5lcmF0ZXMuIEZpcnN0IHRoZXJlIGlzIGEgc3dpdGNoIHN0YXRlbWVudCBv
biB0aGUgaGFzaGNvZGUgb2YgdGhlIGxhbWJkYSBtZXRob2QgbmFtZSAtIGJhc2VkIG9uIHRoYXQK
KyAqIGFuIGlkIGlzIGNvbXB1dGVkICgwLi5OKS4gQW4gdW5yZWNvZ25pemVkIGhhc2ggZ2V0cyB0
aGUgaWQgLTEuIFRoZW4gYSBzZWNvbmQgc3dpdGNoIGlzIG9uIHRoZSBpZCBhbmQgZWFjaCBjYXNl
IGhlcmUgY2hlY2tzIGFsbCB0aGUgcHJvcGVydGllcworICogb2YgdGhlIHNlcmlhbGl6ZWQgbGFt
YmRhLiBJZiB0aGV5IGFsbCBjaGVja291dCBPSyBhbiBpbnZva2VkeW5hbWljIGNhbGwgdG8gYSBi
b290c3RyYXAgbWV0aG9kIHRhcmdldGluZyB0aGUgYWx0TWV0YWZhY3RvcnkuIElmIGFueSBvZiB0
aGUgdGVzdHMKKyAqIGZhaWwgYW4gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlzIHRocm93bi4g
VGhpcyBleGNlcHRpb24gaXMgbm90IHR5cGljYWxseSBzZWVuIGJ5IHRoZSAndXNlcicsIGluc3Rl
YWQgdGhleSBzZWVtIHRvIHNlZSBhIE5QRSB3aGVuCisgKiB0aGUgbGFtYmRhIGRvZXMgbm90IGRl
c2VyaWFsaXplIHByb3Blcmx5LgorICovCitwdWJsaWMgdm9pZCBnZW5lcmF0ZVN5bnRoZXRpY0Jv
ZHlGb3JEZXNlcmlhbGl6ZUxhbWJkYShTeW50aGV0aWNNZXRob2RCaW5kaW5nIG1ldGhvZEJpbmRp
bmcsU3ludGhldGljTWV0aG9kQmluZGluZ1tdIHN5bnRoZXRpY01ldGhvZEJpbmRpbmdzKSB7CisJ
aW5pdGlhbGl6ZU1heExvY2FscyhtZXRob2RCaW5kaW5nKTsKKwkKKwkvLyBDb21wdXRlIHRoZSBs
aXN0IG9mIHRoZSBzZXJpYWxpemFibGUgbGFtYmRhcyBmcm9tIHRoZSBmdWxsIHNldCBvZiBzeW50
aGV0aWMgbWV0aG9kIGJpbmRpbmdzCisJLy8gQWxzbyBjb21wdXRlIGEgbWFwIG9mIGhhc2hjb2Rl
cyB0byBhIGxpc3Qgb2Ygc2VyaWFsaXphYmxlIGxhbWJkYXMgd2hvc2UgbmFtZXMgc2hhcmUgYSBo
YXNoY29kZSAKKwlMaXN0IHN5bnRoZXRpY3NGb3JTZXJpYWxpemFibGVMYW1iZGFzID0gbmV3IEFy
cmF5TGlzdCgpOwkKKwlNYXAgaGFzaGNvZGVzVG9MYW1iZGFzID0gbmV3IExpbmtlZEhhc2hNYXAo
KTsKKwlmb3IgKGludCBpPTAsbWF4PXN5bnRoZXRpY01ldGhvZEJpbmRpbmdzLmxlbmd0aDtpPG1h
eDtpKyspIHsKKwkJU3ludGhldGljTWV0aG9kQmluZGluZyBzeW50aGV0aWNNZXRob2RCaW5kaW5n
ID0gc3ludGhldGljTWV0aG9kQmluZGluZ3NbaV07CisJCWlmIChzeW50aGV0aWNNZXRob2RCaW5k
aW5nLmxhbWJkYSE9bnVsbCAmJiBzeW50aGV0aWNNZXRob2RCaW5kaW5nLmxhbWJkYS5pc1Nlcmlh
bGl6YWJsZSkgeworCQkJc3ludGhldGljc0ZvclNlcmlhbGl6YWJsZUxhbWJkYXMuYWRkKHN5bnRo
ZXRpY01ldGhvZEJpbmRpbmcpOworCQkJLy8gVE9ETyBjYW4gSSB1c2UgPiBKYXZhIDEuNCBmZWF0
dXJlcyBoZXJlPworCQkJSW50ZWdlciBoYXNoY29kZSA9IG5ldyBJbnRlZ2VyKG5ldyBTdHJpbmco
c3ludGhldGljTWV0aG9kQmluZGluZy5zZWxlY3RvcikuaGFzaENvZGUoKSk7CisJCQlMaXN0IGxh
bWJkYXNGb3JUaGlzSGFzaGNvZGUgPSAoTGlzdCloYXNoY29kZXNUb0xhbWJkYXMuZ2V0KGhhc2hj
b2RlKTsKKwkJCWlmIChoYXNoY29kZXNUb0xhbWJkYXMuZ2V0KGhhc2hjb2RlKT09bnVsbCkgewor
CQkJCWxhbWJkYXNGb3JUaGlzSGFzaGNvZGUgPSBuZXcgQXJyYXlMaXN0KCk7CisJCQkJaGFzaGNv
ZGVzVG9MYW1iZGFzLnB1dChoYXNoY29kZSxsYW1iZGFzRm9yVGhpc0hhc2hjb2RlKTsKKwkJCX0K
KwkJCWxhbWJkYXNGb3JUaGlzSGFzaGNvZGUuYWRkKHN5bnRoZXRpY01ldGhvZEJpbmRpbmcpOwor
CQl9CisJfQorCWludCBsYW1iZGFDb3VudCA9IHN5bnRoZXRpY3NGb3JTZXJpYWxpemFibGVMYW1i
ZGFzLnNpemUoKTsKKwlDbGFzc1Njb3BlIHNjb3BlID0gKChTb3VyY2VUeXBlQmluZGluZyltZXRo
b2RCaW5kaW5nLmRlY2xhcmluZ0NsYXNzKS5zY29wZTsKKwkKKwkKKwkvLyBHZW5lcmF0ZSB0aGUg
Zmlyc3Qgc3dpdGNoLCBvbiBtZXRob2QgbmFtZSBoYXNoY29kZQorCWFsb2FkXzAoKTsKKwlpbnZv
a2UoT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5n
SW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIENvbnN0YW50UG9vbC5HZXRJ
bXBsTWV0aG9kTmFtZSwgQ29uc3RhbnRQb29sLkdldEltcGxNZXRob2ROYW1lU2lnbmF0dXJlKTsK
Kwlhc3RvcmVfMSgpOworCUxvY2FsVmFyaWFibGVCaW5kaW5nIGx2YjEgPSBuZXcgTG9jYWxWYXJp
YWJsZUJpbmRpbmcoImhhc2hjb2RlIi50b0NoYXJBcnJheSgpLHNjb3BlLmdldEphdmFMYW5nU3Ry
aW5nKCksMCxmYWxzZSk7IC8vJE5PTi1OTFMtMSQKKwlsdmIxLnJlc29sdmVkUG9zaXRpb24gPSAx
OworCWFkZFZhcmlhYmxlKGx2YjEpOworCWljb25zdF9tMSgpOworCWlzdG9yZV8yKCk7CisJTG9j
YWxWYXJpYWJsZUJpbmRpbmcgbHZiMiA9IG5ldyBMb2NhbFZhcmlhYmxlQmluZGluZygiaWQiLnRv
Q2hhckFycmF5KCksVHlwZUJpbmRpbmcuSU5ULDAsZmFsc2UpOyAvLyROT04tTkxTLTEkCisJbHZi
Mi5yZXNvbHZlZFBvc2l0aW9uID0gMjsKKwlhZGRWYXJpYWJsZShsdmIyKTsKKwlhbG9hZF8xKCk7
CisJaW52b2tlU3RyaW5nSGFzaENvZGUoKTsKKwkKKwlCcmFuY2hMYWJlbCBsYWJlbCA9IG5ldyBC
cmFuY2hMYWJlbCh0aGlzKTsKKwlDYXNlTGFiZWwgZGVmYXVsdExhYmVsID0gbmV3IENhc2VMYWJl
bCh0aGlzKTsKKwlpbnQgbnVtYmVyT2ZIYXNoY29kZXMgPSBoYXNoY29kZXNUb0xhbWJkYXMuc2l6
ZSgpOworCUNhc2VMYWJlbFtdIHN3aXRjaExhYmVscyA9IG5ldyBDYXNlTGFiZWxbbnVtYmVyT2ZI
YXNoY29kZXNdOworCWludFtdIGtleXMgPSBuZXcgaW50W251bWJlck9mSGFzaGNvZGVzXTsKKwlp
bnRbXSBzb3J0ZWRJbmRleGVzID0gbmV3IGludFtudW1iZXJPZkhhc2hjb2Rlc107CisJU2V0IGhh
c2hjb2RlcyA9IGhhc2hjb2Rlc1RvTGFtYmRhcy5rZXlTZXQoKTsKKwlJdGVyYXRvciBoYXNoY29k
ZUl0ZXJhdG9yID0gaGFzaGNvZGVzLml0ZXJhdG9yKCk7CisJaW50IGluZGV4PTA7CisJd2hpbGUg
KGhhc2hjb2RlSXRlcmF0b3IuaGFzTmV4dCgpKSB7CisJCUludGVnZXIgaGFzaGNvZGUgPSAoSW50
ZWdlciloYXNoY29kZUl0ZXJhdG9yLm5leHQoKTsKKwkJc3dpdGNoTGFiZWxzW2luZGV4XSA9IG5l
dyBDYXNlTGFiZWwodGhpcyk7CisJCWtleXNbaW5kZXhdID0gaGFzaGNvZGUuaW50VmFsdWUoKTsK
KwkJc29ydGVkSW5kZXhlc1tpbmRleF0gPSBpbmRleDsKKwkJaW5kZXgrKzsKKwl9CisJaW50W10g
bG9jYWxLZXlzQ29weTsKKwlTeXN0ZW0uYXJyYXljb3B5KGtleXMsMCwobG9jYWxLZXlzQ29weSA9
IG5ldyBpbnRbbnVtYmVyT2ZIYXNoY29kZXNdKSwwLG51bWJlck9mSGFzaGNvZGVzKTsKKwlzb3J0
KGxvY2FsS2V5c0NvcHksIDAsIG51bWJlck9mSGFzaGNvZGVzLTEsIHNvcnRlZEluZGV4ZXMpOwor
CS8vIFRPRE8gbmVlZCB0byB1c2UgYSB0YWJsZXN3aXRjaCBhdCBzb21lIHNpemUgdGhyZXNob2xk
PworCWxvb2t1cHN3aXRjaChkZWZhdWx0TGFiZWwsIGtleXMsIHNvcnRlZEluZGV4ZXMsIHN3aXRj
aExhYmVscyk7CisJLy8gVE9ETyBjb3BlIHdpdGggbXVsdGlwbGUgbmFtZXMgdGhhdCBzaGFyZSB0
aGUgc2FtZSBoYXNoY29kZQkKKwloYXNoY29kZUl0ZXJhdG9yID0gaGFzaGNvZGVzLml0ZXJhdG9y
KCk7CisJaW5kZXggPSAwOworCXdoaWxlIChoYXNoY29kZUl0ZXJhdG9yLmhhc05leHQoKSkgewor
CQlJbnRlZ2VyIGhhc2hjb2RlID0gKEludGVnZXIpaGFzaGNvZGVJdGVyYXRvci5uZXh0KCk7CisJ
CUxpc3QgbGFtYmRhcyA9IChMaXN0KWhhc2hjb2Rlc1RvTGFtYmRhcy5nZXQoaGFzaGNvZGUpOwor
CQlzd2l0Y2hMYWJlbHNbaW5kZXhdLnBsYWNlKCk7CisJCUJyYW5jaExhYmVsIG5leHRPbmUgPSBu
ZXcgQnJhbmNoTGFiZWwodGhpcyk7CisJCS8vIExvb3AgdGhyb3VnaCBhbGwgbGFtYmRhcyB0aGF0
IHNoYXJlIHRoZSBzYW1lIGhhc2hjb2RlCisJCWZvciAoaW50IGo9MCxtYXg9bGFtYmRhcy5zaXpl
KCk7ajxtYXg7aisrKSB7CisJCQlTeW50aGV0aWNNZXRob2RCaW5kaW5nIHN5bnRoZXRpY01ldGhv
ZEJpbmRpbmcgPSAoU3ludGhldGljTWV0aG9kQmluZGluZylsYW1iZGFzLmdldChqKTsKKwkJCWFs
b2FkXzEoKTsKKwkJCWxkYyhuZXcgU3RyaW5nKHN5bnRoZXRpY01ldGhvZEJpbmRpbmcuc2VsZWN0
b3IpKTsKKwkJCWludm9rZVN0cmluZ0VxdWFscygpOworCQkJaWZlcShuZXh0T25lKTsKKwkJCWxv
YWRJbnQoaW5kZXgrKyk7CisJCQlpc3RvcmVfMigpOworCQkJZ290b18obGFiZWwpOworCQkJbmV4
dE9uZS5wbGFjZSgpOworCQkJbmV4dE9uZSA9IG5ldyBCcmFuY2hMYWJlbCh0aGlzKTsKKwkJfQor
CQlnb3RvXyhsYWJlbCk7CisJfQorCWRlZmF1bHRMYWJlbC5wbGFjZSgpOworCWxhYmVsLnBsYWNl
KCk7CisJCisJLy8gU2Vjb25kIGJsb2NrIGlzIHN3aXRjaGluZyBvbiB0aGUgbGFtYmRhIGlkLCAt
MSBpcyB0aGUgZXJyb3IgKHVucmVjb2duaXplZCkgY2FzZQorCXN3aXRjaExhYmVscyA9IG5ldyBD
YXNlTGFiZWxbbGFtYmRhQ291bnRdOworCWtleXMgPSBuZXcgaW50W2xhbWJkYUNvdW50XTsKKwlz
b3J0ZWRJbmRleGVzID0gbmV3IGludFtsYW1iZGFDb3VudF07CisJQnJhbmNoTGFiZWwgZXJyb3JM
YWJlbCA9IG5ldyBCcmFuY2hMYWJlbCh0aGlzKTsKKwlkZWZhdWx0TGFiZWwgPSBuZXcgQ2FzZUxh
YmVsKHRoaXMpOworCWlsb2FkXzIoKTsKKwlmb3IgKGludCBqPTA7ajxsYW1iZGFDb3VudDtqKysp
IHsKKwkJc3dpdGNoTGFiZWxzW2pdID0gbmV3IENhc2VMYWJlbCh0aGlzKTsKKwkJa2V5c1tqXSA9
IGo7CisJCXNvcnRlZEluZGV4ZXNbal0gPSBqOworCX0KKwlTeXN0ZW0uYXJyYXljb3B5KGtleXMs
MCwobG9jYWxLZXlzQ29weSA9IG5ldyBpbnRbbGFtYmRhQ291bnRdKSwwLGxhbWJkYUNvdW50KTsK
KwkvLyBUT0RPIG5vIG5lZWQgdG8gc29ydCBoZXJlPyBUaGV5IHNob3VsZCBhbGwgYmUgaW4gb3Jk
ZXIKKwlzb3J0KGxvY2FsS2V5c0NvcHksIDAsIGxhbWJkYUNvdW50LTEsIHNvcnRlZEluZGV4ZXMp
OworCS8vIFRPRE8gbmVlZCB0byB1c2UgYSB0YWJsZXN3aXRjaCBhdCBzb21lIHNpemUgdGhyZXNo
b2xkPworCWxvb2t1cHN3aXRjaChkZWZhdWx0TGFiZWwsIGtleXMsIHNvcnRlZEluZGV4ZXMsIHN3
aXRjaExhYmVscyk7CisJZm9yIChpbnQgaT0wO2k8bGFtYmRhQ291bnQ7aSsrKSB7CisJCVN5bnRo
ZXRpY01ldGhvZEJpbmRpbmcgc3ludGhldGljTWV0aG9kQmluZGluZyA9IChTeW50aGV0aWNNZXRo
b2RCaW5kaW5nKXN5bnRoZXRpY3NGb3JTZXJpYWxpemFibGVMYW1iZGFzLmdldChpKTsKKwkJc3dp
dGNoTGFiZWxzW2ldLnBsYWNlKCk7CisJCQorCQkvLyBDb21wYXJlIEltcGxNZXRob2RLaW5kCisJ
CWFsb2FkXzAoKTsKKwkJTGFtYmRhRXhwcmVzc2lvbiBsYW1iZGFFeCA9IHN5bnRoZXRpY01ldGhv
ZEJpbmRpbmcubGFtYmRhOworCQlNZXRob2RCaW5kaW5nIG1iID0gbGFtYmRhRXguYmluZGluZzsK
KwkJaW52b2tlKE9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5K
YXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGFDb25zdGFudFBvb2xOYW1lLCAKKwkJCQlDb25z
dGFudFBvb2wuR2V0SW1wbE1ldGhvZEtpbmQsIENvbnN0YW50UG9vbC5HZXRJbXBsTWV0aG9kS2lu
ZFNpZ25hdHVyZSk7CisJCWJ5dGUgbWV0aG9kS2luZCA9IDA7CisJCWlmIChtYi5pc1N0YXRpYygp
KSB7CisJCQltZXRob2RLaW5kID0gQ2xhc3NGaWxlQ29uc3RhbnRzLk1ldGhvZEhhbmRsZVJlZktp
bmRJbnZva2VTdGF0aWM7CisJCX0gZWxzZSBpZiAobWIuaXNQcml2YXRlKCkpIHsKKwkJCW1ldGhv
ZEtpbmQgPSBDbGFzc0ZpbGVDb25zdGFudHMuTWV0aG9kSGFuZGxlUmVmS2luZEludm9rZVNwZWNp
YWw7CisJCX0gZWxzZSB7CisJCQltZXRob2RLaW5kID0gQ2xhc3NGaWxlQ29uc3RhbnRzLk1ldGhv
ZEhhbmRsZVJlZktpbmRJbnZva2VWaXJ0dWFsOworCQl9CisJCWJpcHVzaChtZXRob2RLaW5kKTsv
LyBUT0RPIHNlZSB0YWJsZSBiZWxvdworCQlpZl9pY21wbmUoZXJyb3JMYWJlbCk7CisKKwkJLy8g
Q29tcGFyZSBGdW5jdGlvbmFsSW50ZXJmYWNlQ2xhc3MKKwkJYWxvYWRfMCgpOworCQlpbnZva2Uo
T3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5nSW52
b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIAorCQkJCUNvbnN0YW50UG9vbC5H
ZXRGdW5jdGlvbmFsSW50ZXJmYWNlQ2xhc3MsIENvbnN0YW50UG9vbC5HZXRGdW5jdGlvbmFsSW50
ZXJmYWNlQ2xhc3NTaWduYXR1cmUpOworCQlsZGMobmV3IFN0cmluZyhDaGFyT3BlcmF0aW9uLmNv
bmNhdFdpdGgobGFtYmRhRXguZGVzY3JpcHRvci5kZWNsYXJpbmdDbGFzcy5jb21wb3VuZE5hbWUs
Jy8nKSkpOyAvLyBlLmcuICJjb20vZm9vL1gkRm9vIgorCQlpbnZva2VPYmplY3RFcXVhbHMoKTsK
KwkJaWZlcShlcnJvckxhYmVsKTsKKwkJCisJCS8vIENvbXBhcmUgRnVuY3Rpb25hbEludGVyZmFj
ZU1ldGhvZE5hbWUKKwkJYWxvYWRfMCgpOworCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmly
dHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNv
bnN0YW50UG9vbE5hbWUsIAorCQkJCUNvbnN0YW50UG9vbC5HZXRGdW5jdGlvbmFsSW50ZXJmYWNl
TWV0aG9kTmFtZSwgQ29uc3RhbnRQb29sLkdldEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2ROYW1l
U2lnbmF0dXJlKTsKKwkJbGRjKG5ldyBTdHJpbmcobGFtYmRhRXguZGVzY3JpcHRvci5zZWxlY3Rv
cikpOyAvLyBlLmcuICJtIgorCQlpbnZva2VPYmplY3RFcXVhbHMoKTsKKwkJaWZlcShlcnJvckxh
YmVsKTsKKworCQkvLyBDb21wYXJlIEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmUK
KwkJYWxvYWRfMCgpOworCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwg
Q29uc3RhbnRQb29sLkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5h
bWUsIAorCQkJCUNvbnN0YW50UG9vbC5HZXRGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kU2lnbmF0
dXJlLCBDb25zdGFudFBvb2wuR2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZFNpZ25hdHVyZVNp
Z25hdHVyZSk7CisJCWxkYyhuZXcgU3RyaW5nKGxhbWJkYUV4LmRlc2NyaXB0b3Iub3JpZ2luYWwo
KS5zaWduYXR1cmUoKSkpOyAvLyBlLmcgIigpSSIKKwkJaW52b2tlT2JqZWN0RXF1YWxzKCk7CisJ
CWlmZXEoZXJyb3JMYWJlbCk7CisKKwkJLy8gQ29tcGFyZSBJbXBsQ2xhc3MKKwkJYWxvYWRfMCgp
OworCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29s
LkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUsIAorCQkJCUNv
bnN0YW50UG9vbC5HZXRJbXBsQ2xhc3MsIENvbnN0YW50UG9vbC5HZXRJbXBsQ2xhc3NTaWduYXR1
cmUpOworCQlsZGMobmV3IFN0cmluZyhDaGFyT3BlcmF0aW9uLmNvbmNhdFdpdGgobWIuZGVjbGFy
aW5nQ2xhc3MuY29tcG91bmROYW1lLCcvJykpKTsgLy8gZS5nLiAiY29tL2Zvby9YIgorCQlpbnZv
a2VPYmplY3RFcXVhbHMoKTsKKwkJaWZlcShlcnJvckxhYmVsKTsKKworCQkvLyBDb21wYXJlIElt
cGxNZXRob2RTaWduYXR1cmUKKwkJYWxvYWRfMCgpOworCQlpbnZva2UoT3Bjb2Rlcy5PUENfaW52
b2tldmlydHVhbCwgMSwgMSwgQ29uc3RhbnRQb29sLkphdmFMYW5nSW52b2tlU2VyaWFsaXplZExh
bWJkYUNvbnN0YW50UG9vbE5hbWUsIAorCQkJCUNvbnN0YW50UG9vbC5HZXRJbXBsTWV0aG9kU2ln
bmF0dXJlLCBDb25zdGFudFBvb2wuR2V0SW1wbE1ldGhvZFNpZ25hdHVyZVNpZ25hdHVyZSk7CisJ
CWxkYyhuZXcgU3RyaW5nKG1iLnNpZ25hdHVyZSgpKSk7IC8vIGUuZy4gIihJKUkiCisJCWludm9r
ZU9iamVjdEVxdWFscygpOworCQlpZmVxKGVycm9yTGFiZWwpOworCisJCS8vIENhcHR1cmVkIGFy
Z3VtZW50cworCQlTdHJpbmdCdWZmZXIgc2lnID0gbmV3IFN0cmluZ0J1ZmZlcigiKCIpOyAvLyRO
T04tTkxTLTEkCisJCWluZGV4ID0gMDsKKwkJaWYgKGxhbWJkYUV4LnNob3VsZENhcHR1cmVJbnN0
YW5jZSkgeworCQkJYWxvYWRfMCgpOworCQkJbG9hZEludChpbmRleCsrKTsKKwkJCWludm9rZShP
cGNvZGVzLk9QQ19pbnZva2V2aXJ0dWFsLCAxLCAxLCBDb25zdGFudFBvb2wuSmF2YUxhbmdJbnZv
a2VTZXJpYWxpemVkTGFtYmRhQ29uc3RhbnRQb29sTmFtZSwgCisJCQkJCUNvbnN0YW50UG9vbC5H
ZXRDYXB0dXJlZEFyZywgQ29uc3RhbnRQb29sLkdldENhcHR1cmVkQXJnU2lnbmF0dXJlKTsKKwkJ
CWNoZWNrY2FzdChtYi5kZWNsYXJpbmdDbGFzcyk7CisJCQlzaWcuYXBwZW5kKG1iLmRlY2xhcmlu
Z0NsYXNzLnNpZ25hdHVyZSgpKTsKKwkJfQorCQkKKwkJU3ludGhldGljQXJndW1lbnRCaW5kaW5n
W10gb3V0ZXJMb2NhbFZhcmlhYmxlcyA9IGxhbWJkYUV4Lm91dGVyTG9jYWxWYXJpYWJsZXM7CisJ
CWZvciAoaW50IHA9MCxtYXg9b3V0ZXJMb2NhbFZhcmlhYmxlcy5sZW5ndGg7cDxtYXg7cCsrKSB7
CisJCQlhbG9hZF8wKCk7CisJCQlsb2FkSW50KHApOworCQkJaW52b2tlKE9wY29kZXMuT1BDX2lu
dm9rZXZpcnR1YWwsIDEsIDEsIENvbnN0YW50UG9vbC5KYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRM
YW1iZGFDb25zdGFudFBvb2xOYW1lLCAKKwkJCQkJQ29uc3RhbnRQb29sLkdldENhcHR1cmVkQXJn
LCBDb25zdGFudFBvb2wuR2V0Q2FwdHVyZWRBcmdTaWduYXR1cmUpOworCQkJVHlwZUJpbmRpbmcg
dmFyVHlwZSA9IG91dGVyTG9jYWxWYXJpYWJsZXNbcF0udHlwZTsKKwkJCWlmICh2YXJUeXBlLmlz
QmFzZVR5cGUoKSkgeworCQkJCWNoZWNrY2FzdChzY29wZS5ib3hpbmcodmFyVHlwZSkpOworCQkJ
CWdlbmVyYXRlVW5ib3hpbmdDb252ZXJzaW9uKHZhclR5cGUuaWQpOworCQkJCWlmICh2YXJUeXBl
LmlkID09IFR5cGVJZHMuVF9KYXZhTGFuZ0xvbmcgfHwgdmFyVHlwZS5pZCA9PSBUeXBlSWRzLlRf
SmF2YUxhbmdEb3VibGUpIHsKKwkJCQkJaW5kZXgrKzsKKwkJCQl9CisJCQl9IGVsc2UgeworCQkJ
CWNoZWNrY2FzdCh2YXJUeXBlKTsKKwkJCX0KKwkJCWluZGV4Kys7CisJCQlzaWcuYXBwZW5kKHZh
clR5cGUuc2lnbmF0dXJlKCkpOworCQl9CisJCXNpZy5hcHBlbmQoIikiKTsgLy8kTk9OLU5MUy0x
JAorCQlpZiAobGFtYmRhRXgucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgSW50ZXJzZWN0aW9uQ2Fz
dFR5cGVCaW5kaW5nKSB7CisJCQlzaWcuYXBwZW5kKCgoSW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5k
aW5nKWxhbWJkYUV4LnJlc29sdmVkVHlwZSkuZ2V0U0FNVHlwZShzY29wZSkuc2lnbmF0dXJlKCkp
OworCQl9IGVsc2UgeworCQkJc2lnLmFwcGVuZChsYW1iZGFFeC5yZXNvbHZlZFR5cGUuc2lnbmF0
dXJlKCkpOworCQl9CisJCS8vIEV4YW1wbGU6IGludm9rZUR5bmFtaWMoMCwgMCwgMSwgIm0iLnRv
Q2hhckFycmF5KCksICIoKUxjb20vZm9vL1gkRm9vOyIudG9DaGFyQXJyYXkoKSk7CisJCWludm9r
ZUR5bmFtaWMobGFtYmRhRXguYm9vdHN0cmFwTWV0aG9kTnVtYmVyLCBpbmRleCwgMSwgbGFtYmRh
RXguZGVzY3JpcHRvci5zZWxlY3Rvciwgc2lnLnRvU3RyaW5nKCkudG9DaGFyQXJyYXkoKSk7CisJ
CWFyZXR1cm4oKTsKKwl9CisJCisJcmVtb3ZlVmFyaWFibGUobHZiMSk7CisJcmVtb3ZlVmFyaWFi
bGUobHZiMik7CisJZGVmYXVsdExhYmVsLnBsYWNlKCk7CisJZXJyb3JMYWJlbC5wbGFjZSgpOwor
CS8vIENvZGU6IHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oIkludmFsaWQgbGFt
YmRhIGRlc2VyaWFsaXphdGlvbiIpCisJbmV3XyhzY29wZS5nZXRKYXZhTGFuZ0lsbGVnYWxBcmd1
bWVudEV4Y2VwdGlvbigpKTsKKwlkdXAoKTsKKwlsZGMoIkludmFsaWQgbGFtYmRhIGRlc2VyaWFs
aXphdGlvbiIpOyAvLyROT04tTkxTLTEkIC8vIFRPRE8gaW50byBhIGNvbnN0YW50PwkJCisJLy8g
aW52b2tlc3BlY2lhbDogamF2YS5sYW5nLklsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi48aW5pdD4o
TGphdmEvbGFuZy9TdHJpbmc7KVYKKwlpbnZva2UoCisJCQlPcGNvZGVzLk9QQ19pbnZva2VzcGVj
aWFsLAorCQkJMiwgLy8gcmVjZWl2ZXJBbmRBcmdzU2l6ZQorCQkJMCwgLy8gcmV0dXJuIHR5cGUg
c2l6ZQorCQkJQ29uc3RhbnRQb29sLkphdmFMYW5nSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uQ29u
c3RhbnRQb29sTmFtZSwKKwkJCUNvbnN0YW50UG9vbC5Jbml0LAorCQkJQ29uc3RhbnRQb29sLkls
bGVnYWxBcmd1bWVudEV4Y2VwdGlvbkNvbnN0cnVjdG9yU2lnbmF0dXJlKTsKKwlhdGhyb3coKTsK
K30KKworLyoqCisgKiBCYXNlZCBvbiB0aGUgc3VwcGxpZWQgdmFsdWUgYWRkIHRoZSBtb3N0IGVm
ZmljaWVudCBsb2FkIGluc3RydWN0aW9uIHRvIHRoZSBjb2RlIHN0cmVhbSBmb3IgdGhhdCB2YWx1
ZS4KKyAqIE5vdGU6IERvZXMgbm90IGhhbmRsZSAgbmVnYXRpdmUgdmFsdWVzLgorICovCitwdWJs
aWMgdm9pZCBsb2FkSW50KGludCB2YWx1ZSkgeworCWlmICh2YWx1ZTw2KSB7CisJCWlmICh2YWx1
ZT09MCkgeworCQkJaWNvbnN0XzAoKTsKKwkJfSBlbHNlIGlmICh2YWx1ZT09MSkgeworCQkJaWNv
bnN0XzEoKTsKKwkJfSBlbHNlIGlmICh2YWx1ZT09MikgeworCQkJaWNvbnN0XzIoKTsKKwkJfSBl
bHNlIGlmICh2YWx1ZT09MykgeworCQkJaWNvbnN0XzMoKTsKKwkJfSBlbHNlIGlmICh2YWx1ZT09
NCkgeworCQkJaWNvbnN0XzQoKTsKKwkJfSBlbHNlIGlmICh2YWx1ZT09NSkgeworCQkJaWNvbnN0
XzUoKTsKKwkJfQorCX0gZWxzZSBpZiAodmFsdWUgPCAxMjgpIHsKKwkJLy8gVE9ETyBbYW5keV0g
dGVzdGNhc2VzIHRoYXQgaGl0IHRoaXMKKwkJYmlwdXNoKChieXRlKXZhbHVlKTsKKwl9IGVsc2Ug
eworCQkvLyBUT0RPIFthbmR5XSB0ZXN0Y2FzZXMgdGhhdCBoaXQgdGhpcywgeWlrZXMKKwkJbGRj
KHZhbHVlKTsKKwl9Cit9CisKIC8vc3RhdGljIFhbXSB2YWx1ZXMoKSB7CiAvLyBYW10gdmFsdWVz
OwogLy8gaW50IGxlbmd0aDsKQEAgLTI5MzAsNiArMzIwMCw3IEBAIHB1YmxpYyB2b2lkIGdlbmVy
YXRlVW5ib3hpbmdDb252ZXJzaW9uKGludCB1bmJveGVkVHlwZUlEKSB7CiAJfQogfQogCisKIC8q
CiAgKiBXaWRlIGNvbmRpdGlvbmFsIGJyYW5jaCBjb21wYXJlLCBpbXByb3ZlZCBieSBzd2FwcGlu
ZyBjb21wYXJpc29uIG9wY29kZQogICogICBpZmVxIFdpZGVUYXJnZXQKQEAgLTQ2NTgsNiArNDky
OSwxNiBAQCBwdWJsaWMgdm9pZCBpbnZva2VTdHJpbmdFcXVhbHMoKSB7CiAJCQlDb25zdGFudFBv
b2wuRXF1YWxzLAogCQkJQ29uc3RhbnRQb29sLkVxdWFsc1NpZ25hdHVyZSk7CiB9CitwdWJsaWMg
dm9pZCBpbnZva2VPYmplY3RFcXVhbHMoKSB7CisJLy8gaW52b2tldmlydHVhbDogamF2YS5sYW5n
Lk9iamVjdC5lcXVhbHMoKQorCWludm9rZSgKKwkJCU9wY29kZXMuT1BDX2ludm9rZXZpcnR1YWws
CisJCQkyLCAvLyByZWNlaXZlckFuZEFyZ3NTaXplCisJCQkxLCAvLyByZXR1cm4gdHlwZSBzaXpl
CisJCQlDb25zdGFudFBvb2wuSmF2YUxhbmdPYmplY3RDb25zdGFudFBvb2xOYW1lLAorCQkJQ29u
c3RhbnRQb29sLkVxdWFscywKKwkJCUNvbnN0YW50UG9vbC5FcXVhbHNTaWduYXR1cmUpOworfQog
cHVibGljIHZvaWQgaW52b2tlU3RyaW5nSGFzaENvZGUoKSB7CiAJLy8gaW52b2tldmlydHVhbDog
amF2YS5sYW5nLlN0cmluZy5oYXNoQ29kZSgpCiAJaW52b2tlKApkaWZmIC0tZ2l0IGEvb3JnLmVj
bGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVy
L2NvZGVnZW4vQ29uc3RhbnRQb29sLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wu
amF2YQppbmRleCAwNjE0NGFkLi4wYzQ2NDEzIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQu
Y29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9D
b25zdGFudFBvb2wuamF2YQorKysgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcv
ZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvY29kZWdlbi9Db25zdGFudFBvb2wuamF2YQpA
QCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMp
IDIwMDAsIDIwMTMgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMp
IDIwMDAsIDIwMTQgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJl
c2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBh
cmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBM
aWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQg
aXMgYXZhaWxhYmxlIGF0CkBAIC0xNiw2ICsxNiw4IEBACiAgKgkJCQkJCQlCdWcgNDA2OTgyIC0g
WzEuOF1bY29tcGlsZXJdIEdlbmVyYXRpb24gb2YgTWV0aG9kUGFyYW1ldGVycyBBdHRyaWJ1dGUg
aW4gY2xhc3NmaWxlCiAgKgkJCQkJCQlCdWcgNDE2ODg1IC0gWzEuOF1bY29tcGlsZXJdSW5jb21w
YXRpYmxlQ2xhc3NDaGFuZ2UgZXJyb3IgKGVkaXQpCiAgKgkJCQkJCQlCdWcgNDEyMTUzIC0gWzEu
OF1bY29tcGlsZXJdIENoZWNrIHZhbGlkaXR5IG9mIGFubm90YXRpb25zIHdoaWNoIG1heSBiZSBy
ZXBlYXRhYmxlCisgKiAgICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRA
Z29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAg
ICAgICAgQnVnIDQwNTEwNCAtIFsxLjhdW2NvbXBpbGVyXVtjb2RlZ2VuXSBJbXBsZW1lbnQgc3Vw
cG9ydCBmb3Igc2VyaWFsaXplYWJsZSBsYW1iZGFzCiAgKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8K
IHBhY2thZ2Ugb3JnLmVjbGlwc2UuamR0LmludGVybmFsLmNvbXBpbGVyLmNvZGVnZW47CiAKQEAg
LTE0Nyw2ICsxNDksNyBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGltcGxlbWVudHMgQ2xh
c3NGaWxlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBJ
TlZPS0VfTUVUSE9EX01FVEhPRF9TSUdOQVRVUkUgPSAiKExqYXZhL2xhbmcvT2JqZWN0O1tMamF2
YS9sYW5nL09iamVjdDspTGphdmEvbGFuZy9PYmplY3Q7Ii50b0NoYXJBcnJheSgpOyAvLyROT04t
TkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW11bXSBKQVZBX0xBTkdfUkVGTEVDVF9B
Q0NFU1NJQkxFT0JKRUNUID0gbmV3IGNoYXJbXVtdIHtUeXBlQ29uc3RhbnRzLkpBVkEsIFR5cGVD
b25zdGFudHMuTEFORywgVHlwZUNvbnN0YW50cy5SRUZMRUNULCAiQWNjZXNzaWJsZU9iamVjdCIu
dG9DaGFyQXJyYXkoKX07IC8vJE5PTi1OTFMtMSQKIAlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJb
XVtdIEpBVkFfTEFOR19SRUZMRUNUX0FSUkFZID0gbmV3IGNoYXJbXVtdIHtUeXBlQ29uc3RhbnRz
LkpBVkEsIFR5cGVDb25zdGFudHMuTEFORywgVHlwZUNvbnN0YW50cy5SRUZMRUNULCAiQXJyYXki
LnRvQ2hhckFycmF5KCl9OyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFy
W10gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uQ29uc3RydWN0b3JTaWduYXR1cmUgPSAiKExqYXZh
L2xhbmcvU3RyaW5nOylWIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJLy8gcHJlZGVm
aW5lZCB0eXBlIGNvbnN0YW50IG5hbWVzCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2
YUlvUHJpbnRTdHJlYW1TaWduYXR1cmUgPSAiTGphdmEvaW8vUHJpbnRTdHJlYW07Ii50b0NoYXJB
cnJheSgpOyAvLyROT04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxh
bmdBc3NlcnRpb25FcnJvckNvbnN0YW50UG9vbE5hbWUgPSAiamF2YS9sYW5nL0Fzc2VydGlvbkVy
cm9yIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCkBAIC0xODAsNiArMTgzLDcgQEAgcHVi
bGljIGNsYXNzIENvbnN0YW50UG9vbCBpbXBsZW1lbnRzIENsYXNzRmlsZUNvbnN0YW50cywgVHlw
ZUlkcyB7CiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdPYmplY3RTaWduYXR1
cmUgPSAiTGphdmEvbGFuZy9PYmplY3Q7Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJ
cHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gSmF2YUxhbmdTeXN0ZW1Db25zdGFudFBvb2xOYW1l
ID0gImphdmEvbGFuZy9TeXN0ZW0iLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKIAlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXSBKYXZhTGFuZ1Rocm93YWJsZUNvbnN0YW50UG9vbE5hbWUg
PSAiamF2YS9sYW5nL1Rocm93YWJsZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1
YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEphdmFMYW5nSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9u
Q29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIi50
b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCiAJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10g
SmF2YUxhbmdWb2lkQ29uc3RhbnRQb29sTmFtZSA9ICJqYXZhL2xhbmcvVm9pZCIudG9DaGFyQXJy
YXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEphdmFVdGls
SXRlcmF0b3JDb25zdGFudFBvb2xOYW1lID0gImphdmEvdXRpbC9JdGVyYXRvciIudG9DaGFyQXJy
YXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIExvbmdDb25z
dHJTaWduYXR1cmUgPSAiKEopViIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJApAQCAtMjY0
LDYgKzI2OCwyNyBAQCBwdWJsaWMgY2xhc3MgQ29uc3RhbnRQb29sIGltcGxlbWVudHMgQ2xhc3NG
aWxlQ29uc3RhbnRzLCBUeXBlSWRzIHsKIAkvLyBKYXZhIDggbGFtYmRhIHN1cHBvcnQKIAlwdWJs
aWMgc3RhdGljIGZpbmFsIGNoYXJbXSBNRVRBRkFDVE9SWSA9ICJtZXRhZmFjdG9yeSIudG9DaGFy
QXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEpBVkFf
TEFOR19JTlZPS0VfTEFNQkRBTUVUQUZBQ1RPUllfTUVUQUZBQ1RPUllfU0lHTkFUVVJFID0gIihM
amF2YS9sYW5nL2ludm9rZS9NZXRob2RIYW5kbGVzJExvb2t1cDtMamF2YS9sYW5nL1N0cmluZztM
amF2YS9sYW5nL2ludm9rZS9NZXRob2RUeXBlO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5cGU7
TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlO0xqYXZhL2xhbmcvaW52b2tlL01ldGhvZFR5
cGU7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5M
Uy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEFMVE1FVEFGQUNUT1JZID0gImFsdE1l
dGFmYWN0b3J5Ii50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBm
aW5hbCBjaGFyW10gSkFWQV9MQU5HX0lOVk9LRV9MQU1CREFNRVRBRkFDVE9SWV9BTFRNRVRBRkFD
VE9SWV9TSUdOQVRVUkUgPSAKKwkJCSIoTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRM
b29rdXA7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9pbnZva2UvTWV0aG9kVHlwZTtbTGph
dmEvbGFuZy9PYmplY3Q7KUxqYXZhL2xhbmcvaW52b2tlL0NhbGxTaXRlOyIudG9DaGFyQXJyYXko
KTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEphdmFMYW5nSW52
b2tlU2VyaWFsaXplZExhbWJkYSA9ICJMamF2YS9sYW5nL2ludm9rZS9TZXJpYWxpemVkTGFtYmRh
OyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hh
cltdIEphdmFMYW5nSW52b2tlU2VyaWFsaXplZExhbWJkYUNvbnN0YW50UG9vbE5hbWUgPSAiamF2
YS9sYW5nL2ludm9rZS9TZXJpYWxpemVkTGFtYmRhIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxT
LTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0SW1wbE1ldGhvZE5hbWUgPSAiZ2V0
SW1wbE1ldGhvZE5hbWUiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3Rh
dGljIGZpbmFsIGNoYXJbXSBHZXRJbXBsTWV0aG9kTmFtZVNpZ25hdHVyZSA9ICIoKUxqYXZhL2xh
bmcvU3RyaW5nOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMg
ZmluYWwgY2hhcltdIEdldEltcGxNZXRob2RLaW5kID0gImdldEltcGxNZXRob2RLaW5kIi50b0No
YXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0
SW1wbE1ldGhvZEtpbmRTaWduYXR1cmUgPSAiKClJIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxT
LTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0RnVuY3Rpb25hbEludGVyZmFjZUNs
YXNzID0gImdldEZ1bmN0aW9uYWxJbnRlcmZhY2VDbGFzcyIudG9DaGFyQXJyYXkoKTsgLy8kTk9O
LU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEZ1bmN0aW9uYWxJbnRlcmZh
Y2VDbGFzc1NpZ25hdHVyZSA9ICIoKUxqYXZhL2xhbmcvU3RyaW5nOyIudG9DaGFyQXJyYXkoKTsg
Ly8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEZ1bmN0aW9uYWxJ
bnRlcmZhY2VNZXRob2ROYW1lID0gImdldEZ1bmN0aW9uYWxJbnRlcmZhY2VNZXRob2ROYW1lIi50
b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10g
R2V0RnVuY3Rpb25hbEludGVyZmFjZU1ldGhvZE5hbWVTaWduYXR1cmUgPSAiKClMamF2YS9sYW5n
L1N0cmluZzsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZp
bmFsIGNoYXJbXSBHZXRGdW5jdGlvbmFsSW50ZXJmYWNlTWV0aG9kU2lnbmF0dXJlID0gImdldEZ1
bmN0aW9uYWxJbnRlcmZhY2VNZXRob2RTaWduYXR1cmUiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1O
TFMtMSQKKwlwdWJsaWMgc3RhdGljIGZpbmFsIGNoYXJbXSBHZXRGdW5jdGlvbmFsSW50ZXJmYWNl
TWV0aG9kU2lnbmF0dXJlU2lnbmF0dXJlID0gIigpTGphdmEvbGFuZy9TdHJpbmc7Ii50b0NoYXJB
cnJheSgpOyAvLyROT04tTkxTLTEkCisJcHVibGljIHN0YXRpYyBmaW5hbCBjaGFyW10gR2V0SW1w
bENsYXNzID0gImdldEltcGxDbGFzcyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1
YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldEltcGxDbGFzc1NpZ25hdHVyZSA9ICIoKUxqYXZh
L2xhbmcvU3RyaW5nOyIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0
aWMgZmluYWwgY2hhcltdIEdldEltcGxNZXRob2RTaWduYXR1cmUgPSAiZ2V0SW1wbE1ldGhvZFNp
Z25hdHVyZSIudG9DaGFyQXJyYXkoKTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmlu
YWwgY2hhcltdIEdldEltcGxNZXRob2RTaWduYXR1cmVTaWduYXR1cmUgPSAiKClMamF2YS9sYW5n
L1N0cmluZzsiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKKwlwdWJsaWMgc3RhdGljIGZp
bmFsIGNoYXJbXSBHZXRDYXB0dXJlZEFyZyA9ICJnZXRDYXB0dXJlZEFyZyIudG9DaGFyQXJyYXko
KTsgLy8kTk9OLU5MUy0xJAorCXB1YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEdldENhcHR1cmVk
QXJnU2lnbmF0dXJlID0gIihJKUxqYXZhL2xhbmcvT2JqZWN0OyIudG9DaGFyQXJyYXkoKTsgLy8k
Tk9OLU5MUy0xJAogCS8vIEphdmEgOCByZXBlYXRhYmxlIGFubm90YXRpb24gc3VwcG9ydAogCXB1
YmxpYyBzdGF0aWMgZmluYWwgY2hhcltdIEpBVkFfTEFOR19BTk5PVEFUSU9OX1JFUEVBVEFCTEUg
PSAiTGphdmEvbGFuZy9hbm5vdGF0aW9uL1JlcGVhdGFibGU7Ii50b0NoYXJBcnJheSgpOyAvLyRO
T04tTkxTLTEkCiAKZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29y
Zy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvSW50ZXJzZWN0aW9uQ2FzdFR5
cGVCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBz
ZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL0ludGVyc2VjdGlvbkNhc3RUeXBlQmluZGlu
Zy5qYXZhCmluZGV4IDFkYjU1OTMuLjk3ODc2OWQgMTAwNjQ0Ci0tLSBhL29yZy5lY2xpcHNlLmpk
dC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAv
SW50ZXJzZWN0aW9uQ2FzdFR5cGVCaW5kaW5nLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNv
cmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9JbnRl
cnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENvcnBvcmF0aW9u
IGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJNIENvcnBvcmF0aW9u
IGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhl
IHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29t
cGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0xMyw2ICsx
Myw4IEBACiAgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVu
dGF0aW9uCiAgKiAgICAgU3RlcGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlvbiBmb3IKICAqCQkJ
CQkJCUJ1ZyA0MjM1MDQgLSBbMS44XSBJbXBsZW1lbnQgIjE4LjUuMyBGdW5jdGlvbmFsIEludGVy
ZmFjZSBQYXJhbWV0ZXJpemF0aW9uIEluZmVyZW5jZSIKKyAqICAgICBBbmR5IENsZW1lbnQgKEdv
UGl2b3RhbCwgSW5jKSBhY2xlbWVudEBnb3Bpdm90YWwuY29tIC0gQ29udHJpYnV0aW9ucyBmb3IK
KyAqICAgICAgICAgICAgICAgICAgICAgICAgICBCdWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJd
W2NvZGVnZW5dIEltcGxlbWVudCBzdXBwb3J0IGZvciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKICAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLwogCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5h
bC5jb21waWxlci5sb29rdXA7CkBAIC0xNzksNCArMTgxLDIyIEBAIHB1YmxpYyBjbGFzcyBJbnRl
cnNlY3Rpb25DYXN0VHlwZUJpbmRpbmcgZXh0ZW5kcyBSZWZlcmVuY2VCaW5kaW5nIHsKIAlwdWJs
aWMgU3RyaW5nIHRvU3RyaW5nKCkgewogCSAgICByZXR1cm4gZGVidWdOYW1lKCk7CiAJfQorCisJ
cHVibGljIFR5cGVCaW5kaW5nIGdldFNBTVR5cGUoU2NvcGUgc2NvcGUpIHsKKwkJVHlwZUJpbmRp
bmcgc2FtVHlwZSA9IG51bGw7CisJCWZvciAoaW50IGkgPSAwLCBtYXggPSB0aGlzLmludGVyc2Vj
dGluZ1R5cGVzLmxlbmd0aDsgaSA8IG1heDsgaSsrKSB7CisJCQlUeXBlQmluZGluZyB0eXBlQmlu
ZGluZyA9IHRoaXMuaW50ZXJzZWN0aW5nVHlwZXNbaV07CisJCQlNZXRob2RCaW5kaW5nIG1ldGhv
ZEJpbmRpbmcgPSB0eXBlQmluZGluZy5nZXRTaW5nbGVBYnN0cmFjdE1ldGhvZChzY29wZSwgZmFs
c2UpOworCQkJLy8gV2h5IGRvZXNuJ3QgZ2V0U2luZ2xlQWJzdHJhY3RNZXRob2QgZG8gYXMgdGhl
IGphdmFkb2Mgc2F5cywgYW5kIHJldHVybiBudWxsCisJCQkvLyB3aGVuIGl0IGlzIG5vdCBhIFNB
TSB0eXBlCisJCQlpZiAobWV0aG9kQmluZGluZyBpbnN0YW5jZW9mIFByb2JsZW1NZXRob2RCaW5k
aW5nICYmICgoUHJvYmxlbU1ldGhvZEJpbmRpbmcpbWV0aG9kQmluZGluZykucHJvYmxlbUlkKCk9
PVByb2JsZW1SZWFzb25zLk5vU3VjaFNpbmdsZUFic3RyYWN0TWV0aG9kKSB7CisJCQkJY29udGlu
dWU7CisJCQl9CisJCQlpZiAoc2FtVHlwZSE9bnVsbCkgeworCQkJCXJldHVybiBudWxsOyAvLyBU
aGVyZSBpcyBtb3JlIHRoYW4gb25lICghKSwgc28gd2UgZG9uJ3Qga25vdyB3aGljaAorCQkJfQor
CQkJc2FtVHlwZSA9IHR5cGVCaW5kaW5nOworCQl9CisJCXJldHVybiBzYW1UeXBlOworCX0KIH0K
ZGlmZiAtLWdpdCBhL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pk
dC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU2NvcGUuamF2YSBiL29yZy5lY2xpcHNlLmpkdC5j
b3JlL2NvbXBpbGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU2Nv
cGUuamF2YQppbmRleCAzMTliYWRmLi4zOWU2ODJjIDEwMDY0NAotLS0gYS9vcmcuZWNsaXBzZS5q
ZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3Vw
L1Njb3BlLmphdmEKKysrIGIvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlw
c2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9TY29wZS5qYXZhCkBAIC0xLDUgKzEsNSBA
QAogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKLSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxMyBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAxNCBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWls
YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAog
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQKQEAgLTI4LDYgKzI4LDggQEAKICAqICAgICBKZXNwZXIgUyBNb2xsZXIgLSBDb250cmlidXRp
b25zIGZvcgogICoJCQkJCQkJCUJ1ZyAzNzg2NzQgLSAiVGhlIG1ldGhvZCBjYW4gYmUgZGVjbGFy
ZWQgYXMgc3RhdGljIiBpcyB3cm9uZwogICogIAkJCQkJCQlCdWcgNDA1MDY2IC0gWzEuOF1bY29t
cGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBjb2RlIGdlbmVyYXRpb24gaW5mcmFzdHJ1Y3R1cmUg
Zm9yIEpTUjMzNQorICogICAgIEFuZHkgQ2xlbWVudCAoR29QaXZvdGFsLCBJbmMpIGFjbGVtZW50
QGdvcGl2b3RhbC5jb20gLSBDb250cmlidXRpb25zIGZvcgorICogICAgICAgICAgICAgICAgICAg
ICAgICAgIAlCdWcgNDA1MTA0IC0gWzEuOF1bY29tcGlsZXJdW2NvZGVnZW5dIEltcGxlbWVudCBz
dXBwb3J0IGZvciBzZXJpYWxpemVhYmxlIGxhbWJkYXMKICAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
LwogcGFja2FnZSBvcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuY29tcGlsZXIubG9va3VwOwogCkBA
IC0yNjgyLDYgKzI2ODQsMTIgQEAgcHVibGljIGFic3RyYWN0IGNsYXNzIFNjb3BlIHsKIAkJdW5p
dFNjb3BlLnJlY29yZFF1YWxpZmllZFJlZmVyZW5jZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19J
TlZPS0VfTEFNQkRBTUVUQUZBQ1RPUlkpOwogCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25tZW50
LmdldFJlc29sdmVkVHlwZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTlZPS0VfTEFNQkRBTUVU
QUZBQ1RPUlksIHRoaXMpOwogCX0KKwkKKwlwdWJsaWMgZmluYWwgUmVmZXJlbmNlQmluZGluZyBn
ZXRKYXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGEoKSB7CisJCUNvbXBpbGF0aW9uVW5pdFNj
b3BlIHVuaXRTY29wZSA9IGNvbXBpbGF0aW9uVW5pdFNjb3BlKCk7CisJCXVuaXRTY29wZS5yZWNv
cmRRdWFsaWZpZWRSZWZlcmVuY2UoVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfSU5WT0tFX1NFUklB
TElaRURMQU1CREEpOworCQlyZXR1cm4gdW5pdFNjb3BlLmVudmlyb25tZW50LmdldFJlc29sdmVk
VHlwZShUeXBlQ29uc3RhbnRzLkpBVkFfTEFOR19JTlZPS0VfU0VSSUFMSVpFRExBTUJEQSwgdGhp
cyk7CisJfQogCiAJcHVibGljIGZpbmFsIFJlZmVyZW5jZUJpbmRpbmcgZ2V0SmF2YUxhbmdJbnZv
a2VNZXRob2RIYW5kbGVzTG9va3VwKCkgewogCQlDb21waWxhdGlvblVuaXRTY29wZSB1bml0U2Nv
cGUgPSBjb21waWxhdGlvblVuaXRTY29wZSgpOwpAQCAtMjcxMiw2ICsyNzIwLDEzIEBAIHB1Ymxp
YyBhYnN0cmFjdCBjbGFzcyBTY29wZSB7CiAJCXVuaXRTY29wZS5yZWNvcmRRdWFsaWZpZWRSZWZl
cmVuY2UoVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfVEhST1dBQkxFKTsKIAkJcmV0dXJuIHVuaXRT
Y29wZS5lbnZpcm9ubWVudC5nZXRSZXNvbHZlZFR5cGUoVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdf
VEhST1dBQkxFLCB0aGlzKTsKIAl9CisJCisJcHVibGljIGZpbmFsIFJlZmVyZW5jZUJpbmRpbmcg
Z2V0SmF2YUxhbmdJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKSB7CisJCUNvbXBpbGF0aW9uVW5p
dFNjb3BlIHVuaXRTY29wZSA9IGNvbXBpbGF0aW9uVW5pdFNjb3BlKCk7CisJCXVuaXRTY29wZS5y
ZWNvcmRRdWFsaWZpZWRSZWZlcmVuY2UoVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfSUxMRUdBTEFS
R1VNRU5URVhDRVBUSU9OKTsKKwkJcmV0dXJuIHVuaXRTY29wZS5lbnZpcm9ubWVudC5nZXRSZXNv
bHZlZFR5cGUoVHlwZUNvbnN0YW50cy5KQVZBX0xBTkdfSUxMRUdBTEFSR1VNRU5URVhDRVBUSU9O
LCB0aGlzKTsKKwl9CisJCiAJcHVibGljIGZpbmFsIFJlZmVyZW5jZUJpbmRpbmcgZ2V0SmF2YVV0
aWxJdGVyYXRvcigpIHsKIAkJQ29tcGlsYXRpb25Vbml0U2NvcGUgdW5pdFNjb3BlID0gY29tcGls
YXRpb25Vbml0U2NvcGUoKTsKIAkJdW5pdFNjb3BlLnJlY29yZFF1YWxpZmllZFJlZmVyZW5jZShU
eXBlQ29uc3RhbnRzLkpBVkFfVVRJTF9JVEVSQVRPUik7CmRpZmYgLS1naXQgYS9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9v
a3VwL1NvdXJjZVR5cGVCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxl
ci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1NvdXJjZVR5cGVCaW5k
aW5nLmphdmEKaW5kZXggMjE1ODg0Zi4uZmM4MjExYiAxMDA2NDQKLS0tIGEvb3JnLmVjbGlwc2Uu
amR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1
cC9Tb3VyY2VUeXBlQmluZGluZy5qYXZhCisrKyBiL29yZy5lY2xpcHNlLmpkdC5jb3JlL2NvbXBp
bGVyL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9jb21waWxlci9sb29rdXAvU291cmNlVHlwZUJp
bmRpbmcuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBD
b3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBD
b3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJp
YnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0zNCw4ICszNCwxMCBAQAogICoJCQkJCQkJ
CUJ1ZyA0MTcyOTUgLSBbMS44W1tudWxsXSBNYXNzYWdlIHR5cGUgYW5ub3RhdGVkIG51bGwgYW5h
bHlzaXMgdG8gZ2VsIHdlbGwgd2l0aCBkZWVwIGVuY29kZWQgdHlwZSBiaW5kaW5ncy4KICAqICAg
ICAgSmVzcGVyIFMgTW9sbGVyIDxqZXNwZXJAc2Vsc2thYmV0Lm9yZz4gLSAgQ29udHJpYnV0aW9u
cyBmb3IKICAqCQkJCQkJCQlCdWcgNDEyMTUzIC0gWzEuOF1bY29tcGlsZXJdIENoZWNrIHZhbGlk
aXR5IG9mIGFubm90YXRpb25zIHdoaWNoIG1heSBiZSByZXBlYXRhYmxlCi0gKiAgICAgVGlsbCBC
cnljaGN5IC0gQ29udHJpYnV0aW9ucyBmb3IKKyAqICAgICAgVGlsbCBCcnljaGN5IC0gQ29udHJp
YnV0aW9ucyBmb3IKICAqICAgICAJCQkJCQkJYnVnIDQxNTI2OSAtIE5vbk51bGxCeURlZmF1bHQg
aXMgbm90IGFsd2F5cyBpbmhlcml0ZWQgdG8gbmVzdGVkIGNsYXNzZXMKKyAqICAgICAgQW5keSBD
bGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1
dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgCUJ1ZyA0MDUxMDQgLSBbMS44
XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUg
bGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpk
dC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7CiAKQEAgLTYwMSw2ICs2MDMsMTcgQEAgcHVibGlj
IFN5bnRoZXRpY01ldGhvZEJpbmRpbmcgYWRkU3ludGhldGljTWV0aG9kKExhbWJkYUV4cHJlc3Np
b24gbGFtYmRhKSB7CiAJfSBlbHNlIHsKIAkJbGFtYmRhTWV0aG9kID0gbGFtYmRhTWV0aG9kc1sw
XTsKIAl9CisJCisJLy8gQ3JlYXRlIGEgJGRlc2VyaWFsaXplTGFtYmRhJCBtZXRob2QgaWYgbmVj
ZXNzYXJ5LCBvbmUgaXMgc2hhcmVkIGFtb25nc3QgYWxsIGxhbWJkYXMKKwlpZiAobGFtYmRhLmlz
U2VyaWFsaXphYmxlKSB7CisJCVN5bnRoZXRpY01ldGhvZEJpbmRpbmdbXSBkZXNlcmlhbGl6ZUxh
bWJkYU1ldGhvZHMgPSAoU3ludGhldGljTWV0aG9kQmluZGluZ1tdKSB0aGlzLnN5bnRoZXRpY3Nb
U291cmNlVHlwZUJpbmRpbmcuTUVUSE9EX0VNVUxdLmdldChUeXBlQ29uc3RhbnRzLkRFU0VSSUFM
SVpFX0xBTUJEQSk7CisJCWlmIChkZXNlcmlhbGl6ZUxhbWJkYU1ldGhvZHMgPT0gbnVsbCkgewor
CQkJU3ludGhldGljTWV0aG9kQmluZGluZyBkZXNlcmlhbGl6ZUxhbWJkYU1ldGhvZCA9IG5ldyBT
eW50aGV0aWNNZXRob2RCaW5kaW5nKHRoaXMpOworCQkJdGhpcy5zeW50aGV0aWNzW1NvdXJjZVR5
cGVCaW5kaW5nLk1FVEhPRF9FTVVMXS5wdXQoVHlwZUNvbnN0YW50cy5ERVNFUklBTElaRV9MQU1C
REEsZGVzZXJpYWxpemVMYW1iZGFNZXRob2RzID0gbmV3IFN5bnRoZXRpY01ldGhvZEJpbmRpbmdb
MV0pOworCQkJZGVzZXJpYWxpemVMYW1iZGFNZXRob2RzWzBdID0gZGVzZXJpYWxpemVMYW1iZGFN
ZXRob2Q7CisJCX0KKwl9CisJCiAJcmV0dXJuIGxhbWJkYU1ldGhvZDsKIH0KIApkaWZmIC0tZ2l0
IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2VjbGlwc2UvamR0L2ludGVybmFs
L2NvbXBpbGVyL2xvb2t1cC9TeW50aGV0aWNNZXRob2RCaW5kaW5nLmphdmEgYi9vcmcuZWNsaXBz
ZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIvbG9v
a3VwL1N5bnRoZXRpY01ldGhvZEJpbmRpbmcuamF2YQppbmRleCBiMjkzYWQ0Li5kMTE4MDViIDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1N5bnRoZXRpY01ldGhvZEJpbmRpbmcuamF2YQorKysg
Yi9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwv
Y29tcGlsZXIvbG9va3VwL1N5bnRoZXRpY01ldGhvZEJpbmRpbmcuamF2YQpAQCAtMSw1ICsxLDUg
QEAKIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAK
ICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0CkBAIC0xMyw2ICsxMyw4IEBACiAgKgkJSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkg
YW5kIGltcGxlbWVudGF0aW9uCiAgKgkJU3RlcGhhbiBIZXJybWFubiAtIENvbnRyaWJ1dGlvbiBm
b3IKICAqCQkJCQkJCQlidWcgNDAwNzEwIC0gWzEuOF1bY29tcGlsZXJdIHN5bnRoZXRpYyBhY2Nl
c3MgdG8gZGVmYXVsdCBtZXRob2QgZ2VuZXJhdGVzIHdyb25nIGNvZGUKKyAqICAgICAgQW5keSBD
bGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1lbnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1
dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAgICAgICAgICAgCUJ1ZyA0MDUxMDQgLSBbMS44
XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUg
bGFtYmRhcwogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpk
dC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7CiAKQEAgLTUyLDYgKzU0LDcgQEAgcHVibGljIGNs
YXNzIFN5bnRoZXRpY01ldGhvZEJpbmRpbmcgZXh0ZW5kcyBNZXRob2RCaW5kaW5nIHsKIAlwdWJs
aWMgZmluYWwgc3RhdGljIGludCBBcnJheUNvbnN0cnVjdG9yID0gMTQ7IC8vIFhbXTo6bmV3CiAJ
cHVibGljIHN0YXRpYyBmaW5hbCBpbnQgQXJyYXlDbG9uZSA9IDE1OyAvLyBYW106OmNsb25lCiAg
ICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRmFjdG9yeU1ldGhvZCA9IDE2OyAvLyBmb3IgaW5k
eSBjYWxsIHRvIHByaXZhdGUgY29uc3RydWN0b3IuCisgICAgcHVibGljIHN0YXRpYyBmaW5hbCBp
bnQgRGVzZXJpYWxpemVMYW1iZGEgPSAxNzsgLy8gRm9yIHN1cHBvcnRpbmcgbGFtYmRhIGRlc2Vy
aWFsaXphdGlvbi4KICAgICAKIAlwdWJsaWMgaW50IHNvdXJjZVN0YXJ0ID0gMDsgLy8gc3RhcnQg
cG9zaXRpb24gb2YgdGhlIG1hdGNoaW5nIGRlY2xhcmF0aW9uCiAJcHVibGljIGludCBpbmRleDsg
Ly8gdXNlZCBmb3Igc29ydGluZyBhY2Nlc3MgbWV0aG9kcyBpbiB0aGUgY2xhc3MgZmlsZQpAQCAt
Mjg0LDYgKzI4NywyMyBAQCBwdWJsaWMgY2xhc3MgU3ludGhldGljTWV0aG9kQmluZGluZyBleHRl
bmRzIE1ldGhvZEJpbmRpbmcgewogCX0KIAkKIAkvKioKKwkgKiBDb25zdHJ1Y3QgJGRlc2VyaWFs
aXplTGFtYmRhJCBtZXRob2QKKwkgKi8KKwlwdWJsaWMgU3ludGhldGljTWV0aG9kQmluZGluZyhT
b3VyY2VUeXBlQmluZGluZyBkZWNsYXJpbmdDbGFzcykgeworCQl0aGlzLmRlY2xhcmluZ0NsYXNz
ID0gZGVjbGFyaW5nQ2xhc3M7CisJCXRoaXMuc2VsZWN0b3IgPSBUeXBlQ29uc3RhbnRzLkRFU0VS
SUFMSVpFX0xBTUJEQTsKKwkJdGhpcy5tb2RpZmllcnMgPSBDbGFzc0ZpbGVDb25zdGFudHMuQWNj
UHJpdmF0ZSB8IENsYXNzRmlsZUNvbnN0YW50cy5BY2NTdGF0aWMgfCBDbGFzc0ZpbGVDb25zdGFu
dHMuQWNjU3ludGhldGljOworCQl0aGlzLnRhZ0JpdHMgfD0gKFRhZ0JpdHMuQW5ub3RhdGlvblJl
c29sdmVkIHwgVGFnQml0cy5EZXByZWNhdGVkQW5ub3RhdGlvblJlc29sdmVkKTsKKwkJdGhpcy50
aHJvd25FeGNlcHRpb25zID0gQmluZGluZy5OT19FWENFUFRJT05TOworCQl0aGlzLnJldHVyblR5
cGUgPSBkZWNsYXJpbmdDbGFzcy5zY29wZS5nZXRKYXZhTGFuZ09iamVjdCgpOworCSAgICB0aGlz
LnBhcmFtZXRlcnMgPSBuZXcgVHlwZUJpbmRpbmdbXXtkZWNsYXJpbmdDbGFzcy5zY29wZS5nZXRK
YXZhTGFuZ0ludm9rZVNlcmlhbGl6ZWRMYW1iZGEoKX07CisJICAgIHRoaXMucHVycG9zZSA9IFN5
bnRoZXRpY01ldGhvZEJpbmRpbmcuRGVzZXJpYWxpemVMYW1iZGE7CisJCVN5bnRoZXRpY01ldGhv
ZEJpbmRpbmdbXSBrbm93bkFjY2Vzc01ldGhvZHMgPSBkZWNsYXJpbmdDbGFzcy5zeW50aGV0aWNN
ZXRob2RzKCk7CisJCWludCBtZXRob2RJZCA9IGtub3duQWNjZXNzTWV0aG9kcyA9PSBudWxsID8g
MCA6IGtub3duQWNjZXNzTWV0aG9kcy5sZW5ndGg7CisJCXRoaXMuaW5kZXggPSBtZXRob2RJZDsK
Kwl9CisJCisJLyoqCiAJICogQ29uc3RydWN0IGVudW0gc3BlY2lhbCBtZXRob2RzOiB2YWx1ZXMg
b3IgdmFsdWVPZiBtZXRob2RzCiAJICovCiAJcHVibGljIFN5bnRoZXRpY01ldGhvZEJpbmRpbmco
U291cmNlVHlwZUJpbmRpbmcgZGVjbGFyaW5nRW51bSwgaW50IHN0YXJ0SW5kZXgsIGludCBlbmRJ
bmRleCkgewpkaWZmIC0tZ2l0IGEvb3JnLmVjbGlwc2UuamR0LmNvcmUvY29tcGlsZXIvb3JnL2Vj
bGlwc2UvamR0L2ludGVybmFsL2NvbXBpbGVyL2xvb2t1cC9UeXBlQ29uc3RhbnRzLmphdmEgYi9v
cmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29t
cGlsZXIvbG9va3VwL1R5cGVDb25zdGFudHMuamF2YQppbmRleCBmYWRhMjg2Li4zYjFmMzg2IDEw
MDY0NAotLS0gYS9vcmcuZWNsaXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQv
aW50ZXJuYWwvY29tcGlsZXIvbG9va3VwL1R5cGVDb25zdGFudHMuamF2YQorKysgYi9vcmcuZWNs
aXBzZS5qZHQuY29yZS9jb21waWxlci9vcmcvZWNsaXBzZS9qZHQvaW50ZXJuYWwvY29tcGlsZXIv
bG9va3VwL1R5cGVDb25zdGFudHMuamF2YQpAQCAtMSw1ICsxLDUgQEAKIC8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTMgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMTQgSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFu
aWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0yMSw2ICsyMSw4
IEBACiAgKiAgICBKZXNwZXIgUyBNb2xsZXIgLSBDb250cmlidXRpb25zIGZvcgogICoJCQkJCQkJ
CUJ1ZyA0MDUwNjYgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVtZW50IGNvZGUgZ2Vu
ZXJhdGlvbiBpbmZyYXN0cnVjdHVyZSBmb3IgSlNSMzM1CiAgKgkJCQkJCQkJQnVnIDQxMjE1MyAt
IFsxLjhdW2NvbXBpbGVyXSBDaGVjayB2YWxpZGl0eSBvZiBhbm5vdGF0aW9ucyB3aGljaCBtYXkg
YmUgcmVwZWF0YWJsZQorICogICAgQW5keSBDbGVtZW50IChHb1Bpdm90YWwsIEluYykgYWNsZW1l
bnRAZ29waXZvdGFsLmNvbSAtIENvbnRyaWJ1dGlvbnMgZm9yCisgKiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIEJ1ZyA0MDUxMDQgLSBbMS44XVtjb21waWxlcl1bY29kZWdlbl0gSW1wbGVt
ZW50IHN1cHBvcnQgZm9yIHNlcmlhbGl6ZWFibGUgbGFtYmRhcwogICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmpkdC5pbnRlcm5hbC5jb21waWxlci5sb29rdXA7
CiAKQEAgLTkyLDYgKzk0LDcgQEAgcHVibGljIGludGVyZmFjZSBUeXBlQ29uc3RhbnRzIHsKICAg
ICBjaGFyW10gVVBQRVJfQU5OT1RBVElPTl9UWVBFID0gIkFOTk9UQVRJT05fVFlQRSIudG9DaGFy
QXJyYXkoKTsgLy8kTk9OLU5MUy0xJAogICAgIGNoYXJbXSBVUFBFUl9QQUNLQUdFID0gIlBBQ0tB
R0UiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKICAgICBjaGFyW10gQU5PTllNT1VTX01F
VEhPRCA9ICJsYW1iZGEkIi50b0NoYXJBcnJheSgpOyAvLyROT04tTkxTLTEkCisgICAgY2hhcltd
IERFU0VSSUFMSVpFX0xBTUJEQSA9ICIkZGVzZXJpYWxpemVMYW1iZGEkIi50b0NoYXJBcnJheSgp
OyAvLyROT04tTkxTLTEkCiAgICAgCiAJLy8ganNyMzA4CiAJY2hhcltdIFRZUEVfVVNFX1RBUkdF
VCAgPSAiVFlQRV9VU0UiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQKQEAgLTE5Myw2ICsx
OTYsNyBAQCBwdWJsaWMgaW50ZXJmYWNlIFR5cGVDb25zdGFudHMgewogCQkJIk1ldGhvZEhhbmRs
ZSRQb2x5bW9ycGhpY1NpZ25hdHVyZSIudG9DaGFyQXJyYXkoKSAvLyROT04tTkxTLTEkCiAJfTsK
IAljaGFyW11bXSBKQVZBX0xBTkdfSU5WT0tFX0xBTUJEQU1FVEFGQUNUT1JZID0ge0pBVkEsIExB
TkcsIElOVk9LRSwgIkxhbWJkYU1ldGFmYWN0b3J5Ii50b0NoYXJBcnJheSgpfTsgLy8kTk9OLU5M
Uy0xJAorCWNoYXJbXVtdIEpBVkFfTEFOR19JTlZPS0VfU0VSSUFMSVpFRExBTUJEQSA9IHtKQVZB
LCBMQU5HLCBJTlZPS0UsICJTZXJpYWxpemVkTGFtYmRhIi50b0NoYXJBcnJheSgpfTsgLy8kTk9O
LU5MUy0xJAogCWNoYXJbXVtdIEpBVkFfTEFOR19JTlZPS0VfTUVUSE9ESEFORExFUyA9IHtKQVZB
LCBMQU5HLCBJTlZPS0UsICJNZXRob2RIYW5kbGVzIi50b0NoYXJBcnJheSgpfTsgLy8kTk9OLU5M
Uy0xJAogCWNoYXJbXVtdIEpBVkFfTEFOR19BVVRPQ0xPU0VBQkxFID0gIHtKQVZBLCBMQU5HLCAi
QXV0b0Nsb3NlYWJsZSIudG9DaGFyQXJyYXkoKX07IC8vJE5PTi1OTFMtMSQKIAljaGFyW10gQ0xP
U0UgPSAiY2xvc2UiLnRvQ2hhckFycmF5KCk7IC8vJE5PTi1OTFMtMSQK
</data>

          </attachment>
      

    </bug>

</bugzilla>